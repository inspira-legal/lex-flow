(function(Ve,aa){typeof exports=="object"&&typeof module<"u"?aa(exports):typeof define=="function"&&define.amd?define(["exports"],aa):(Ve=typeof globalThis<"u"?globalThis:Ve||self,aa(Ve.LexFlowEditor={}))})(this,(function(Ve){"use strict";function aa(n){var r,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(r=0;r<s;r++)n[r]&&(i=aa(n[r]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function Qf(){for(var n,r,i=0,o="",s=arguments.length;i<s;i++)(n=arguments[i])&&(r=aa(n))&&(o&&(o+=" "),o+=r);return o}const Wy=(n,r)=>{const i=new Array(n.length+r.length);for(let o=0;o<n.length;o++)i[o]=n[o];for(let o=0;o<r.length;o++)i[n.length+o]=r[o];return i},Zy=(n,r)=>({classGroupId:n,validator:r}),Kf=(n=new Map,r=null,i)=>({nextPart:n,validators:r,classGroupId:i}),Ni="-",Ff=[],Qy="arbitrary..",Ky=n=>{const r=Jy(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return Fy(d);const p=d.split(Ni),m=p[0]===""&&p.length>1?1:0;return Jf(p,m,r)},getConflictingClassGroupIds:(d,p)=>{if(p){const m=o[d],g=i[d];return m?g?Wy(g,m):m:g||Ff}return i[d]||Ff}}},Jf=(n,r,i)=>{if(n.length-r===0)return i.classGroupId;const s=n[r],u=i.nextPart.get(s);if(u){const g=Jf(n,r+1,u);if(g)return g}const d=i.validators;if(d===null)return;const p=r===0?n.join(Ni):n.slice(r).join(Ni),m=d.length;for(let g=0;g<m;g++){const y=d[g];if(y.validator(p))return y.classGroupId}},Fy=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=n.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?Qy+o:void 0})(),Jy=n=>{const{theme:r,classGroups:i}=n;return Py(i,r)},Py=(n,r)=>{const i=Kf();for(const o in n){const s=n[o];ms(s,i,o,r)}return i},ms=(n,r,i,o)=>{const s=n.length;for(let u=0;u<s;u++){const d=n[u];eb(d,r,i,o)}},eb=(n,r,i,o)=>{if(typeof n=="string"){tb(n,r,i);return}if(typeof n=="function"){nb(n,r,i,o);return}lb(n,r,i,o)},tb=(n,r,i)=>{const o=n===""?r:Pf(r,n);o.classGroupId=i},nb=(n,r,i,o)=>{if(ab(n)){ms(n(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(Zy(i,n))},lb=(n,r,i,o)=>{const s=Object.entries(n),u=s.length;for(let d=0;d<u;d++){const[p,m]=s[d];ms(m,Pf(r,p),i,o)}},Pf=(n,r)=>{let i=n;const o=r.split(Ni),s=o.length;for(let u=0;u<s;u++){const d=o[u];let p=i.nextPart.get(d);p||(p=Kf(),i.nextPart.set(d,p)),i=p}return i},ab=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,rb=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const s=(u,d)=>{i[u]=d,r++,r>n&&(r=0,o=i,i=Object.create(null))};return{get(u){let d=i[u];if(d!==void 0)return d;if((d=o[u])!==void 0)return s(u,d),d},set(u,d){u in i?i[u]=d:s(u,d)}}},gs="!",ed=":",ib=[],td=(n,r,i,o,s)=>({modifiers:n,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:s}),ob=n=>{const{prefix:r,experimentalParseClassName:i}=n;let o=s=>{const u=[];let d=0,p=0,m=0,g;const y=s.length;for(let v=0;v<y;v++){const j=s[v];if(d===0&&p===0){if(j===ed){u.push(s.slice(m,v)),m=v+1;continue}if(j==="/"){g=v;continue}}j==="["?d++:j==="]"?d--:j==="("?p++:j===")"&&p--}const b=u.length===0?s:s.slice(m);let N=b,S=!1;b.endsWith(gs)?(N=b.slice(0,-1),S=!0):b.startsWith(gs)&&(N=b.slice(1),S=!0);const w=g&&g>m?g-m:void 0;return td(u,S,N,w)};if(r){const s=r+ed,u=o;o=d=>d.startsWith(s)?u(d.slice(s.length)):td(ib,!1,d,void 0,!0)}if(i){const s=o;o=u=>i({className:u,parseClassName:s})}return o},sb=n=>{const r=new Map;return n.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let s=[];for(let u=0;u<i.length;u++){const d=i[u],p=d[0]==="[",m=r.has(d);p||m?(s.length>0&&(s.sort(),o.push(...s),s=[]),o.push(d)):s.push(d)}return s.length>0&&(s.sort(),o.push(...s)),o}},cb=n=>({cache:rb(n.cacheSize),parseClassName:ob(n),sortModifiers:sb(n),...Ky(n)}),ub=/\s+/,fb=(n,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:s,sortModifiers:u}=r,d=[],p=n.trim().split(ub);let m="";for(let g=p.length-1;g>=0;g-=1){const y=p[g],{isExternal:b,modifiers:N,hasImportantModifier:S,baseClassName:w,maybePostfixModifierPosition:v}=i(y);if(b){m=y+(m.length>0?" "+m:m);continue}let j=!!v,O=o(j?w.substring(0,v):w);if(!O){if(!j){m=y+(m.length>0?" "+m:m);continue}if(O=o(w),!O){m=y+(m.length>0?" "+m:m);continue}j=!1}const A=N.length===0?"":N.length===1?N[0]:u(N).join(":"),X=S?A+gs:A,$=X+O;if(d.indexOf($)>-1)continue;d.push($);const V=s(O,j);for(let B=0;B<V.length;++B){const H=V[B];d.push(X+H)}m=y+(m.length>0?" "+m:m)}return m},db=(...n)=>{let r=0,i,o,s="";for(;r<n.length;)(i=n[r++])&&(o=nd(i))&&(s&&(s+=" "),s+=o);return s},nd=n=>{if(typeof n=="string")return n;let r,i="";for(let o=0;o<n.length;o++)n[o]&&(r=nd(n[o]))&&(i&&(i+=" "),i+=r);return i},hb=(n,...r)=>{let i,o,s,u;const d=m=>{const g=r.reduce((y,b)=>b(y),n());return i=cb(g),o=i.cache.get,s=i.cache.set,u=p,p(m)},p=m=>{const g=o(m);if(g)return g;const y=fb(m,i);return s(m,y),y};return u=d,(...m)=>u(db(...m))},pb=[],mt=n=>{const r=i=>i[n]||pb;return r.isThemeGetter=!0,r},ld=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ad=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mb=/^\d+\/\d+$/,gb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ra=n=>mb.test(n),Oe=n=>!!n&&!Number.isNaN(Number(n)),Qn=n=>!!n&&Number.isInteger(Number(n)),xs=n=>n.endsWith("%")&&Oe(n.slice(0,-1)),An=n=>gb.test(n),wb=()=>!0,Sb=n=>xb.test(n)&&!yb.test(n),rd=()=>!1,Eb=n=>bb.test(n),Nb=n=>vb.test(n),jb=n=>!pe(n)&&!me(n),Cb=n=>ia(n,ud,rd),pe=n=>ld.test(n),Tl=n=>ia(n,fd,Sb),ys=n=>ia(n,Mb,Oe),id=n=>ia(n,sd,rd),Ab=n=>ia(n,cd,Nb),ji=n=>ia(n,dd,Eb),me=n=>ad.test(n),rr=n=>oa(n,fd),Ob=n=>oa(n,Db),od=n=>oa(n,sd),_b=n=>oa(n,ud),Tb=n=>oa(n,cd),Ci=n=>oa(n,dd,!0),ia=(n,r,i)=>{const o=ld.exec(n);return o?o[1]?r(o[1]):i(o[2]):!1},oa=(n,r,i=!1)=>{const o=ad.exec(n);return o?o[1]?r(o[1]):i:!1},sd=n=>n==="position"||n==="percentage",cd=n=>n==="image"||n==="url",ud=n=>n==="length"||n==="size"||n==="bg-size",fd=n=>n==="length",Mb=n=>n==="number",Db=n=>n==="family-name",dd=n=>n==="shadow",kb=hb(()=>{const n=mt("color"),r=mt("font"),i=mt("text"),o=mt("font-weight"),s=mt("tracking"),u=mt("leading"),d=mt("breakpoint"),p=mt("container"),m=mt("spacing"),g=mt("radius"),y=mt("shadow"),b=mt("inset-shadow"),N=mt("text-shadow"),S=mt("drop-shadow"),w=mt("blur"),v=mt("perspective"),j=mt("aspect"),O=mt("ease"),A=mt("animate"),X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...$(),me,pe],B=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],U=()=>[me,pe,m],Q=()=>[ra,"full","auto",...U()],te=()=>[Qn,"none","subgrid",me,pe],ce=()=>["auto",{span:["full",Qn,me,pe]},Qn,me,pe],ie=()=>[Qn,"auto",me,pe],re=()=>["auto","min","max","fr",me,pe],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...U()],G=()=>[ra,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],R=()=>[n,me,pe],le=()=>[...$(),od,id,{position:[me,pe]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",_b,Cb,{size:[me,pe]}],z=()=>[xs,rr,Tl],F=()=>["","none","full",g,me,pe],ae=()=>["",Oe,rr,Tl],fe=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Oe,xs,od,id],Ye=()=>["","none",w,me,pe],ne=()=>["none",Oe,me,pe],we=()=>["none",Oe,me,pe],Re=()=>[Oe,me,pe],Ue=()=>[ra,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[An],breakpoint:[An],color:[wb],container:[An],"drop-shadow":[An],ease:["in","out","in-out"],font:[jb],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[An],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[An],shadow:[An],spacing:["px",Oe],text:[An],"text-shadow":[An],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ra,pe,me,j]}],container:["container"],columns:[{columns:[Oe,pe,me,p]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[Qn,"auto",me,pe]}],basis:[{basis:[ra,"full","auto",p,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,ra,"auto","initial","none",pe]}],grow:[{grow:["",Oe,me,pe]}],shrink:[{shrink:["",Oe,me,pe]}],order:[{order:[Qn,"first","last","none",me,pe]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[p,"screen",...G()]}],"min-w":[{"min-w":[p,"screen","none",...G()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[d]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",i,rr,Tl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,me,ys]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xs,pe]}],"font-family":[{font:[Ob,pe,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,me,pe]}],"line-clamp":[{"line-clamp":[Oe,"none",me,ys]}],leading:[{leading:[u,...U()]}],"list-image":[{"list-image":["none",me,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",me,Tl]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Oe,"auto",me,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qn,me,pe],radial:["",me,pe],conic:[Qn,me,pe]},Tb,Ab]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,me,pe]}],"outline-w":[{outline:["",Oe,rr,Tl]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",y,Ci,ji]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",b,Ci,ji]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Oe,Tl]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",N,Ci,ji]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Oe,me,pe]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[me,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,pe]}],filter:[{filter:["","none",me,pe]}],blur:[{blur:Ye()}],brightness:[{brightness:[Oe,me,pe]}],contrast:[{contrast:[Oe,me,pe]}],"drop-shadow":[{"drop-shadow":["","none",S,Ci,ji]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Oe,me,pe]}],"hue-rotate":[{"hue-rotate":[Oe,me,pe]}],invert:[{invert:["",Oe,me,pe]}],saturate:[{saturate:[Oe,me,pe]}],sepia:[{sepia:["",Oe,me,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,pe]}],"backdrop-blur":[{"backdrop-blur":Ye()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,me,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,me,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,me,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,me,pe]}],"backdrop-invert":[{"backdrop-invert":["",Oe,me,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,me,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,me,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,me,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",me,pe]}],ease:[{ease:["linear","initial",O,me,pe]}],delay:[{delay:[Oe,me,pe]}],animate:[{animate:["none",A,me,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,me,pe]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[me,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ue()}],"translate-x":[{"translate-x":Ue()}],"translate-y":[{"translate-y":Ue()}],"translate-z":[{"translate-z":Ue()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,pe]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Oe,rr,Tl,ys]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function P(...n){return kb(Qf(n))}function Rb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bs={exports:{}},Ee={};var hd;function zb(){if(hd)return Ee;hd=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function O(C,z,F){this.props=C,this.context=z,this.refs=j,this.updater=F||w}O.prototype.isReactComponent={},O.prototype.setState=function(C,z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,z,"setState")},O.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function A(){}A.prototype=O.prototype;function X(C,z,F){this.props=C,this.context=z,this.refs=j,this.updater=F||w}var $=X.prototype=new A;$.constructor=X,v($,O.prototype),$.isPureReactComponent=!0;var V=Array.isArray;function B(){}var H={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function Q(C,z,F){var ae=F.ref;return{$$typeof:n,type:C,key:z,ref:ae!==void 0?ae:null,props:F}}function te(C,z){return Q(C.type,z,C.props)}function ce(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ie(C){var z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(F){return z[F]})}var re=/\/+/g;function ue(C,z){return typeof C=="object"&&C!==null&&C.key!=null?ie(""+C.key):z.toString(36)}function oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(B,B):(C.status="pending",C.then(function(z){C.status==="pending"&&(C.status="fulfilled",C.value=z)},function(z){C.status==="pending"&&(C.status="rejected",C.reason=z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function k(C,z,F,ae,fe){var ye=typeof C;(ye==="undefined"||ye==="boolean")&&(C=null);var de=!1;if(C===null)de=!0;else switch(ye){case"bigint":case"string":case"number":de=!0;break;case"object":switch(C.$$typeof){case n:case r:de=!0;break;case y:return de=C._init,k(de(C._payload),z,F,ae,fe)}}if(de)return fe=fe(C),de=ae===""?"."+ue(C,0):ae,V(fe)?(F="",de!=null&&(F=de.replace(re,"$&/")+"/"),k(fe,z,F,"",function(we){return we})):fe!=null&&(ce(fe)&&(fe=te(fe,F+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(re,"$&/")+"/")+de)),z.push(fe)),1;de=0;var Ye=ae===""?".":ae+":";if(V(C))for(var ne=0;ne<C.length;ne++)ae=C[ne],ye=Ye+ue(ae,ne),de+=k(ae,z,F,ye,fe);else if(ne=S(C),typeof ne=="function")for(C=ne.call(C),ne=0;!(ae=C.next()).done;)ae=ae.value,ye=Ye+ue(ae,ne++),de+=k(ae,z,F,ye,fe);else if(ye==="object"){if(typeof C.then=="function")return k(oe(C),z,F,ae,fe);throw z=String(C),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return de}function G(C,z,F){if(C==null)return C;var ae=[],fe=0;return k(C,ae,"","",function(ye){return z.call(F,ye,fe++)}),ae}function R(C){if(C._status===-1){var z=C._result;z=z(),z.then(function(F){(C._status===0||C._status===-1)&&(C._status=1,C._result=F)},function(F){(C._status===0||C._status===-1)&&(C._status=2,C._result=F)}),C._status===-1&&(C._status=0,C._result=z)}if(C._status===1)return C._result.default;throw C._result}var le=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},K={map:G,forEach:function(C,z,F){G(C,function(){z.apply(this,arguments)},F)},count:function(C){var z=0;return G(C,function(){z++}),z},toArray:function(C){return G(C,function(z){return z})||[]},only:function(C){if(!ce(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ee.Activity=b,Ee.Children=K,Ee.Component=O,Ee.Fragment=i,Ee.Profiler=s,Ee.PureComponent=X,Ee.StrictMode=o,Ee.Suspense=m,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(C){return H.H.useMemoCache(C)}},Ee.cache=function(C){return function(){return C.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(C,z,F){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ae=v({},C.props),fe=C.key;if(z!=null)for(ye in z.key!==void 0&&(fe=""+z.key),z)!U.call(z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&z.ref===void 0||(ae[ye]=z[ye]);var ye=arguments.length-2;if(ye===1)ae.children=F;else if(1<ye){for(var de=Array(ye),Ye=0;Ye<ye;Ye++)de[Ye]=arguments[Ye+2];ae.children=de}return Q(C.type,fe,ae)},Ee.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Ee.createElement=function(C,z,F){var ae,fe={},ye=null;if(z!=null)for(ae in z.key!==void 0&&(ye=""+z.key),z)U.call(z,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(fe[ae]=z[ae]);var de=arguments.length-2;if(de===1)fe.children=F;else if(1<de){for(var Ye=Array(de),ne=0;ne<de;ne++)Ye[ne]=arguments[ne+2];fe.children=Ye}if(C&&C.defaultProps)for(ae in de=C.defaultProps,de)fe[ae]===void 0&&(fe[ae]=de[ae]);return Q(C,ye,fe)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(C){return{$$typeof:p,render:C}},Ee.isValidElement=ce,Ee.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:R}},Ee.memo=function(C,z){return{$$typeof:g,type:C,compare:z===void 0?null:z}},Ee.startTransition=function(C){var z=H.T,F={};H.T=F;try{var ae=C(),fe=H.S;fe!==null&&fe(F,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(B,le)}catch(ye){le(ye)}finally{z!==null&&F.types!==null&&(z.types=F.types),H.T=z}},Ee.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ee.use=function(C){return H.H.use(C)},Ee.useActionState=function(C,z,F){return H.H.useActionState(C,z,F)},Ee.useCallback=function(C,z){return H.H.useCallback(C,z)},Ee.useContext=function(C){return H.H.useContext(C)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(C,z){return H.H.useDeferredValue(C,z)},Ee.useEffect=function(C,z){return H.H.useEffect(C,z)},Ee.useEffectEvent=function(C){return H.H.useEffectEvent(C)},Ee.useId=function(){return H.H.useId()},Ee.useImperativeHandle=function(C,z,F){return H.H.useImperativeHandle(C,z,F)},Ee.useInsertionEffect=function(C,z){return H.H.useInsertionEffect(C,z)},Ee.useLayoutEffect=function(C,z){return H.H.useLayoutEffect(C,z)},Ee.useMemo=function(C,z){return H.H.useMemo(C,z)},Ee.useOptimistic=function(C,z){return H.H.useOptimistic(C,z)},Ee.useReducer=function(C,z,F){return H.H.useReducer(C,z,F)},Ee.useRef=function(C){return H.H.useRef(C)},Ee.useState=function(C){return H.H.useState(C)},Ee.useSyncExternalStore=function(C,z,F){return H.H.useSyncExternalStore(C,z,F)},Ee.useTransition=function(){return H.H.useTransition()},Ee.version="19.2.3",Ee}var pd;function vs(){return pd||(pd=1,bs.exports=zb()),bs.exports}var D=vs();const mn=Rb(D),ws=D.createContext(null),md="lexflow-theme";function Lb({children:n}){const[r,i]=D.useState(()=>{if(typeof window>"u")return"dark";const u=localStorage.getItem(md);return u==="light"||u==="dark"?u:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});D.useEffect(()=>{document.documentElement.classList.toggle("light",r==="light"),localStorage.setItem(md,r)},[r]);const o=u=>i(u),s=()=>i(u=>u==="dark"?"light":"dark");return D.createElement(ws.Provider,{value:{theme:r,setTheme:o,toggleTheme:s}},n)}function Ss(){const n=D.useContext(ws);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}var Es={exports:{}},ir={};var gd;function Vb(){if(gd)return ir;gd=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,s,u){var d=null;if(u!==void 0&&(d=""+u),s.key!==void 0&&(d=""+s.key),"key"in s){u={};for(var p in s)p!=="key"&&(u[p]=s[p])}else u=s;return s=u.ref,{$$typeof:n,type:o,key:d,ref:s!==void 0?s:null,props:u}}return ir.Fragment=r,ir.jsx=i,ir.jsxs=i,ir}var xd;function Bb(){return xd||(xd=1,Es.exports=Vb()),Es.exports}var h=Bb();const yd=n=>{let r;const i=new Set,o=(g,y)=>{const b=typeof g=="function"?g(r):g;if(!Object.is(b,r)){const N=r;r=y??(typeof b!="object"||b===null)?b:Object.assign({},r,b),i.forEach(S=>S(r,N))}},s=()=>r,p={setState:o,getState:s,getInitialState:()=>m,subscribe:g=>(i.add(g),()=>i.delete(g))},m=r=n(o,s,p);return p},Hb=(n=>n?yd(n):yd),Ub=n=>n;function bd(n,r=Ub){const i=mn.useSyncExternalStore(n.subscribe,mn.useCallback(()=>r(n.getState()),[n,r]),mn.useCallback(()=>r(n.getInitialState()),[n,r]));return mn.useDebugValue(i),i}const vd=n=>{const r=Hb(n),i=o=>bd(r,o);return Object.assign(i,r),i},sa=(n=>n?vd(n):vd);function Ib(n,r){let i;try{i=n()}catch{return}return{getItem:s=>{var u;const d=m=>m===null?null:JSON.parse(m,void 0),p=(u=i.getItem(s))!=null?u:null;return p instanceof Promise?p.then(d):d(p)},setItem:(s,u)=>i.setItem(s,JSON.stringify(u,void 0)),removeItem:s=>i.removeItem(s)}}const Ns=n=>r=>{try{const i=n(r);return i instanceof Promise?i:{then(o){return Ns(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return Ns(o)(i)}}}},wd=(n,r)=>(i,o,s)=>{let u={storage:Ib(()=>localStorage),partialize:j=>j,version:0,merge:(j,O)=>({...O,...j}),...r},d=!1,p=0;const m=new Set,g=new Set;let y=u.storage;if(!y)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...j)},o,s);const b=()=>{const j=u.partialize({...o()});return y.setItem(u.name,{state:j,version:u.version})},N=s.setState;s.setState=(j,O)=>(N(j,O),b());const S=n((...j)=>(i(...j),b()),o,s);s.getInitialState=()=>S;let w;const v=()=>{var j,O;if(!y)return;const A=++p;d=!1,m.forEach($=>{var V;return $((V=o())!=null?V:S)});const X=((O=u.onRehydrateStorage)==null?void 0:O.call(u,(j=o())!=null?j:S))||void 0;return Ns(y.getItem.bind(y))(u.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==u.version){if(u.migrate){const V=u.migrate($.state,$.version);return V instanceof Promise?V.then(B=>[!0,B]):[!0,V]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var V;if(A!==p)return;const[B,H]=$;if(w=u.merge(H,(V=o())!=null?V:S),i(w,!0),B)return b()}).then(()=>{A===p&&(X?.(w,void 0),w=o(),d=!0,g.forEach($=>$(w)))}).catch($=>{A===p&&X?.(void 0,$)})};return s.persist={setOptions:j=>{u={...u,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>v(),hasHydrated:()=>d,onHydrate:j=>(m.add(j),()=>{m.delete(j)}),onFinishHydration:j=>(g.add(j),()=>{g.delete(j)})},u.skipHydration||v(),w||S};function js(n){return n===null||n===void 0?"null":typeof n=="string"?n===""||n.includes(":")||n.includes("#")||n.includes(`
`)||n.startsWith(" ")||n.endsWith(" ")||/^[[{}>|*&!%@`]/.test(n)||/^-?\d+(\.\d+)?$/.test(n)||n==="true"||n==="false"||n==="null"?JSON.stringify(n):n:typeof n=="number"||typeof n=="boolean"?String(n):JSON.stringify(n)}function Cs(n,r){const i=n.split(`
`);let o=!1,s=-1,u=-1;for(let d=0;d<i.length;d++){const p=i[d],m=p.match(/^\s*-?\s*name:\s*(\w+)/);if(m&&(o=m[1]===r),o){const g=p.match(/^(\s*)nodes:\s*$/);if(g){s=d,u=g[1].length;let y=d+1;for(;y<i.length;){const b=i[y];if(b.trim()===""||b.trim().startsWith("#")){y++;continue}const N=b.search(/\S/);if(N!==-1&&N<=u)break;y++}return{startLine:s,endLine:y,nodesIndent:u}}}}return null}function rt(n,r,i){const o=n.split(`
`);let s=0,u=o.length;if(i){const g=Cs(n,i);if(!g)return null;s=g.startLine,u=g.endLine}let d=-1,p=-1;for(let g=s;g<u;g++){const b=o[g].match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(b&&b[2]===r){d=g,p=b[1].length;break}}if(d===-1)return null;let m=d+1;for(;m<o.length;){const g=o[m];if(g.trim()===""||g.trim().startsWith("#")){m++;continue}const y=g.search(/\S/);if(y!==-1&&y<=p)break;m++}return{startLine:d,endLine:m,indent:p}}function Sd(n,r){const i=n.split(`
`),o=new Set;for(const d of i){const p=d.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);p&&o.add(p[1])}let s=`${r}_1`,u=1;for(;o.has(s);)u++,s=`${r}_${u}`;return s}function Ai(n,r){const i=rt(n,r);if(!i)return{source:n,success:!1};const o=n.split(`
`);return{source:[...o.slice(0,i.startLine),...o.slice(i.endLine)].join(`
`),success:!0}}function Ed(n,r,i="main"){const o=n.split(`
`);let s=!1,u=-1,d=-1,p=-1,m=-1;for(let O=0;O<o.length;O++){const A=o[O],X=A.match(/^\s*-?\s*name:\s*(\w+)/);if(X&&(s=X[1]===i),s){const $=A.match(/^(\s*)nodes:\s*$/);if($){u=O,d=$[1].length;continue}if(u!==-1){const V=A.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(V){const B=V[1].length;if(B===d+2){m=B;let H=O+1;for(;H<o.length;){const U=o[H];if(U.trim()===""||U.trim().startsWith("#")){H++;continue}const Q=U.search(/\S/);if(Q!==-1&&Q<=B)break;H++}p=H}}}}}if(u===-1)return{source:n,nodeId:null};const g=r.name.split("_")[0],y=Sd(n,g),b=" ".repeat(m!==-1?m:d+2),N=b+"  ",S=N+"  ";let w=`${b}${y}:
`;if(w+=`${N}opcode: ${r.name}
`,w+=`${N}next: null
`,r.parameters.length>0){w+=`${N}inputs:
`;for(const O of r.parameters){const A=O.name.toUpperCase(),X=O.default!==void 0?JSON.stringify(O.default):'""';w+=`${S}${A}: { literal: ${X} }
`}}const v=p!==-1?p:u+1;return{source:[...o.slice(0,v),w.trimEnd(),...o.slice(v)].join(`
`),nodeId:y}}function Nd(n,r){const i=rt(n,r);if(!i)return{source:n,nodeId:null};const o=n.split(`
`),s=o.slice(i.startLine,i.endLine);let u=`${r}_copy`,d=1;const p=new Set;for(const y of o){const b=y.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);b&&p.add(b[1])}for(;p.has(u);)d++,u=`${r}_copy_${d}`;const m=[...s];m[0]=m[0].replace(r+":",u+":");for(let y=1;y<m.length;y++)if(m[y].match(/^\s+next:\s*\S/)){const b=m[y].match(/^(\s+)next:/)?.[1]||"        ";m[y]=`${b}next: null`}return{source:[...o.slice(0,i.endLine),...m,...o.slice(i.endLine)].join(`
`),nodeId:u}}function jd(n,r,i,o){const s=n.split(`
`),u=rt(n,r);if(!u)return{source:n,success:!1};let d=-1,p=-1,m=-1;for(let S=u.startLine+1;S<u.endLine;S++){const w=s[S];if(w.match(/^\s+inputs:\s*$/)){d=S;continue}if(d!==-1){const v=w.match(new RegExp(`^(\\s+)(${i}):\\s*(.*)$`));if(v){p=S,m=v[1].length;break}}}if(p===-1)return{source:n,success:!1};let g=p+1;for(;g<s.length;){const S=s[g];if(S.trim()===""||S.trim().startsWith("#")){g++;continue}const w=S.search(/\S/);if(w!==-1&&w<=m)break;g++}let y;if(o.startsWith("$"))y=`{ variable: "${o.slice(1)}" }`;else try{const S=JSON.parse(o);y=`{ literal: ${JSON.stringify(S)} }`}catch{y=`{ literal: "${o}" }`}const b=" ".repeat(m);return{source:[...s.slice(0,p),`${b}${i}: ${y}`,...s.slice(g)].join(`
`),success:!0}}function or(n,r,i,o){const s=n.split(`
`),u=rt(n,r,o);if(!u)return{source:n,success:!1};let d=-1;for(let m=u.startLine+1;m<u.endLine;m++)if(s[m].match(/^\s+next:\s*/)){d=m;break}const p=" ".repeat(u.indent+2);if(d!==-1)s[d]=`${p}next: ${i}`;else{let m=u.startLine+1;for(;m<u.endLine;){const g=s[m];if(g.trim()!==""&&!g.trim().startsWith("#"))break;m++}s.splice(m,0,`${p}next: ${i}`)}return{source:s.join(`
`),success:!0}}function Oi(n,r,i){const o=n.split(`
`),s=rt(n,r,i);if(!s)return{source:n,success:!1};for(let u=s.startLine+1;u<s.endLine;u++)if(o[u].match(/^\s+next:\s*/)){const d=o[u].match(/^(\s+)next:/)?.[1]||" ".repeat(s.indent+2);return o[u]=`${d}next: null`,{source:o.join(`
`),success:!0}}return{source:n,success:!0}}function Cd(n,r,i,o){const s=n.split(`
`),u=rt(n,r);if(!u)return{source:n,success:!1};let d=-1,p=-1;for(let w=u.startLine+1;w<u.endLine;w++){const j=s[w].match(/^(\s+)inputs:\s*$/);if(j){d=w,p=j[1].length;break}}if(d===-1)return{source:n,success:!1};const m=o.startsWith("CATCH"),g=" ".repeat(p+2),y=" ".repeat(p+4);let b=-1,N=-1,S=d+1;for(;S<s.length;){const w=s[S];if(w.trim()===""||w.trim().startsWith("#")){S++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=p&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){b=S;break}const O=w.match(/^\s+([A-Z]+\d*):\s*\{.*\}\s*$/);if(O&&O[1]===o){N=S;break}S++}if(b!==-1){const w=s[b].match(/^(\s*)/)?.[1].length||0;let v=b+1;if(m){let j=-1;for(;v<s.length;){const O=s[v];if(O.trim()===""||O.trim().startsWith("#")){v++;continue}if((O.match(/^(\s*)/)?.[1].length||0)<=w&&O.trim())break;if(O.match(/^\s+body:\s*$/)){j=v;break}v++}if(j!==-1){const O=s[j].match(/^(\s*)/)?.[1].length||0;let A=j+1;for(;A<s.length;){const $=s[A];if($.trim()===""||$.trim().startsWith("#")){A++;continue}if(($.match(/^(\s*)/)?.[1].length||0)<=O&&$.trim())break;const B=$.match(/^(\s+)branch:\s*/);if(B)return s[A]=`${B[1]}branch: ${i}`,{source:s.join(`
`),success:!0};A++}const X=" ".repeat(O+2);return s.splice(j+1,0,`${X}branch: ${i}`),{source:s.join(`
`),success:!0}}else{const O=" ".repeat(w+2),A=" ".repeat(w+4);let X=b+1;for(;X<s.length;){const $=s[X];if($.trim()===""||$.trim().startsWith("#")){X++;continue}if(($.match(/^(\s*)/)?.[1].length||0)<=w&&$.trim())break;X++}return s.splice(X,0,`${O}body:`,`${A}branch: ${i}`),{source:s.join(`
`),success:!0}}}else{for(;v<s.length;){const j=s[v];if(j.trim()===""||j.trim().startsWith("#")){v++;continue}if((j.match(/^(\s*)/)?.[1].length||0)<=w&&j.trim())break;const A=j.match(/^(\s+)branch:\s*/);if(A)return s[v]=`${A[1]}branch: ${i}`,{source:s.join(`
`),success:!0};v++}return s.splice(b+1,0,`${y}branch: ${i}`),{source:s.join(`
`),success:!0}}}else if(N!==-1){const w=s[N].match(/^(\s*)/)?.[1].length||0,v=" ".repeat(w+2);if(m){const j=" ".repeat(w+2),O=" ".repeat(w+4);s.splice(N,1,`${" ".repeat(w)}${o}:`,`${j}exception_type: "Exception"`,`${j}body:`,`${O}branch: ${i}`)}else s.splice(N,1,`${" ".repeat(w)}${o}:`,`${v}branch: ${i}`);return{source:s.join(`
`),success:!0}}else{if(m){const w=" ".repeat(p+4),v=" ".repeat(p+6);s.splice(S,0,`${g}${o}:`,`${w}exception_type: "Exception"`,`${w}body:`,`${v}branch: ${i}`)}else s.splice(S,0,`${g}${o}:`,`${y}branch: ${i}`);return{source:s.join(`
`),success:!0}}}function Ad(n,r,i,o,s){if(!o)return Oi(n,r,s);const u=n.split(`
`),d=rt(n,r,s);if(!d)return{source:n,success:!1};let p=-1,m=-1;for(let w=d.startLine+1;w<d.endLine;w++){const j=u[w].match(/^(\s+)inputs:\s*$/);if(j){p=w,m=j[1].length;break}}if(p===-1)return{source:n,success:!1};const g=o.startsWith("CATCH");let y=-1,b=p+1;for(;b<u.length;){const w=u[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=m&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){y=b;break}b++}if(y===-1)return{source:n,success:!1};const N=u[y].match(/^(\s*)/)?.[1].length||0;let S=y+1;for(;S<u.length;){const w=u[S];if(w.trim()===""||w.trim().startsWith("#")){S++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=N&&w.trim())break;if(g){const j=w.match(/^(\s+)body:\s*$/);if(j){const O=j[1].length;let A=S+1;for(;A<u.length;){const X=u[A];if(X.trim()===""||X.trim().startsWith("#")){A++;continue}if((X.match(/^(\s*)/)?.[1].length||0)<=O&&X.trim())break;const V=X.match(/^(\s+)branch:\s*(\S+)/);if(V&&V[2]===i){const B=V[1];return u[A]=`${B}branch: null`,{source:u.join(`
`),success:!0}}A++}}}else{const j=w.match(/^(\s+)branch:\s*(\S+)/);if(j&&j[2]===i){const O=j[1];return u[S]=`${O}branch: null`,{source:u.join(`
`),success:!0}}}S++}return{source:n,success:!1}}function Od(n,r,i,o){const s=n.split(`
`),u=rt(n,i);if(!u)return{source:n,success:!1};let d=-1,p=-1,m=-1;for(let N=u.startLine+1;N<u.endLine;N++){const S=s[N];if(S.match(/^\s+inputs:\s*$/)){d=N;continue}if(d!==-1){const w=S.match(new RegExp(`^(\\s+)(${o}):\\s*(.*)$`));if(w){p=N,m=w[1].length;break}}}if(p===-1)return{source:n,success:!1};let g=p+1;for(;g<s.length;){const N=s[g];if(N.trim()===""||N.trim().startsWith("#")){g++;continue}const S=N.search(/\S/);if(S!==-1&&S<=m)break;g++}const y=" ".repeat(m);return{source:[...s.slice(0,p),`${y}${o}: { node: "${r}" }`,...s.slice(g)].join(`
`),success:!0}}function _d(n,r,i){if(i.length===0)return{source:n,success:!1};const o=n.split(`
`),s=rt(n,r);if(!s)return{source:n,success:!1};let u=s.startLine,d=s.indent,p=!1;for(let w=s.startLine+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=s.indent)break;if(v.match(/^\s+inputs:\s*$/)){p=!0,u=w,d=j;break}}if(!p)return{source:n,success:!1};for(let w=0;w<i.length-1;w++){const v=i[w];let j=!1;for(let O=u+1;O<o.length;O++){const A=o[O];if(A.trim()===""||A.trim().startsWith("#"))continue;const X=A.search(/\S/);if(X!==-1&&X<=d)break;const $=A.match(new RegExp(`^(\\s+)(${v}):\\s*`));if($){u=O,d=$[1].length,j=!0;for(let V=O+1;V<o.length;V++){const B=o[V];if(B.trim()===""||B.trim().startsWith("#"))continue;const H=B.search(/\S/);if(H!==-1&&H<=d)break;if(B.match(/^\s+inputs:\s*$/)){u=V,d=H;break}}break}}if(!j)return{source:n,success:!1}}const m=i[i.length-1];let g=-1,y=-1;for(let w=u+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=d)break;const O=v.match(new RegExp(`^(\\s+)(${m}):\\s*`));if(O){g=w,y=O[1].length;break}}if(g===-1)return{source:n,success:!1};let b=g+1;for(;b<o.length;){const w=o[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}const v=w.search(/\S/);if(v!==-1&&v<=y)break;b++}const N=" ".repeat(y);return{source:[...o.slice(0,g),`${N}${m}: { literal: null }`,...o.slice(b)].join(`
`),success:!0}}function Td(n,r,i,o){const s=n.split(`
`);let u=!1,d=-1,p=-1,m=-1;for(let v=0;v<s.length;v++){const j=s[v],O=j.match(/^\s*-?\s*name:\s*(\w+)/);if(O&&(u=O[1]===r),u){const A=j.match(/^(\s*)interface:\s*$/);if(A){d=v,m=A[1].length;let X=v+1;for(;X<s.length;){const $=s[X];if($.trim()===""||$.trim().startsWith("#")){X++;continue}const V=$.search(/\S/);if(V!==-1&&V<=m)break;X++}p=X;break}}}if(d===-1)return{source:n,success:!1};const g=" ".repeat(m),y=" ".repeat(m+2),b=i.length>0?`[${i.map(v=>`"${v}"`).join(", ")}]`:"[]",N=o.length>0?`[${o.map(v=>`"${v}"`).join(", ")}]`:"[]",S=[`${g}interface:`,`${y}inputs: ${b}`,`${y}outputs: ${N}`];return{source:[...s.slice(0,d),...S,...s.slice(p)].join(`
`),success:!0}}function Md(n,r,i,o){const s=n.split(`
`);let u=!1,d=-1,p=-1,m=-1;for(let b=0;b<s.length;b++){const N=s[b],S=N.match(/^\s*-?\s*name:\s*(\w+)/);if(S&&(u=S[1]===r),u){const w=N.match(/^(\s*)variables:\s*(.*)$/);if(w){d=b,p=w[1].length;const v=w[2].trim();if(v==="{}"||v==="")m=b+1;else{let j=b+1;for(;j<s.length;){const O=s[j];if(O.trim()===""||O.trim().startsWith("#")){j++;continue}const A=O.search(/\S/);if(A!==-1&&A<=p)break;j++}m=j}break}}}if(d===-1)return{source:n,success:!1};const g=" ".repeat(p+2),y=js(o);if(s[d].includes("{}")){const b=" ".repeat(p);return{source:[...s.slice(0,d),`${b}variables:`,`${g}${i}: ${y}`,...s.slice(d+1)].join(`
`),success:!0}}else return{source:[...s.slice(0,m),`${g}${i}: ${y}`,...s.slice(m)].join(`
`),success:!0}}function Dd(n,r,i,o,s){const u=n.split(`
`);let d=!1,p=!1,m=-1,g=-1;for(let N=0;N<u.length;N++){const S=u[N],w=S.match(/^\s*-?\s*name:\s*(\w+)/);if(w&&(d=w[1]===r,p=!1),d){const v=S.match(/^(\s*)variables:\s*/);if(v){p=!0,m=v[1].length;continue}if(p){const j=S.search(/\S/);if(S.trim()!==""&&!S.trim().startsWith("#")&&j!==-1&&j<=m){p=!1;continue}if(S.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){g=N;break}}}}if(g===-1)return{source:n,success:!1};const y=u[g].match(/^(\s+)/)?.[1]||"    ",b=js(s);return u[g]=`${y}${o}: ${b}`,{source:u.join(`
`),success:!0}}function kd(n,r,i){const o=n.split(`
`);let s=!1,u=!1,d=-1,p=-1;for(let g=0;g<o.length;g++){const y=o[g],b=y.match(/^\s*-?\s*name:\s*(\w+)/);if(b&&(s=b[1]===r,u=!1),s){const N=y.match(/^(\s*)variables:\s*/);if(N){u=!0,d=N[1].length;continue}if(u){const S=y.search(/\S/);if(y.trim()!==""&&!y.trim().startsWith("#")&&S!==-1&&S<=d){u=!1;continue}if(y.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){p=g;break}}}}return p===-1?{source:n,success:!1}:{source:[...o.slice(0,p),...o.slice(p+1)].join(`
`),success:!0}}function As(n,r,i,o="main"){const s=n.split(`
`);let u=!1,d=-1,p=-1,m=-1,g=-1;for(let O=0;O<s.length;O++){const A=s[O],X=A.match(/^\s*-?\s*name:\s*(\w+)/);if(X&&(u=X[1]===o),u){const $=A.match(/^(\s*)nodes:\s*$/);if($){d=O,p=$[1].length;continue}if(d!==-1){const V=A.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(V){const B=V[1].length;if(B===p+2){g=B;let H=O+1;for(;H<s.length;){const U=s[H];if(U.trim()===""||U.trim().startsWith("#")){H++;continue}const Q=U.search(/\S/);if(Q!==-1&&Q<=B)break;H++}m=H}}}}}if(d===-1)return{source:n,nodeId:null};const y=Sd(n,`call_${r}`),b=" ".repeat(g!==-1?g:p+2),N=b+"  ",S=N+"  ";let w=`${b}${y}:
`;w+=`${N}opcode: workflow_call
`,w+=`${N}next: null
`,w+=`${N}inputs:
`,w+=`${S}WORKFLOW: { literal: "${r}" }
`,i.forEach((O,A)=>{w+=`${S}ARG${A+1}: { literal: null }
`});const v=m!==-1?m:d+1;return{source:[...s.slice(0,v),w.trimEnd(),...s.slice(v)].join(`
`),nodeId:y}}function Rd(n,r,i){const o=n.split(`
`),s=rt(n,r);if(!s)return{source:n,success:!1};let u=-1,d=-1;const p=[];for(let v=s.startLine+1;v<s.endLine;v++){const j=o[v],O=j.match(/^(\s+)inputs:\s*$/);if(O){u=v,d=O[1].length;continue}if(u!==-1){const A=j.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));A&&p.push(A[1])}}if(u===-1)return{source:n,success:!1};let m=0;for(const v of p){const j=parseInt(v.replace(i,""));j>m&&(m=j)}const g=`${i}${m+1}`;let y=u+1;for(;y<o.length;){const v=o[y];if(v.trim()===""||v.trim().startsWith("#")){y++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=d&&v.trim())break;y++}const b=" ".repeat(d+2),N=" ".repeat(d+4);let S;if(i==="CATCH"){const v=" ".repeat(d+6);S=[`${b}${g}:`,`${N}exception_type: "Exception"`,`${N}body:`,`${v}branch: null`]}else S=[`${b}${g}:`,`${N}branch: null`];return{source:[...o.slice(0,y),...S,...o.slice(y)].join(`
`),success:!0}}function zd(n,r,i){const o=n.split(`
`),s=rt(n,r);if(!s)return{source:n,success:!1};let u=-1,d=-1;for(let g=s.startLine+1;g<s.endLine;g++){const b=o[g].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){u=g,d=b[1].length;break}}if(u===-1)return{source:n,success:!1};let p=u+1;for(;p<o.length;){const g=o[p];if(g.trim()===""||g.trim().startsWith("#")){p++;continue}if((g.match(/^(\s*)/)?.[1].length||0)<=d&&g.trim())break;p++}return{source:[...o.slice(0,u),...o.slice(p)].join(`
`),success:!0}}function Ld(n,r,i){const o=n.split(`
`),s=rt(n,r);if(!s)return{source:n,success:!1};let u=-1,d=-1;const p=[];for(let w=s.startLine+1;w<s.endLine;w++){const v=o[w],j=v.match(/^(\s+)inputs:\s*$/);if(j){u=w,d=j[1].length;continue}if(u!==-1){const O=v.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));O&&p.push(O[1])}}if(u===-1)return{source:n,success:!1};let m=0;for(const w of p){const v=parseInt(w.replace(i,""));v>m&&(m=v)}const g=`${i}${m+1}`;let y=u+1;for(;y<o.length;){const w=o[y];if(w.trim()===""||w.trim().startsWith("#")){y++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=d&&w.trim())break;y++}const N=`${" ".repeat(d+2)}${g}: { literal: null }`;return{source:[...o.slice(0,y),N,...o.slice(y)].join(`
`),success:!0}}function Vd(n,r,i){const o=n.split(`
`),s=rt(n,r);if(!s)return{source:n,success:!1};let u=-1,d=-1;for(let g=s.startLine+1;g<s.endLine;g++){const b=o[g].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){u=g,d=b[1].length;break}}if(u===-1)return{source:n,success:!1};let p=u+1;for(;p<o.length;){const g=o[p];if(g.trim()===""||g.trim().startsWith("#")){p++;continue}if((g.match(/^(\s*)/)?.[1].length||0)<=d&&g.trim())break;p++}return{source:[...o.slice(0,u),...o.slice(p)].join(`
`),success:!0}}function Bd(n,r,i=[],o=[],s={}){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return{source:n,success:!1};const u=n.split(`
`);for(const A of u){const X=A.match(/^\s*-?\s*name:\s*(\w+)/);if(X&&X[1]===r)return{source:n,success:!1}}let d=-1,p=!1,m=-1;for(let A=0;A<u.length;A++){const X=u[A],$=X.match(/^(\s*)workflows:\s*$/);if($){p=!0,m=$[1].length;continue}if(p){const V=X.search(/\S/);if(X.trim()!==""&&V!==-1&&V<=m)break;d=A}}if(!p)return{source:n,success:!1};const g="  ",y="    ",b="      ",N=i.length>0?`[${i.map(A=>`"${A}"`).join(", ")}]`:"[]",S=o.length>0?`[${o.map(A=>`"${A}"`).join(", ")}]`:"[]";let w=`${g}- name: ${r}
`;w+=`${y}interface:
`,w+=`${b}inputs: ${N}
`,w+=`${b}outputs: ${S}
`;const v=Object.entries(s);if(v.length===0)w+=`${y}variables: {}
`;else{w+=`${y}variables:
`;for(const[A,X]of v)w+=`${b}${A}: ${js(X)}
`}w+=`${y}nodes:
`,w+=`${b}start:
`,w+=`${b}  next: null`;const j=d+1;return{source:[...u.slice(0,j),w,...u.slice(j)].join(`
`),success:!0}}function Yb(n,r){if(r==="main")return{source:n,success:!1};const i=n.split(`
`);let o=-1,s=-1;for(let p=0;p<i.length;p++){const g=i[p].match(/^(\s*)-\s*name:\s*(\w+)/);if(g&&g[2]===r){o=p,s=g[1].length;break}}if(o===-1)return{source:n,success:!1};let u=o+1;for(;u<i.length;){const p=i[u];if(p.trim()===""||p.trim().startsWith("#")){u++;continue}const m=p.search(/\S/),g=p.match(/^(\s*)-\s*name:\s*\w+/);if(g&&g[1].length===s||m!==-1&&m<=s&&!p.trim().startsWith("-"))break;u++}return{source:[...i.slice(0,o),...i.slice(u)].join(`
`),success:!0}}const qb=["control_if","control_for","control_for_each","control_while","control_repeat_until","control_try","control_fork"];function Xb(n,r){const i=n.split(`
`);let o=null,s=!1,u=-1;for(const d of i){const p=d.match(/^(\s*)-?\s*name:\s*(\w+)/);if(p&&(o=p[2],u=p[1].length,s=!1),d.match(/^(\s*)nodes:\s*$/)&&o&&(s=!0),s){const g=d.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(g&&g[2]===r)return o;const y=d.search(/\S/);d.trim()&&y!==-1&&y<=u&&(s=!1)}}return null}function Hd(n,r){const i=rt(n,r);if(!i)return null;const o=n.split(`
`);for(let s=i.startLine+1;s<i.endLine;s++){const u=o[s].match(/^\s+opcode:\s*(\S+)/);if(u)return u[1]}return null}function Ud(n,r,i){const o=rt(n,r,i);if(!o)return null;const s=n.split(`
`);for(let u=o.startLine+1;u<o.endLine;u++){const d=s[u].match(/^\s+next:\s*(\S+)/);if(d){const p=d[1];return p==="null"?null:p}}return null}function Gb(n,r,i){const o=Cs(n,i);if(!o)return null;const s=n.split(`
`);let u=null;for(let d=o.startLine;d<o.endLine;d++){const p=s[d],m=p.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);m&&(u=m[2]);const g=p.match(/^\s+next:\s*(\S+)/);if(g&&g[1]===r&&u)return u}return null}function $b(n,r){const i=[],o=new Set;function s(u){if(o.has(u))return;o.add(u);const d=rt(n,u);if(!d)return;const m=n.split(`
`).slice(d.startLine,d.endLine).join(`
`),g=m.matchAll(/\{\s*node:\s*["']([^"']+)["']\s*\}/g);for(const b of g){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),s(N))}const y=m.matchAll(/\{\s*node:\s*([a-zA-Z_][a-zA-Z0-9_]*)\s*\}/g);for(const b of y){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),s(N))}}for(const u of r)s(u);return i}function Id(n,r,i){const o=[];if(r.length<2)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Select at least 2 nodes to extract"]};for(const v of r)Xb(n,v)!==i&&o.push(`Node "${v}" is not in workflow "${i}"`);if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};for(const v of r){const j=Hd(n,v);j&&qb.includes(j)&&o.push(`Cannot extract "${v}": branching nodes (${j}) are not supported`)}if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};const s=new Set(r),u={};for(const v of r)u[v]=Ud(n,v,i);const d=new Set(Object.values(u).filter(v=>v&&s.has(v))),p=r.filter(v=>!d.has(v));if(p.length!==1)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes do not form a single connected chain"]};const m=[];let g=p[0];const y=new Set;for(;g&&s.has(g)&&!y.has(g);)y.add(g),m.push(g),g=u[g]||null;if(m.length!==r.length)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes are not contiguous (some nodes are disconnected)"]};const b=m[0],N=m[m.length-1],S=Gb(n,b,i),w=Ud(n,N,i);return{isValid:!0,orderedNodeIds:m,firstNodeId:b,lastNodeId:N,predecessorNodeId:S,successorNodeId:w,errors:[]}}function Wb(n,r){const i=new Set,o=new Set;for(const d of r){const p=rt(n,d);if(!p)continue;const g=n.split(`
`).slice(p.startLine,p.endLine).join(`
`),y=g.matchAll(/\{\s*variable:\s*["']([^"']+)["']\s*\}/g);for(const N of y)i.add(N[1]);if(Hd(n,d)==="data_set_variable_to"){const N=g.match(/VARIABLE:\s*\{\s*literal:\s*["']([^"']+)["']\s*\}/);N&&o.add(N[1])}}const s=[...i].filter(d=>!o.has(d)),u=[...o];return{suggestedInputs:s,suggestedOutputs:u}}function Zb(n,r,i,o,s,u,d){const p=Id(n,r,i);if(!p.isValid)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:p.errors};const{orderedNodeIds:m,firstNodeId:g,lastNodeId:y,predecessorNodeId:b,successorNodeId:N}=p,S=$b(n,m);let w=n;const v=Bd(w,o,s,u,d);if(!v.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to create workflow "${o}"`]};w=v.source;const j=[],O=[];for(const re of[...m].reverse()){const ue=rt(w,re,i);if(!ue)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find node "${re}"`]};const k=w.split(`
`).slice(ue.startLine,ue.endLine).join(`
`);j.unshift({id:re,yaml:k,indent:ue.indent});const G=Ai(w,re);if(!G.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to delete node "${re}"`]};w=G.source}for(const re of[...S].reverse()){let ue=rt(w,re,i);if(ue||(ue=rt(w,re)),!ue)continue;const k=w.split(`
`).slice(ue.startLine,ue.endLine).join(`
`);O.unshift({id:re,yaml:k,indent:ue.indent});const G=Ai(w,re);G.success&&(w=G.source)}const A=[...j,...O];if(!Cs(w,o))return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find nodes section in new workflow "${o}"`]};const $=rt(w,"start",o);if(!$)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Could not find start node in new workflow"]};const V=$.indent,B=[];for(let re=0;re<A.length;re++){const ue=A[re],oe=ue.yaml.split(`
`),k=V-ue.indent,G=oe.map(R=>R.trim()===""?R:k>0?" ".repeat(k)+R:k<0?R.slice(-k):R);B.push(...G)}const H=w.split(`
`),U=$.endLine;H.splice(U,0,...B),w=H.join(`
`);const Q=or(w,"start",g,o);if(!Q.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to connect start to "${g}"`]};w=Q.source;const te=Oi(w,y,o);if(!te.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to disconnect last node "${y}"`]};w=te.source;const ce=As(w,o,s,i);if(!ce.nodeId)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to create workflow_call node"]};w=ce.source;const ie=ce.nodeId;if(b){const re=or(w,b==="start"?"start":b,ie,i);if(!re.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect predecessor to workflow_call"]};w=re.source}if(N){const re=or(w,ie,N,i);if(!re.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect workflow_call to successor"]};w=re.source}return{source:w,success:!0,newWorkflowCallNodeId:ie,errors:[]}}const Qb=50,Yd=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`,nt=sa()(wd((n,r)=>({source:Yd,setSource:(i,o=!0)=>{const s=r();if(o&&i!==s.source){const u=s.history.slice(0,s.historyIndex+1);u.push(i),u.length>Qb&&u.shift(),n({source:i,history:u,historyIndex:u.length-1,canUndo:u.length>1,canRedo:!1})}else n({source:i})},history:[Yd],historyIndex:0,canUndo:!1,canRedo:!1,undo:()=>{const i=r();if(i.historyIndex>0){const o=i.historyIndex-1;n({source:i.history[o],historyIndex:o,canUndo:o>0,canRedo:!0})}},redo:()=>{const i=r();if(i.historyIndex<i.history.length-1){const o=i.historyIndex+1;n({source:i.history[o],historyIndex:o,canUndo:!0,canRedo:o<i.history.length-1})}},tree:null,parseError:null,isParsing:!1,setTree:i=>n({tree:i,parseError:null}),setParseError:i=>n({parseError:i,tree:null}),setIsParsing:i=>n({isParsing:i}),deleteNode:i=>{const o=r(),s=Ai(o.source,i);return s.success&&o.setSource(s.source),s.success},addNode:(i,o="main")=>{const s=r(),u=Ed(s.source,i,o);return u.nodeId&&s.setSource(u.source),u.nodeId},addWorkflowCallNode:(i,o,s="main")=>{const u=r(),d=As(u.source,i,o,s);return d.nodeId&&u.setSource(d.source),d.nodeId},duplicateNode:i=>{const o=r(),s=Nd(o.source,i);return s.nodeId&&o.setSource(s.source),s.nodeId},updateNodeInput:(i,o,s)=>{const u=r(),d=jd(u.source,i,o,s);return d.success&&u.setSource(d.source),d.success},connectNodes:(i,o,s)=>{const u=r(),d=or(u.source,i,o,s);return d.success&&u.setSource(d.source),d.success},connectBranch:(i,o,s)=>{const u=r(),d=Cd(u.source,i,o,s);return d.success&&u.setSource(d.source),d.success},disconnectNode:(i,o)=>{const s=r(),u=Oi(s.source,i,o);return u.success&&s.setSource(u.source),u.success},convertOrphanToReporter:(i,o,s)=>{const u=r(),d=Od(u.source,i,o,s);return d.success&&u.setSource(d.source),d.success},updateReporterInput:(i,o,s)=>(console.log("[updateReporterInput] reporterNodeId:",i,"key:",o,"value:",s),i?r().updateNodeInput(i,o,s):(console.warn("[updateReporterInput] No reporter node ID provided"),!1)),deleteReporter:(i,o)=>{const s=r(),u=_d(s.source,i,o);return u.success&&s.setSource(u.source),u.success},updateWorkflowInterface:(i,o,s)=>{const u=r(),d=Td(u.source,i,o,s);return d.success&&u.setSource(d.source),d.success},addVariable:(i,o,s)=>{const u=r(),d=Md(u.source,i,o,s);return d.success&&u.setSource(d.source),d.success},updateVariable:(i,o,s,u)=>{const d=r(),p=Dd(d.source,i,o,s,u);return p.success&&d.setSource(p.source),p.success},disconnectConnection:(i,o,s,u)=>{const d=r(),p=Ad(d.source,i,o,s,u);return p.success&&d.setSource(p.source),p.success},deleteVariable:(i,o)=>{const s=r(),u=kd(s.source,i,o);return u.success&&s.setSource(u.source),u.success},addDynamicBranch:(i,o)=>{const s=r(),u=Rd(s.source,i,o);return u.success&&s.setSource(u.source),u.success},removeDynamicBranch:(i,o)=>{const s=r(),u=zd(s.source,i,o);return u.success&&s.setSource(u.source),u.success},addDynamicInput:(i,o)=>{const s=r(),u=Ld(s.source,i,o);return u.success&&s.setSource(u.source),u.success},removeDynamicInput:(i,o)=>{const s=r(),u=Vd(s.source,i,o);return u.success&&s.setSource(u.source),u.success},addWorkflow:(i,o=[],s=[],u={})=>{const d=r(),p=Bd(d.source,i,o,s,u);return p.success&&d.setSource(p.source),p.success},deleteWorkflow:i=>{const o=r(),s=Yb(o.source,i);return s.success&&o.setSource(s.source),s.success},extractToWorkflow:(i,o,s,u,d,p)=>{const m=r(),g=Zb(m.source,i,o,s,u,d,p);return g.success&&m.setSource(g.source),{success:g.success,errors:g.errors}},examples:[],setExamples:i=>n({examples:i}),opcodes:[],setOpcodes:i=>n({opcodes:i}),isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,setIsExecuting:i=>n({isExecuting:i}),setExecutionOutput:i=>n({executionOutput:i}),appendExecutionOutput:i=>n(o=>({executionOutput:o.executionOutput+i})),setExecutionResult:i=>n({executionResult:i}),setExecutionError:i=>n({executionError:i}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null}),workflowInputs:{},setWorkflowInput:(i,o)=>n(s=>({workflowInputs:{...s.workflowInputs,[i]:o}})),clearWorkflowInputs:()=>n({workflowInputs:{}})}),{name:"lexflow-workflow",partialize:n=>({source:n.source})})),_e=sa(n=>({zoom:1,panX:0,panY:0,isDraggingWorkflow:!1,setZoom:r=>n({zoom:Math.max(.25,Math.min(2,r))}),setPan:(r,i)=>n({panX:r,panY:i}),resetView:()=>n({zoom:1,panX:0,panY:0}),setIsDraggingWorkflow:r=>n({isDraggingWorkflow:r}),isEditorOpen:!1,isNodeEditorOpen:!1,isPaletteOpen:!1,isExecutionPanelOpen:!0,toggleEditor:()=>n(r=>({isEditorOpen:!r.isEditorOpen})),toggleNodeEditor:()=>n(r=>({isNodeEditorOpen:!r.isNodeEditorOpen})),togglePalette:()=>n(r=>({isPaletteOpen:!r.isPaletteOpen})),toggleExecutionPanel:()=>n(r=>({isExecutionPanelOpen:!r.isExecutionPanelOpen})),openNodeEditor:()=>n({isNodeEditorOpen:!0}),closeNodeEditor:()=>n({isNodeEditorOpen:!1}),nodeStatus:{},setNodeStatus:(r,i)=>n(o=>({nodeStatus:{...o.nodeStatus,[r]:i}})),clearNodeStatuses:()=>n({nodeStatus:{}}),searchQuery:"",searchResults:[],setSearchQuery:r=>n({searchQuery:r}),setSearchResults:r=>n({searchResults:r}),workflowPositions:{},setWorkflowPosition:(r,i,o)=>n(s=>({workflowPositions:{...s.workflowPositions,[r]:{x:i,y:o}}})),resetWorkflowPositions:()=>n({workflowPositions:{}}),draggingOpcode:null,setDraggingOpcode:r=>n({draggingOpcode:r}),draggingWire:null,setDraggingWire:r=>n({draggingWire:r}),updateDraggingWire:r=>n(i=>({draggingWire:i.draggingWire?{...i.draggingWire,...r}:null})),draggingOrphan:null,setDraggingOrphan:r=>n({draggingOrphan:r}),updateDraggingOrphanEnd:(r,i)=>n(o=>({draggingOrphan:o.draggingOrphan?{...o.draggingOrphan,toX:r,toY:i}:null})),nodePositions:{},setNodePosition:(r,i,o)=>n(s=>({nodePositions:{...s.nodePositions,[r]:{x:i,y:o}}})),resetNodePositions:()=>n({nodePositions:{}}),clearNodePosition:r=>n(i=>{const{[r]:o,...s}=i.nodePositions;return{nodePositions:s}}),layoutMode:"free",setLayoutMode:r=>n({layoutMode:r}),isDraggingNode:!1,setIsDraggingNode:r=>n({isDraggingNode:r}),draggingVariable:null,setDraggingVariable:r=>n({draggingVariable:r}),updateDraggingVariableEnd:(r,i)=>n(o=>({draggingVariable:o.draggingVariable?{...o.draggingVariable,toX:r,toY:i}:null})),draggingWorkflowCall:null,setDraggingWorkflowCall:r=>n({draggingWorkflowCall:r}),slotPositions:{},registerSlotPositions:(r,i)=>n(o=>({slotPositions:{...o.slotPositions,[r]:i}})),unregisterSlotPositions:r=>n(i=>{const{[r]:o,...s}=i.slotPositions;return{slotPositions:s}}),layoutGroups:[],setLayoutGroups:r=>n({layoutGroups:r}),canvasCenter:{x:400,y:300},setCanvasCenter:(r,i)=>n({canvasCenter:{x:r,y:i}}),contextMenu:null,showContextMenu:r=>n({contextMenu:r}),hideContextMenu:()=>n({contextMenu:null}),expandedReporters:{},toggleReportersExpanded:r=>n(i=>({expandedReporters:{...i.expandedReporters,[r]:!i.expandedReporters[r]}})),setReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,[r]:i}})),setMultipleReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,...Object.fromEntries(r.map(s=>[s,i]))}})),confirmDialog:null,showConfirmDialog:r=>n({confirmDialog:{isOpen:!0,title:r.title,message:r.message,confirmLabel:r.confirmLabel,cancelLabel:r.cancelLabel,variant:r.variant,onConfirm:()=>{r.onConfirm(),n({confirmDialog:null})},onCancel:()=>{r.onCancel?.(),n({confirmDialog:null})}}}),hideConfirmDialog:()=>n({confirmDialog:null}),canvasContextMenu:null,showCanvasContextMenu:(r,i,o)=>n({canvasContextMenu:{x:r,y:i,workflowName:o}}),hideCanvasContextMenu:()=>n({canvasContextMenu:null}),createWorkflowModal:null,showCreateWorkflowModal:()=>n({createWorkflowModal:{isOpen:!0}}),hideCreateWorkflowModal:()=>n({createWorkflowModal:null}),extractWorkflowModal:null,showExtractWorkflowModal:(r,i,o=[],s=[])=>n({extractWorkflowModal:{isOpen:!0,nodeIds:r,workflowName:i,suggestedInputs:o,suggestedOutputs:s}}),hideExtractWorkflowModal:()=>n({extractWorkflowModal:null})})),sr=sa(n=>({isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,workflowInputs:{},pendingPrompt:null,renderedContent:[],alerts:[],progress:null,setIsExecuting:r=>n({isExecuting:r}),setExecutionOutput:r=>n({executionOutput:r}),appendExecutionOutput:r=>n(i=>({executionOutput:i.executionOutput+r})),setExecutionResult:r=>n({executionResult:r}),setExecutionError:r=>n({executionError:r}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null,pendingPrompt:null,renderedContent:[],alerts:[],progress:null}),setWorkflowInput:(r,i)=>n(o=>({workflowInputs:{...o.workflowInputs,[r]:i}})),clearWorkflowInputs:()=>n({workflowInputs:{}}),setPendingPrompt:r=>n({pendingPrompt:r}),addRenderedContent:r=>n(i=>({renderedContent:[...i.renderedContent,r]})),clearRenderedContent:()=>n({renderedContent:[]}),addAlert:r=>n(i=>({alerts:[...i.alerts,{...r,id:crypto.randomUUID()}]})),removeAlert:r=>n(i=>({alerts:i.alerts.filter(o=>o.id!==r)})),setProgress:r=>n({progress:r})})),Kn=sa(n=>({selectedNodeId:null,selectNode:r=>n({selectedNodeId:r,selectedNodeIds:[]}),selectedNodeIds:[],toggleNodeSelection:r=>n(i=>{const o=i.selectedNodeIds.includes(r)?i.selectedNodeIds.filter(s=>s!==r):[...i.selectedNodeIds,r];return{selectedNodeIds:o,selectedNodeId:o.length>0?o[o.length-1]:null}}),addToSelection:r=>n(i=>({selectedNodeIds:i.selectedNodeIds.includes(r)?i.selectedNodeIds:[...i.selectedNodeIds,r]})),clearMultiSelection:()=>n({selectedNodeIds:[]}),selectedReporter:null,selectReporter:r=>n({selectedReporter:r}),selectedConnection:null,selectConnection:r=>n({selectedConnection:r}),selectedStartNode:null,selectStartNode:r=>n({selectedStartNode:r}),clearSelection:()=>n({selectedNodeId:null,selectedNodeIds:[],selectedReporter:null,selectedConnection:null,selectedStartNode:null})})),qd=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Xd=Qf,M=(n,r)=>i=>{var o;if(r?.variants==null)return Xd(n,i?.class,i?.className);const{variants:s,defaultVariants:u}=r,d=Object.keys(s).map(g=>{const y=i?.[g],b=u?.[g];if(y===null)return null;const N=qd(y)||qd(b);return s[g][N]}),p=i&&Object.entries(i).reduce((g,y)=>{let[b,N]=y;return N===void 0||(g[b]=N),g},{}),m=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((g,y)=>{let{class:b,className:N,...S}=y;return Object.entries(S).every(w=>{let[v,j]=w;return Array.isArray(j)?j.includes({...u,...p}[v]):{...u,...p}[v]===j})?[...g,b,N]:g},[]);return Xd(n,d,m,i?.class,i?.className)},Kb=M("inline-flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent-blue disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-text-secondary hover:text-text-primary hover:bg-surface-2",ghost:"text-text-muted hover:text-text-secondary hover:bg-surface-1"},size:{sm:"h-6 w-6 rounded-sm",md:"h-8 w-8 rounded-sm",lg:"h-10 w-10 rounded-sm"}},defaultVariants:{variant:"default",size:"md"}}),gn=D.forwardRef(({className:n,variant:r,size:i,icon:o,label:s,...u},d)=>h.jsx("button",{ref:d,className:P(Kb({variant:r,size:i,className:n})),"aria-label":s,title:s,...u,children:o}));gn.displayName="IconButton";const Fb=M("w-full bg-surface-2 text-text-secondary border border-border-subtle transition-colors focus:outline-none focus:ring-1 focus:ring-accent-blue focus:border-accent-blue hover:bg-surface-3 hover:text-text-primary disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{size:{sm:"h-7 px-2.5 pr-7 text-xs rounded-sm leading-7",md:"h-8 px-3 pr-8 text-sm rounded-sm leading-8",lg:"h-10 px-4 pr-10 text-sm rounded-sm leading-10"}},defaultVariants:{size:"md"}}),Gd=D.forwardRef(({className:n,size:r,children:i,...o},s)=>h.jsxs("div",{className:"relative",children:[h.jsx("select",{ref:s,className:P(Fb({size:r,className:n})),...o,children:i}),h.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:h.jsx("svg",{className:"h-4 w-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}));Gd.displayName="Select";var Os={exports:{}},Ot={};var $d;function Jb(){if($d)return Ot;$d=1;var n=vs();function r(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ot.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return u(m,g,null,y)},Ot.flushSync=function(m){var g=d.T,y=o.p;try{if(d.T=null,o.p=2,m)return m()}finally{d.T=g,o.p=y,o.d.f()}},Ot.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(m,g))},Ot.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},Ot.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=p(y,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?o.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:S}):y==="script"&&o.d.X(m,{crossOrigin:b,integrity:N,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ot.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);o.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(m)},Ot.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=p(y,g.crossOrigin);o.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ot.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=p(g.as,g.crossOrigin);o.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(m)},Ot.requestFormReset=function(m){o.d.r(m)},Ot.unstable_batchedUpdates=function(m,g){return m(g)},Ot.useFormState=function(m,g,y){return d.H.useFormState(m,g,y)},Ot.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ot.version="19.2.3",Ot}var Wd;function Zd(){if(Wd)return Os.exports;Wd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Os.exports=Jb(),Os.exports}var Pb=Zd();const ev=M("fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-150"),tv=M("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[380px] mx-4 animate-in zoom-in-95 duration-150"),nv=M("px-5 py-4 border-b border-border-subtle"),lv=M("text-base font-semibold text-text-primary"),av=M("px-5 py-4"),rv=M("text-sm text-text-secondary leading-relaxed"),iv=M("px-5 py-3 border-t border-border-subtle flex justify-end gap-2"),Qd=M("px-4 py-2 text-sm font-medium rounded-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1"),ov=M("bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default focus:ring-border-default"),sv=M("",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/90 focus:ring-accent-blue",danger:"bg-accent-red text-white hover:bg-accent-red/90 focus:ring-accent-red"}},defaultVariants:{variant:"default"}});function cv({isOpen:n,title:r,message:i,confirmLabel:o="OK",cancelLabel:s="Cancel",variant:u="default",onConfirm:d,onCancel:p}){const m=D.useRef(null);return D.useEffect(()=>{if(n){const g=setTimeout(()=>{m.current?.focus()},50);return()=>clearTimeout(g)}},[n]),D.useEffect(()=>{if(!n)return;const g=y=>{y.key==="Escape"?p():y.key==="Enter"&&d()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n,p,d]),n?Pb.createPortal(h.jsx("div",{className:P(ev()),onClick:p,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:h.jsxs("div",{className:P(tv()),onClick:g=>g.stopPropagation(),children:[h.jsx("div",{className:P(nv()),children:h.jsx("h2",{id:"confirm-dialog-title",className:P(lv()),children:r})}),h.jsx("div",{className:P(av()),children:h.jsx("p",{id:"confirm-dialog-message",className:P(rv()),children:i})}),h.jsxs("div",{className:P(iv()),children:[h.jsx("button",{className:P(Qd(),ov()),onClick:p,children:s}),h.jsx("button",{ref:m,className:P(Qd(),sv({variant:u})),onClick:d,children:o})]})]})}),document.body):null}function gt(n,r,i=18){const o=({size:s=i,className:u,...d})=>h.jsx("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:u,...d,children:n});return o.displayName=r,o}const uv=gt(h.jsxs(h.Fragment,{children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"FileIcon"),fv=gt(h.jsxs(h.Fragment,{children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"17 8 12 3 7 8"}),h.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"UploadIcon"),dv=gt(h.jsxs(h.Fragment,{children:[h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),h.jsx("polyline",{points:"7 10 12 15 17 10"}),h.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"DownloadIcon"),hv=gt(h.jsxs(h.Fragment,{children:[h.jsx("path",{d:"M3 7v6h6"}),h.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),"UndoIcon"),pv=gt(h.jsxs(h.Fragment,{children:[h.jsx("path",{d:"M21 7v6h-6"}),h.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"})]}),"RedoIcon"),mv=gt(h.jsx("path",{d:"M12 5v14M5 12h14"}),"PlusIcon",20),gv=gt(h.jsx("path",{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"}),"CodeIcon",20),xv=gt(h.jsxs(h.Fragment,{children:[h.jsx("circle",{cx:"12",cy:"12",r:"5"}),h.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),h.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),h.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),h.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),h.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),h.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),h.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),h.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),"SunIcon"),yv=gt(h.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}),"MoonIcon"),bv=gt(h.jsxs(h.Fragment,{children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),h.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),h.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomInIcon",16),vv=gt(h.jsxs(h.Fragment,{children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),h.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomOutIcon",16),wv=gt(h.jsxs(h.Fragment,{children:[h.jsx("polyline",{points:"15 3 21 3 21 9"}),h.jsx("polyline",{points:"9 21 3 21 3 15"}),h.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),h.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"FitViewIcon",16),Sv=gt(h.jsxs(h.Fragment,{children:[h.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),h.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),h.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),h.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"GridIcon",14),Ev=gt(h.jsx("polygon",{points:"5 3 19 12 5 21 5 3"}),"PlayIcon",14),Nv=gt(h.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),"StopIcon",14),jv=gt(h.jsxs(h.Fragment,{children:[h.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),h.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]}),"StepForwardIcon",14),Cv=gt(h.jsxs(h.Fragment,{children:[h.jsx("polyline",{points:"3 6 5 6 21 6"}),h.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"TrashIcon",14),Av=gt(h.jsxs(h.Fragment,{children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"CloseIcon",14),Ov=gt(h.jsxs(h.Fragment,{children:[h.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),h.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),h.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"SaveIcon");function _v({className:n}){const{theme:r,toggleTheme:i}=Ss();return h.jsx(gn,{className:n,icon:r==="dark"?h.jsx(xv,{}):h.jsx(yv,{}),label:r==="dark"?"Switch to light mode":"Switch to dark mode",onClick:i})}function _s(n){return typeof n.listExamples=="function"&&typeof n.getExample=="function"}function Tv(n){return typeof n.validateWorkflow=="function"}const Kd=D.createContext(null);function Fd({provider:n,children:r}){return h.jsx(Kd.Provider,{value:n,children:r})}function cr(){const n=D.useContext(Kd);if(!n)throw new Error("useBackendProvider must be used within a BackendProviderWrapper");return n}function Jd(n){return typeof n>"u"||n===null}function Mv(n){return typeof n=="object"&&n!==null}function Dv(n){return Array.isArray(n)?n:Jd(n)?[]:[n]}function kv(n,r){var i,o,s,u;if(r)for(u=Object.keys(r),i=0,o=u.length;i<o;i+=1)s=u[i],n[s]=r[s];return n}function Rv(n,r){var i="",o;for(o=0;o<r;o+=1)i+=n;return i}function zv(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var Lv=Jd,Vv=Mv,Bv=Dv,Hv=Rv,Uv=zv,Iv=kv,xt={isNothing:Lv,isObject:Vv,toArray:Bv,repeat:Hv,isNegativeZero:Uv,extend:Iv};function Pd(n,r){var i="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(i+='in "'+n.mark.name+'" '),i+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(i+=`

`+n.mark.snippet),o+" "+i):o}function ur(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=Pd(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ur.prototype=Object.create(Error.prototype),ur.prototype.constructor=ur,ur.prototype.toString=function(r){return this.name+": "+Pd(this,r)};var Mt=ur;function Ts(n,r,i,o,s){var u="",d="",p=Math.floor(s/2)-1;return o-r>p&&(u=" ... ",r=o-p+u.length),i-o>p&&(d=" ...",i=o+p-d.length),{str:u+n.slice(r,i).replace(/\t/g,"")+d,pos:o-r+u.length}}function Ms(n,r){return xt.repeat(" ",r-n.length)+n}function Yv(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,o=[0],s=[],u,d=-1;u=i.exec(n.buffer);)s.push(u.index),o.push(u.index+u[0].length),n.position<=u.index&&d<0&&(d=o.length-2);d<0&&(d=o.length-1);var p="",m,g,y=Math.min(n.line+r.linesAfter,s.length).toString().length,b=r.maxLength-(r.indent+y+3);for(m=1;m<=r.linesBefore&&!(d-m<0);m++)g=Ts(n.buffer,o[d-m],s[d-m],n.position-(o[d]-o[d-m]),b),p=xt.repeat(" ",r.indent)+Ms((n.line-m+1).toString(),y)+" | "+g.str+`
`+p;for(g=Ts(n.buffer,o[d],s[d],n.position,b),p+=xt.repeat(" ",r.indent)+Ms((n.line+1).toString(),y)+" | "+g.str+`
`,p+=xt.repeat("-",r.indent+y+3+g.pos)+`^
`,m=1;m<=r.linesAfter&&!(d+m>=s.length);m++)g=Ts(n.buffer,o[d+m],s[d+m],n.position-(o[d]-o[d+m]),b),p+=xt.repeat(" ",r.indent)+Ms((n.line+m+1).toString(),y)+" | "+g.str+`
`;return p.replace(/\n$/,"")}var qv=Yv,Xv=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Gv=["scalar","sequence","mapping"];function $v(n){var r={};return n!==null&&Object.keys(n).forEach(function(i){n[i].forEach(function(o){r[String(o)]=i})}),r}function Wv(n,r){if(r=r||{},Object.keys(r).forEach(function(i){if(Xv.indexOf(i)===-1)throw new Mt('Unknown option "'+i+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=$v(r.styleAliases||null),Gv.indexOf(this.kind)===-1)throw new Mt('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var St=Wv;function eh(n,r){var i=[];return n[r].forEach(function(o){var s=i.length;i.forEach(function(u,d){u.tag===o.tag&&u.kind===o.kind&&u.multi===o.multi&&(s=d)}),i[s]=o}),i}function Zv(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function o(s){s.multi?(n.multi[s.kind].push(s),n.multi.fallback.push(s)):n[s.kind][s.tag]=n.fallback[s.tag]=s}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(o);return n}function Ds(n){return this.extend(n)}Ds.prototype.extend=function(r){var i=[],o=[];if(r instanceof St)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new Mt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(u){if(!(u instanceof St))throw new Mt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(u.loadKind&&u.loadKind!=="scalar")throw new Mt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(u.multi)throw new Mt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(u){if(!(u instanceof St))throw new Mt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(Ds.prototype);return s.implicit=(this.implicit||[]).concat(i),s.explicit=(this.explicit||[]).concat(o),s.compiledImplicit=eh(s,"implicit"),s.compiledExplicit=eh(s,"explicit"),s.compiledTypeMap=Zv(s.compiledImplicit,s.compiledExplicit),s};var th=Ds,nh=new St("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),lh=new St("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),ah=new St("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),rh=new th({explicit:[nh,lh,ah]});function Qv(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function Kv(){return null}function Fv(n){return n===null}var ih=new St("tag:yaml.org,2002:null",{kind:"scalar",resolve:Qv,construct:Kv,predicate:Fv,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Jv(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function Pv(n){return n==="true"||n==="True"||n==="TRUE"}function e1(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var oh=new St("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Jv,construct:Pv,predicate:e1,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function t1(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function n1(n){return 48<=n&&n<=55}function l1(n){return 48<=n&&n<=57}function a1(n){if(n===null)return!1;var r=n.length,i=0,o=!1,s;if(!r)return!1;if(s=n[i],(s==="-"||s==="+")&&(s=n[++i]),s==="0"){if(i+1===r)return!0;if(s=n[++i],s==="b"){for(i++;i<r;i++)if(s=n[i],s!=="_"){if(s!=="0"&&s!=="1")return!1;o=!0}return o&&s!=="_"}if(s==="x"){for(i++;i<r;i++)if(s=n[i],s!=="_"){if(!t1(n.charCodeAt(i)))return!1;o=!0}return o&&s!=="_"}if(s==="o"){for(i++;i<r;i++)if(s=n[i],s!=="_"){if(!n1(n.charCodeAt(i)))return!1;o=!0}return o&&s!=="_"}}if(s==="_")return!1;for(;i<r;i++)if(s=n[i],s!=="_"){if(!l1(n.charCodeAt(i)))return!1;o=!0}return!(!o||s==="_")}function r1(n){var r=n,i=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(i=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function i1(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!xt.isNegativeZero(n)}var sh=new St("tag:yaml.org,2002:int",{kind:"scalar",resolve:a1,construct:r1,predicate:i1,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),o1=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function s1(n){return!(n===null||!o1.test(n)||n[n.length-1]==="_")}function c1(n){var r,i;return r=n.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var u1=/^[-+]?[0-9]+e/;function f1(n,r){var i;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(xt.isNegativeZero(n))return"-0.0";return i=n.toString(10),u1.test(i)?i.replace("e",".e"):i}function d1(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||xt.isNegativeZero(n))}var ch=new St("tag:yaml.org,2002:float",{kind:"scalar",resolve:s1,construct:c1,predicate:d1,represent:f1,defaultStyle:"lowercase"}),uh=rh.extend({implicit:[ih,oh,sh,ch]}),fh=uh,dh=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),hh=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function h1(n){return n===null?!1:dh.exec(n)!==null||hh.exec(n)!==null}function p1(n){var r,i,o,s,u,d,p,m=0,g=null,y,b,N;if(r=dh.exec(n),r===null&&(r=hh.exec(n)),r===null)throw new Error("Date resolve error");if(i=+r[1],o=+r[2]-1,s=+r[3],!r[4])return new Date(Date.UTC(i,o,s));if(u=+r[4],d=+r[5],p=+r[6],r[7]){for(m=r[7].slice(0,3);m.length<3;)m+="0";m=+m}return r[9]&&(y=+r[10],b=+(r[11]||0),g=(y*60+b)*6e4,r[9]==="-"&&(g=-g)),N=new Date(Date.UTC(i,o,s,u,d,p,m)),g&&N.setTime(N.getTime()-g),N}function m1(n){return n.toISOString()}var ph=new St("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:h1,construct:p1,instanceOf:Date,represent:m1});function g1(n){return n==="<<"||n===null}var mh=new St("tag:yaml.org,2002:merge",{kind:"scalar",resolve:g1}),ks=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function x1(n){if(n===null)return!1;var r,i,o=0,s=n.length,u=ks;for(i=0;i<s;i++)if(r=u.indexOf(n.charAt(i)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function y1(n){var r,i,o=n.replace(/[\r\n=]/g,""),s=o.length,u=ks,d=0,p=[];for(r=0;r<s;r++)r%4===0&&r&&(p.push(d>>16&255),p.push(d>>8&255),p.push(d&255)),d=d<<6|u.indexOf(o.charAt(r));return i=s%4*6,i===0?(p.push(d>>16&255),p.push(d>>8&255),p.push(d&255)):i===18?(p.push(d>>10&255),p.push(d>>2&255)):i===12&&p.push(d>>4&255),new Uint8Array(p)}function b1(n){var r="",i=0,o,s,u=n.length,d=ks;for(o=0;o<u;o++)o%3===0&&o&&(r+=d[i>>18&63],r+=d[i>>12&63],r+=d[i>>6&63],r+=d[i&63]),i=(i<<8)+n[o];return s=u%3,s===0?(r+=d[i>>18&63],r+=d[i>>12&63],r+=d[i>>6&63],r+=d[i&63]):s===2?(r+=d[i>>10&63],r+=d[i>>4&63],r+=d[i<<2&63],r+=d[64]):s===1&&(r+=d[i>>2&63],r+=d[i<<4&63],r+=d[64],r+=d[64]),r}function v1(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var gh=new St("tag:yaml.org,2002:binary",{kind:"scalar",resolve:x1,construct:y1,predicate:v1,represent:b1}),w1=Object.prototype.hasOwnProperty,S1=Object.prototype.toString;function E1(n){if(n===null)return!0;var r=[],i,o,s,u,d,p=n;for(i=0,o=p.length;i<o;i+=1){if(s=p[i],d=!1,S1.call(s)!=="[object Object]")return!1;for(u in s)if(w1.call(s,u))if(!d)d=!0;else return!1;if(!d)return!1;if(r.indexOf(u)===-1)r.push(u);else return!1}return!0}function N1(n){return n!==null?n:[]}var xh=new St("tag:yaml.org,2002:omap",{kind:"sequence",resolve:E1,construct:N1}),j1=Object.prototype.toString;function C1(n){if(n===null)return!0;var r,i,o,s,u,d=n;for(u=new Array(d.length),r=0,i=d.length;r<i;r+=1){if(o=d[r],j1.call(o)!=="[object Object]"||(s=Object.keys(o),s.length!==1))return!1;u[r]=[s[0],o[s[0]]]}return!0}function A1(n){if(n===null)return[];var r,i,o,s,u,d=n;for(u=new Array(d.length),r=0,i=d.length;r<i;r+=1)o=d[r],s=Object.keys(o),u[r]=[s[0],o[s[0]]];return u}var yh=new St("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:C1,construct:A1}),O1=Object.prototype.hasOwnProperty;function _1(n){if(n===null)return!0;var r,i=n;for(r in i)if(O1.call(i,r)&&i[r]!==null)return!1;return!0}function T1(n){return n!==null?n:{}}var bh=new St("tag:yaml.org,2002:set",{kind:"mapping",resolve:_1,construct:T1}),Rs=fh.extend({implicit:[ph,mh],explicit:[gh,xh,yh,bh]}),Fn=Object.prototype.hasOwnProperty,_i=1,vh=2,wh=3,Ti=4,zs=1,M1=2,Sh=3,D1=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,k1=/[\x85\u2028\u2029]/,R1=/[,\[\]\{\}]/,Eh=/^(?:!|!!|![a-z\-]+!)$/i,Nh=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function jh(n){return Object.prototype.toString.call(n)}function xn(n){return n===10||n===13}function Ml(n){return n===9||n===32}function kt(n){return n===9||n===32||n===10||n===13}function ca(n){return n===44||n===91||n===93||n===123||n===125}function z1(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function L1(n){return n===120?2:n===117?4:n===85?8:0}function V1(n){return 48<=n&&n<=57?n-48:-1}function Ch(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function B1(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function Ah(n,r,i){r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:i}):n[r]=i}for(var Oh=new Array(256),_h=new Array(256),ua=0;ua<256;ua++)Oh[ua]=Ch(ua)?1:0,_h[ua]=Ch(ua);function H1(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||Rs,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Th(n,r){var i={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return i.snippet=qv(i),new Mt(r,i)}function xe(n,r){throw Th(n,r)}function Mi(n,r){n.onWarning&&n.onWarning.call(null,Th(n,r))}var Mh={YAML:function(r,i,o){var s,u,d;r.version!==null&&xe(r,"duplication of %YAML directive"),o.length!==1&&xe(r,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),s===null&&xe(r,"ill-formed argument of the YAML directive"),u=parseInt(s[1],10),d=parseInt(s[2],10),u!==1&&xe(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=d<2,d!==1&&d!==2&&Mi(r,"unsupported YAML version of the document")},TAG:function(r,i,o){var s,u;o.length!==2&&xe(r,"TAG directive accepts exactly two arguments"),s=o[0],u=o[1],Eh.test(s)||xe(r,"ill-formed tag handle (first argument) of the TAG directive"),Fn.call(r.tagMap,s)&&xe(r,'there is a previously declared suffix for "'+s+'" tag handle'),Nh.test(u)||xe(r,"ill-formed tag prefix (second argument) of the TAG directive");try{u=decodeURIComponent(u)}catch{xe(r,"tag prefix is malformed: "+u)}r.tagMap[s]=u}};function Jn(n,r,i,o){var s,u,d,p;if(r<i){if(p=n.input.slice(r,i),o)for(s=0,u=p.length;s<u;s+=1)d=p.charCodeAt(s),d===9||32<=d&&d<=1114111||xe(n,"expected valid JSON character");else D1.test(p)&&xe(n,"the stream contains non-printable characters");n.result+=p}}function Dh(n,r,i,o){var s,u,d,p;for(xt.isObject(i)||xe(n,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(i),d=0,p=s.length;d<p;d+=1)u=s[d],Fn.call(r,u)||(Ah(r,u,i[u]),o[u]=!0)}function fa(n,r,i,o,s,u,d,p,m){var g,y;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),g=0,y=s.length;g<y;g+=1)Array.isArray(s[g])&&xe(n,"nested arrays are not supported inside keys"),typeof s=="object"&&jh(s[g])==="[object Object]"&&(s[g]="[object Object]");if(typeof s=="object"&&jh(s)==="[object Object]"&&(s="[object Object]"),s=String(s),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(u))for(g=0,y=u.length;g<y;g+=1)Dh(n,r,u[g],i);else Dh(n,r,u,i);else!n.json&&!Fn.call(i,s)&&Fn.call(r,s)&&(n.line=d||n.line,n.lineStart=p||n.lineStart,n.position=m||n.position,xe(n,"duplicated mapping key")),Ah(r,s,u),delete i[s];return r}function Ls(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):xe(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function ct(n,r,i){for(var o=0,s=n.input.charCodeAt(n.position);s!==0;){for(;Ml(s);)s===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),s=n.input.charCodeAt(++n.position);if(r&&s===35)do s=n.input.charCodeAt(++n.position);while(s!==10&&s!==13&&s!==0);if(xn(s))for(Ls(n),s=n.input.charCodeAt(n.position),o++,n.lineIndent=0;s===32;)n.lineIndent++,s=n.input.charCodeAt(++n.position);else break}return i!==-1&&o!==0&&n.lineIndent<i&&Mi(n,"deficient indentation"),o}function Di(n){var r=n.position,i;return i=n.input.charCodeAt(r),!!((i===45||i===46)&&i===n.input.charCodeAt(r+1)&&i===n.input.charCodeAt(r+2)&&(r+=3,i=n.input.charCodeAt(r),i===0||kt(i)))}function Vs(n,r){r===1?n.result+=" ":r>1&&(n.result+=xt.repeat(`
`,r-1))}function U1(n,r,i){var o,s,u,d,p,m,g,y,b=n.kind,N=n.result,S;if(S=n.input.charCodeAt(n.position),kt(S)||ca(S)||S===35||S===38||S===42||S===33||S===124||S===62||S===39||S===34||S===37||S===64||S===96||(S===63||S===45)&&(s=n.input.charCodeAt(n.position+1),kt(s)||i&&ca(s)))return!1;for(n.kind="scalar",n.result="",u=d=n.position,p=!1;S!==0;){if(S===58){if(s=n.input.charCodeAt(n.position+1),kt(s)||i&&ca(s))break}else if(S===35){if(o=n.input.charCodeAt(n.position-1),kt(o))break}else{if(n.position===n.lineStart&&Di(n)||i&&ca(S))break;if(xn(S))if(m=n.line,g=n.lineStart,y=n.lineIndent,ct(n,!1,-1),n.lineIndent>=r){p=!0,S=n.input.charCodeAt(n.position);continue}else{n.position=d,n.line=m,n.lineStart=g,n.lineIndent=y;break}}p&&(Jn(n,u,d,!1),Vs(n,n.line-m),u=d=n.position,p=!1),Ml(S)||(d=n.position+1),S=n.input.charCodeAt(++n.position)}return Jn(n,u,d,!1),n.result?!0:(n.kind=b,n.result=N,!1)}function I1(n,r){var i,o,s;if(i=n.input.charCodeAt(n.position),i!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=s=n.position;(i=n.input.charCodeAt(n.position))!==0;)if(i===39)if(Jn(n,o,n.position,!0),i=n.input.charCodeAt(++n.position),i===39)o=n.position,n.position++,s=n.position;else return!0;else xn(i)?(Jn(n,o,s,!0),Vs(n,ct(n,!1,r)),o=s=n.position):n.position===n.lineStart&&Di(n)?xe(n,"unexpected end of the document within a single quoted scalar"):(n.position++,s=n.position);xe(n,"unexpected end of the stream within a single quoted scalar")}function Y1(n,r){var i,o,s,u,d,p;if(p=n.input.charCodeAt(n.position),p!==34)return!1;for(n.kind="scalar",n.result="",n.position++,i=o=n.position;(p=n.input.charCodeAt(n.position))!==0;){if(p===34)return Jn(n,i,n.position,!0),n.position++,!0;if(p===92){if(Jn(n,i,n.position,!0),p=n.input.charCodeAt(++n.position),xn(p))ct(n,!1,r);else if(p<256&&Oh[p])n.result+=_h[p],n.position++;else if((d=L1(p))>0){for(s=d,u=0;s>0;s--)p=n.input.charCodeAt(++n.position),(d=z1(p))>=0?u=(u<<4)+d:xe(n,"expected hexadecimal character");n.result+=B1(u),n.position++}else xe(n,"unknown escape sequence");i=o=n.position}else xn(p)?(Jn(n,i,o,!0),Vs(n,ct(n,!1,r)),i=o=n.position):n.position===n.lineStart&&Di(n)?xe(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}xe(n,"unexpected end of the stream within a double quoted scalar")}function q1(n,r){var i=!0,o,s,u,d=n.tag,p,m=n.anchor,g,y,b,N,S,w=Object.create(null),v,j,O,A;if(A=n.input.charCodeAt(n.position),A===91)y=93,S=!1,p=[];else if(A===123)y=125,S=!0,p={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=p),A=n.input.charCodeAt(++n.position);A!==0;){if(ct(n,!0,r),A=n.input.charCodeAt(n.position),A===y)return n.position++,n.tag=d,n.anchor=m,n.kind=S?"mapping":"sequence",n.result=p,!0;i?A===44&&xe(n,"expected the node content, but found ','"):xe(n,"missed comma between flow collection entries"),j=v=O=null,b=N=!1,A===63&&(g=n.input.charCodeAt(n.position+1),kt(g)&&(b=N=!0,n.position++,ct(n,!0,r))),o=n.line,s=n.lineStart,u=n.position,da(n,r,_i,!1,!0),j=n.tag,v=n.result,ct(n,!0,r),A=n.input.charCodeAt(n.position),(N||n.line===o)&&A===58&&(b=!0,A=n.input.charCodeAt(++n.position),ct(n,!0,r),da(n,r,_i,!1,!0),O=n.result),S?fa(n,p,w,j,v,O,o,s,u):b?p.push(fa(n,null,w,j,v,O,o,s,u)):p.push(v),ct(n,!0,r),A=n.input.charCodeAt(n.position),A===44?(i=!0,A=n.input.charCodeAt(++n.position)):i=!1}xe(n,"unexpected end of the stream within a flow collection")}function X1(n,r){var i,o,s=zs,u=!1,d=!1,p=r,m=0,g=!1,y,b;if(b=n.input.charCodeAt(n.position),b===124)o=!1;else if(b===62)o=!0;else return!1;for(n.kind="scalar",n.result="";b!==0;)if(b=n.input.charCodeAt(++n.position),b===43||b===45)zs===s?s=b===43?Sh:M1:xe(n,"repeat of a chomping mode identifier");else if((y=V1(b))>=0)y===0?xe(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?xe(n,"repeat of an indentation width identifier"):(p=r+y-1,d=!0);else break;if(Ml(b)){do b=n.input.charCodeAt(++n.position);while(Ml(b));if(b===35)do b=n.input.charCodeAt(++n.position);while(!xn(b)&&b!==0)}for(;b!==0;){for(Ls(n),n.lineIndent=0,b=n.input.charCodeAt(n.position);(!d||n.lineIndent<p)&&b===32;)n.lineIndent++,b=n.input.charCodeAt(++n.position);if(!d&&n.lineIndent>p&&(p=n.lineIndent),xn(b)){m++;continue}if(n.lineIndent<p){s===Sh?n.result+=xt.repeat(`
`,u?1+m:m):s===zs&&u&&(n.result+=`
`);break}for(o?Ml(b)?(g=!0,n.result+=xt.repeat(`
`,u?1+m:m)):g?(g=!1,n.result+=xt.repeat(`
`,m+1)):m===0?u&&(n.result+=" "):n.result+=xt.repeat(`
`,m):n.result+=xt.repeat(`
`,u?1+m:m),u=!0,d=!0,m=0,i=n.position;!xn(b)&&b!==0;)b=n.input.charCodeAt(++n.position);Jn(n,i,n.position,!1)}return!0}function kh(n,r){var i,o=n.tag,s=n.anchor,u=[],d,p=!1,m;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=u),m=n.input.charCodeAt(n.position);m!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,xe(n,"tab characters must not be used in indentation")),!(m!==45||(d=n.input.charCodeAt(n.position+1),!kt(d))));){if(p=!0,n.position++,ct(n,!0,-1)&&n.lineIndent<=r){u.push(null),m=n.input.charCodeAt(n.position);continue}if(i=n.line,da(n,r,wh,!1,!0),u.push(n.result),ct(n,!0,-1),m=n.input.charCodeAt(n.position),(n.line===i||n.lineIndent>r)&&m!==0)xe(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return p?(n.tag=o,n.anchor=s,n.kind="sequence",n.result=u,!0):!1}function G1(n,r,i){var o,s,u,d,p,m,g=n.tag,y=n.anchor,b={},N=Object.create(null),S=null,w=null,v=null,j=!1,O=!1,A;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=b),A=n.input.charCodeAt(n.position);A!==0;){if(!j&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,xe(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),u=n.line,(A===63||A===58)&&kt(o))A===63?(j&&(fa(n,b,N,S,w,null,d,p,m),S=w=v=null),O=!0,j=!0,s=!0):j?(j=!1,s=!0):xe(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,A=o;else{if(d=n.line,p=n.lineStart,m=n.position,!da(n,i,vh,!1,!0))break;if(n.line===u){for(A=n.input.charCodeAt(n.position);Ml(A);)A=n.input.charCodeAt(++n.position);if(A===58)A=n.input.charCodeAt(++n.position),kt(A)||xe(n,"a whitespace character is expected after the key-value separator within a block mapping"),j&&(fa(n,b,N,S,w,null,d,p,m),S=w=v=null),O=!0,j=!1,s=!1,S=n.tag,w=n.result;else if(O)xe(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=g,n.anchor=y,!0}else if(O)xe(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=g,n.anchor=y,!0}if((n.line===u||n.lineIndent>r)&&(j&&(d=n.line,p=n.lineStart,m=n.position),da(n,r,Ti,!0,s)&&(j?w=n.result:v=n.result),j||(fa(n,b,N,S,w,v,d,p,m),S=w=v=null),ct(n,!0,-1),A=n.input.charCodeAt(n.position)),(n.line===u||n.lineIndent>r)&&A!==0)xe(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return j&&fa(n,b,N,S,w,null,d,p,m),O&&(n.tag=g,n.anchor=y,n.kind="mapping",n.result=b),O}function $1(n){var r,i=!1,o=!1,s,u,d;if(d=n.input.charCodeAt(n.position),d!==33)return!1;if(n.tag!==null&&xe(n,"duplication of a tag property"),d=n.input.charCodeAt(++n.position),d===60?(i=!0,d=n.input.charCodeAt(++n.position)):d===33?(o=!0,s="!!",d=n.input.charCodeAt(++n.position)):s="!",r=n.position,i){do d=n.input.charCodeAt(++n.position);while(d!==0&&d!==62);n.position<n.length?(u=n.input.slice(r,n.position),d=n.input.charCodeAt(++n.position)):xe(n,"unexpected end of the stream within a verbatim tag")}else{for(;d!==0&&!kt(d);)d===33&&(o?xe(n,"tag suffix cannot contain exclamation marks"):(s=n.input.slice(r-1,n.position+1),Eh.test(s)||xe(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),d=n.input.charCodeAt(++n.position);u=n.input.slice(r,n.position),R1.test(u)&&xe(n,"tag suffix cannot contain flow indicator characters")}u&&!Nh.test(u)&&xe(n,"tag name cannot contain such characters: "+u);try{u=decodeURIComponent(u)}catch{xe(n,"tag name is malformed: "+u)}return i?n.tag=u:Fn.call(n.tagMap,s)?n.tag=n.tagMap[s]+u:s==="!"?n.tag="!"+u:s==="!!"?n.tag="tag:yaml.org,2002:"+u:xe(n,'undeclared tag handle "'+s+'"'),!0}function W1(n){var r,i;if(i=n.input.charCodeAt(n.position),i!==38)return!1;for(n.anchor!==null&&xe(n,"duplication of an anchor property"),i=n.input.charCodeAt(++n.position),r=n.position;i!==0&&!kt(i)&&!ca(i);)i=n.input.charCodeAt(++n.position);return n.position===r&&xe(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function Z1(n){var r,i,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!kt(o)&&!ca(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&xe(n,"name of an alias node must contain at least one character"),i=n.input.slice(r,n.position),Fn.call(n.anchorMap,i)||xe(n,'unidentified alias "'+i+'"'),n.result=n.anchorMap[i],ct(n,!0,-1),!0}function da(n,r,i,o,s){var u,d,p,m=1,g=!1,y=!1,b,N,S,w,v,j;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,u=d=p=Ti===i||wh===i,o&&ct(n,!0,-1)&&(g=!0,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)),m===1)for(;$1(n)||W1(n);)ct(n,!0,-1)?(g=!0,p=u,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)):p=!1;if(p&&(p=g||s),(m===1||Ti===i)&&(_i===i||vh===i?v=r:v=r+1,j=n.position-n.lineStart,m===1?p&&(kh(n,j)||G1(n,j,v))||q1(n,v)?y=!0:(d&&X1(n,v)||I1(n,v)||Y1(n,v)?y=!0:Z1(n)?(y=!0,(n.tag!==null||n.anchor!==null)&&xe(n,"alias node should not have any properties")):U1(n,v,_i===i)&&(y=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):m===0&&(y=p&&kh(n,j))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&xe(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),b=0,N=n.implicitTypes.length;b<N;b+=1)if(w=n.implicitTypes[b],w.resolve(n.result)){n.result=w.construct(n.result),n.tag=w.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Fn.call(n.typeMap[n.kind||"fallback"],n.tag))w=n.typeMap[n.kind||"fallback"][n.tag];else for(w=null,S=n.typeMap.multi[n.kind||"fallback"],b=0,N=S.length;b<N;b+=1)if(n.tag.slice(0,S[b].tag.length)===S[b].tag){w=S[b];break}w||xe(n,"unknown tag !<"+n.tag+">"),n.result!==null&&w.kind!==n.kind&&xe(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+w.kind+'", not "'+n.kind+'"'),w.resolve(n.result,n.tag)?(n.result=w.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):xe(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||y}function Q1(n){var r=n.position,i,o,s,u=!1,d;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(d=n.input.charCodeAt(n.position))!==0&&(ct(n,!0,-1),d=n.input.charCodeAt(n.position),!(n.lineIndent>0||d!==37));){for(u=!0,d=n.input.charCodeAt(++n.position),i=n.position;d!==0&&!kt(d);)d=n.input.charCodeAt(++n.position);for(o=n.input.slice(i,n.position),s=[],o.length<1&&xe(n,"directive name must not be less than one character in length");d!==0;){for(;Ml(d);)d=n.input.charCodeAt(++n.position);if(d===35){do d=n.input.charCodeAt(++n.position);while(d!==0&&!xn(d));break}if(xn(d))break;for(i=n.position;d!==0&&!kt(d);)d=n.input.charCodeAt(++n.position);s.push(n.input.slice(i,n.position))}d!==0&&Ls(n),Fn.call(Mh,o)?Mh[o](n,o,s):Mi(n,'unknown document directive "'+o+'"')}if(ct(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,ct(n,!0,-1)):u&&xe(n,"directives end mark is expected"),da(n,n.lineIndent-1,Ti,!1,!0),ct(n,!0,-1),n.checkLineBreaks&&k1.test(n.input.slice(r,n.position))&&Mi(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&Di(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,ct(n,!0,-1));return}if(n.position<n.length-1)xe(n,"end of the stream or a document separator is expected");else return}function Rh(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var i=new H1(n,r),o=n.indexOf("\0");for(o!==-1&&(i.position=o,xe(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)Q1(i);return i.documents}function K1(n,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var o=Rh(n,i);if(typeof r!="function")return o;for(var s=0,u=o.length;s<u;s+=1)r(o[s])}function F1(n,r){var i=Rh(n,r);if(i.length!==0){if(i.length===1)return i[0];throw new Mt("expected a single document in the stream, but found more")}}var J1=K1,P1=F1,zh={loadAll:J1,load:P1},Lh=Object.prototype.toString,Vh=Object.prototype.hasOwnProperty,Bs=65279,e2=9,fr=10,t2=13,n2=32,l2=33,a2=34,Hs=35,r2=37,i2=38,o2=39,s2=42,Bh=44,c2=45,ki=58,u2=61,f2=62,d2=63,h2=64,Hh=91,Uh=93,p2=96,Ih=123,m2=124,Yh=125,_t={};_t[0]="\\0",_t[7]="\\a",_t[8]="\\b",_t[9]="\\t",_t[10]="\\n",_t[11]="\\v",_t[12]="\\f",_t[13]="\\r",_t[27]="\\e",_t[34]='\\"',_t[92]="\\\\",_t[133]="\\N",_t[160]="\\_",_t[8232]="\\L",_t[8233]="\\P";var g2=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],x2=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function y2(n,r){var i,o,s,u,d,p,m;if(r===null)return{};for(i={},o=Object.keys(r),s=0,u=o.length;s<u;s+=1)d=o[s],p=String(r[d]),d.slice(0,2)==="!!"&&(d="tag:yaml.org,2002:"+d.slice(2)),m=n.compiledTypeMap.fallback[d],m&&Vh.call(m.styleAliases,p)&&(p=m.styleAliases[p]),i[d]=p;return i}function b2(n){var r,i,o;if(r=n.toString(16).toUpperCase(),n<=255)i="x",o=2;else if(n<=65535)i="u",o=4;else if(n<=4294967295)i="U",o=8;else throw new Mt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+xt.repeat("0",o-r.length)+r}var v2=1,dr=2;function w2(n){this.schema=n.schema||Rs,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=xt.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=y2(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?dr:v2,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function qh(n,r){for(var i=xt.repeat(" ",r),o=0,s=-1,u="",d,p=n.length;o<p;)s=n.indexOf(`
`,o),s===-1?(d=n.slice(o),o=p):(d=n.slice(o,s+1),o=s+1),d.length&&d!==`
`&&(u+=i),u+=d;return u}function Us(n,r){return`
`+xt.repeat(" ",n.indent*r)}function S2(n,r){var i,o,s;for(i=0,o=n.implicitTypes.length;i<o;i+=1)if(s=n.implicitTypes[i],s.resolve(r))return!0;return!1}function Ri(n){return n===n2||n===e2}function hr(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==Bs||65536<=n&&n<=1114111}function Xh(n){return hr(n)&&n!==Bs&&n!==t2&&n!==fr}function Gh(n,r,i){var o=Xh(n),s=o&&!Ri(n);return(i?o:o&&n!==Bh&&n!==Hh&&n!==Uh&&n!==Ih&&n!==Yh)&&n!==Hs&&!(r===ki&&!s)||Xh(r)&&!Ri(r)&&n===Hs||r===ki&&s}function E2(n){return hr(n)&&n!==Bs&&!Ri(n)&&n!==c2&&n!==d2&&n!==ki&&n!==Bh&&n!==Hh&&n!==Uh&&n!==Ih&&n!==Yh&&n!==Hs&&n!==i2&&n!==s2&&n!==l2&&n!==m2&&n!==u2&&n!==f2&&n!==o2&&n!==a2&&n!==r2&&n!==h2&&n!==p2}function N2(n){return!Ri(n)&&n!==ki}function pr(n,r){var i=n.charCodeAt(r),o;return i>=55296&&i<=56319&&r+1<n.length&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function $h(n){var r=/^\n* /;return r.test(n)}var Wh=1,Is=2,Zh=3,Qh=4,ha=5;function j2(n,r,i,o,s,u,d,p){var m,g=0,y=null,b=!1,N=!1,S=o!==-1,w=-1,v=E2(pr(n,0))&&N2(pr(n,n.length-1));if(r||d)for(m=0;m<n.length;g>=65536?m+=2:m++){if(g=pr(n,m),!hr(g))return ha;v=v&&Gh(g,y,p),y=g}else{for(m=0;m<n.length;g>=65536?m+=2:m++){if(g=pr(n,m),g===fr)b=!0,S&&(N=N||m-w-1>o&&n[w+1]!==" ",w=m);else if(!hr(g))return ha;v=v&&Gh(g,y,p),y=g}N=N||S&&m-w-1>o&&n[w+1]!==" "}return!b&&!N?v&&!d&&!s(n)?Wh:u===dr?ha:Is:i>9&&$h(n)?ha:d?u===dr?ha:Is:N?Qh:Zh}function C2(n,r,i,o,s){n.dump=(function(){if(r.length===0)return n.quotingType===dr?'""':"''";if(!n.noCompatMode&&(g2.indexOf(r)!==-1||x2.test(r)))return n.quotingType===dr?'"'+r+'"':"'"+r+"'";var u=n.indent*Math.max(1,i),d=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-u),p=o||n.flowLevel>-1&&i>=n.flowLevel;function m(g){return S2(n,g)}switch(j2(r,p,n.indent,d,m,n.quotingType,n.forceQuotes&&!o,s)){case Wh:return r;case Is:return"'"+r.replace(/'/g,"''")+"'";case Zh:return"|"+Kh(r,n.indent)+Fh(qh(r,u));case Qh:return">"+Kh(r,n.indent)+Fh(qh(A2(r,d),u));case ha:return'"'+O2(r)+'"';default:throw new Mt("impossible error: invalid scalar style")}})()}function Kh(n,r){var i=$h(n)?String(r):"",o=n[n.length-1]===`
`,s=o&&(n[n.length-2]===`
`||n===`
`),u=s?"+":o?"":"-";return i+u+`
`}function Fh(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function A2(n,r){for(var i=/(\n+)([^\n]*)/g,o=(function(){var g=n.indexOf(`
`);return g=g!==-1?g:n.length,i.lastIndex=g,Jh(n.slice(0,g),r)})(),s=n[0]===`
`||n[0]===" ",u,d;d=i.exec(n);){var p=d[1],m=d[2];u=m[0]===" ",o+=p+(!s&&!u&&m!==""?`
`:"")+Jh(m,r),s=u}return o}function Jh(n,r){if(n===""||n[0]===" ")return n;for(var i=/ [^ ]/g,o,s=0,u,d=0,p=0,m="";o=i.exec(n);)p=o.index,p-s>r&&(u=d>s?d:p,m+=`
`+n.slice(s,u),s=u+1),d=p;return m+=`
`,n.length-s>r&&d>s?m+=n.slice(s,d)+`
`+n.slice(d+1):m+=n.slice(s),m.slice(1)}function O2(n){for(var r="",i=0,o,s=0;s<n.length;i>=65536?s+=2:s++)i=pr(n,s),o=_t[i],!o&&hr(i)?(r+=n[s],i>=65536&&(r+=n[s+1])):r+=o||b2(i);return r}function _2(n,r,i){var o="",s=n.tag,u,d,p;for(u=0,d=i.length;u<d;u+=1)p=i[u],n.replacer&&(p=n.replacer.call(i,String(u),p)),(On(n,r,p,!1,!1)||typeof p>"u"&&On(n,r,null,!1,!1))&&(o!==""&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=s,n.dump="["+o+"]"}function Ph(n,r,i,o){var s="",u=n.tag,d,p,m;for(d=0,p=i.length;d<p;d+=1)m=i[d],n.replacer&&(m=n.replacer.call(i,String(d),m)),(On(n,r+1,m,!0,!0,!1,!0)||typeof m>"u"&&On(n,r+1,null,!0,!0,!1,!0))&&((!o||s!=="")&&(s+=Us(n,r)),n.dump&&fr===n.dump.charCodeAt(0)?s+="-":s+="- ",s+=n.dump);n.tag=u,n.dump=s||"[]"}function T2(n,r,i){var o="",s=n.tag,u=Object.keys(i),d,p,m,g,y;for(d=0,p=u.length;d<p;d+=1)y="",o!==""&&(y+=", "),n.condenseFlow&&(y+='"'),m=u[d],g=i[m],n.replacer&&(g=n.replacer.call(i,m,g)),On(n,r,m,!1,!1)&&(n.dump.length>1024&&(y+="? "),y+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),On(n,r,g,!1,!1)&&(y+=n.dump,o+=y));n.tag=s,n.dump="{"+o+"}"}function M2(n,r,i,o){var s="",u=n.tag,d=Object.keys(i),p,m,g,y,b,N;if(n.sortKeys===!0)d.sort();else if(typeof n.sortKeys=="function")d.sort(n.sortKeys);else if(n.sortKeys)throw new Mt("sortKeys must be a boolean or a function");for(p=0,m=d.length;p<m;p+=1)N="",(!o||s!=="")&&(N+=Us(n,r)),g=d[p],y=i[g],n.replacer&&(y=n.replacer.call(i,g,y)),On(n,r+1,g,!0,!0,!0)&&(b=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,b&&(n.dump&&fr===n.dump.charCodeAt(0)?N+="?":N+="? "),N+=n.dump,b&&(N+=Us(n,r)),On(n,r+1,y,!0,b)&&(n.dump&&fr===n.dump.charCodeAt(0)?N+=":":N+=": ",N+=n.dump,s+=N));n.tag=u,n.dump=s||"{}"}function ep(n,r,i){var o,s,u,d,p,m;for(s=i?n.explicitTypes:n.implicitTypes,u=0,d=s.length;u<d;u+=1)if(p=s[u],(p.instanceOf||p.predicate)&&(!p.instanceOf||typeof r=="object"&&r instanceof p.instanceOf)&&(!p.predicate||p.predicate(r))){if(i?p.multi&&p.representName?n.tag=p.representName(r):n.tag=p.tag:n.tag="?",p.represent){if(m=n.styleMap[p.tag]||p.defaultStyle,Lh.call(p.represent)==="[object Function]")o=p.represent(r,m);else if(Vh.call(p.represent,m))o=p.represent[m](r,m);else throw new Mt("!<"+p.tag+'> tag resolver accepts not "'+m+'" style');n.dump=o}return!0}return!1}function On(n,r,i,o,s,u,d){n.tag=null,n.dump=i,ep(n,i,!1)||ep(n,i,!0);var p=Lh.call(n.dump),m=o,g;o&&(o=n.flowLevel<0||n.flowLevel>r);var y=p==="[object Object]"||p==="[object Array]",b,N;if(y&&(b=n.duplicates.indexOf(i),N=b!==-1),(n.tag!==null&&n.tag!=="?"||N||n.indent!==2&&r>0)&&(s=!1),N&&n.usedDuplicates[b])n.dump="*ref_"+b;else{if(y&&N&&!n.usedDuplicates[b]&&(n.usedDuplicates[b]=!0),p==="[object Object]")o&&Object.keys(n.dump).length!==0?(M2(n,r,n.dump,s),N&&(n.dump="&ref_"+b+n.dump)):(T2(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(p==="[object Array]")o&&n.dump.length!==0?(n.noArrayIndent&&!d&&r>0?Ph(n,r-1,n.dump,s):Ph(n,r,n.dump,s),N&&(n.dump="&ref_"+b+n.dump)):(_2(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(p==="[object String]")n.tag!=="?"&&C2(n,n.dump,r,u,m);else{if(p==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new Mt("unacceptable kind of an object to dump "+p)}n.tag!==null&&n.tag!=="?"&&(g=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?g="!"+g:g.slice(0,18)==="tag:yaml.org,2002:"?g="!!"+g.slice(18):g="!<"+g+">",n.dump=g+" "+n.dump)}return!0}function D2(n,r){var i=[],o=[],s,u;for(Ys(n,i,o),s=0,u=o.length;s<u;s+=1)r.duplicates.push(i[o[s]]);r.usedDuplicates=new Array(u)}function Ys(n,r,i){var o,s,u;if(n!==null&&typeof n=="object")if(s=r.indexOf(n),s!==-1)i.indexOf(s)===-1&&i.push(s);else if(r.push(n),Array.isArray(n))for(s=0,u=n.length;s<u;s+=1)Ys(n[s],r,i);else for(o=Object.keys(n),s=0,u=o.length;s<u;s+=1)Ys(n[o[s]],r,i)}function k2(n,r){r=r||{};var i=new w2(r);i.noRefs||D2(n,i);var o=n;return i.replacer&&(o=i.replacer.call({"":o},"",o)),On(i,0,o,!0,!0)?i.dump+`
`:""}var R2=k2,z2={dump:R2};function qs(n,r){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var L2=St,V2=th,B2=rh,H2=uh,U2=fh,I2=Rs,Y2=zh.load,q2=zh.loadAll,X2=z2.dump,G2=Mt,$2={binary:gh,float:ch,map:ah,null:ih,pairs:yh,set:bh,timestamp:ph,bool:oh,int:sh,merge:mh,omap:xh,seq:lh,str:nh},W2=qs("safeLoad","load"),Z2=qs("safeLoadAll","loadAll"),Q2=qs("safeDump","dump"),zi={Type:L2,Schema:V2,FAILSAFE_SCHEMA:B2,JSON_SCHEMA:H2,CORE_SCHEMA:U2,DEFAULT_SCHEMA:I2,load:Y2,loadAll:q2,dump:X2,YAMLException:G2,types:$2,safeLoad:W2,safeLoadAll:Z2,safeDump:Q2};function K2(n){const r=n.trim();if(!r)return{success:!1,error:"Empty source"};if(r.startsWith("{")||r.startsWith("["))try{return{success:!0,data:JSON.parse(r)}}catch{}try{const i=zi.load(r);return i==null?{success:!1,error:"Empty workflow"}:{success:!0,data:i}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Parse failed"}}}function F2(n,r){return n.constructs.find(i=>i.opcode===r)}function J2(n){return new Set(n.constructs.filter(r=>r.branches&&r.branches.length>0).map(r=>r.opcode))}function P2(n,r){const i=n.branch_colors;return r.startsWith("CATCH")?i.CATCH||i.default||"#9C27B0":r.startsWith("BRANCH")?i.BRANCH||i.default||"#9C27B0":i[r]||i.default||"#9C27B0"}function ew(n,r){const i=n.node_colors;return i[r]||i.opcode||"#64748B"}function tw(n,r){const i=n.reporter_colors;for(const o of n.categories)if(r.startsWith(o.prefix))return i[o.id]||i.default||"#64748B";return i.default||"#64748B"}const _n={version:"1.0",categories:[{id:"io",label:"I/O Operations",prefix:"io_",color:"#22D3EE",icon:""},{id:"operator",label:"Operators",prefix:"operator_",color:"#9C27B0",icon:""},{id:"math",label:"Math Operations",prefix:"math_",color:"#8B5CF6",icon:""},{id:"string",label:"String Operations",prefix:"string_",color:"#F472B6",icon:""},{id:"list",label:"List Operations",prefix:"list_",color:"#3B82F6",icon:""},{id:"dict",label:"Dictionary Operations",prefix:"dict_",color:"#F59E0B",icon:""},{id:"object",label:"Object Operations",prefix:"object_",color:"#10B981",icon:""},{id:"type",label:"Type Conversions",prefix:"type_",color:"#6B7280",icon:""},{id:"throw",label:"Exception Operations",prefix:"throw_",color:"#EF4444",icon:""},{id:"assert",label:"Assertion Operations",prefix:"assert_",color:"#F97316",icon:""},{id:"workflow",label:"Workflow Operations",prefix:"workflow_",color:"#E91E63",icon:""},{id:"data",label:"Data Operations",prefix:"data_",color:"#4CAF50",icon:""},{id:"control",label:"Control Flow",prefix:"control_",color:"#FF9500",icon:""},{id:"async",label:"Async Operations",prefix:"async_",color:"#06B6D4",icon:""},{id:"pydantic_ai",label:"AI Operations (Pydantic AI)",prefix:"pydantic_ai_",color:"#10B981",icon:"",requires:"ai"},{id:"http",label:"HTTP Operations",prefix:"http_",color:"#3B82F6",icon:"",requires:"http"},{id:"html",label:"HTML Operations",prefix:"html_",color:"#E34F26",icon:"",requires:"http"},{id:"json",label:"JSON Operations",prefix:"json_",color:"#F59E0B",icon:""},{id:"pygame",label:"Pygame Operations",prefix:"pygame_",color:"#00D86A",icon:"",requires:"pygame"},{id:"rag",label:"RAG Operations",prefix:"rag_",color:"#8B5CF6",icon:"",requires:"rag"},{id:"chat",label:"Chat Operations",prefix:"chat_",color:"#6366F1",icon:""},{id:"cli",label:"CLI Operations",prefix:"cli_",color:"#EC4899",icon:""},{id:"github",label:"GitHub Operations",prefix:"github_",color:"#24292F",icon:""},{id:"task",label:"Task Operations",prefix:"task_",color:"#0EA5E9",icon:""},{id:"channel",label:"Channel Operations",prefix:"channel_",color:"#14B8A6",icon:""},{id:"sync",label:"Sync Primitives",prefix:"sync_",color:"#A855F7",icon:""}],constructs:[{opcode:"control_if",display_name:"If",ast_class:"If",category:"control",description:"Execute branch if condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0}]},{opcode:"control_if_else",display_name:"If-Else",ast_class:"If",category:"control",description:"Execute then-branch if condition is true, else-branch otherwise.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0},{name:"ELSE",label:"Else",color:"#EF5350",required:!0}]},{opcode:"control_while",display_name:"While",ast_class:"While",category:"control",description:"Repeat body while condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_for",display_name:"For",ast_class:"For",category:"control",description:"For loop with counter variable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"START",type:"expression",label:"Start",value_type:"int",required:!0},{name:"END",type:"expression",label:"End",value_type:"int",required:!0},{name:"STEP",type:"expression",label:"Step",value_type:"int",required:!1,default:1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_foreach",display_name:"ForEach",ast_class:"ForEach",category:"control",description:"Iterate over each item in a collection.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Iterable",value_type:"list",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_fork",display_name:"Fork",ast_class:"Fork",category:"control",description:"Execute multiple branches concurrently.",inputs:[],branches:[{name:"BRANCH1",label:"Branch 1",color:"#9C27B0",required:!0},{name:"BRANCH2",label:"Branch 2",color:"#9C27B0",required:!1}],dynamic_branches:!0},{opcode:"control_try",display_name:"Try",ast_class:"Try",category:"control",description:"Exception handling with try/catch/finally.",inputs:[],branches:[{name:"TRY",label:"Try",color:"#3B82F6",required:!0},{name:"CATCH1",label:"Catch",color:"#F87171",required:!1,catch_config:{exception_type:"string",var_name:"string"}},{name:"FINALLY",label:"Finally",color:"#FACC15",required:!1}],dynamic_branches:!0},{opcode:"control_throw",display_name:"Throw",ast_class:"Throw",category:"control",description:"Raise an exception with a message.",inputs:[{name:"VALUE",type:"expression",label:"Message",value_type:"string",required:!0}],branches:[]},{opcode:"control_spawn",display_name:"Spawn",ast_class:"Spawn",category:"control",description:"Spawn a background task.",inputs:[{name:"VAR",type:"variable_name",label:"Task Variable",required:!1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_async_foreach",display_name:"Async ForEach",ast_class:"AsyncForEach",category:"control",description:"Async iteration over a stream or async iterable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Async Iterable",value_type:"async_iterable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"async_timeout",display_name:"Timeout",ast_class:"Timeout",category:"async",description:"Execute body with a timeout, with optional fallback.",inputs:[{name:"TIMEOUT",type:"expression",label:"Timeout (seconds)",value_type:"float",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0},{name:"ON_TIMEOUT",label:"On Timeout",color:"#FACC15",required:!1}]},{opcode:"control_with",display_name:"With",ast_class:"With",category:"control",description:"Async context manager (with statement).",inputs:[{name:"RESOURCE",type:"expression",label:"Resource",required:!0},{name:"VAR",type:"variable_name",label:"Variable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"data_set_variable_to",display_name:"Set Variable",ast_class:"Assign",category:"data",description:"Assign a value to a variable.",inputs:[{name:"VARIABLE",type:"variable_name",label:"Variable",required:!0},{name:"VALUE",type:"expression",label:"Value",required:!0}],branches:[]},{opcode:"workflow_return",display_name:"Return",ast_class:"Return",category:"workflow",description:"Return value(s) from workflow.",inputs:[{name:"VALUE",type:"expression",label:"Value",required:!1}],branches:[],dynamic_inputs:!0},{opcode:"workflow_call",display_name:"Call Workflow",ast_class:"ExprStmt",category:"workflow",description:"Call another workflow by name.",inputs:[{name:"WORKFLOW",type:"variable_name",label:"Workflow Name",required:!0}],branches:[],dynamic_inputs:!0},{opcode:"workflow_start",display_name:"Start",ast_class:null,category:"workflow",description:"Entry point for workflow execution.",inputs:[],branches:[]}],branch_colors:{THEN:"#34D399",ELSE:"#F87171",BODY:"#22D3EE",TRY:"#3B82F6",CATCH:"#F87171",FINALLY:"#FACC15",ON_TIMEOUT:"#FACC15",BRANCH:"#9C27B0",default:"#9C27B0"},node_colors:{control_flow:"#FF9500",data:"#4CAF50",io:"#22D3EE",operator:"#9C27B0",workflow_op:"#E91E63",opcode:"#64748B"},reporter_colors:{data:"#4CAF50",operator:"#9C27B0",io:"#22D3EE",workflow:"#E91E63",default:"#64748B"}};function nw(){return _n}function tp(n){return P2(_n,n)}function np(n){return ew(_n,n)}function lp(n){return tw(_n,n)}function lw(){return J2(_n)}function mr(n){return F2(_n,n)}function aw(n,r){const i=mr(n);if(!i||!i.branches)return[];const o=new Set(r),s=[];if(i.dynamic_branches){const u=[],d=[];for(const p of i.branches){const m=p.name.match(/^([A-Z]+)(\d+)$/);if(m){const g=m[1];d.find(b=>b.prefix===g)||d.push({prefix:g,minCount:p.required?1:0})}else u.push(p.name)}for(const p of u)s.push({name:p,connected:o.has(p)});for(const p of d){const m=r.filter(N=>N.startsWith(p.prefix)&&/^\d+$/.test(N.slice(p.prefix.length))),g=m.length>0?Math.max(...m.map(N=>parseInt(N.slice(p.prefix.length)))):0,y=Math.max(p.minCount,g),b=y>0?y:1;for(let N=1;N<=b;N++){const S=`${p.prefix}${N}`;s.push({name:S,connected:o.has(S)})}}return s}for(const u of i.branches)s.push({name:u.name,connected:o.has(u.name)});return s}function rw(){return _n.categories}function ap(n){for(const r of _n.categories)if(n.startsWith(r.prefix))return r.icon;return""}function iw(n){for(const r of _n.categories)if(n.startsWith(r.prefix))return r;return null}function ow(n){const r=n.workflows||[];if(r.length===0)return n.nodes?{type:"project",workflows:[rp(n)]}:{error:"No workflows found"};const i=[];let o={inputs:[],outputs:[]};for(const s of r){const u=rp(s);i.push(u),(u.name==="main"||o.inputs.length===0)&&(o=u.interface)}return{type:"project",workflows:i,interface:o}}function rp(n){const r=n.nodes||{},i=n.interface||{},o={type:"workflow",name:n.name||"main",interface:{inputs:i.inputs||[],outputs:i.outputs||[]},variables:n.variables||{},children:[],orphans:[]},s=new Set;let d=(r.start||{}).next;for(;d&&!s.has(d);){s.add(d);const S=r[d];if(!S)break;const w=Xs(d,S,r,s);o.children.push(w),d=S.next}const p=new Set(Object.keys(r).filter(S=>S!=="start")),m=new Set([...p].filter(S=>!s.has(S)));for(const S of m){const w=r[S]||{};$s(w.inputs||{},r,s)}const g=new Set([...p].filter(S=>!s.has(S))),y=new Set;for(const S of g){const v=(r[S]||{}).next;v&&g.has(v)&&y.add(v)}const b=[...g].filter(S=>!y.has(S)).sort(),N=new Set;for(const S of b){let w=S;for(;w&&!N.has(w);){const v=r[w];if(!v)break;if(v.isReporter){N.add(w),w=v.next&&g.has(v.next)?v.next:void 0;continue}N.add(w);const j=Xs(w,v,r,s),O=v.next;O&&g.has(O)&&(j.next=O),o.orphans.push(j),w=O&&g.has(O)?O:void 0}}return o}function Xs(n,r,i,o){const s=r.opcode||"",u=r.inputs||{},d=r.isReporter||!1;$s(u,i,o);const p={id:n,type:fw(s),opcode:s,isReporter:d,inputs:dw(u,i,s),children:[]},m=mr(s);return m&&m.branches.length>0&&(p.config=sw(s,u,i,m),p.children=cw(u,i,o,m)),p}function sw(n,r,i,o){const s={};for(const u of o.inputs){const d=Gs(r,u.name);if(d!==void 0){const p=u.name.toLowerCase();u.type==="variable_name"?s[p]=Zs(d):u.type==="expression"&&(p==="condition"||p==="iterable"||p==="resource"?s[p]=Ws(d,i):s[p]=Zs(d))}}return["control_for","control_foreach","control_spawn","control_async_foreach","control_with"].includes(n)&&(s.var||(s.var=Zs(r.VAR??r.var??"i"))),s}function cw(n,r,i,o){const s=[];if(o.dynamic_branches)return uw(n,r,i,o);for(const u of o.branches){const d=Gs(n,u.name),p=typeof d=="object"&&d!==null?d.branch:void 0;p?s.push(Li(u.name,p,r,i)):d!==void 0&&s.push({type:"branch",name:u.name,children:[]})}return s}function uw(n,r,i,o){const s=[],u=[],d=[];for(const p of o.branches){const m=p.name.match(/^([A-Z]+)(\d+)$/);if(m){const g=m[1];d.includes(g)||d.push(g)}else u.push(p.name)}for(const p of u){const m=Gs(n,p),g=typeof m=="object"&&m!==null?m.branch:void 0;g?s.push(Li(p,g,r,i)):m!==void 0&&s.push({type:"branch",name:p,children:[]})}for(const p of d){const m=p==="CATCH"?"HANDLERS":p==="BRANCH"?"BRANCHES":null,g=m?n[m]??n[m.toLowerCase()]:null;if(Array.isArray(g)&&g.length>0)g.forEach((y,b)=>{if(typeof y=="object"&&y!==null){const N=y,S=N.branch??N.body?.branch,w=`${p}${b+1}`;if(S){const v=Li(w,S,r,i);p==="CATCH"&&(v.exception_type=N.exception_type||"Exception",v.var_name=N.var_name??N.var),s.push(v)}else{const v={type:"branch",name:w,children:[]};p==="CATCH"&&(v.exception_type=N.exception_type||"Exception",v.var_name=N.var_name??N.var),s.push(v)}}});else{let y=1;for(;;){const b=`${p}${y}`,N=n[b];if(N===void 0)break;if(typeof N=="object"&&N!==null){const S=N,w=S.branch??S.body?.branch??N.branch;if(w){const v=Li(b,w,r,i);p==="CATCH"&&(v.exception_type=S.exception_type||"Exception",v.var_name=S.var_name??S.var),s.push(v)}else{const v={type:"branch",name:b,children:[]};p==="CATCH"&&(v.exception_type=S.exception_type||"Exception",v.var_name=S.var_name??S.var),s.push(v)}}y++}}}return s}function Gs(n,r){return n[r]??n[r.toLowerCase()]}function $s(n,r,i){for(const o of Object.values(n))if(typeof o=="object"&&o!==null){const s=o;if(s.node){const u=s.node;if(!i.has(u)){i.add(u);const p=(r[u]||{}).inputs||{};$s(p,r,i)}}}}function fw(n){const r=nw();for(const i of r.categories)if(n.startsWith(i.prefix))switch(i.id){case"control":case"async":return"control_flow";case"data":return"data";case"io":return"io";case"operator":case"math":case"string":case"list":case"dict":return"operator";case"workflow":return"workflow_op";default:return"opcode"}return"opcode"}function dw(n,r,i){const o={},s=mr(i),u=new Set;if(s)for(const p of s.branches)u.add(p.name),u.add(p.name.toLowerCase());const d=new Set(["BODY","body","THEN","then","ELSE","else","TRY","FINALLY","HANDLERS","handlers","BRANCHES","branches"]);for(const[p,m]of Object.entries(n))u.has(p)||d.has(p)||/^(CATCH|BRANCH)\d+$/.test(p)||(o[p]=Ws(m,r));return o}function Ws(n,r,i=0){if(typeof n=="object"&&n!==null){const o=n;if("literal"in o)return{type:"literal",value:o.literal};if("variable"in o)return{type:"variable",name:o.variable};if("node"in o){const s=o.node,u=r[s]||{},d=u.opcode||"",p=u.inputs||{};return{type:"reporter",id:s,opcode:d,inputs:Object.fromEntries(Object.entries(p).filter(([m])=>!m.startsWith("CATCH")&&!["BODY","THEN","ELSE"].includes(m)).map(([m,g])=>[m,Ws(g,r,i+1)]))}}return"branch"in o?{type:"branch",target:o.branch}:"workflow_call"in o?{type:"workflow_call",name:o.workflow_call}:{type:"dict",value:n}}return{type:"literal",value:n}}function Zs(n){return typeof n=="object"&&n!==null&&"literal"in n?n.literal:n}function Li(n,r,i,o){const s={type:"branch",name:n,children:[]};let u=r;for(;u&&!o.has(u);){o.add(u);const d=i[u];if(!d)break;s.children.push(Xs(u,d,i,o)),u=d.next}return s}function hw(n){if(!Array.isArray(n))throw new Error(`opcodeAdapter must return an array.
Received: ${typeof n}

Expected format:
[
  {
    name: "io_print",
    description: "Print to output",
    parameters: [{ name: "MESSAGE", type: "any", required: true }],
    return_type: "void"
  }
]`);for(let r=0;r<n.length;r++){const i=n[r];if(!i||typeof i!="object")throw new Error(`opcodeAdapter[${r}] must be an object`);if(typeof i.name!="string")throw new Error(`opcodeAdapter[${r}].name must be a string`);if(!Array.isArray(i.parameters))throw new Error(`opcodeAdapter[${r}].parameters must be an array`)}return n}async function gr(n,r){const i=await fetch(n,{headers:{"Content-Type":"application/json"},...r});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return i.json()}function ip(n){const{apiBaseUrl:r}=n;return{name:"lexflow",config:n,async listOpcodes(){const i=n.opcodesUrl??`${r}/opcodes`,o=await gr(i);if(n.opcodeAdapter){const s=n.opcodeAdapter(o);return hw(s)}return o},async executeWorkflow(i,o,s){return gr(`${r}/execute`,{method:"POST",body:JSON.stringify({workflow:i,inputs:o,include_metrics:s})})},getWebSocketUrl(){if(n.supportsWebSocket===!1)return null;if(n.wsUrl)return`${n.wsUrl}/execute`;const i=new URL(r,window.location.href);return`${i.protocol==="https:"?"wss:":"ws:"}//${i.host}/ws/execute`},async parseWorkflow(i){const o=K2(i);if(!o.success||!o.data)return{success:!1,error:o.error||"Parse failed"};const s=ow(o.data);if("error"in s)return{success:!1,error:s.error};const u=s;return{success:!0,tree:u,interface:u.interface}},async validateWorkflow(i){return gr(`${r}/validate`,{method:"POST",body:JSON.stringify({workflow:i})})},async listExamples(){return n.supportsExamples===!1?[]:gr(`${r}/examples`)},async getExample(i){return gr(`${r}/examples/${i}`)}}}const op=D.createContext(null);function pw({override:n,children:r}){return h.jsx(op.Provider,{value:n??null,children:r})}function mw(){return D.useContext(op)}function gw({className:n}){const{examples:r,setSource:i}=nt(),o=cr();if(r.length===0)return null;const s=async d=>{const p=d.target.value;if(p){try{if(_s(o)){const m=await o.getExample(p);i(m.content)}}catch(m){console.error("Failed to load example:",m)}d.target.value=""}},u=r.reduce((d,p)=>(d[p.category]||(d[p.category]=[]),d[p.category].push(p),d),{});return h.jsxs(Gd,{className:n,onChange:s,defaultValue:"",children:[h.jsx("option",{value:"",children:"Load Example..."}),Object.entries(u).map(([d,p])=>h.jsx("optgroup",{label:d,children:p.map(m=>h.jsx("option",{value:m.path,children:m.name},m.path))},d))]})}const xw=M("flex items-center h-12 pl-5 pr-4 bg-surface-1 border-b border-border-subtle shrink-0"),yw=M("text-base font-semibold text-text-primary tracking-tight ml-2"),Qs=M("w-px h-6 mx-2 bg-border-subtle"),sp=M("flex items-center gap-1.5"),bw="1.0";function vw(n){try{const r=zi.load(n);if(!r?.metadata?.editor)return null;const i=r.metadata.editor;return typeof i.version!="string"||!i.layout||!i.viewport?null:i}catch{return null}}function ww(n,r){try{const i=zi.load(n);return i?(i.metadata={...i.metadata,editor:r},zi.dump(i,{indent:2,lineWidth:-1,noRefs:!0,sortKeys:(o,s)=>o==="metadata"?1:s==="metadata"?-1:0})):n}catch{return n}}function cp(n,r,i,o,s,u){return{version:bw,layout:{mode:n,nodePositions:{...r},workflowPositions:{...i}},viewport:{zoom:o,panX:s,panY:u}}}const up=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`;function Sw({className:n,onSave:r,showSaveButton:i,saveButtonLabel:o="Save",showExamples:s}){const{source:u,setSource:d,undo:p,redo:m,canUndo:g,canRedo:y}=nt(),{togglePalette:b,toggleEditor:N,isEditorOpen:S}=_e(),w=D.useRef(null),[v,j]=D.useState(!1),O=async()=>{if(!(!r||v)){j(!0);try{const{nodePositions:H,workflowPositions:U,layoutMode:Q,zoom:te,panX:ce,panY:ie}=_e.getState(),re=cp(Q,H,U,te,ce,ie);await r(u,re)}finally{j(!1)}}},A=i??!!r,X=()=>{u!==up&&_e.getState().showConfirmDialog({title:"New Workflow",message:"Create a new workflow? Unsaved changes will be lost.",confirmLabel:"Create",variant:"default",onConfirm:()=>d(up)})},$=async()=>{const{nodePositions:H,workflowPositions:U,layoutMode:Q,zoom:te,panX:ce,panY:ie}=_e.getState(),re=cp(Q,H,U,te,ce,ie),ue=ww(u,re),oe=new Blob([ue],{type:"text/yaml"});if("showSaveFilePicker"in window)try{const le=await(await window.showSaveFilePicker({suggestedName:"workflow.yaml",types:[{description:"YAML files",accept:{"text/yaml":[".yaml",".yml"]}}]})).createWritable();await le.write(oe),await le.close();return}catch(R){if(R.name==="AbortError")return}const k=URL.createObjectURL(oe),G=document.createElement("a");G.href=k,G.download="workflow.yaml",G.click(),URL.revokeObjectURL(k)},V=()=>{w.current?.click()},B=H=>{const U=H.target.files?.[0];if(!U)return;const Q=new FileReader;Q.onload=te=>{const ce=te.target?.result,ie=vw(ce);if(d(ce),ie){const re=_e.getState();re.resetNodePositions(),re.resetWorkflowPositions(),re.setLayoutMode(ie.layout.mode);for(const[ue,oe]of Object.entries(ie.layout.nodePositions))re.setNodePosition(ue,oe.x,oe.y);for(const[ue,oe]of Object.entries(ie.layout.workflowPositions))re.setWorkflowPosition(ue,oe.x,oe.y);re.setZoom(ie.viewport.zoom),re.setPan(ie.viewport.panX,ie.viewport.panY)}},Q.readAsText(U),H.target.value=""};return h.jsxs("header",{className:P(xw(),n),children:[h.jsxs("div",{className:P(sp(),"flex-1"),children:[h.jsx("h1",{className:yw(),style:{marginLeft:"8px"},children:"LexFlow"}),h.jsx("div",{className:Qs()}),h.jsx(gn,{icon:h.jsx(uv,{}),label:"New Workflow",onClick:X}),h.jsx(gn,{icon:h.jsx(fv,{}),label:"Import Workflow",onClick:V}),h.jsx(gn,{icon:h.jsx(dv,{}),label:"Export Workflow",onClick:$}),A&&r&&h.jsx(gn,{icon:h.jsx(Ov,{}),label:o,onClick:O,disabled:v}),h.jsx("div",{className:Qs()}),h.jsx(gn,{icon:h.jsx(hv,{}),label:"Undo (Ctrl+Z)",onClick:p,disabled:!g}),h.jsx(gn,{icon:h.jsx(pv,{}),label:"Redo (Ctrl+Y)",onClick:m,disabled:!y}),h.jsx("div",{className:Qs()}),h.jsx(gn,{icon:h.jsx(mv,{}),label:"Node Palette (Ctrl+P)",onClick:b}),h.jsx("input",{ref:w,type:"file",accept:".yaml,.yml,.json",onChange:B,className:"hidden"})]}),h.jsx("div",{className:"flex items-center justify-center",children:s!==!1&&h.jsx(gw,{})}),h.jsxs("div",{className:P(sp(),"flex-1 justify-end"),children:[h.jsx(_v,{}),h.jsx(gn,{icon:h.jsx(gv,{}),label:"Toggle Editor (Ctrl+B)",onClick:N,className:S?"bg-surface-3":""})]})]})}const Ew=M("absolute bg-transparent transition-colors hover:bg-accent-blue/50 z-10",{variants:{orientation:{horizontal:"cursor-col-resize w-1 -right-0.5 top-0 bottom-0",vertical:"cursor-row-resize h-1 -top-0.5 left-0 right-0"},isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{orientation:"horizontal",isResizing:!1}});function Nw({orientation:n,isResizing:r=!1,onMouseDown:i,className:o}){return h.jsx("div",{className:P(Ew({orientation:n,isResizing:r}),o),onMouseDown:i})}function jw({orientation:n,minSize:r,maxSize:i,defaultSize:o}){const[s,u]=D.useState(o),[d,p]=D.useState(!1),m=D.useRef(null),g=D.useCallback(y=>{y.preventDefault(),m.current=y.target.parentElement,p(!0)},[]);return D.useEffect(()=>{if(!d)return;const y=N=>{if(!m.current)return;const S=m.current.getBoundingClientRect();let w;w=N.clientX-S.left,u(Math.min(i,Math.max(r,w)))},b=()=>{p(!1)};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)}},[d,n,r,i]),{size:s,isResizing:d,handleMouseDown:g}}const Cw=M("flex flex-col h-full overflow-hidden"),Aw=M("flex flex-1 overflow-hidden relative"),Ow=M("relative bg-surface-1 border-r border-border-subtle flex flex-col shrink-0"),_w=M("flex-1 flex flex-col relative overflow-hidden bg-surface-0"),Tw=M("bg-surface-1 border-t border-border-subtle shrink-0 overflow-visible"),Mw=M("absolute right-0 top-0 bottom-0 w-80 bg-surface-1 border-l border-border-subtle z-[100] shadow-lg transition-transform duration-200",{variants:{isOpen:{true:"translate-x-0",false:"translate-x-full"}},defaultVariants:{isOpen:!1}}),Dw=M("fixed inset-0 bg-black/50 z-[200] flex justify-start"),kw=M("w-[300px] h-full bg-surface-1 border-r border-border-subtle animate-slide-in"),Rw=240,zw=480,Lw=320;function Vw({canvas:n,editor:r,nodeEditor:i,executionPanel:o,palette:s,className:u,onSave:d,showSaveButton:p,saveButtonLabel:m,showExamples:g}){const{isEditorOpen:y,isNodeEditorOpen:b,isPaletteOpen:N,isExecutionPanelOpen:S,togglePalette:w}=_e(),{size:v,isResizing:j,handleMouseDown:O}=jw({orientation:"horizontal",minSize:Rw,maxSize:zw,defaultSize:Lw});return h.jsxs("div",{className:P(Cw(),u),children:[h.jsx(Sw,{onSave:d,showSaveButton:p,saveButtonLabel:m,showExamples:g}),h.jsxs("div",{className:Aw(),children:[y&&r&&h.jsxs("aside",{className:Ow(),style:{width:`${v}px`},children:[r,h.jsx(Nw,{orientation:"horizontal",isResizing:j,onMouseDown:O})]}),h.jsxs("div",{className:_w(),children:[n,S&&o&&h.jsx("div",{className:Tw(),children:o})]}),h.jsx("aside",{className:Mw({isOpen:b}),children:i})]}),N&&s&&h.jsx("div",{className:Dw(),onClick:w,children:h.jsx("div",{className:kw(),onClick:A=>A.stopPropagation(),children:s})})]})}const fp=new Set(["int","float","number","Integer","Float","Number"]),dp=new Set(["str","string","String"]),hp=new Set(["bool","boolean","Boolean"]);function Ks(n,r){if(!n||!r)return null;const i=n.toLowerCase().trim(),o=r.toLowerCase().trim();if(i==="any"||o==="any"||i===o||fp.has(i)&&fp.has(o)||dp.has(i)&&dp.has(o)||hp.has(i)&&hp.has(o))return!0;const s=o.match(/^optional\[(.+)\]$/);return s?Ks(n,s[1]):o.includes("|")?o.split("|").map(d=>d.trim()).some(d=>Ks(n,d)===!0):!1}function Bw(n){return n===!0?"#34D399":n===!1?"#F87171":"#94A3B8"}function Hw(n,r){if(!n)return{};const i=n.workflows.find(s=>s.name===r);if(!i)return{};const o={};return i.interface.inputs.forEach((s,u)=>{o[`ARG${u+1}`]=s}),o}function Vi(n,r,i,o){if(r!=="workflow_call")return n;const s=o.WORKFLOW;if(!s||s.type!=="literal")return n;const u=s.value;if(!u)return n;const d=Hw(i,u);return n.startsWith("ARG")&&d[n]?d[n]:n}function Uw(n){return n?n.workflows.filter(r=>r.name!=="main").map(r=>({name:r.name,params:r.interface.inputs})):[]}const Iw=25,Yw=180;function Pn(n){if(n.startsWith("start-"))return"start";const r=n.indexOf("::");return r!==-1?n.slice(r+2):n}function Bi(n){if(n.startsWith("start-"))return n.slice(6);const r=n.indexOf("::");if(r!==-1)return n.slice(0,r)}function qw(n,r,i,o){return Math.sqrt((i-n)**2+(o-r)**2)}function Xw(n,r,i){const o=i[n];return o?r==="input"?o.input:r==="output"?o.output:o.branches[r]||null:null}function Gw(n,r,i,o,s){const u=o==="output"?"input":"output";let d=null,p=Iw;for(const[m,g]of Object.entries(s)){if(m===i)continue;const y=u==="input"?g.input:g.output,b=qw(n,r,y.x,y.y);b<p&&(p=b,d={nodeId:m,port:u,x:y.x,y:y.y})}return d}const $w={pointerEvents:"all"};function Ww(n,r,i){return n?r===!0?{fill:"rgba(52, 211, 153, 0.15)",stroke:"var(--color-accent-green)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease",animation:"pulse-slot 0.6s ease infinite alternate"}:r===!1?{fill:"rgba(248, 113, 113, 0.15)",stroke:"var(--color-accent-red)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"rgba(148, 163, 184, 0.1)",stroke:i,strokeWidth:1,strokeDasharray:"4 2",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"transparent",stroke:"transparent",strokeWidth:1,transition:"fill 0.15s ease, stroke 0.15s ease"}}const Zw={fontSize:"9px",fontWeight:500,fill:"var(--color-text-muted)",textTransform:"lowercase"},Qw={fontSize:"9px",fontFamily:"'JetBrains Mono', monospace",fill:"var(--color-text-secondary)"},Kw={fontSize:"7px",fill:"var(--color-text-muted)",fontStyle:"italic",textTransform:"uppercase",letterSpacing:"0.3px"};function pp({nodeId:n,inputKey:r,value:i,paramInfo:o,opcode:s,allInputs:u,x:d,y:p,width:m}){const{draggingOrphan:g,setDraggingOrphan:y,draggingVariable:b,setDraggingVariable:N}=_e(),{convertOrphanToReporter:S,updateNodeInput:w,tree:v}=nt(),j=Fw(i),O=Vi(r,s,v,u),A=g!==null,X=b!==null,$=A||X,V=A?Ks(g.returnType,o?.type):null,B=te=>{if(te.stopPropagation(),g){const ce=Pn(g.nodeId);if(V===!1){_e.getState().showConfirmDialog({title:"Type Mismatch",message:`The orphan node's return type may not be compatible with the input "${r}". Continue anyway?`,confirmLabel:"Continue",variant:"default",onConfirm:()=>{S(ce,n,r),y(null)},onCancel:()=>{y(null)}});return}S(ce,n,r),y(null)}else b&&(w(n,r,`$${b.name}`),N(null))},H=te=>{te.stopPropagation()},U=X?"#22C55E":Bw(V);return h.jsxs("g",{style:$w,transform:`translate(${d}, ${p})`,onMouseUp:B,onMouseEnter:H,children:[h.jsx("rect",{x:0,y:0,width:m,height:20,rx:3,style:Ww($,V,U)}),h.jsxs("text",{x:6,y:13,style:Zw,children:[O,":"]}),h.jsx("text",{x:6+(O.length+1)*5,y:13,style:Qw,children:j}),$&&o?.type&&h.jsx("text",{x:m-6,y:13,textAnchor:"end",style:Kw,children:o.type})]})}function Fw(n){switch(n.type){case"literal":{const r=n.value;if(typeof r=="string")return`"${r.length>10?r.slice(0,10)+"...":r}"`;if(typeof r=="object"&&r!==null){const i=JSON.stringify(r);return i.length>20?i.slice(0,17)+"...":i}return String(r)}case"variable":return`$${n.name}`;case"reporter":return"[reporter]";case"workflow_call":return`-> ${n.name}`;default:return""}}function Jw(){const{closeNodeEditor:n,isNodeEditorOpen:r,isPaletteOpen:i,togglePalette:o,toggleEditor:s,toggleExecutionPanel:u}=_e(),{undo:d,redo:p,canUndo:m,canRedo:g,deleteNode:y,duplicateNode:b}=nt(),{selectNode:N,selectedNodeId:S,clearSelection:w}=Kn();D.useEffect(()=>{const v=j=>{const O=j.target,A=O.tagName==="INPUT"||O.tagName==="TEXTAREA";if(A&&j.key==="Escape"){O.blur();return}if(j.ctrlKey||j.metaKey){switch(j.key.toLowerCase()){case"z":!A&&!mp(O)&&(j.preventDefault(),j.shiftKey?g&&p():m&&d());break;case"y":!A&&!mp(O)&&(j.preventDefault(),g&&p());break;case"b":A||(j.preventDefault(),s());break;case"e":A||(j.preventDefault(),u());break;case"p":A||(j.preventDefault(),o());break;case"0":A||(j.preventDefault(),_e.getState().resetView());break;case"d":!A&&S&&S!=="start"&&(j.preventDefault(),b(S));break}return}if(!A){if(j.key==="Escape"){r?(n(),w()):i?o():S&&w();return}(j.key==="Delete"||j.key==="Backspace")&&S&&S!=="start"&&_e.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${S}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{y(S),w(),n()}})}};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[n,r,i,o,s,u,N,S,w,d,p,m,g,y,b])}function mp(n){return n.closest(".monaco-editor")!==null}function Pw(){const n=D.useRef(null),r=cr(),i=mw(),{setIsExecuting:o,appendExecutionOutput:s,setExecutionResult:u,setExecutionError:d,clearExecution:p,setPendingPrompt:m,addRenderedContent:g,clearRenderedContent:y,addAlert:b,setProgress:N}=sr(),S=D.useCallback(j=>{const O=n.current,{pendingPrompt:A}=sr.getState();!O||!A||(O.send(JSON.stringify({type:`${A.type}_response`,value:j})),m(null))},[m]),w=D.useCallback(async(j,O,A)=>{if(n.current&&n.current.close(),p(),o(!0),i){try{const V=await i(j,O);V.output&&s(V.output),V.success?u(V.result):d(V.error||"Execution failed")}catch(V){d(V instanceof Error?V.message:"Execution failed")}finally{o(!1)}return}const X=r.getWebSocketUrl();if(!X){try{const V=await r.executeWorkflow(j,O,A);V.success?(V.output&&s(V.output),u(V.result)):d(V.error||"Execution failed")}catch(V){d(V instanceof Error?V.message:"Execution failed")}finally{o(!1)}return}const $=new WebSocket(X);n.current=$,$.onopen=()=>{const V={type:"start",workflow:j,inputs:O,include_metrics:A};$.send(JSON.stringify(V))},$.onmessage=V=>{try{const B=JSON.parse(V.data);switch(B.type){case"output":s(B.line+`
`);break;case"complete":u(B.result),o(!1),$.close();break;case"error":d(B.message),o(!1),$.close();break;case"input_request":m({type:"input",prompt:B.prompt});break;case"select_request":m({type:"select",prompt:B.prompt,options:B.options});break;case"confirm_request":m({type:"confirm",prompt:B.message,message:B.message});break;case"button_request":m({type:"button",prompt:B.label,label:B.label});break;case"render_html":g({type:"html",content:B.html});break;case"render_markdown":g({type:"markdown",content:B.content});break;case"render_table":g({type:"table",content:B.data});break;case"render_image":g({type:"image",content:{src:B.src,alt:B.alt}});break;case"progress":N({value:B.value,max:B.max,label:B.label});break;case"alert":b({message:B.message,variant:B.variant});break;case"clear_content":y();break}}catch(B){console.error("Failed to parse WebSocket message:",B)}},$.onerror=()=>{d("WebSocket connection failed"),o(!1)},$.onclose=()=>{n.current=null}},[i,r,p,o,s,u,d,m,g,y,b,N]),v=D.useCallback(()=>{n.current&&(n.current.close(),n.current=null,o(!1),m(null))},[o,m]);return{execute:w,cancel:v,respondToPrompt:S}}function eS(){const{source:n,setTree:r,setParseError:i,setIsParsing:o}=nt(),s=cr(),u=D.useRef(null);D.useEffect(()=>(u.current&&clearTimeout(u.current),u.current=setTimeout(async()=>{o(!0);try{const d=await s.parseWorkflow(n);d.success&&d.tree?r(d.tree):i(d.error||"Parse failed")}catch(d){i(d instanceof Error?d.message:"Parse failed")}finally{o(!1)}},500),()=>{u.current&&clearTimeout(u.current)}),[n,r,i,o,s])}const gp={WIDTH:110,HEIGHT:70},Fs={HORIZONTAL:60,VERTICAL:40,WORKFLOW:80},tS={control_flow:"Control Flow",data:"Data",io:"I/O",operator:"Operator",workflow_op:"Workflow",opcode:"Opcode"};function nS({svgRef:n,centerX:r,centerY:i}){const{zoom:o,panX:s,panY:u,setZoom:d,setPan:p,isDraggingWorkflow:m,isDraggingNode:g,draggingWire:y,setDraggingWire:b,updateDraggingWire:N,draggingOrphan:S,setDraggingOrphan:w,updateDraggingOrphanEnd:v,draggingVariable:j,setDraggingVariable:O,updateDraggingVariableEnd:A,slotPositions:X}=_e(),{connectNodes:$,connectBranch:V}=nt(),{selectNode:B,selectStartNode:H,selectConnection:U}=Kn(),[Q,te]=D.useState(!1),[ce,ie]=D.useState({x:0,y:0}),re=D.useCallback((R,le)=>{if(!n.current)return{x:0,y:0};const K=n.current.getBoundingClientRect();return{x:(R-K.left-s-K.width/2)/o+r,y:(le-K.top-u-K.height/2)/o+i}},[n,s,u,o,r,i]),ue=D.useCallback(R=>{if(R.ctrlKey||R.metaKey){R.preventDefault();const le=R.deltaY>0?-.1:.1;d(o+le)}},[o,d]),oe=D.useCallback(R=>{if(m||g)return;const le=R.target;(le===n.current||le.classList.contains("background")||le.tagName==="rect")&&(te(!0),ie({x:R.clientX-s,y:R.clientY-u}),B(null),H(null),U(null))},[s,u,B,H,U,m,g,n]),k=D.useCallback(R=>{if(y){const{x:le,y:K}=re(R.clientX,R.clientY),C=Gw(le,K,y.sourceNodeId,y.sourcePort,X);N({dragX:le,dragY:K,nearbyPort:C});return}if(S){const{x:le,y:K}=re(R.clientX,R.clientY);v(le,K);return}if(j){const{x:le,y:K}=re(R.clientX,R.clientY);A(le,K);return}m||g||Q&&p(R.clientX-ce.x,R.clientY-ce.y)},[Q,ce,p,m,g,y,N,S,v,j,A,re,X]),G=D.useCallback(()=>{if(te(!1),y){if(y.nearbyPort){const R=Pn(y.sourceNodeId),le=Pn(y.nearbyPort.nodeId),K=Bi(y.sourceNodeId),C=Bi(y.nearbyPort.nodeId);y.branchLabel?V(R,le,y.branchLabel):y.sourcePort==="output"?$(R,le,K):$(le,R,C)}b(null)}S&&w(null),j&&O(null)},[y,b,S,w,j,O,$,V]);return{handleWheel:ue,handleMouseDown:oe,handleMouseMove:k,handleMouseUp:G,isDragging:Q}}function lS({nodeId:n,slotId:r,x:i,y:o}){const{draggingWire:s,setDraggingWire:u}=_e(),{connectNodes:d}=nt(),p=D.useCallback(j=>{j.stopPropagation(),j.preventDefault();const O=i+Yw,A=o+30;u({sourceNodeId:r,sourcePort:"output",sourceX:O,sourceY:A,dragX:O,dragY:A,nearbyPort:null})},[r,i,o,u]),m=D.useCallback((j,O,A,X)=>{j.stopPropagation(),j.preventDefault();const $=i+A,V=o+X;u({sourceNodeId:r,sourcePort:"output",sourceX:$,sourceY:V,dragX:$,dragY:V,nearbyPort:null,branchLabel:O})},[r,i,o,u]),g=D.useCallback(j=>{j.stopPropagation(),j.preventDefault();const O=i,A=o+30;u({sourceNodeId:r,sourcePort:"input",sourceX:O,sourceY:A,dragX:O,dragY:A,nearbyPort:null})},[r,i,o,u]),y=D.useCallback(j=>{j.stopPropagation(),j.preventDefault(),s&&s.sourcePort==="input"&&s.sourceNodeId!==n&&(d(n,s.sourceNodeId),u(null))},[n,s,d,u]),b=D.useCallback(j=>{j.stopPropagation(),j.preventDefault(),s&&s.sourcePort==="output"&&s.sourceNodeId!==n&&(d(s.sourceNodeId,n),u(null))},[n,s,d,u]),N=s?.nearbyPort?.nodeId===r&&s?.nearbyPort?.port==="input",S=s?.nearbyPort?.nodeId===r&&s?.nearbyPort?.port==="output",w=!!s&&s.sourcePort==="output"&&s.sourceNodeId!==r,v=!!s&&s.sourcePort==="input"&&s.sourceNodeId!==r;return{handleOutputPortMouseDown:p,handleInputPortMouseDown:g,handleOutputPortMouseUp:y,handleInputPortMouseUp:b,handleBranchPortMouseDown:m,isInputPortHighlighted:N,isOutputPortHighlighted:S,isValidDropTarget:w,isValidOutputDropTarget:v}}const Pt=110,Rt=70,xp=30,yp={control_flow:"",data:"",io:"",operator:"",workflow_op:"",opcode:""};function aS(n,r,i,o,s,u,d,p=!1){let m="transparent",g=1.5,y="none",b=1;o&&(m="var(--color-accent-amber)",y="6 3",b=.9),s&&!r&&!p&&(m=n,g=1.5,b=1),i&&!r&&!p&&(m="#facc15",g=2,y="none"),p&&(m="#22d3ee",g=2.5,y="none",b=1),r&&(m="var(--color-accent-blue)",g=2,y="none",b=1),u==="success"?m="var(--color-accent-green)":u==="error"&&(m="var(--color-accent-red)");let N="drop-shadow(0 1px 3px rgba(0, 0, 0, 0.2))";return s&&!r&&!p&&(N="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.25))"),p&&!r&&(N="drop-shadow(0 0 10px rgba(34, 211, 238, 0.5))"),r&&(N="drop-shadow(0 0 8px rgba(59, 130, 246, 0.3))"),{fill:"var(--color-surface-1)",stroke:m,strokeWidth:g,strokeDasharray:y,opacity:b,filter:N,transition:"all 0.15s ease",animation:u==="running"?"pulse 1.5s ease-in-out infinite":"none"}}function rS(n){return{fill:n,pointerEvents:"none"}}function iS(n,r){return{fill:r?n:`${n}20`,transition:"fill 0.15s ease"}}const oS={fontSize:"14px",fill:"var(--color-text-primary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"},sS={fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",letterSpacing:"-0.01em"},cS={fontSize:"9px",fill:"var(--color-text-muted)",fontFamily:"'JetBrains Mono', monospace"};function bp(n,r,i){return{fill:r?"var(--color-accent-green)":"var(--color-surface-2)",stroke:r?"var(--color-accent-green)":n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1.5,r:r?6:5,transition:"all 0.12s ease",filter:r?"drop-shadow(0 0 6px var(--color-accent-green))":"none",cursor:i?"pointer":"crosshair"}}function vp(n,r){return{fill:r?"var(--color-accent-blue)":"var(--color-surface-3)",stroke:"var(--color-border-subtle)",strokeWidth:1,cursor:n?"pointer":"default",transition:"fill 0.15s ease",opacity:n?1:0,pointerEvents:n?"all":"none"}}const wp={fontSize:"8px",fontWeight:600,fill:"var(--color-text-secondary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function uS(n){const r={running:"var(--color-accent-amber)",success:"var(--color-accent-green)",error:"var(--color-accent-red)"};return{fill:r[n]||"transparent",filter:n!=="idle"?`drop-shadow(0 0 4px ${r[n]})`:"none",transition:"all 0.15s ease"}}const fS={cursor:"grab",pointerEvents:"all"},dS={fill:"var(--color-accent-amber)",transition:"filter 0.15s ease"},hS={fontSize:"9px",fill:"var(--color-surface-0)",fontWeight:600,pointerEvents:"none",textAnchor:"middle",dominantBaseline:"central"},pS={cursor:"grab",pointerEvents:"all",fill:"transparent"};function mS(n,r){return{fill:n?r:"transparent",stroke:r,strokeWidth:1.5,cursor:"crosshair",transition:"all 0.12s ease"}}const gS={fontSize:"8px",fontWeight:500,textAnchor:"middle",pointerEvents:"none",userSelect:"none",textTransform:"uppercase",letterSpacing:"0.3px"};function xS(n,r){const i=r.filter(u=>u.children.length>0).map(u=>u.name),o=r.map(u=>u.name),s=aw(n,i);for(const u of o)s.find(d=>d.name===u)||s.push({name:u,connected:i.includes(u)});return s}function yS(n,r){const i=ap(n);return i&&i!==""?i:yp[r]||yp.opcode}function Sp(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function Js(n){let r=0;for(const i of Object.values(n))i.type==="reporter"&&i.opcode&&(r+=1,i.inputs&&(r+=Js(i.inputs)));return r}const yn=12,xr=8,pa=16,Ep=28;function ma(n,r,i,o){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const s=`${o}::${n.id||""}`,u=i[s]??!1;if(!u&&!r)return{width:Pt,height:Rt};const d=[];let p=0;if(n.inputs)for(const[y,b]of Object.entries(n.inputs))b.type==="reporter"&&b.opcode?d.push({key:y,value:b}):p++;let m=Pt,g=Rt;if(u||r){if(d.length>0){let y=0,b=0;for(const N of d){const S=ma(N.value,r,i,o);y+=pa+S.height+xr,b=Math.max(b,S.width)}m=Math.max(m,b+yn*2),g=Rt+y}p>0&&(g+=p*Ep+xr),(d.length>0||p>0)&&(g+=yn)}return{width:m,height:g}}function bS(n,r,i,o){let s=0;for(const{value:u}of n){const d=ma(u,r,i,o);s+=pa+d.height+xr}return s}function vS(n,r,i,o){let s=Pt;for(const{value:u}of n){const d=ma(u,r,i,o);s=Math.max(s,d.width)}return s}const wS=D.memo(function({node:r,x:i,y:o,isOrphan:s,zoom:u=1,onDrag:d,workflowName:p}){const{opcodes:m}=nt(),{openNodeEditor:g,nodeStatus:y,searchResults:b,draggingWire:N,draggingOrphan:S,setDraggingOrphan:w,draggingVariable:v,layoutMode:j,setIsDraggingNode:O,registerSlotPositions:A,unregisterSlotPositions:X,showContextMenu:$,expandedReporters:V}=_e(),{selectedNodeId:B,selectNode:H,selectedNodeIds:U,toggleNodeSelection:Q,clearMultiSelection:te,selectedReporter:ce,selectReporter:ie}=Kn(),[re,ue]=D.useState(!1),oe=`${p}::${r.id}`,k=V[oe]??!1,G=m.find(Ne=>Ne.name===r.opcode),R=np(r.type),le=yS(r.opcode,r.type),K=B===oe&&!ce,C=U.includes(oe),z=b.includes(r.id),F=y[r.id]||"idle",ae=Sp(r.opcode),fe=D.useRef(!1),ye=[],de=[];for(const[Ne,Xe]of Object.entries(r.inputs))Xe.type==="reporter"&&Xe.opcode?ye.push({key:Ne,value:Xe}):de.push({key:Ne,value:Xe});const Ye=Js(r.inputs),ne=!!(v||S&&S.nodeId!==oe),we=de.map(Ne=>Ne.key).slice(0,4),Re=xS(r.opcode,r.children),Ue=Re.length>0?20:0,it=ne?we.length*xp:0,Tt=k||ne,vn=Tt&&ye.length>0?bS(ye,ne,V,p):0,wn=Tt&&ye.length>0?vS(ye,ne,V,p)+yn*2:0,Ae=Math.max(Pt,wn),bt=Rt+it+vn+Ue,Gt=oe,{handleOutputPortMouseDown:se,handleInputPortMouseDown:Se,handleOutputPortMouseUp:qe,handleInputPortMouseUp:Fe,handleBranchPortMouseDown:Le,isInputPortHighlighted:Sn,isOutputPortHighlighted:ll,isValidDropTarget:al,isValidOutputDropTarget:rl}=lS({nodeId:r.id,slotId:Gt,x:i,y:o}),Mr=Ne=>{if(Ne.stopPropagation(),fe.current){fe.current=!1;return}if(Ne.ctrlKey||Ne.metaKey){Q(oe),ie(null);return}te(),H(oe),ie(null),g()},ba=Ne=>{Ne.preventDefault(),Ne.stopPropagation(),U.includes(oe)||(te(),H(oe)),$({nodeId:oe,x:Ne.clientX,y:Ne.clientY,hasReporters:Ye>0,reportersExpanded:k,isOrphan:s??!1})},Dr=Ne=>{if(!s)return;Ne.stopPropagation(),Ne.preventDefault();const Xe=i+Ae-14,ut=o;w({nodeId:oe,opcode:r.opcode,returnType:G?.return_type,fromX:Xe,fromY:ut,toX:Xe,toY:ut})},zc=Ne=>{if(j!=="free"||!d)return;Ne.stopPropagation(),Ne.preventDefault(),O(!0);const Xe=Ne.clientX,ut=Ne.clientY;let tt=!1;const Ll=va=>{const Bl=(va.clientX-Xe)/u,Hl=(va.clientY-ut)/u;(Math.abs(Bl)>3||Math.abs(Hl)>3)&&(tt=!0,d(Bl,Hl))},Vl=()=>{O(!1),tt&&(fe.current=!0),window.removeEventListener("mousemove",Ll),window.removeEventListener("mouseup",Vl)};window.addEventListener("mousemove",Ll),window.addEventListener("mouseup",Vl)};return D.useEffect(()=>{const Ne={input:{x:i,y:o+Rt/2},output:{x:i+Ae,y:o+Rt/2},branches:{}};return Re.forEach((Xe,ut)=>{const tt=Ae/Re.length;Ne.branches[Xe.name]={x:i+tt*ut+tt/2,y:o+bt}}),A(Gt,Ne),()=>X(Gt)},[i,o,Ae,bt,Re.length,Gt,A,X]),h.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${i}, ${o})`,onClick:Mr,onContextMenu:ba,onMouseEnter:()=>ue(!0),onMouseLeave:()=>ue(!1),children:[h.jsx("rect",{width:Ae,height:bt,rx:8,style:aS(R,K,z,s??!1,re,F,ne,C)}),h.jsx("rect",{x:0,y:0,width:3,height:bt,rx:1.5,style:rS(R)}),h.jsx("circle",{cx:Pt/2,cy:22,r:14,style:iS(R,re)}),h.jsx("text",{x:Pt/2,y:22,style:oS,children:le}),h.jsx("text",{x:Pt/2,y:46,textAnchor:"middle",style:sS,children:ae.length>10?ae.slice(0,10)+"":ae}),(re||K)&&h.jsx("text",{x:Pt/2,y:60,textAnchor:"middle",style:cS,children:r.id.length>12?r.id.slice(0,12)+"":r.id}),ne&&we.map((Ne,Xe)=>h.jsx(pp,{nodeId:r.id,inputKey:Ne,value:r.inputs[Ne],paramInfo:G?.parameters.find(ut=>ut.name.toUpperCase()===Ne),opcode:r.opcode,allInputs:r.inputs,x:yn,y:Rt+Xe*xp,width:Ae-yn*2},Ne)),Tt&&ye.length>0&&h.jsx(SS,{reporterInputs:ye,parentNodeId:r.id,baseY:Rt+it,selectedReporter:ce,selectReporter:ie,openNodeEditor:g,showInputSlots:ne,opcodes:m,expandedReporters:V,showContextMenu:$,workflowName:p}),Ye>0&&!Tt&&h.jsxs("g",{transform:`translate(${Ae-18}, 4)`,children:[h.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:vp(!0,!1)}),h.jsx("text",{x:7,y:7,style:wp,children:Ye})]}),al&&h.jsx("circle",{cx:0,cy:Rt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Fe}),rl&&h.jsx("circle",{cx:Ae,cy:Rt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:qe}),h.jsx("circle",{cx:0,cy:Rt/2,r:5,style:bp(re,Sn,!!N),onMouseDown:Se,onMouseUp:Fe}),h.jsx("circle",{cx:Ae,cy:Rt/2,r:5,style:bp(re,ll,!!N),onMouseDown:se,onMouseUp:qe}),Re.length>0&&h.jsx("g",{children:Re.map((Ne,Xe)=>{const ut=Ae/Re.length,tt=ut*Xe+ut/2,Ll=bt,Vl=tp(Ne.name);return h.jsxs("g",{children:[h.jsx("text",{x:tt,y:bt-8,fill:Vl,style:gS,children:Ne.name}),h.jsx("circle",{cx:tt,cy:Ll,r:4,style:mS(Ne.connected,Vl),onMouseDown:va=>Le(va,Ne.name,tt,Ll)})]},Ne.name)})}),F!=="idle"&&h.jsx("circle",{cx:Ae-8,cy:12,r:4,style:uS(F)}),s&&h.jsxs("g",{style:fS,onMouseDown:Dr,children:[h.jsx("rect",{x:Ae-28,y:-8,width:28,height:16,rx:3,style:dS}),h.jsx("text",{x:Ae-14,y:0,style:hS,children:""}),h.jsx("title",{children:"Drag to slot as reporter"})]}),j==="free"&&d&&h.jsx("rect",{x:4,y:0,width:s?Ae-32:Ae-8,height:Rt,style:pS,onMouseDown:zc})]})});function Np({inputKey:n,value:r,parentNodeId:i,x:o,y:s,selectedReporter:u,selectReporter:d,openNodeEditor:p,showInputSlots:m,opcodes:g,inputPath:y,expandedReporters:b,showContextMenu:N,workflowName:S}){const w=lp(r.opcode||""),v=Sp(r.opcode||""),j=ap(r.opcode||"")||"",O=[...y,n],A=g.find(R=>R.name===r.opcode),X=r.id||"",$=`${S}::${X}`,V=b[$]??!1,B=u&&u.parentNodeId===i&&u.inputPath.join(".")===O.join("."),H=[],U=[];if(r.inputs)for(const[R,le]of Object.entries(r.inputs))le.type==="reporter"&&le.opcode?H.push({key:R,value:le}):U.push({key:R,value:le});const Q=Js(r.inputs||{}),te=V||m,ce=ma(r,m,b,S),ie=ce.width,re=ce.height,ue=[];let oe=Rt;if(te)for(const R of H){const le=ma(R.value,m,b,S);ue.push({key:R.key,value:R.value,y:oe,height:le.height}),oe+=pa+le.height+xr}const k=oe,G=R=>{R.preventDefault(),R.stopPropagation(),d({parentNodeId:i,inputPath:O,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),N({nodeId:X,x:R.clientX,y:R.clientY,hasReporters:Q>0,reportersExpanded:V,isOrphan:!1})};return h.jsxs("g",{transform:`translate(${o}, ${s})`,children:[h.jsx("rect",{x:0,y:0,width:ie,height:re,rx:8,fill:"var(--color-surface-1)",stroke:B?"var(--color-accent-blue)":w,strokeWidth:B?2:1.5,style:{cursor:"pointer"},onClick:R=>{R.stopPropagation(),d({parentNodeId:i,inputPath:O,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),p()},onContextMenu:G}),h.jsx("rect",{x:0,y:0,width:4,height:re,rx:2,fill:w,style:{pointerEvents:"none"}}),h.jsx("circle",{cx:Pt/2,cy:22,r:14,fill:`${w}30`,style:{pointerEvents:"none"}}),h.jsx("text",{x:Pt/2,y:22,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"14px",fill:"var(--color-text-primary)",pointerEvents:"none"},children:j}),h.jsx("text",{x:Pt/2,y:46,textAnchor:"middle",style:{fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",pointerEvents:"none"},children:v.length>10?v.slice(0,10)+"":v}),Q>0&&!te&&h.jsxs("g",{transform:`translate(${Pt-18}, 4)`,children:[h.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:vp(!0,!1)}),h.jsx("text",{x:7,y:7,style:wp,children:Q})]}),te&&ue.map(R=>h.jsxs("g",{children:[h.jsx("text",{x:yn,y:R.y+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:R.key}),h.jsx(Np,{inputKey:R.key,value:R.value,parentNodeId:i,x:yn,y:R.y+pa,selectedReporter:u,selectReporter:d,openNodeEditor:p,showInputSlots:m,opcodes:g,inputPath:O,expandedReporters:b,showContextMenu:N,workflowName:S})]},R.key)),te&&U.map((R,le)=>h.jsxs("g",{transform:`translate(${yn}, ${k+le*Ep})`,children:[h.jsx("text",{x:0,y:10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:R.key}),h.jsx(pp,{nodeId:r.id||i,inputKey:R.key,value:R.value,paramInfo:A?.parameters.find(K=>K.name.toUpperCase()===R.key),opcode:r.opcode||"",allInputs:r.inputs||{},x:0,y:12,width:ie-yn*2})]},R.key))]})}function SS({reporterInputs:n,parentNodeId:r,baseY:i,selectedReporter:o,selectReporter:s,openNodeEditor:u,showInputSlots:d,opcodes:p,expandedReporters:m,showContextMenu:g,workflowName:y}){const b=[];let N=0;for(const{key:S,value:w}of n){b.push({key:S,value:w,y:N});const v=ma(w,d,m,y);N+=pa+v.height+xr}return h.jsx("g",{transform:`translate(${yn}, ${i})`,children:b.map(({key:S,value:w,y:v})=>h.jsxs("g",{children:[h.jsx("text",{x:0,y:v+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:S}),h.jsx(Np,{inputKey:S,value:w,parentNodeId:r,x:0,y:v+pa,selectedReporter:o,selectReporter:s,openNodeEditor:u,showInputSlots:d,opcodes:p,inputPath:[],expandedReporters:m,showContextMenu:g,workflowName:y})]},S))})}const Tn=160,jp=80,yr="#22c55e",Cp="#4ade80";function ES(n,r){return{fill:"var(--color-surface-1)",stroke:n?"var(--color-accent-blue)":yr,strokeWidth:n||r?2.5:2,transition:"stroke 0.15s ease, stroke-width 0.15s ease, filter 0.15s ease",filter:n?"drop-shadow(0 0 8px rgba(34, 211, 238, 0.4))":r?"drop-shadow(0 4px 8px rgba(34, 197, 94, 0.3))":"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))"}}const NS={fill:yr,pointerEvents:"none"},jS={fontSize:"14px"},CS={fontSize:"13px",fontWeight:700,fill:"var(--color-text-primary)"},AS={fontSize:"9px",fill:"var(--color-text-secondary)",fontFamily:"'JetBrains Mono', monospace"},OS={fontSize:"10px",fontFamily:"'JetBrains Mono', monospace",fill:Cp},_S={fontSize:"9px",fill:"var(--color-text-muted)",fontStyle:"italic"};function TS(n,r=!1){return{fill:n?yr:"var(--color-surface-2)",stroke:n?Cp:yr,strokeWidth:2,transition:"all 0.15s ease",filter:n?`drop-shadow(0 0 4px ${yr})`:"none",cursor:r?"pointer":"crosshair",pointerEvents:"all"}}const MS={cursor:"grab",pointerEvents:"all"},DS=D.memo(function({workflowName:r,workflowInterface:i,variables:o,x:s,y:u,zoom:d=1,onDrag:p}){const{openNodeEditor:m,layoutMode:g,setIsDraggingNode:y,registerSlotPositions:b,unregisterSlotPositions:N,draggingWire:S,setDraggingWire:w}=_e(),{selectedStartNode:v,selectStartNode:j,selectNode:O}=Kn(),{connectNodes:A}=nt(),[X,$]=D.useState(!1),V=`start-${r}`,B=v===r,H=D.useRef(!1),U=z=>{if(z.stopPropagation(),H.current){H.current=!1;return}O(null),j(r),m()},Q=z=>{if(g!=="free"||!p)return;z.stopPropagation(),z.preventDefault(),y(!0);const F=z.clientX,ae=z.clientY;let fe=!1;const ye=Ye=>{const ne=(Ye.clientX-F)/d,we=(Ye.clientY-ae)/d;(Math.abs(ne)>3||Math.abs(we)>3)&&(fe=!0,p(ne,we))},de=()=>{y(!1),fe&&(H.current=!0),window.removeEventListener("mousemove",ye),window.removeEventListener("mouseup",de)};window.addEventListener("mousemove",ye),window.addEventListener("mouseup",de)},te=D.useCallback(z=>{z.stopPropagation(),z.preventDefault();const F=s+Tn,ae=u+30;w({sourceNodeId:V,sourcePort:"output",sourceX:F,sourceY:ae,dragX:F,dragY:ae,nearbyPort:null})},[s,u,V,w]),ce=D.useCallback(z=>{z.stopPropagation(),z.preventDefault(),S&&S.sourcePort==="input"&&!S.sourceNodeId.startsWith("start-")&&(A("start",S.sourceNodeId,r),w(null))},[S,r,A,w]),ie=S?.nearbyPort?.nodeId===V&&S?.nearbyPort?.port==="output",re=!!S&&S.sourcePort==="input"&&!S.sourceNodeId.startsWith("start-"),ue=Object.entries(o).slice(0,3),oe=Object.keys(o).length>3,k=i.inputs||[],G=i.outputs||[],R=50,le=k.length>0||G.length>0?18:0,K=ue.length*14+(oe?12:0),C=Math.max(jp,R+le+K+10);return D.useEffect(()=>{const z={input:{x:s,y:u+30},output:{x:s+Tn,y:u+30},branches:{}};return b(V,z),()=>N(V)},[s,u,V,b,N]),h.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${s}, ${u})`,onClick:U,onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),children:[h.jsx("rect",{width:Tn,height:C,rx:8,style:ES(B,X)}),h.jsx("rect",{width:4,height:C,rx:2,style:NS}),h.jsx("text",{x:16,y:24,style:jS,children:""}),h.jsx("text",{x:38,y:24,style:CS,children:r}),(k.length>0||G.length>0)&&h.jsx("g",{transform:"translate(12, 38)",children:h.jsxs("text",{x:0,y:0,style:AS,children:[k.length>0&&`In: ${k.join(", ")}`,k.length>0&&G.length>0&&" | ",G.length>0&&`Out: ${G.join(", ")}`]})}),ue.length>0&&h.jsxs("g",{transform:`translate(12, ${R+le-4})`,children:[ue.map(([z,F],ae)=>h.jsxs("text",{x:0,y:ae*14+10,style:OS,children:["$",z," = ",kS(F)]},z)),oe&&h.jsxs("text",{x:0,y:ue.length*14+10,style:_S,children:["+",Object.keys(o).length-3," more..."]})]}),re&&h.jsx("circle",{cx:Tn,cy:30,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:ce}),h.jsx("circle",{cx:Tn,cy:30,r:6,style:TS(X||ie,!!S),onMouseDown:te,onMouseUp:ce}),g==="free"&&p&&h.jsx("rect",{x:4,y:0,width:Tn-8,height:40,fill:"transparent",style:MS,onMouseDown:Q})]})});function kS(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?n.length>12?`"${n.slice(0,12)}..."`:`"${n}"`:typeof n=="object"?JSON.stringify(n).slice(0,15)+"...":String(n)}function RS(n,r,i,o){const s=Math.abs(i-n),u=Math.abs(o-r);if(u>s*.5&&o>r){const p=Math.min(u/2,60);return`M ${n} ${r} C ${n} ${r+p}, ${i} ${o-p}, ${i} ${o}`}else{const p=Math.min(s/2,80);return`M ${n} ${r} C ${n+p} ${r}, ${i-p} ${o}, ${i} ${o}`}}const zS={fill:"none",stroke:"transparent",strokeWidth:16,strokeLinecap:"round",pointerEvents:"stroke"};function LS(n,r){return{fill:"none",stroke:r?"#22d3ee":n,strokeWidth:6,strokeLinecap:"round",opacity:r?.3:.2,pointerEvents:"none"}}function VS(n,r,i){return{fill:"none",stroke:r?"#22D3EE":n,strokeWidth:r?3:i?1.5:2,strokeLinecap:"round",strokeDasharray:i?"6 4":"none",pointerEvents:"none",transition:"stroke-width 0.15s ease, stroke 0.15s ease",filter:r?"drop-shadow(0 0 6px rgba(34, 211, 238, 0.5))":"none"}}const BS={opacity:.6,pointerEvents:"none"},HS={fontSize:"10px",fill:"var(--color-text-muted)",textAnchor:"middle",fontWeight:500,pointerEvents:"none"},US={cursor:"pointer",pointerEvents:"all"};function IS(){return{fill:"var(--color-accent-red)",stroke:"var(--color-surface-0)",strokeWidth:2,transition:"transform 0.15s ease, filter 0.15s ease"}}const YS={fontSize:"16px",fontWeight:"bold",fill:"white",pointerEvents:"none"},Ap=D.memo(function({fromNodeId:r,toNodeId:i,fromPort:o="output",toPort:s="input",x1:u,y1:d,x2:p,y2:m,color:g="#475569",label:y,isDotted:b,isSelected:N,onSelect:S,onDelete:w}){const v=_e(Q=>Q.slotPositions);let j,O,A,X;if(u!==void 0&&d!==void 0&&p!==void 0&&m!==void 0)j=u,O=d,A=p,X=m;else{const Q=v[r],te=v[i];if(!Q||!te)return null;const ce=o==="output"?Q.output:o==="input"?Q.input:Q.branches[o],ie=s==="input"?te.input:te.output;if(!ce||!ie)return null;j=ce.x,O=ce.y,A=ie.x,X=ie.y}if(!Number.isFinite(j)||!Number.isFinite(O)||!Number.isFinite(A)||!Number.isFinite(X))return null;const $=RS(j,O,A,X),V=(j+A)/2,B=(O+X)/2,H=Q=>{Q.stopPropagation(),S?.()},U=Q=>{Q.stopPropagation(),w?.()};return h.jsxs("g",{style:{cursor:"pointer"},children:[h.jsx("path",{style:zS,d:$,onClick:H}),h.jsx("path",{style:LS(g,N??!1),d:$}),h.jsx("path",{style:VS(g,N??!1,b??!1),d:$}),!b&&!N&&h.jsx("circle",{style:BS,r:3,fill:g,children:h.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:$})}),y&&h.jsx("text",{style:HS,x:V,y:(O+X)/2-8,children:y}),N&&w&&h.jsxs("g",{style:US,transform:`translate(${V}, ${B})`,onClick:U,children:[h.jsx("circle",{cx:0,cy:0,r:12,style:IS()}),h.jsx("text",{x:0,y:4,textAnchor:"middle",style:YS,children:""})]})]})});function qS(){const{draggingWire:n,slotPositions:r}=_e();if(!n)return null;const i=n.branchLabel||n.sourcePort,o=Xw(n.sourceNodeId,i,r),s=o?.x??n.sourceX,u=o?.y??n.sourceY,d=n.nearbyPort?.x??n.dragX,p=n.nearbyPort?.y??n.dragY,m=n.sourcePort==="input",g=m?d:s,y=m?p:u,b=m?s:d,N=m?u:p;if(!Number.isFinite(g)||!Number.isFinite(y)||!Number.isFinite(b)||!Number.isFinite(N))return null;const S=n.nearbyPort?"#22C55E":"#22D3EE";return h.jsx(Ap,{fromNodeId:n.sourceNodeId,toNodeId:"",x1:g,y1:y,x2:b,y2:N,color:S,isDotted:!n.nearbyPort})}const XS={pointerEvents:"none"},GS={fill:"#FACC15"},$S={filter:"drop-shadow(0 2px 4px rgba(250, 204, 21, 0.3))"},WS={fill:"rgba(250, 204, 21, 0.2)",stroke:"#FACC15",strokeWidth:1.5,strokeDasharray:"4 2"},ZS={fontSize:"9px",fontWeight:600,fill:"#facc15"},QS={fill:"rgba(250, 204, 21, 0.3)",stroke:"#FACC15",strokeWidth:2},KS={pointerEvents:"none"},FS={fill:"rgba(34, 197, 94, 0.25)",stroke:"#22C55E",strokeWidth:2},JS={fill:"#4ADE80",fontSize:"12px",fontWeight:600,fontFamily:"'JetBrains Mono', monospace"},PS={fill:"#22C55E"};function eE(){const{draggingOrphan:n}=_e();if(!n)return null;const{fromX:r,fromY:i,toX:o,toY:s,opcode:u}=n;if(!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)||!Number.isFinite(s))return null;const d=o-r,p=s-i,m=Math.sqrt(d*d+p*p),g=u.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return h.jsxs("g",{style:XS,children:[h.jsx("path",{d:`M ${r} ${i} L ${o} ${s}`,fill:"none",stroke:"#FACC15",strokeWidth:2,strokeDasharray:"8 4",style:{animation:"dash-flow 0.5s linear infinite"}}),h.jsx("circle",{cx:r,cy:i,r:4,style:GS}),m>30&&h.jsxs("g",{transform:`translate(${o-40}, ${s-15})`,style:$S,children:[h.jsx("rect",{width:80,height:30,rx:6,style:WS}),h.jsx("text",{x:40,y:18,textAnchor:"middle",style:ZS,children:g.length>10?g.slice(0,10)+"...":g})]}),h.jsx("circle",{cx:o,cy:s,r:6,style:QS})]})}function tE(){const{draggingVariable:n}=_e();if(!n)return null;const{toX:r,toY:i,name:o}=n;return h.jsxs("g",{style:KS,children:[h.jsxs("g",{transform:`translate(${r-40}, ${i-14})`,children:[h.jsx("rect",{width:80,height:28,rx:14,style:FS}),h.jsxs("text",{x:40,y:18,textAnchor:"middle",style:JS,children:["$",o.length>8?o.slice(0,8)+"..":o]})]}),h.jsx("circle",{cx:r,cy:i,r:4,style:PS})]})}const Hi=160,Ui=120,br=180,Ps=80,ec=60,Op=40,nE=80,lE=M("absolute bottom-4 left-6 rounded-sm border border-border-subtle overflow-hidden z-10 shadow-md cursor-pointer transition-colors hover:border-border-strong"),aE={pointerEvents:"none"};function _p(n){switch(n){case"control_flow":return"#FF9500";case"data":return"#4CAF50";case"io":return"#22D3EE";case"operator":return"#9C27B0";case"workflow_op":return"#E91E63";default:return"#64748B"}}function rE({workflows:n,bounds:r,zoom:i,panX:o,panY:s,canvasWidth:u,canvasHeight:d,onNavigate:p}){const m=r.maxX-r.minX,g=r.maxY-r.minY,y=Math.min((Hi-10)/Math.max(m,100),(Ui-10)/Math.max(g,100)),b=D.useMemo(()=>{const w=(r.maxX+r.minX)/2,v=(r.maxY+r.minY)/2,j=u/i,O=d/i,A=w-o/i,X=v-s/i,$=(A-r.minX-j/2)*y+5,V=(X-r.minY-O/2)*y+5,B=j*y,H=O*y;return{x:$,y:V,width:B,height:H}},[r,i,o,s,u,d,y]),N=D.useCallback(w=>{const j=w.currentTarget.getBoundingClientRect(),O=w.clientX-j.left,A=w.clientY-j.top,X=(O-5)/y+r.minX,$=(A-5)/y+r.minY,V=(r.maxX+r.minX)/2,B=(r.maxY+r.minY)/2,H=(V-X)*i,U=(B-$)*i;p(H,U)},[r,y,i,p]),S=D.useMemo(()=>{if(!n||n.length===0)return[];const w=[];let v=0;for(const j of n){let O=function($,V,B){const H=Ps+Math.min(Object.keys($.inputs).length,2)*18;w.push({x:(V-r.minX)*y+5,y:(B-r.minY)*y+5,width:br*y,height:H*y,color:_p($.type)}),X=Math.max(X,B+H);let U=V+br+ec,Q=B+H+Op;for(const te of $.children){let ce=V+br+ec;for(const ie of te.children){const re=Ps+Math.min(Object.keys(ie.inputs).length,2)*18;w.push({x:(ce-r.minX)*y+5,y:(Q-r.minY)*y+5,width:br*y,height:re*y,color:_p(ie.type)}),X=Math.max(X,Q+re),ce+=br+ec,U=Math.max(U,ce)}Q+=Ps+Op*2}return U},A=0,X=v;for(const $ of j.children)A=O($,A,v);v=X+nE}return w},[n,r,y]);return!n||n.length===0||S.length===0?null:h.jsx("div",{className:P(lE()),"aria-label":"Canvas minimap navigation",children:h.jsxs("svg",{width:Hi,height:Ui,onClick:N,style:{display:"block",cursor:"pointer"},role:"img","aria-label":"Minimap showing workflow overview. Click to navigate.",children:[h.jsx("rect",{x:0,y:0,width:Hi,height:Ui,fill:"var(--color-surface-2)",rx:4}),S.map((w,v)=>h.jsx("rect",{x:w.x,y:w.y,width:Math.max(w.width,2),height:Math.max(w.height,2),fill:w.color,opacity:.7,rx:1},v)),h.jsx("rect",{x:Math.max(0,b.x),y:Math.max(0,b.y),width:Math.min(b.width,Hi),height:Math.min(b.height,Ui),fill:"rgba(59, 130, 246, 0.15)",stroke:"var(--color-accent-blue)",strokeWidth:1.5,rx:2,style:aE})]})})}const iE=M("absolute top-4 left-6 w-9 h-9 flex items-center justify-center bg-surface-1 border border-border-subtle rounded-sm text-text-secondary cursor-pointer z-10 shadow-md transition-colors hover:bg-surface-2 hover:border-border-strong hover:text-text-primary"),oE=M("absolute top-4 left-6 flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm z-10 shadow-md text-text-secondary focus-within:border-accent-blue"),sE=M("bg-transparent border-none outline-none text-text-primary text-sm w-[180px] placeholder:text-text-muted"),cE=M("text-xs text-text-muted whitespace-nowrap min-w-[60px] text-center"),uE=M("flex gap-0.5"),Tp=M("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm transition-colors hover:bg-surface-2 hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent"),fE=M("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm ml-1 transition-colors hover:bg-surface-2 hover:text-text-primary");function dE(){const{tree:n}=nt(),{searchQuery:r,setSearchQuery:i,searchResults:o,setSearchResults:s}=_e(),{selectNode:u}=Kn(),[d,p]=D.useState(!1),[m,g]=D.useState(0),y=D.useRef(null);D.useEffect(()=>{if(!n||!r.trim()){s([]),g(0);return}const O=r.toLowerCase(),A=[];for(const X of n.workflows){const $=V=>{for(const B of V){const H=B.id.toLowerCase().includes(O),U=B.opcode?.toLowerCase().includes(O),Q=B.type.toLowerCase().includes(O);(H||U||Q)&&A.push(B.id);for(const te of B.children)$(te.children)}};$(X.children)}s(A),g(0)},[r,n,s]),D.useEffect(()=>{const O=A=>{(A.ctrlKey||A.metaKey)&&A.key.toLowerCase()==="f"&&(A.target.closest(".monaco-editor")||(A.preventDefault(),p(!0),setTimeout(()=>y.current?.focus(),50))),A.key==="Escape"&&d&&b()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[d]);const b=D.useCallback(()=>{p(!1),i(""),s([]),g(0)},[i,s]),N=D.useCallback(O=>{i(O.target.value)},[i]),S=D.useCallback(O=>{if(o.length>0){const A=o[O];u(A),g(O)}},[o,u]),w=D.useCallback(()=>{if(o.length>0){const O=m>0?m-1:o.length-1;S(O)}},[m,o.length,S]),v=D.useCallback(()=>{if(o.length>0){const O=m<o.length-1?m+1:0;S(O)}},[m,o.length,S]),j=D.useCallback(O=>{O.key==="Enter"&&(O.shiftKey?w():v())},[w,v]);return d?h.jsxs("div",{className:P(oE()),role:"search","aria-label":"Search nodes",children:[h.jsx(Mp,{}),h.jsx("input",{ref:y,type:"text",value:r,onChange:N,onKeyDown:j,placeholder:"Search nodes...",className:P(sE()),autoFocus:!0,"aria-label":"Search query","aria-describedby":r?"search-result-count":void 0}),r&&h.jsx("span",{id:"search-result-count",className:P(cE()),"aria-live":"polite",children:o.length>0?`${m+1}/${o.length}`:"No results"}),h.jsxs("div",{className:P(uE()),role:"group","aria-label":"Navigate results",children:[h.jsx("button",{onClick:w,disabled:o.length===0,"aria-label":"Previous result (Shift+Enter)",className:P(Tp()),children:h.jsx(hE,{})}),h.jsx("button",{onClick:v,disabled:o.length===0,"aria-label":"Next result (Enter)",className:P(Tp()),children:h.jsx(pE,{})})]}),h.jsx("button",{onClick:b,className:P(fE()),"aria-label":"Close search (Escape)",children:h.jsx(mE,{})})]}):h.jsx("button",{className:P(iE()),onClick:()=>{p(!0),setTimeout(()=>y.current?.focus(),50)},"aria-label":"Search nodes (Ctrl+F)",children:h.jsx(Mp,{})})}function Mp(){return h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"M21 21l-4.35-4.35"})]})}function hE(){return h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:h.jsx("path",{d:"M18 15l-6-6-6 6"})})}function pE(){return h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:h.jsx("path",{d:"M6 9l6 6 6-6"})})}function mE(){return h.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:h.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}const Yt=24,Dl=28;function gE(n,r,i,o){return{padding:Yt,labelHeight:Dl,rect:{x:n-Yt,y:r-Yt-Dl,width:i+Yt*2,height:o+Yt*2+Dl},header:{x:n-Yt,y:r-Yt-Dl,width:i+Yt*2,height:Dl+Yt},label:{x:n-Yt+12,y:r-Yt-Dl+8},dragIcon:{x:n+i+Yt-24,y:r-Yt-Dl+10}}}function xE(n){return{fill:"transparent",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:2,strokeDasharray:"8 4",opacity:n?.4:.6}}function yE(n){return{fill:n?"rgba(59, 130, 246, 0.1)":"var(--color-surface-2)",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1}}function bE(n){return{fontSize:"11px",fontWeight:600,fill:n?"var(--color-accent-blue)":"var(--color-text-secondary)",fontFamily:"'Inter', sans-serif"}}const vE={cursor:"grab",pointerEvents:"all"},wE={pointerEvents:"none",color:"var(--color-text-muted)"};function SE({name:n,x:r,y:i,width:o,height:s,isMain:u,zoom:d,onDrag:p}){const m=D.useRef(!1),g=D.useRef({x:0,y:0}),y=_e(v=>v.setIsDraggingWorkflow),b=gE(r,i,o,s),N=D.useCallback(v=>{if(!p)return;v.stopPropagation(),v.preventDefault(),m.current=!0,g.current={x:v.clientX,y:v.clientY},y(!0);const j=A=>{if(!m.current)return;A.preventDefault();const X=(A.clientX-g.current.x)/d,$=(A.clientY-g.current.y)/d;g.current={x:A.clientX,y:A.clientY},p(X,$)},O=()=>{m.current=!1,y(!1),window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",O)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",O)},[p,d,y]),S=u&&n!=="main"?`${n} (main)`:n,w=S.length*7+24;return h.jsxs("g",{style:{pointerEvents:"none"},"data-workflow-group":n,children:[h.jsx("rect",{x:b.rect.x,y:b.rect.y,width:b.rect.width,height:b.rect.height,rx:12,style:xE(u??!1)}),h.jsx("rect",{x:b.header.x,y:b.header.y,width:b.header.width,height:b.header.height,fill:"transparent",style:vE,onMouseDown:N}),h.jsxs("g",{transform:`translate(${b.label.x}, ${b.label.y})`,children:[h.jsx("rect",{x:0,y:0,width:w,height:20,rx:4,style:yE(u??!1)}),h.jsx("text",{x:12,y:14,style:bE(u??!1),children:S})]}),h.jsxs("g",{transform:`translate(${b.dragIcon.x}, ${b.dragIcon.y})`,style:wE,children:[h.jsx("rect",{x:0,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),h.jsx("rect",{x:6,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),h.jsx("rect",{x:0,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),h.jsx("rect",{x:6,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4})]})]})}const Dp=M("min-w-[160px] py-1 bg-surface-1 border border-border-subtle rounded-md shadow-lg animate-scale-in"),kl=M("w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm text-text-primary bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2",{variants:{variant:{default:"",danger:"text-accent-red hover:bg-accent-red/10"}},defaultVariants:{variant:"default"}}),Ii=M("h-px my-1 mx-2 bg-border-subtle"),Rl=M("w-4 text-center text-xs text-text-muted"),zl=M("flex-1"),kp=M("text-xs text-text-muted");function EE({x:n,y:r,nodeId:i,hasReporters:o,reportersExpanded:s,isOrphan:u,onExpandReporters:d,onCollapseReporters:p,onDelete:m,onDuplicate:g,onClose:y,selectedNodeIds:b,onExtractToWorkflow:N}){const S=D.useRef(null);D.useEffect(()=>{const j=A=>{S.current&&!S.current.contains(A.target)&&y()},O=A=>{A.key==="Escape"&&y()};return document.addEventListener("mousedown",j),document.addEventListener("keydown",O),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",O)}},[y]);const w=Math.min(n,window.innerWidth-180),v=Math.min(r,window.innerHeight-200);return h.jsxs("div",{ref:S,className:P(Dp()),style:{position:"fixed",left:w,top:v,zIndex:1e3},role:"menu","aria-label":"Node actions",children:[o&&h.jsxs(h.Fragment,{children:[s?h.jsxs("button",{className:P(kl()),onClick:()=>{p(),y()},role:"menuitem",children:[h.jsx("span",{className:P(Rl()),children:""}),h.jsx("span",{className:P(zl()),children:"Collapse Reporters"})]}):h.jsxs("button",{className:P(kl()),onClick:()=>{d(),y()},role:"menuitem",children:[h.jsx("span",{className:P(Rl()),children:""}),h.jsx("span",{className:P(zl()),children:"Expand Reporters"})]}),h.jsx("div",{className:P(Ii()),role:"separator"})]}),h.jsxs("button",{className:P(kl()),onClick:()=>{g(),y()},role:"menuitem",children:[h.jsx("span",{className:P(Rl()),children:""}),h.jsx("span",{className:P(zl()),children:"Duplicate"}),h.jsx("span",{className:P(kp()),children:"Ctrl+D"})]}),h.jsx("div",{className:P(Ii()),role:"separator"}),h.jsxs("button",{className:P(kl({variant:"danger"})),onClick:()=>{m(),y()},role:"menuitem",children:[h.jsx("span",{className:P(Rl()),children:""}),h.jsx("span",{className:P(zl()),children:"Delete"}),h.jsx("span",{className:P(kp()),children:"Del"})]}),b&&b.length>=2&&N&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:P(Ii()),role:"separator"}),h.jsxs("button",{className:P(kl()),onClick:()=>{N(),y()},role:"menuitem",children:[h.jsx("span",{className:P(Rl()),children:""}),h.jsx("span",{className:P(zl()),children:"Extract to Workflow"})]})]})]})}function NE({x:n,y:r,workflowName:i,onCreateWorkflow:o,onDeleteWorkflow:s,onClose:u}){const d=D.useRef(null);D.useEffect(()=>{const y=N=>{d.current&&!d.current.contains(N.target)&&u()},b=N=>{N.key==="Escape"&&u()};return document.addEventListener("mousedown",y),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",b)}},[u]);const p=Math.min(n,window.innerWidth-220),m=Math.min(r,window.innerHeight-120),g=i&&i!=="main";return h.jsxs("div",{ref:d,className:P(Dp()),style:{position:"fixed",left:p,top:m,zIndex:1e3},role:"menu","aria-label":"Canvas actions",children:[h.jsxs("button",{className:P(kl()),onClick:()=>{o(),u()},role:"menuitem",children:[h.jsx("span",{className:P(Rl()),children:"+"}),h.jsx("span",{className:P(zl()),children:"Create New Workflow"})]}),g&&s&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:P(Ii()),role:"separator"}),h.jsxs("button",{className:P(kl({variant:"danger"})),onClick:()=>{s(i),u()},role:"menuitem",children:[h.jsx("span",{className:P(Rl()),children:""}),h.jsxs("span",{className:P(zl()),children:['Delete "',i,'"']})]})]})]})}const vr=gp.WIDTH,bn=gp.HEIGHT,Yi=Fs.HORIZONTAL,wr=Fs.VERTICAL,Rp=Fs.WORKFLOW,jE=40;function CE(n,r){const o=n.inputs||[],s=n.outputs||[],u=o.length>0||s.length>0?18:0,d=Object.entries(r).slice(0,3),p=Object.keys(r).length>3,m=d.length*14+(p?12:0);return Math.max(jp,50+u+m+10)}const tc=12,nc=8,zp=16,AE=28;function Lp(n,r,i){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const o=n.id||"",s=i?`${i}::${o}`:o;if(!(r[s]??!1))return{width:vr,height:bn};const d=[];let p=0;if(n.inputs)for(const y of Object.values(n.inputs))y.type==="reporter"&&y.opcode?d.push(y):p++;let m=vr,g=bn;if(d.length>0){let y=0,b=0;for(const N of d){const S=Lp(N,r,i);y+=zp+S.height+nc,b=Math.max(b,S.width)}m=Math.max(m,b+tc*2),g=bn+y}return p>0&&(g+=p*AE+nc),(d.length>0||p>0)&&(g+=tc),{width:m,height:g}}function OE(n,r,i){let o=0,s=vr;for(const u of Object.values(n))if(u.type==="reporter"&&u.opcode){const d=Lp(u,r,i);o+=zp+d.height+nc,s=Math.max(s,d.width)}return{width:s,height:o}}function lc(n,r,i,o,s){const u=s?`${s}::${n}`:n,d=o[u]??!1,p=lw(),g=i&&p.has(i)?20:0;if(!d)return{width:vr,height:bn+g};const y=OE(r,o,s),b=y.width+tc*2,N=y.height;return{width:Math.max(vr,b),height:bn+N+g}}function Vp(n){return tp(n)}function Bp(n,r,i={},o={}){const s=[],u=[],d=[],p=[];let m=0;const g={};for(const y of n){g[y.name]={x:0,y:m};const b=Math.max(y.children.length*(bn+wr),bn+100);m+=b+Rp}for(const y of n){const b=g[y.name],N=r[y.name]||{x:0,y:0},S={x:b.x+N.x,y:b.y+N.y},{nodes:w,connections:v,bounds:j,startNode:O}=_E(y,S.x,S.y,i,o);s.push(...w),u.push(...v),O&&p.push(O),d.push({name:y.name,x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY,isMain:y.name==="main"})}return{nodes:s,connections:u,groups:d,startNodes:p}}function _E(n,r,i,o={},s={}){const u=[],d=[],p=new Map,m=r,g=i,y={workflowName:n.name,workflowInterface:n.interface,variables:n.variables,x:m,y:g},b=r+Tn+jE;let N=1/0,S=1/0,w=-1/0,v=-1/0;function j(U,Q,te,ce){N=Math.min(N,U),S=Math.min(S,Q),w=Math.max(w,U+te),v=Math.max(v,Q+ce)}function O(U,Q,te,ce=!1){const ie=lc(U.id,U.inputs,U.opcode,s,n.name);u.push({node:U,x:Q,y:te,width:ie.width,height:ie.height,isOrphan:ce,workflowName:n.name}),p.set(U.id,{x:Q,y:te,width:ie.width,height:ie.height}),j(Q,te,ie.width,ie.height);let re=Q+ie.width+Yi;if(U.children.length>0){let ue=te+ie.height+wr;const oe=U.children.length;for(let k=0;k<oe;k++){const G=U.children[k],R=Vp(G.name);let le=Q+ie.width+Yi,K=U.id,C=!0;for(const z of G.children){const F=lc(z.id,z.inputs,z.opcode,s,n.name);u.push({node:z,x:le,y:ue,width:F.width,height:F.height,workflowName:n.name}),p.set(z.id,{x:le,y:ue,width:F.width,height:F.height}),j(le,ue,F.width,F.height),d.push({from:`${n.name}::${K}`,to:`${n.name}::${z.id}`,fromPort:C?G.name:"output",toPort:"input",color:R,label:C?G.name:void 0}),K=z.id,C=!1,le+=F.width+Yi,z.children.length>0&&(le=Math.max(le,A(z,le,ue)))}re=Math.max(re,le),ue+=bn+wr*2}}return re}function A(U,Q,te){let ce=Q;const re=p.get(U.id)?.height||bn;let ue=te+re+wr;const oe=U.children.length;for(let k=0;k<oe;k++){const G=U.children[k],R=Vp(G.name);let le=Q,K=U.id,C=!0;for(const z of G.children){const F=lc(z.id,z.inputs,z.opcode,s,n.name);u.push({node:z,x:le,y:ue,width:F.width,height:F.height,workflowName:n.name}),p.set(z.id,{x:le,y:ue,width:F.width,height:F.height}),j(le,ue,F.width,F.height),d.push({from:`${n.name}::${K}`,to:`${n.name}::${z.id}`,fromPort:C?G.name:"output",toPort:"input",color:R,label:C?G.name:void 0}),K=z.id,C=!1,le+=F.width+Yi}ce=Math.max(ce,le),ue+=bn+wr}return ce}const X=CE(n.interface,n.variables);j(m,g,Tn,X);let $=b,V=null,B=!0;for(const U of n.children){const te=O(U,$,i);B&&(d.push({from:`start-${n.name}`,to:`${n.name}::${U.id}`,fromPort:"output",toPort:"input",color:"#22C55E"}),B=!1),V&&d.push({from:`${n.name}::${V.id}`,to:`${n.name}::${U.id}`,fromPort:"output",toPort:"input",color:"#475569"}),V=U,$=te}n.children.length===0&&(N=Math.min(N,m),S=Math.min(S,g),w=Math.max(w,m+Tn+20),v=Math.max(v,g+X));const H=n.orphans||[];if(H.length>0){const U=v+Rp;let Q=m;for(const te of H)Q=O(te,Q,U,!0);for(const te of H)te.next&&d.push({from:`${n.name}::${te.id}`,to:`${n.name}::${te.next}`,fromPort:"output",toPort:"input",color:"#6B7280"})}for(const U of u){const Q=`${U.workflowName}::${U.node.id}`,te=o[Q];te&&(U.x+=te.x,U.y+=te.y,j(U.x,U.y,U.width,U.height))}return{nodes:u,connections:d,bounds:{minX:N,minY:S,maxX:w,maxY:v},startNode:y}}function Hp(n,r,i){const u=[...n].sort((d,p)=>p.y-d.y);for(const d of u)if(r>=d.x-16&&r<=d.x+d.width+16&&i>=d.y-28-16&&i<=d.y+d.height+16)return d.name;return null}const TE=M("flex-1 relative overflow-hidden"),ME=M("w-full h-full block"),DE=M("absolute bottom-4 right-4 flex items-center gap-1 bg-surface-1 p-1 rounded-sm border border-border-subtle z-10 shadow-md"),ac=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm hover:bg-surface-2 hover:text-text-primary"),kE=M("w-px h-5 bg-border-subtle mx-1"),RE=M("min-w-10 text-center text-xs text-text-muted"),Up=M("h-7 px-2.5 flex items-center justify-center gap-1.5 bg-transparent border-none text-text-secondary cursor-pointer rounded-sm text-xs font-medium transition-colors hover:bg-surface-2 hover:text-text-primary",{variants:{active:{true:"bg-surface-3 text-text-primary",false:""}},defaultVariants:{active:!1}}),zE=M("absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-3 px-5 py-3 bg-accent-red/15 border border-accent-red rounded-sm text-accent-red z-10 max-w-[80%]"),LE=M("text-lg"),VE=M("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-text-muted pointer-events-none"),BE=M("text-lg mb-2 text-text-secondary"),HE=M("text-sm");function rc(n,r,i=new Set){for(const o of Object.values(n))if(o.type==="reporter"&&o.id){const s=`${r}::${o.id}`;i.add(s),o.inputs&&rc(o.inputs,r,i)}return Array.from(i)}function Ip(n,r){const[i,o]=r.split("::"),s=n.find(p=>p.name===i);if(!s)return null;const u=p=>{for(const m of p){if(m.id===o)return m;for(const g of m.children){const y=u(g.children);if(y)return y}}return null},d=u(s.children);if(d)return{node:d,workflowName:i};if(s.orphans){const p=u(s.orphans);if(p)return{node:p,workflowName:i}}return null}function UE(){const{zoom:n,panX:r,panY:i,setZoom:o,setPan:s,resetView:u,workflowPositions:d,setWorkflowPosition:p,nodePositions:m,setNodePosition:g,layoutMode:y,setLayoutMode:b,setLayoutGroups:N,setCanvasCenter:S,contextMenu:w,hideContextMenu:v,setReportersExpanded:j,setMultipleReportersExpanded:O,expandedReporters:A,canvasContextMenu:X,showCanvasContextMenu:$,hideCanvasContextMenu:V,showCreateWorkflowModal:B,showConfirmDialog:H,showExtractWorkflowModal:U}=_e(),{tree:Q,parseError:te,source:ce,disconnectConnection:ie,deleteNode:re,duplicateNode:ue,deleteWorkflow:oe}=nt(),{selectedConnection:k,selectConnection:G,selectedNodeIds:R,clearMultiSelection:le}=Kn(),K=D.useRef(null),[C,z]=D.useState({width:800,height:600});D.useEffect(()=>{const se=()=>{K.current&&z({width:K.current.clientWidth,height:K.current.clientHeight})};return se(),window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]);const{nodes:F,connections:ae,groups:fe,startNodes:ye}=Q?Bp(Q.workflows,d,m,A):{nodes:[],connections:[],groups:[],startNodes:[]},de=24,Ye=28,ne=fe.length>0?fe.reduce((se,Se)=>({minX:Math.min(se.minX,Se.x-de),minY:Math.min(se.minY,Se.y-de-Ye),maxX:Math.max(se.maxX,Se.x+Se.width+de),maxY:Math.max(se.maxY,Se.y+Se.height+de)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}):{minX:0,minY:0,maxX:800,maxY:600},{centerX:we,centerY:Re}=D.useMemo(()=>{if(!Q)return{centerX:400,centerY:300};const Se=Bp(Q.workflows,{}).groups.reduce((qe,Fe)=>({minX:Math.min(qe.minX,Fe.x-de),minY:Math.min(qe.minY,Fe.y-de-Ye),maxX:Math.max(qe.maxX,Fe.x+Fe.width+de),maxY:Math.max(qe.maxY,Fe.y+Fe.height+de)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return{centerX:(Se.maxX+Se.minX)/2,centerY:(Se.maxY+Se.minY)/2}},[Q]),Ue=JSON.stringify(fe);D.useEffect(()=>{N(fe)},[Ue,N]),D.useEffect(()=>{S(we,Re)},[we,Re,S]),D.useEffect(()=>{const se=Se=>{const Fe=Se.detail.workflowName,Le=fe.find(Dr=>Dr.name===Fe);if(!Le)return;const Sn=C.width/2,ll=C.height/2,al=Le.x+Le.width/2,rl=Le.y+Le.height/2,Mr=Sn-al*n-(C.width/2-we*n),ba=ll-rl*n-(C.height/2-Re*n);s(Mr,ba)};return window.addEventListener("lexflow:goto-workflow",se),()=>window.removeEventListener("lexflow:goto-workflow",se)},[fe,n,s,C,we,Re]);const{handleWheel:it,handleMouseDown:Tt,handleMouseMove:vn,handleMouseUp:wn,isDragging:Ae}=nS({svgRef:K,centerX:we,centerY:Re}),bt=D.useCallback(se=>{const Se=se.target,qe=Se.tagName==="svg"||Se.tagName==="rect"&&Se.getAttribute("fill")==="transparent",Fe=Se.closest("[data-workflow-group]")!==null;if(qe||Fe)if(se.preventDefault(),K.current){const Le=K.current.getBoundingClientRect(),Sn=(se.clientX-Le.left-r-Le.width/2)/n+we,ll=(se.clientY-Le.top-i-Le.height/2)/n+Re,al=Hp(fe,Sn,ll);$(se.clientX,se.clientY,al||void 0)}else $(se.clientX,se.clientY)},[$,K,r,i,n,we,Re,fe]),Gt=D.useCallback((se,Se)=>{s(se,Se)},[s]);return h.jsxs("div",{className:P(TE()),"data-canvas-container":!0,children:[h.jsx(dE,{}),h.jsxs("div",{className:P(DE()),role:"toolbar","aria-label":"Canvas controls",children:[h.jsx("button",{className:P(ac()),onClick:()=>o(n-.1),"aria-label":"Zoom out",children:h.jsx(vv,{})}),h.jsxs("span",{className:P(RE()),"aria-live":"polite",children:[Math.round(n*100),"%"]}),h.jsx("button",{className:P(ac()),onClick:()=>o(n+.1),"aria-label":"Zoom in",children:h.jsx(bv,{})}),h.jsx("button",{className:P(ac()),onClick:u,"aria-label":"Fit to view",children:h.jsx(wv,{})}),h.jsx("div",{className:P(kE())}),h.jsxs("button",{className:P(Up({active:y==="auto"})),onClick:()=>b("auto"),"aria-label":"Auto layout","aria-pressed":y==="auto",children:[h.jsx(Sv,{}),"Auto"]}),h.jsx("button",{className:P(Up({active:y==="free"})),onClick:()=>b("free"),"aria-label":"Free layout","aria-pressed":y==="free",children:"Free"})]}),Q&&h.jsx(rE,{workflows:Q.workflows,bounds:ne,zoom:n,panX:r,panY:i,canvasWidth:C.width,canvasHeight:C.height,onNavigate:Gt}),te&&h.jsxs("div",{className:P(zE()),children:[h.jsx("span",{className:P(LE()),children:""}),h.jsx("span",{children:te})]}),h.jsxs("svg",{ref:K,className:P(ME()),onWheel:it,onMouseDown:Tt,onMouseMove:vn,onMouseUp:wn,onMouseLeave:wn,onContextMenu:bt,style:{cursor:Ae?"grabbing":"grab"},role:"application","aria-label":"Workflow canvas. Use mouse to pan and scroll to zoom.",children:[h.jsx("rect",{width:"100%",height:"100%",fill:"transparent",style:{cursor:"inherit"}}),h.jsxs("g",{transform:`translate(${r+(K.current?.clientWidth||800)/2-we*n}, ${i+(K.current?.clientHeight||600)/2-Re*n}) scale(${n})`,children:[fe.map(se=>h.jsx(SE,{name:se.name,x:se.x,y:se.y,width:se.width,height:se.height,isMain:se.isMain,zoom:n,onDrag:(Se,qe)=>{const Fe=_e.getState().workflowPositions[se.name]||{x:0,y:0};p(se.name,Fe.x+Se,Fe.y+qe)}},se.name)),ae.map((se,Se)=>h.jsx(Ap,{fromNodeId:se.from,toNodeId:se.to,fromPort:se.fromPort,toPort:se.toPort,color:se.color,label:se.label,isSelected:k?.fromNodeId===se.from&&k?.toNodeId===se.to,onSelect:()=>G({fromNodeId:se.from,toNodeId:se.to,label:se.label}),onDelete:()=>{const qe=Bi(se.from);ie(Pn(se.from),Pn(se.to),se.label,qe),G(null)}},`${se.from}-${se.to}-${Se}`)),ye.map(se=>h.jsx(DS,{workflowName:se.workflowName,workflowInterface:se.workflowInterface,variables:se.variables,x:se.x,y:se.y,zoom:n,onDrag:y==="free"?(Se,qe)=>{const Fe=d[se.workflowName]||{x:0,y:0};p(se.workflowName,Fe.x+Se,Fe.y+qe)}:void 0},`start-${se.workflowName}`)),F.map(se=>{const Se=`${se.workflowName}::${se.node.id}`;return h.jsx(wS,{node:se.node,x:se.x,y:se.y,isOrphan:se.isOrphan,zoom:n,workflowName:se.workflowName,onDrag:y==="free"?(qe,Fe)=>{const Le=m[Se]||{x:0,y:0};g(Se,Le.x+qe,Le.y+Fe)}:void 0},Se)}),h.jsx(qS,{}),h.jsx(eE,{}),h.jsx(tE,{})]})]}),!te&&!Q&&h.jsxs("div",{className:P(VE()),children:[h.jsx("h2",{className:P(BE()),children:"No Workflow"}),h.jsx("p",{className:P(HE()),children:"Edit YAML in the editor or load an example"})]}),w&&(()=>{const se=Pn(w.nodeId);return h.jsx(EE,{x:w.x,y:w.y,nodeId:se,hasReporters:w.hasReporters,reportersExpanded:w.reportersExpanded,isOrphan:w.isOrphan,onExpandReporters:()=>{if(j(w.nodeId,!0),Q){const Se=Ip(Q.workflows,w.nodeId);if(Se){const qe=rc(Se.node.inputs,Se.workflowName);qe.length>0&&O(qe,!0)}}},onCollapseReporters:()=>{if(j(w.nodeId,!1),Q){const Se=Ip(Q.workflows,w.nodeId);if(Se){const qe=rc(Se.node.inputs,Se.workflowName);qe.length>0&&O(qe,!1)}}},onDelete:()=>{re(se),le()},onDuplicate:()=>ue(se),onClose:v,selectedNodeIds:R,onExtractToWorkflow:()=>{const Se=R.length>0?R:[w.nodeId],qe=Se.map(Pn);if(qe.length<2)return;let Fe=Bi(Se[0])||"main";const Le=Id(ce,qe,Fe);if(!Le.isValid){H({title:"Cannot Extract",message:Le.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}});return}const Sn=Wb(ce,qe);U(Le.orderedNodeIds,Fe,Sn.suggestedInputs,Sn.suggestedOutputs)}})})(),X&&h.jsx(NE,{x:X.x,y:X.y,workflowName:X.workflowName,onCreateWorkflow:B,onDeleteWorkflow:se=>{H({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${se}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>oe(se)})},onClose:V})]})}function Yp(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,o=Array(r);i<r;i++)o[i]=n[i];return o}function IE(n){if(Array.isArray(n))return n}function YE(n,r,i){return(r=QE(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function qE(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,u,d,p=[],m=!0,g=!1;try{if(u=(i=i.call(n)).next,r!==0)for(;!(m=(o=u.call(i)).done)&&(p.push(o.value),p.length!==r);m=!0);}catch(y){g=!0,s=y}finally{try{if(!m&&i.return!=null&&(d=i.return(),Object(d)!==d))return}finally{if(g)throw s}}return p}}function XE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qp(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),i.push.apply(i,o)}return i}function Xp(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?qp(Object(i),!0).forEach(function(o){YE(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):qp(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function GE(n,r){if(n==null)return{};var i,o,s=$E(n,r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o<u.length;o++)i=u[o],r.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(s[i]=n[i])}return s}function $E(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}function WE(n,r){return IE(n)||qE(n,r)||KE(n,r)||XE()}function ZE(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function QE(n){var r=ZE(n,"string");return typeof r=="symbol"?r:r+""}function KE(n,r){if(n){if(typeof n=="string")return Yp(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Yp(n,r):void 0}}function FE(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function Gp(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),i.push.apply(i,o)}return i}function $p(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Gp(Object(i),!0).forEach(function(o){FE(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Gp(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function JE(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(o){return r.reduceRight(function(s,u){return u(s)},o)}}function Sr(n){return function r(){for(var i=this,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return s.length>=n.length?n.apply(this,s):function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return r.apply(i,[].concat(s,p))}}}function qi(n){return{}.toString.call(n).includes("Object")}function PE(n){return!Object.keys(n).length}function Er(n){return typeof n=="function"}function eN(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function tN(n,r){return qi(r)||el("changeType"),Object.keys(r).some(function(i){return!eN(n,i)})&&el("changeField"),r}function nN(n){Er(n)||el("selectorType")}function lN(n){Er(n)||qi(n)||el("handlerType"),qi(n)&&Object.values(n).some(function(r){return!Er(r)})&&el("handlersType")}function aN(n){n||el("initialIsRequired"),qi(n)||el("initialType"),PE(n)&&el("initialContent")}function rN(n,r){throw new Error(n[r]||n.default)}var iN={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},el=Sr(rN)(iN),Xi={changes:tN,selector:nN,handler:lN,initial:aN};function oN(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xi.initial(n),Xi.handler(r);var i={current:n},o=Sr(uN)(i,r),s=Sr(cN)(i),u=Sr(Xi.changes)(n),d=Sr(sN)(i);function p(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return Xi.selector(g),g(i.current)}function m(g){JE(o,s,u,d)(g)}return[p,m]}function sN(n,r){return Er(r)?r(n.current):r}function cN(n,r){return n.current=$p($p({},n.current),r),r}function uN(n,r,i){return Er(r)?r(n.current):Object.keys(i).forEach(function(o){var s;return(s=r[o])===null||s===void 0?void 0:s.call(r,n.current[o])}),i}var fN={create:oN},dN={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function hN(n){return function r(){for(var i=this,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return s.length>=n.length?n.apply(this,s):function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return r.apply(i,[].concat(s,p))}}}function pN(n){return{}.toString.call(n).includes("Object")}function mN(n){return n||Zp("configIsRequired"),pN(n)||Zp("configType"),n.urls?(gN(),{paths:{vs:n.urls.monacoBase}}):n}function gN(){console.warn(Wp.deprecation)}function xN(n,r){throw new Error(n[r]||n.default)}var Wp={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Zp=hN(xN)(Wp),yN={config:mN},bN=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(s){return i.reduceRight(function(u,d){return d(u)},s)}};function Qp(n,r){return Object.keys(r).forEach(function(i){r[i]instanceof Object&&n[i]&&Object.assign(r[i],Qp(n[i],r[i]))}),Xp(Xp({},n),r)}var vN={type:"cancelation",msg:"operation is manually canceled"};function ic(n){var r=!1,i=new Promise(function(o,s){n.then(function(u){return r?s(vN):o(u)}),n.catch(s)});return i.cancel=function(){return r=!0},i}var wN=["monaco"],SN=fN.create({config:dN,isInitialized:!1,resolve:null,reject:null,monaco:null}),Kp=WE(SN,2),Nr=Kp[0],Gi=Kp[1];function EN(n){var r=yN.config(n),i=r.monaco,o=GE(r,wN);Gi(function(s){return{config:Qp(s.config,o),monaco:i}})}function NN(){var n=Nr(function(r){var i=r.monaco,o=r.isInitialized,s=r.resolve;return{monaco:i,isInitialized:o,resolve:s}});if(!n.isInitialized){if(Gi({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),ic(oc);if(window.monaco&&window.monaco.editor)return Fp(window.monaco),n.resolve(window.monaco),ic(oc);bN(jN,AN)(ON)}return ic(oc)}function jN(n){return document.body.appendChild(n)}function CN(n){var r=document.createElement("script");return n&&(r.src=n),r}function AN(n){var r=Nr(function(o){var s=o.config,u=o.reject;return{config:s,reject:u}}),i=CN("".concat(r.config.paths.vs,"/loader.js"));return i.onload=function(){return n()},i.onerror=r.reject,i}function ON(){var n=Nr(function(i){var o=i.config,s=i.resolve,u=i.reject;return{config:o,resolve:s,reject:u}}),r=window.require;r.config(n.config),r(["vs/editor/editor.main"],function(i){var o=i.m||i;Fp(o),n.resolve(o)},function(i){n.reject(i)})}function Fp(n){Nr().monaco||Gi({monaco:n})}function _N(){return Nr(function(n){var r=n.monaco;return r})}var oc=new Promise(function(n,r){return Gi({resolve:n,reject:r})}),Jp={config:EN,init:NN,__getMonacoInstance:_N},TN={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},sc=TN,MN={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},DN=MN;function kN({children:n}){return mn.createElement("div",{style:DN.container},n)}var RN=kN,zN=RN;function LN({width:n,height:r,isEditorReady:i,loading:o,_ref:s,className:u,wrapperProps:d}){return mn.createElement("section",{style:{...sc.wrapper,width:n,height:r},...d},!i&&mn.createElement(zN,null,o),mn.createElement("div",{ref:s,style:{...sc.fullWidth,...!i&&sc.hide},className:u}))}var VN=LN,Pp=D.memo(VN);function BN(n){D.useEffect(n,[])}var em=BN;function HN(n,r,i=!0){let o=D.useRef(!0);D.useEffect(o.current||!i?()=>{o.current=!1}:n,r)}var qt=HN;function jr(){}function ga(n,r,i,o){return UN(n,o)||IN(n,r,i,o)}function UN(n,r){return n.editor.getModel(tm(n,r))}function IN(n,r,i,o){return n.editor.createModel(r,i,o?tm(n,o):void 0)}function tm(n,r){return n.Uri.parse(r)}function YN({original:n,modified:r,language:i,originalLanguage:o,modifiedLanguage:s,originalModelPath:u,modifiedModelPath:d,keepCurrentOriginalModel:p=!1,keepCurrentModifiedModel:m=!1,theme:g="light",loading:y="Loading...",options:b={},height:N="100%",width:S="100%",className:w,wrapperProps:v={},beforeMount:j=jr,onMount:O=jr}){let[A,X]=D.useState(!1),[$,V]=D.useState(!0),B=D.useRef(null),H=D.useRef(null),U=D.useRef(null),Q=D.useRef(O),te=D.useRef(j),ce=D.useRef(!1);em(()=>{let oe=Jp.init();return oe.then(k=>(H.current=k)&&V(!1)).catch(k=>k?.type!=="cancelation"&&console.error("Monaco initialization: error:",k)),()=>B.current?ue():oe.cancel()}),qt(()=>{if(B.current&&H.current){let oe=B.current.getOriginalEditor(),k=ga(H.current,n||"",o||i||"text",u||"");k!==oe.getModel()&&oe.setModel(k)}},[u],A),qt(()=>{if(B.current&&H.current){let oe=B.current.getModifiedEditor(),k=ga(H.current,r||"",s||i||"text",d||"");k!==oe.getModel()&&oe.setModel(k)}},[d],A),qt(()=>{let oe=B.current.getModifiedEditor();oe.getOption(H.current.editor.EditorOption.readOnly)?oe.setValue(r||""):r!==oe.getValue()&&(oe.executeEdits("",[{range:oe.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),oe.pushUndoStop())},[r],A),qt(()=>{B.current?.getModel()?.original.setValue(n||"")},[n],A),qt(()=>{let{original:oe,modified:k}=B.current.getModel();H.current.editor.setModelLanguage(oe,o||i||"text"),H.current.editor.setModelLanguage(k,s||i||"text")},[i,o,s],A),qt(()=>{H.current?.editor.setTheme(g)},[g],A),qt(()=>{B.current?.updateOptions(b)},[b],A);let ie=D.useCallback(()=>{if(!H.current)return;te.current(H.current);let oe=ga(H.current,n||"",o||i||"text",u||""),k=ga(H.current,r||"",s||i||"text",d||"");B.current?.setModel({original:oe,modified:k})},[i,r,s,n,o,u,d]),re=D.useCallback(()=>{!ce.current&&U.current&&(B.current=H.current.editor.createDiffEditor(U.current,{automaticLayout:!0,...b}),ie(),H.current?.editor.setTheme(g),X(!0),ce.current=!0)},[b,g,ie]);D.useEffect(()=>{A&&Q.current(B.current,H.current)},[A]),D.useEffect(()=>{!$&&!A&&re()},[$,A,re]);function ue(){let oe=B.current?.getModel();p||oe?.original?.dispose(),m||oe?.modified?.dispose(),B.current?.dispose()}return mn.createElement(Pp,{width:S,height:N,isEditorReady:A,loading:y,_ref:U,className:w,wrapperProps:v})}var qN=YN;D.memo(qN);function XN(n){let r=D.useRef();return D.useEffect(()=>{r.current=n},[n]),r.current}var GN=XN,$i=new Map;function $N({defaultValue:n,defaultLanguage:r,defaultPath:i,value:o,language:s,path:u,theme:d="light",line:p,loading:m="Loading...",options:g={},overrideServices:y={},saveViewState:b=!0,keepCurrentModel:N=!1,width:S="100%",height:w="100%",className:v,wrapperProps:j={},beforeMount:O=jr,onMount:A=jr,onChange:X,onValidate:$=jr}){let[V,B]=D.useState(!1),[H,U]=D.useState(!0),Q=D.useRef(null),te=D.useRef(null),ce=D.useRef(null),ie=D.useRef(A),re=D.useRef(O),ue=D.useRef(),oe=D.useRef(o),k=GN(u),G=D.useRef(!1),R=D.useRef(!1);em(()=>{let C=Jp.init();return C.then(z=>(Q.current=z)&&U(!1)).catch(z=>z?.type!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>te.current?K():C.cancel()}),qt(()=>{let C=ga(Q.current,n||o||"",r||s||"",u||i||"");C!==te.current?.getModel()&&(b&&$i.set(k,te.current?.saveViewState()),te.current?.setModel(C),b&&te.current?.restoreViewState($i.get(u)))},[u],V),qt(()=>{te.current?.updateOptions(g)},[g],V),qt(()=>{!te.current||o===void 0||(te.current.getOption(Q.current.editor.EditorOption.readOnly)?te.current.setValue(o):o!==te.current.getValue()&&(R.current=!0,te.current.executeEdits("",[{range:te.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),te.current.pushUndoStop(),R.current=!1))},[o],V),qt(()=>{let C=te.current?.getModel();C&&s&&Q.current?.editor.setModelLanguage(C,s)},[s],V),qt(()=>{p!==void 0&&te.current?.revealLine(p)},[p],V),qt(()=>{Q.current?.editor.setTheme(d)},[d],V);let le=D.useCallback(()=>{if(!(!ce.current||!Q.current)&&!G.current){re.current(Q.current);let C=u||i,z=ga(Q.current,o||n||"",r||s||"",C||"");te.current=Q.current?.editor.create(ce.current,{model:z,automaticLayout:!0,...g},y),b&&te.current.restoreViewState($i.get(C)),Q.current.editor.setTheme(d),p!==void 0&&te.current.revealLine(p),B(!0),G.current=!0}},[n,r,i,o,s,u,g,y,b,d,p]);D.useEffect(()=>{V&&ie.current(te.current,Q.current)},[V]),D.useEffect(()=>{!H&&!V&&le()},[H,V,le]),oe.current=o,D.useEffect(()=>{V&&X&&(ue.current?.dispose(),ue.current=te.current?.onDidChangeModelContent(C=>{R.current||X(te.current.getValue(),C)}))},[V,X]),D.useEffect(()=>{if(V){let C=Q.current.editor.onDidChangeMarkers(z=>{let F=te.current.getModel()?.uri;if(F&&z.find(ae=>ae.path===F.path)){let ae=Q.current.editor.getModelMarkers({resource:F});$?.(ae)}});return()=>{C?.dispose()}}return()=>{}},[V,$]);function K(){ue.current?.dispose(),N?b&&$i.set(u,te.current.saveViewState()):te.current.getModel()?.dispose(),te.current.dispose()}return mn.createElement(Pp,{width:S,height:w,isEditorReady:V,loading:m,_ref:ce,className:v,wrapperProps:j})}var WN=$N,ZN=D.memo(WN),QN=ZN;const cc=M("flex flex-col h-full"),uc=M("flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-surface-2"),fc=M("text-sm font-medium text-text-secondary"),nm=M("text-xs text-accent-blue animate-pulse"),dc=M("flex-1 overflow-hidden"),KN=D.lazy(()=>Promise.resolve().then(()=>ej).then(n=>({default:n.LiteEditor})));function FN(){return h.jsxs("div",{className:P(cc()),children:[h.jsx("div",{className:uc(),children:h.jsx("span",{className:fc(),children:"Editor"})}),h.jsx("div",{className:P(dc(),"flex items-center justify-center"),children:h.jsx("span",{className:"text-text-muted text-sm",children:"Loading editor..."})})]})}function JN({className:n,lite:r=!1}){const{source:i,setSource:o,isParsing:s}=nt(),{theme:u}=Ss();if(r)return h.jsx(D.Suspense,{fallback:h.jsx(FN,{}),children:h.jsx(KN,{className:n,value:i,onChange:o,isParsing:s})});const d=D.useRef(null),p=D.useRef(null);D.useEffect(()=>{const g=y=>{const b=d.current;if(b){const N=y.detail.line;b.revealLineInCenter(N),b.setPosition({lineNumber:N,column:1}),b.focus(),b.deltaDecorations([],[{range:{startLineNumber:N,startColumn:1,endLineNumber:N,endColumn:1},options:{isWholeLine:!0,className:"highlighted-line",glyphMarginClassName:"highlighted-glyph"}}])}};return window.addEventListener("lexflow:goto-line",g),()=>{window.removeEventListener("lexflow:goto-line",g)}},[]),D.useEffect(()=>{if(p.current&&d.current){const g=p.current,y=u==="light"?"lexflow-light":"lexflow-dark";g.editor.setTheme(y)}},[u]);const m=(g,y)=>{d.current=g,p.current=y,y.editor.defineTheme("lexflow-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1e1e1e","editor.lineHighlightBackground":"#2d2d2d"}}),y.editor.defineTheme("lexflow-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#fafafa","editor.lineHighlightBackground":"#f0f0f0"}});const b=u==="light"?"lexflow-light":"lexflow-dark";y.editor.setTheme(b)};return h.jsxs("div",{className:P(cc(),n),children:[h.jsxs("div",{className:uc(),children:[h.jsx("span",{className:fc(),children:"Editor"}),s&&h.jsx("span",{className:nm(),children:"Parsing..."})]}),h.jsx("div",{className:dc(),children:h.jsx(QN,{height:"100%",language:"yaml",theme:u==="light"?"lexflow-light":"lexflow-dark",value:i,onChange:g=>o(g||""),onMount:m,options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0}})})]})}function PN({className:n,value:r,onChange:i,isParsing:o}){const s=D.useRef(null),u=D.useRef(null),d=D.useCallback(b=>{if(b.key==="Tab"){b.preventDefault();const N=b.currentTarget,S=N.selectionStart,w=N.selectionEnd,v=r.substring(0,S)+"  "+r.substring(w);i(v),requestAnimationFrame(()=>{N.selectionStart=N.selectionEnd=S+2})}},[r,i]),p=D.useCallback(b=>{i(b.target.value)},[i]),m=D.useCallback(()=>{s.current&&u.current&&(u.current.scrollTop=s.current.scrollTop)},[]);D.useEffect(()=>{const b=N=>{const S=s.current;if(!S)return;const w=r.split(`
`),v=Math.min(Math.max(1,N.detail.line),w.length);let j=0;for(let A=0;A<v-1;A++)j+=w[A].length+1;S.focus(),S.setSelectionRange(j,j);const O=20;S.scrollTop=(v-1)*O-S.clientHeight/2};return window.addEventListener("lexflow:goto-line",b),()=>{window.removeEventListener("lexflow:goto-line",b)}},[r]);const g=r.split(`
`).length,y=Array.from({length:g},(b,N)=>N+1);return h.jsxs("div",{className:P(cc(),n),children:[h.jsxs("div",{className:uc(),children:[h.jsx("span",{className:fc(),children:"Editor"}),o&&h.jsx("span",{className:nm(),children:"Parsing..."})]}),h.jsxs("div",{className:P(dc(),"flex"),children:[h.jsx("div",{ref:u,className:"flex-none w-12 bg-surface-1 text-text-muted text-sm font-mono text-right py-2 pr-2 overflow-hidden select-none",style:{lineHeight:"20px"},children:y.map(b=>h.jsx("div",{children:b},b))}),h.jsx("textarea",{ref:s,value:r,onChange:p,onKeyDown:d,onScroll:m,spellCheck:!1,className:P("flex-1 resize-none p-2","bg-surface-0 text-text-primary","font-mono text-sm","border-none outline-none","focus:ring-0 focus:outline-none"),style:{lineHeight:"20px",tabSize:2}})]})]})}const ej=Object.freeze(Object.defineProperty({__proto__:null,LiteEditor:PN},Symbol.toStringTag,{value:"Module"})),tj=M("absolute inset-0 flex items-center justify-center bg-black/60 z-[100] backdrop-blur-sm"),nj=M("bg-surface-1 border border-border-default rounded-sm p-6 min-w-[300px] max-w-[400px] shadow-xl"),hc=M("block text-sm text-text-primary mb-4 leading-relaxed"),lj=M("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 transition-colors focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue/20"),aj=M("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 cursor-pointer transition-colors focus:outline-none focus:border-accent-blue"),pc=M("flex gap-3 justify-end"),mc=M("px-5 py-2.5 bg-accent-blue border-none rounded-sm text-surface-0 font-medium text-sm cursor-pointer transition-all hover:brightness-110 focus:outline-none focus:ring-1 focus:ring-accent-blue/30"),rj=M("px-5 py-2.5 bg-transparent border border-border-default rounded-sm text-text-secondary font-medium text-sm cursor-pointer transition-colors hover:bg-surface-2 hover:text-text-primary"),ij=M("flex justify-center"),oj=M("px-8 py-3 bg-accent-blue border-none rounded-sm text-white font-semibold text-base cursor-pointer transition-all shadow-lg hover:brightness-110 hover:-translate-y-px focus:outline-none focus:ring-1 focus:ring-accent-blue/30");function sj({prompt:n,onSubmit:r}){const[i,o]=D.useState(""),[s,u]=D.useState(n.options?.[0]||""),d=D.useRef(null);D.useEffect(()=>{n.type==="input"&&d.current&&d.current.focus()},[n.type]),D.useEffect(()=>{o(""),n.options?.length&&u(n.options[0])},[n]);const p=b=>{b.preventDefault(),r(i)},m=b=>{b.preventDefault(),r(s)},g=b=>{r(b)},y=b=>{b.key==="Escape"&&n.type==="confirm"&&r(!1)};return h.jsx("div",{className:P(tj()),onKeyDown:y,role:"presentation",children:h.jsxs("div",{className:P(nj()),role:"dialog","aria-modal":"true","aria-labelledby":"prompt-label",children:[n.type==="input"&&h.jsxs("form",{onSubmit:p,children:[h.jsx("label",{id:"prompt-label",htmlFor:"prompt-input",className:P(hc()),children:n.prompt||"Enter a value:"}),h.jsx("input",{ref:d,id:"prompt-input",type:"text",value:i,onChange:b=>o(b.target.value),className:P(lj()),placeholder:"Type here..."}),h.jsx("div",{className:P(pc()),children:h.jsx("button",{type:"submit",className:P(mc()),children:"Submit"})})]}),n.type==="select"&&h.jsxs("form",{onSubmit:m,children:[h.jsx("label",{id:"prompt-label",htmlFor:"prompt-select",className:P(hc()),children:n.prompt||"Select an option:"}),h.jsx("select",{id:"prompt-select",value:s,onChange:b=>u(b.target.value),className:P(aj()),children:n.options?.map(b=>h.jsx("option",{value:b,children:b},b))}),h.jsx("div",{className:P(pc()),children:h.jsx("button",{type:"submit",className:P(mc()),children:"Select"})})]}),n.type==="confirm"&&h.jsxs("div",{children:[h.jsx("p",{id:"prompt-label",className:P(hc()),children:n.message||n.prompt||"Are you sure?"}),h.jsxs("div",{className:P(pc()),children:[h.jsx("button",{className:P(rj()),onClick:()=>g(!1),children:"No"}),h.jsx("button",{className:P(mc()),onClick:()=>g(!0),autoFocus:!0,children:"Yes"})]})]}),n.type==="button"&&h.jsx("div",{className:P(ij()),children:h.jsx("button",{id:"prompt-label",className:P(oj()),onClick:()=>r(!0),autoFocus:!0,children:n.label||"Click"})})]})})}const cj=M("flex flex-col relative min-h-[100px] max-h-[600px]"),uj=M("absolute top-0 left-0 right-0 h-1.5 cursor-ns-resize bg-transparent z-10 transition-colors hover:bg-accent-blue/50",{variants:{isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{isResizing:!1}}),fj=M("flex items-center justify-between px-3 py-1.5 border-b border-border-subtle bg-surface-1"),dj=M("flex items-center gap-2"),hj=M("text-sm font-medium text-text-secondary"),pj=M("w-1.5 h-1.5 rounded-full",{variants:{status:{idle:"bg-text-muted",running:"bg-accent-green animate-pulse",error:"bg-accent-red"}},defaultVariants:{status:"idle"}}),mj=M("flex items-center gap-1"),lm=M("w-px h-5 bg-border-subtle mx-1"),am=M("h-7 px-2.5 bg-transparent border border-border-subtle rounded-sm text-text-muted text-xs font-medium cursor-pointer transition-colors hover:text-text-primary hover:border-text-muted",{variants:{active:{true:"bg-surface-3 text-text-primary border-border-default",false:""}},defaultVariants:{active:!1}}),gj=M("h-7 px-3 flex items-center gap-1.5 bg-accent-green border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110 disabled:opacity-60 disabled:cursor-not-allowed"),xj=M("h-7 px-3 flex items-center gap-1.5 bg-accent-red border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110"),rm=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),yj=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),bj=M("flex items-center gap-3 px-4 py-2 border-b border-border-subtle shrink-0"),vj=M("text-xs text-text-muted"),wj=M("flex items-center gap-1.5"),Sj=M("text-xs text-text-secondary"),Ej=M("px-2.5 py-1.5 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm w-30 focus:outline-none focus:border-accent-blue"),Nj=M("flex items-center gap-2.5 px-4 py-2 border-b border-border-subtle shrink-0"),jj=M("flex-1 h-1.5 bg-surface-3 rounded-none overflow-hidden"),Cj=M("h-full bg-accent-blue transition-[width] duration-200"),Aj=M("text-xs text-text-muted whitespace-nowrap"),Oj=M("flex-1 flex overflow-hidden"),im=M("flex-1 flex flex-col overflow-hidden min-w-[200px]"),om=M("flex items-center px-4 py-1.5 bg-surface-2 border-b border-border-subtle text-xs font-medium text-text-muted uppercase tracking-wide"),sm=M("flex-1 p-4 overflow-auto"),_j=M("w-px bg-border-subtle cursor-col-resize shrink-0 hover:bg-accent-blue"),Tj=M("flex-1 flex items-center justify-center text-text-muted text-sm"),cm=M("text-text-muted text-sm italic"),Mj=M("font-mono text-sm text-text-secondary whitespace-pre-wrap break-words"),Dj=M("text-accent-red text-sm"),kj=M("flex gap-2 mt-2 pt-2 border-t border-border-subtle"),Rj=M("text-xs text-text-muted"),zj=M("font-mono text-sm text-accent-green"),Lj=M("text-accent-blue animate-blink"),Vj=M("absolute bottom-3 right-3 flex flex-col gap-2 max-w-[300px] z-50"),Bj=M("flex items-center justify-between gap-3 px-4 py-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-primary shadow-lg animate-slide-in-right",{variants:{variant:{info:"border-l-[3px] border-l-accent-blue",success:"border-l-[3px] border-l-accent-green",warning:"border-l-[3px] border-l-accent-amber",error:"border-l-[3px] border-l-accent-red"}},defaultVariants:{variant:"info"}}),Hj=M("bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary"),Uj=M("p-3 bg-surface-2 rounded-sm text-sm text-text-primary"),Ij=M("p-2 text-sm text-text-primary [&_h1]:text-xl [&_h1]:mb-2 [&_h2]:text-lg [&_h2]:mb-1.5 [&_h3]:text-base [&_h3]:mb-1 [&_p]:mb-2 [&_p]:leading-relaxed [&_code]:bg-surface-3 [&_code]:px-1 [&_code]:rounded [&_code]:font-mono [&_code]:text-[0.85em] [&_strong]:text-text-primary"),Yj=M("overflow-x-auto"),qj=M("w-full border-collapse text-sm"),Xj=M("px-3 py-2 text-left border-b border-border-subtle bg-surface-2 text-text-secondary font-medium"),Gj=M("px-3 py-2 text-left border-b border-border-subtle text-text-primary"),$j=M("max-w-full"),Wj=M("max-w-full h-auto rounded-sm"),Zj=100,Qj=600,Kj=250;function Fj({className:n}){const{source:r,tree:i}=nt(),{isExecuting:o,executionOutput:s,executionResult:u,executionError:d,workflowInputs:p,pendingPrompt:m,renderedContent:g,alerts:y,progress:b,removeAlert:N,clearWorkflowInputs:S}=sr(),{toggleExecutionPanel:w}=_e(),{execute:v,cancel:j,respondToPrompt:O}=Pw(),A=D.useRef(null),X=D.useRef(null),[$,V]=D.useState(Kj),[B,H]=D.useState(!1),[U,Q]=D.useState(!0),[te,ce]=D.useState(!0),ie=i?.interface?.inputs||[],re=JSON.stringify(ie);D.useEffect(()=>{S()},[re,S]),D.useEffect(()=>{A.current&&(A.current.scrollTop=A.current.scrollHeight)},[s]),D.useEffect(()=>{if(y.length>0){const G=setTimeout(()=>{N(y[0].id)},5e3);return()=>clearTimeout(G)}},[y,N]);const ue=D.useCallback(G=>{G.preventDefault(),H(!0)},[]);D.useEffect(()=>{if(!B)return;const G=le=>{if(!X.current)return;const K=X.current.parentElement;if(!K)return;const z=K.getBoundingClientRect().bottom-le.clientY;V(Math.min(Qj,Math.max(Zj,z)))},R=()=>{H(!1)};return document.addEventListener("mousemove",G),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",R)}},[B]);const oe=()=>{const G={};for(const R of ie)R in p&&(G[R]=p[R]);v(r,Object.keys(G).length>0?G:void 0)},k=()=>{j()};return h.jsxs("div",{ref:X,className:P(cj(),n),style:{height:`${$}px`},children:[h.jsx("div",{className:uj({isResizing:B}),onMouseDown:ue}),h.jsxs("div",{className:fj(),children:[h.jsxs("div",{className:dj(),children:[h.jsx("span",{className:hj(),children:"Execution"}),h.jsx("span",{className:pj({status:o?"running":d?"error":"idle"})})]}),h.jsxs("div",{className:mj(),children:[h.jsx("button",{className:am({active:U}),onClick:()=>Q(!U),title:"Toggle Preview",children:"Preview"}),h.jsx("button",{className:am({active:te}),onClick:()=>ce(!te),title:"Toggle Console",children:"Console"}),h.jsx("div",{className:lm()}),o?h.jsxs("button",{className:xj(),onClick:k,children:[h.jsx(Nv,{}),"Stop"]}):h.jsxs("button",{className:gj(),onClick:oe,children:[h.jsx(Ev,{}),"Run"]}),h.jsx("button",{className:rm(),title:"Step forward (coming soon)",disabled:!0,children:h.jsx(jv,{})}),h.jsx("button",{className:rm(),onClick:()=>sr.getState().clearExecution(),title:"Clear output",children:h.jsx(Cv,{})}),h.jsx("div",{className:lm()}),h.jsx("button",{className:yj(),onClick:w,title:"Close panel",children:h.jsx(Av,{})})]})]}),ie.length>0&&h.jsxs("div",{className:bj(),children:[h.jsx("span",{className:vj(),children:"Inputs:"}),ie.map(G=>h.jsx(Jj,{name:G},G))]}),b&&h.jsxs("div",{className:Nj(),children:[h.jsx("div",{className:jj(),children:h.jsx("div",{className:Cj(),style:{width:`${b.value/b.max*100}%`}})}),b.label&&h.jsx("span",{className:Aj(),children:b.label})]}),h.jsxs("div",{className:Oj(),children:[U&&h.jsxs("div",{className:im(),children:[h.jsx("div",{className:om(),children:h.jsx("span",{children:"Preview"})}),h.jsx("div",{className:sm(),children:g.length>0?g.map((G,R)=>h.jsx(Pj,{item:G},R)):h.jsx("div",{className:cm(),children:"No preview content"})})]}),U&&te&&h.jsx("div",{className:_j()}),te&&h.jsxs("div",{className:im(),children:[h.jsx("div",{className:om(),children:h.jsx("span",{children:"Console"})}),h.jsx("div",{className:sm(),children:d?h.jsx("div",{className:Dj(),children:d}):h.jsxs(h.Fragment,{children:[s&&h.jsxs("pre",{ref:A,className:Mj(),children:[s,o&&h.jsx("span",{className:Lj(),children:"|"})]}),u!==null&&!o&&h.jsxs("div",{className:kj(),children:[h.jsx("span",{className:Rj(),children:"Result:"}),h.jsx("code",{className:zj(),children:JSON.stringify(u,null,2)})]}),!s&&!u&&!o&&h.jsx("div",{className:cm(),children:'Click "Run" to execute the workflow'})]})})]}),!U&&!te&&h.jsx("div",{className:Tj(),children:"Toggle Preview or Console to view execution output"})]}),y.length>0&&h.jsx("div",{className:Vj(),children:y.map(G=>h.jsx(tC,{alert:G,onDismiss:()=>N(G.id)},G.id))}),m&&h.jsx(sj,{prompt:m,onSubmit:O})]})}function Jj({name:n}){const{workflowInputs:r,setWorkflowInput:i}=sr(),o=r[n]??"";return h.jsxs("div",{className:wj(),children:[h.jsxs("label",{className:Sj(),children:[n,":"]}),h.jsx("input",{type:"text",value:String(o),onChange:s=>{const u=s.target.value;try{i(n,JSON.parse(u))}catch{i(n,u)}},placeholder:`Enter ${n}`,className:Ej()})]})}function Pj({item:n}){switch(n.type){case"html":return h.jsx("div",{className:Uj(),dangerouslySetInnerHTML:{__html:n.content}});case"markdown":return h.jsx("div",{className:Ij(),children:h.jsx(eC,{content:n.content})});case"table":const r=n.content;if(!r.length)return null;const i=Object.keys(r[0]);return h.jsx("div",{className:Yj(),children:h.jsxs("table",{className:qj(),children:[h.jsx("thead",{children:h.jsx("tr",{children:i.map(s=>h.jsx("th",{className:Xj(),children:s},s))})}),h.jsx("tbody",{children:r.map((s,u)=>h.jsx("tr",{className:"hover:bg-surface-2",children:i.map(d=>h.jsx("td",{className:Gj(),children:String(s[d]??"")},d))},u))})]})});case"image":const o=n.content;return h.jsx("div",{className:$j(),children:h.jsx("img",{src:o.src,alt:o.alt,className:Wj()})});default:return null}}function eC({content:n}){const r=n.split(`
`),i=[];for(let o=0;o<r.length;o++){const s=r[o];if(s.startsWith("### "))i.push(h.jsx("h3",{children:s.slice(4)},o));else if(s.startsWith("## "))i.push(h.jsx("h2",{children:s.slice(3)},o));else if(s.startsWith("# "))i.push(h.jsx("h1",{children:s.slice(2)},o));else if(s.trim()){const u=s.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,"<code>$1</code>");i.push(h.jsx("p",{dangerouslySetInnerHTML:{__html:u}},o))}else i.push(h.jsx("br",{},o))}return h.jsx(h.Fragment,{children:i})}function tC({alert:n,onDismiss:r}){return h.jsxs("div",{className:Bj({variant:n.variant}),children:[h.jsx("span",{children:n.message}),h.jsx("button",{className:Hj(),onClick:r,children:""})]})}const Cr=M("flex flex-col h-full bg-surface-1"),Ar=M("flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-surface-2"),Or=M("text-sm font-semibold text-text-primary"),_r=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-3"),gc=M("flex-1 overflow-y-auto p-4"),nC=M("flex items-center gap-1.5 px-3 py-2 mb-4 bg-surface-2 border border-border-subtle rounded-sm text-accent-blue text-sm cursor-pointer transition-colors w-full hover:bg-surface-3 hover:border-accent-blue"),um=M("flex items-center justify-center h-full text-text-muted"),xc=M("flex gap-3 mb-5 p-3 bg-surface-2 rounded-sm"),yc=M("w-1 rounded-sm shrink-0"),bc=M("flex-1"),vc=M("text-[0.7rem] uppercase tracking-wide text-text-muted"),wc=M("text-base font-semibold text-text-primary my-1"),fm=M("text-xs text-text-muted font-mono bg-transparent border-none cursor-pointer px-1 py-0.5 -mx-1 rounded-sm transition-colors hover:bg-border-subtle hover:text-text-primary"),dm=M("text-sm text-text-secondary leading-relaxed p-3 bg-surface-2 rounded-sm mb-4"),Sc=M("mb-3"),Ec=M("block text-xs font-medium text-text-secondary mb-1 uppercase tracking-wide"),lC=M("text-[0.65rem] text-text-muted ml-1.5 px-1.5 py-0.5 bg-border-subtle rounded-sm"),xa=M("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm font-mono focus:outline-none focus:border-accent-blue read-only:opacity-70 read-only:cursor-not-allowed"),hm=M("flex gap-2 px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-sm",{variants:{editable:{true:"cursor-pointer transition-colors hover:border-accent-blue hover:bg-surface-2",false:""}},defaultVariants:{editable:!1}}),aC=M("px-1.5 py-0.5 bg-border-subtle rounded-sm text-[0.7rem] text-text-muted font-medium shrink-0"),pm=M("text-text-primary font-mono overflow-hidden text-ellipsis whitespace-nowrap"),rC=M("text-[0.65rem] text-text-muted ml-auto opacity-0 transition-opacity group-hover:opacity-100"),Nc=M("w-full px-3 py-2 bg-surface-3 border-2 border-accent-blue rounded-sm text-text-primary text-sm font-mono focus:outline-none"),Xt=M("mt-5"),fn=M("text-xs font-semibold text-text-secondary mb-2.5 uppercase tracking-wide"),tl=M("text-text-muted italic text-sm"),iC=M("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),oC=M("font-medium text-text-primary text-sm"),sC=M("text-text-muted text-xs flex-1"),jc=M("w-5 h-5 flex items-center justify-center bg-transparent border border-accent-red rounded-sm text-accent-red cursor-pointer text-sm font-bold opacity-60 transition-opacity hover:opacity-100 hover:bg-accent-red/10"),Cc=M("w-full px-3 py-2 mt-2 bg-transparent border border-dashed border-border-subtle rounded-sm text-text-secondary text-sm cursor-pointer transition-colors hover:border-accent-blue hover:text-accent-blue hover:bg-accent-blue/5"),mm=M("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),gm=M("flex-1 font-medium text-text-primary text-sm font-mono"),xm=M("flex flex-wrap gap-1.5"),ym=M("flex items-center gap-1 px-2 py-1 bg-surface-2 rounded-sm text-xs"),bm=M("text-text-primary font-medium"),vm=M("text-text-muted"),wm=M("text-text-muted text-[0.7rem]"),Sm=M("flex gap-2 px-4 py-3 border-t border-border-subtle"),nl=M("flex-1 px-4 py-2 bg-surface-2 border border-border-subtle rounded-sm text-text-primary text-sm cursor-pointer transition-colors hover:bg-surface-3 hover:border-accent-blue disabled:opacity-50 disabled:cursor-not-allowed"),Em=M("flex-1 px-4 py-2 bg-transparent border border-accent-red rounded-sm text-accent-red text-sm cursor-pointer transition-colors hover:bg-accent-red/10 disabled:opacity-50 disabled:cursor-not-allowed"),Nm=M("w-full px-4 py-2 text-sm bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10");function cC({workflowName:n,onClose:r}){const{tree:i,addVariable:o,updateVariable:s,deleteVariable:u,updateWorkflowInterface:d,deleteWorkflow:p}=nt(),{selectStartNode:m}=Kn(),g=i?.workflows.find(K=>K.name===n),[y,b]=D.useState(""),[N,S]=D.useState(""),[w,v]=D.useState(null),[j,O]=D.useState(""),[A,X]=D.useState(""),[$,V]=D.useState(""),[B,H]=D.useState("");if(!g)return h.jsxs("div",{className:Cr(),children:[h.jsxs("div",{className:Ar(),children:[h.jsx("span",{className:Or(),children:"Start Node"}),h.jsx("button",{className:_r(),onClick:r,children:""})]}),h.jsx("div",{className:um(),children:h.jsx("p",{children:"Workflow not found"})})]});const U=()=>{m(null),r()},Q=()=>{if(!y.trim())return;const K=Cm(N);o(n,y.trim(),K)&&(b(""),S(""))},te=(K,C)=>{v(K),O(K),X(jm(C))},ce=()=>{if(!w||!j.trim())return;const K=Cm(A);s(n,w,j.trim(),K)&&(v(null),O(""),X(""))},ie=()=>{v(null),O(""),X("")},re=K=>{_e.getState().showConfirmDialog({title:"Delete Variable",message:`Delete variable "$${K}"?`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>u(n,K)})},ue=()=>{_e.getState().showConfirmDialog({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${n}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{p(n),U()}})},oe=()=>{if(!$.trim())return;const K=[...g.interface.inputs,$.trim()];d(n,K,g.interface.outputs)&&V("")},k=K=>{const C=g.interface.inputs.filter(z=>z!==K);d(n,C,g.interface.outputs)},G=()=>{if(!B.trim())return;const K=[...g.interface.outputs,B.trim()];d(n,g.interface.inputs,K)&&H("")},R=K=>{const C=g.interface.outputs.filter(z=>z!==K);d(n,g.interface.inputs,C)},le=Object.entries(g.variables);return h.jsxs("div",{className:Cr(),children:[h.jsxs("div",{className:Ar(),children:[h.jsx("span",{className:Or(),children:"Start Node"}),h.jsx("button",{className:_r(),onClick:U,children:""})]}),h.jsxs("div",{className:gc(),children:[h.jsxs("div",{className:xc(),children:[h.jsx("div",{className:yc(),style:{backgroundColor:"#22C55E"}}),h.jsxs("div",{className:bc(),children:[h.jsx("span",{className:vc(),children:"Workflow"}),h.jsx("h3",{className:wc(),children:n})]})]}),h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Interface Inputs"}),g.interface.inputs.length===0?h.jsx("p",{className:tl(),children:"No inputs defined"}):h.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:g.interface.inputs.map(K=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-blue",children:[K,h.jsx("button",{onClick:()=>k(K),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove input",children:""})]},K))}),h.jsxs("div",{className:"flex gap-1.5",children:[h.jsx("input",{type:"text",className:P(xa(),"flex-1"),placeholder:"New input name",value:$,onChange:K=>V(K.target.value),onKeyDown:K=>K.key==="Enter"&&oe()}),h.jsx("button",{className:P(nl(),"flex-none w-auto"),onClick:oe,children:"Add"})]})]}),h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Interface Outputs"}),g.interface.outputs.length===0?h.jsx("p",{className:tl(),children:"No outputs defined"}):h.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:g.interface.outputs.map(K=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-violet",children:[K,h.jsx("button",{onClick:()=>R(K),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove output",children:""})]},K))}),h.jsxs("div",{className:"flex gap-1.5",children:[h.jsx("input",{type:"text",className:P(xa(),"flex-1"),placeholder:"New output name",value:B,onChange:K=>H(K.target.value),onKeyDown:K=>K.key==="Enter"&&G()}),h.jsx("button",{className:P(nl(),"flex-none w-auto"),onClick:G,children:"Add"})]})]}),h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Variables"}),le.length===0?h.jsx("p",{className:tl(),children:"No variables defined"}):h.jsx("div",{className:"mb-2.5",children:le.map(([K,C])=>h.jsx("div",{className:"mb-2",children:w===K?h.jsxs("div",{className:"flex flex-col gap-1.5",children:[h.jsx("input",{type:"text",className:Nc(),placeholder:"Variable name",value:j,onChange:z=>O(z.target.value)}),h.jsx("input",{type:"text",className:Nc(),placeholder:"Default value",value:A,onChange:z=>X(z.target.value),onKeyDown:z=>z.key==="Enter"&&ce()}),h.jsxs("div",{className:"flex gap-1.5",children:[h.jsx("button",{className:P(nl(),"flex-1"),onClick:ce,children:"Save"}),h.jsx("button",{className:P(nl(),"flex-1"),onClick:ie,children:"Cancel"})]})]}):h.jsxs("div",{className:P(hm({editable:!0}),"cursor-pointer"),onClick:()=>te(K,C),children:[h.jsxs("span",{className:"text-accent-green font-mono font-medium",children:["$",K]}),h.jsx("span",{className:"text-text-muted",children:"="}),h.jsx("span",{className:pm(),children:jm(C)}),h.jsx("button",{onClick:z=>{z.stopPropagation(),re(K)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Delete variable",children:""})]})},K))}),h.jsxs("div",{className:"flex flex-col gap-1.5",children:[h.jsxs("div",{className:"flex gap-1.5",children:[h.jsx("input",{type:"text",className:P(xa(),"flex-1"),placeholder:"Variable name",value:y,onChange:K=>b(K.target.value)}),h.jsx("input",{type:"text",className:P(xa(),"flex-1"),placeholder:"Default value",value:N,onChange:K=>S(K.target.value),onKeyDown:K=>K.key==="Enter"&&Q()})]}),h.jsx("button",{className:nl(),onClick:Q,children:"Add Variable"})]})]}),n!=="main"&&h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Danger Zone"}),h.jsx("button",{className:"w-full px-3 py-2 text-sm font-medium bg-accent-red/10 text-accent-red border border-accent-red/30 rounded hover:bg-accent-red/20 transition-colors",onClick:ue,children:"Delete Workflow"})]})]})]})}function jm(n){return n===null?"null":n===void 0?"":typeof n=="string"?n:JSON.stringify(n)}function Cm(n){if(!n||n==="")return"";if(n==="null")return null;if(n==="true")return!0;if(n==="false")return!1;try{return JSON.parse(n)}catch{return n}}function uC({className:n}){const{tree:r,source:i,opcodes:o,deleteNode:s,duplicateNode:u,updateNodeInput:d,updateReporterInput:p,deleteReporter:m,addDynamicBranch:g,removeDynamicBranch:y,addDynamicInput:b,removeDynamicInput:N}=nt(),{closeNodeEditor:S}=_e(),{selectedNodeId:w,selectedReporter:v,selectReporter:j,selectedStartNode:O,selectStartNode:A,clearSelection:X}=Kn(),[$,V]=D.useState(!1);if(O)return h.jsx(cC,{workflowName:O,onClose:()=>{A(null),S()}});const B=w?Pn(w):null,H=B?mC(r,B):null,U=v?o.find(ne=>ne.name===v.opcode):H?o.find(ne=>ne.name===H.opcode):null,Q=()=>{S(),X()},te=()=>{B&&(navigator.clipboard.writeText(B),V(!0),setTimeout(()=>V(!1),2e3))},ce=()=>{if(v){const ne=`${v.parentNodeId}.${v.inputPath.join(".")}`;navigator.clipboard.writeText(ne),V(!0),setTimeout(()=>V(!1),2e3)}},ie=()=>{if(B){const ne=i.split(`
`);for(let we=0;we<ne.length;we++)if(ne[we].includes(B+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:we+1}}));break}}},re=()=>{if(H?.opcode==="workflow_call"){const ne=H.inputs.WORKFLOW;if(ne&&ne.type==="literal"){const we=ne.value;we&&(window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:we}})),S())}}},ue=()=>{B&&B!=="start"&&_e.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${B}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{s(B),S()}})},oe=()=>{B&&B!=="start"&&u(B)},k=()=>{j(null)},G=(ne,we)=>{if(v&&v.reporterNodeId&&p(v.reporterNodeId,ne,we)){const Ue={...v.inputs};if(we.startsWith("$"))Ue[ne]={type:"variable",name:we.slice(1)};else try{const it=JSON.parse(we);Ue[ne]={type:"literal",value:it}}catch{Ue[ne]={type:"literal",value:we}}j({...v,inputs:Ue})}},R=()=>{v&&_e.getState().showConfirmDialog({title:"Detach Reporter",message:"Detach this reporter from its slot? The slot will be set to null. This action can be undone with Ctrl+Z.",confirmLabel:"Detach",variant:"danger",onConfirm:()=>{m(v.parentNodeId,v.inputPath),j(null)}})},le=()=>{if(v){const ne=i.split(`
`);if(v.reporterNodeId){for(let Ue=0;Ue<ne.length;Ue++)if(ne[Ue].match(new RegExp(`^\\s+${v.reporterNodeId}:\\s*$`))){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Ue+1}}));return}}const we=v.inputPath[v.inputPath.length-1];let Re=!1;for(let Ue=0;Ue<ne.length;Ue++){const it=ne[Ue];if(it.includes(v.parentNodeId+":")&&(Re=!0),Re&&it.includes(we+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Ue+1}}));break}}}},K=ne=>{B&&g(B,ne)},C=ne=>{B&&y(B,ne)},z=ne=>{B&&b(B,ne)},F=ne=>{B&&N(B,ne)},ae=()=>{if(v&&v.opcode==="workflow_call"){const ne=v.inputs.WORKFLOW;if(ne&&ne.type==="literal"&&typeof ne.value=="string"){const we=ne.value;window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:we}})),S()}}},fe=ne=>{v?.reporterNodeId&&b(v.reporterNodeId,ne)},ye=ne=>{v?.reporterNodeId&&N(v.reporterNodeId,ne)};if(v)return h.jsx(fC,{reporter:v,parentNode:H,opcodeInfo:U,tree:r,copied:$,onCopyPath:ce,onBackToNode:k,onClose:Q,onUpdateInput:G,onDetach:R,onFindInSource:le,onGoToDefinition:v.opcode==="workflow_call"?ae:void 0,onAddDynamicInput:v.reporterNodeId?fe:void 0,onRemoveDynamicInput:v.reporterNodeId?ye:void 0,className:n});if(!H)return h.jsxs("div",{className:P(Cr(),n),children:[h.jsxs("div",{className:Ar(),children:[h.jsx("span",{className:Or(),children:"Node Editor"}),h.jsx("button",{className:_r(),onClick:Q,children:""})]}),h.jsx("div",{className:um(),children:h.jsx("p",{children:"Select a node to edit"})})]});const de=np(H.type),Ye=tS[H.type]||"Node";return h.jsxs("div",{className:P(Cr(),n),children:[h.jsxs("div",{className:Ar(),children:[h.jsx("span",{className:Or(),children:"Node Editor"}),h.jsx("button",{className:_r(),onClick:Q,children:""})]}),h.jsxs("div",{className:gc(),children:[h.jsxs("div",{className:xc(),children:[h.jsx("div",{className:yc(),style:{backgroundColor:de}}),h.jsxs("div",{className:bc(),children:[h.jsx("span",{className:vc(),children:Ye}),h.jsx("h3",{className:wc(),children:Ac(H.opcode)}),h.jsx("button",{className:fm(),onClick:te,title:"Copy node ID",children:$?" Copied!":`ID: ${H.id}`})]})]}),U?.description&&h.jsx("div",{className:dm(),children:U.description}),h.jsxs("div",{className:Sc(),children:[h.jsx("label",{className:Ec(),children:"Opcode"}),h.jsx("input",{type:"text",value:H.opcode,readOnly:!0,className:xa()})]}),h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Inputs"}),Object.entries(H.inputs).length===0?h.jsx("p",{className:tl(),children:"No inputs"}):Object.entries(H.inputs).map(([ne,we])=>h.jsx(Am,{name:Vi(ne,H.opcode,r,H.inputs),originalKey:ne,value:we,paramInfo:U?.parameters.find(Re=>Re.name.toUpperCase()===ne),onUpdate:(Re,Ue)=>d(B,Re,Ue)},ne))]}),H.opcode==="workflow_call"&&h.jsx("div",{className:Xt(),children:h.jsx("button",{className:Nm(),onClick:re,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),U&&U.parameters.length>0&&h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Parameters"}),h.jsx("div",{className:xm(),children:U.parameters.map(ne=>h.jsxs("div",{className:ym(),children:[h.jsxs("span",{className:bm(),children:[ne.name,!ne.required&&h.jsx("span",{className:vm(),children:"?"})]}),h.jsx("span",{className:wm(),children:ne.type})]},ne.name))})]}),(()=>{const ne=mr(H.opcode),we=ne?.dynamic_branches,Re=ne?.dynamic_inputs,Ue=ne?.branches&&ne.branches.length>0;let it=null;if(we&&ne?.branches)for(const Ae of ne.branches){const bt=Ae.name.match(/^([A-Z]+)\d+$/);if(bt){it=bt[1];break}}const Tt=H.children.filter(Ae=>it&&Ae.name.startsWith(it)).map(Ae=>Ae.name),vn=Object.keys(H.inputs).filter(Ae=>/^ARG\d+$/.test(Ae)).sort((Ae,bt)=>{const Gt=parseInt(Ae.replace("ARG","")),se=parseInt(bt.replace("ARG",""));return Gt-se}),wn=H.children.length>0||we;return h.jsxs(h.Fragment,{children:[wn&&Ue&&h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Branches"}),H.children.length===0&&we?h.jsx("p",{className:tl(),children:"No branches connected"}):H.children.map((Ae,bt)=>{const se=it&&Ae.name.startsWith(it)&&Tt.length>1;return h.jsxs("div",{className:iC(),children:[h.jsx("span",{className:oC(),children:Ae.name}),h.jsxs("span",{className:sC(),children:[Ae.children.length," node(s)"]}),se&&h.jsx("button",{className:jc(),onClick:()=>C(Ae.name),title:`Remove ${Ae.name}`,children:""})]},bt)}),we&&it&&h.jsxs("button",{className:Cc(),onClick:()=>K(it),children:["+ Add ",it==="CATCH"?"Catch Handler":"Branch"]})]}),Re&&H.opcode==="workflow_call"&&h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Arguments"}),vn.length===0?h.jsx("p",{className:tl(),children:"No arguments"}):vn.map(Ae=>h.jsxs("div",{className:mm(),children:[h.jsx("span",{className:gm(),children:Ae}),h.jsx("button",{className:jc(),onClick:()=>F(Ae),title:`Remove ${Ae}`,children:""})]},Ae)),h.jsx("button",{className:Cc(),onClick:()=>z("ARG"),children:"+ Add Argument"})]})]})})()]}),h.jsxs("div",{className:Sm(),children:[h.jsx("button",{className:nl(),onClick:ie,children:"Find in Source"}),h.jsx("button",{className:nl(),onClick:oe,disabled:B==="start",title:B==="start"?"Cannot duplicate start node":"Duplicate node (Ctrl+D)",children:"Duplicate"}),h.jsx("button",{className:Em(),onClick:ue,disabled:B==="start",title:B==="start"?"Cannot delete start node":"Delete node (Del)",children:"Delete"})]})]})}function fC({reporter:n,parentNode:r,opcodeInfo:i,tree:o,copied:s,onCopyPath:u,onBackToNode:d,onClose:p,onUpdateInput:m,onDetach:g,onFindInSource:y,onGoToDefinition:b,onAddDynamicInput:N,onRemoveDynamicInput:S,className:w}){const v=hC(n.opcode),j=pC(n.opcode),O=n.opcode==="workflow_call",A=Object.keys(n.inputs).filter(V=>/^ARG\d+$/.test(V)).sort((V,B)=>{const H=parseInt(V.replace("ARG","")),U=parseInt(B.replace("ARG",""));return H-U}),$=mr(n.opcode)?.dynamic_inputs;return h.jsxs("div",{className:P(Cr(),w),children:[h.jsxs("div",{className:Ar(),children:[h.jsx("span",{className:Or(),children:"Node Editor"}),h.jsx("button",{className:_r(),onClick:p,children:""})]}),h.jsxs("div",{className:gc(),children:[r&&h.jsxs("button",{className:nC(),onClick:d,children:[" Back to ",r.id]}),h.jsxs("div",{className:xc(),children:[h.jsx("div",{className:yc(),style:{backgroundColor:v}}),h.jsxs("div",{className:bc(),children:[h.jsx("span",{className:vc(),children:j}),h.jsx("h3",{className:wc(),children:Ac(n.opcode)}),h.jsx("button",{className:fm(),onClick:u,title:"Copy reporter ID",children:s?" Copied!":`ID: ${n.reporterNodeId||n.inputPath.join(".")}`})]})]}),i?.description&&h.jsx("div",{className:dm(),children:i.description}),h.jsxs("div",{className:Sc(),children:[h.jsx("label",{className:Ec(),children:"Opcode"}),h.jsx("input",{type:"text",value:n.opcode,readOnly:!0,className:xa()})]}),h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Inputs"}),Object.entries(n.inputs).length===0?h.jsx("p",{className:tl(),children:"No inputs"}):Object.entries(n.inputs).map(([V,B])=>h.jsx(Am,{name:Vi(V,n.opcode,o,n.inputs),originalKey:V,value:B,paramInfo:i?.parameters.find(H=>H.name.toUpperCase()===V),onUpdate:m},V))]}),O&&b&&h.jsx("div",{className:Xt(),children:h.jsx("button",{className:Nm(),onClick:b,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),i&&i.parameters.length>0&&h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Parameters"}),h.jsx("div",{className:xm(),children:i.parameters.map(V=>h.jsxs("div",{className:ym(),children:[h.jsxs("span",{className:bm(),children:[V.name,!V.required&&h.jsx("span",{className:vm(),children:"?"})]}),h.jsx("span",{className:wm(),children:V.type})]},V.name))})]}),$&&O&&N&&S&&h.jsxs("div",{className:Xt(),children:[h.jsx("h4",{className:fn(),children:"Arguments"}),A.length===0?h.jsx("p",{className:tl(),children:"No arguments"}):A.map(V=>h.jsxs("div",{className:mm(),children:[h.jsx("span",{className:gm(),children:Vi(V,n.opcode,o,n.inputs)}),h.jsx("button",{className:jc(),onClick:()=>S(V),title:`Remove ${V}`,children:""})]},V)),h.jsx("button",{className:Cc(),onClick:()=>N("ARG"),children:"+ Add Argument"})]})]}),h.jsxs("div",{className:Sm(),children:[h.jsx("button",{className:nl(),onClick:y,children:"Find in Source"}),h.jsx("button",{className:Em(),onClick:g,title:"Detach reporter from slot (replace with null)",children:"Detach"})]})]})}function Am({name:n,originalKey:r,value:i,paramInfo:o,onUpdate:s}){const u=r||n,[d,p]=D.useState(!1),[m,g]=D.useState(""),y=dC(i),b=j=>{switch(j.type){case"literal":return typeof j.value=="string"?j.value:JSON.stringify(j.value);case"variable":return`$${j.name}`;default:return y}},N=()=>{(i.type==="literal"||i.type==="variable")&&(g(b(i)),p(!0))},S=()=>{s&&m!==b(i)&&s(u,m),p(!1)},w=j=>{j.key==="Enter"?S():j.key==="Escape"&&p(!1)},v=i.type==="literal"||i.type==="variable";return h.jsxs("div",{className:Sc(),children:[h.jsxs("label",{className:Ec(),children:[n,o&&h.jsx("span",{className:lC(),children:o.type})]}),d?h.jsx("input",{type:"text",className:Nc(),value:m,onChange:j=>g(j.target.value),onBlur:S,onKeyDown:w,autoFocus:!0}):h.jsxs("div",{className:P(hm({editable:v}),"group"),onClick:N,title:v?"Click to edit":void 0,children:[h.jsx("span",{className:aC(),children:i.type}),h.jsx("span",{className:pm(),children:y}),v&&h.jsx("span",{className:rC(),children:"Click to edit"})]})]})}function dC(n){switch(n.type){case"literal":return typeof n.value=="string"?`"${n.value}"`:typeof n.value=="object"&&n.value!==null?JSON.stringify(n.value,null,2):String(n.value);case"variable":return`$${n.name}`;case"reporter":return`${Ac(n.opcode||"")}(...)`;case"workflow_call":return` ${n.name}`;case"branch":return` ${n.target}`;case"dict":return JSON.stringify(n.value,null,2);case"truncated":return n.display||"...";default:return"?"}}function Ac(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function hC(n){return lp(n)}function pC(n){const r=iw(n);return r?`${r.label} Reporter`:"Reporter"}function mC(n,r){if(!n)return null;function i(o){for(const s of o){if(s.id===r)return s;if(s.children)for(const u of s.children){const d=i(u.children);if(d)return d}}return null}for(const o of n.workflows||[]){const s=i(o.children||[]);if(s)return s;const u=i(o.orphans||[]);if(u)return u}return null}const gC=M("flex flex-col h-full"),xC=M("flex items-center justify-between px-4 py-4 border-b border-border-subtle"),yC=M("text-base font-semibold text-text-primary"),bC=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),vC=M("px-4 py-3 border-b border-border-subtle"),wC=M("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm focus:outline-none focus:border-accent-blue placeholder:text-text-muted"),SC=M("flex-1 overflow-y-auto py-2"),EC=M("px-4"),NC=M("text-text-muted text-center py-5 italic"),Wi=M("border-b border-border-subtle"),Zi=M("w-full flex items-center gap-2 px-4 py-2.5 bg-transparent border-none cursor-pointer text-left text-text-primary transition-colors hover:bg-surface-2"),Qi=M("text-base"),Ki=M("flex-1 text-sm font-medium"),Fi=M("text-xs text-text-muted px-1.5 py-0.5 bg-border-subtle rounded-sm"),Ji=M("text-[0.7rem] text-text-muted"),Pi=M("py-1 pb-2 bg-surface-2"),jC=M("mx-2"),CC=M("w-full flex flex-col items-start gap-0.5 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-pointer mb-1 transition-all hover:border-accent-blue hover:translate-x-0.5"),AC=M("text-sm font-medium text-text-primary"),OC=M("text-[0.7rem] text-text-muted font-mono"),_C=M("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),TC=M("text-xs text-text-secondary mb-2 leading-relaxed"),MC=M("flex flex-wrap gap-1.5 items-center"),Om=M("text-[0.7rem] text-text-muted uppercase tracking-wide"),DC=M("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),kC=M("text-text-muted"),RC=M("flex items-center gap-2 px-3 py-2 mx-2 mb-1 bg-surface-1 border border-border-subtle rounded-sm cursor-grab transition-all hover:border-accent-green hover:translate-x-0.5 active:cursor-grabbing"),zC=M("text-sm font-semibold text-accent-green font-mono"),LC=M("text-xs text-text-muted font-mono"),VC=M("text-[0.7rem] text-text-muted ml-auto"),BC=M("px-4 py-3 text-xs text-text-muted italic text-center"),HC=M("mx-2"),UC=M("w-full flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-grab mb-1 transition-all hover:border-accent-violet hover:translate-x-0.5 active:cursor-grabbing"),IC=M("text-sm font-semibold text-accent-violet font-mono"),YC=M("text-xs text-text-muted ml-auto"),qC=M("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),XC=M("flex flex-col gap-1 mb-2"),GC=M("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),$C=M("text-xs text-text-muted italic mb-2"),WC=M("w-full px-3 py-1.5 text-xs bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),ZC=M("px-4 py-3 border-t border-border-subtle"),QC=M("text-xs text-text-muted text-center");function KC({className:n}){const{opcodes:r,tree:i}=nt(),{togglePalette:o,setDraggingVariable:s,setDraggingWorkflowCall:u}=_e(),[d,p]=D.useState(""),[m,g]=D.useState("variables"),y=rw(),b=D.useMemo(()=>Uw(i),[i]),N=D.useMemo(()=>{if(!i)return[];const v=[];for(const j of i.workflows)for(const[O,A]of Object.entries(j.variables))v.push({name:O,value:A,workflowName:j.name});return v},[i]),S=D.useMemo(()=>{const v={};for(const j of y)v[j.id]=[];v.other=[];for(const j of r)j.category&&v[j.category]?v[j.category].push(j):v.other.push(j);return v},[r,y]),w=D.useMemo(()=>{if(!d)return null;const v=d.toLowerCase();return r.filter(j=>j.name.toLowerCase().includes(v)||(j.description?.toLowerCase().includes(v)??!1))},[r,d]);return h.jsxs("div",{className:P(gC(),n),children:[h.jsxs("div",{className:xC(),children:[h.jsx("h2",{className:yC(),children:"Node Palette"}),h.jsx("button",{className:bC(),onClick:o,children:""})]}),h.jsx("div",{className:vC(),children:h.jsx("input",{type:"text",placeholder:"Search nodes...",value:d,onChange:v=>p(v.target.value),className:wC()})}),h.jsx("div",{className:SC(),children:w?h.jsx("div",{className:EC(),children:w.length===0?h.jsx("p",{className:NC(),children:"No nodes found"}):w.map(v=>h.jsx(Oc,{opcode:v},v.name))}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:Wi(),children:[h.jsxs("button",{className:Zi(),onClick:()=>g(m==="variables"?null:"variables"),style:{"--cat-color":"#22C55E"},children:[h.jsx("span",{className:Qi(),children:"$"}),h.jsx("span",{className:Ki(),children:"Variables"}),h.jsx("span",{className:Fi(),children:N.length}),h.jsx("span",{className:Ji(),children:m==="variables"?"":""})]}),m==="variables"&&h.jsx("div",{className:Pi(),children:N.length===0?h.jsx("div",{className:BC(),children:"No variables defined. Add variables in the Start Node editor."}):N.map(v=>h.jsx(FC,{name:v.name,value:v.value,workflowName:v.workflowName,onDragStart:s,onDragEnd:()=>s(null)},`${v.workflowName}-${v.name}`))})]}),b.length>0&&h.jsxs("div",{className:Wi(),children:[h.jsxs("button",{className:Zi(),onClick:()=>g(m==="workflows"?null:"workflows"),style:{"--cat-color":"#E91E63"},children:[h.jsx("span",{className:Qi(),children:"fn"}),h.jsx("span",{className:Ki(),children:"Workflows"}),h.jsx("span",{className:Fi(),children:b.length}),h.jsx("span",{className:Ji(),children:m==="workflows"?"":""})]}),m==="workflows"&&h.jsx("div",{className:Pi(),children:b.map(v=>h.jsx(PC,{name:v.name,params:v.params,onDragStart:u},v.name))})]}),y.map(v=>h.jsxs("div",{className:Wi(),children:[h.jsxs("button",{className:Zi(),onClick:()=>g(m===v.id?null:v.id),style:{"--cat-color":v.color},children:[h.jsx("span",{className:Qi(),children:v.icon}),h.jsx("span",{className:Ki(),children:v.label}),h.jsx("span",{className:Fi(),children:S[v.id].length}),h.jsx("span",{className:Ji(),children:m===v.id?"":""})]}),m===v.id&&h.jsx("div",{className:Pi(),children:S[v.id].map(j=>h.jsx(Oc,{opcode:j},j.name))})]},v.id)),S.other.length>0&&h.jsxs("div",{className:Wi(),children:[h.jsxs("button",{className:Zi(),onClick:()=>g(m==="other"?null:"other"),style:{"--cat-color":"#64748B"},children:[h.jsx("span",{className:Qi(),children:""}),h.jsx("span",{className:Ki(),children:"Other"}),h.jsx("span",{className:Fi(),children:S.other.length}),h.jsx("span",{className:Ji(),children:m==="other"?"":""})]}),m==="other"&&h.jsx("div",{className:Pi(),children:S.other.map(v=>h.jsx(Oc,{opcode:v},v.name))})]})]})}),h.jsx("div",{className:ZC(),children:h.jsx("p",{className:QC(),children:"Click to view details  Drag to canvas to add node"})})]})}function Oc({opcode:n}){const[r,i]=D.useState(!1),{setDraggingOpcode:o,togglePalette:s}=_e(),u=D.useRef(!1),d=D.useRef({x:0,y:0}),p=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" "),m=g=>{d.current={x:g.clientX,y:g.clientY},u.current=!1;const y=N=>{const S=Math.abs(N.clientX-d.current.x),w=Math.abs(N.clientY-d.current.y);!u.current&&(S>5||w>5)&&(u.current=!0,o(n),s())},b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)};return h.jsxs("div",{className:jC(),children:[h.jsxs("button",{className:CC(),onMouseDown:m,onClick:()=>{u.current||i(!r)},children:[h.jsx("span",{className:AC(),children:p}),h.jsx("span",{className:OC(),children:n.name})]}),r&&h.jsxs("div",{className:_C(),children:[n.description&&h.jsx("p",{className:TC(),children:n.description}),n.parameters.length>0&&h.jsxs("div",{className:MC(),children:[h.jsx("span",{className:Om(),children:"Parameters:"}),n.parameters.map(g=>h.jsxs("span",{className:DC(),children:[g.name,!g.required&&"?",h.jsxs("span",{className:kC(),children:[": ",g.type]})]},g.name))]})]})]})}function FC({name:n,value:r,workflowName:i,onDragStart:o,onDragEnd:s}){const{togglePalette:u}=_e(),d=D.useRef(!1),p=D.useRef({x:0,y:0}),m=JC(r),g=y=>{y.preventDefault(),p.current={x:y.clientX,y:y.clientY},d.current=!1;const b=S=>{S.preventDefault();const w=Math.abs(S.clientX-p.current.x),v=Math.abs(S.clientY-p.current.y);!d.current&&(w>5||v>5)&&(d.current=!0,o({name:n,workflowName:i,fromX:0,fromY:0,toX:0,toY:0}),u())},N=()=>{d.current&&s(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)};return h.jsxs("div",{className:RC(),onMouseDown:g,children:[h.jsxs("span",{className:zC(),children:["$",n]}),h.jsx("span",{className:LC(),children:m}),i!=="main"&&h.jsxs("span",{className:VC(),children:["(",i,")"]})]})}function JC(n){if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="string")return n.length>15?`"${n.slice(0,15)}..."`:`"${n}"`;if(typeof n=="object"){const r=JSON.stringify(n);return r.length>15?r.slice(0,15)+"...":r}return String(n)}function PC({name:n,params:r,onDragStart:i}){const{togglePalette:o}=_e(),[s,u]=D.useState(!1),d=D.useRef(!1),p=D.useRef({x:0,y:0}),m=y=>{y.preventDefault(),p.current={x:y.clientX,y:y.clientY},d.current=!1;const b=S=>{S.preventDefault();const w=Math.abs(S.clientX-p.current.x),v=Math.abs(S.clientY-p.current.y);!d.current&&(w>5||v>5)&&(d.current=!0,i({workflowName:n,params:r}),o())},N=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)},g=y=>{y.stopPropagation(),window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:n}})),o()};return h.jsxs("div",{className:HC(),children:[h.jsxs("button",{className:UC(),onMouseDown:m,onClick:()=>{d.current||u(!s)},children:[h.jsx("span",{className:IC(),children:n}),h.jsx("span",{className:YC(),children:r.length===0?"(no params)":`(${r.length} params)`})]}),s&&h.jsxs("div",{className:qC(),children:[r.length>0?h.jsxs("div",{className:XC(),children:[h.jsx("span",{className:Om(),children:"Parameters:"}),r.map((y,b)=>h.jsxs("span",{className:GC(),children:["ARG",b+1,": ",y]},y))]}):h.jsx("p",{className:$C(),children:"This workflow has no input parameters."}),h.jsx("button",{className:WC(),onClick:g,children:"Go to Definition"})]})]})}const _m=M("fixed pointer-events-none z-[10000] flex flex-col gap-1"),Tm=M("flex flex-col gap-0.5 px-4 py-3 bg-surface-1 border-2 border-accent-blue rounded-sm shadow-xl min-w-[120px]",{variants:{type:{opcode:"border-accent-blue",workflow:"border-[#E91E63]"}},defaultVariants:{type:"opcode"}}),Mm=M("text-sm font-semibold text-text-primary"),Dm=M("text-[0.7rem] text-text-muted font-mono"),km=M("text-[0.7rem] text-accent-blue text-center font-medium");function Rm(n){const r=document.querySelector("[data-canvas-container] > svg");if(!r)return"main";const{zoom:i,panX:o,panY:s,layoutGroups:u,canvasCenter:d}=_e.getState();if(u.length===0)return"main";const p=r.getBoundingClientRect(),m=p.width,g=p.height,y=n.clientX-p.left,b=n.clientY-p.top,N=(y-o-m/2)/i+d.x,S=(b-s-g/2)/i+d.y;return Hp(u,N,S)||"main"}function eA(){const{draggingOpcode:n,setDraggingOpcode:r,draggingWorkflowCall:i,setDraggingWorkflowCall:o,openNodeEditor:s}=_e(),{addNode:u,addWorkflowCallNode:d}=nt(),[p,m]=D.useState({x:0,y:0});if(D.useEffect(()=>{if(!i)return;const y=N=>{m({x:N.clientX,y:N.clientY})},b=N=>{const S=N.target;if((S.closest("svg")!==null||S.closest('[class*="canvas"]')!==null)&&i){const v=Rm(N);d(i.workflowName,i.params,v)&&s()}o(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[i,o,d,s]),D.useEffect(()=>{if(!n)return;const y=N=>{m({x:N.clientX,y:N.clientY})},b=N=>{const S=N.target;if((S.closest("svg")!==null||S.closest('[class*="canvas"]')!==null)&&n){const v=Rm(N);u(n,v)&&s()}r(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[n,r,u,s]),!n&&!i)return null;if(i)return h.jsxs("div",{className:P(_m()),style:{left:p.x+16,top:p.y+16},children:[h.jsxs("div",{className:P(Tm({type:"workflow"})),children:[h.jsx("span",{className:P(Mm()),children:i.workflowName}),h.jsx("span",{className:P(Dm()),children:"workflow_call"})]}),h.jsx("div",{className:P(km()),children:"Drop on canvas to add"})]});if(!n)return null;const g=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return h.jsxs("div",{className:P(_m()),style:{left:p.x+16,top:p.y+16},children:[h.jsxs("div",{className:P(Tm({type:"opcode"})),children:[h.jsx("span",{className:P(Mm()),children:g}),h.jsx("span",{className:P(Dm()),children:n.name})]}),h.jsx("div",{className:P(km()),children:"Drop on canvas to add"})]})}const zm={"--color-surface-0":"oklch(0.18 0.008 250)","--color-surface-1":"oklch(0.21 0.008 250)","--color-surface-2":"oklch(0.24 0.008 250)","--color-surface-3":"oklch(0.28 0.008 250)","--color-surface-4":"oklch(0.34 0.008 250)","--color-border-subtle":"oklch(0.28 0.008 250)","--color-border-default":"oklch(0.35 0.008 250)","--color-border-strong":"oklch(0.48 0.008 250)","--color-text-muted":"oklch(0.52 0.008 250)","--color-text-secondary":"oklch(0.68 0.005 250)","--color-text-primary":"oklch(0.90 0.005 250)","--color-accent-blue":"oklch(0.65 0.18 240)","--color-accent-green":"oklch(0.72 0.16 145)","--color-accent-amber":"oklch(0.75 0.15 75)","--color-accent-red":"oklch(0.65 0.20 25)","--color-accent-violet":"oklch(0.55 0.18 290)","--color-node-control":"oklch(0.55 0.12 240)","--color-node-data":"oklch(0.55 0.12 145)","--color-node-io":"oklch(0.55 0.12 75)","--color-node-logic":"oklch(0.55 0.12 290)","--color-node-math":"oklch(0.55 0.12 25)","--color-node-string":"oklch(0.55 0.12 180)"},Lm={"--color-surface-0":"oklch(0.97 0.005 250)","--color-surface-1":"oklch(0.95 0.005 250)","--color-surface-2":"oklch(0.92 0.006 250)","--color-surface-3":"oklch(0.88 0.008 250)","--color-surface-4":"oklch(0.82 0.010 250)","--color-border-subtle":"oklch(0.88 0.006 250)","--color-border-default":"oklch(0.80 0.008 250)","--color-border-strong":"oklch(0.68 0.010 250)","--color-text-muted":"oklch(0.52 0.008 250)","--color-text-secondary":"oklch(0.38 0.008 250)","--color-text-primary":"oklch(0.18 0.010 250)","--color-accent-blue":"oklch(0.65 0.18 240)","--color-accent-green":"oklch(0.72 0.16 145)","--color-accent-amber":"oklch(0.75 0.15 75)","--color-accent-red":"oklch(0.65 0.20 25)","--color-accent-violet":"oklch(0.55 0.18 290)","--color-node-control":"oklch(0.55 0.12 240)","--color-node-data":"oklch(0.55 0.12 145)","--color-node-io":"oklch(0.55 0.12 75)","--color-node-logic":"oklch(0.55 0.12 290)","--color-node-math":"oklch(0.55 0.12 25)","--color-node-string":"oklch(0.55 0.12 180)"},Vm={"--font-sans":"'Inter', 'Plus Jakarta Sans', system-ui, sans-serif","--font-mono":"'JetBrains Mono', monospace","--radius-sm":"2px","--radius-md":"3px","--radius-lg":"4px"};function _c(n,r){return{...Vm,...(n==="system"?r:n==="dark")?zm:Lm}}const Bm="lexflow-editor-theme-";function Hm(n){const r={};return n.accent&&(r["--color-accent-blue"]=n.accent),n.background&&(r["--color-surface-0"]=n.background),n.surface&&(r["--color-surface-1"]=n.surface,r["--color-surface-2"]=n.surface),n.text&&(r["--color-text-primary"]=n.text),n.border&&(r["--color-border-default"]=n.border),r}function Tc(n,r,i){const o=`${Bm}${i}`,s=document.getElementById(o);s&&s.remove();const u=window.matchMedia("(prefers-color-scheme: dark)").matches,d=r.preset??"dark";let p=_c(d,u);r.colors&&(p={...p,...Hm(r.colors)}),r.cssVariables&&(p={...p,...r.cssVariables});const m=Object.entries(p).map(([N,S])=>`${N}: ${S};`).join(`
    `),g=`
    [data-lexflow-instance="${i}"] {
      ${m}
    }
  `,y=document.createElement("style");y.id=o,y.textContent=g,document.head.appendChild(y),n.setAttribute("data-lexflow-instance",i),d==="light"||d==="system"&&!u?n.classList.add("light"):n.classList.remove("light")}function Um(n){const r=`${Bm}${n}`,i=document.getElementById(r);i&&i.remove()}function tA(n,r){const i=typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches:!0,o=n.preset??"dark";let s=_c(o,i);n.colors&&(s={...s,...Hm(n.colors)}),n.cssVariables&&(s={...s,...n.cssVariables});const u=Object.entries(s).map(([d,p])=>`${d}: ${p};`).join(`
  `);return`${r} {
  ${u}
}`}const Im=D.createContext(null);function nA(n){return n?typeof n=="string"?{preset:n}:n:{preset:"dark"}}function lA({children:n,instanceId:r,containerRef:i,initialTheme:o,persist:s=!1}){const u=`lexflow-theme-${r}`,[d,p]=D.useState(()=>{if(s&&typeof window<"u"){const S=localStorage.getItem(u);if(S)try{return JSON.parse(S)}catch{}}return nA(o)}),m=D.useMemo(()=>d.preset??"dark",[d.preset]),g=D.useCallback(S=>{p(w=>({...w,preset:S}))},[]),y=D.useCallback(()=>{p(S=>{const v=(S.preset??"dark")==="dark"?"light":"dark";return{...S,preset:v}})},[]),b=D.useCallback(S=>{p(S)},[]);D.useEffect(()=>{const S=i.current;if(S)return Tc(S,d,r),s&&localStorage.setItem(u,JSON.stringify(d)),()=>{Um(r)}},[d,i,r,s,u]),D.useEffect(()=>{if(d.preset!=="system")return;const S=window.matchMedia("(prefers-color-scheme: dark)"),w=()=>{const v=i.current;v&&Tc(v,d,r)};return S.addEventListener("change",w),()=>S.removeEventListener("change",w)},[d,i,r]);const N=D.useMemo(()=>({theme:m,setTheme:g,toggleTheme:y,config:d,updateConfig:b}),[m,g,y,d,b]);return h.jsx(Im.Provider,{value:N,children:n})}function aA(){const n=D.useContext(Im);if(!n)throw new Error("useLibraryTheme must be used within LibraryThemeProvider");return n}function rA(){const n=_e(r=>r.confirmDialog);return n?h.jsx(cv,{isOpen:n.isOpen,title:n.title,message:n.message,confirmLabel:n.confirmLabel,cancelLabel:n.cancelLabel,variant:n.variant,onConfirm:n.onConfirm,onCancel:n.onCancel}):null}function iA({lite:n=!1,showCodeEditor:r=!0,showPalette:i=!0,showExecutionPanel:o=!0,showNodeEditor:s=!0,onSourceChange:u,onExecute:d,onError:p,onReady:m,onSave:g,showSaveButton:y,saveButtonLabel:b,showExamples:N}){const{source:S,setExamples:w,setOpcodes:v,isExecuting:j,executionOutput:O,executionResult:A,executionError:X}=nt(),$=cr();Jw(),eS(),D.useEffect(()=>{$.listOpcodes().then(v).catch(console.error),_s($)&&$.listExamples().then(w).catch(console.error),m?.()},[w,v,$,m]);const V=D.useRef(S);D.useEffect(()=>{S!==V.current&&(V.current=S,u?.(S))},[S,u]),D.useEffect(()=>{X&&p?.(X)},[X,p]);const B=D.useRef(j);return D.useEffect(()=>{B.current&&!j&&d?.({success:!X,output:O,result:A,error:X??void 0}),B.current=j},[j,X,O,A,d]),h.jsxs(h.Fragment,{children:[h.jsx(Vw,{canvas:h.jsx(UE,{}),editor:r?h.jsx(JN,{lite:n}):void 0,executionPanel:o?h.jsx(Fj,{}):void 0,nodeEditor:s?h.jsx(uC,{}):void 0,palette:i?h.jsx(KC,{}):void 0,onSave:g,showSaveButton:y,saveButtonLabel:b,showExamples:N}),h.jsx(eA,{}),h.jsx(rA,{})]})}const Mc=D.forwardRef(function({initialSource:r,executionUrl:i,websocketUrl:o,backendProvider:s,theme:u="dark",lite:d=!1,showCodeEditor:p=!0,showPalette:m=!0,showExecutionPanel:g=!0,showNodeEditor:y=!0,onSourceChange:b,onExecute:N,onError:S,onReady:w,onSave:v,showSaveButton:j,saveButtonLabel:O,showExamples:A,opcodesUrl:X,opcodeAdapter:$,executeOverride:V,className:B,style:H},U){const Q=D.useRef(null),te=D.useRef(s??ip({apiBaseUrl:i??"/api",wsUrl:o,supportsExamples:A!==!1,supportsWebSocket:!0,opcodesUrl:X,opcodeAdapter:$}));return D.useEffect(()=>{r&&nt.getState().setSource(r,!1)},[]),D.useImperativeHandle(U,()=>({getSource:()=>nt.getState().source,setSource:ce=>{nt.getState().setSource(ce)},execute:async ce=>{const ie=nt.getState();ie.setIsExecuting(!0),ie.clearExecution();try{const re=await te.current.executeWorkflow(ie.source,ce);return ie.setExecutionOutput(re.output??""),ie.setExecutionResult(re.result),re.error&&ie.setExecutionError(re.error),ie.setIsExecuting(!1),{success:re.success,output:re.output,result:re.result,error:re.error??void 0}}catch(re){const ue=re instanceof Error?re.message:"Execution failed";return ie.setExecutionError(ue),ie.setIsExecuting(!1),{success:!1,error:ue}}},setTheme:()=>{},toggleCodeEditor:()=>{_e.getState().toggleEditor()},togglePalette:()=>{_e.getState().togglePalette()},toggleExecutionPanel:()=>{_e.getState().toggleExecutionPanel()}}),[]),D.useEffect(()=>{const ce=Q.current;if(!ce)return;(u==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":typeof u=="string"?u:u.preset??"dark")==="light"?ce.classList.add("light"):ce.classList.remove("light")},[u]),h.jsx("div",{ref:Q,className:P("lexflow-editor h-full w-full",B),style:H,children:h.jsx(Lb,{children:h.jsx(pw,{override:V,children:h.jsx(Fd,{provider:te.current,children:h.jsx(iA,{lite:d,showCodeEditor:p,showPalette:m,showExecutionPanel:g,showNodeEditor:y,onSourceChange:b,onExecute:N,onError:S,onReady:w,onSave:v,showSaveButton:j,saveButtonLabel:O,showExamples:A})})})})})});var Dc={exports:{}},Tr={},kc={exports:{}},Rc={};var Ym;function oA(){return Ym||(Ym=1,(function(n){function r(k,G){var R=k.length;k.push(G);e:for(;0<R;){var le=R-1>>>1,K=k[le];if(0<s(K,G))k[le]=G,k[R]=K,R=le;else break e}}function i(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var G=k[0],R=k.pop();if(R!==G){k[0]=R;e:for(var le=0,K=k.length,C=K>>>1;le<C;){var z=2*(le+1)-1,F=k[z],ae=z+1,fe=k[ae];if(0>s(F,R))ae<K&&0>s(fe,F)?(k[le]=fe,k[ae]=R,le=ae):(k[le]=F,k[z]=R,le=z);else if(ae<K&&0>s(fe,R))k[le]=fe,k[ae]=R,le=ae;else break e}}return G}function s(k,G){var R=k.sortIndex-G.sortIndex;return R!==0?R:k.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var m=[],g=[],y=1,b=null,N=3,S=!1,w=!1,v=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function $(k){for(var G=i(g);G!==null;){if(G.callback===null)o(g);else if(G.startTime<=k)o(g),G.sortIndex=G.expirationTime,r(m,G);else break;G=i(g)}}function V(k){if(v=!1,$(k),!w)if(i(m)!==null)w=!0,B||(B=!0,ie());else{var G=i(g);G!==null&&oe(V,G.startTime-k)}}var B=!1,H=-1,U=5,Q=-1;function te(){return j?!0:!(n.unstable_now()-Q<U)}function ce(){if(j=!1,B){var k=n.unstable_now();Q=k;var G=!0;try{e:{w=!1,v&&(v=!1,A(H),H=-1),S=!0;var R=N;try{t:{for($(k),b=i(m);b!==null&&!(b.expirationTime>k&&te());){var le=b.callback;if(typeof le=="function"){b.callback=null,N=b.priorityLevel;var K=le(b.expirationTime<=k);if(k=n.unstable_now(),typeof K=="function"){b.callback=K,$(k),G=!0;break t}b===i(m)&&o(m),$(k)}else o(m);b=i(m)}if(b!==null)G=!0;else{var C=i(g);C!==null&&oe(V,C.startTime-k),G=!1}}break e}finally{b=null,N=R,S=!1}G=void 0}}finally{G?ie():B=!1}}}var ie;if(typeof X=="function")ie=function(){X(ce)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ue=re.port2;re.port1.onmessage=ce,ie=function(){ue.postMessage(null)}}else ie=function(){O(ce,0)};function oe(k,G){H=O(function(){k(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(k){switch(N){case 1:case 2:case 3:var G=3;break;default:G=N}var R=N;N=G;try{return k()}finally{N=R}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var R=N;N=k;try{return G()}finally{N=R}},n.unstable_scheduleCallback=function(k,G,R){var le=n.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?le+R:le):R=le,k){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=R+K,k={id:y++,callback:G,priorityLevel:k,startTime:R,expirationTime:K,sortIndex:-1},R>le?(k.sortIndex=R,r(g,k),i(m)===null&&k===i(g)&&(v?(A(H),H=-1):v=!0,oe(V,R-le))):(k.sortIndex=K,r(m,k),w||S||(w=!0,B||(B=!0,ie()))),k},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(k){var G=N;return function(){var R=N;N=G;try{return k.apply(this,arguments)}finally{N=R}}}})(Rc)),Rc}var qm;function sA(){return qm||(qm=1,kc.exports=oA()),kc.exports}var Xm;function cA(){if(Xm)return Tr;Xm=1;var n=sA(),r=vs(),i=Zd();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var c=l.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){l=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===l)return m(c),e;if(f===a)return m(c),t;f=f.sibling}throw Error(o(188))}if(l.return!==a.return)l=c,a=f;else{for(var x=!1,E=c.child;E;){if(E===l){x=!0,l=c,a=f;break}if(E===a){x=!0,a=c,l=f;break}E=E.sibling}if(!x){for(E=f.child;E;){if(E===l){x=!0,l=f,a=c;break}if(E===a){x=!0,a=f,l=c;break}E=E.sibling}if(!x)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),X=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case X:return e.displayName||"Context";case A:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var oe=Array.isArray,k=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},le=[],K=-1;function C(e){return{current:e}}function z(e){0>K||(e.current=le[K],le[K]=null,K--)}function F(e,t){K++,le[K]=e.current,e.current=t}var ae=C(null),fe=C(null),ye=C(null),de=C(null);function Ye(e,t){switch(F(ye,t),F(fe,e),F(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gy(t),e=xy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(ae),F(ae,e)}function ne(){z(ae),z(fe),z(ye)}function we(e){e.memoizedState!==null&&F(de,e);var t=ae.current,l=xy(t,e.type);t!==l&&(F(fe,e),F(ae,l))}function Re(e){fe.current===e&&(z(ae),z(fe)),de.current===e&&(z(de),vi._currentValue=R)}var Ue,it;function Tt(e){if(Ue===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||"",it=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+it}var vn=!1;function wn(e,t){if(!e||vn)return"";vn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(W){var q=W}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(W){q=W}e.call(ee.prototype)}}else{try{throw Error()}catch(W){q=W}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(W){if(W&&q&&typeof W.stack=="string")return[W.stack,q.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),x=f[0],E=f[1];if(x&&E){var _=x.split(`
`),Y=E.split(`
`);for(c=a=0;a<_.length&&!_[a].includes("DetermineComponentFrameRoot");)a++;for(;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;if(a===_.length||c===Y.length)for(a=_.length-1,c=Y.length-1;1<=a&&0<=c&&_[a]!==Y[c];)c--;for(;1<=a&&0<=c;a--,c--)if(_[a]!==Y[c]){if(a!==1||c!==1)do if(a--,c--,0>c||_[a]!==Y[c]){var Z=`
`+_[a].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=a&&0<=c);break}}}finally{vn=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Tt(l):""}function Ae(e,t){switch(e.tag){case 26:case 27:case 5:return Tt(e.type);case 16:return Tt("Lazy");case 13:return e.child!==t&&t!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return wn(e.type,!1);case 11:return wn(e.type.render,!1);case 1:return wn(e.type,!0);case 31:return Tt("Activity");default:return""}}function bt(e){try{var t="",l=null;do t+=Ae(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Gt=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,Se=n.unstable_cancelCallback,qe=n.unstable_shouldYield,Fe=n.unstable_requestPaint,Le=n.unstable_now,Sn=n.unstable_getCurrentPriorityLevel,ll=n.unstable_ImmediatePriority,al=n.unstable_UserBlockingPriority,rl=n.unstable_NormalPriority,Mr=n.unstable_LowPriority,ba=n.unstable_IdlePriority,Dr=n.log,zc=n.unstable_setDisableYieldValue,Ne=null,Xe=null;function ut(e){if(typeof Dr=="function"&&zc(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Ne,e)}catch{}}var tt=Math.clz32?Math.clz32:va,Ll=Math.log,Vl=Math.LN2;function va(e){return e>>>=0,e===0?32:31-(Ll(e)/Vl|0)|0}var Bl=256,Hl=262144,eo=4194304;function Ul(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function to(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var c=0,f=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~f,a!==0?c=Ul(a):(x&=E,x!==0?c=Ul(x):l||(l=E&~e,l!==0&&(c=Ul(l))))):(E=a&~f,E!==0?c=Ul(E):x!==0?c=Ul(x):l||(l=a&~e,l!==0&&(c=Ul(l)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,l=t&-t,f>=l||f===32&&(l&4194048)!==0)?t:c}function kr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function EA(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fm(){var e=eo;return eo<<=1,(eo&62914560)===0&&(eo=4194304),e}function Lc(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Rr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function NA(e,t,l,a,c,f){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,_=e.expirationTimes,Y=e.hiddenUpdates;for(l=x&~l;0<l;){var Z=31-tt(l),ee=1<<Z;E[Z]=0,_[Z]=-1;var q=Y[Z];if(q!==null)for(Y[Z]=null,Z=0;Z<q.length;Z++){var W=q[Z];W!==null&&(W.lane&=-536870913)}l&=~ee}a!==0&&Jm(e,a,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(x&~t))}function Jm(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-tt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Pm(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-tt(l),c=1<<a;c&t|e[a]&t&&(e[a]|=t),l&=~c}}function eg(e,t){var l=t&-t;return l=(l&42)!==0?1:Vc(l),(l&(e.suspendedLanes|t))!==0?0:l}function Vc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tg(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Uy(e.type))}function ng(e,t){var l=G.p;try{return G.p=e,t()}finally{G.p=l}}var il=Math.random().toString(36).slice(2),Et="__reactFiber$"+il,zt="__reactProps$"+il,wa="__reactContainer$"+il,Hc="__reactEvents$"+il,jA="__reactListeners$"+il,CA="__reactHandles$"+il,lg="__reactResources$"+il,zr="__reactMarker$"+il;function Uc(e){delete e[Et],delete e[zt],delete e[Hc],delete e[jA],delete e[CA]}function Sa(e){var t=e[Et];if(t)return t;for(var l=e.parentNode;l;){if(t=l[wa]||l[Et]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Ny(e);e!==null;){if(l=e[Et])return l;e=Ny(e)}return t}e=l,l=e.parentNode}return null}function Ea(e){if(e=e[Et]||e[wa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Lr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Na(e){var t=e[lg];return t||(t=e[lg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function vt(e){e[zr]=!0}var ag=new Set,rg={};function Il(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(rg[e]=t,e=0;e<t.length;e++)ag.add(t[e])}var AA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ig={},og={};function OA(e){return Gt.call(og,e)?!0:Gt.call(ig,e)?!1:AA.test(e)?og[e]=!0:(ig[e]=!0,!1)}function no(e,t,l){if(OA(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function lo(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Mn(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _A(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(x){l=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ic(e){if(!e._valueTracker){var t=sg(e)?"checked":"value";e._valueTracker=_A(e,t,""+e[t])}}function cg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=sg(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function ao(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var TA=/[\n"\\]/g;function tn(e){return e.replace(TA,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Yc(e,t,l,a,c,f,x,E){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?qc(e,x,en(t)):l!=null?qc(e,x,en(l)):a!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+en(E):e.removeAttribute("name")}function ug(e,t,l,a,c,f,x,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||l!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Ic(e);return}l=l!=null?""+en(l):"",t=t!=null?""+en(t):l,E||t===e.value||(e.value=t),e.defaultValue=t}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Ic(e)}function qc(e,t,l){t==="number"&&ao(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ca(e,t,l,a){if(e=e.options,t){t={};for(var c=0;c<l.length;c++)t["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=t.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&a&&(e[l].defaultSelected=!0)}else{for(l=""+en(l),t=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function fg(e,t,l){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+en(l):""}function dg(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(oe(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=en(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Ic(e)}function Aa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var MA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hg(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||MA.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function pg(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var c in t)a=t[c],t.hasOwnProperty(c)&&l[c]!==a&&hg(e,c,a)}else for(var f in t)t.hasOwnProperty(f)&&hg(e,f,t[f])}function Xc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(e){return kA.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var Gc=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,_a=null;function mg(e){var t=Ea(e);if(t&&(e=t.stateNode)){var l=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Yc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+tn(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var c=a[zt]||null;if(!c)throw Error(o(90));Yc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&cg(a)}break e;case"textarea":fg(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ca(e,!!l.multiple,t,!1)}}}var Wc=!1;function gg(e,t,l){if(Wc)return e(t,l);Wc=!0;try{var a=e(t);return a}finally{if(Wc=!1,(Oa!==null||_a!==null)&&(Wo(),Oa&&(t=Oa,e=_a,_a=Oa=null,mg(t),e)))for(t=0;t<e.length;t++)mg(e[t])}}function Vr(e,t){var l=e.stateNode;if(l===null)return null;var a=l[zt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zc=!1;if(kn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Zc=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Zc=!1}var ol=null,Qc=null,io=null;function xg(){if(io)return io;var e,t=Qc,l=t.length,a,c="value"in ol?ol.value:ol.textContent,f=c.length;for(e=0;e<l&&t[e]===c[e];e++);var x=l-e;for(a=1;a<=x&&t[l-a]===c[f-a];a++);return io=c.slice(e,1<a?1-a:void 0)}function oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function yg(){return!1}function Lt(e){function t(l,a,c,f,x){this._reactName=l,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?so:yg,this.isPropagationStopped=yg,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Lt(Yl),Hr=b({},Yl,{view:0,detail:0}),RA=Lt(Hr),Kc,Fc,Ur,uo=b({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(Kc=e.screenX-Ur.screenX,Fc=e.screenY-Ur.screenY):Fc=Kc=0,Ur=e),Kc)},movementY:function(e){return"movementY"in e?e.movementY:Fc}}),bg=Lt(uo),zA=b({},uo,{dataTransfer:0}),LA=Lt(zA),VA=b({},Hr,{relatedTarget:0}),Jc=Lt(VA),BA=b({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),HA=Lt(BA),UA=b({},Yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IA=Lt(UA),YA=b({},Yl,{data:0}),vg=Lt(YA),qA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $A(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GA[e])?!!t[e]:!1}function Pc(){return $A}var WA=b({},Hr,{key:function(e){if(e.key){var t=qA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pc,charCode:function(e){return e.type==="keypress"?oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZA=Lt(WA),QA=b({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wg=Lt(QA),KA=b({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pc}),FA=Lt(KA),JA=b({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),PA=Lt(JA),eO=b({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tO=Lt(eO),nO=b({},Yl,{newState:0,oldState:0}),lO=Lt(nO),aO=[9,13,27,32],eu=kn&&"CompositionEvent"in window,Ir=null;kn&&"documentMode"in document&&(Ir=document.documentMode);var rO=kn&&"TextEvent"in window&&!Ir,Sg=kn&&(!eu||Ir&&8<Ir&&11>=Ir),Eg=" ",Ng=!1;function jg(e,t){switch(e){case"keyup":return aO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function iO(e,t){switch(e){case"compositionend":return Cg(t);case"keypress":return t.which!==32?null:(Ng=!0,Eg);case"textInput":return e=t.data,e===Eg&&Ng?null:e;default:return null}}function oO(e,t){if(Ta)return e==="compositionend"||!eu&&jg(e,t)?(e=xg(),io=Qc=ol=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sg&&t.locale!=="ko"?null:t.data;default:return null}}var sO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sO[e.type]:t==="textarea"}function Og(e,t,l,a){Oa?_a?_a.push(a):_a=[a]:Oa=a,t=es(t,"onChange"),0<t.length&&(l=new co("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Yr=null,qr=null;function cO(e){uy(e,0)}function fo(e){var t=Lr(e);if(cg(t))return e}function _g(e,t){if(e==="change")return t}var Tg=!1;if(kn){var tu;if(kn){var nu="oninput"in document;if(!nu){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),nu=typeof Mg.oninput=="function"}tu=nu}else tu=!1;Tg=tu&&(!document.documentMode||9<document.documentMode)}function Dg(){Yr&&(Yr.detachEvent("onpropertychange",kg),qr=Yr=null)}function kg(e){if(e.propertyName==="value"&&fo(qr)){var t=[];Og(t,qr,e,$c(e)),gg(cO,t)}}function uO(e,t,l){e==="focusin"?(Dg(),Yr=t,qr=l,Yr.attachEvent("onpropertychange",kg)):e==="focusout"&&Dg()}function fO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fo(qr)}function dO(e,t){if(e==="click")return fo(t)}function hO(e,t){if(e==="input"||e==="change")return fo(t)}function pO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:pO;function Xr(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var c=l[a];if(!Gt.call(t,c)||!$t(e[c],t[c]))return!1}return!0}function Rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zg(e,t){var l=Rg(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Rg(l)}}function Lg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ao(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=ao(e.document)}return t}function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var mO=kn&&"documentMode"in document&&11>=document.documentMode,Ma=null,au=null,Gr=null,ru=!1;function Bg(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ru||Ma==null||Ma!==ao(a)||(a=Ma,"selectionStart"in a&&lu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Gr&&Xr(Gr,a)||(Gr=a,a=es(au,"onSelect"),0<a.length&&(t=new co("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Ma)))}function ql(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Da={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionrun:ql("Transition","TransitionRun"),transitionstart:ql("Transition","TransitionStart"),transitioncancel:ql("Transition","TransitionCancel"),transitionend:ql("Transition","TransitionEnd")},iu={},Hg={};kn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Xl(e){if(iu[e])return iu[e];if(!Da[e])return e;var t=Da[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Hg)return iu[e]=t[l];return e}var Ug=Xl("animationend"),Ig=Xl("animationiteration"),Yg=Xl("animationstart"),gO=Xl("transitionrun"),xO=Xl("transitionstart"),yO=Xl("transitioncancel"),qg=Xl("transitionend"),Xg=new Map,ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ou.push("scrollEnd");function dn(e,t){Xg.set(e,t),Il(t,[e])}var ho=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],ka=0,su=0;function po(){for(var e=ka,t=su=ka=0;t<e;){var l=nn[t];nn[t++]=null;var a=nn[t];nn[t++]=null;var c=nn[t];nn[t++]=null;var f=nn[t];if(nn[t++]=null,a!==null&&c!==null){var x=a.pending;x===null?c.next=c:(c.next=x.next,x.next=c),a.pending=c}f!==0&&Gg(l,c,f)}}function mo(e,t,l,a){nn[ka++]=e,nn[ka++]=t,nn[ka++]=l,nn[ka++]=a,su|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function cu(e,t,l,a){return mo(e,t,l,a),go(e)}function Gl(e,t){return mo(e,null,null,t),go(e)}function Gg(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var c=!1,f=e.return;f!==null;)f.childLanes|=l,a=f.alternate,a!==null&&(a.childLanes|=l),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-tt(l),e=f.hiddenUpdates,a=e[c],a===null?e[c]=[t]:a.push(t),t.lane=l|536870912),f):null}function go(e){if(50<hi)throw hi=0,bf=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ra={};function bO(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,l,a){return new bO(e,t,l,a)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var l=e.alternate;return l===null?(l=Wt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function $g(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xo(e,t,l,a,c,f){var x=0;if(a=e,typeof e=="function")uu(e)&&(x=1);else if(typeof e=="string")x=N_(e,l,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=Wt(31,l,t,c),e.elementType=Q,e.lanes=f,e;case v:return $l(l.children,c,f,t);case j:x=8,c|=24;break;case O:return e=Wt(12,l,t,c|2),e.elementType=O,e.lanes=f,e;case V:return e=Wt(13,l,t,c),e.elementType=V,e.lanes=f,e;case B:return e=Wt(19,l,t,c),e.elementType=B,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:x=10;break e;case A:x=9;break e;case $:x=11;break e;case H:x=14;break e;case U:x=16,a=null;break e}x=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Wt(x,l,t,c),t.elementType=e,t.type=a,t.lanes=f,t}function $l(e,t,l,a){return e=Wt(7,e,a,t),e.lanes=l,e}function fu(e,t,l){return e=Wt(6,e,null,t),e.lanes=l,e}function Wg(e){var t=Wt(18,null,null,0);return t.stateNode=e,t}function du(e,t,l){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Zg=new WeakMap;function ln(e,t){if(typeof e=="object"&&e!==null){var l=Zg.get(e);return l!==void 0?l:(t={value:e,source:t,stack:bt(t)},Zg.set(e,t),t)}return{value:e,source:t,stack:bt(t)}}var za=[],La=0,yo=null,$r=0,an=[],rn=0,sl=null,En=1,Nn="";function zn(e,t){za[La++]=$r,za[La++]=yo,yo=e,$r=t}function Qg(e,t,l){an[rn++]=En,an[rn++]=Nn,an[rn++]=sl,sl=e;var a=En;e=Nn;var c=32-tt(a)-1;a&=~(1<<c),l+=1;var f=32-tt(t)+c;if(30<f){var x=c-c%5;f=(a&(1<<x)-1).toString(32),a>>=x,c-=x,En=1<<32-tt(t)+c|l<<c|a,Nn=f+e}else En=1<<f|l<<c|a,Nn=e}function hu(e){e.return!==null&&(zn(e,1),Qg(e,1,0))}function pu(e){for(;e===yo;)yo=za[--La],za[La]=null,$r=za[--La],za[La]=null;for(;e===sl;)sl=an[--rn],an[rn]=null,Nn=an[--rn],an[rn]=null,En=an[--rn],an[rn]=null}function Kg(e,t){an[rn++]=En,an[rn++]=Nn,an[rn++]=sl,En=t.id,Nn=t.overflow,sl=e}var Nt=null,Je=null,ze=!1,cl=null,on=!1,mu=Error(o(519));function ul(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wr(ln(t,e)),mu}function Fg(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Et]=e,t[zt]=a,l){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(l=0;l<mi.length;l++)Me(mi[l],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),ug(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),dg(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||py(t.textContent,l)?(a.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),a.onScroll!=null&&Me("scroll",t),a.onScrollEnd!=null&&Me("scrollend",t),a.onClick!=null&&(t.onclick=Dn),t=!0):t=!1,t||ul(e,!0)}function Jg(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Nt=Nt.return}}function Va(e){if(e!==Nt)return!1;if(!ze)return Jg(e),ze=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Rf(e.type,e.memoizedProps)),l=!l),l&&Je&&ul(e),Jg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Je=Ey(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Je=Ey(e)}else t===27?(t=Je,Nl(e.type)?(e=Hf,Hf=null,Je=e):Je=t):Je=Nt?cn(e.stateNode.nextSibling):null;return!0}function Wl(){Je=Nt=null,ze=!1}function gu(){var e=cl;return e!==null&&(Ut===null?Ut=e:Ut.push.apply(Ut,e),cl=null),e}function Wr(e){cl===null?cl=[e]:cl.push(e)}var xu=C(null),Zl=null,Ln=null;function fl(e,t,l){F(xu,t._currentValue),t._currentValue=l}function Vn(e){e._currentValue=xu.current,z(xu)}function yu(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function bu(e,t,l,a){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var x=c.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=c;for(var _=0;_<t.length;_++)if(E.context===t[_]){f.lanes|=l,E=f.alternate,E!==null&&(E.lanes|=l),yu(f.return,l,e),a||(x=null);break e}f=E.next}}else if(c.tag===18){if(x=c.return,x===null)throw Error(o(341));x.lanes|=l,f=x.alternate,f!==null&&(f.lanes|=l),yu(x,l,e),x=null}else x=c.child;if(x!==null)x.return=c;else for(x=c;x!==null;){if(x===e){x=null;break}if(c=x.sibling,c!==null){c.return=x.return,x=c;break}x=x.return}c=x}}function Ba(e,t,l,a){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var x=c.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var E=c.type;$t(c.pendingProps.value,x.value)||(e!==null?e.push(E):e=[E])}}else if(c===de.current){if(x=c.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(vi):e=[vi])}c=c.return}e!==null&&bu(t,e,l,a),t.flags|=262144}function bo(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ql(e){Zl=e,Ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return Pg(Zl,e)}function vo(e,t){return Zl===null&&Ql(e),Pg(e,t)}function Pg(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Ln===null){if(e===null)throw Error(o(308));Ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ln=Ln.next=t;return l}var vO=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},wO=n.unstable_scheduleCallback,SO=n.unstable_NormalPriority,ft={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vu(){return{controller:new vO,data:new Map,refCount:0}}function Zr(e){e.refCount--,e.refCount===0&&wO(SO,function(){e.controller.abort()})}var Qr=null,wu=0,Ha=0,Ua=null;function EO(e,t){if(Qr===null){var l=Qr=[];wu=0,Ha=jf(),Ua={status:"pending",value:void 0,then:function(a){l.push(a)}}}return wu++,t.then(ex,ex),t}function ex(){if(--wu===0&&Qr!==null){Ua!==null&&(Ua.status="fulfilled");var e=Qr;Qr=null,Ha=0,Ua=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function NO(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var c=0;c<l.length;c++)(0,l[c])(t)},function(c){for(a.status="rejected",a.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),a}var tx=k.S;k.S=function(e,t){B0=Le(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&EO(e,t),tx!==null&&tx(e,t)};var Kl=C(null);function Su(){var e=Kl.current;return e!==null?e:Ke.pooledCache}function wo(e,t){t===null?F(Kl,Kl.current):F(Kl,t.pool)}function nx(){var e=Su();return e===null?null:{parent:ft._currentValue,pool:e}}var Ia=Error(o(460)),Eu=Error(o(474)),So=Error(o(542)),Eo={then:function(){}};function lx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ax(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Dn,Dn),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ix(e),e;default:if(typeof t.status=="string")t.then(Dn,Dn);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=a}},function(a){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ix(e),e}throw Jl=t,Ia}}function Fl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Jl=l,Ia):l}}var Jl=null;function rx(){if(Jl===null)throw Error(o(459));var e=Jl;return Jl=null,e}function ix(e){if(e===Ia||e===So)throw Error(o(483))}var Ya=null,Kr=0;function No(e){var t=Kr;return Kr+=1,Ya===null&&(Ya=[]),ax(Ya,e,t)}function Fr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function jo(e,t){throw t.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ox(e){function t(L,T){if(e){var I=L.deletions;I===null?(L.deletions=[T],L.flags|=16):I.push(T)}}function l(L,T){if(!e)return null;for(;T!==null;)t(L,T),T=T.sibling;return null}function a(L){for(var T=new Map;L!==null;)L.key!==null?T.set(L.key,L):T.set(L.index,L),L=L.sibling;return T}function c(L,T){return L=Rn(L,T),L.index=0,L.sibling=null,L}function f(L,T,I){return L.index=I,e?(I=L.alternate,I!==null?(I=I.index,I<T?(L.flags|=67108866,T):I):(L.flags|=67108866,T)):(L.flags|=1048576,T)}function x(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,T,I,J){return T===null||T.tag!==6?(T=fu(I,L.mode,J),T.return=L,T):(T=c(T,I),T.return=L,T)}function _(L,T,I,J){var be=I.type;return be===v?Z(L,T,I.props.children,J,I.key):T!==null&&(T.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===U&&Fl(be)===T.type)?(T=c(T,I.props),Fr(T,I),T.return=L,T):(T=xo(I.type,I.key,I.props,null,L.mode,J),Fr(T,I),T.return=L,T)}function Y(L,T,I,J){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=du(I,L.mode,J),T.return=L,T):(T=c(T,I.children||[]),T.return=L,T)}function Z(L,T,I,J,be){return T===null||T.tag!==7?(T=$l(I,L.mode,J,be),T.return=L,T):(T=c(T,I),T.return=L,T)}function ee(L,T,I){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=fu(""+T,L.mode,I),T.return=L,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case S:return I=xo(T.type,T.key,T.props,null,L.mode,I),Fr(I,T),I.return=L,I;case w:return T=du(T,L.mode,I),T.return=L,T;case U:return T=Fl(T),ee(L,T,I)}if(oe(T)||ie(T))return T=$l(T,L.mode,I,null),T.return=L,T;if(typeof T.then=="function")return ee(L,No(T),I);if(T.$$typeof===X)return ee(L,vo(L,T),I);jo(L,T)}return null}function q(L,T,I,J){var be=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return be!==null?null:E(L,T,""+I,J);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case S:return I.key===be?_(L,T,I,J):null;case w:return I.key===be?Y(L,T,I,J):null;case U:return I=Fl(I),q(L,T,I,J)}if(oe(I)||ie(I))return be!==null?null:Z(L,T,I,J,null);if(typeof I.then=="function")return q(L,T,No(I),J);if(I.$$typeof===X)return q(L,T,vo(L,I),J);jo(L,I)}return null}function W(L,T,I,J,be){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(I)||null,E(T,L,""+J,be);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return L=L.get(J.key===null?I:J.key)||null,_(T,L,J,be);case w:return L=L.get(J.key===null?I:J.key)||null,Y(T,L,J,be);case U:return J=Fl(J),W(L,T,I,J,be)}if(oe(J)||ie(J))return L=L.get(I)||null,Z(T,L,J,be,null);if(typeof J.then=="function")return W(L,T,I,No(J),be);if(J.$$typeof===X)return W(L,T,I,vo(T,J),be);jo(T,J)}return null}function he(L,T,I,J){for(var be=null,Be=null,ge=T,Ce=T=0,ke=null;ge!==null&&Ce<I.length;Ce++){ge.index>Ce?(ke=ge,ge=null):ke=ge.sibling;var He=q(L,ge,I[Ce],J);if(He===null){ge===null&&(ge=ke);break}e&&ge&&He.alternate===null&&t(L,ge),T=f(He,T,Ce),Be===null?be=He:Be.sibling=He,Be=He,ge=ke}if(Ce===I.length)return l(L,ge),ze&&zn(L,Ce),be;if(ge===null){for(;Ce<I.length;Ce++)ge=ee(L,I[Ce],J),ge!==null&&(T=f(ge,T,Ce),Be===null?be=ge:Be.sibling=ge,Be=ge);return ze&&zn(L,Ce),be}for(ge=a(ge);Ce<I.length;Ce++)ke=W(ge,L,Ce,I[Ce],J),ke!==null&&(e&&ke.alternate!==null&&ge.delete(ke.key===null?Ce:ke.key),T=f(ke,T,Ce),Be===null?be=ke:Be.sibling=ke,Be=ke);return e&&ge.forEach(function(_l){return t(L,_l)}),ze&&zn(L,Ce),be}function ve(L,T,I,J){if(I==null)throw Error(o(151));for(var be=null,Be=null,ge=T,Ce=T=0,ke=null,He=I.next();ge!==null&&!He.done;Ce++,He=I.next()){ge.index>Ce?(ke=ge,ge=null):ke=ge.sibling;var _l=q(L,ge,He.value,J);if(_l===null){ge===null&&(ge=ke);break}e&&ge&&_l.alternate===null&&t(L,ge),T=f(_l,T,Ce),Be===null?be=_l:Be.sibling=_l,Be=_l,ge=ke}if(He.done)return l(L,ge),ze&&zn(L,Ce),be;if(ge===null){for(;!He.done;Ce++,He=I.next())He=ee(L,He.value,J),He!==null&&(T=f(He,T,Ce),Be===null?be=He:Be.sibling=He,Be=He);return ze&&zn(L,Ce),be}for(ge=a(ge);!He.done;Ce++,He=I.next())He=W(ge,L,Ce,He.value,J),He!==null&&(e&&He.alternate!==null&&ge.delete(He.key===null?Ce:He.key),T=f(He,T,Ce),Be===null?be=He:Be.sibling=He,Be=He);return e&&ge.forEach(function(z_){return t(L,z_)}),ze&&zn(L,Ce),be}function Qe(L,T,I,J){if(typeof I=="object"&&I!==null&&I.type===v&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case S:e:{for(var be=I.key;T!==null;){if(T.key===be){if(be=I.type,be===v){if(T.tag===7){l(L,T.sibling),J=c(T,I.props.children),J.return=L,L=J;break e}}else if(T.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===U&&Fl(be)===T.type){l(L,T.sibling),J=c(T,I.props),Fr(J,I),J.return=L,L=J;break e}l(L,T);break}else t(L,T);T=T.sibling}I.type===v?(J=$l(I.props.children,L.mode,J,I.key),J.return=L,L=J):(J=xo(I.type,I.key,I.props,null,L.mode,J),Fr(J,I),J.return=L,L=J)}return x(L);case w:e:{for(be=I.key;T!==null;){if(T.key===be)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){l(L,T.sibling),J=c(T,I.children||[]),J.return=L,L=J;break e}else{l(L,T);break}else t(L,T);T=T.sibling}J=du(I,L.mode,J),J.return=L,L=J}return x(L);case U:return I=Fl(I),Qe(L,T,I,J)}if(oe(I))return he(L,T,I,J);if(ie(I)){if(be=ie(I),typeof be!="function")throw Error(o(150));return I=be.call(I),ve(L,T,I,J)}if(typeof I.then=="function")return Qe(L,T,No(I),J);if(I.$$typeof===X)return Qe(L,T,vo(L,I),J);jo(L,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,T!==null&&T.tag===6?(l(L,T.sibling),J=c(T,I),J.return=L,L=J):(l(L,T),J=fu(I,L.mode,J),J.return=L,L=J),x(L)):l(L,T)}return function(L,T,I,J){try{Kr=0;var be=Qe(L,T,I,J);return Ya=null,be}catch(ge){if(ge===Ia||ge===So)throw ge;var Be=Wt(29,ge,null,L.mode);return Be.lanes=J,Be.return=L,Be}}}var Pl=ox(!0),sx=ox(!1),dl=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ju(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ie&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,t=go(e),Gg(e,null,l),t}return mo(e,a,t,l),go(e)}function Jr(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Pm(e,l)}}function Cu(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var c=null,f=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};f===null?c=f=x:f=f.next=x,l=l.next}while(l!==null);f===null?c=f=t:f=f.next=t}else c=f=t;l={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Au=!1;function Pr(){if(Au){var e=Ua;if(e!==null)throw e}}function ei(e,t,l,a){Au=!1;var c=e.updateQueue;dl=!1;var f=c.firstBaseUpdate,x=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var _=E,Y=_.next;_.next=null,x===null?f=Y:x.next=Y,x=_;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==x&&(E===null?Z.firstBaseUpdate=Y:E.next=Y,Z.lastBaseUpdate=_))}if(f!==null){var ee=c.baseState;x=0,Z=Y=_=null,E=f;do{var q=E.lane&-536870913,W=q!==E.lane;if(W?(De&q)===q:(a&q)===q){q!==0&&q===Ha&&(Au=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=e,ve=E;q=t;var Qe=l;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){ee=he.call(Qe,ee,q);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,q=typeof he=="function"?he.call(Qe,ee,q):he,q==null)break e;ee=b({},ee,q);break e;case 2:dl=!0}}q=E.callback,q!==null&&(e.flags|=64,W&&(e.flags|=8192),W=c.callbacks,W===null?c.callbacks=[q]:W.push(q))}else W={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(Y=Z=W,_=ee):Z=Z.next=W,x|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;W=E,E=W.next,W.next=null,c.lastBaseUpdate=W,c.shared.pending=null}}while(!0);Z===null&&(_=ee),c.baseState=_,c.firstBaseUpdate=Y,c.lastBaseUpdate=Z,f===null&&(c.shared.lanes=0),bl|=x,e.lanes=x,e.memoizedState=ee}}function cx(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function ux(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)cx(l[e],t)}var qa=C(null),Co=C(0);function fx(e,t){e=$n,F(Co,e),F(qa,t),$n=e|t.baseLanes}function Ou(){F(Co,$n),F(qa,qa.current)}function _u(){$n=Co.current,z(qa),z(Co)}var Zt=C(null),sn=null;function ml(e){var t=e.alternate;F(ot,ot.current&1),F(Zt,e),sn===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&(sn=e)}function Tu(e){F(ot,ot.current),F(Zt,e),sn===null&&(sn=e)}function dx(e){e.tag===22?(F(ot,ot.current),F(Zt,e),sn===null&&(sn=e)):gl()}function gl(){F(ot,ot.current),F(Zt,Zt.current)}function Qt(e){z(Zt),sn===e&&(sn=null),z(ot)}var ot=C(0);function Ao(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Vf(l)||Bf(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bn=0,je=null,We=null,dt=null,Oo=!1,Xa=!1,ea=!1,_o=0,ti=0,Ga=null,jO=0;function lt(){throw Error(o(321))}function Mu(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!$t(e[l],t[l]))return!1;return!0}function Du(e,t,l,a,c,f){return Bn=f,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Qx:Wu,ea=!1,f=l(a,c),ea=!1,Xa&&(f=px(t,l,a,c)),hx(e),f}function hx(e){k.H=ai;var t=We!==null&&We.next!==null;if(Bn=0,dt=We=je=null,Oo=!1,ti=0,Ga=null,t)throw Error(o(300));e===null||ht||(e=e.dependencies,e!==null&&bo(e)&&(ht=!0))}function px(e,t,l,a){je=e;var c=0;do{if(Xa&&(Ga=null),ti=0,Xa=!1,25<=c)throw Error(o(301));if(c+=1,dt=We=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=Kx,f=t(l,a)}while(Xa);return f}function CO(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?ni(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(je.flags|=1024),t}function ku(){var e=_o!==0;return _o=0,e}function Ru(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function zu(e){if(Oo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Oo=!1}Bn=0,dt=We=je=null,Xa=!1,ti=_o=0,Ga=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?je.memoizedState=dt=e:dt=dt.next=e,dt}function st(){if(We===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=dt===null?je.memoizedState:dt.next;if(t!==null)dt=t,We=e;else{if(e===null)throw je.alternate===null?Error(o(467)):Error(o(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},dt===null?je.memoizedState=dt=e:dt=dt.next=e}return dt}function To(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ni(e){var t=ti;return ti+=1,Ga===null&&(Ga=[]),e=ax(Ga,e,t),t=je,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Qx:Wu),e}function Mo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ni(e);if(e.$$typeof===X)return jt(e)}throw Error(o(438,String(e)))}function Lu(e){var t=null,l=je.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=je.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=To(),je.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=te;return t.index++,l}function Hn(e,t){return typeof t=="function"?t(e):t}function Do(e){var t=st();return Vu(t,We,e)}function Vu(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var c=e.baseQueue,f=a.pending;if(f!==null){if(c!==null){var x=c.next;c.next=f.next,f.next=x}t.baseQueue=c=f,a.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var E=x=null,_=null,Y=t,Z=!1;do{var ee=Y.lane&-536870913;if(ee!==Y.lane?(De&ee)===ee:(Bn&ee)===ee){var q=Y.revertLane;if(q===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ee===Ha&&(Z=!0);else if((Bn&q)===q){Y=Y.next,q===Ha&&(Z=!0);continue}else ee={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},_===null?(E=_=ee,x=f):_=_.next=ee,je.lanes|=q,bl|=q;ee=Y.action,ea&&l(f,ee),f=Y.hasEagerState?Y.eagerState:l(f,ee)}else q={lane:ee,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},_===null?(E=_=q,x=f):_=_.next=q,je.lanes|=ee,bl|=ee;Y=Y.next}while(Y!==null&&Y!==t);if(_===null?x=f:_.next=E,!$t(f,e.memoizedState)&&(ht=!0,Z&&(l=Ua,l!==null)))throw l;e.memoizedState=f,e.baseState=x,e.baseQueue=_,a.lastRenderedState=f}return c===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Bu(e){var t=st(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,c=l.pending,f=t.memoizedState;if(c!==null){l.pending=null;var x=c=c.next;do f=e(f,x.action),x=x.next;while(x!==c);$t(f,t.memoizedState)||(ht=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),l.lastRenderedState=f}return[f,a]}function mx(e,t,l){var a=je,c=st(),f=ze;if(f){if(l===void 0)throw Error(o(407));l=l()}else l=t();var x=!$t((We||c).memoizedState,l);if(x&&(c.memoizedState=l,ht=!0),c=c.queue,Iu(yx.bind(null,a,c,e),[e]),c.getSnapshot!==t||x||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,$a(9,{destroy:void 0},xx.bind(null,a,c,l,t),null),Ke===null)throw Error(o(349));f||(Bn&127)!==0||gx(a,t,l)}return l}function gx(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=je.updateQueue,t===null?(t=To(),je.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function xx(e,t,l,a){t.value=l,t.getSnapshot=a,bx(t)&&vx(e)}function yx(e,t,l){return l(function(){bx(t)&&vx(e)})}function bx(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!$t(e,l)}catch{return!0}}function vx(e){var t=Gl(e,2);t!==null&&It(t,e,2)}function Hu(e){var t=Dt();if(typeof e=="function"){var l=e;if(e=l(),ea){ut(!0);try{l()}finally{ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:e},t}function wx(e,t,l,a){return e.baseState=l,Vu(e,We,typeof a=="function"?a:Hn)}function AO(e,t,l,a,c){if(zo(e))throw Error(o(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};k.T!==null?l(!0):f.isTransition=!1,a(f),l=t.pending,l===null?(f.next=t.pending=f,Sx(t,f)):(f.next=l.next,t.pending=l.next=f)}}function Sx(e,t){var l=t.action,a=t.payload,c=e.state;if(t.isTransition){var f=k.T,x={};k.T=x;try{var E=l(c,a),_=k.S;_!==null&&_(x,E),Ex(e,t,E)}catch(Y){Uu(e,t,Y)}finally{f!==null&&x.types!==null&&(f.types=x.types),k.T=f}}else try{f=l(c,a),Ex(e,t,f)}catch(Y){Uu(e,t,Y)}}function Ex(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Nx(e,t,a)},function(a){return Uu(e,t,a)}):Nx(e,t,l)}function Nx(e,t,l){t.status="fulfilled",t.value=l,jx(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Sx(e,l)))}function Uu(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,jx(t),t=t.next;while(t!==a)}e.action=null}function jx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cx(e,t){return t}function Ax(e,t){if(ze){var l=Ke.formState;if(l!==null){e:{var a=je;if(ze){if(Je){t:{for(var c=Je,f=on;c.nodeType!==8;){if(!f){c=null;break t}if(c=cn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Je=cn(c.nextSibling),a=c.data==="F!";break e}}ul(a)}a=!1}a&&(t=l[0])}}return l=Dt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cx,lastRenderedState:t},l.queue=a,l=$x.bind(null,je,a),a.dispatch=l,a=Hu(!1),f=$u.bind(null,je,!1,a.queue),a=Dt(),c={state:t,dispatch:null,action:e,pending:null},a.queue=c,l=AO.bind(null,je,c,f,l),c.dispatch=l,a.memoizedState=e,[t,l,!1]}function Ox(e){var t=st();return _x(t,We,e)}function _x(e,t,l){if(t=Vu(e,t,Cx)[0],e=Do(Hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ni(t)}catch(x){throw x===Ia?So:x}else a=t;t=st();var c=t.queue,f=c.dispatch;return l!==t.memoizedState&&(je.flags|=2048,$a(9,{destroy:void 0},OO.bind(null,c,l),null)),[a,f,e]}function OO(e,t){e.action=t}function Tx(e){var t=st(),l=We;if(l!==null)return _x(t,l,e);st(),t=t.memoizedState,l=st();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function $a(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=je.updateQueue,t===null&&(t=To(),je.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Mx(){return st().memoizedState}function ko(e,t,l,a){var c=Dt();je.flags|=e,c.memoizedState=$a(1|t,{destroy:void 0},l,a===void 0?null:a)}function Ro(e,t,l,a){var c=st();a=a===void 0?null:a;var f=c.memoizedState.inst;We!==null&&a!==null&&Mu(a,We.memoizedState.deps)?c.memoizedState=$a(t,f,l,a):(je.flags|=e,c.memoizedState=$a(1|t,f,l,a))}function Dx(e,t){ko(8390656,8,e,t)}function Iu(e,t){Ro(2048,8,e,t)}function _O(e){je.flags|=4;var t=je.updateQueue;if(t===null)t=To(),je.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function kx(e){var t=st().memoizedState;return _O({ref:t,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Rx(e,t){return Ro(4,2,e,t)}function zx(e,t){return Ro(4,4,e,t)}function Lx(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vx(e,t,l){l=l!=null?l.concat([e]):null,Ro(4,4,Lx.bind(null,t,e),l)}function Yu(){}function Bx(e,t){var l=st();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Mu(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Hx(e,t){var l=st();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Mu(t,a[1]))return a[0];if(a=e(),ea){ut(!0);try{e()}finally{ut(!1)}}return l.memoizedState=[a,t],a}function qu(e,t,l){return l===void 0||(Bn&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=U0(),je.lanes|=e,bl|=e,l)}function Ux(e,t,l,a){return $t(l,t)?l:qa.current!==null?(e=qu(e,l,a),$t(e,t)||(ht=!0),e):(Bn&42)===0||(Bn&1073741824)!==0&&(De&261930)===0?(ht=!0,e.memoizedState=l):(e=U0(),je.lanes|=e,bl|=e,t)}function Ix(e,t,l,a,c){var f=G.p;G.p=f!==0&&8>f?f:8;var x=k.T,E={};k.T=E,$u(e,!1,t,l);try{var _=c(),Y=k.S;if(Y!==null&&Y(E,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var Z=NO(_,a);li(e,t,Z,Jt(e))}else li(e,t,a,Jt(e))}catch(ee){li(e,t,{then:function(){},status:"rejected",reason:ee},Jt())}finally{G.p=f,x!==null&&E.types!==null&&(x.types=E.types),k.T=x}}function TO(){}function Xu(e,t,l,a){if(e.tag!==5)throw Error(o(476));var c=Yx(e).queue;Ix(e,c,t,R,l===null?TO:function(){return qx(e),l(a)})}function Yx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:R},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qx(e){var t=Yx(e);t.next===null&&(t=e.alternate.memoizedState),li(e,t.next.queue,{},Jt())}function Gu(){return jt(vi)}function Xx(){return st().memoizedState}function Gx(){return st().memoizedState}function MO(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Jt();e=hl(l);var a=pl(t,e,l);a!==null&&(It(a,t,l),Jr(a,t,l)),t={cache:vu()},e.payload=t;return}t=t.return}}function DO(e,t,l){var a=Jt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zo(e)?Wx(t,l):(l=cu(e,t,l,a),l!==null&&(It(l,e,a),Zx(l,t,a)))}function $x(e,t,l){var a=Jt();li(e,t,l,a)}function li(e,t,l,a){var c={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(zo(e))Wx(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,E=f(x,l);if(c.hasEagerState=!0,c.eagerState=E,$t(E,x))return mo(e,t,c,0),Ke===null&&po(),!1}catch{}if(l=cu(e,t,c,a),l!==null)return It(l,e,a),Zx(l,t,a),!0}return!1}function $u(e,t,l,a){if(a={lane:2,revertLane:jf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zo(e)){if(t)throw Error(o(479))}else t=cu(e,l,a,2),t!==null&&It(t,e,2)}function zo(e){var t=e.alternate;return e===je||t!==null&&t===je}function Wx(e,t){Xa=Oo=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Zx(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Pm(e,l)}}var ai={readContext:jt,use:Mo,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};ai.useEffectEvent=lt;var Qx={readContext:jt,use:Mo,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Dx,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ko(4194308,4,Lx.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){ko(4,2,e,t)},useMemo:function(e,t){var l=Dt();t=t===void 0?null:t;var a=e();if(ea){ut(!0);try{e()}finally{ut(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Dt();if(l!==void 0){var c=l(t);if(ea){ut(!0);try{l(t)}finally{ut(!1)}}}else c=t;return a.memoizedState=a.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},a.queue=e,e=e.dispatch=DO.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Hu(e);var t=e.queue,l=$x.bind(null,je,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Yu,useDeferredValue:function(e,t){var l=Dt();return qu(l,e,t)},useTransition:function(){var e=Hu(!1);return e=Ix.bind(null,je,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=je,c=Dt();if(ze){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Ke===null)throw Error(o(349));(De&127)!==0||gx(a,t,l)}c.memoizedState=l;var f={value:l,getSnapshot:t};return c.queue=f,Dx(yx.bind(null,a,f,e),[e]),a.flags|=2048,$a(9,{destroy:void 0},xx.bind(null,a,f,l,t),null),l},useId:function(){var e=Dt(),t=Ke.identifierPrefix;if(ze){var l=Nn,a=En;l=(a&~(1<<32-tt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=_o++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=jO++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Gu,useFormState:Ax,useActionState:Ax,useOptimistic:function(e){var t=Dt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=$u.bind(null,je,!0,l),l.dispatch=t,[e,t]},useMemoCache:Lu,useCacheRefresh:function(){return Dt().memoizedState=MO.bind(null,je)},useEffectEvent:function(e){var t=Dt(),l={impl:e};return t.memoizedState=l,function(){if((Ie&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Wu={readContext:jt,use:Mo,useCallback:Bx,useContext:jt,useEffect:Iu,useImperativeHandle:Vx,useInsertionEffect:Rx,useLayoutEffect:zx,useMemo:Hx,useReducer:Do,useRef:Mx,useState:function(){return Do(Hn)},useDebugValue:Yu,useDeferredValue:function(e,t){var l=st();return Ux(l,We.memoizedState,e,t)},useTransition:function(){var e=Do(Hn)[0],t=st().memoizedState;return[typeof e=="boolean"?e:ni(e),t]},useSyncExternalStore:mx,useId:Xx,useHostTransitionStatus:Gu,useFormState:Ox,useActionState:Ox,useOptimistic:function(e,t){var l=st();return wx(l,We,e,t)},useMemoCache:Lu,useCacheRefresh:Gx};Wu.useEffectEvent=kx;var Kx={readContext:jt,use:Mo,useCallback:Bx,useContext:jt,useEffect:Iu,useImperativeHandle:Vx,useInsertionEffect:Rx,useLayoutEffect:zx,useMemo:Hx,useReducer:Bu,useRef:Mx,useState:function(){return Bu(Hn)},useDebugValue:Yu,useDeferredValue:function(e,t){var l=st();return We===null?qu(l,e,t):Ux(l,We.memoizedState,e,t)},useTransition:function(){var e=Bu(Hn)[0],t=st().memoizedState;return[typeof e=="boolean"?e:ni(e),t]},useSyncExternalStore:mx,useId:Xx,useHostTransitionStatus:Gu,useFormState:Tx,useActionState:Tx,useOptimistic:function(e,t){var l=st();return We!==null?wx(l,We,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Lu,useCacheRefresh:Gx};Kx.useEffectEvent=kx;function Zu(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:b({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Qu={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Jt(),c=hl(a);c.payload=t,l!=null&&(c.callback=l),t=pl(e,c,a),t!==null&&(It(t,e,a),Jr(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Jt(),c=hl(a);c.tag=1,c.payload=t,l!=null&&(c.callback=l),t=pl(e,c,a),t!==null&&(It(t,e,a),Jr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Jt(),a=hl(l);a.tag=2,t!=null&&(a.callback=t),t=pl(e,a,l),t!==null&&(It(t,e,l),Jr(t,e,l))}};function Fx(e,t,l,a,c,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,x):t.prototype&&t.prototype.isPureReactComponent?!Xr(l,a)||!Xr(c,f):!0}function Jx(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Qu.enqueueReplaceState(t,t.state,null)}function ta(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=b({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}function Px(e){ho(e)}function e0(e){console.error(e)}function t0(e){ho(e)}function Lo(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function n0(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ku(e,t,l){return l=hl(l),l.tag=3,l.payload={element:null},l.callback=function(){Lo(e,t)},l}function l0(e){return e=hl(e),e.tag=3,e}function a0(e,t,l,a){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var f=a.value;e.payload=function(){return c(f)},e.callback=function(){n0(t,l,a)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){n0(t,l,a),typeof c!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function kO(e,t,l,a,c){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ba(t,l,c,!0),l=Zt.current,l!==null){switch(l.tag){case 31:case 13:return sn===null?Zo():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=c,a===Eo?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Sf(e,a,c)),!1;case 22:return l.flags|=65536,a===Eo?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Sf(e,a,c)),!1}throw Error(o(435,l.tag))}return Sf(e,a,c),Zo(),!1}if(ze)return t=Zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,a!==mu&&(e=Error(o(422),{cause:a}),Wr(ln(e,l)))):(a!==mu&&(t=Error(o(423),{cause:a}),Wr(ln(t,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,a=ln(a,l),c=Ku(e.stateNode,a,c),Cu(e,c),at!==4&&(at=2)),!1;var f=Error(o(520),{cause:a});if(f=ln(f,l),di===null?di=[f]:di.push(f),at!==4&&(at=2),t===null)return!0;a=ln(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=Ku(l.stateNode,a,e),Cu(l,e),!1;case 1:if(t=l.type,f=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vl===null||!vl.has(f))))return l.flags|=65536,c&=-c,l.lanes|=c,c=l0(c),a0(c,e,l,a),Cu(l,c),!1}l=l.return}while(l!==null);return!1}var Fu=Error(o(461)),ht=!1;function Ct(e,t,l,a){t.child=e===null?sx(t,null,l,a):Pl(t,e.child,l,a)}function r0(e,t,l,a,c){l=l.render;var f=t.ref;if("ref"in a){var x={};for(var E in a)E!=="ref"&&(x[E]=a[E])}else x=a;return Ql(t),a=Du(e,t,l,x,f,c),E=ku(),e!==null&&!ht?(Ru(e,t,c),Un(e,t,c)):(ze&&E&&hu(t),t.flags|=1,Ct(e,t,a,c),t.child)}function i0(e,t,l,a,c){if(e===null){var f=l.type;return typeof f=="function"&&!uu(f)&&f.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=f,o0(e,t,f,a,c)):(e=xo(l.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!rf(e,c)){var x=f.memoizedProps;if(l=l.compare,l=l!==null?l:Xr,l(x,a)&&e.ref===t.ref)return Un(e,t,c)}return t.flags|=1,e=Rn(f,a),e.ref=t.ref,e.return=t,t.child=e}function o0(e,t,l,a,c){if(e!==null){var f=e.memoizedProps;if(Xr(f,a)&&e.ref===t.ref)if(ht=!1,t.pendingProps=a=f,rf(e,c))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,Un(e,t,c)}return Ju(e,t,l,a,c)}function s0(e,t,l,a){var c=a.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|l:l,e!==null){for(a=t.child=e.child,c=0;a!==null;)c=c|a.lanes|a.childLanes,a=a.sibling;a=c&~f}else a=0,t.child=null;return c0(e,t,f,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wo(t,f!==null?f.cachePool:null),f!==null?fx(t,f):Ou(),dx(t);else return a=t.lanes=536870912,c0(e,t,f!==null?f.baseLanes|l:l,l,a)}else f!==null?(wo(t,f.cachePool),fx(t,f),gl(),t.memoizedState=null):(e!==null&&wo(t,null),Ou(),gl());return Ct(e,t,c,l),t.child}function ri(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function c0(e,t,l,a,c){var f=Su();return f=f===null?null:{parent:ft._currentValue,pool:f},t.memoizedState={baseLanes:l,cachePool:f},e!==null&&wo(t,null),Ou(),dx(t),e!==null&&Ba(e,t,a,!0),t.childLanes=c,null}function Vo(e,t){return t=Ho({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function u0(e,t,l){return Pl(t,e.child,null,l),e=Vo(t,t.pendingProps),e.flags|=2,Qt(t),t.memoizedState=null,e}function RO(e,t,l){var a=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(a.mode==="hidden")return e=Vo(t,a),t.lanes=536870912,ri(null,e);if(Tu(t),(e=Je)?(e=Sy(e,on),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sl!==null?{id:En,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},l=Wg(e),l.return=t,t.child=l,Nt=t,Je=null)):e=null,e===null)throw ul(t);return t.lanes=536870912,null}return Vo(t,a)}var f=e.memoizedState;if(f!==null){var x=f.dehydrated;if(Tu(t),c)if(t.flags&256)t.flags&=-257,t=u0(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(ht||Ba(e,t,l,!1),c=(l&e.childLanes)!==0,ht||c){if(a=Ke,a!==null&&(x=eg(a,l),x!==0&&x!==f.retryLane))throw f.retryLane=x,Gl(e,x),It(a,e,x),Fu;Zo(),t=u0(e,t,l)}else e=f.treeContext,Je=cn(x.nextSibling),Nt=t,ze=!0,cl=null,on=!1,e!==null&&Kg(t,e),t=Vo(t,a),t.flags|=4096;return t}return e=Rn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Bo(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Ju(e,t,l,a,c){return Ql(t),l=Du(e,t,l,a,void 0,c),a=ku(),e!==null&&!ht?(Ru(e,t,c),Un(e,t,c)):(ze&&a&&hu(t),t.flags|=1,Ct(e,t,l,c),t.child)}function f0(e,t,l,a,c,f){return Ql(t),t.updateQueue=null,l=px(t,a,l,c),hx(e),a=ku(),e!==null&&!ht?(Ru(e,t,f),Un(e,t,f)):(ze&&a&&hu(t),t.flags|=1,Ct(e,t,l,f),t.child)}function d0(e,t,l,a,c){if(Ql(t),t.stateNode===null){var f=Ra,x=l.contextType;typeof x=="object"&&x!==null&&(f=jt(x)),f=new l(a,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qu,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=a,f.state=t.memoizedState,f.refs={},Nu(t),x=l.contextType,f.context=typeof x=="object"&&x!==null?jt(x):Ra,f.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Zu(t,l,x,a),f.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&Qu.enqueueReplaceState(f,f.state,null),ei(t,a,f,c),Pr(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){f=t.stateNode;var E=t.memoizedProps,_=ta(l,E);f.props=_;var Y=f.context,Z=l.contextType;x=Ra,typeof Z=="object"&&Z!==null&&(x=jt(Z));var ee=l.getDerivedStateFromProps;Z=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||Y!==x)&&Jx(t,f,a,x),dl=!1;var q=t.memoizedState;f.state=q,ei(t,a,f,c),Pr(),Y=t.memoizedState,E||q!==Y||dl?(typeof ee=="function"&&(Zu(t,l,ee,a),Y=t.memoizedState),(_=dl||Fx(t,l,_,a,q,Y,x))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Y),f.props=a,f.state=Y,f.context=x,a=_):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{f=t.stateNode,ju(e,t),x=t.memoizedProps,Z=ta(l,x),f.props=Z,ee=t.pendingProps,q=f.context,Y=l.contextType,_=Ra,typeof Y=="object"&&Y!==null&&(_=jt(Y)),E=l.getDerivedStateFromProps,(Y=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==ee||q!==_)&&Jx(t,f,a,_),dl=!1,q=t.memoizedState,f.state=q,ei(t,a,f,c),Pr();var W=t.memoizedState;x!==ee||q!==W||dl||e!==null&&e.dependencies!==null&&bo(e.dependencies)?(typeof E=="function"&&(Zu(t,l,E,a),W=t.memoizedState),(Z=dl||Fx(t,l,Z,a,q,W,_)||e!==null&&e.dependencies!==null&&bo(e.dependencies))?(Y||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,W,_),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,W,_)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=W),f.props=a,f.state=W,f.context=_,a=Z):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),a=!1)}return f=a,Bo(e,t),a=(t.flags&128)!==0,f||a?(f=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&a?(t.child=Pl(t,e.child,null,c),t.child=Pl(t,null,l,c)):Ct(e,t,l,c),t.memoizedState=f.state,e=t.child):e=Un(e,t,c),e}function h0(e,t,l,a){return Wl(),t.flags|=256,Ct(e,t,l,a),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(e){return{baseLanes:e,cachePool:nx()}}function tf(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Ft),e}function p0(e,t,l){var a=t.pendingProps,c=!1,f=(t.flags&128)!==0,x;if((x=f)||(x=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),x&&(c=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(c?ml(t):gl(),(e=Je)?(e=Sy(e,on),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sl!==null?{id:En,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},l=Wg(e),l.return=t,t.child=l,Nt=t,Je=null)):e=null,e===null)throw ul(t);return Bf(e)?t.lanes=32:t.lanes=536870912,null}var E=a.children;return a=a.fallback,c?(gl(),c=t.mode,E=Ho({mode:"hidden",children:E},c),a=$l(a,c,l,null),E.return=t,a.return=t,E.sibling=a,t.child=E,a=t.child,a.memoizedState=ef(l),a.childLanes=tf(e,x,l),t.memoizedState=Pu,ri(null,a)):(ml(t),nf(t,E))}var _=e.memoizedState;if(_!==null&&(E=_.dehydrated,E!==null)){if(f)t.flags&256?(ml(t),t.flags&=-257,t=lf(e,t,l)):t.memoizedState!==null?(gl(),t.child=e.child,t.flags|=128,t=null):(gl(),E=a.fallback,c=t.mode,a=Ho({mode:"visible",children:a.children},c),E=$l(E,c,l,null),E.flags|=2,a.return=t,E.return=t,a.sibling=E,t.child=a,Pl(t,e.child,null,l),a=t.child,a.memoizedState=ef(l),a.childLanes=tf(e,x,l),t.memoizedState=Pu,t=ri(null,a));else if(ml(t),Bf(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var Y=x.dgst;x=Y,a=Error(o(419)),a.stack="",a.digest=x,Wr({value:a,source:null,stack:null}),t=lf(e,t,l)}else if(ht||Ba(e,t,l,!1),x=(l&e.childLanes)!==0,ht||x){if(x=Ke,x!==null&&(a=eg(x,l),a!==0&&a!==_.retryLane))throw _.retryLane=a,Gl(e,a),It(x,e,a),Fu;Vf(E)||Zo(),t=lf(e,t,l)}else Vf(E)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Je=cn(E.nextSibling),Nt=t,ze=!0,cl=null,on=!1,e!==null&&Kg(t,e),t=nf(t,a.children),t.flags|=4096);return t}return c?(gl(),E=a.fallback,c=t.mode,_=e.child,Y=_.sibling,a=Rn(_,{mode:"hidden",children:a.children}),a.subtreeFlags=_.subtreeFlags&65011712,Y!==null?E=Rn(Y,E):(E=$l(E,c,l,null),E.flags|=2),E.return=t,a.return=t,a.sibling=E,t.child=a,ri(null,a),a=t.child,E=e.child.memoizedState,E===null?E=ef(l):(c=E.cachePool,c!==null?(_=ft._currentValue,c=c.parent!==_?{parent:_,pool:_}:c):c=nx(),E={baseLanes:E.baseLanes|l,cachePool:c}),a.memoizedState=E,a.childLanes=tf(e,x,l),t.memoizedState=Pu,ri(e.child,a)):(ml(t),l=e.child,e=l.sibling,l=Rn(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function nf(e,t){return t=Ho({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ho(e,t){return e=Wt(22,e,null,t),e.lanes=0,e}function lf(e,t,l){return Pl(t,e.child,null,l),e=nf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m0(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),yu(e.return,t,l)}function af(e,t,l,a,c,f){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:c,treeForkCount:f}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=a,x.tail=l,x.tailMode=c,x.treeForkCount=f)}function g0(e,t,l){var a=t.pendingProps,c=a.revealOrder,f=a.tail;a=a.children;var x=ot.current,E=(x&2)!==0;if(E?(x=x&1|2,t.flags|=128):x&=1,F(ot,x),Ct(e,t,a,l),a=ze?$r:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&m0(e,l,t);else if(e.tag===19)m0(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(l=t.child,c=null;l!==null;)e=l.alternate,e!==null&&Ao(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=t.child,t.child=null):(c=l.sibling,l.sibling=null),af(t,!1,c,l,f,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ao(e)===null){t.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}af(t,!0,l,null,f,a);break;case"together":af(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Un(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),bl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ba(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Rn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Rn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function rf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&bo(e)))}function zO(e,t,l){switch(t.tag){case 3:Ye(t,t.stateNode.containerInfo),fl(t,ft,e.memoizedState.cache),Wl();break;case 27:case 5:we(t);break;case 4:Ye(t,t.stateNode.containerInfo);break;case 10:fl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ml(t),t.flags|=128,null):(l&t.child.childLanes)!==0?p0(e,t,l):(ml(t),e=Un(e,t,l),e!==null?e.sibling:null);ml(t);break;case 19:var c=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ba(e,t,l,!1),a=(l&t.childLanes)!==0),c){if(a)return g0(e,t,l);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(ot,ot.current),a)break;return null;case 22:return t.lanes=0,s0(e,t,l,t.pendingProps);case 24:fl(t,ft,e.memoizedState.cache)}return Un(e,t,l)}function x0(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!rf(e,l)&&(t.flags&128)===0)return ht=!1,zO(e,t,l);ht=(e.flags&131072)!==0}else ht=!1,ze&&(t.flags&1048576)!==0&&Qg(t,$r,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Fl(t.elementType),t.type=e,typeof e=="function")uu(e)?(a=ta(e,a),t.tag=1,t=d0(null,t,e,a,l)):(t.tag=0,t=Ju(null,t,e,a,l));else{if(e!=null){var c=e.$$typeof;if(c===$){t.tag=11,t=r0(null,t,e,a,l);break e}else if(c===H){t.tag=14,t=i0(null,t,e,a,l);break e}}throw t=ue(e)||e,Error(o(306,t,""))}}return t;case 0:return Ju(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,c=ta(a,t.pendingProps),d0(e,t,a,c,l);case 3:e:{if(Ye(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var f=t.memoizedState;c=f.element,ju(e,t),ei(t,a,null,l);var x=t.memoizedState;if(a=x.cache,fl(t,ft,a),a!==f.cache&&bu(t,[ft],l,!0),Pr(),a=x.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=h0(e,t,a,l);break e}else if(a!==c){c=ln(Error(o(424)),t),Wr(c),t=h0(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Je=cn(e.firstChild),Nt=t,ze=!0,cl=null,on=!0,l=sx(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Wl(),a===c){t=Un(e,t,l);break e}Ct(e,t,a,l)}t=t.child}return t;case 26:return Bo(e,t),e===null?(l=Oy(t.type,null,t.pendingProps,null))?t.memoizedState=l:ze||(l=t.type,e=t.pendingProps,a=ts(ye.current).createElement(l),a[Et]=t,a[zt]=e,At(a,l,e),vt(a),t.stateNode=a):t.memoizedState=Oy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&ze&&(a=t.stateNode=jy(t.type,t.pendingProps,ye.current),Nt=t,on=!0,c=Je,Nl(t.type)?(Hf=c,Je=cn(a.firstChild)):Je=c),Ct(e,t,t.pendingProps.children,l),Bo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((c=a=Je)&&(a=f_(a,t.type,t.pendingProps,on),a!==null?(t.stateNode=a,Nt=t,Je=cn(a.firstChild),on=!1,c=!0):c=!1),c||ul(t)),we(t),c=t.type,f=t.pendingProps,x=e!==null?e.memoizedProps:null,a=f.children,Rf(c,f)?a=null:x!==null&&Rf(c,x)&&(t.flags|=32),t.memoizedState!==null&&(c=Du(e,t,CO,null,null,l),vi._currentValue=c),Bo(e,t),Ct(e,t,a,l),t.child;case 6:return e===null&&ze&&((e=l=Je)&&(l=d_(l,t.pendingProps,on),l!==null?(t.stateNode=l,Nt=t,Je=null,e=!0):e=!1),e||ul(t)),null;case 13:return p0(e,t,l);case 4:return Ye(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Pl(t,null,a,l):Ct(e,t,a,l),t.child;case 11:return r0(e,t,t.type,t.pendingProps,l);case 7:return Ct(e,t,t.pendingProps,l),t.child;case 8:return Ct(e,t,t.pendingProps.children,l),t.child;case 12:return Ct(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,fl(t,t.type,a.value),Ct(e,t,a.children,l),t.child;case 9:return c=t.type._context,a=t.pendingProps.children,Ql(t),c=jt(c),a=a(c),t.flags|=1,Ct(e,t,a,l),t.child;case 14:return i0(e,t,t.type,t.pendingProps,l);case 15:return o0(e,t,t.type,t.pendingProps,l);case 19:return g0(e,t,l);case 31:return RO(e,t,l);case 22:return s0(e,t,l,t.pendingProps);case 24:return Ql(t),a=jt(ft),e===null?(c=Su(),c===null&&(c=Ke,f=vu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=l),c=f),t.memoizedState={parent:a,cache:c},Nu(t),fl(t,ft,c)):((e.lanes&l)!==0&&(ju(e,t),ei(t,null,null,l),Pr()),c=e.memoizedState,f=t.memoizedState,c.parent!==a?(c={parent:a,cache:a},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),fl(t,ft,a)):(a=f.cache,fl(t,ft,a),a!==c.cache&&bu(t,[ft],l,!0))),Ct(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function In(e){e.flags|=4}function of(e,t,l,a,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(X0())e.flags|=8192;else throw Jl=Eo,Eu}else e.flags&=-16777217}function y0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ky(t))if(X0())e.flags|=8192;else throw Jl=Eo,Eu}function Uo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fm():536870912,e.lanes|=t,Ka|=t)}function ii(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function LO(e,t,l){var a=t.pendingProps;switch(pu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Vn(ft),ne(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Va(t)?In(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gu())),Pe(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(In(t),f!==null?(Pe(t),y0(t,f)):(Pe(t),of(t,c,null,a,l))):f?f!==e.memoizedState?(In(t),Pe(t),y0(t,f)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&In(t),Pe(t),of(t,c,e,a,l)),null;case 27:if(Re(t),l=ye.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&In(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}e=ae.current,Va(t)?Fg(t):(e=jy(c,a,l),t.stateNode=e,In(t))}return Pe(t),null;case 5:if(Re(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&In(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}if(f=ae.current,Va(t))Fg(t);else{var x=ts(ye.current);switch(f){case 1:f=x.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=x.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=x.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof a.is=="string"?x.createElement("select",{is:a.is}):x.createElement("select"),a.multiple?f.multiple=!0:a.size&&(f.size=a.size);break;default:f=typeof a.is=="string"?x.createElement(c,{is:a.is}):x.createElement(c)}}f[Et]=t,f[zt]=a;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=f;e:switch(At(f,c,a),c){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&In(t)}}return Pe(t),of(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&In(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=ye.current,Va(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,c=Nt,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}e[Et]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||py(e.nodeValue,l)),e||ul(t,!0)}else e=ts(e).createTextNode(a),e[Et]=t,t.stateNode=e}return Pe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Va(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Et]=t}else Wl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else l=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Qt(t),t):(Qt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Pe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Va(t),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Et]=t}else Wl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),c=!1}else c=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Uo(t,t.updateQueue),Pe(t),null);case 4:return ne(),e===null&&_f(t.stateNode.containerInfo),Pe(t),null;case 10:return Vn(t.type),Pe(t),null;case 19:if(z(ot),a=t.memoizedState,a===null)return Pe(t),null;if(c=(t.flags&128)!==0,f=a.rendering,f===null)if(c)ii(a,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Ao(e),f!==null){for(t.flags|=128,ii(a,!1),e=f.updateQueue,t.updateQueue=e,Uo(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)$g(l,e),l=l.sibling;return F(ot,ot.current&1|2),ze&&zn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Le()>Go&&(t.flags|=128,c=!0,ii(a,!1),t.lanes=4194304)}else{if(!c)if(e=Ao(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Uo(t,e),ii(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!ze)return Pe(t),null}else 2*Le()-a.renderingStartTime>Go&&l!==536870912&&(t.flags|=128,c=!0,ii(a,!1),t.lanes=4194304);a.isBackwards?(f.sibling=t.child,t.child=f):(e=a.last,e!==null?e.sibling=f:t.child=f,a.last=f)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Le(),e.sibling=null,l=ot.current,F(ot,c?l&1|2:l&1),ze&&zn(t,a.treeForkCount),e):(Pe(t),null);case 22:case 23:return Qt(t),_u(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),l=t.updateQueue,l!==null&&Uo(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&z(Kl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Vn(ft),Pe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function VO(e,t){switch(pu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vn(ft),ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Re(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(o(340));Wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(ot),null;case 4:return ne(),null;case 10:return Vn(t.type),null;case 22:case 23:return Qt(t),_u(),e!==null&&z(Kl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vn(ft),null;case 25:return null;default:return null}}function b0(e,t){switch(pu(t),t.tag){case 3:Vn(ft),ne();break;case 26:case 27:case 5:Re(t);break;case 4:ne();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:z(ot);break;case 10:Vn(t.type);break;case 22:case 23:Qt(t),_u(),e!==null&&z(Kl);break;case 24:Vn(ft)}}function oi(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var c=a.next;l=c;do{if((l.tag&e)===e){a=void 0;var f=l.create,x=l.inst;a=f(),x.destroy=a}l=l.next}while(l!==c)}}catch(E){$e(t,t.return,E)}}function xl(e,t,l){try{var a=t.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&e)===e){var x=a.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,c=t;var _=l,Y=E;try{Y()}catch(Z){$e(c,_,Z)}}}a=a.next}while(a!==f)}}catch(Z){$e(t,t.return,Z)}}function v0(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{ux(t,l)}catch(a){$e(e,e.return,a)}}}function w0(e,t,l){l.props=ta(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){$e(e,t,a)}}function si(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(c){$e(e,t,c)}}function jn(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(c){$e(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){$e(e,t,c)}else l.current=null}function S0(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(c){$e(e,e.return,c)}}function sf(e,t,l){try{var a=e.stateNode;r_(a,e.type,l,t),a[zt]=t}catch(c){$e(e,e.return,c)}}function E0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nl(e.type)||e.tag===4}function cf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uf(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Dn));else if(a!==4&&(a===27&&Nl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(uf(e,t,l),e=e.sibling;e!==null;)uf(e,t,l),e=e.sibling}function Io(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Nl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Io(e,t,l),e=e.sibling;e!==null;)Io(e,t,l),e=e.sibling}function N0(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);At(t,a,l),t[Et]=e,t[zt]=l}catch(f){$e(e,e.return,f)}}var Yn=!1,pt=!1,ff=!1,j0=typeof WeakSet=="function"?WeakSet:Set,wt=null;function BO(e,t){if(e=e.containerInfo,Df=ss,e=Vg(e),lu(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break e}var x=0,E=-1,_=-1,Y=0,Z=0,ee=e,q=null;t:for(;;){for(var W;ee!==l||c!==0&&ee.nodeType!==3||(E=x+c),ee!==f||a!==0&&ee.nodeType!==3||(_=x+a),ee.nodeType===3&&(x+=ee.nodeValue.length),(W=ee.firstChild)!==null;)q=ee,ee=W;for(;;){if(ee===e)break t;if(q===l&&++Y===c&&(E=x),q===f&&++Z===a&&(_=x),(W=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=W}l=E===-1||_===-1?null:{start:E,end:_}}else l=null}l=l||{start:0,end:0}}else l=null;for(kf={focusedElem:e,selectionRange:l},ss=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){switch(t=wt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)c=e[l],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,l=t,c=f.memoizedProps,f=f.memoizedState,a=l.stateNode;try{var he=ta(l.type,c);e=a.getSnapshotBeforeUpdate(he,f),a.__reactInternalSnapshotBeforeUpdate=e}catch(ve){$e(l,l.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Lf(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Lf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}}function C0(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Xn(e,l),a&4&&oi(5,l);break;case 1:if(Xn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){$e(l,l.return,x)}else{var c=ta(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){$e(l,l.return,x)}}a&64&&v0(l),a&512&&si(l,l.return);break;case 3:if(Xn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{ux(e,t)}catch(x){$e(l,l.return,x)}}break;case 27:t===null&&a&4&&N0(l);case 26:case 5:Xn(e,l),t===null&&a&4&&S0(l),a&512&&si(l,l.return);break;case 12:Xn(e,l);break;case 31:Xn(e,l),a&4&&_0(e,l);break;case 13:Xn(e,l),a&4&&T0(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=WO.bind(null,l),h_(e,l))));break;case 22:if(a=l.memoizedState!==null||Yn,!a){t=t!==null&&t.memoizedState!==null||pt,c=Yn;var f=pt;Yn=a,(pt=t)&&!f?Gn(e,l,(l.subtreeFlags&8772)!==0):Xn(e,l),Yn=c,pt=f}break;case 30:break;default:Xn(e,l)}}function A0(e){var t=e.alternate;t!==null&&(e.alternate=null,A0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Uc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,Vt=!1;function qn(e,t,l){for(l=l.child;l!==null;)O0(e,t,l),l=l.sibling}function O0(e,t,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Ne,l)}catch{}switch(l.tag){case 26:pt||jn(l,t),qn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pt||jn(l,t);var a=et,c=Vt;Nl(l.type)&&(et=l.stateNode,Vt=!1),qn(e,t,l),xi(l.stateNode),et=a,Vt=c;break;case 5:pt||jn(l,t);case 6:if(a=et,c=Vt,et=null,qn(e,t,l),et=a,Vt=c,et!==null)if(Vt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(l.stateNode)}catch(f){$e(l,t,f)}else try{et.removeChild(l.stateNode)}catch(f){$e(l,t,f)}break;case 18:et!==null&&(Vt?(e=et,vy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ar(e)):vy(et,l.stateNode));break;case 4:a=et,c=Vt,et=l.stateNode.containerInfo,Vt=!0,qn(e,t,l),et=a,Vt=c;break;case 0:case 11:case 14:case 15:xl(2,l,t),pt||xl(4,l,t),qn(e,t,l);break;case 1:pt||(jn(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&w0(l,t,a)),qn(e,t,l);break;case 21:qn(e,t,l);break;case 22:pt=(a=pt)||l.memoizedState!==null,qn(e,t,l),pt=a;break;default:qn(e,t,l)}}function _0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ar(e)}catch(l){$e(t,t.return,l)}}}function T0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ar(e)}catch(l){$e(t,t.return,l)}}function HO(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new j0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new j0),t;default:throw Error(o(435,e.tag))}}function Yo(e,t){var l=HO(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var c=ZO.bind(null,e,a);a.then(c,c)}})}function Bt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var c=l[a],f=e,x=t,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Nl(E.type)){et=E.stateNode,Vt=!1;break e}break;case 5:et=E.stateNode,Vt=!1;break e;case 3:case 4:et=E.stateNode.containerInfo,Vt=!0;break e}E=E.return}if(et===null)throw Error(o(160));O0(f,x,c),et=null,Vt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)M0(t,e),t=t.sibling}var hn=null;function M0(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bt(t,e),Ht(e),a&4&&(xl(3,e,e.return),oi(3,e),xl(5,e,e.return));break;case 1:Bt(t,e),Ht(e),a&512&&(pt||l===null||jn(l,l.return)),a&64&&Yn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var c=hn;if(Bt(t,e),Ht(e),a&512&&(pt||l===null||jn(l,l.return)),a&4){var f=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,c=c.ownerDocument||c;t:switch(a){case"title":f=c.getElementsByTagName("title")[0],(!f||f[zr]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(a),c.head.insertBefore(f,c.querySelector("head > title"))),At(f,a,l),f[Et]=e,vt(f),a=f;break e;case"link":var x=My("link","href",c).get(a+(l.href||""));if(x){for(var E=0;E<x.length;E++)if(f=x[E],f.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&f.getAttribute("rel")===(l.rel==null?null:l.rel)&&f.getAttribute("title")===(l.title==null?null:l.title)&&f.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(E,1);break t}}f=c.createElement(a),At(f,a,l),c.head.appendChild(f);break;case"meta":if(x=My("meta","content",c).get(a+(l.content||""))){for(E=0;E<x.length;E++)if(f=x[E],f.getAttribute("content")===(l.content==null?null:""+l.content)&&f.getAttribute("name")===(l.name==null?null:l.name)&&f.getAttribute("property")===(l.property==null?null:l.property)&&f.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&f.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(E,1);break t}}f=c.createElement(a),At(f,a,l),c.head.appendChild(f);break;default:throw Error(o(468,a))}f[Et]=e,vt(f),a=f}e.stateNode=a}else Dy(c,e.type,e.stateNode);else e.stateNode=Ty(c,a,e.memoizedProps);else f!==a?(f===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):f.count--,a===null?Dy(c,e.type,e.stateNode):Ty(c,a,e.memoizedProps)):a===null&&e.stateNode!==null&&sf(e,e.memoizedProps,l.memoizedProps)}break;case 27:Bt(t,e),Ht(e),a&512&&(pt||l===null||jn(l,l.return)),l!==null&&a&4&&sf(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Bt(t,e),Ht(e),a&512&&(pt||l===null||jn(l,l.return)),e.flags&32){c=e.stateNode;try{Aa(c,"")}catch(he){$e(e,e.return,he)}}a&4&&e.stateNode!=null&&(c=e.memoizedProps,sf(e,c,l!==null?l.memoizedProps:c)),a&1024&&(ff=!0);break;case 6:if(Bt(t,e),Ht(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(he){$e(e,e.return,he)}}break;case 3:if(as=null,c=hn,hn=ns(t.containerInfo),Bt(t,e),hn=c,Ht(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{ar(t.containerInfo)}catch(he){$e(e,e.return,he)}ff&&(ff=!1,D0(e));break;case 4:a=hn,hn=ns(e.stateNode.containerInfo),Bt(t,e),Ht(e),hn=a;break;case 12:Bt(t,e),Ht(e);break;case 31:Bt(t,e),Ht(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yo(e,a)));break;case 13:Bt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xo=Le()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yo(e,a)));break;case 22:c=e.memoizedState!==null;var _=l!==null&&l.memoizedState!==null,Y=Yn,Z=pt;if(Yn=Y||c,pt=Z||_,Bt(t,e),pt=Z,Yn=Y,Ht(e),a&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(l===null||_||Yn||pt||na(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){_=l=t;try{if(f=_.stateNode,c)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=_.stateNode;var ee=_.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){$e(_,_.return,he)}}}else if(t.tag===6){if(l===null){_=t;try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(he){$e(_,_.return,he)}}}else if(t.tag===18){if(l===null){_=t;try{var W=_.stateNode;c?wy(W,!0):wy(_.stateNode,!1)}catch(he){$e(_,_.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Yo(e,l))));break;case 19:Bt(t,e),Ht(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Yo(e,a)));break;case 30:break;case 21:break;default:Bt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(E0(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var c=l.stateNode,f=cf(e);Io(e,f,c);break;case 5:var x=l.stateNode;l.flags&32&&(Aa(x,""),l.flags&=-33);var E=cf(e);Io(e,E,x);break;case 3:case 4:var _=l.stateNode.containerInfo,Y=cf(e);uf(e,Y,_);break;default:throw Error(o(161))}}catch(Z){$e(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;D0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)C0(e,t.alternate,t),t=t.sibling}function na(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xl(4,t,t.return),na(t);break;case 1:jn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&w0(t,t.return,l),na(t);break;case 27:xi(t.stateNode);case 26:case 5:jn(t,t.return),na(t);break;case 22:t.memoizedState===null&&na(t);break;case 30:na(t);break;default:na(t)}e=e.sibling}}function Gn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,c=e,f=t,x=f.flags;switch(f.tag){case 0:case 11:case 15:Gn(c,f,l),oi(4,f);break;case 1:if(Gn(c,f,l),a=f,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Y){$e(a,a.return,Y)}if(a=f,c=a.updateQueue,c!==null){var E=a.stateNode;try{var _=c.shared.hiddenCallbacks;if(_!==null)for(c.shared.hiddenCallbacks=null,c=0;c<_.length;c++)cx(_[c],E)}catch(Y){$e(a,a.return,Y)}}l&&x&64&&v0(f),si(f,f.return);break;case 27:N0(f);case 26:case 5:Gn(c,f,l),l&&a===null&&x&4&&S0(f),si(f,f.return);break;case 12:Gn(c,f,l);break;case 31:Gn(c,f,l),l&&x&4&&_0(c,f);break;case 13:Gn(c,f,l),l&&x&4&&T0(c,f);break;case 22:f.memoizedState===null&&Gn(c,f,l),si(f,f.return);break;case 30:break;default:Gn(c,f,l)}t=t.sibling}}function df(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Zr(l))}function hf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zr(e))}function pn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)k0(e,t,l,a),t=t.sibling}function k0(e,t,l,a){var c=t.flags;switch(t.tag){case 0:case 11:case 15:pn(e,t,l,a),c&2048&&oi(9,t);break;case 1:pn(e,t,l,a);break;case 3:pn(e,t,l,a),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zr(e)));break;case 12:if(c&2048){pn(e,t,l,a),e=t.stateNode;try{var f=t.memoizedProps,x=f.id,E=f.onPostCommit;typeof E=="function"&&E(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){$e(t,t.return,_)}}else pn(e,t,l,a);break;case 31:pn(e,t,l,a);break;case 13:pn(e,t,l,a);break;case 23:break;case 22:f=t.stateNode,x=t.alternate,t.memoizedState!==null?f._visibility&2?pn(e,t,l,a):ci(e,t):f._visibility&2?pn(e,t,l,a):(f._visibility|=2,Wa(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),c&2048&&df(x,t);break;case 24:pn(e,t,l,a),c&2048&&hf(t.alternate,t);break;default:pn(e,t,l,a)}}function Wa(e,t,l,a,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,x=t,E=l,_=a,Y=x.flags;switch(x.tag){case 0:case 11:case 15:Wa(f,x,E,_,c),oi(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&2?Wa(f,x,E,_,c):ci(f,x):(Z._visibility|=2,Wa(f,x,E,_,c)),c&&Y&2048&&df(x.alternate,x);break;case 24:Wa(f,x,E,_,c),c&&Y&2048&&hf(x.alternate,x);break;default:Wa(f,x,E,_,c)}t=t.sibling}}function ci(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,c=a.flags;switch(a.tag){case 22:ci(l,a),c&2048&&df(a.alternate,a);break;case 24:ci(l,a),c&2048&&hf(a.alternate,a);break;default:ci(l,a)}t=t.sibling}}var ui=8192;function Za(e,t,l){if(e.subtreeFlags&ui)for(e=e.child;e!==null;)R0(e,t,l),e=e.sibling}function R0(e,t,l){switch(e.tag){case 26:Za(e,t,l),e.flags&ui&&e.memoizedState!==null&&j_(l,hn,e.memoizedState,e.memoizedProps);break;case 5:Za(e,t,l);break;case 3:case 4:var a=hn;hn=ns(e.stateNode.containerInfo),Za(e,t,l),hn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=ui,ui=16777216,Za(e,t,l),ui=a):Za(e,t,l));break;default:Za(e,t,l)}}function z0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];wt=a,V0(a,e)}z0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)L0(e),e=e.sibling}function L0(e){switch(e.tag){case 0:case 11:case 15:fi(e),e.flags&2048&&xl(9,e,e.return);break;case 3:fi(e);break;case 12:fi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qo(e)):fi(e);break;default:fi(e)}}function qo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];wt=a,V0(a,e)}z0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xl(8,t,t.return),qo(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,qo(t));break;default:qo(t)}e=e.sibling}}function V0(e,t){for(;wt!==null;){var l=wt;switch(l.tag){case 0:case 11:case 15:xl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Zr(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,wt=a;else e:for(l=e;wt!==null;){a=wt;var c=a.sibling,f=a.return;if(A0(a),a===l){wt=null;break e}if(c!==null){c.return=f,wt=c;break e}wt=f}}}var UO={getCacheForType:function(e){var t=jt(ft),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return jt(ft).controller.signal}},IO=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ke=null,Te=null,De=0,Ge=0,Kt=null,yl=!1,Qa=!1,pf=!1,$n=0,at=0,bl=0,la=0,mf=0,Ft=0,Ka=0,di=null,Ut=null,gf=!1,Xo=0,B0=0,Go=1/0,$o=null,vl=null,yt=0,wl=null,Fa=null,Wn=0,xf=0,yf=null,H0=null,hi=0,bf=null;function Jt(){return(Ie&2)!==0&&De!==0?De&-De:k.T!==null?jf():tg()}function U0(){if(Ft===0)if((De&536870912)===0||ze){var e=Hl;Hl<<=1,(Hl&3932160)===0&&(Hl=262144),Ft=e}else Ft=536870912;return e=Zt.current,e!==null&&(e.flags|=32),Ft}function It(e,t,l){(e===Ke&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),Sl(e,De,Ft,!1)),Rr(e,l),((Ie&2)===0||e!==Ke)&&(e===Ke&&((Ie&2)===0&&(la|=l),at===4&&Sl(e,De,Ft,!1)),Cn(e))}function I0(e,t,l){if((Ie&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||kr(e,t),c=a?XO(e,t):wf(e,t,!0),f=a;do{if(c===0){Qa&&!a&&Sl(e,t,0,!1);break}else{if(l=e.current.alternate,f&&!YO(l)){c=wf(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var E=e;c=di;var _=E.current.memoizedState.isDehydrated;if(_&&(Ja(E,x).flags|=256),x=wf(E,x,!1),x!==2){if(pf&&!_){E.errorRecoveryDisabledLanes|=f,la|=f,c=4;break e}f=Ut,Ut=c,f!==null&&(Ut===null?Ut=f:Ut.push.apply(Ut,f))}c=x}if(f=!1,c!==2)continue}}if(c===1){Ja(e,0),Sl(e,t,0,!0);break}e:{switch(a=e,f=c,f){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Sl(a,t,Ft,!yl);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Xo+300-Le(),10<c)){if(Sl(a,t,Ft,!yl),to(a,0,!0)!==0)break e;Wn=t,a.timeoutHandle=yy(Y0.bind(null,a,l,Ut,$o,gf,t,Ft,la,Ka,yl,f,"Throttled",-0,0),c);break e}Y0(a,l,Ut,$o,gf,t,Ft,la,Ka,yl,f,null,-0,0)}}break}while(!0);Cn(e)}function Y0(e,t,l,a,c,f,x,E,_,Y,Z,ee,q,W){if(e.timeoutHandle=-1,ee=t.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},R0(t,f,ee);var he=(f&62914560)===f?Xo-Le():(f&4194048)===f?B0-Le():0;if(he=C_(ee,he),he!==null){Wn=f,e.cancelPendingCommit=he(K0.bind(null,e,t,f,l,a,c,x,E,_,Z,ee,null,q,W)),Sl(e,f,x,!Y);return}}K0(e,t,f,l,a,c,x,E,_)}function YO(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var c=l[a],f=c.getSnapshot;c=c.value;try{if(!$t(f(),c))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sl(e,t,l,a){t&=~mf,t&=~la,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var c=t;0<c;){var f=31-tt(c),x=1<<f;a[f]=-1,c&=~x}l!==0&&Jm(e,l,t)}function Wo(){return(Ie&6)===0?(pi(0),!1):!0}function vf(){if(Te!==null){if(Ge===0)var e=Te.return;else e=Te,Ln=Zl=null,zu(e),Ya=null,Kr=0,e=Te;for(;e!==null;)b0(e.alternate,e),e=e.return;Te=null}}function Ja(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,s_(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Wn=0,vf(),Ke=e,Te=l=Rn(e.current,null),De=t,Ge=0,Kt=null,yl=!1,Qa=kr(e,t),pf=!1,Ka=Ft=mf=la=bl=at=0,Ut=di=null,gf=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var c=31-tt(a),f=1<<c;t|=e[c],a&=~f}return $n=t,po(),l}function q0(e,t){je=null,k.H=ai,t===Ia||t===So?(t=rx(),Ge=3):t===Eu?(t=rx(),Ge=4):Ge=t===Fu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Kt=t,Te===null&&(at=1,Lo(e,ln(t,e.current)))}function X0(){var e=Zt.current;return e===null?!0:(De&4194048)===De?sn===null:(De&62914560)===De||(De&536870912)!==0?e===sn:!1}function G0(){var e=k.H;return k.H=ai,e===null?ai:e}function $0(){var e=k.A;return k.A=UO,e}function Zo(){at=4,yl||(De&4194048)!==De&&Zt.current!==null||(Qa=!0),(bl&134217727)===0&&(la&134217727)===0||Ke===null||Sl(Ke,De,Ft,!1)}function wf(e,t,l){var a=Ie;Ie|=2;var c=G0(),f=$0();(Ke!==e||De!==t)&&($o=null,Ja(e,t)),t=!1;var x=at;e:do try{if(Ge!==0&&Te!==null){var E=Te,_=Kt;switch(Ge){case 8:vf(),x=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(t=!0);var Y=Ge;if(Ge=0,Kt=null,Pa(e,E,_,Y),l&&Qa){x=0;break e}break;default:Y=Ge,Ge=0,Kt=null,Pa(e,E,_,Y)}}qO(),x=at;break}catch(Z){q0(e,Z)}while(!0);return t&&e.shellSuspendCounter++,Ln=Zl=null,Ie=a,k.H=c,k.A=f,Te===null&&(Ke=null,De=0,po()),x}function qO(){for(;Te!==null;)W0(Te)}function XO(e,t){var l=Ie;Ie|=2;var a=G0(),c=$0();Ke!==e||De!==t?($o=null,Go=Le()+500,Ja(e,t)):Qa=kr(e,t);e:do try{if(Ge!==0&&Te!==null){t=Te;var f=Kt;t:switch(Ge){case 1:Ge=0,Kt=null,Pa(e,t,f,1);break;case 2:case 9:if(lx(f)){Ge=0,Kt=null,Z0(t);break}t=function(){Ge!==2&&Ge!==9||Ke!==e||(Ge=7),Cn(e)},f.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:lx(f)?(Ge=0,Kt=null,Z0(t)):(Ge=0,Kt=null,Pa(e,t,f,7));break;case 5:var x=null;switch(Te.tag){case 26:x=Te.memoizedState;case 5:case 27:var E=Te;if(x?ky(x):E.stateNode.complete){Ge=0,Kt=null;var _=E.sibling;if(_!==null)Te=_;else{var Y=E.return;Y!==null?(Te=Y,Qo(Y)):Te=null}break t}}Ge=0,Kt=null,Pa(e,t,f,5);break;case 6:Ge=0,Kt=null,Pa(e,t,f,6);break;case 8:vf(),at=6;break e;default:throw Error(o(462))}}GO();break}catch(Z){q0(e,Z)}while(!0);return Ln=Zl=null,k.H=a,k.A=c,Ie=l,Te!==null?0:(Ke=null,De=0,po(),at)}function GO(){for(;Te!==null&&!qe();)W0(Te)}function W0(e){var t=x0(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?Qo(e):Te=t}function Z0(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=f0(l,t,t.pendingProps,t.type,void 0,De);break;case 11:t=f0(l,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:zu(t);default:b0(l,t),t=Te=$g(t,$n),t=x0(l,t,$n)}e.memoizedProps=e.pendingProps,t===null?Qo(e):Te=t}function Pa(e,t,l,a){Ln=Zl=null,zu(t),Ya=null,Kr=0;var c=t.return;try{if(kO(e,c,t,l,De)){at=1,Lo(e,ln(l,e.current)),Te=null;return}}catch(f){if(c!==null)throw Te=c,f;at=1,Lo(e,ln(l,e.current)),Te=null;return}t.flags&32768?(ze||a===1?e=!0:Qa||(De&536870912)!==0?e=!1:(yl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Q0(t,e)):Qo(t)}function Qo(e){var t=e;do{if((t.flags&32768)!==0){Q0(t,yl);return}e=t.return;var l=LO(t.alternate,t,$n);if(l!==null){Te=l;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);at===0&&(at=5)}function Q0(e,t){do{var l=VO(e.alternate,e);if(l!==null){l.flags&=32767,Te=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=l}while(e!==null);at=6,Te=null}function K0(e,t,l,a,c,f,x,E,_){e.cancelPendingCommit=null;do Ko();while(yt!==0);if((Ie&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(f=t.lanes|t.childLanes,f|=su,NA(e,l,f,x,E,_),e===Ke&&(Te=Ke=null,De=0),Fa=t,wl=e,Wn=l,xf=f,yf=c,H0=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QO(rl,function(){return ty(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=k.T,k.T=null,c=G.p,G.p=2,x=Ie,Ie|=4;try{BO(e,t,l)}finally{Ie=x,G.p=c,k.T=a}}yt=1,F0(),J0(),P0()}}function F0(){if(yt===1){yt=0;var e=wl,t=Fa,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var a=G.p;G.p=2;var c=Ie;Ie|=4;try{M0(t,e);var f=kf,x=Vg(e.containerInfo),E=f.focusedElem,_=f.selectionRange;if(x!==E&&E&&E.ownerDocument&&Lg(E.ownerDocument.documentElement,E)){if(_!==null&&lu(E)){var Y=_.start,Z=_.end;if(Z===void 0&&(Z=Y),"selectionStart"in E)E.selectionStart=Y,E.selectionEnd=Math.min(Z,E.value.length);else{var ee=E.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var W=q.getSelection(),he=E.textContent.length,ve=Math.min(_.start,he),Qe=_.end===void 0?ve:Math.min(_.end,he);!W.extend&&ve>Qe&&(x=Qe,Qe=ve,ve=x);var L=zg(E,ve),T=zg(E,Qe);if(L&&T&&(W.rangeCount!==1||W.anchorNode!==L.node||W.anchorOffset!==L.offset||W.focusNode!==T.node||W.focusOffset!==T.offset)){var I=ee.createRange();I.setStart(L.node,L.offset),W.removeAllRanges(),ve>Qe?(W.addRange(I),W.extend(T.node,T.offset)):(I.setEnd(T.node,T.offset),W.addRange(I))}}}}for(ee=[],W=E;W=W.parentNode;)W.nodeType===1&&ee.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ee.length;E++){var J=ee[E];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ss=!!Df,kf=Df=null}finally{Ie=c,G.p=a,k.T=l}}e.current=t,yt=2}}function J0(){if(yt===2){yt=0;var e=wl,t=Fa,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var a=G.p;G.p=2;var c=Ie;Ie|=4;try{C0(e,t.alternate,t)}finally{Ie=c,G.p=a,k.T=l}}yt=3}}function P0(){if(yt===4||yt===3){yt=0,Fe();var e=wl,t=Fa,l=Wn,a=H0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?yt=5:(yt=0,Fa=wl=null,ey(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(vl=null),Bc(l),t=t.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Ne,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=k.T,c=G.p,G.p=2,k.T=null;try{for(var f=e.onRecoverableError,x=0;x<a.length;x++){var E=a[x];f(E.value,{componentStack:E.stack})}}finally{k.T=t,G.p=c}}(Wn&3)!==0&&Ko(),Cn(e),c=e.pendingLanes,(l&261930)!==0&&(c&42)!==0?e===bf?hi++:(hi=0,bf=e):hi=0,pi(0)}}function ey(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zr(t)))}function Ko(){return F0(),J0(),P0(),ty()}function ty(){if(yt!==5)return!1;var e=wl,t=xf;xf=0;var l=Bc(Wn),a=k.T,c=G.p;try{G.p=32>l?32:l,k.T=null,l=yf,yf=null;var f=wl,x=Wn;if(yt=0,Fa=wl=null,Wn=0,(Ie&6)!==0)throw Error(o(331));var E=Ie;if(Ie|=4,L0(f.current),k0(f,f.current,x,l),Ie=E,pi(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Ne,f)}catch{}return!0}finally{G.p=c,k.T=a,ey(e,t)}}function ny(e,t,l){t=ln(l,t),t=Ku(e.stateNode,t,2),e=pl(e,t,2),e!==null&&(Rr(e,2),Cn(e))}function $e(e,t,l){if(e.tag===3)ny(e,e,l);else for(;t!==null;){if(t.tag===3){ny(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(vl===null||!vl.has(a))){e=ln(l,e),l=l0(2),a=pl(t,l,2),a!==null&&(a0(l,a,t,e),Rr(a,2),Cn(a));break}}t=t.return}}function Sf(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new IO;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(l)||(pf=!0,c.add(l),e=$O.bind(null,e,t,l),t.then(e,e))}function $O(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ke===e&&(De&l)===l&&(at===4||at===3&&(De&62914560)===De&&300>Le()-Xo?(Ie&2)===0&&Ja(e,0):mf|=l,Ka===De&&(Ka=0)),Cn(e)}function ly(e,t){t===0&&(t=Fm()),e=Gl(e,t),e!==null&&(Rr(e,t),Cn(e))}function WO(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ly(e,l)}function ZO(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),ly(e,l)}function QO(e,t){return se(e,t)}var Fo=null,er=null,Ef=!1,Jo=!1,Nf=!1,El=0;function Cn(e){e!==er&&e.next===null&&(er===null?Fo=er=e:er=er.next=e),Jo=!0,Ef||(Ef=!0,FO())}function pi(e,t){if(!Nf&&Jo){Nf=!0;do for(var l=!1,a=Fo;a!==null;){if(e!==0){var c=a.pendingLanes;if(c===0)var f=0;else{var x=a.suspendedLanes,E=a.pingedLanes;f=(1<<31-tt(42|e)+1)-1,f&=c&~(x&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(l=!0,oy(a,f))}else f=De,f=to(a,a===Ke?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||kr(a,f)||(l=!0,oy(a,f));a=a.next}while(l);Nf=!1}}function KO(){ay()}function ay(){Jo=Ef=!1;var e=0;El!==0&&o_()&&(e=El);for(var t=Le(),l=null,a=Fo;a!==null;){var c=a.next,f=ry(a,t);f===0?(a.next=null,l===null?Fo=c:l.next=c,c===null&&(er=l)):(l=a,(e!==0||(f&3)!==0)&&(Jo=!0)),a=c}yt!==0&&yt!==5||pi(e),El!==0&&(El=0)}function ry(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var x=31-tt(f),E=1<<x,_=c[x];_===-1?((E&l)===0||(E&a)!==0)&&(c[x]=EA(E,t)):_<=t&&(e.expiredLanes|=E),f&=~E}if(t=Ke,l=De,l=to(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Se(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||kr(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Se(a),Bc(l)){case 2:case 8:l=al;break;case 32:l=rl;break;case 268435456:l=ba;break;default:l=rl}return a=iy.bind(null,e),l=se(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Se(a),e.callbackPriority=2,e.callbackNode=null,2}function iy(e,t){if(yt!==0&&yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ko()&&e.callbackNode!==l)return null;var a=De;return a=to(e,e===Ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(I0(e,a,t),ry(e,Le()),e.callbackNode!=null&&e.callbackNode===l?iy.bind(null,e):null)}function oy(e,t){if(Ko())return null;I0(e,t,!0)}function FO(){c_(function(){(Ie&6)!==0?se(ll,KO):ay()})}function jf(){if(El===0){var e=Ha;e===0&&(e=Bl,Bl<<=1,(Bl&261888)===0&&(Bl=256)),El=e}return El}function sy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ro(""+e)}function cy(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function JO(e,t,l,a,c){if(t==="submit"&&l&&l.stateNode===c){var f=sy((c[zt]||null).action),x=a.submitter;x&&(t=(t=x[zt]||null)?sy(t.formAction):x.getAttribute("formAction"),t!==null&&(f=t,x=null));var E=new co("action","action",null,a,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(El!==0){var _=x?cy(c,x):new FormData(c);Xu(l,{pending:!0,data:_,method:c.method,action:f},null,_)}}else typeof f=="function"&&(E.preventDefault(),_=x?cy(c,x):new FormData(c),Xu(l,{pending:!0,data:_,method:c.method,action:f},f,_))},currentTarget:c}]})}}for(var Cf=0;Cf<ou.length;Cf++){var Af=ou[Cf],PO=Af.toLowerCase(),e_=Af[0].toUpperCase()+Af.slice(1);dn(PO,"on"+e_)}dn(Ug,"onAnimationEnd"),dn(Ig,"onAnimationIteration"),dn(Yg,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(gO,"onTransitionRun"),dn(xO,"onTransitionStart"),dn(yO,"onTransitionCancel"),dn(qg,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Il("onBeforeInput",["compositionend","keypress","textInput","paste"]),Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mi));function uy(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],c=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var x=a.length-1;0<=x;x--){var E=a[x],_=E.instance,Y=E.currentTarget;if(E=E.listener,_!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=Y;try{f(c)}catch(Z){ho(Z)}c.currentTarget=null,f=_}else for(x=0;x<a.length;x++){if(E=a[x],_=E.instance,Y=E.currentTarget,E=E.listener,_!==f&&c.isPropagationStopped())break e;f=E,c.currentTarget=Y;try{f(c)}catch(Z){ho(Z)}c.currentTarget=null,f=_}}}}function Me(e,t){var l=t[Hc];l===void 0&&(l=t[Hc]=new Set);var a=e+"__bubble";l.has(a)||(fy(t,e,2,!1),l.add(a))}function Of(e,t,l){var a=0;t&&(a|=4),fy(l,e,a,t)}var Po="_reactListening"+Math.random().toString(36).slice(2);function _f(e){if(!e[Po]){e[Po]=!0,ag.forEach(function(l){l!=="selectionchange"&&(t_.has(l)||Of(l,!1,e),Of(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Po]||(t[Po]=!0,Of("selectionchange",!1,t))}}function fy(e,t,l,a){switch(Uy(t)){case 2:var c=__;break;case 8:c=T_;break;default:c=Xf}l=c.bind(null,t,l,e),c=void 0,!Zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,l,{capture:!0,passive:c}):e.addEventListener(t,l,!0):c!==void 0?e.addEventListener(t,l,{passive:c}):e.addEventListener(t,l,!1)}function Tf(e,t,l,a,c){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var E=a.stateNode.containerInfo;if(E===c)break;if(x===4)for(x=a.return;x!==null;){var _=x.tag;if((_===3||_===4)&&x.stateNode.containerInfo===c)return;x=x.return}for(;E!==null;){if(x=Sa(E),x===null)return;if(_=x.tag,_===5||_===6||_===26||_===27){a=f=x;continue e}E=E.parentNode}}a=a.return}gg(function(){var Y=f,Z=$c(l),ee=[];e:{var q=Xg.get(e);if(q!==void 0){var W=co,he=e;switch(e){case"keypress":if(oo(l)===0)break e;case"keydown":case"keyup":W=ZA;break;case"focusin":he="focus",W=Jc;break;case"focusout":he="blur",W=Jc;break;case"beforeblur":case"afterblur":W=Jc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=LA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=FA;break;case Ug:case Ig:case Yg:W=HA;break;case qg:W=PA;break;case"scroll":case"scrollend":W=RA;break;case"wheel":W=tO;break;case"copy":case"cut":case"paste":W=IA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=wg;break;case"toggle":case"beforetoggle":W=lO}var ve=(t&4)!==0,Qe=!ve&&(e==="scroll"||e==="scrollend"),L=ve?q!==null?q+"Capture":null:q;ve=[];for(var T=Y,I;T!==null;){var J=T;if(I=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||I===null||L===null||(J=Vr(T,L),J!=null&&ve.push(gi(T,J,I))),Qe)break;T=T.return}0<ve.length&&(q=new W(q,he,null,l,Z),ee.push({event:q,listeners:ve}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",q&&l!==Gc&&(he=l.relatedTarget||l.fromElement)&&(Sa(he)||he[wa]))break e;if((W||q)&&(q=Z.window===Z?Z:(q=Z.ownerDocument)?q.defaultView||q.parentWindow:window,W?(he=l.relatedTarget||l.toElement,W=Y,he=he?Sa(he):null,he!==null&&(Qe=u(he),ve=he.tag,he!==Qe||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(W=null,he=Y),W!==he)){if(ve=bg,J="onMouseLeave",L="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ve=wg,J="onPointerLeave",L="onPointerEnter",T="pointer"),Qe=W==null?q:Lr(W),I=he==null?q:Lr(he),q=new ve(J,T+"leave",W,l,Z),q.target=Qe,q.relatedTarget=I,J=null,Sa(Z)===Y&&(ve=new ve(L,T+"enter",he,l,Z),ve.target=I,ve.relatedTarget=Qe,J=ve),Qe=J,W&&he)t:{for(ve=n_,L=W,T=he,I=0,J=L;J;J=ve(J))I++;J=0;for(var be=T;be;be=ve(be))J++;for(;0<I-J;)L=ve(L),I--;for(;0<J-I;)T=ve(T),J--;for(;I--;){if(L===T||T!==null&&L===T.alternate){ve=L;break t}L=ve(L),T=ve(T)}ve=null}else ve=null;W!==null&&dy(ee,q,W,ve,!1),he!==null&&Qe!==null&&dy(ee,Qe,he,ve,!0)}}e:{if(q=Y?Lr(Y):window,W=q.nodeName&&q.nodeName.toLowerCase(),W==="select"||W==="input"&&q.type==="file")var Be=_g;else if(Ag(q))if(Tg)Be=hO;else{Be=fO;var ge=uO}else W=q.nodeName,!W||W.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?Y&&Xc(Y.elementType)&&(Be=_g):Be=dO;if(Be&&(Be=Be(e,Y))){Og(ee,Be,l,Z);break e}ge&&ge(e,q,Y),e==="focusout"&&Y&&q.type==="number"&&Y.memoizedProps.value!=null&&qc(q,"number",q.value)}switch(ge=Y?Lr(Y):window,e){case"focusin":(Ag(ge)||ge.contentEditable==="true")&&(Ma=ge,au=Y,Gr=null);break;case"focusout":Gr=au=Ma=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,Bg(ee,l,Z);break;case"selectionchange":if(mO)break;case"keydown":case"keyup":Bg(ee,l,Z)}var Ce;if(eu)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ta?jg(e,l)&&(ke="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(Sg&&l.locale!=="ko"&&(Ta||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ta&&(Ce=xg()):(ol=Z,Qc="value"in ol?ol.value:ol.textContent,Ta=!0)),ge=es(Y,ke),0<ge.length&&(ke=new vg(ke,e,null,l,Z),ee.push({event:ke,listeners:ge}),Ce?ke.data=Ce:(Ce=Cg(l),Ce!==null&&(ke.data=Ce)))),(Ce=rO?iO(e,l):oO(e,l))&&(ke=es(Y,"onBeforeInput"),0<ke.length&&(ge=new vg("onBeforeInput","beforeinput",null,l,Z),ee.push({event:ge,listeners:ke}),ge.data=Ce)),JO(ee,e,Y,l,Z)}uy(ee,t)})}function gi(e,t,l){return{instance:e,listener:t,currentTarget:l}}function es(e,t){for(var l=t+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Vr(e,l),c!=null&&a.unshift(gi(e,c,f)),c=Vr(e,t),c!=null&&a.push(gi(e,c,f))),e.tag===3)return a;e=e.return}return[]}function n_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dy(e,t,l,a,c){for(var f=t._reactName,x=[];l!==null&&l!==a;){var E=l,_=E.alternate,Y=E.stateNode;if(E=E.tag,_!==null&&_===a)break;E!==5&&E!==26&&E!==27||Y===null||(_=Y,c?(Y=Vr(l,f),Y!=null&&x.unshift(gi(l,Y,_))):c||(Y=Vr(l,f),Y!=null&&x.push(gi(l,Y,_)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var l_=/\r\n?/g,a_=/\u0000|\uFFFD/g;function hy(e){return(typeof e=="string"?e:""+e).replace(l_,`
`).replace(a_,"")}function py(e,t){return t=hy(t),hy(e)===t}function Ze(e,t,l,a,c,f){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Aa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Aa(e,""+a);break;case"className":lo(e,"class",a);break;case"tabIndex":lo(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":lo(e,l,a);break;case"style":pg(e,a,f);break;case"data":if(t!=="object"){lo(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ro(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(l==="formAction"?(t!=="input"&&Ze(e,t,"name",c.name,c,null),Ze(e,t,"formEncType",c.formEncType,c,null),Ze(e,t,"formMethod",c.formMethod,c,null),Ze(e,t,"formTarget",c.formTarget,c,null)):(Ze(e,t,"encType",c.encType,c,null),Ze(e,t,"method",c.method,c,null),Ze(e,t,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ro(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Dn);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=ro(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Me("beforetoggle",e),Me("toggle",e),no(e,"popover",a);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":no(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=DA.get(l)||l,no(e,l,a))}}function Mf(e,t,l,a,c,f){switch(l){case"style":pg(e,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Aa(e,a):(typeof a=="number"||typeof a=="bigint")&&Aa(e,""+a);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rg.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),t=l.slice(2,c?l.length-7:void 0),f=e[zt]||null,f=f!=null?f[l]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof a=="function")){typeof f!="function"&&f!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,c);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):no(e,l,a)}}}function At(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var a=!1,c=!1,f;for(f in l)if(l.hasOwnProperty(f)){var x=l[f];if(x!=null)switch(f){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,f,x,l,null)}}c&&Ze(e,t,"srcSet",l.srcSet,l,null),a&&Ze(e,t,"src",l.src,l,null);return;case"input":Me("invalid",e);var E=f=x=c=null,_=null,Y=null;for(a in l)if(l.hasOwnProperty(a)){var Z=l[a];if(Z!=null)switch(a){case"name":c=Z;break;case"type":x=Z;break;case"checked":_=Z;break;case"defaultChecked":Y=Z;break;case"value":f=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,t));break;default:Ze(e,t,a,Z,l,null)}}ug(e,f,E,_,Y,x,c,!1);return;case"select":Me("invalid",e),a=x=f=null;for(c in l)if(l.hasOwnProperty(c)&&(E=l[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":x=E;break;case"multiple":a=E;default:Ze(e,t,c,E,l,null)}t=f,l=x,e.multiple=!!a,t!=null?Ca(e,!!a,t,!1):l!=null&&Ca(e,!!a,l,!0);return;case"textarea":Me("invalid",e),f=c=a=null;for(x in l)if(l.hasOwnProperty(x)&&(E=l[x],E!=null))switch(x){case"value":a=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(o(91));break;default:Ze(e,t,x,E,l,null)}dg(e,a,c,f);return;case"option":for(_ in l)l.hasOwnProperty(_)&&(a=l[_],a!=null)&&(_==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Ze(e,t,_,a,l,null));return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(a=0;a<mi.length;a++)Me(mi[a],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(a=l[Y],a!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,Y,a,l,null)}return;default:if(Xc(t)){for(Z in l)l.hasOwnProperty(Z)&&(a=l[Z],a!==void 0&&Mf(e,t,Z,a,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(a=l[E],a!=null&&Ze(e,t,E,a,l,null))}function r_(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,x=null,E=null,_=null,Y=null,Z=null;for(W in l){var ee=l[W];if(l.hasOwnProperty(W)&&ee!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":_=ee;default:a.hasOwnProperty(W)||Ze(e,t,W,null,a,ee)}}for(var q in a){var W=a[q];if(ee=l[q],a.hasOwnProperty(q)&&(W!=null||ee!=null))switch(q){case"type":f=W;break;case"name":c=W;break;case"checked":Y=W;break;case"defaultChecked":Z=W;break;case"value":x=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,t));break;default:W!==ee&&Ze(e,t,q,W,a,ee)}}Yc(e,x,E,_,Y,Z,f,c);return;case"select":W=x=E=q=null;for(f in l)if(_=l[f],l.hasOwnProperty(f)&&_!=null)switch(f){case"value":break;case"multiple":W=_;default:a.hasOwnProperty(f)||Ze(e,t,f,null,a,_)}for(c in a)if(f=a[c],_=l[c],a.hasOwnProperty(c)&&(f!=null||_!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":x=f;default:f!==_&&Ze(e,t,c,f,a,_)}t=E,l=x,a=W,q!=null?Ca(e,!!l,q,!1):!!a!=!!l&&(t!=null?Ca(e,!!l,t,!0):Ca(e,!!l,l?[]:"",!1));return;case"textarea":W=q=null;for(E in l)if(c=l[E],l.hasOwnProperty(E)&&c!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ze(e,t,E,null,a,c)}for(x in a)if(c=a[x],f=l[x],a.hasOwnProperty(x)&&(c!=null||f!=null))switch(x){case"value":q=c;break;case"defaultValue":W=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==f&&Ze(e,t,x,c,a,f)}fg(e,q,W);return;case"option":for(var he in l)q=l[he],l.hasOwnProperty(he)&&q!=null&&!a.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:Ze(e,t,he,null,a,q));for(_ in a)q=a[_],W=l[_],a.hasOwnProperty(_)&&q!==W&&(q!=null||W!=null)&&(_==="selected"?e.selected=q&&typeof q!="function"&&typeof q!="symbol":Ze(e,t,_,q,a,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)q=l[ve],l.hasOwnProperty(ve)&&q!=null&&!a.hasOwnProperty(ve)&&Ze(e,t,ve,null,a,q);for(Y in a)if(q=a[Y],W=l[Y],a.hasOwnProperty(Y)&&q!==W&&(q!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:Ze(e,t,Y,q,a,W)}return;default:if(Xc(t)){for(var Qe in l)q=l[Qe],l.hasOwnProperty(Qe)&&q!==void 0&&!a.hasOwnProperty(Qe)&&Mf(e,t,Qe,void 0,a,q);for(Z in a)q=a[Z],W=l[Z],!a.hasOwnProperty(Z)||q===W||q===void 0&&W===void 0||Mf(e,t,Z,q,a,W);return}}for(var L in l)q=l[L],l.hasOwnProperty(L)&&q!=null&&!a.hasOwnProperty(L)&&Ze(e,t,L,null,a,q);for(ee in a)q=a[ee],W=l[ee],!a.hasOwnProperty(ee)||q===W||q==null&&W==null||Ze(e,t,ee,q,a,W)}function my(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var c=l[a],f=c.transferSize,x=c.initiatorType,E=c.duration;if(f&&E&&my(x)){for(x=0,E=c.responseEnd,a+=1;a<l.length;a++){var _=l[a],Y=_.startTime;if(Y>E)break;var Z=_.transferSize,ee=_.initiatorType;Z&&my(ee)&&(_=_.responseEnd,x+=Z*(_<E?1:(E-Y)/(_-Y)))}if(--a,t+=8*(f+x)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Df=null,kf=null;function ts(e){return e.nodeType===9?e:e.ownerDocument}function gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zf=null;function o_(){var e=window.event;return e&&e.type==="popstate"?e===zf?!1:(zf=e,!0):(zf=null,!1)}var yy=typeof setTimeout=="function"?setTimeout:void 0,s_=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,c_=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(u_)}:yy;function u_(e){setTimeout(function(){throw e})}function Nl(e){return e==="head"}function vy(e,t){var l=t,a=0;do{var c=l.nextSibling;if(e.removeChild(l),c&&c.nodeType===8)if(l=c.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(c),ar(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")xi(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,xi(l);for(var f=l.firstChild;f;){var x=f.nextSibling,E=f.nodeName;f[zr]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||l.removeChild(f),f=x}}else l==="body"&&xi(e.ownerDocument.body);l=c}while(l);ar(t)}function wy(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Lf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Lf(l),Uc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function f_(e,t,l,a){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[zr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function d_(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=cn(e.nextSibling),e===null))return null;return e}function Sy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=cn(e.nextSibling),e===null))return null;return e}function Vf(e){return e.data==="$?"||e.data==="$~"}function Bf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function h_(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Hf=null;function Ey(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return cn(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Ny(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function jy(e,t,l){switch(t=ts(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function xi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Uc(e)}var un=new Map,Cy=new Set;function ns(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=G.d;G.d={f:p_,r:m_,D:g_,C:x_,L:y_,m:b_,X:w_,S:v_,M:S_};function p_(){var e=Zn.f(),t=Wo();return e||t}function m_(e){var t=Ea(e);t!==null&&t.tag===5&&t.type==="form"?qx(t):Zn.r(e)}var tr=typeof document>"u"?null:document;function Ay(e,t,l){var a=tr;if(a&&typeof t=="string"&&t){var c=tn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),Cy.has(c)||(Cy.add(c),e={rel:e,crossOrigin:l,href:t},a.querySelector(c)===null&&(t=a.createElement("link"),At(t,"link",e),vt(t),a.head.appendChild(t)))}}function g_(e){Zn.D(e),Ay("dns-prefetch",e,null)}function x_(e,t){Zn.C(e,t),Ay("preconnect",e,t)}function y_(e,t,l){Zn.L(e,t,l);var a=tr;if(a&&e&&t){var c='link[rel="preload"][as="'+tn(t)+'"]';t==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+tn(l.imageSizes)+'"]')):c+='[href="'+tn(e)+'"]';var f=c;switch(t){case"style":f=nr(e);break;case"script":f=lr(e)}un.has(f)||(e=b({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),un.set(f,e),a.querySelector(c)!==null||t==="style"&&a.querySelector(yi(f))||t==="script"&&a.querySelector(bi(f))||(t=a.createElement("link"),At(t,"link",e),vt(t),a.head.appendChild(t)))}}function b_(e,t){Zn.m(e,t);var l=tr;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+tn(a)+'"][href="'+tn(e)+'"]',f=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=lr(e)}if(!un.has(f)&&(e=b({rel:"modulepreload",href:e},t),un.set(f,e),l.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bi(f)))return}a=l.createElement("link"),At(a,"link",e),vt(a),l.head.appendChild(a)}}}function v_(e,t,l){Zn.S(e,t,l);var a=tr;if(a&&e){var c=Na(a).hoistableStyles,f=nr(e);t=t||"default";var x=c.get(f);if(!x){var E={loading:0,preload:null};if(x=a.querySelector(yi(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},l),(l=un.get(f))&&Uf(e,l);var _=x=a.createElement("link");vt(_),At(_,"link",e),_._p=new Promise(function(Y,Z){_.onload=Y,_.onerror=Z}),_.addEventListener("load",function(){E.loading|=1}),_.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ls(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:E},c.set(f,x)}}}function w_(e,t){Zn.X(e,t);var l=tr;if(l&&e){var a=Na(l).hoistableScripts,c=lr(e),f=a.get(c);f||(f=l.querySelector(bi(c)),f||(e=b({src:e,async:!0},t),(t=un.get(c))&&If(e,t),f=l.createElement("script"),vt(f),At(f,"link",e),l.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(c,f))}}function S_(e,t){Zn.M(e,t);var l=tr;if(l&&e){var a=Na(l).hoistableScripts,c=lr(e),f=a.get(c);f||(f=l.querySelector(bi(c)),f||(e=b({src:e,async:!0,type:"module"},t),(t=un.get(c))&&If(e,t),f=l.createElement("script"),vt(f),At(f,"link",e),l.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(c,f))}}function Oy(e,t,l,a){var c=(c=ye.current)?ns(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=nr(l.href),l=Na(c).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=nr(l.href);var f=Na(c).hoistableStyles,x=f.get(e);if(x||(c=c.ownerDocument||c,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,x),(f=c.querySelector(yi(e)))&&!f._p&&(x.instance=f,x.state.loading=5),un.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},un.set(e,l),f||E_(c,e,l,x.state))),t&&a===null)throw Error(o(528,""));return x}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=lr(l),l=Na(c).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function nr(e){return'href="'+tn(e)+'"'}function yi(e){return'link[rel="stylesheet"]['+e+"]"}function _y(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function E_(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),At(t,"link",l),vt(t),e.head.appendChild(t))}function lr(e){return'[src="'+tn(e)+'"]'}function bi(e){return"script[async]"+e}function Ty(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+tn(l.href)+'"]');if(a)return t.instance=a,vt(a),a;var c=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),vt(a),At(a,"style",c),ls(a,l.precedence,e),t.instance=a;case"stylesheet":c=nr(l.href);var f=e.querySelector(yi(c));if(f)return t.state.loading|=4,t.instance=f,vt(f),f;a=_y(l),(c=un.get(c))&&Uf(a,c),f=(e.ownerDocument||e).createElement("link"),vt(f);var x=f;return x._p=new Promise(function(E,_){x.onload=E,x.onerror=_}),At(f,"link",a),t.state.loading|=4,ls(f,l.precedence,e),t.instance=f;case"script":return f=lr(l.src),(c=e.querySelector(bi(f)))?(t.instance=c,vt(c),c):(a=l,(c=un.get(f))&&(a=b({},l),If(a,c)),e=e.ownerDocument||e,c=e.createElement("script"),vt(c),At(c,"link",a),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ls(a,l.precedence,e));return t.instance}function ls(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,f=c,x=0;x<a.length;x++){var E=a[x];if(E.dataset.precedence===t)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Uf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function If(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var as=null;function My(e,t,l){if(as===null){var a=new Map,c=as=new Map;c.set(l,a)}else c=as,a=c.get(l),a||(a=new Map,c.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var f=l[c];if(!(f[zr]||f[Et]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(t)||"";x=e+x;var E=a.get(x);E?E.push(f):a.set(x,[f])}}return a}function Dy(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function N_(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function j_(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var c=nr(a.href),f=t.querySelector(yi(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=rs.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=f,vt(f);return}f=t.ownerDocument||t,a=_y(a),(c=un.get(c))&&Uf(a,c),f=f.createElement("link"),vt(f);var x=f;x._p=new Promise(function(E,_){x.onload=E,x.onerror=_}),At(f,"link",a),l.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=rs.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Yf=0;function C_(e,t){return e.stylesheets&&e.count===0&&os(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&os(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Yf===0&&(Yf=62500*i_());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&os(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Yf?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(c)}}:null}function rs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)os(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var is=null;function os(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,is=new Map,t.forEach(A_,e),is=null,rs.call(e))}function A_(e,t){if(!(t.state.loading&4)){var l=is.get(e);if(l)var a=l.get(null);else{l=new Map,is.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var x=c[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),a=x)}a&&l.set(null,a)}c=t.instance,x=c.getAttribute("data-precedence"),f=l.get(x)||a,f===a&&l.set(null,c),l.set(x,c),this.count++,a=rs.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var vi={$$typeof:X,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function O_(e,t,l,a,c,f,x,E,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.hiddenUpdates=Lc(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ry(e,t,l,a,c,f,x,E,_,Y,Z,ee){return e=new O_(e,t,l,x,_,Y,Z,ee,E),t=1,f===!0&&(t|=24),f=Wt(3,null,null,t),e.current=f,f.stateNode=e,t=vu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:a,isDehydrated:l,cache:t},Nu(f),e}function zy(e){return e?(e=Ra,e):Ra}function Ly(e,t,l,a,c,f){c=zy(c),a.context===null?a.context=c:a.pendingContext=c,a=hl(t),a.payload={element:l},f=f===void 0?null:f,f!==null&&(a.callback=f),l=pl(e,a,t),l!==null&&(It(l,e,t),Jr(l,e,t))}function Vy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function qf(e,t){Vy(e,t),(e=e.alternate)&&Vy(e,t)}function By(e){if(e.tag===13||e.tag===31){var t=Gl(e,67108864);t!==null&&It(t,e,67108864),qf(e,67108864)}}function Hy(e){if(e.tag===13||e.tag===31){var t=Jt();t=Vc(t);var l=Gl(e,t);l!==null&&It(l,e,t),qf(e,t)}}var ss=!0;function __(e,t,l,a){var c=k.T;k.T=null;var f=G.p;try{G.p=2,Xf(e,t,l,a)}finally{G.p=f,k.T=c}}function T_(e,t,l,a){var c=k.T;k.T=null;var f=G.p;try{G.p=8,Xf(e,t,l,a)}finally{G.p=f,k.T=c}}function Xf(e,t,l,a){if(ss){var c=Gf(a);if(c===null)Tf(e,t,a,cs,l),Iy(e,a);else if(D_(c,e,t,l,a))a.stopPropagation();else if(Iy(e,a),t&4&&-1<M_.indexOf(e)){for(;c!==null;){var f=Ea(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=Ul(f.pendingLanes);if(x!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var _=1<<31-tt(x);E.entanglements[1]|=_,x&=~_}Cn(f),(Ie&6)===0&&(Go=Le()+500,pi(0))}}break;case 31:case 13:E=Gl(f,2),E!==null&&It(E,f,2),Wo(),qf(f,2)}if(f=Gf(a),f===null&&Tf(e,t,a,cs,l),f===c)break;c=f}c!==null&&a.stopPropagation()}else Tf(e,t,a,null,l)}}function Gf(e){return e=$c(e),$f(e)}var cs=null;function $f(e){if(cs=null,e=Sa(e),e!==null){var t=u(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=d(t),e!==null)return e;e=null}else if(l===31){if(e=p(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cs=e,null}function Uy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case ll:return 2;case al:return 8;case rl:case Mr:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Wf=!1,jl=null,Cl=null,Al=null,wi=new Map,Si=new Map,Ol=[],M_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iy(e,t){switch(e){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(t.pointerId)}}function Ei(e,t,l,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Ea(t),t!==null&&By(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function D_(e,t,l,a,c){switch(t){case"focusin":return jl=Ei(jl,e,t,l,a,c),!0;case"dragenter":return Cl=Ei(Cl,e,t,l,a,c),!0;case"mouseover":return Al=Ei(Al,e,t,l,a,c),!0;case"pointerover":var f=c.pointerId;return wi.set(f,Ei(wi.get(f)||null,e,t,l,a,c)),!0;case"gotpointercapture":return f=c.pointerId,Si.set(f,Ei(Si.get(f)||null,e,t,l,a,c)),!0}return!1}function Yy(e){var t=Sa(e.target);if(t!==null){var l=u(t);if(l!==null){if(t=l.tag,t===13){if(t=d(l),t!==null){e.blockedOn=t,ng(e.priority,function(){Hy(l)});return}}else if(t===31){if(t=p(l),t!==null){e.blockedOn=t,ng(e.priority,function(){Hy(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Gf(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Gc=a,l.target.dispatchEvent(a),Gc=null}else return t=Ea(l),t!==null&&By(t),e.blockedOn=l,!1;t.shift()}return!0}function qy(e,t,l){us(e)&&l.delete(t)}function k_(){Wf=!1,jl!==null&&us(jl)&&(jl=null),Cl!==null&&us(Cl)&&(Cl=null),Al!==null&&us(Al)&&(Al=null),wi.forEach(qy),Si.forEach(qy)}function fs(e,t){e.blockedOn===t&&(e.blockedOn=null,Wf||(Wf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,k_)))}var ds=null;function Xy(e){ds!==e&&(ds=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ds===e&&(ds=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],c=e[t+2];if(typeof a!="function"){if($f(a||l)===null)continue;break}var f=Ea(l);f!==null&&(e.splice(t,3),t-=3,Xu(f,{pending:!0,data:c,method:l.method,action:a},a,c))}}))}function ar(e){function t(_){return fs(_,e)}jl!==null&&fs(jl,e),Cl!==null&&fs(Cl,e),Al!==null&&fs(Al,e),wi.forEach(t),Si.forEach(t);for(var l=0;l<Ol.length;l++){var a=Ol[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ol.length&&(l=Ol[0],l.blockedOn===null);)Yy(l),l.blockedOn===null&&Ol.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var c=l[a],f=l[a+1],x=c[zt]||null;if(typeof f=="function")x||Xy(l);else if(x){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,x=f[zt]||null)E=x.formAction;else if($f(c)!==null)continue}else E=x.action;typeof E=="function"?l[a+1]=E:(l.splice(a,3),a-=3),Xy(l)}}}function Gy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(x){return c=x})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Zf(e){this._internalRoot=e}hs.prototype.render=Zf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Jt();Ly(l,a,e,t,null,null)},hs.prototype.unmount=Zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ly(e.current,2,null,e,null,null),Wo(),t[wa]=null}};function hs(e){this._internalRoot=e}hs.prototype.unstable_scheduleHydration=function(e){if(e){var t=tg();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ol.length&&t!==0&&t<Ol[l].priority;l++);Ol.splice(l,0,e),l===0&&Yy(e)}};var $y=r.version;if($y!=="19.2.3")throw Error(o(527,$y,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var R_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{Ne=ps.inject(R_),Xe=ps}catch{}}return Tr.createRoot=function(e,t){if(!s(e))throw Error(o(299));var l=!1,a="",c=Px,f=e0,x=t0;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=Ry(e,1,!1,null,null,l,a,null,c,f,x,Gy),e[wa]=t.current,_f(e),new Zf(t)},Tr.hydrateRoot=function(e,t,l){if(!s(e))throw Error(o(299));var a=!1,c="",f=Px,x=e0,E=t0,_=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(f=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(_=l.formState)),t=Ry(e,1,!0,t,l??null,a,c,_,f,x,E,Gy),t.context=zy(null),l=t.current,a=Jt(),a=Vc(a),c=hl(a),c.callback=null,pl(l,c,a),l=a,t.current.lanes=l,Rr(t,l),Cn(t),e[wa]=t.current,_f(e),new hs(t)},Tr.version="19.2.3",Tr}var Gm;function uA(){if(Gm)return Dc.exports;Gm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Dc.exports=cA(),Dc.exports}var fA=uA();const ya=new Map;let dA=0;function hA(){return`lexflow-vanilla-${++dA}-${Date.now().toString(36)}`}function pA(n){if(!n)throw new Error("Container is required");if(typeof n=="string"){const r=document.querySelector(n);if(!r)throw new Error(`Container not found: ${n}`);return r}return n}function mA(n,r={}){const i=pA(n),o=hA(),s=D.createRef(),u=fA.createRoot(i);return u.render(D.createElement(Mc,{...r,instanceId:o,ref:s})),ya.set(o,{root:u,editorRef:s,container:i,instanceId:o}),{getSource:()=>s.current?.getSource()??"",setSource:p=>{s.current?.setSource(p)},execute:async p=>s.current?s.current.execute(p):{success:!1,error:"Editor not initialized"},setTheme:p=>{s.current?.setTheme(p)},getTheme:()=>"dark",toggleCodeEditor:()=>{s.current?.toggleCodeEditor()},togglePalette:()=>{s.current?.togglePalette()},toggleExecutionPanel:()=>{s.current?.toggleExecutionPanel()},destroy:()=>{const p=ya.get(o);p&&(p.root.unmount(),ya.delete(o))}}}function gA(){for(const[n,r]of ya)r.root.unmount(),ya.delete(n)}function xA(){return ya.size}const yA=50,$m=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`;function Wm(n){const{initialSource:r}=n;return(i,o)=>({source:r??$m,setSource:(s,u=!0)=>{const d=o();if(u&&s!==d.source){const p=d.history.slice(0,d.historyIndex+1);p.push(s),p.length>yA&&p.shift(),i({source:s,history:p,historyIndex:p.length-1,canUndo:p.length>1,canRedo:!1})}else i({source:s})},history:[r??$m],historyIndex:0,canUndo:!1,canRedo:!1,undo:()=>{const s=o();if(s.historyIndex>0){const u=s.historyIndex-1;i({source:s.history[u],historyIndex:u,canUndo:u>0,canRedo:!0})}},redo:()=>{const s=o();if(s.historyIndex<s.history.length-1){const u=s.historyIndex+1;i({source:s.history[u],historyIndex:u,canUndo:!0,canRedo:u<s.history.length-1})}},tree:null,parseError:null,isParsing:!1,setTree:s=>i({tree:s,parseError:null}),setParseError:s=>i({parseError:s,tree:null}),setIsParsing:s=>i({isParsing:s}),deleteNode:s=>{const u=o(),d=Ai(u.source,s);return d.success&&u.setSource(d.source),d.success},addNode:(s,u="main")=>{const d=o(),p=Ed(d.source,s,u);return p.nodeId&&d.setSource(p.source),p.nodeId},addWorkflowCallNode:(s,u,d="main")=>{const p=o(),m=As(p.source,s,u,d);return m.nodeId&&p.setSource(m.source),m.nodeId},duplicateNode:s=>{const u=o(),d=Nd(u.source,s);return d.nodeId&&u.setSource(d.source),d.nodeId},updateNodeInput:(s,u,d)=>{const p=o(),m=jd(p.source,s,u,d);return m.success&&p.setSource(m.source),m.success},connectNodes:(s,u)=>{const d=o(),p=or(d.source,s,u);return p.success&&d.setSource(p.source),p.success},connectBranch:(s,u,d)=>{const p=o(),m=Cd(p.source,s,u,d);return m.success&&p.setSource(m.source),m.success},disconnectNode:s=>{const u=o(),d=Oi(u.source,s);return d.success&&u.setSource(d.source),d.success},disconnectConnection:(s,u,d)=>{const p=o(),m=Ad(p.source,s,u,d);return m.success&&p.setSource(m.source),m.success},convertOrphanToReporter:(s,u,d)=>{const p=o(),m=Od(p.source,s,u,d);return m.success&&p.setSource(m.source),m.success},updateReporterInput:(s,u,d)=>s?o().updateNodeInput(s,u,d):!1,deleteReporter:(s,u)=>{const d=o(),p=_d(d.source,s,u);return p.success&&d.setSource(p.source),p.success},updateWorkflowInterface:(s,u,d)=>{const p=o(),m=Td(p.source,s,u,d);return m.success&&p.setSource(m.source),m.success},addVariable:(s,u,d)=>{const p=o(),m=Md(p.source,s,u,d);return m.success&&p.setSource(m.source),m.success},updateVariable:(s,u,d,p)=>{const m=o(),g=Dd(m.source,s,u,d,p);return g.success&&m.setSource(g.source),g.success},deleteVariable:(s,u)=>{const d=o(),p=kd(d.source,s,u);return p.success&&d.setSource(p.source),p.success},addDynamicBranch:(s,u)=>{const d=o(),p=Rd(d.source,s,u);return p.success&&d.setSource(p.source),p.success},removeDynamicBranch:(s,u)=>{const d=o(),p=zd(d.source,s,u);return p.success&&d.setSource(p.source),p.success},addDynamicInput:(s,u)=>{const d=o(),p=Ld(d.source,s,u);return p.success&&d.setSource(p.source),p.success},removeDynamicInput:(s,u)=>{const d=o(),p=Vd(d.source,s,u);return p.success&&d.setSource(p.source),p.success},examples:[],setExamples:s=>i({examples:s}),opcodes:[],setOpcodes:s=>i({opcodes:s}),isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,workflowInputs:{},pendingPrompt:null,renderedContent:[],alerts:[],progress:null,setIsExecuting:s=>i({isExecuting:s}),setExecutionOutput:s=>i({executionOutput:s}),appendExecutionOutput:s=>i(u=>({executionOutput:u.executionOutput+s})),setExecutionResult:s=>i({executionResult:s}),setExecutionError:s=>i({executionError:s}),clearExecution:()=>i({executionOutput:"",executionResult:null,executionError:null,pendingPrompt:null,renderedContent:[],alerts:[],progress:null}),setWorkflowInput:(s,u)=>i(d=>({workflowInputs:{...d.workflowInputs,[s]:u}})),clearWorkflowInputs:()=>i({workflowInputs:{}}),setPendingPrompt:s=>i({pendingPrompt:s}),addRenderedContent:s=>i(u=>({renderedContent:[...u.renderedContent,s]})),clearRenderedContent:()=>i({renderedContent:[]}),addAlert:s=>i(u=>({alerts:[...u.alerts,{...s,id:crypto.randomUUID()}]})),removeAlert:s=>i(u=>({alerts:u.alerts.filter(d=>d.id!==s)})),setProgress:s=>i({progress:s}),zoom:1,panX:0,panY:0,isDraggingWorkflow:!1,setZoom:s=>i({zoom:Math.max(.25,Math.min(2,s))}),setPan:(s,u)=>i({panX:s,panY:u}),resetView:()=>i({zoom:1,panX:0,panY:0}),setIsDraggingWorkflow:s=>i({isDraggingWorkflow:s}),isEditorOpen:!1,isNodeEditorOpen:!1,isPaletteOpen:!1,isExecutionPanelOpen:!0,toggleEditor:()=>i(s=>({isEditorOpen:!s.isEditorOpen})),toggleNodeEditor:()=>i(s=>({isNodeEditorOpen:!s.isNodeEditorOpen})),togglePalette:()=>i(s=>({isPaletteOpen:!s.isPaletteOpen})),toggleExecutionPanel:()=>i(s=>({isExecutionPanelOpen:!s.isExecutionPanelOpen})),openNodeEditor:()=>i({isNodeEditorOpen:!0}),closeNodeEditor:()=>i({isNodeEditorOpen:!1}),nodeStatus:{},setNodeStatus:(s,u)=>i(d=>({nodeStatus:{...d.nodeStatus,[s]:u}})),clearNodeStatuses:()=>i({nodeStatus:{}}),searchQuery:"",searchResults:[],setSearchQuery:s=>i({searchQuery:s}),setSearchResults:s=>i({searchResults:s}),workflowPositions:{},setWorkflowPosition:(s,u,d)=>i(p=>({workflowPositions:{...p.workflowPositions,[s]:{x:u,y:d}}})),resetWorkflowPositions:()=>i({workflowPositions:{}}),draggingOpcode:null,setDraggingOpcode:s=>i({draggingOpcode:s}),draggingWire:null,setDraggingWire:s=>i({draggingWire:s}),updateDraggingWire:s=>i(u=>({draggingWire:u.draggingWire?{...u.draggingWire,...s}:null})),draggingOrphan:null,setDraggingOrphan:s=>i({draggingOrphan:s}),updateDraggingOrphanEnd:(s,u)=>i(d=>({draggingOrphan:d.draggingOrphan?{...d.draggingOrphan,toX:s,toY:u}:null})),nodePositions:{},setNodePosition:(s,u,d)=>i(p=>({nodePositions:{...p.nodePositions,[s]:{x:u,y:d}}})),resetNodePositions:()=>i({nodePositions:{}}),clearNodePosition:s=>i(u=>{const{[s]:d,...p}=u.nodePositions;return{nodePositions:p}}),layoutMode:"free",setLayoutMode:s=>i({layoutMode:s}),isDraggingNode:!1,setIsDraggingNode:s=>i({isDraggingNode:s}),draggingVariable:null,setDraggingVariable:s=>i({draggingVariable:s}),updateDraggingVariableEnd:(s,u)=>i(d=>({draggingVariable:d.draggingVariable?{...d.draggingVariable,toX:s,toY:u}:null})),draggingWorkflowCall:null,setDraggingWorkflowCall:s=>i({draggingWorkflowCall:s}),slotPositions:{},registerSlotPositions:(s,u)=>i(d=>({slotPositions:{...d.slotPositions,[s]:u}})),unregisterSlotPositions:s=>i(u=>{const{[s]:d,...p}=u.slotPositions;return{slotPositions:p}}),layoutGroups:[],setLayoutGroups:s=>i({layoutGroups:s}),canvasCenter:{x:400,y:300},setCanvasCenter:(s,u)=>i({canvasCenter:{x:s,y:u}}),contextMenu:null,showContextMenu:s=>i({contextMenu:s}),hideContextMenu:()=>i({contextMenu:null}),expandedReporters:{},toggleReportersExpanded:s=>i(u=>({expandedReporters:{...u.expandedReporters,[s]:!u.expandedReporters[s]}})),setReportersExpanded:(s,u)=>i(d=>({expandedReporters:{...d.expandedReporters,[s]:u}})),confirmDialog:null,showConfirmDialog:s=>i({confirmDialog:{isOpen:!0,title:s.title,message:s.message,confirmLabel:s.confirmLabel,cancelLabel:s.cancelLabel,variant:s.variant,onConfirm:()=>{s.onConfirm(),i({confirmDialog:null})},onCancel:()=>{s.onCancel?.(),i({confirmDialog:null})}}}),hideConfirmDialog:()=>i({confirmDialog:null}),selectedNodeId:null,selectNode:s=>i({selectedNodeId:s}),selectedReporter:null,selectReporter:s=>i({selectedReporter:s}),selectedConnection:null,selectConnection:s=>i({selectedConnection:s}),selectedStartNode:null,selectStartNode:s=>i({selectedStartNode:s}),clearSelection:()=>i({selectedNodeId:null,selectedReporter:null,selectedConnection:null,selectedStartNode:null})})}function Zm(n){const{instanceId:r,persistSource:i=!1}=n;return i?sa()(wd(Wm(n),{name:`lexflow-editor-${r}`,partialize:o=>({source:o.source})})):sa()(Wm(n))}const Qm=D.createContext(null);function bA({children:n,instanceId:r,initialSource:i,persistSource:o=!1}){const s=D.useMemo(()=>Zm({instanceId:r,initialSource:i,persistSource:o}),[r,i,o]);return h.jsx(Qm.Provider,{value:s,children:n})}function Km(){const n=D.useContext(Qm);if(!n)throw new Error("useEditorStore must be used within a StoreProvider");return n}function vA(n){const r=Km();return bd(r,n)}function wA(){return Km()}const SA="__VERSION__";Ve.BackendProviderWrapper=Fd,Ve.LexFlowEditor=Mc,Ve.LexFlowEditorDefault=Mc,Ve.LibraryThemeProvider=lA,Ve.StoreProvider=bA,Ve.ThemeContext=ws,Ve.VERSION=SA,Ve.cn=P,Ve.commonVars=Vm,Ve.createEditorStore=Zm,Ve.createLexFlowProvider=ip,Ve.createScopedCSS=tA,Ve.darkThemeVars=zm,Ve.getMountedCount=xA,Ve.getPresetVars=_c,Ve.injectThemeVars=Tc,Ve.lightThemeVars=Lm,Ve.mount=mA,Ve.removeThemeVars=Um,Ve.supportsExamples=_s,Ve.supportsValidation=Tv,Ve.unmountAll=gA,Ve.useBackendProvider=cr,Ve.useEditorStore=vA,Ve.useEditorStoreApi=wA,Ve.useLibraryTheme=aA,Ve.useTheme=Ss,Object.defineProperty(Ve,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=lexflow-editor.umd.js.map
