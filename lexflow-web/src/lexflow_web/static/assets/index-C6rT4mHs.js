(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function Xv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ku={exports:{}},Pr={};var Xp;function $v(){if(Xp)return Pr;Xp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:n,type:o,key:h,ref:c!==void 0?c:null,props:f}}return Pr.Fragment=r,Pr.jsx=i,Pr.jsxs=i,Pr}var $p;function Wv(){return $p||($p=1,ku.exports=$v()),ku.exports}var d=Wv(),Ru={exports:{}},Ne={};var Wp;function Zv(){if(Wp)return Ne;Wp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function A(C,V,P){this.props=C,this.context=V,this.refs=j,this.updater=P||w}A.prototype.isReactComponent={},A.prototype.setState=function(C,V){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,V,"setState")},A.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _(){}_.prototype=A.prototype;function W(C,V,P){this.props=C,this.context=V,this.refs=j,this.updater=P||w}var $=W.prototype=new _;$.constructor=W,v($,A.prototype),$.isPureReactComponent=!0;var H=Array.isArray;function U(){}var Y={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function F(C,V,P){var ie=P.ref;return{$$typeof:n,type:C,key:V,ref:ie!==void 0?ie:null,props:P}}function ne(C,V){return F(C.type,V,C.props)}function ue(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ce(C){var V={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(P){return V[P]})}var oe=/\/+/g;function Q(C,V){return typeof C=="object"&&C!==null&&C.key!=null?ce(""+C.key):V.toString(36)}function le(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(U,U):(C.status="pending",C.then(function(V){C.status==="pending"&&(C.status="fulfilled",C.value=V)},function(V){C.status==="pending"&&(C.status="rejected",C.reason=V)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,V,P,ie,fe){var ye=typeof C;(ye==="undefined"||ye==="boolean")&&(C=null);var de=!1;if(C===null)de=!0;else switch(ye){case"bigint":case"string":case"number":de=!0;break;case"object":switch(C.$$typeof){case n:case r:de=!0;break;case y:return de=C._init,D(de(C._payload),V,P,ie,fe)}}if(de)return fe=fe(C),de=ie===""?"."+Q(C,0):ie,H(fe)?(P="",de!=null&&(P=de.replace(oe,"$&/")+"/"),D(fe,V,P,"",function(we){return we})):fe!=null&&(ue(fe)&&(fe=ne(fe,P+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(oe,"$&/")+"/")+de)),V.push(fe)),1;de=0;var Ie=ie===""?".":ie+":";if(H(C))for(var re=0;re<C.length;re++)ie=C[re],ye=Ie+Q(ie,re),de+=D(ie,V,P,ye,fe);else if(re=E(C),typeof re=="function")for(C=re.call(C),re=0;!(ie=C.next()).done;)ie=ie.value,ye=Ie+Q(ie,re++),de+=D(ie,V,P,ye,fe);else if(ye==="object"){if(typeof C.then=="function")return D(le(C),V,P,ie,fe);throw V=String(C),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return de}function M(C,V,P){if(C==null)return C;var ie=[],fe=0;return D(C,ie,"","",function(ye){return V.call(P,ye,fe++)}),ie}function k(C){if(C._status===-1){var V=C._result;V=V(),V.then(function(P){(C._status===0||C._status===-1)&&(C._status=1,C._result=P)},function(P){(C._status===0||C._status===-1)&&(C._status=2,C._result=P)}),C._status===-1&&(C._status=0,C._result=V)}if(C._status===1)return C._result.default;throw C._result}var ae=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},K={map:M,forEach:function(C,V,P){M(C,function(){V.apply(this,arguments)},P)},count:function(C){var V=0;return M(C,function(){V++}),V},toArray:function(C){return M(C,function(V){return V})||[]},only:function(C){if(!ue(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ne.Activity=b,Ne.Children=K,Ne.Component=A,Ne.Fragment=i,Ne.Profiler=c,Ne.PureComponent=W,Ne.StrictMode=o,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Y.H.useMemoCache(C)}},Ne.cache=function(C){return function(){return C.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(C,V,P){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ie=v({},C.props),fe=C.key;if(V!=null)for(ye in V.key!==void 0&&(fe=""+V.key),V)!I.call(V,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&V.ref===void 0||(ie[ye]=V[ye]);var ye=arguments.length-2;if(ye===1)ie.children=P;else if(1<ye){for(var de=Array(ye),Ie=0;Ie<ye;Ie++)de[Ie]=arguments[Ie+2];ie.children=de}return F(C.type,fe,ie)},Ne.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Ne.createElement=function(C,V,P){var ie,fe={},ye=null;if(V!=null)for(ie in V.key!==void 0&&(ye=""+V.key),V)I.call(V,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=V[ie]);var de=arguments.length-2;if(de===1)fe.children=P;else if(1<de){for(var Ie=Array(de),re=0;re<de;re++)Ie[re]=arguments[re+2];fe.children=Ie}if(C&&C.defaultProps)for(ie in de=C.defaultProps,de)fe[ie]===void 0&&(fe[ie]=de[ie]);return F(C,ye,fe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(C){return{$$typeof:m,render:C}},Ne.isValidElement=ue,Ne.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:k}},Ne.memo=function(C,V){return{$$typeof:p,type:C,compare:V===void 0?null:V}},Ne.startTransition=function(C){var V=Y.T,P={};Y.T=P;try{var ie=C(),fe=Y.S;fe!==null&&fe(P,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(U,ae)}catch(ye){ae(ye)}finally{V!==null&&P.types!==null&&(V.types=P.types),Y.T=V}},Ne.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ne.use=function(C){return Y.H.use(C)},Ne.useActionState=function(C,V,P){return Y.H.useActionState(C,V,P)},Ne.useCallback=function(C,V){return Y.H.useCallback(C,V)},Ne.useContext=function(C){return Y.H.useContext(C)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(C,V){return Y.H.useDeferredValue(C,V)},Ne.useEffect=function(C,V){return Y.H.useEffect(C,V)},Ne.useEffectEvent=function(C){return Y.H.useEffectEvent(C)},Ne.useId=function(){return Y.H.useId()},Ne.useImperativeHandle=function(C,V,P){return Y.H.useImperativeHandle(C,V,P)},Ne.useInsertionEffect=function(C,V){return Y.H.useInsertionEffect(C,V)},Ne.useLayoutEffect=function(C,V){return Y.H.useLayoutEffect(C,V)},Ne.useMemo=function(C,V){return Y.H.useMemo(C,V)},Ne.useOptimistic=function(C,V){return Y.H.useOptimistic(C,V)},Ne.useReducer=function(C,V,P){return Y.H.useReducer(C,V,P)},Ne.useRef=function(C){return Y.H.useRef(C)},Ne.useState=function(C){return Y.H.useState(C)},Ne.useSyncExternalStore=function(C,V,P){return Y.H.useSyncExternalStore(C,V,P)},Ne.useTransition=function(){return Y.H.useTransition()},Ne.version="19.2.3",Ne}var Zp;function vf(){return Zp||(Zp=1,Ru.exports=Zv()),Ru.exports}var z=vf();const Sn=Xv(z);var zu={exports:{}},ei={},Lu={exports:{}},Vu={};var Qp;function Qv(){return Qp||(Qp=1,(function(n){function r(D,M){var k=D.length;D.push(M);e:for(;0<k;){var ae=k-1>>>1,K=D[ae];if(0<c(K,M))D[ae]=M,D[k]=K,k=ae;else break e}}function i(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var M=D[0],k=D.pop();if(k!==M){D[0]=k;e:for(var ae=0,K=D.length,C=K>>>1;ae<C;){var V=2*(ae+1)-1,P=D[V],ie=V+1,fe=D[ie];if(0>c(P,k))ie<K&&0>c(fe,P)?(D[ae]=fe,D[ie]=k,ae=ie):(D[ae]=P,D[V]=k,ae=V);else if(ie<K&&0>c(fe,k))D[ae]=fe,D[ie]=k,ae=ie;else break e}}return M}function c(D,M){var k=D.sortIndex-M.sortIndex;return k!==0?k:D.id-M.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],y=1,b=null,N=3,E=!1,w=!1,v=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function $(D){for(var M=i(p);M!==null;){if(M.callback===null)o(p);else if(M.startTime<=D)o(p),M.sortIndex=M.expirationTime,r(g,M);else break;M=i(p)}}function H(D){if(v=!1,$(D),!w)if(i(g)!==null)w=!0,U||(U=!0,ce());else{var M=i(p);M!==null&&le(H,M.startTime-D)}}var U=!1,Y=-1,I=5,F=-1;function ne(){return j?!0:!(n.unstable_now()-F<I)}function ue(){if(j=!1,U){var D=n.unstable_now();F=D;var M=!0;try{e:{w=!1,v&&(v=!1,_(Y),Y=-1),E=!0;var k=N;try{t:{for($(D),b=i(g);b!==null&&!(b.expirationTime>D&&ne());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,N=b.priorityLevel;var K=ae(b.expirationTime<=D);if(D=n.unstable_now(),typeof K=="function"){b.callback=K,$(D),M=!0;break t}b===i(g)&&o(g),$(D)}else o(g);b=i(g)}if(b!==null)M=!0;else{var C=i(p);C!==null&&le(H,C.startTime-D),M=!1}}break e}finally{b=null,N=k,E=!1}M=void 0}}finally{M?ce():U=!1}}}var ce;if(typeof W=="function")ce=function(){W(ue)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Q=oe.port2;oe.port1.onmessage=ue,ce=function(){Q.postMessage(null)}}else ce=function(){A(ue,0)};function le(D,M){Y=A(function(){D(n.unstable_now())},M)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(D){switch(N){case 1:case 2:case 3:var M=3;break;default:M=N}var k=N;N=M;try{return D()}finally{N=k}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var k=N;N=D;try{return M()}finally{N=k}},n.unstable_scheduleCallback=function(D,M,k){var ae=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?ae+k:ae):k=ae,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=k+K,D={id:y++,callback:M,priorityLevel:D,startTime:k,expirationTime:K,sortIndex:-1},k>ae?(D.sortIndex=k,r(p,D),i(g)===null&&D===i(p)&&(v?(_(Y),Y=-1):v=!0,le(H,k-ae))):(D.sortIndex=K,r(g,D),w||E||(w=!0,U||(U=!0,ce()))),D},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(D){var M=N;return function(){var k=N;N=M;try{return D.apply(this,arguments)}finally{N=k}}}})(Vu)),Vu}var Kp;function Kv(){return Kp||(Kp=1,Lu.exports=Qv()),Lu.exports}var Bu={exports:{}},_t={};var Fp;function Fv(){if(Fp)return _t;Fp=1;var n=vf();function r(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,_t.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return f(g,p,null,y)},_t.flushSync=function(g){var p=h.T,y=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=y,o.d.f()}},_t.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},_t.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},_t.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:E}):y==="script"&&o.d.X(g,{crossOrigin:b,integrity:N,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_t.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},_t.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);o.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_t.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},_t.requestFormReset=function(g){o.d.r(g)},_t.unstable_batchedUpdates=function(g,p){return g(p)},_t.useFormState=function(g,p,y){return h.H.useFormState(g,p,y)},_t.useFormStatus=function(){return h.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var Jp;function xx(){if(Jp)return Bu.exports;Jp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Bu.exports=Fv(),Bu.exports}var Pp;function Jv(){if(Pp)return ei;Pp=1;var n=Kv(),r=vf(),i=xx();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var u=s.alternate;if(u===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===l)return g(s),e;if(u===a)return g(s),t;u=u.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=u;else{for(var x=!1,S=s.child;S;){if(S===l){x=!0,l=s,a=u;break}if(S===a){x=!0,a=s,l=u;break}S=S.sibling}if(!x){for(S=u.child;S;){if(S===l){x=!0,l=u,a=s;break}if(S===a){x=!0,a=u,l=s;break}S=S.sibling}if(!x)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),W=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case A:return"Profiler";case j:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case W:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:Q(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return Q(e(t))}catch{}}return null}var le=Array.isArray,D=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},ae=[],K=-1;function C(e){return{current:e}}function V(e){0>K||(e.current=ae[K],ae[K]=null,K--)}function P(e,t){K++,ae[K]=e.current,e.current=t}var ie=C(null),fe=C(null),ye=C(null),de=C(null);function Ie(e,t){switch(P(ye,t),P(fe,e),P(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mp(t),e=pp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ie),P(ie,e)}function re(){V(ie),V(fe),V(ye)}function we(e){e.memoizedState!==null&&P(de,e);var t=ie.current,l=pp(t,e.type);t!==l&&(P(fe,e),P(ie,l))}function Re(e){fe.current===e&&(V(ie),V(fe)),de.current===e&&(V(de),Qr._currentValue=k)}var He,at;function At(e){if(He===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);He=t&&t[1]||"",at=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+e+at}var mn=!1;function pn(e,t){if(!e||mn)return"";mn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Z){var X=Z}Reflect.construct(e,[],te)}else{try{te.call()}catch(Z){X=Z}e.call(te.prototype)}}else{try{throw Error()}catch(Z){X=Z}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),x=u[0],S=u[1];if(x&&S){var O=x.split(`
`),G=S.split(`
`);for(s=a=0;a<O.length&&!O[a].includes("DetermineComponentFrameRoot");)a++;for(;s<G.length&&!G[s].includes("DetermineComponentFrameRoot");)s++;if(a===O.length||s===G.length)for(a=O.length-1,s=G.length-1;1<=a&&0<=s&&O[a]!==G[s];)s--;for(;1<=a&&0<=s;a--,s--)if(O[a]!==G[s]){if(a!==1||s!==1)do if(a--,s--,0>s||O[a]!==G[s]){var J=`
`+O[a].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=a&&0<=s);break}}}finally{mn=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?At(l):""}function _e(e,t){switch(e.tag){case 26:case 27:case 5:return At(e.type);case 16:return At("Lazy");case 13:return e.child!==t&&t!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return pn(e.type,!1);case 11:return pn(e.type.render,!1);case 1:return pn(e.type,!0);case 31:return At("Activity");default:return""}}function yt(e){try{var t="",l=null;do t+=_e(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var It=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,Se=n.unstable_cancelCallback,Ye=n.unstable_shouldYield,Ke=n.unstable_requestPaint,Le=n.unstable_now,gn=n.unstable_getCurrentPriorityLevel,Qn=n.unstable_ImmediatePriority,Kn=n.unstable_UserBlockingPriority,Fn=n.unstable_NormalPriority,ir=n.unstable_LowPriority,ra=n.unstable_IdlePriority,or=n.log,vs=n.unstable_setDisableYieldValue,Ee=null,qe=null;function st(e){if(typeof or=="function"&&vs(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ee,e)}catch{}}var et=Math.clz32?Math.clz32:ia,Ml=Math.log,Dl=Math.LN2;function ia(e){return e>>>=0,e===0?32:31-(Ml(e)/Dl|0)|0}var kl=256,Rl=262144,Ni=4194304;function zl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ei(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,u=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=a&134217727;return S!==0?(a=S&~u,a!==0?s=zl(a):(x&=S,x!==0?s=zl(x):l||(l=S&~e,l!==0&&(s=zl(l))))):(S=a&~u,S!==0?s=zl(S):x!==0?s=zl(x):l||(l=a&~e,l!==0&&(s=zl(l)))),s===0?0:t!==0&&t!==s&&(t&u)===0&&(u=s&-s,l=t&-t,u>=l||u===32&&(l&4194048)!==0)?t:s}function sr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Db(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qf(){var e=Ni;return Ni<<=1,(Ni&62914560)===0&&(Ni=4194304),e}function ws(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function cr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kb(e,t,l,a,s,u){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,O=e.expirationTimes,G=e.hiddenUpdates;for(l=x&~l;0<l;){var J=31-et(l),te=1<<J;S[J]=0,O[J]=-1;var X=G[J];if(X!==null)for(G[J]=null,J=0;J<X.length;J++){var Z=X[J];Z!==null&&(Z.lane&=-536870913)}l&=~te}a!==0&&Kf(e,a,0),u!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=u&~(x&~t))}function Kf(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-et(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Ff(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-et(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function Jf(e,t){var l=t&-t;return l=(l&42)!==0?1:Ss(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ns(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pf(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:Bp(e.type))}function ed(e,t){var l=M.p;try{return M.p=e,t()}finally{M.p=l}}var Jn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Jn,Dt="__reactProps$"+Jn,oa="__reactContainer$"+Jn,Es="__reactEvents$"+Jn,Rb="__reactListeners$"+Jn,zb="__reactHandles$"+Jn,td="__reactResources$"+Jn,ur="__reactMarker$"+Jn;function js(e){delete e[wt],delete e[Dt],delete e[Es],delete e[Rb],delete e[zb]}function sa(e){var t=e[wt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[oa]||l[wt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Sp(e);e!==null;){if(l=e[wt])return l;e=Sp(e)}return t}e=l,l=e.parentNode}return null}function ca(e){if(e=e[wt]||e[oa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ua(e){var t=e[td];return t||(t=e[td]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[ur]=!0}var nd=new Set,ld={};function Ll(e,t){fa(e,t),fa(e+"Capture",t)}function fa(e,t){for(ld[e]=t,e=0;e<t.length;e++)nd.add(t[e])}var Lb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ad={},rd={};function Vb(e){return It.call(rd,e)?!0:It.call(ad,e)?!1:Lb.test(e)?rd[e]=!0:(ad[e]=!0,!1)}function ji(e,t,l){if(Vb(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Ci(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Cn(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function id(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bb(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(x){l=""+x,u.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){if(!e._valueTracker){var t=id(e)?"checked":"value";e._valueTracker=Bb(e,t,""+e[t])}}function od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=id(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hb=/[\n"\\]/g;function Pt(e){return e.replace(Hb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function As(e,t,l,a,s,u,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Jt(t)):e.value!==""+Jt(t)&&(e.value=""+Jt(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?_s(e,x,Jt(t)):l!=null?_s(e,x,Jt(l)):a!=null&&e.removeAttribute("value"),s==null&&u!=null&&(e.defaultChecked=!!u),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Jt(S):e.removeAttribute("name")}function sd(e,t,l,a,s,u,x,S){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||l!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Cs(e);return}l=l!=null?""+Jt(l):"",t=t!=null?""+Jt(t):l,S||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=S?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Cs(e)}function _s(e,t,l){t==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function da(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Jt(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function cd(e,t,l){if(t!=null&&(t=""+Jt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Jt(l):""}function ud(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(le(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Jt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Cs(e)}function ha(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Ub=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Ub.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function dd(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&fd(e,s,a)}else for(var u in t)t.hasOwnProperty(u)&&fd(e,u,t[u])}function Os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _i(e){return Yb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function An(){}var Ts=null;function Ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,pa=null;function hd(e){var t=ca(e);if(t&&(e=t.stateNode)){var l=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(As(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[Dt]||null;if(!s)throw Error(o(90));As(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&od(a)}break e;case"textarea":cd(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&da(e,!!l.multiple,t,!1)}}}var Ds=!1;function md(e,t,l){if(Ds)return e(t,l);Ds=!0;try{var a=e(t);return a}finally{if(Ds=!1,(ma!==null||pa!==null)&&(go(),ma&&(t=ma,e=pa,pa=ma=null,hd(t),e)))for(t=0;t<e.length;t++)hd(e[t])}}function dr(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Dt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(_n)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){ks=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{ks=!1}var Pn=null,Rs=null,Oi=null;function pd(){if(Oi)return Oi;var e,t=Rs,l=t.length,a,s="value"in Pn?Pn.value:Pn.textContent,u=s.length;for(e=0;e<l&&t[e]===s[e];e++);var x=l-e;for(a=1;a<=x&&t[l-a]===s[u-a];a++);return Oi=s.slice(e,1<a?1-a:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function gd(){return!1}function kt(e){function t(l,a,s,u,x){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(u):u[S]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Mi:gd,this.isPropagationStopped=gd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=kt(Vl),mr=b({},Vl,{view:0,detail:0}),qb=kt(mr),zs,Ls,pr,ki=b({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(zs=e.screenX-pr.screenX,Ls=e.screenY-pr.screenY):Ls=zs=0,pr=e),zs)},movementY:function(e){return"movementY"in e?e.movementY:Ls}}),xd=kt(ki),Gb=b({},ki,{dataTransfer:0}),Xb=kt(Gb),$b=b({},mr,{relatedTarget:0}),Vs=kt($b),Wb=b({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),Zb=kt(Wb),Qb=b({},Vl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kb=kt(Qb),Fb=b({},Vl,{data:0}),yd=kt(Fb),Jb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e0[e])?!!t[e]:!1}function Bs(){return t0}var n0=b({},mr,{key:function(e){if(e.key){var t=Jb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l0=kt(n0),a0=b({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=kt(a0),r0=b({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),i0=kt(r0),o0=b({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),s0=kt(o0),c0=b({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u0=kt(c0),f0=b({},Vl,{newState:0,oldState:0}),d0=kt(f0),h0=[9,13,27,32],Hs=_n&&"CompositionEvent"in window,gr=null;_n&&"documentMode"in document&&(gr=document.documentMode);var m0=_n&&"TextEvent"in window&&!gr,vd=_n&&(!Hs||gr&&8<gr&&11>=gr),wd=" ",Sd=!1;function Nd(e,t){switch(e){case"keyup":return h0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function p0(e,t){switch(e){case"compositionend":return Ed(t);case"keypress":return t.which!==32?null:(Sd=!0,wd);case"textInput":return e=t.data,e===wd&&Sd?null:e;default:return null}}function g0(e,t){if(ga)return e==="compositionend"||!Hs&&Nd(e,t)?(e=pd(),Oi=Rs=Pn=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vd&&t.locale!=="ko"?null:t.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x0[e.type]:t==="textarea"}function Cd(e,t,l,a){ma?pa?pa.push(a):pa=[a]:ma=a,t=No(t,"onChange"),0<t.length&&(l=new Di("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var xr=null,yr=null;function y0(e){sp(e,0)}function Ri(e){var t=fr(e);if(od(t))return e}function Ad(e,t){if(e==="change")return t}var _d=!1;if(_n){var Us;if(_n){var Is="oninput"in document;if(!Is){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Is=typeof Od.oninput=="function"}Us=Is}else Us=!1;_d=Us&&(!document.documentMode||9<document.documentMode)}function Td(){xr&&(xr.detachEvent("onpropertychange",Md),yr=xr=null)}function Md(e){if(e.propertyName==="value"&&Ri(yr)){var t=[];Cd(t,yr,e,Ms(e)),md(y0,t)}}function b0(e,t,l){e==="focusin"?(Td(),xr=t,yr=l,xr.attachEvent("onpropertychange",Md)):e==="focusout"&&Td()}function v0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(yr)}function w0(e,t){if(e==="click")return Ri(t)}function S0(e,t){if(e==="input"||e==="change")return Ri(t)}function N0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:N0;function br(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!It.call(t,s)||!Yt(e[s],t[s]))return!1}return!0}function Dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kd(e,t){var l=Dd(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dd(l)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ai(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Ai(e.document)}return t}function Ys(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var E0=_n&&"documentMode"in document&&11>=document.documentMode,xa=null,qs=null,vr=null,Gs=!1;function Ld(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gs||xa==null||xa!==Ai(a)||(a=xa,"selectionStart"in a&&Ys(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),vr&&br(vr,a)||(vr=a,a=No(qs,"onSelect"),0<a.length&&(t=new Di("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=xa)))}function Bl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ya={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionrun:Bl("Transition","TransitionRun"),transitionstart:Bl("Transition","TransitionStart"),transitioncancel:Bl("Transition","TransitionCancel"),transitionend:Bl("Transition","TransitionEnd")},Xs={},Vd={};_n&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Hl(e){if(Xs[e])return Xs[e];if(!ya[e])return e;var t=ya[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Vd)return Xs[e]=t[l];return e}var Bd=Hl("animationend"),Hd=Hl("animationiteration"),Ud=Hl("animationstart"),j0=Hl("transitionrun"),C0=Hl("transitionstart"),A0=Hl("transitioncancel"),Id=Hl("transitionend"),Yd=new Map,$s="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$s.push("scrollEnd");function un(e,t){Yd.set(e,t),Ll(t,[e])}var zi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},en=[],ba=0,Ws=0;function Li(){for(var e=ba,t=Ws=ba=0;t<e;){var l=en[t];en[t++]=null;var a=en[t];en[t++]=null;var s=en[t];en[t++]=null;var u=en[t];if(en[t++]=null,a!==null&&s!==null){var x=a.pending;x===null?s.next=s:(s.next=x.next,x.next=s),a.pending=s}u!==0&&qd(l,s,u)}}function Vi(e,t,l,a){en[ba++]=e,en[ba++]=t,en[ba++]=l,en[ba++]=a,Ws|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Zs(e,t,l,a){return Vi(e,t,l,a),Bi(e)}function Ul(e,t){return Vi(e,null,null,t),Bi(e)}function qd(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,u=e.return;u!==null;)u.childLanes|=l,a=u.alternate,a!==null&&(a.childLanes|=l),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(s=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,s&&t!==null&&(s=31-et(l),e=u.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),u):null}function Bi(e){if(50<Yr)throw Yr=0,lu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var va={};function _0(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,l,a){return new _0(e,t,l,a)}function Qs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,t){var l=e.alternate;return l===null?(l=qt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Gd(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hi(e,t,l,a,s,u){var x=0;if(a=e,typeof e=="function")Qs(e)&&(x=1);else if(typeof e=="string")x=kv(e,l,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=qt(31,l,t,s),e.elementType=F,e.lanes=u,e;case v:return Il(l.children,s,u,t);case j:x=8,s|=24;break;case A:return e=qt(12,l,t,s|2),e.elementType=A,e.lanes=u,e;case H:return e=qt(13,l,t,s),e.elementType=H,e.lanes=u,e;case U:return e=qt(19,l,t,s),e.elementType=U,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:x=10;break e;case _:x=9;break e;case $:x=11;break e;case Y:x=14;break e;case I:x=16,a=null;break e}x=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=qt(x,l,t,s),t.elementType=e,t.type=a,t.lanes=u,t}function Il(e,t,l,a){return e=qt(7,e,a,t),e.lanes=l,e}function Ks(e,t,l){return e=qt(6,e,null,t),e.lanes=l,e}function Xd(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function Fs(e,t,l){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $d=new WeakMap;function tn(e,t){if(typeof e=="object"&&e!==null){var l=$d.get(e);return l!==void 0?l:(t={value:e,source:t,stack:yt(t)},$d.set(e,t),t)}return{value:e,source:t,stack:yt(t)}}var wa=[],Sa=0,Ui=null,wr=0,nn=[],ln=0,el=null,xn=1,yn="";function Tn(e,t){wa[Sa++]=wr,wa[Sa++]=Ui,Ui=e,wr=t}function Wd(e,t,l){nn[ln++]=xn,nn[ln++]=yn,nn[ln++]=el,el=e;var a=xn;e=yn;var s=32-et(a)-1;a&=~(1<<s),l+=1;var u=32-et(t)+s;if(30<u){var x=s-s%5;u=(a&(1<<x)-1).toString(32),a>>=x,s-=x,xn=1<<32-et(t)+s|l<<s|a,yn=u+e}else xn=1<<u|l<<s|a,yn=e}function Js(e){e.return!==null&&(Tn(e,1),Wd(e,1,0))}function Ps(e){for(;e===Ui;)Ui=wa[--Sa],wa[Sa]=null,wr=wa[--Sa],wa[Sa]=null;for(;e===el;)el=nn[--ln],nn[ln]=null,yn=nn[--ln],nn[ln]=null,xn=nn[--ln],nn[ln]=null}function Zd(e,t){nn[ln++]=xn,nn[ln++]=yn,nn[ln++]=el,xn=t.id,yn=t.overflow,el=e}var St=null,Fe=null,ze=!1,tl=null,an=!1,ec=Error(o(519));function nl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sr(tn(t,e)),ec}function Qd(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[wt]=e,t[Dt]=a,l){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(l=0;l<Gr.length;l++)Me(Gr[l],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),sd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),ud(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||dp(t.textContent,l)?(a.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),a.onScroll!=null&&Me("scroll",t),a.onScrollEnd!=null&&Me("scrollend",t),a.onClick!=null&&(t.onclick=An),t=!0):t=!1,t||nl(e,!0)}function Kd(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:St=St.return}}function Na(e){if(e!==St)return!1;if(!ze)return Kd(e),ze=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||yu(e.type,e.memoizedProps)),l=!l),l&&Fe&&nl(e),Kd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Fe=wp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Fe=wp(e)}else t===27?(t=Fe,gl(e.type)?(e=Nu,Nu=null,Fe=e):Fe=t):Fe=St?on(e.stateNode.nextSibling):null;return!0}function Yl(){Fe=St=null,ze=!1}function tc(){var e=tl;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),tl=null),e}function Sr(e){tl===null?tl=[e]:tl.push(e)}var nc=C(null),ql=null,Mn=null;function ll(e,t,l){P(nc,t._currentValue),t._currentValue=l}function Dn(e){e._currentValue=nc.current,V(nc)}function lc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function ac(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){var x=s.child;u=u.firstContext;e:for(;u!==null;){var S=u;u=s;for(var O=0;O<t.length;O++)if(S.context===t[O]){u.lanes|=l,S=u.alternate,S!==null&&(S.lanes|=l),lc(u.return,l,e),a||(x=null);break e}u=S.next}}else if(s.tag===18){if(x=s.return,x===null)throw Error(o(341));x.lanes|=l,u=x.alternate,u!==null&&(u.lanes|=l),lc(x,l,e),x=null}else x=s.child;if(x!==null)x.return=s;else for(x=s;x!==null;){if(x===e){x=null;break}if(s=x.sibling,s!==null){s.return=x.return,x=s;break}x=x.return}s=x}}function Ea(e,t,l,a){e=null;for(var s=t,u=!1;s!==null;){if(!u){if((s.flags&524288)!==0)u=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var x=s.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var S=s.type;Yt(s.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(s===de.current){if(x=s.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Qr):e=[Qr])}s=s.return}e!==null&&ac(t,e,l,a),t.flags|=262144}function Ii(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gl(e){ql=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return Fd(ql,e)}function Yi(e,t){return ql===null&&Gl(e),Fd(e,t)}function Fd(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Mn===null){if(e===null)throw Error(o(308));Mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mn=Mn.next=t;return l}var O0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},T0=n.unstable_scheduleCallback,M0=n.unstable_NormalPriority,ct={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rc(){return{controller:new O0,data:new Map,refCount:0}}function Nr(e){e.refCount--,e.refCount===0&&T0(M0,function(){e.controller.abort()})}var Er=null,ic=0,ja=0,Ca=null;function D0(e,t){if(Er===null){var l=Er=[];ic=0,ja=cu(),Ca={status:"pending",value:void 0,then:function(a){l.push(a)}}}return ic++,t.then(Jd,Jd),t}function Jd(){if(--ic===0&&Er!==null){Ca!==null&&(Ca.status="fulfilled");var e=Er;Er=null,ja=0,Ca=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function k0(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var Pd=D.S;D.S=function(e,t){Lm=Le(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&D0(e,t),Pd!==null&&Pd(e,t)};var Xl=C(null);function oc(){var e=Xl.current;return e!==null?e:Qe.pooledCache}function qi(e,t){t===null?P(Xl,Xl.current):P(Xl,t.pool)}function eh(){var e=oc();return e===null?null:{parent:ct._currentValue,pool:e}}var Aa=Error(o(460)),sc=Error(o(474)),Gi=Error(o(542)),Xi={then:function(){}};function th(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nh(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(An,An),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ah(e),e;default:if(typeof t.status=="string")t.then(An,An);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ah(e),e}throw Wl=t,Aa}}function $l(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Wl=l,Aa):l}}var Wl=null;function lh(){if(Wl===null)throw Error(o(459));var e=Wl;return Wl=null,e}function ah(e){if(e===Aa||e===Gi)throw Error(o(483))}var _a=null,jr=0;function $i(e){var t=jr;return jr+=1,_a===null&&(_a=[]),nh(_a,e,t)}function Cr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wi(e,t){throw t.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function rh(e){function t(B,R){if(e){var q=B.deletions;q===null?(B.deletions=[R],B.flags|=16):q.push(R)}}function l(B,R){if(!e)return null;for(;R!==null;)t(B,R),R=R.sibling;return null}function a(B){for(var R=new Map;B!==null;)B.key!==null?R.set(B.key,B):R.set(B.index,B),B=B.sibling;return R}function s(B,R){return B=On(B,R),B.index=0,B.sibling=null,B}function u(B,R,q){return B.index=q,e?(q=B.alternate,q!==null?(q=q.index,q<R?(B.flags|=67108866,R):q):(B.flags|=67108866,R)):(B.flags|=1048576,R)}function x(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function S(B,R,q,ee){return R===null||R.tag!==6?(R=Ks(q,B.mode,ee),R.return=B,R):(R=s(R,q),R.return=B,R)}function O(B,R,q,ee){var be=q.type;return be===v?J(B,R,q.props.children,ee,q.key):R!==null&&(R.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===I&&$l(be)===R.type)?(R=s(R,q.props),Cr(R,q),R.return=B,R):(R=Hi(q.type,q.key,q.props,null,B.mode,ee),Cr(R,q),R.return=B,R)}function G(B,R,q,ee){return R===null||R.tag!==4||R.stateNode.containerInfo!==q.containerInfo||R.stateNode.implementation!==q.implementation?(R=Fs(q,B.mode,ee),R.return=B,R):(R=s(R,q.children||[]),R.return=B,R)}function J(B,R,q,ee,be){return R===null||R.tag!==7?(R=Il(q,B.mode,ee,be),R.return=B,R):(R=s(R,q),R.return=B,R)}function te(B,R,q){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ks(""+R,B.mode,q),R.return=B,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return q=Hi(R.type,R.key,R.props,null,B.mode,q),Cr(q,R),q.return=B,q;case w:return R=Fs(R,B.mode,q),R.return=B,R;case I:return R=$l(R),te(B,R,q)}if(le(R)||ce(R))return R=Il(R,B.mode,q,null),R.return=B,R;if(typeof R.then=="function")return te(B,$i(R),q);if(R.$$typeof===W)return te(B,Yi(B,R),q);Wi(B,R)}return null}function X(B,R,q,ee){var be=R!==null?R.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return be!==null?null:S(B,R,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return q.key===be?O(B,R,q,ee):null;case w:return q.key===be?G(B,R,q,ee):null;case I:return q=$l(q),X(B,R,q,ee)}if(le(q)||ce(q))return be!==null?null:J(B,R,q,ee,null);if(typeof q.then=="function")return X(B,R,$i(q),ee);if(q.$$typeof===W)return X(B,R,Yi(B,q),ee);Wi(B,q)}return null}function Z(B,R,q,ee,be){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(q)||null,S(R,B,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return B=B.get(ee.key===null?q:ee.key)||null,O(R,B,ee,be);case w:return B=B.get(ee.key===null?q:ee.key)||null,G(R,B,ee,be);case I:return ee=$l(ee),Z(B,R,q,ee,be)}if(le(ee)||ce(ee))return B=B.get(q)||null,J(R,B,ee,be,null);if(typeof ee.then=="function")return Z(B,R,q,$i(ee),be);if(ee.$$typeof===W)return Z(B,R,q,Yi(R,ee),be);Wi(R,ee)}return null}function he(B,R,q,ee){for(var be=null,Ve=null,ge=R,Ce=R=0,ke=null;ge!==null&&Ce<q.length;Ce++){ge.index>Ce?(ke=ge,ge=null):ke=ge.sibling;var Be=X(B,ge,q[Ce],ee);if(Be===null){ge===null&&(ge=ke);break}e&&ge&&Be.alternate===null&&t(B,ge),R=u(Be,R,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be,ge=ke}if(Ce===q.length)return l(B,ge),ze&&Tn(B,Ce),be;if(ge===null){for(;Ce<q.length;Ce++)ge=te(B,q[Ce],ee),ge!==null&&(R=u(ge,R,Ce),Ve===null?be=ge:Ve.sibling=ge,Ve=ge);return ze&&Tn(B,Ce),be}for(ge=a(ge);Ce<q.length;Ce++)ke=Z(ge,B,Ce,q[Ce],ee),ke!==null&&(e&&ke.alternate!==null&&ge.delete(ke.key===null?Ce:ke.key),R=u(ke,R,Ce),Ve===null?be=ke:Ve.sibling=ke,Ve=ke);return e&&ge.forEach(function(wl){return t(B,wl)}),ze&&Tn(B,Ce),be}function ve(B,R,q,ee){if(q==null)throw Error(o(151));for(var be=null,Ve=null,ge=R,Ce=R=0,ke=null,Be=q.next();ge!==null&&!Be.done;Ce++,Be=q.next()){ge.index>Ce?(ke=ge,ge=null):ke=ge.sibling;var wl=X(B,ge,Be.value,ee);if(wl===null){ge===null&&(ge=ke);break}e&&ge&&wl.alternate===null&&t(B,ge),R=u(wl,R,Ce),Ve===null?be=wl:Ve.sibling=wl,Ve=wl,ge=ke}if(Be.done)return l(B,ge),ze&&Tn(B,Ce),be;if(ge===null){for(;!Be.done;Ce++,Be=q.next())Be=te(B,Be.value,ee),Be!==null&&(R=u(Be,R,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be);return ze&&Tn(B,Ce),be}for(ge=a(ge);!Be.done;Ce++,Be=q.next())Be=Z(ge,B,Ce,Be.value,ee),Be!==null&&(e&&Be.alternate!==null&&ge.delete(Be.key===null?Ce:Be.key),R=u(Be,R,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be);return e&&ge.forEach(function(Gv){return t(B,Gv)}),ze&&Tn(B,Ce),be}function Ze(B,R,q,ee){if(typeof q=="object"&&q!==null&&q.type===v&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case E:e:{for(var be=q.key;R!==null;){if(R.key===be){if(be=q.type,be===v){if(R.tag===7){l(B,R.sibling),ee=s(R,q.props.children),ee.return=B,B=ee;break e}}else if(R.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===I&&$l(be)===R.type){l(B,R.sibling),ee=s(R,q.props),Cr(ee,q),ee.return=B,B=ee;break e}l(B,R);break}else t(B,R);R=R.sibling}q.type===v?(ee=Il(q.props.children,B.mode,ee,q.key),ee.return=B,B=ee):(ee=Hi(q.type,q.key,q.props,null,B.mode,ee),Cr(ee,q),ee.return=B,B=ee)}return x(B);case w:e:{for(be=q.key;R!==null;){if(R.key===be)if(R.tag===4&&R.stateNode.containerInfo===q.containerInfo&&R.stateNode.implementation===q.implementation){l(B,R.sibling),ee=s(R,q.children||[]),ee.return=B,B=ee;break e}else{l(B,R);break}else t(B,R);R=R.sibling}ee=Fs(q,B.mode,ee),ee.return=B,B=ee}return x(B);case I:return q=$l(q),Ze(B,R,q,ee)}if(le(q))return he(B,R,q,ee);if(ce(q)){if(be=ce(q),typeof be!="function")throw Error(o(150));return q=be.call(q),ve(B,R,q,ee)}if(typeof q.then=="function")return Ze(B,R,$i(q),ee);if(q.$$typeof===W)return Ze(B,R,Yi(B,q),ee);Wi(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,R!==null&&R.tag===6?(l(B,R.sibling),ee=s(R,q),ee.return=B,B=ee):(l(B,R),ee=Ks(q,B.mode,ee),ee.return=B,B=ee),x(B)):l(B,R)}return function(B,R,q,ee){try{jr=0;var be=Ze(B,R,q,ee);return _a=null,be}catch(ge){if(ge===Aa||ge===Gi)throw ge;var Ve=qt(29,ge,null,B.mode);return Ve.lanes=ee,Ve.return=B,Ve}}}var Zl=rh(!0),ih=rh(!1),al=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function il(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ue&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Bi(e),qd(e,null,l),t}return Vi(e,a,t,l),Bi(e)}function Ar(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Ff(e,l)}}function fc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,u=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};u===null?s=u=x:u=u.next=x,l=l.next}while(l!==null);u===null?s=u=t:u=u.next=t}else s=u=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var dc=!1;function _r(){if(dc){var e=Ca;if(e!==null)throw e}}function Or(e,t,l,a){dc=!1;var s=e.updateQueue;al=!1;var u=s.firstBaseUpdate,x=s.lastBaseUpdate,S=s.shared.pending;if(S!==null){s.shared.pending=null;var O=S,G=O.next;O.next=null,x===null?u=G:x.next=G,x=O;var J=e.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==x&&(S===null?J.firstBaseUpdate=G:S.next=G,J.lastBaseUpdate=O))}if(u!==null){var te=s.baseState;x=0,J=G=O=null,S=u;do{var X=S.lane&-536870913,Z=X!==S.lane;if(Z?(De&X)===X:(a&X)===X){X!==0&&X===ja&&(dc=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=e,ve=S;X=t;var Ze=l;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){te=he.call(Ze,te,X);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,X=typeof he=="function"?he.call(Ze,te,X):he,X==null)break e;te=b({},te,X);break e;case 2:al=!0}}X=S.callback,X!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=s.callbacks,Z===null?s.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(G=J=Z,O=te):J=J.next=Z,x|=X;if(S=S.next,S===null){if(S=s.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,s.lastBaseUpdate=Z,s.shared.pending=null}}while(!0);J===null&&(O=te),s.baseState=O,s.firstBaseUpdate=G,s.lastBaseUpdate=J,u===null&&(s.shared.lanes=0),fl|=x,e.lanes=x,e.memoizedState=te}}function oh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function sh(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)oh(l[e],t)}var Oa=C(null),Zi=C(0);function ch(e,t){e=In,P(Zi,e),P(Oa,t),In=e|t.baseLanes}function hc(){P(Zi,In),P(Oa,Oa.current)}function mc(){In=Zi.current,V(Oa),V(Zi)}var Gt=C(null),rn=null;function ol(e){var t=e.alternate;P(rt,rt.current&1),P(Gt,e),rn===null&&(t===null||Oa.current!==null||t.memoizedState!==null)&&(rn=e)}function pc(e){P(rt,rt.current),P(Gt,e),rn===null&&(rn=e)}function uh(e){e.tag===22?(P(rt,rt.current),P(Gt,e),rn===null&&(rn=e)):sl()}function sl(){P(rt,rt.current),P(Gt,Gt.current)}function Xt(e){V(Gt),rn===e&&(rn=null),V(rt)}var rt=C(0);function Qi(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||wu(l)||Su(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kn=0,je=null,$e=null,ut=null,Ki=!1,Ta=!1,Ql=!1,Fi=0,Tr=0,Ma=null,R0=0;function tt(){throw Error(o(321))}function gc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Yt(e[l],t[l]))return!1;return!0}function xc(e,t,l,a,s,u){return kn=u,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Wh:Dc,Ql=!1,u=l(a,s),Ql=!1,Ta&&(u=dh(t,l,a,s)),fh(e),u}function fh(e){D.H=kr;var t=$e!==null&&$e.next!==null;if(kn=0,ut=$e=je=null,Ki=!1,Tr=0,Ma=null,t)throw Error(o(300));e===null||ft||(e=e.dependencies,e!==null&&Ii(e)&&(ft=!0))}function dh(e,t,l,a){je=e;var s=0;do{if(Ta&&(Ma=null),Tr=0,Ta=!1,25<=s)throw Error(o(301));if(s+=1,ut=$e=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Zh,u=t(l,a)}while(Ta);return u}function z0(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Mr(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(je.flags|=1024),t}function yc(){var e=Fi!==0;return Fi=0,e}function bc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function vc(e){if(Ki){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ki=!1}kn=0,ut=$e=je=null,Ta=!1,Tr=Fi=0,Ma=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?je.memoizedState=ut=e:ut=ut.next=e,ut}function it(){if($e===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=ut===null?je.memoizedState:ut.next;if(t!==null)ut=t,$e=e;else{if(e===null)throw je.alternate===null?Error(o(467)):Error(o(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ut===null?je.memoizedState=ut=e:ut=ut.next=e}return ut}function Ji(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mr(e){var t=Tr;return Tr+=1,Ma===null&&(Ma=[]),e=nh(Ma,e,t),t=je,(ut===null?t.memoizedState:ut.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Wh:Dc),e}function Pi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mr(e);if(e.$$typeof===W)return Nt(e)}throw Error(o(438,String(e)))}function wc(e){var t=null,l=je.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=je.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Ji(),je.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=ne;return t.index++,l}function Rn(e,t){return typeof t=="function"?t(e):t}function eo(e){var t=it();return Sc(t,$e,e)}function Sc(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,u=a.pending;if(u!==null){if(s!==null){var x=s.next;s.next=u.next,u.next=x}t.baseQueue=s=u,a.pending=null}if(u=e.baseState,s===null)e.memoizedState=u;else{t=s.next;var S=x=null,O=null,G=t,J=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(De&te)===te:(kn&te)===te){var X=G.revertLane;if(X===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===ja&&(J=!0);else if((kn&X)===X){G=G.next,X===ja&&(J=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=te,x=u):O=O.next=te,je.lanes|=X,fl|=X;te=G.action,Ql&&l(u,te),u=G.hasEagerState?G.eagerState:l(u,te)}else X={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(S=O=X,x=u):O=O.next=X,je.lanes|=te,fl|=te;G=G.next}while(G!==null&&G!==t);if(O===null?x=u:O.next=S,!Yt(u,e.memoizedState)&&(ft=!0,J&&(l=Ca,l!==null)))throw l;e.memoizedState=u,e.baseState=x,e.baseQueue=O,a.lastRenderedState=u}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Nc(e){var t=it(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,u=t.memoizedState;if(s!==null){l.pending=null;var x=s=s.next;do u=e(u,x.action),x=x.next;while(x!==s);Yt(u,t.memoizedState)||(ft=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),l.lastRenderedState=u}return[u,a]}function hh(e,t,l){var a=je,s=it(),u=ze;if(u){if(l===void 0)throw Error(o(407));l=l()}else l=t();var x=!Yt(($e||s).memoizedState,l);if(x&&(s.memoizedState=l,ft=!0),s=s.queue,Cc(gh.bind(null,a,s,e),[e]),s.getSnapshot!==t||x||ut!==null&&ut.memoizedState.tag&1){if(a.flags|=2048,Da(9,{destroy:void 0},ph.bind(null,a,s,l,t),null),Qe===null)throw Error(o(349));u||(kn&127)!==0||mh(a,t,l)}return l}function mh(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=je.updateQueue,t===null?(t=Ji(),je.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function ph(e,t,l,a){t.value=l,t.getSnapshot=a,xh(t)&&yh(e)}function gh(e,t,l){return l(function(){xh(t)&&yh(e)})}function xh(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Yt(e,l)}catch{return!0}}function yh(e){var t=Ul(e,2);t!==null&&Bt(t,e,2)}function Ec(e){var t=Tt();if(typeof e=="function"){var l=e;if(e=l(),Ql){st(!0);try{l()}finally{st(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},t}function bh(e,t,l,a){return e.baseState=l,Sc(e,$e,typeof a=="function"?a:Rn)}function L0(e,t,l,a,s){if(lo(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){u.listeners.push(x)}};D.T!==null?l(!0):u.isTransition=!1,a(u),l=t.pending,l===null?(u.next=t.pending=u,vh(t,u)):(u.next=l.next,t.pending=l.next=u)}}function vh(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var u=D.T,x={};D.T=x;try{var S=l(s,a),O=D.S;O!==null&&O(x,S),wh(e,t,S)}catch(G){jc(e,t,G)}finally{u!==null&&x.types!==null&&(u.types=x.types),D.T=u}}else try{u=l(s,a),wh(e,t,u)}catch(G){jc(e,t,G)}}function wh(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Sh(e,t,a)},function(a){return jc(e,t,a)}):Sh(e,t,l)}function Sh(e,t,l){t.status="fulfilled",t.value=l,Nh(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,vh(e,l)))}function jc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Nh(t),t=t.next;while(t!==a)}e.action=null}function Nh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Eh(e,t){return t}function jh(e,t){if(ze){var l=Qe.formState;if(l!==null){e:{var a=je;if(ze){if(Fe){t:{for(var s=Fe,u=an;s.nodeType!==8;){if(!u){s=null;break t}if(s=on(s.nextSibling),s===null){s=null;break t}}u=s.data,s=u==="F!"||u==="F"?s:null}if(s){Fe=on(s.nextSibling),a=s.data==="F!";break e}}nl(a)}a=!1}a&&(t=l[0])}}return l=Tt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:t},l.queue=a,l=Gh.bind(null,je,a),a.dispatch=l,a=Ec(!1),u=Mc.bind(null,je,!1,a.queue),a=Tt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=L0.bind(null,je,s,u,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function Ch(e){var t=it();return Ah(t,$e,e)}function Ah(e,t,l){if(t=Sc(e,t,Eh)[0],e=eo(Rn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Mr(t)}catch(x){throw x===Aa?Gi:x}else a=t;t=it();var s=t.queue,u=s.dispatch;return l!==t.memoizedState&&(je.flags|=2048,Da(9,{destroy:void 0},V0.bind(null,s,l),null)),[a,u,e]}function V0(e,t){e.action=t}function _h(e){var t=it(),l=$e;if(l!==null)return Ah(t,l,e);it(),t=t.memoizedState,l=it();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Da(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=je.updateQueue,t===null&&(t=Ji(),je.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Oh(){return it().memoizedState}function to(e,t,l,a){var s=Tt();je.flags|=e,s.memoizedState=Da(1|t,{destroy:void 0},l,a===void 0?null:a)}function no(e,t,l,a){var s=it();a=a===void 0?null:a;var u=s.memoizedState.inst;$e!==null&&a!==null&&gc(a,$e.memoizedState.deps)?s.memoizedState=Da(t,u,l,a):(je.flags|=e,s.memoizedState=Da(1|t,u,l,a))}function Th(e,t){to(8390656,8,e,t)}function Cc(e,t){no(2048,8,e,t)}function B0(e){je.flags|=4;var t=je.updateQueue;if(t===null)t=Ji(),je.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Mh(e){var t=it().memoizedState;return B0({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Dh(e,t){return no(4,2,e,t)}function kh(e,t){return no(4,4,e,t)}function Rh(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zh(e,t,l){l=l!=null?l.concat([e]):null,no(4,4,Rh.bind(null,t,e),l)}function Ac(){}function Lh(e,t){var l=it();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&gc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Vh(e,t){var l=it();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&gc(t,a[1]))return a[0];if(a=e(),Ql){st(!0);try{e()}finally{st(!1)}}return l.memoizedState=[a,t],a}function _c(e,t,l){return l===void 0||(kn&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Bm(),je.lanes|=e,fl|=e,l)}function Bh(e,t,l,a){return Yt(l,t)?l:Oa.current!==null?(e=_c(e,l,a),Yt(e,t)||(ft=!0),e):(kn&42)===0||(kn&1073741824)!==0&&(De&261930)===0?(ft=!0,e.memoizedState=l):(e=Bm(),je.lanes|=e,fl|=e,t)}function Hh(e,t,l,a,s){var u=M.p;M.p=u!==0&&8>u?u:8;var x=D.T,S={};D.T=S,Mc(e,!1,t,l);try{var O=s(),G=D.S;if(G!==null&&G(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=k0(O,a);Dr(e,t,J,Zt(e))}else Dr(e,t,a,Zt(e))}catch(te){Dr(e,t,{then:function(){},status:"rejected",reason:te},Zt())}finally{M.p=u,x!==null&&S.types!==null&&(x.types=S.types),D.T=x}}function H0(){}function Oc(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=Uh(e).queue;Hh(e,s,t,k,l===null?H0:function(){return Ih(e),l(a)})}function Uh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:k},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ih(e){var t=Uh(e);t.next===null&&(t=e.alternate.memoizedState),Dr(e,t.next.queue,{},Zt())}function Tc(){return Nt(Qr)}function Yh(){return it().memoizedState}function qh(){return it().memoizedState}function U0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Zt();e=rl(l);var a=il(t,e,l);a!==null&&(Bt(a,t,l),Ar(a,t,l)),t={cache:rc()},e.payload=t;return}t=t.return}}function I0(e,t,l){var a=Zt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lo(e)?Xh(t,l):(l=Zs(e,t,l,a),l!==null&&(Bt(l,e,a),$h(l,t,a)))}function Gh(e,t,l){var a=Zt();Dr(e,t,l,a)}function Dr(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(lo(e))Xh(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var x=t.lastRenderedState,S=u(x,l);if(s.hasEagerState=!0,s.eagerState=S,Yt(S,x))return Vi(e,t,s,0),Qe===null&&Li(),!1}catch{}if(l=Zs(e,t,s,a),l!==null)return Bt(l,e,a),$h(l,t,a),!0}return!1}function Mc(e,t,l,a){if(a={lane:2,revertLane:cu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lo(e)){if(t)throw Error(o(479))}else t=Zs(e,l,a,2),t!==null&&Bt(t,e,2)}function lo(e){var t=e.alternate;return e===je||t!==null&&t===je}function Xh(e,t){Ta=Ki=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function $h(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Ff(e,l)}}var kr={readContext:Nt,use:Pi,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};kr.useEffectEvent=tt;var Wh={readContext:Nt,use:Pi,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Th,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,to(4194308,4,Rh.bind(null,t,e),l)},useLayoutEffect:function(e,t){return to(4194308,4,e,t)},useInsertionEffect:function(e,t){to(4,2,e,t)},useMemo:function(e,t){var l=Tt();t=t===void 0?null:t;var a=e();if(Ql){st(!0);try{e()}finally{st(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Tt();if(l!==void 0){var s=l(t);if(Ql){st(!0);try{l(t)}finally{st(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=I0.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ec(e);var t=e.queue,l=Gh.bind(null,je,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Ac,useDeferredValue:function(e,t){var l=Tt();return _c(l,e,t)},useTransition:function(){var e=Ec(!1);return e=Hh.bind(null,je,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=je,s=Tt();if(ze){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Qe===null)throw Error(o(349));(De&127)!==0||mh(a,t,l)}s.memoizedState=l;var u={value:l,getSnapshot:t};return s.queue=u,Th(gh.bind(null,a,u,e),[e]),a.flags|=2048,Da(9,{destroy:void 0},ph.bind(null,a,u,l,t),null),l},useId:function(){var e=Tt(),t=Qe.identifierPrefix;if(ze){var l=yn,a=xn;l=(a&~(1<<32-et(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Fi++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=R0++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Tc,useFormState:jh,useActionState:jh,useOptimistic:function(e){var t=Tt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Mc.bind(null,je,!0,l),l.dispatch=t,[e,t]},useMemoCache:wc,useCacheRefresh:function(){return Tt().memoizedState=U0.bind(null,je)},useEffectEvent:function(e){var t=Tt(),l={impl:e};return t.memoizedState=l,function(){if((Ue&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Dc={readContext:Nt,use:Pi,useCallback:Lh,useContext:Nt,useEffect:Cc,useImperativeHandle:zh,useInsertionEffect:Dh,useLayoutEffect:kh,useMemo:Vh,useReducer:eo,useRef:Oh,useState:function(){return eo(Rn)},useDebugValue:Ac,useDeferredValue:function(e,t){var l=it();return Bh(l,$e.memoizedState,e,t)},useTransition:function(){var e=eo(Rn)[0],t=it().memoizedState;return[typeof e=="boolean"?e:Mr(e),t]},useSyncExternalStore:hh,useId:Yh,useHostTransitionStatus:Tc,useFormState:Ch,useActionState:Ch,useOptimistic:function(e,t){var l=it();return bh(l,$e,e,t)},useMemoCache:wc,useCacheRefresh:qh};Dc.useEffectEvent=Mh;var Zh={readContext:Nt,use:Pi,useCallback:Lh,useContext:Nt,useEffect:Cc,useImperativeHandle:zh,useInsertionEffect:Dh,useLayoutEffect:kh,useMemo:Vh,useReducer:Nc,useRef:Oh,useState:function(){return Nc(Rn)},useDebugValue:Ac,useDeferredValue:function(e,t){var l=it();return $e===null?_c(l,e,t):Bh(l,$e.memoizedState,e,t)},useTransition:function(){var e=Nc(Rn)[0],t=it().memoizedState;return[typeof e=="boolean"?e:Mr(e),t]},useSyncExternalStore:hh,useId:Yh,useHostTransitionStatus:Tc,useFormState:_h,useActionState:_h,useOptimistic:function(e,t){var l=it();return $e!==null?bh(l,$e,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:wc,useCacheRefresh:qh};Zh.useEffectEvent=Mh;function kc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:b({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Rc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Zt(),s=rl(a);s.payload=t,l!=null&&(s.callback=l),t=il(e,s,a),t!==null&&(Bt(t,e,a),Ar(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Zt(),s=rl(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=il(e,s,a),t!==null&&(Bt(t,e,a),Ar(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Zt(),a=rl(l);a.tag=2,t!=null&&(a.callback=t),t=il(e,a,l),t!==null&&(Bt(t,e,l),Ar(t,e,l))}};function Qh(e,t,l,a,s,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,x):t.prototype&&t.prototype.isPureReactComponent?!br(l,a)||!br(s,u):!0}function Kh(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Rc.enqueueReplaceState(t,t.state,null)}function Kl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=b({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function Fh(e){zi(e)}function Jh(e){console.error(e)}function Ph(e){zi(e)}function ao(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function em(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function zc(e,t,l){return l=rl(l),l.tag=3,l.payload={element:null},l.callback=function(){ao(e,t)},l}function tm(e){return e=rl(e),e.tag=3,e}function nm(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var u=a.value;e.payload=function(){return s(u)},e.callback=function(){em(t,l,a)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){em(t,l,a),typeof s!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function Y0(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ea(t,l,s,!0),l=Gt.current,l!==null){switch(l.tag){case 31:case 13:return rn===null?xo():l.alternate===null&&nt===0&&(nt=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===Xi?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),iu(e,a,s)),!1;case 22:return l.flags|=65536,a===Xi?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),iu(e,a,s)),!1}throw Error(o(435,l.tag))}return iu(e,a,s),xo(),!1}if(ze)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==ec&&(e=Error(o(422),{cause:a}),Sr(tn(e,l)))):(a!==ec&&(t=Error(o(423),{cause:a}),Sr(tn(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=tn(a,l),s=zc(e.stateNode,a,s),fc(e,s),nt!==4&&(nt=2)),!1;var u=Error(o(520),{cause:a});if(u=tn(u,l),Ir===null?Ir=[u]:Ir.push(u),nt!==4&&(nt=2),t===null)return!0;a=tn(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=zc(l.stateNode,a,e),fc(l,e),!1;case 1:if(t=l.type,u=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(dl===null||!dl.has(u))))return l.flags|=65536,s&=-s,l.lanes|=s,s=tm(s),nm(s,e,l,a),fc(l,s),!1}l=l.return}while(l!==null);return!1}var Lc=Error(o(461)),ft=!1;function Et(e,t,l,a){t.child=e===null?ih(t,null,l,a):Zl(t,e.child,l,a)}function lm(e,t,l,a,s){l=l.render;var u=t.ref;if("ref"in a){var x={};for(var S in a)S!=="ref"&&(x[S]=a[S])}else x=a;return Gl(t),a=xc(e,t,l,x,u,s),S=yc(),e!==null&&!ft?(bc(e,t,s),zn(e,t,s)):(ze&&S&&Js(t),t.flags|=1,Et(e,t,a,s),t.child)}function am(e,t,l,a,s){if(e===null){var u=l.type;return typeof u=="function"&&!Qs(u)&&u.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=u,rm(e,t,u,a,s)):(e=Hi(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Gc(e,s)){var x=u.memoizedProps;if(l=l.compare,l=l!==null?l:br,l(x,a)&&e.ref===t.ref)return zn(e,t,s)}return t.flags|=1,e=On(u,a),e.ref=t.ref,e.return=t,t.child=e}function rm(e,t,l,a,s){if(e!==null){var u=e.memoizedProps;if(br(u,a)&&e.ref===t.ref)if(ft=!1,t.pendingProps=a=u,Gc(e,s))(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,zn(e,t,s)}return Vc(e,t,l,a,s)}function im(e,t,l,a){var s=a.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~u}else a=0,t.child=null;return om(e,t,u,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&qi(t,u!==null?u.cachePool:null),u!==null?ch(t,u):hc(),uh(t);else return a=t.lanes=536870912,om(e,t,u!==null?u.baseLanes|l:l,l,a)}else u!==null?(qi(t,u.cachePool),ch(t,u),sl(),t.memoizedState=null):(e!==null&&qi(t,null),hc(),sl());return Et(e,t,s,l),t.child}function Rr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function om(e,t,l,a,s){var u=oc();return u=u===null?null:{parent:ct._currentValue,pool:u},t.memoizedState={baseLanes:l,cachePool:u},e!==null&&qi(t,null),hc(),uh(t),e!==null&&Ea(e,t,a,!0),t.childLanes=s,null}function ro(e,t){return t=oo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function sm(e,t,l){return Zl(t,e.child,null,l),e=ro(t,t.pendingProps),e.flags|=2,Xt(t),t.memoizedState=null,e}function q0(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(a.mode==="hidden")return e=ro(t,a),t.lanes=536870912,Rr(null,e);if(pc(t),(e=Fe)?(e=vp(e,an),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:el!==null?{id:xn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},l=Xd(e),l.return=t,t.child=l,St=t,Fe=null)):e=null,e===null)throw nl(t);return t.lanes=536870912,null}return ro(t,a)}var u=e.memoizedState;if(u!==null){var x=u.dehydrated;if(pc(t),s)if(t.flags&256)t.flags&=-257,t=sm(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(ft||Ea(e,t,l,!1),s=(l&e.childLanes)!==0,ft||s){if(a=Qe,a!==null&&(x=Jf(a,l),x!==0&&x!==u.retryLane))throw u.retryLane=x,Ul(e,x),Bt(a,e,x),Lc;xo(),t=sm(e,t,l)}else e=u.treeContext,Fe=on(x.nextSibling),St=t,ze=!0,tl=null,an=!1,e!==null&&Zd(t,e),t=ro(t,a),t.flags|=4096;return t}return e=On(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function io(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Vc(e,t,l,a,s){return Gl(t),l=xc(e,t,l,a,void 0,s),a=yc(),e!==null&&!ft?(bc(e,t,s),zn(e,t,s)):(ze&&a&&Js(t),t.flags|=1,Et(e,t,l,s),t.child)}function cm(e,t,l,a,s,u){return Gl(t),t.updateQueue=null,l=dh(t,a,l,s),fh(e),a=yc(),e!==null&&!ft?(bc(e,t,u),zn(e,t,u)):(ze&&a&&Js(t),t.flags|=1,Et(e,t,l,u),t.child)}function um(e,t,l,a,s){if(Gl(t),t.stateNode===null){var u=va,x=l.contextType;typeof x=="object"&&x!==null&&(u=Nt(x)),u=new l(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Rc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},cc(t),x=l.contextType,u.context=typeof x=="object"&&x!==null?Nt(x):va,u.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(kc(t,l,x,a),u.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(x=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),x!==u.state&&Rc.enqueueReplaceState(u,u.state,null),Or(t,a,u,s),_r(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var S=t.memoizedProps,O=Kl(l,S);u.props=O;var G=u.context,J=l.contextType;x=va,typeof J=="object"&&J!==null&&(x=Nt(J));var te=l.getDerivedStateFromProps;J=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,J||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(S||G!==x)&&Kh(t,u,a,x),al=!1;var X=t.memoizedState;u.state=X,Or(t,a,u,s),_r(),G=t.memoizedState,S||X!==G||al?(typeof te=="function"&&(kc(t,l,te,a),G=t.memoizedState),(O=al||Qh(t,l,O,a,X,G,x))?(J||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=G),u.props=a,u.state=G,u.context=x,a=O):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,uc(e,t),x=t.memoizedProps,J=Kl(l,x),u.props=J,te=t.pendingProps,X=u.context,G=l.contextType,O=va,typeof G=="object"&&G!==null&&(O=Nt(G)),S=l.getDerivedStateFromProps,(G=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x!==te||X!==O)&&Kh(t,u,a,O),al=!1,X=t.memoizedState,u.state=X,Or(t,a,u,s),_r();var Z=t.memoizedState;x!==te||X!==Z||al||e!==null&&e.dependencies!==null&&Ii(e.dependencies)?(typeof S=="function"&&(kc(t,l,S,a),Z=t.memoizedState),(J=al||Qh(t,l,J,a,X,Z,O)||e!==null&&e.dependencies!==null&&Ii(e.dependencies))?(G||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,Z,O),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,Z,O)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Z),u.props=a,u.state=Z,u.context=O,a=J):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,io(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=Zl(t,e.child,null,s),t.child=Zl(t,null,l,s)):Et(e,t,l,s),t.memoizedState=u.state,e=t.child):e=zn(e,t,s),e}function fm(e,t,l,a){return Yl(),t.flags|=256,Et(e,t,l,a),t.child}var Bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hc(e){return{baseLanes:e,cachePool:eh()}}function Uc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Wt),e}function dm(e,t,l){var a=t.pendingProps,s=!1,u=(t.flags&128)!==0,x;if((x=u)||(x=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),x&&(s=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(s?ol(t):sl(),(e=Fe)?(e=vp(e,an),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:el!==null?{id:xn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},l=Xd(e),l.return=t,t.child=l,St=t,Fe=null)):e=null,e===null)throw nl(t);return Su(e)?t.lanes=32:t.lanes=536870912,null}var S=a.children;return a=a.fallback,s?(sl(),s=t.mode,S=oo({mode:"hidden",children:S},s),a=Il(a,s,l,null),S.return=t,a.return=t,S.sibling=a,t.child=S,a=t.child,a.memoizedState=Hc(l),a.childLanes=Uc(e,x,l),t.memoizedState=Bc,Rr(null,a)):(ol(t),Ic(t,S))}var O=e.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(u)t.flags&256?(ol(t),t.flags&=-257,t=Yc(e,t,l)):t.memoizedState!==null?(sl(),t.child=e.child,t.flags|=128,t=null):(sl(),S=a.fallback,s=t.mode,a=oo({mode:"visible",children:a.children},s),S=Il(S,s,l,null),S.flags|=2,a.return=t,S.return=t,a.sibling=S,t.child=a,Zl(t,e.child,null,l),a=t.child,a.memoizedState=Hc(l),a.childLanes=Uc(e,x,l),t.memoizedState=Bc,t=Rr(null,a));else if(ol(t),Su(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var G=x.dgst;x=G,a=Error(o(419)),a.stack="",a.digest=x,Sr({value:a,source:null,stack:null}),t=Yc(e,t,l)}else if(ft||Ea(e,t,l,!1),x=(l&e.childLanes)!==0,ft||x){if(x=Qe,x!==null&&(a=Jf(x,l),a!==0&&a!==O.retryLane))throw O.retryLane=a,Ul(e,a),Bt(x,e,a),Lc;wu(S)||xo(),t=Yc(e,t,l)}else wu(S)?(t.flags|=192,t.child=e.child,t=null):(e=O.treeContext,Fe=on(S.nextSibling),St=t,ze=!0,tl=null,an=!1,e!==null&&Zd(t,e),t=Ic(t,a.children),t.flags|=4096);return t}return s?(sl(),S=a.fallback,s=t.mode,O=e.child,G=O.sibling,a=On(O,{mode:"hidden",children:a.children}),a.subtreeFlags=O.subtreeFlags&65011712,G!==null?S=On(G,S):(S=Il(S,s,l,null),S.flags|=2),S.return=t,a.return=t,a.sibling=S,t.child=a,Rr(null,a),a=t.child,S=e.child.memoizedState,S===null?S=Hc(l):(s=S.cachePool,s!==null?(O=ct._currentValue,s=s.parent!==O?{parent:O,pool:O}:s):s=eh(),S={baseLanes:S.baseLanes|l,cachePool:s}),a.memoizedState=S,a.childLanes=Uc(e,x,l),t.memoizedState=Bc,Rr(e.child,a)):(ol(t),l=e.child,e=l.sibling,l=On(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function Ic(e,t){return t=oo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function oo(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function Yc(e,t,l){return Zl(t,e.child,null,l),e=Ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hm(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),lc(e.return,t,l)}function qc(e,t,l,a,s,u){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:u}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=a,x.tail=l,x.tailMode=s,x.treeForkCount=u)}function mm(e,t,l){var a=t.pendingProps,s=a.revealOrder,u=a.tail;a=a.children;var x=rt.current,S=(x&2)!==0;if(S?(x=x&1|2,t.flags|=128):x&=1,P(rt,x),Et(e,t,a,l),a=ze?wr:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hm(e,l,t);else if(e.tag===19)hm(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Qi(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),qc(t,!1,s,l,u,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qi(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}qc(t,!0,l,null,u,a);break;case"together":qc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function zn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),fl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ea(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=On(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=On(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Gc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ii(e)))}function G0(e,t,l){switch(t.tag){case 3:Ie(t,t.stateNode.containerInfo),ll(t,ct,e.memoizedState.cache),Yl();break;case 27:case 5:we(t);break;case 4:Ie(t,t.stateNode.containerInfo);break;case 10:ll(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,pc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ol(t),t.flags|=128,null):(l&t.child.childLanes)!==0?dm(e,t,l):(ol(t),e=zn(e,t,l),e!==null?e.sibling:null);ol(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ea(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return mm(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),P(rt,rt.current),a)break;return null;case 22:return t.lanes=0,im(e,t,l,t.pendingProps);case 24:ll(t,ct,e.memoizedState.cache)}return zn(e,t,l)}function pm(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)ft=!0;else{if(!Gc(e,l)&&(t.flags&128)===0)return ft=!1,G0(e,t,l);ft=(e.flags&131072)!==0}else ft=!1,ze&&(t.flags&1048576)!==0&&Wd(t,wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=$l(t.elementType),t.type=e,typeof e=="function")Qs(e)?(a=Kl(e,a),t.tag=1,t=um(null,t,e,a,l)):(t.tag=0,t=Vc(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===$){t.tag=11,t=lm(null,t,e,a,l);break e}else if(s===Y){t.tag=14,t=am(null,t,e,a,l);break e}}throw t=Q(e)||e,Error(o(306,t,""))}}return t;case 0:return Vc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=Kl(a,t.pendingProps),um(e,t,a,s,l);case 3:e:{if(Ie(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var u=t.memoizedState;s=u.element,uc(e,t),Or(t,a,null,l);var x=t.memoizedState;if(a=x.cache,ll(t,ct,a),a!==u.cache&&ac(t,[ct],l,!0),_r(),a=x.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=fm(e,t,a,l);break e}else if(a!==s){s=tn(Error(o(424)),t),Sr(s),t=fm(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Fe=on(e.firstChild),St=t,ze=!0,tl=null,an=!0,l=ih(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yl(),a===s){t=zn(e,t,l);break e}Et(e,t,a,l)}t=t.child}return t;case 26:return io(e,t),e===null?(l=Cp(t.type,null,t.pendingProps,null))?t.memoizedState=l:ze||(l=t.type,e=t.pendingProps,a=Eo(ye.current).createElement(l),a[wt]=t,a[Dt]=e,jt(a,l,e),bt(a),t.stateNode=a):t.memoizedState=Cp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&ze&&(a=t.stateNode=Np(t.type,t.pendingProps,ye.current),St=t,an=!0,s=Fe,gl(t.type)?(Nu=s,Fe=on(a.firstChild)):Fe=s),Et(e,t,t.pendingProps.children,l),io(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((s=a=Fe)&&(a=vv(a,t.type,t.pendingProps,an),a!==null?(t.stateNode=a,St=t,Fe=on(a.firstChild),an=!1,s=!0):s=!1),s||nl(t)),we(t),s=t.type,u=t.pendingProps,x=e!==null?e.memoizedProps:null,a=u.children,yu(s,u)?a=null:x!==null&&yu(s,x)&&(t.flags|=32),t.memoizedState!==null&&(s=xc(e,t,z0,null,null,l),Qr._currentValue=s),io(e,t),Et(e,t,a,l),t.child;case 6:return e===null&&ze&&((e=l=Fe)&&(l=wv(l,t.pendingProps,an),l!==null?(t.stateNode=l,St=t,Fe=null,e=!0):e=!1),e||nl(t)),null;case 13:return dm(e,t,l);case 4:return Ie(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Zl(t,null,a,l):Et(e,t,a,l),t.child;case 11:return lm(e,t,t.type,t.pendingProps,l);case 7:return Et(e,t,t.pendingProps,l),t.child;case 8:return Et(e,t,t.pendingProps.children,l),t.child;case 12:return Et(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,ll(t,t.type,a.value),Et(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Gl(t),s=Nt(s),a=a(s),t.flags|=1,Et(e,t,a,l),t.child;case 14:return am(e,t,t.type,t.pendingProps,l);case 15:return rm(e,t,t.type,t.pendingProps,l);case 19:return mm(e,t,l);case 31:return q0(e,t,l);case 22:return im(e,t,l,t.pendingProps);case 24:return Gl(t),a=Nt(ct),e===null?(s=oc(),s===null&&(s=Qe,u=rc(),s.pooledCache=u,u.refCount++,u!==null&&(s.pooledCacheLanes|=l),s=u),t.memoizedState={parent:a,cache:s},cc(t),ll(t,ct,s)):((e.lanes&l)!==0&&(uc(e,t),Or(t,null,null,l),_r()),s=e.memoizedState,u=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ll(t,ct,a)):(a=u.cache,ll(t,ct,a),a!==s.cache&&ac(t,[ct],l,!0))),Et(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Ln(e){e.flags|=4}function Xc(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Ym())e.flags|=8192;else throw Wl=Xi,sc}else e.flags&=-16777217}function gm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mp(t))if(Ym())e.flags|=8192;else throw Wl=Xi,sc}function so(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qf():536870912,e.lanes|=t,La|=t)}function zr(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function X0(e,t,l){var a=t.pendingProps;switch(Ps(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Dn(ct),re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Na(t)?Ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tc())),Je(t),null;case 26:var s=t.type,u=t.memoizedState;return e===null?(Ln(t),u!==null?(Je(t),gm(t,u)):(Je(t),Xc(t,s,null,a,l))):u?u!==e.memoizedState?(Ln(t),Je(t),gm(t,u)):(Je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ln(t),Je(t),Xc(t,s,e,a,l)),null;case 27:if(Re(t),l=ye.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Je(t),null}e=ie.current,Na(t)?Qd(t):(e=Np(s,a,l),t.stateNode=e,Ln(t))}return Je(t),null;case 5:if(Re(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Je(t),null}if(u=ie.current,Na(t))Qd(t);else{var x=Eo(ye.current);switch(u){case 1:u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":u=x.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?x.createElement("select",{is:a.is}):x.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?x.createElement(s,{is:a.is}):x.createElement(s)}}u[wt]=t,u[Dt]=a;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=u;e:switch(jt(u,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ln(t)}}return Je(t),Xc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=ye.current,Na(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=St,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[wt]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||dp(e.nodeValue,l)),e||nl(t,!0)}else e=Eo(e).createTextNode(a),e[wt]=t,t.stateNode=e}return Je(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Na(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[wt]=t}else Yl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),e=!1}else l=tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Xt(t),t):(Xt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Je(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Na(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[wt]=t}else Yl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),s=!1}else s=tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Xt(t),t):(Xt(t),null)}return Xt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),so(t,t.updateQueue),Je(t),null);case 4:return re(),e===null&&hu(t.stateNode.containerInfo),Je(t),null;case 10:return Dn(t.type),Je(t),null;case 19:if(V(rt),a=t.memoizedState,a===null)return Je(t),null;if(s=(t.flags&128)!==0,u=a.rendering,u===null)if(s)zr(a,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Qi(e),u!==null){for(t.flags|=128,zr(a,!1),e=u.updateQueue,t.updateQueue=e,so(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Gd(l,e),l=l.sibling;return P(rt,rt.current&1|2),ze&&Tn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Le()>mo&&(t.flags|=128,s=!0,zr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Qi(u),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,so(t,e),zr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!ze)return Je(t),null}else 2*Le()-a.renderingStartTime>mo&&l!==536870912&&(t.flags|=128,s=!0,zr(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(e=a.last,e!==null?e.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Le(),e.sibling=null,l=rt.current,P(rt,s?l&1|2:l&1),ze&&Tn(t,a.treeForkCount),e):(Je(t),null);case 22:case 23:return Xt(t),mc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),l=t.updateQueue,l!==null&&so(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&V(Xl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Dn(ct),Je(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function $0(e,t){switch(Ps(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(ct),re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Re(t),null;case 31:if(t.memoizedState!==null){if(Xt(t),t.alternate===null)throw Error(o(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Xt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(rt),null;case 4:return re(),null;case 10:return Dn(t.type),null;case 22:case 23:return Xt(t),mc(),e!==null&&V(Xl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Dn(ct),null;case 25:return null;default:return null}}function xm(e,t){switch(Ps(t),t.tag){case 3:Dn(ct),re();break;case 26:case 27:case 5:Re(t);break;case 4:re();break;case 31:t.memoizedState!==null&&Xt(t);break;case 13:Xt(t);break;case 19:V(rt);break;case 10:Dn(t.type);break;case 22:case 23:Xt(t),mc(),e!==null&&V(Xl);break;case 24:Dn(ct)}}function Lr(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var u=l.create,x=l.inst;a=u(),x.destroy=a}l=l.next}while(l!==s)}}catch(S){Xe(t,t.return,S)}}function cl(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){var x=a.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,s=t;var O=l,G=S;try{G()}catch(J){Xe(s,O,J)}}}a=a.next}while(a!==u)}}catch(J){Xe(t,t.return,J)}}function ym(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{sh(t,l)}catch(a){Xe(e,e.return,a)}}}function bm(e,t,l){l.props=Kl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Xe(e,t,a)}}function Vr(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){Xe(e,t,s)}}function bn(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){Xe(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){Xe(e,t,s)}else l.current=null}function vm(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){Xe(e,e.return,s)}}function $c(e,t,l){try{var a=e.stateNode;mv(a,e.type,l,t),a[Dt]=t}catch(s){Xe(e,e.return,s)}}function wm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gl(e.type)||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=An));else if(a!==4&&(a===27&&gl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Zc(e,t,l),e=e.sibling;e!==null;)Zc(e,t,l),e=e.sibling}function co(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&gl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(co(e,t,l),e=e.sibling;e!==null;)co(e,t,l),e=e.sibling}function Sm(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);jt(t,a,l),t[wt]=e,t[Dt]=l}catch(u){Xe(e,e.return,u)}}var Vn=!1,dt=!1,Qc=!1,Nm=typeof WeakSet=="function"?WeakSet:Set,vt=null;function W0(e,t){if(e=e.containerInfo,gu=Mo,e=zd(e),Ys(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var x=0,S=-1,O=-1,G=0,J=0,te=e,X=null;t:for(;;){for(var Z;te!==l||s!==0&&te.nodeType!==3||(S=x+s),te!==u||a!==0&&te.nodeType!==3||(O=x+a),te.nodeType===3&&(x+=te.nodeValue.length),(Z=te.firstChild)!==null;)X=te,te=Z;for(;;){if(te===e)break t;if(X===l&&++G===s&&(S=x),X===u&&++J===a&&(O=x),(Z=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=Z}l=S===-1||O===-1?null:{start:S,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(xu={focusedElem:e,selectionRange:l},Mo=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,l=t,s=u.memoizedProps,u=u.memoizedState,a=l.stateNode;try{var he=Kl(l.type,s);e=a.getSnapshotBeforeUpdate(he,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Xe(l,l.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)vu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function Em(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Hn(e,l),a&4&&Lr(5,l);break;case 1:if(Hn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){Xe(l,l.return,x)}else{var s=Kl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Xe(l,l.return,x)}}a&64&&ym(l),a&512&&Vr(l,l.return);break;case 3:if(Hn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{sh(e,t)}catch(x){Xe(l,l.return,x)}}break;case 27:t===null&&a&4&&Sm(l);case 26:case 5:Hn(e,l),t===null&&a&4&&vm(l),a&512&&Vr(l,l.return);break;case 12:Hn(e,l);break;case 31:Hn(e,l),a&4&&Am(e,l);break;case 13:Hn(e,l),a&4&&_m(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=nv.bind(null,l),Sv(e,l))));break;case 22:if(a=l.memoizedState!==null||Vn,!a){t=t!==null&&t.memoizedState!==null||dt,s=Vn;var u=dt;Vn=a,(dt=t)&&!u?Un(e,l,(l.subtreeFlags&8772)!==0):Hn(e,l),Vn=s,dt=u}break;case 30:break;default:Hn(e,l)}}function jm(e){var t=e.alternate;t!==null&&(e.alternate=null,jm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&js(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,Rt=!1;function Bn(e,t,l){for(l=l.child;l!==null;)Cm(e,t,l),l=l.sibling}function Cm(e,t,l){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ee,l)}catch{}switch(l.tag){case 26:dt||bn(l,t),Bn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:dt||bn(l,t);var a=Pe,s=Rt;gl(l.type)&&(Pe=l.stateNode,Rt=!1),Bn(e,t,l),$r(l.stateNode),Pe=a,Rt=s;break;case 5:dt||bn(l,t);case 6:if(a=Pe,s=Rt,Pe=null,Bn(e,t,l),Pe=a,Rt=s,Pe!==null)if(Rt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(l.stateNode)}catch(u){Xe(l,t,u)}else try{Pe.removeChild(l.stateNode)}catch(u){Xe(l,t,u)}break;case 18:Pe!==null&&(Rt?(e=Pe,yp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ga(e)):yp(Pe,l.stateNode));break;case 4:a=Pe,s=Rt,Pe=l.stateNode.containerInfo,Rt=!0,Bn(e,t,l),Pe=a,Rt=s;break;case 0:case 11:case 14:case 15:cl(2,l,t),dt||cl(4,l,t),Bn(e,t,l);break;case 1:dt||(bn(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&bm(l,t,a)),Bn(e,t,l);break;case 21:Bn(e,t,l);break;case 22:dt=(a=dt)||l.memoizedState!==null,Bn(e,t,l),dt=a;break;default:Bn(e,t,l)}}function Am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(l){Xe(t,t.return,l)}}}function _m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(l){Xe(t,t.return,l)}}function Z0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nm),t;default:throw Error(o(435,e.tag))}}function uo(e,t){var l=Z0(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=lv.bind(null,e,a);a.then(s,s)}})}function zt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],u=e,x=t,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(gl(S.type)){Pe=S.stateNode,Rt=!1;break e}break;case 5:Pe=S.stateNode,Rt=!1;break e;case 3:case 4:Pe=S.stateNode.containerInfo,Rt=!0;break e}S=S.return}if(Pe===null)throw Error(o(160));Cm(u,x,s),Pe=null,Rt=!1,u=s.alternate,u!==null&&(u.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Om(t,e),t=t.sibling}var fn=null;function Om(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Lt(e),a&4&&(cl(3,e,e.return),Lr(3,e),cl(5,e,e.return));break;case 1:zt(t,e),Lt(e),a&512&&(dt||l===null||bn(l,l.return)),a&64&&Vn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=fn;if(zt(t,e),Lt(e),a&512&&(dt||l===null||bn(l,l.return)),a&4){var u=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":u=s.getElementsByTagName("title")[0],(!u||u[ur]||u[wt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=s.createElement(a),s.head.insertBefore(u,s.querySelector("head > title"))),jt(u,a,l),u[wt]=e,bt(u),a=u;break e;case"link":var x=Op("link","href",s).get(a+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(u=x[S],u.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&u.getAttribute("rel")===(l.rel==null?null:l.rel)&&u.getAttribute("title")===(l.title==null?null:l.title)&&u.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}u=s.createElement(a),jt(u,a,l),s.head.appendChild(u);break;case"meta":if(x=Op("meta","content",s).get(a+(l.content||""))){for(S=0;S<x.length;S++)if(u=x[S],u.getAttribute("content")===(l.content==null?null:""+l.content)&&u.getAttribute("name")===(l.name==null?null:l.name)&&u.getAttribute("property")===(l.property==null?null:l.property)&&u.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&u.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}u=s.createElement(a),jt(u,a,l),s.head.appendChild(u);break;default:throw Error(o(468,a))}u[wt]=e,bt(u),a=u}e.stateNode=a}else Tp(s,e.type,e.stateNode);else e.stateNode=_p(s,a,e.memoizedProps);else u!==a?(u===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):u.count--,a===null?Tp(s,e.type,e.stateNode):_p(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&$c(e,e.memoizedProps,l.memoizedProps)}break;case 27:zt(t,e),Lt(e),a&512&&(dt||l===null||bn(l,l.return)),l!==null&&a&4&&$c(e,e.memoizedProps,l.memoizedProps);break;case 5:if(zt(t,e),Lt(e),a&512&&(dt||l===null||bn(l,l.return)),e.flags&32){s=e.stateNode;try{ha(s,"")}catch(he){Xe(e,e.return,he)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,$c(e,s,l!==null?l.memoizedProps:s)),a&1024&&(Qc=!0);break;case 6:if(zt(t,e),Lt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(he){Xe(e,e.return,he)}}break;case 3:if(Ao=null,s=fn,fn=jo(t.containerInfo),zt(t,e),fn=s,Lt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ga(t.containerInfo)}catch(he){Xe(e,e.return,he)}Qc&&(Qc=!1,Tm(e));break;case 4:a=fn,fn=jo(e.stateNode.containerInfo),zt(t,e),Lt(e),fn=a;break;case 12:zt(t,e),Lt(e);break;case 31:zt(t,e),Lt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,uo(e,a)));break;case 13:zt(t,e),Lt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ho=Le()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,uo(e,a)));break;case 22:s=e.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,G=Vn,J=dt;if(Vn=G||s,dt=J||O,zt(t,e),dt=J,Vn=G,Lt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||O||Vn||dt||Fl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){O=l=t;try{if(u=O.stateNode,s)x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=O.stateNode;var te=O.memoizedProps.style,X=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(he){Xe(O,O.return,he)}}}else if(t.tag===6){if(l===null){O=t;try{O.stateNode.nodeValue=s?"":O.memoizedProps}catch(he){Xe(O,O.return,he)}}}else if(t.tag===18){if(l===null){O=t;try{var Z=O.stateNode;s?bp(Z,!0):bp(O.stateNode,!1)}catch(he){Xe(O,O.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,uo(e,l))));break;case 19:zt(t,e),Lt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,uo(e,a)));break;case 30:break;case 21:break;default:zt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(wm(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,u=Wc(e);co(e,u,s);break;case 5:var x=l.stateNode;l.flags&32&&(ha(x,""),l.flags&=-33);var S=Wc(e);co(e,S,x);break;case 3:case 4:var O=l.stateNode.containerInfo,G=Wc(e);Zc(e,G,O);break;default:throw Error(o(161))}}catch(J){Xe(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Em(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Fl(t);break;case 1:bn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&bm(t,t.return,l),Fl(t);break;case 27:$r(t.stateNode);case 26:case 5:bn(t,t.return),Fl(t);break;case 22:t.memoizedState===null&&Fl(t);break;case 30:Fl(t);break;default:Fl(t)}e=e.sibling}}function Un(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,u=t,x=u.flags;switch(u.tag){case 0:case 11:case 15:Un(s,u,l),Lr(4,u);break;case 1:if(Un(s,u,l),a=u,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(G){Xe(a,a.return,G)}if(a=u,s=a.updateQueue,s!==null){var S=a.stateNode;try{var O=s.shared.hiddenCallbacks;if(O!==null)for(s.shared.hiddenCallbacks=null,s=0;s<O.length;s++)oh(O[s],S)}catch(G){Xe(a,a.return,G)}}l&&x&64&&ym(u),Vr(u,u.return);break;case 27:Sm(u);case 26:case 5:Un(s,u,l),l&&a===null&&x&4&&vm(u),Vr(u,u.return);break;case 12:Un(s,u,l);break;case 31:Un(s,u,l),l&&x&4&&Am(s,u);break;case 13:Un(s,u,l),l&&x&4&&_m(s,u);break;case 22:u.memoizedState===null&&Un(s,u,l),Vr(u,u.return);break;case 30:break;default:Un(s,u,l)}t=t.sibling}}function Kc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Nr(l))}function Fc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nr(e))}function dn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mm(e,t,l,a),t=t.sibling}function Mm(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:dn(e,t,l,a),s&2048&&Lr(9,t);break;case 1:dn(e,t,l,a);break;case 3:dn(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nr(e)));break;case 12:if(s&2048){dn(e,t,l,a),e=t.stateNode;try{var u=t.memoizedProps,x=u.id,S=u.onPostCommit;typeof S=="function"&&S(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Xe(t,t.return,O)}}else dn(e,t,l,a);break;case 31:dn(e,t,l,a);break;case 13:dn(e,t,l,a);break;case 23:break;case 22:u=t.stateNode,x=t.alternate,t.memoizedState!==null?u._visibility&2?dn(e,t,l,a):Br(e,t):u._visibility&2?dn(e,t,l,a):(u._visibility|=2,ka(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Kc(x,t);break;case 24:dn(e,t,l,a),s&2048&&Fc(t.alternate,t);break;default:dn(e,t,l,a)}}function ka(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,x=t,S=l,O=a,G=x.flags;switch(x.tag){case 0:case 11:case 15:ka(u,x,S,O,s),Lr(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&2?ka(u,x,S,O,s):Br(u,x):(J._visibility|=2,ka(u,x,S,O,s)),s&&G&2048&&Kc(x.alternate,x);break;case 24:ka(u,x,S,O,s),s&&G&2048&&Fc(x.alternate,x);break;default:ka(u,x,S,O,s)}t=t.sibling}}function Br(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:Br(l,a),s&2048&&Kc(a.alternate,a);break;case 24:Br(l,a),s&2048&&Fc(a.alternate,a);break;default:Br(l,a)}t=t.sibling}}var Hr=8192;function Ra(e,t,l){if(e.subtreeFlags&Hr)for(e=e.child;e!==null;)Dm(e,t,l),e=e.sibling}function Dm(e,t,l){switch(e.tag){case 26:Ra(e,t,l),e.flags&Hr&&e.memoizedState!==null&&Rv(l,fn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,t,l);break;case 3:case 4:var a=fn;fn=jo(e.stateNode.containerInfo),Ra(e,t,l),fn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Hr,Hr=16777216,Ra(e,t,l),Hr=a):Ra(e,t,l));break;default:Ra(e,t,l)}}function km(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ur(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,zm(a,e)}km(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rm(e),e=e.sibling}function Rm(e){switch(e.tag){case 0:case 11:case 15:Ur(e),e.flags&2048&&cl(9,e,e.return);break;case 3:Ur(e);break;case 12:Ur(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fo(e)):Ur(e);break;default:Ur(e)}}function fo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,zm(a,e)}km(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:cl(8,t,t.return),fo(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,fo(t));break;default:fo(t)}e=e.sibling}}function zm(e,t){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:cl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Nr(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,vt=a;else e:for(l=e;vt!==null;){a=vt;var s=a.sibling,u=a.return;if(jm(a),a===l){vt=null;break e}if(s!==null){s.return=u,vt=s;break e}vt=u}}}var Q0={getCacheForType:function(e){var t=Nt(ct),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Nt(ct).controller.signal}},K0=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Qe=null,Te=null,De=0,Ge=0,$t=null,ul=!1,za=!1,Jc=!1,In=0,nt=0,fl=0,Jl=0,Pc=0,Wt=0,La=0,Ir=null,Vt=null,eu=!1,ho=0,Lm=0,mo=1/0,po=null,dl=null,mt=0,hl=null,Va=null,Yn=0,tu=0,nu=null,Vm=null,Yr=0,lu=null;function Zt(){return(Ue&2)!==0&&De!==0?De&-De:D.T!==null?cu():Pf()}function Bm(){if(Wt===0)if((De&536870912)===0||ze){var e=Rl;Rl<<=1,(Rl&3932160)===0&&(Rl=262144),Wt=e}else Wt=536870912;return e=Gt.current,e!==null&&(e.flags|=32),Wt}function Bt(e,t,l){(e===Qe&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),ml(e,De,Wt,!1)),cr(e,l),((Ue&2)===0||e!==Qe)&&(e===Qe&&((Ue&2)===0&&(Jl|=l),nt===4&&ml(e,De,Wt,!1)),vn(e))}function Hm(e,t,l){if((Ue&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||sr(e,t),s=a?P0(e,t):ru(e,t,!0),u=a;do{if(s===0){za&&!a&&ml(e,t,0,!1);break}else{if(l=e.current.alternate,u&&!F0(l)){s=ru(e,t,!1),u=!1;continue}if(s===2){if(u=t,e.errorRecoveryDisabledLanes&u)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var S=e;s=Ir;var O=S.current.memoizedState.isDehydrated;if(O&&(Ba(S,x).flags|=256),x=ru(S,x,!1),x!==2){if(Jc&&!O){S.errorRecoveryDisabledLanes|=u,Jl|=u,s=4;break e}u=Vt,Vt=s,u!==null&&(Vt===null?Vt=u:Vt.push.apply(Vt,u))}s=x}if(u=!1,s!==2)continue}}if(s===1){Ba(e,0),ml(e,t,0,!0);break}e:{switch(a=e,u=s,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ml(a,t,Wt,!ul);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=ho+300-Le(),10<s)){if(ml(a,t,Wt,!ul),Ei(a,0,!0)!==0)break e;Yn=t,a.timeoutHandle=gp(Um.bind(null,a,l,Vt,po,eu,t,Wt,Jl,La,ul,u,"Throttled",-0,0),s);break e}Um(a,l,Vt,po,eu,t,Wt,Jl,La,ul,u,null,-0,0)}}break}while(!0);vn(e)}function Um(e,t,l,a,s,u,x,S,O,G,J,te,X,Z){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},Dm(t,u,te);var he=(u&62914560)===u?ho-Le():(u&4194048)===u?Lm-Le():0;if(he=zv(te,he),he!==null){Yn=u,e.cancelPendingCommit=he(Zm.bind(null,e,t,u,l,a,s,x,S,O,J,te,null,X,Z)),ml(e,u,x,!G);return}}Zm(e,t,u,l,a,s,x,S,O)}function F0(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],u=s.getSnapshot;s=s.value;try{if(!Yt(u(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ml(e,t,l,a){t&=~Pc,t&=~Jl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var u=31-et(s),x=1<<u;a[u]=-1,s&=~x}l!==0&&Kf(e,l,t)}function go(){return(Ue&6)===0?(qr(0),!1):!0}function au(){if(Te!==null){if(Ge===0)var e=Te.return;else e=Te,Mn=ql=null,vc(e),_a=null,jr=0,e=Te;for(;e!==null;)xm(e.alternate,e),e=e.return;Te=null}}function Ba(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,xv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Yn=0,au(),Qe=e,Te=l=On(e.current,null),De=t,Ge=0,$t=null,ul=!1,za=sr(e,t),Jc=!1,La=Wt=Pc=Jl=fl=nt=0,Vt=Ir=null,eu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-et(a),u=1<<s;t|=e[s],a&=~u}return In=t,Li(),l}function Im(e,t){je=null,D.H=kr,t===Aa||t===Gi?(t=lh(),Ge=3):t===sc?(t=lh(),Ge=4):Ge=t===Lc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$t=t,Te===null&&(nt=1,ao(e,tn(t,e.current)))}function Ym(){var e=Gt.current;return e===null?!0:(De&4194048)===De?rn===null:(De&62914560)===De||(De&536870912)!==0?e===rn:!1}function qm(){var e=D.H;return D.H=kr,e===null?kr:e}function Gm(){var e=D.A;return D.A=Q0,e}function xo(){nt=4,ul||(De&4194048)!==De&&Gt.current!==null||(za=!0),(fl&134217727)===0&&(Jl&134217727)===0||Qe===null||ml(Qe,De,Wt,!1)}function ru(e,t,l){var a=Ue;Ue|=2;var s=qm(),u=Gm();(Qe!==e||De!==t)&&(po=null,Ba(e,t)),t=!1;var x=nt;e:do try{if(Ge!==0&&Te!==null){var S=Te,O=$t;switch(Ge){case 8:au(),x=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var G=Ge;if(Ge=0,$t=null,Ha(e,S,O,G),l&&za){x=0;break e}break;default:G=Ge,Ge=0,$t=null,Ha(e,S,O,G)}}J0(),x=nt;break}catch(J){Im(e,J)}while(!0);return t&&e.shellSuspendCounter++,Mn=ql=null,Ue=a,D.H=s,D.A=u,Te===null&&(Qe=null,De=0,Li()),x}function J0(){for(;Te!==null;)Xm(Te)}function P0(e,t){var l=Ue;Ue|=2;var a=qm(),s=Gm();Qe!==e||De!==t?(po=null,mo=Le()+500,Ba(e,t)):za=sr(e,t);e:do try{if(Ge!==0&&Te!==null){t=Te;var u=$t;t:switch(Ge){case 1:Ge=0,$t=null,Ha(e,t,u,1);break;case 2:case 9:if(th(u)){Ge=0,$t=null,$m(t);break}t=function(){Ge!==2&&Ge!==9||Qe!==e||(Ge=7),vn(e)},u.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:th(u)?(Ge=0,$t=null,$m(t)):(Ge=0,$t=null,Ha(e,t,u,7));break;case 5:var x=null;switch(Te.tag){case 26:x=Te.memoizedState;case 5:case 27:var S=Te;if(x?Mp(x):S.stateNode.complete){Ge=0,$t=null;var O=S.sibling;if(O!==null)Te=O;else{var G=S.return;G!==null?(Te=G,yo(G)):Te=null}break t}}Ge=0,$t=null,Ha(e,t,u,5);break;case 6:Ge=0,$t=null,Ha(e,t,u,6);break;case 8:au(),nt=6;break e;default:throw Error(o(462))}}ev();break}catch(J){Im(e,J)}while(!0);return Mn=ql=null,D.H=a,D.A=s,Ue=l,Te!==null?0:(Qe=null,De=0,Li(),nt)}function ev(){for(;Te!==null&&!Ye();)Xm(Te)}function Xm(e){var t=pm(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?yo(e):Te=t}function $m(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=cm(l,t,t.pendingProps,t.type,void 0,De);break;case 11:t=cm(l,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:vc(t);default:xm(l,t),t=Te=Gd(t,In),t=pm(l,t,In)}e.memoizedProps=e.pendingProps,t===null?yo(e):Te=t}function Ha(e,t,l,a){Mn=ql=null,vc(t),_a=null,jr=0;var s=t.return;try{if(Y0(e,s,t,l,De)){nt=1,ao(e,tn(l,e.current)),Te=null;return}}catch(u){if(s!==null)throw Te=s,u;nt=1,ao(e,tn(l,e.current)),Te=null;return}t.flags&32768?(ze||a===1?e=!0:za||(De&536870912)!==0?e=!1:(ul=e=!0,(a===2||a===9||a===3||a===6)&&(a=Gt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Wm(t,e)):yo(t)}function yo(e){var t=e;do{if((t.flags&32768)!==0){Wm(t,ul);return}e=t.return;var l=X0(t.alternate,t,In);if(l!==null){Te=l;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);nt===0&&(nt=5)}function Wm(e,t){do{var l=$0(e.alternate,e);if(l!==null){l.flags&=32767,Te=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=l}while(e!==null);nt=6,Te=null}function Zm(e,t,l,a,s,u,x,S,O){e.cancelPendingCommit=null;do bo();while(mt!==0);if((Ue&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Ws,kb(e,l,u,x,S,O),e===Qe&&(Te=Qe=null,De=0),Va=t,hl=e,Yn=l,tu=u,nu=s,Vm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,av(Fn,function(){return Pm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null,s=M.p,M.p=2,x=Ue,Ue|=4;try{W0(e,t,l)}finally{Ue=x,M.p=s,D.T=a}}mt=1,Qm(),Km(),Fm()}}function Qm(){if(mt===1){mt=0;var e=hl,t=Va,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var a=M.p;M.p=2;var s=Ue;Ue|=4;try{Om(t,e);var u=xu,x=zd(e.containerInfo),S=u.focusedElem,O=u.selectionRange;if(x!==S&&S&&S.ownerDocument&&Rd(S.ownerDocument.documentElement,S)){if(O!==null&&Ys(S)){var G=O.start,J=O.end;if(J===void 0&&(J=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(J,S.value.length);else{var te=S.ownerDocument||document,X=te&&te.defaultView||window;if(X.getSelection){var Z=X.getSelection(),he=S.textContent.length,ve=Math.min(O.start,he),Ze=O.end===void 0?ve:Math.min(O.end,he);!Z.extend&&ve>Ze&&(x=Ze,Ze=ve,ve=x);var B=kd(S,ve),R=kd(S,Ze);if(B&&R&&(Z.rangeCount!==1||Z.anchorNode!==B.node||Z.anchorOffset!==B.offset||Z.focusNode!==R.node||Z.focusOffset!==R.offset)){var q=te.createRange();q.setStart(B.node,B.offset),Z.removeAllRanges(),ve>Ze?(Z.addRange(q),Z.extend(R.node,R.offset)):(q.setEnd(R.node,R.offset),Z.addRange(q))}}}}for(te=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&te.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Mo=!!gu,xu=gu=null}finally{Ue=s,M.p=a,D.T=l}}e.current=t,mt=2}}function Km(){if(mt===2){mt=0;var e=hl,t=Va,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var a=M.p;M.p=2;var s=Ue;Ue|=4;try{Em(e,t.alternate,t)}finally{Ue=s,M.p=a,D.T=l}}mt=3}}function Fm(){if(mt===4||mt===3){mt=0,Ke();var e=hl,t=Va,l=Yn,a=Vm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mt=5:(mt=0,Va=hl=null,Jm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(dl=null),Ns(l),t=t.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ee,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=D.T,s=M.p,M.p=2,D.T=null;try{for(var u=e.onRecoverableError,x=0;x<a.length;x++){var S=a[x];u(S.value,{componentStack:S.stack})}}finally{D.T=t,M.p=s}}(Yn&3)!==0&&bo(),vn(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===lu?Yr++:(Yr=0,lu=e):Yr=0,qr(0)}}function Jm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Nr(t)))}function bo(){return Qm(),Km(),Fm(),Pm()}function Pm(){if(mt!==5)return!1;var e=hl,t=tu;tu=0;var l=Ns(Yn),a=D.T,s=M.p;try{M.p=32>l?32:l,D.T=null,l=nu,nu=null;var u=hl,x=Yn;if(mt=0,Va=hl=null,Yn=0,(Ue&6)!==0)throw Error(o(331));var S=Ue;if(Ue|=4,Rm(u.current),Mm(u,u.current,x,l),Ue=S,qr(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ee,u)}catch{}return!0}finally{M.p=s,D.T=a,Jm(e,t)}}function ep(e,t,l){t=tn(l,t),t=zc(e.stateNode,t,2),e=il(e,t,2),e!==null&&(cr(e,2),vn(e))}function Xe(e,t,l){if(e.tag===3)ep(e,e,l);else for(;t!==null;){if(t.tag===3){ep(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(dl===null||!dl.has(a))){e=tn(l,e),l=tm(2),a=il(t,l,2),a!==null&&(nm(l,a,t,e),cr(a,2),vn(a));break}}t=t.return}}function iu(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new K0;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(Jc=!0,s.add(l),e=tv.bind(null,e,t,l),t.then(e,e))}function tv(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Qe===e&&(De&l)===l&&(nt===4||nt===3&&(De&62914560)===De&&300>Le()-ho?(Ue&2)===0&&Ba(e,0):Pc|=l,La===De&&(La=0)),vn(e)}function tp(e,t){t===0&&(t=Qf()),e=Ul(e,t),e!==null&&(cr(e,t),vn(e))}function nv(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),tp(e,l)}function lv(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),tp(e,l)}function av(e,t){return se(e,t)}var vo=null,Ua=null,ou=!1,wo=!1,su=!1,pl=0;function vn(e){e!==Ua&&e.next===null&&(Ua===null?vo=Ua=e:Ua=Ua.next=e),wo=!0,ou||(ou=!0,iv())}function qr(e,t){if(!su&&wo){su=!0;do for(var l=!1,a=vo;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var u=0;else{var x=a.suspendedLanes,S=a.pingedLanes;u=(1<<31-et(42|e)+1)-1,u&=s&~(x&~S),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(l=!0,rp(a,u))}else u=De,u=Ei(a,a===Qe?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||sr(a,u)||(l=!0,rp(a,u));a=a.next}while(l);su=!1}}function rv(){np()}function np(){wo=ou=!1;var e=0;pl!==0&&gv()&&(e=pl);for(var t=Le(),l=null,a=vo;a!==null;){var s=a.next,u=lp(a,t);u===0?(a.next=null,l===null?vo=s:l.next=s,s===null&&(Ua=l)):(l=a,(e!==0||(u&3)!==0)&&(wo=!0)),a=s}mt!==0&&mt!==5||qr(e),pl!==0&&(pl=0)}function lp(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var x=31-et(u),S=1<<x,O=s[x];O===-1?((S&l)===0||(S&a)!==0)&&(s[x]=Db(S,t)):O<=t&&(e.expiredLanes|=S),u&=~S}if(t=Qe,l=De,l=Ei(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Se(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||sr(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Se(a),Ns(l)){case 2:case 8:l=Kn;break;case 32:l=Fn;break;case 268435456:l=ra;break;default:l=Fn}return a=ap.bind(null,e),l=se(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Se(a),e.callbackPriority=2,e.callbackNode=null,2}function ap(e,t){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(bo()&&e.callbackNode!==l)return null;var a=De;return a=Ei(e,e===Qe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Hm(e,a,t),lp(e,Le()),e.callbackNode!=null&&e.callbackNode===l?ap.bind(null,e):null)}function rp(e,t){if(bo())return null;Hm(e,t,!0)}function iv(){yv(function(){(Ue&6)!==0?se(Qn,rv):np()})}function cu(){if(pl===0){var e=ja;e===0&&(e=kl,kl<<=1,(kl&261888)===0&&(kl=256)),pl=e}return pl}function ip(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_i(""+e)}function op(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function ov(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var u=ip((s[Dt]||null).action),x=a.submitter;x&&(t=(t=x[Dt]||null)?ip(t.formAction):x.getAttribute("formAction"),t!==null&&(u=t,x=null));var S=new Di("action","action",null,a,s);e.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(pl!==0){var O=x?op(s,x):new FormData(s);Oc(l,{pending:!0,data:O,method:s.method,action:u},null,O)}}else typeof u=="function"&&(S.preventDefault(),O=x?op(s,x):new FormData(s),Oc(l,{pending:!0,data:O,method:s.method,action:u},u,O))},currentTarget:s}]})}}for(var uu=0;uu<$s.length;uu++){var fu=$s[uu],sv=fu.toLowerCase(),cv=fu[0].toUpperCase()+fu.slice(1);un(sv,"on"+cv)}un(Bd,"onAnimationEnd"),un(Hd,"onAnimationIteration"),un(Ud,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(j0,"onTransitionRun"),un(C0,"onTransitionStart"),un(A0,"onTransitionCancel"),un(Id,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),Ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ll("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gr));function sp(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var x=a.length-1;0<=x;x--){var S=a[x],O=S.instance,G=S.currentTarget;if(S=S.listener,O!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=G;try{u(s)}catch(J){zi(J)}s.currentTarget=null,u=O}else for(x=0;x<a.length;x++){if(S=a[x],O=S.instance,G=S.currentTarget,S=S.listener,O!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=G;try{u(s)}catch(J){zi(J)}s.currentTarget=null,u=O}}}}function Me(e,t){var l=t[Es];l===void 0&&(l=t[Es]=new Set);var a=e+"__bubble";l.has(a)||(cp(t,e,2,!1),l.add(a))}function du(e,t,l){var a=0;t&&(a|=4),cp(l,e,a,t)}var So="_reactListening"+Math.random().toString(36).slice(2);function hu(e){if(!e[So]){e[So]=!0,nd.forEach(function(l){l!=="selectionchange"&&(uv.has(l)||du(l,!1,e),du(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[So]||(t[So]=!0,du("selectionchange",!1,t))}}function cp(e,t,l,a){switch(Bp(t)){case 2:var s=Bv;break;case 8:s=Hv;break;default:s=_u}l=s.bind(null,t,l,e),s=void 0,!ks||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function mu(e,t,l,a,s){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var S=a.stateNode.containerInfo;if(S===s)break;if(x===4)for(x=a.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===s)return;x=x.return}for(;S!==null;){if(x=sa(S),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){a=u=x;continue e}S=S.parentNode}}a=a.return}md(function(){var G=u,J=Ms(l),te=[];e:{var X=Yd.get(e);if(X!==void 0){var Z=Di,he=e;switch(e){case"keypress":if(Ti(l)===0)break e;case"keydown":case"keyup":Z=l0;break;case"focusin":he="focus",Z=Vs;break;case"focusout":he="blur",Z=Vs;break;case"beforeblur":case"afterblur":Z=Vs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Xb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=i0;break;case Bd:case Hd:case Ud:Z=Zb;break;case Id:Z=s0;break;case"scroll":case"scrollend":Z=qb;break;case"wheel":Z=u0;break;case"copy":case"cut":case"paste":Z=Kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=bd;break;case"toggle":case"beforetoggle":Z=d0}var ve=(t&4)!==0,Ze=!ve&&(e==="scroll"||e==="scrollend"),B=ve?X!==null?X+"Capture":null:X;ve=[];for(var R=G,q;R!==null;){var ee=R;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||B===null||(ee=dr(R,B),ee!=null&&ve.push(Xr(R,ee,q))),Ze)break;R=R.return}0<ve.length&&(X=new Z(X,he,null,l,J),te.push({event:X,listeners:ve}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",X&&l!==Ts&&(he=l.relatedTarget||l.fromElement)&&(sa(he)||he[oa]))break e;if((Z||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(he=l.relatedTarget||l.toElement,Z=G,he=he?sa(he):null,he!==null&&(Ze=f(he),ve=he.tag,he!==Ze||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(Z=null,he=G),Z!==he)){if(ve=xd,ee="onMouseLeave",B="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ve=bd,ee="onPointerLeave",B="onPointerEnter",R="pointer"),Ze=Z==null?X:fr(Z),q=he==null?X:fr(he),X=new ve(ee,R+"leave",Z,l,J),X.target=Ze,X.relatedTarget=q,ee=null,sa(J)===G&&(ve=new ve(B,R+"enter",he,l,J),ve.target=q,ve.relatedTarget=Ze,ee=ve),Ze=ee,Z&&he)t:{for(ve=fv,B=Z,R=he,q=0,ee=B;ee;ee=ve(ee))q++;ee=0;for(var be=R;be;be=ve(be))ee++;for(;0<q-ee;)B=ve(B),q--;for(;0<ee-q;)R=ve(R),ee--;for(;q--;){if(B===R||R!==null&&B===R.alternate){ve=B;break t}B=ve(B),R=ve(R)}ve=null}else ve=null;Z!==null&&up(te,X,Z,ve,!1),he!==null&&Ze!==null&&up(te,Ze,he,ve,!0)}}e:{if(X=G?fr(G):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var Ve=Ad;else if(jd(X))if(_d)Ve=S0;else{Ve=v0;var ge=b0}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&Os(G.elementType)&&(Ve=Ad):Ve=w0;if(Ve&&(Ve=Ve(e,G))){Cd(te,Ve,l,J);break e}ge&&ge(e,X,G),e==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&_s(X,"number",X.value)}switch(ge=G?fr(G):window,e){case"focusin":(jd(ge)||ge.contentEditable==="true")&&(xa=ge,qs=G,vr=null);break;case"focusout":vr=qs=xa=null;break;case"mousedown":Gs=!0;break;case"contextmenu":case"mouseup":case"dragend":Gs=!1,Ld(te,l,J);break;case"selectionchange":if(E0)break;case"keydown":case"keyup":Ld(te,l,J)}var Ce;if(Hs)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ga?Nd(e,l)&&(ke="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(vd&&l.locale!=="ko"&&(ga||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ga&&(Ce=pd()):(Pn=J,Rs="value"in Pn?Pn.value:Pn.textContent,ga=!0)),ge=No(G,ke),0<ge.length&&(ke=new yd(ke,e,null,l,J),te.push({event:ke,listeners:ge}),Ce?ke.data=Ce:(Ce=Ed(l),Ce!==null&&(ke.data=Ce)))),(Ce=m0?p0(e,l):g0(e,l))&&(ke=No(G,"onBeforeInput"),0<ke.length&&(ge=new yd("onBeforeInput","beforeinput",null,l,J),te.push({event:ge,listeners:ke}),ge.data=Ce)),ov(te,e,G,l,J)}sp(te,t)})}function Xr(e,t,l){return{instance:e,listener:t,currentTarget:l}}function No(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,u=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||u===null||(s=dr(e,l),s!=null&&a.unshift(Xr(e,s,u)),s=dr(e,t),s!=null&&a.push(Xr(e,s,u))),e.tag===3)return a;e=e.return}return[]}function fv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function up(e,t,l,a,s){for(var u=t._reactName,x=[];l!==null&&l!==a;){var S=l,O=S.alternate,G=S.stateNode;if(S=S.tag,O!==null&&O===a)break;S!==5&&S!==26&&S!==27||G===null||(O=G,s?(G=dr(l,u),G!=null&&x.unshift(Xr(l,G,O))):s||(G=dr(l,u),G!=null&&x.push(Xr(l,G,O)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var dv=/\r\n?/g,hv=/\u0000|\uFFFD/g;function fp(e){return(typeof e=="string"?e:""+e).replace(dv,`
`).replace(hv,"")}function dp(e,t){return t=fp(t),fp(e)===t}function We(e,t,l,a,s,u){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ha(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ha(e,""+a);break;case"className":Ci(e,"class",a);break;case"tabIndex":Ci(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(e,l,a);break;case"style":dd(e,a,u);break;case"data":if(t!=="object"){Ci(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=_i(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(l==="formAction"?(t!=="input"&&We(e,t,"name",s.name,s,null),We(e,t,"formEncType",s.formEncType,s,null),We(e,t,"formMethod",s.formMethod,s,null),We(e,t,"formTarget",s.formTarget,s,null)):(We(e,t,"encType",s.encType,s,null),We(e,t,"method",s.method,s,null),We(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=_i(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=An);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=_i(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Me("beforetoggle",e),Me("toggle",e),ji(e,"popover",a);break;case"xlinkActuate":Cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Cn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Cn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Cn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Cn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ji(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ib.get(l)||l,ji(e,l,a))}}function pu(e,t,l,a,s,u){switch(l){case"style":dd(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?ha(e,a):(typeof a=="number"||typeof a=="bigint")&&ha(e,""+a);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"onClick":a!=null&&(e.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ld.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),u=e[Dt]||null,u=u!=null?u[l]:null,typeof u=="function"&&e.removeEventListener(t,u,s),typeof a=="function")){typeof u!="function"&&u!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):ji(e,l,a)}}}function jt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var a=!1,s=!1,u;for(u in l)if(l.hasOwnProperty(u)){var x=l[u];if(x!=null)switch(u){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:We(e,t,u,x,l,null)}}s&&We(e,t,"srcSet",l.srcSet,l,null),a&&We(e,t,"src",l.src,l,null);return;case"input":Me("invalid",e);var S=u=x=s=null,O=null,G=null;for(a in l)if(l.hasOwnProperty(a)){var J=l[a];if(J!=null)switch(a){case"name":s=J;break;case"type":x=J;break;case"checked":O=J;break;case"defaultChecked":G=J;break;case"value":u=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,t));break;default:We(e,t,a,J,l,null)}}sd(e,u,S,O,G,x,s,!1);return;case"select":Me("invalid",e),a=x=u=null;for(s in l)if(l.hasOwnProperty(s)&&(S=l[s],S!=null))switch(s){case"value":u=S;break;case"defaultValue":x=S;break;case"multiple":a=S;default:We(e,t,s,S,l,null)}t=u,l=x,e.multiple=!!a,t!=null?da(e,!!a,t,!1):l!=null&&da(e,!!a,l,!0);return;case"textarea":Me("invalid",e),u=s=a=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":a=S;break;case"defaultValue":s=S;break;case"children":u=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:We(e,t,x,S,l,null)}ud(e,a,s,u);return;case"option":for(O in l)l.hasOwnProperty(O)&&(a=l[O],a!=null)&&(O==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":We(e,t,O,a,l,null));return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(a=0;a<Gr.length;a++)Me(Gr[a],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(a=l[G],a!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:We(e,t,G,a,l,null)}return;default:if(Os(t)){for(J in l)l.hasOwnProperty(J)&&(a=l[J],a!==void 0&&pu(e,t,J,a,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(a=l[S],a!=null&&We(e,t,S,a,l,null))}function mv(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,u=null,x=null,S=null,O=null,G=null,J=null;for(Z in l){var te=l[Z];if(l.hasOwnProperty(Z)&&te!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":O=te;default:a.hasOwnProperty(Z)||We(e,t,Z,null,a,te)}}for(var X in a){var Z=a[X];if(te=l[X],a.hasOwnProperty(X)&&(Z!=null||te!=null))switch(X){case"type":u=Z;break;case"name":s=Z;break;case"checked":G=Z;break;case"defaultChecked":J=Z;break;case"value":x=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,t));break;default:Z!==te&&We(e,t,X,Z,a,te)}}As(e,x,S,O,G,J,u,s);return;case"select":Z=x=S=X=null;for(u in l)if(O=l[u],l.hasOwnProperty(u)&&O!=null)switch(u){case"value":break;case"multiple":Z=O;default:a.hasOwnProperty(u)||We(e,t,u,null,a,O)}for(s in a)if(u=a[s],O=l[s],a.hasOwnProperty(s)&&(u!=null||O!=null))switch(s){case"value":X=u;break;case"defaultValue":S=u;break;case"multiple":x=u;default:u!==O&&We(e,t,s,u,a,O)}t=S,l=x,a=Z,X!=null?da(e,!!l,X,!1):!!a!=!!l&&(t!=null?da(e,!!l,t,!0):da(e,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(S in l)if(s=l[S],l.hasOwnProperty(S)&&s!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(e,t,S,null,a,s)}for(x in a)if(s=a[x],u=l[x],a.hasOwnProperty(x)&&(s!=null||u!=null))switch(x){case"value":X=s;break;case"defaultValue":Z=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==u&&We(e,t,x,s,a,u)}cd(e,X,Z);return;case"option":for(var he in l)X=l[he],l.hasOwnProperty(he)&&X!=null&&!a.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:We(e,t,he,null,a,X));for(O in a)X=a[O],Z=l[O],a.hasOwnProperty(O)&&X!==Z&&(X!=null||Z!=null)&&(O==="selected"?e.selected=X&&typeof X!="function"&&typeof X!="symbol":We(e,t,O,X,a,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)X=l[ve],l.hasOwnProperty(ve)&&X!=null&&!a.hasOwnProperty(ve)&&We(e,t,ve,null,a,X);for(G in a)if(X=a[G],Z=l[G],a.hasOwnProperty(G)&&X!==Z&&(X!=null||Z!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,t));break;default:We(e,t,G,X,a,Z)}return;default:if(Os(t)){for(var Ze in l)X=l[Ze],l.hasOwnProperty(Ze)&&X!==void 0&&!a.hasOwnProperty(Ze)&&pu(e,t,Ze,void 0,a,X);for(J in a)X=a[J],Z=l[J],!a.hasOwnProperty(J)||X===Z||X===void 0&&Z===void 0||pu(e,t,J,X,a,Z);return}}for(var B in l)X=l[B],l.hasOwnProperty(B)&&X!=null&&!a.hasOwnProperty(B)&&We(e,t,B,null,a,X);for(te in a)X=a[te],Z=l[te],!a.hasOwnProperty(te)||X===Z||X==null&&Z==null||We(e,t,te,X,a,Z)}function hp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],u=s.transferSize,x=s.initiatorType,S=s.duration;if(u&&S&&hp(x)){for(x=0,S=s.responseEnd,a+=1;a<l.length;a++){var O=l[a],G=O.startTime;if(G>S)break;var J=O.transferSize,te=O.initiatorType;J&&hp(te)&&(O=O.responseEnd,x+=J*(O<S?1:(S-G)/(O-G)))}if(--a,t+=8*(u+x)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gu=null,xu=null;function Eo(e){return e.nodeType===9?e:e.ownerDocument}function mp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=null;function gv(){var e=window.event;return e&&e.type==="popstate"?e===bu?!1:(bu=e,!0):(bu=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,xv=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,yv=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(e){return xp.resolve(null).then(e).catch(bv)}:gp;function bv(e){setTimeout(function(){throw e})}function gl(e){return e==="head"}function yp(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),Ga(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")$r(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,$r(l);for(var u=l.firstChild;u;){var x=u.nextSibling,S=u.nodeName;u[ur]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=x}}else l==="body"&&$r(e.ownerDocument.body);l=s}while(l);Ga(t)}function bp(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function vu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vu(l),js(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function vv(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ur])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function wv(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=on(e.nextSibling),e===null))return null;return e}function vp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=on(e.nextSibling),e===null))return null;return e}function wu(e){return e.data==="$?"||e.data==="$~"}function Su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sv(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Nu=null;function wp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return on(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Sp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Np(e,t,l){switch(t=Eo(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function $r(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);js(e)}var sn=new Map,Ep=new Set;function jo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=M.d;M.d={f:Nv,r:Ev,D:jv,C:Cv,L:Av,m:_v,X:Tv,S:Ov,M:Mv};function Nv(){var e=qn.f(),t=go();return e||t}function Ev(e){var t=ca(e);t!==null&&t.tag===5&&t.type==="form"?Ih(t):qn.r(e)}var Ia=typeof document>"u"?null:document;function jp(e,t,l){var a=Ia;if(a&&typeof t=="string"&&t){var s=Pt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),Ep.has(s)||(Ep.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),jt(t,"link",e),bt(t),a.head.appendChild(t)))}}function jv(e){qn.D(e),jp("dns-prefetch",e,null)}function Cv(e,t){qn.C(e,t),jp("preconnect",e,t)}function Av(e,t,l){qn.L(e,t,l);var a=Ia;if(a&&e&&t){var s='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+Pt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+Pt(l.imageSizes)+'"]')):s+='[href="'+Pt(e)+'"]';var u=s;switch(t){case"style":u=Ya(e);break;case"script":u=qa(e)}sn.has(u)||(e=b({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),sn.set(u,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Wr(u))||t==="script"&&a.querySelector(Zr(u))||(t=a.createElement("link"),jt(t,"link",e),bt(t),a.head.appendChild(t)))}}function _v(e,t){qn.m(e,t);var l=Ia;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Pt(a)+'"][href="'+Pt(e)+'"]',u=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=qa(e)}if(!sn.has(u)&&(e=b({rel:"modulepreload",href:e},t),sn.set(u,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zr(u)))return}a=l.createElement("link"),jt(a,"link",e),bt(a),l.head.appendChild(a)}}}function Ov(e,t,l){qn.S(e,t,l);var a=Ia;if(a&&e){var s=ua(a).hoistableStyles,u=Ya(e);t=t||"default";var x=s.get(u);if(!x){var S={loading:0,preload:null};if(x=a.querySelector(Wr(u)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},l),(l=sn.get(u))&&Eu(e,l);var O=x=a.createElement("link");bt(O),jt(O,"link",e),O._p=new Promise(function(G,J){O.onload=G,O.onerror=J}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Co(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:S},s.set(u,x)}}}function Tv(e,t){qn.X(e,t);var l=Ia;if(l&&e){var a=ua(l).hoistableScripts,s=qa(e),u=a.get(s);u||(u=l.querySelector(Zr(s)),u||(e=b({src:e,async:!0},t),(t=sn.get(s))&&ju(e,t),u=l.createElement("script"),bt(u),jt(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Mv(e,t){qn.M(e,t);var l=Ia;if(l&&e){var a=ua(l).hoistableScripts,s=qa(e),u=a.get(s);u||(u=l.querySelector(Zr(s)),u||(e=b({src:e,async:!0,type:"module"},t),(t=sn.get(s))&&ju(e,t),u=l.createElement("script"),bt(u),jt(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Cp(e,t,l,a){var s=(s=ye.current)?jo(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ya(l.href),l=ua(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ya(l.href);var u=ua(s).hoistableStyles,x=u.get(e);if(x||(s=s.ownerDocument||s,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,x),(u=s.querySelector(Wr(e)))&&!u._p&&(x.instance=u,x.state.loading=5),sn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},sn.set(e,l),u||Dv(s,e,l,x.state))),t&&a===null)throw Error(o(528,""));return x}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qa(l),l=ua(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ya(e){return'href="'+Pt(e)+'"'}function Wr(e){return'link[rel="stylesheet"]['+e+"]"}function Ap(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Dv(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),jt(t,"link",l),bt(t),e.head.appendChild(t))}function qa(e){return'[src="'+Pt(e)+'"]'}function Zr(e){return"script[async]"+e}function _p(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Pt(l.href)+'"]');if(a)return t.instance=a,bt(a),a;var s=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),bt(a),jt(a,"style",s),Co(a,l.precedence,e),t.instance=a;case"stylesheet":s=Ya(l.href);var u=e.querySelector(Wr(s));if(u)return t.state.loading|=4,t.instance=u,bt(u),u;a=Ap(l),(s=sn.get(s))&&Eu(a,s),u=(e.ownerDocument||e).createElement("link"),bt(u);var x=u;return x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),jt(u,"link",a),t.state.loading|=4,Co(u,l.precedence,e),t.instance=u;case"script":return u=qa(l.src),(s=e.querySelector(Zr(u)))?(t.instance=s,bt(s),s):(a=l,(s=sn.get(u))&&(a=b({},l),ju(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),bt(s),jt(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Co(a,l.precedence,e));return t.instance}function Co(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,u=s,x=0;x<a.length;x++){var S=a[x];if(S.dataset.precedence===t)u=S;else if(u!==s)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ao=null;function Op(e,t,l){if(Ao===null){var a=new Map,s=Ao=new Map;s.set(l,a)}else s=Ao,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var u=l[s];if(!(u[ur]||u[wt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var x=u.getAttribute(t)||"";x=e+x;var S=a.get(x);S?S.push(u):a.set(x,[u])}}return a}function Tp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function kv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Rv(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=Ya(a.href),u=t.querySelector(Wr(s));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_o.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=u,bt(u);return}u=t.ownerDocument||t,a=Ap(a),(s=sn.get(s))&&Eu(a,s),u=u.createElement("link"),bt(u);var x=u;x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),jt(u,"link",a),l.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=_o.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Cu=0;function zv(e,t){return e.stylesheets&&e.count===0&&To(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&To(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Cu===0&&(Cu=62500*pv());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&To(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Cu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function _o(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)To(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oo=null;function To(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oo=new Map,t.forEach(Lv,e),Oo=null,_o.call(e))}function Lv(e,t){if(!(t.state.loading&4)){var l=Oo.get(e);if(l)var a=l.get(null);else{l=new Map,Oo.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<s.length;u++){var x=s[u];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),a=x)}a&&l.set(null,a)}s=t.instance,x=s.getAttribute("data-precedence"),u=l.get(x)||a,u===a&&l.set(null,s),l.set(x,s),this.count++,a=_o.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),u?u.parentNode.insertBefore(s,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Qr={$$typeof:W,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function Vv(e,t,l,a,s,u,x,S,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=u,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Dp(e,t,l,a,s,u,x,S,O,G,J,te){return e=new Vv(e,t,l,x,O,G,J,te,S),t=1,u===!0&&(t|=24),u=qt(3,null,null,t),e.current=u,u.stateNode=e,t=rc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:l,cache:t},cc(u),e}function kp(e){return e?(e=va,e):va}function Rp(e,t,l,a,s,u){s=kp(s),a.context===null?a.context=s:a.pendingContext=s,a=rl(t),a.payload={element:l},u=u===void 0?null:u,u!==null&&(a.callback=u),l=il(e,a,t),l!==null&&(Bt(l,e,t),Ar(l,e,t))}function zp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Au(e,t){zp(e,t),(e=e.alternate)&&zp(e,t)}function Lp(e){if(e.tag===13||e.tag===31){var t=Ul(e,67108864);t!==null&&Bt(t,e,67108864),Au(e,67108864)}}function Vp(e){if(e.tag===13||e.tag===31){var t=Zt();t=Ss(t);var l=Ul(e,t);l!==null&&Bt(l,e,t),Au(e,t)}}var Mo=!0;function Bv(e,t,l,a){var s=D.T;D.T=null;var u=M.p;try{M.p=2,_u(e,t,l,a)}finally{M.p=u,D.T=s}}function Hv(e,t,l,a){var s=D.T;D.T=null;var u=M.p;try{M.p=8,_u(e,t,l,a)}finally{M.p=u,D.T=s}}function _u(e,t,l,a){if(Mo){var s=Ou(a);if(s===null)mu(e,t,a,Do,l),Hp(e,a);else if(Iv(s,e,t,l,a))a.stopPropagation();else if(Hp(e,a),t&4&&-1<Uv.indexOf(e)){for(;s!==null;){var u=ca(s);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var x=zl(u.pendingLanes);if(x!==0){var S=u;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var O=1<<31-et(x);S.entanglements[1]|=O,x&=~O}vn(u),(Ue&6)===0&&(mo=Le()+500,qr(0))}}break;case 31:case 13:S=Ul(u,2),S!==null&&Bt(S,u,2),go(),Au(u,2)}if(u=Ou(a),u===null&&mu(e,t,a,Do,l),u===s)break;s=u}s!==null&&a.stopPropagation()}else mu(e,t,a,null,l)}}function Ou(e){return e=Ms(e),Tu(e)}var Do=null;function Tu(e){if(Do=null,e=sa(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=m(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Do=e,null}function Bp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case Qn:return 2;case Kn:return 8;case Fn:case ir:return 32;case ra:return 268435456;default:return 32}default:return 32}}var Mu=!1,xl=null,yl=null,bl=null,Kr=new Map,Fr=new Map,vl=[],Uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hp(e,t){switch(e){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":Kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function Jr(e,t,l,a,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:u,targetContainers:[s]},t!==null&&(t=ca(t),t!==null&&Lp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Iv(e,t,l,a,s){switch(t){case"focusin":return xl=Jr(xl,e,t,l,a,s),!0;case"dragenter":return yl=Jr(yl,e,t,l,a,s),!0;case"mouseover":return bl=Jr(bl,e,t,l,a,s),!0;case"pointerover":var u=s.pointerId;return Kr.set(u,Jr(Kr.get(u)||null,e,t,l,a,s)),!0;case"gotpointercapture":return u=s.pointerId,Fr.set(u,Jr(Fr.get(u)||null,e,t,l,a,s)),!0}return!1}function Up(e){var t=sa(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,ed(e.priority,function(){Vp(l)});return}}else if(t===31){if(t=m(l),t!==null){e.blockedOn=t,ed(e.priority,function(){Vp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Ou(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ts=a,l.target.dispatchEvent(a),Ts=null}else return t=ca(l),t!==null&&Lp(t),e.blockedOn=l,!1;t.shift()}return!0}function Ip(e,t,l){ko(e)&&l.delete(t)}function Yv(){Mu=!1,xl!==null&&ko(xl)&&(xl=null),yl!==null&&ko(yl)&&(yl=null),bl!==null&&ko(bl)&&(bl=null),Kr.forEach(Ip),Fr.forEach(Ip)}function Ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Yv)))}var zo=null;function Yp(e){zo!==e&&(zo=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zo===e&&(zo=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Tu(a||l)===null)continue;break}var u=ca(l);u!==null&&(e.splice(t,3),t-=3,Oc(u,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function Ga(e){function t(O){return Ro(O,e)}xl!==null&&Ro(xl,e),yl!==null&&Ro(yl,e),bl!==null&&Ro(bl,e),Kr.forEach(t),Fr.forEach(t);for(var l=0;l<vl.length;l++){var a=vl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<vl.length&&(l=vl[0],l.blockedOn===null);)Up(l),l.blockedOn===null&&vl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],u=l[a+1],x=s[Dt]||null;if(typeof u=="function")x||Yp(l);else if(x){var S=null;if(u&&u.hasAttribute("formAction")){if(s=u,x=u[Dt]||null)S=x.formAction;else if(Tu(s)!==null)continue}else S=x.action;typeof S=="function"?l[a+1]=S:(l.splice(a,3),a-=3),Yp(l)}}}function qp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(x){return s=x})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Du(e){this._internalRoot=e}Lo.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Zt();Rp(l,a,e,t,null,null)},Lo.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rp(e.current,2,null,e,null,null),go(),t[oa]=null}};function Lo(e){this._internalRoot=e}Lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pf();e={blockedOn:null,target:e,priority:t};for(var l=0;l<vl.length&&t!==0&&t<vl[l].priority;l++);vl.splice(l,0,e),l===0&&Up(e)}};var Gp=r.version;if(Gp!=="19.2.3")throw Error(o(527,Gp,"19.2.3"));M.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var qv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{Ee=Vo.inject(qv),qe=Vo}catch{}}return ei.createRoot=function(e,t){if(!c(e))throw Error(o(299));var l=!1,a="",s=Fh,u=Jh,x=Ph;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=Dp(e,1,!1,null,null,l,a,null,s,u,x,qp),e[oa]=t.current,hu(e),new Du(t)},ei.hydrateRoot=function(e,t,l){if(!c(e))throw Error(o(299));var a=!1,s="",u=Fh,x=Jh,S=Ph,O=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(u=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),t=Dp(e,1,!0,t,l??null,a,s,O,u,x,S,qp),t.context=kp(null),l=t.current,a=Zt(),a=Ss(a),s=rl(a),s.callback=null,il(l,s,a),l=a,t.current.lanes=l,cr(t,l),vn(t),e[oa]=t.current,hu(e),new Lo(t)},ei.version="19.2.3",ei}var eg;function Pv(){if(eg)return zu.exports;eg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),zu.exports=Jv(),zu.exports}var e1=Pv();const tg=n=>{let r;const i=new Set,o=(p,y)=>{const b=typeof p=="function"?p(r):p;if(!Object.is(b,r)){const N=r;r=y??(typeof b!="object"||b===null)?b:Object.assign({},r,b),i.forEach(E=>E(r,N))}},c=()=>r,m={setState:o,getState:c,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=r=n(o,c,m);return m},t1=(n=>n?tg(n):tg),n1=n=>n;function l1(n,r=n1){const i=Sn.useSyncExternalStore(n.subscribe,Sn.useCallback(()=>r(n.getState()),[n,r]),Sn.useCallback(()=>r(n.getInitialState()),[n,r]));return Sn.useDebugValue(i),i}const ng=n=>{const r=t1(n),i=o=>l1(r,o);return Object.assign(i,r),i},gs=(n=>n?ng(n):ng);function a1(n,r){let i;try{i=n()}catch{return}return{getItem:c=>{var f;const h=g=>g===null?null:JSON.parse(g,void 0),m=(f=i.getItem(c))!=null?f:null;return m instanceof Promise?m.then(h):h(m)},setItem:(c,f)=>i.setItem(c,JSON.stringify(f,void 0)),removeItem:c=>i.removeItem(c)}}const lf=n=>r=>{try{const i=n(r);return i instanceof Promise?i:{then(o){return lf(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return lf(o)(i)}}}},r1=(n,r)=>(i,o,c)=>{let f={storage:a1(()=>localStorage),partialize:j=>j,version:0,merge:(j,A)=>({...A,...j}),...r},h=!1,m=0;const g=new Set,p=new Set;let y=f.storage;if(!y)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...j)},o,c);const b=()=>{const j=f.partialize({...o()});return y.setItem(f.name,{state:j,version:f.version})},N=c.setState;c.setState=(j,A)=>(N(j,A),b());const E=n((...j)=>(i(...j),b()),o,c);c.getInitialState=()=>E;let w;const v=()=>{var j,A;if(!y)return;const _=++m;h=!1,g.forEach($=>{var H;return $((H=o())!=null?H:E)});const W=((A=f.onRehydrateStorage)==null?void 0:A.call(f,(j=o())!=null?j:E))||void 0;return lf(y.getItem.bind(y))(f.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==f.version){if(f.migrate){const H=f.migrate($.state,$.version);return H instanceof Promise?H.then(U=>[!0,U]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var H;if(_!==m)return;const[U,Y]=$;if(w=f.merge(Y,(H=o())!=null?H:E),i(w,!0),U)return b()}).then(()=>{_===m&&(W?.(w,void 0),w=o(),h=!0,p.forEach($=>$(w)))}).catch($=>{_===m&&W?.(void 0,$)})};return c.persist={setOptions:j=>{f={...f,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>v(),hasHydrated:()=>h,onHydrate:j=>(g.add(j),()=>{g.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},f.skipHydration||v(),w||E},i1=r1;function wf(n){return n===null||n===void 0?"null":typeof n=="string"?n===""||n.includes(":")||n.includes("#")||n.includes(`
`)||n.startsWith(" ")||n.endsWith(" ")||/^[[{}>|*&!%@`]/.test(n)||/^-?\d+(\.\d+)?$/.test(n)||n==="true"||n==="false"||n==="null"?JSON.stringify(n):n:typeof n=="number"||typeof n=="boolean"?String(n):JSON.stringify(n)}function Sf(n,r){const i=n.split(`
`);let o=!1,c=-1,f=-1;for(let h=0;h<i.length;h++){const m=i[h],g=m.match(/^\s*-?\s*name:\s*(\w+)/);if(g&&(o=g[1]===r),o){const p=m.match(/^(\s*)nodes:\s*$/);if(p){c=h,f=p[1].length;let y=h+1;for(;y<i.length;){const b=i[y];if(b.trim()===""||b.trim().startsWith("#")){y++;continue}const N=b.search(/\S/);if(N!==-1&&N<=f)break;y++}return{startLine:c,endLine:y,nodesIndent:f}}}}return null}function ot(n,r,i){const o=n.split(`
`);let c=0,f=o.length;if(i){const p=Sf(n,i);if(!p)return null;c=p.startLine,f=p.endLine}let h=-1,m=-1;for(let p=c;p<f;p++){const b=o[p].match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(b&&b[2]===r){h=p,m=b[1].length;break}}if(h===-1)return null;let g=h+1;for(;g<o.length;){const p=o[g];if(p.trim()===""||p.trim().startsWith("#")){g++;continue}const y=p.search(/\S/);if(y!==-1&&y<=m)break;g++}return{startLine:h,endLine:g,indent:m}}function yx(n,r){const i=n.split(`
`),o=new Set;for(const h of i){const m=h.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);m&&o.add(m[1])}let c=`${r}_1`,f=1;for(;o.has(c);)f++,c=`${r}_${f}`;return c}function af(n,r){const i=ot(n,r);if(!i)return{source:n,success:!1};const o=n.split(`
`);return{source:[...o.slice(0,i.startLine),...o.slice(i.endLine)].join(`
`),success:!0}}function o1(n,r,i="main"){const o=n.split(`
`);let c=!1,f=-1,h=-1,m=-1,g=-1;for(let A=0;A<o.length;A++){const _=o[A],W=_.match(/^\s*-?\s*name:\s*(\w+)/);if(W&&(c=W[1]===i),c){const $=_.match(/^(\s*)nodes:\s*$/);if($){f=A,h=$[1].length;continue}if(f!==-1){const H=_.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(H){const U=H[1].length;if(U===h+2){g=U;let Y=A+1;for(;Y<o.length;){const I=o[Y];if(I.trim()===""||I.trim().startsWith("#")){Y++;continue}const F=I.search(/\S/);if(F!==-1&&F<=U)break;Y++}m=Y}}}}}if(f===-1)return{source:n,nodeId:null};const p=r.name.split("_")[0],y=yx(n,p),b=" ".repeat(g!==-1?g:h+2),N=b+"  ",E=N+"  ";let w=`${b}${y}:
`;if(w+=`${N}opcode: ${r.name}
`,w+=`${N}next: null
`,r.parameters.length>0){w+=`${N}inputs:
`;for(const A of r.parameters){const _=A.name.toUpperCase(),W=A.default!==void 0?JSON.stringify(A.default):'""';w+=`${E}${_}: { literal: ${W} }
`}}const v=m!==-1?m:f+1;return{source:[...o.slice(0,v),w.trimEnd(),...o.slice(v)].join(`
`),nodeId:y}}function s1(n,r){const i=ot(n,r);if(!i)return{source:n,nodeId:null};const o=n.split(`
`),c=o.slice(i.startLine,i.endLine);let f=`${r}_copy`,h=1;const m=new Set;for(const y of o){const b=y.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);b&&m.add(b[1])}for(;m.has(f);)h++,f=`${r}_copy_${h}`;const g=[...c];g[0]=g[0].replace(r+":",f+":");for(let y=1;y<g.length;y++)if(g[y].match(/^\s+next:\s*\S/)){const b=g[y].match(/^(\s+)next:/)?.[1]||"        ";g[y]=`${b}next: null`}return{source:[...o.slice(0,i.endLine),...g,...o.slice(i.endLine)].join(`
`),nodeId:f}}function c1(n,r,i,o){const c=n.split(`
`),f=ot(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let E=f.startLine+1;E<f.endLine;E++){const w=c[E];if(w.match(/^\s+inputs:\s*$/)){h=E;continue}if(h!==-1){const v=w.match(new RegExp(`^(\\s+)(${i}):\\s*(.*)$`));if(v){m=E,g=v[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const E=c[p];if(E.trim()===""||E.trim().startsWith("#")){p++;continue}const w=E.search(/\S/);if(w!==-1&&w<=g)break;p++}let y;if(o.startsWith("$"))y=`{ variable: "${o.slice(1)}" }`;else try{const E=JSON.parse(o);y=`{ literal: ${JSON.stringify(E)} }`}catch{y=`{ literal: "${o}" }`}const b=" ".repeat(g);return{source:[...c.slice(0,m),`${b}${i}: ${y}`,...c.slice(p)].join(`
`),success:!0}}function Jo(n,r,i,o){const c=n.split(`
`),f=ot(n,r,o);if(!f)return{source:n,success:!1};let h=-1;for(let g=f.startLine+1;g<f.endLine;g++)if(c[g].match(/^\s+next:\s*/)){h=g;break}const m=" ".repeat(f.indent+2);if(h!==-1)c[h]=`${m}next: ${i}`;else{let g=f.startLine+1;for(;g<f.endLine;){const p=c[g];if(p.trim()!==""&&!p.trim().startsWith("#"))break;g++}c.splice(g,0,`${m}next: ${i}`)}return{source:c.join(`
`),success:!0}}function Nf(n,r,i){const o=n.split(`
`),c=ot(n,r,i);if(!c)return{source:n,success:!1};for(let f=c.startLine+1;f<c.endLine;f++)if(o[f].match(/^\s+next:\s*/)){const h=o[f].match(/^(\s+)next:/)?.[1]||" ".repeat(c.indent+2);return o[f]=`${h}next: null`,{source:o.join(`
`),success:!0}}return{source:n,success:!0}}function u1(n,r,i,o){const c=n.split(`
`),f=ot(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1;for(let w=f.startLine+1;w<f.endLine;w++){const j=c[w].match(/^(\s+)inputs:\s*$/);if(j){h=w,m=j[1].length;break}}if(h===-1)return{source:n,success:!1};const g=o.startsWith("CATCH"),p=" ".repeat(m+2),y=" ".repeat(m+4);let b=-1,N=-1,E=h+1;for(;E<c.length;){const w=c[E];if(w.trim()===""||w.trim().startsWith("#")){E++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=m&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){b=E;break}const A=w.match(/^\s+([A-Z]+\d*):\s*\{.*\}\s*$/);if(A&&A[1]===o){N=E;break}E++}if(b!==-1){const w=c[b].match(/^(\s*)/)?.[1].length||0;let v=b+1;if(g){let j=-1;for(;v<c.length;){const A=c[v];if(A.trim()===""||A.trim().startsWith("#")){v++;continue}if((A.match(/^(\s*)/)?.[1].length||0)<=w&&A.trim())break;if(A.match(/^\s+body:\s*$/)){j=v;break}v++}if(j!==-1){const A=c[j].match(/^(\s*)/)?.[1].length||0;let _=j+1;for(;_<c.length;){const $=c[_];if($.trim()===""||$.trim().startsWith("#")){_++;continue}if(($.match(/^(\s*)/)?.[1].length||0)<=A&&$.trim())break;const U=$.match(/^(\s+)branch:\s*/);if(U)return c[_]=`${U[1]}branch: ${i}`,{source:c.join(`
`),success:!0};_++}const W=" ".repeat(A+2);return c.splice(j+1,0,`${W}branch: ${i}`),{source:c.join(`
`),success:!0}}else{const A=" ".repeat(w+2),_=" ".repeat(w+4);let W=b+1;for(;W<c.length;){const $=c[W];if($.trim()===""||$.trim().startsWith("#")){W++;continue}if(($.match(/^(\s*)/)?.[1].length||0)<=w&&$.trim())break;W++}return c.splice(W,0,`${A}body:`,`${_}branch: ${i}`),{source:c.join(`
`),success:!0}}}else{for(;v<c.length;){const j=c[v];if(j.trim()===""||j.trim().startsWith("#")){v++;continue}if((j.match(/^(\s*)/)?.[1].length||0)<=w&&j.trim())break;const _=j.match(/^(\s+)branch:\s*/);if(_)return c[v]=`${_[1]}branch: ${i}`,{source:c.join(`
`),success:!0};v++}return c.splice(b+1,0,`${y}branch: ${i}`),{source:c.join(`
`),success:!0}}}else if(N!==-1){const w=c[N].match(/^(\s*)/)?.[1].length||0,v=" ".repeat(w+2);if(g){const j=" ".repeat(w+2),A=" ".repeat(w+4);c.splice(N,1,`${" ".repeat(w)}${o}:`,`${j}exception_type: "Exception"`,`${j}body:`,`${A}branch: ${i}`)}else c.splice(N,1,`${" ".repeat(w)}${o}:`,`${v}branch: ${i}`);return{source:c.join(`
`),success:!0}}else{if(g){const w=" ".repeat(m+4),v=" ".repeat(m+6);c.splice(E,0,`${p}${o}:`,`${w}exception_type: "Exception"`,`${w}body:`,`${v}branch: ${i}`)}else c.splice(E,0,`${p}${o}:`,`${y}branch: ${i}`);return{source:c.join(`
`),success:!0}}}function f1(n,r,i,o,c){if(!o)return Nf(n,r,c);const f=n.split(`
`),h=ot(n,r,c);if(!h)return{source:n,success:!1};let m=-1,g=-1;for(let w=h.startLine+1;w<h.endLine;w++){const j=f[w].match(/^(\s+)inputs:\s*$/);if(j){m=w,g=j[1].length;break}}if(m===-1)return{source:n,success:!1};const p=o.startsWith("CATCH");let y=-1,b=m+1;for(;b<f.length;){const w=f[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=g&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){y=b;break}b++}if(y===-1)return{source:n,success:!1};const N=f[y].match(/^(\s*)/)?.[1].length||0;let E=y+1;for(;E<f.length;){const w=f[E];if(w.trim()===""||w.trim().startsWith("#")){E++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=N&&w.trim())break;if(p){const j=w.match(/^(\s+)body:\s*$/);if(j){const A=j[1].length;let _=E+1;for(;_<f.length;){const W=f[_];if(W.trim()===""||W.trim().startsWith("#")){_++;continue}if((W.match(/^(\s*)/)?.[1].length||0)<=A&&W.trim())break;const H=W.match(/^(\s+)branch:\s*(\S+)/);if(H&&H[2]===i){const U=H[1];return f[_]=`${U}branch: null`,{source:f.join(`
`),success:!0}}_++}}}else{const j=w.match(/^(\s+)branch:\s*(\S+)/);if(j&&j[2]===i){const A=j[1];return f[E]=`${A}branch: null`,{source:f.join(`
`),success:!0}}}E++}return{source:n,success:!1}}function d1(n,r,i,o){const c=n.split(`
`),f=ot(n,i);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let N=f.startLine+1;N<f.endLine;N++){const E=c[N];if(E.match(/^\s+inputs:\s*$/)){h=N;continue}if(h!==-1){const w=E.match(new RegExp(`^(\\s+)(${o}):\\s*(.*)$`));if(w){m=N,g=w[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const N=c[p];if(N.trim()===""||N.trim().startsWith("#")){p++;continue}const E=N.search(/\S/);if(E!==-1&&E<=g)break;p++}const y=" ".repeat(g);return{source:[...c.slice(0,m),`${y}${o}: { node: "${r}" }`,...c.slice(p)].join(`
`),success:!0}}function h1(n,r,i){if(i.length===0)return{source:n,success:!1};const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=c.startLine,h=c.indent,m=!1;for(let w=c.startLine+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=c.indent)break;if(v.match(/^\s+inputs:\s*$/)){m=!0,f=w,h=j;break}}if(!m)return{source:n,success:!1};for(let w=0;w<i.length-1;w++){const v=i[w];let j=!1;for(let A=f+1;A<o.length;A++){const _=o[A];if(_.trim()===""||_.trim().startsWith("#"))continue;const W=_.search(/\S/);if(W!==-1&&W<=h)break;const $=_.match(new RegExp(`^(\\s+)(${v}):\\s*`));if($){f=A,h=$[1].length,j=!0;for(let H=A+1;H<o.length;H++){const U=o[H];if(U.trim()===""||U.trim().startsWith("#"))continue;const Y=U.search(/\S/);if(Y!==-1&&Y<=h)break;if(U.match(/^\s+inputs:\s*$/)){f=H,h=Y;break}}break}}if(!j)return{source:n,success:!1}}const g=i[i.length-1];let p=-1,y=-1;for(let w=f+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=h)break;const A=v.match(new RegExp(`^(\\s+)(${g}):\\s*`));if(A){p=w,y=A[1].length;break}}if(p===-1)return{source:n,success:!1};let b=p+1;for(;b<o.length;){const w=o[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}const v=w.search(/\S/);if(v!==-1&&v<=y)break;b++}const N=" ".repeat(y);return{source:[...o.slice(0,p),`${N}${g}: { literal: null }`,...o.slice(b)].join(`
`),success:!0}}function m1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let v=0;v<c.length;v++){const j=c[v],A=j.match(/^\s*-?\s*name:\s*(\w+)/);if(A&&(f=A[1]===r),f){const _=j.match(/^(\s*)interface:\s*$/);if(_){h=v,g=_[1].length;let W=v+1;for(;W<c.length;){const $=c[W];if($.trim()===""||$.trim().startsWith("#")){W++;continue}const H=$.search(/\S/);if(H!==-1&&H<=g)break;W++}m=W;break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(g),y=" ".repeat(g+2),b=i.length>0?`[${i.map(v=>`"${v}"`).join(", ")}]`:"[]",N=o.length>0?`[${o.map(v=>`"${v}"`).join(", ")}]`:"[]",E=[`${p}interface:`,`${y}inputs: ${b}`,`${y}outputs: ${N}`];return{source:[...c.slice(0,h),...E,...c.slice(m)].join(`
`),success:!0}}function p1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let b=0;b<c.length;b++){const N=c[b],E=N.match(/^\s*-?\s*name:\s*(\w+)/);if(E&&(f=E[1]===r),f){const w=N.match(/^(\s*)variables:\s*(.*)$/);if(w){h=b,m=w[1].length;const v=w[2].trim();if(v==="{}"||v==="")g=b+1;else{let j=b+1;for(;j<c.length;){const A=c[j];if(A.trim()===""||A.trim().startsWith("#")){j++;continue}const _=A.search(/\S/);if(_!==-1&&_<=m)break;j++}g=j}break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(m+2),y=wf(o);if(c[h].includes("{}")){const b=" ".repeat(m);return{source:[...c.slice(0,h),`${b}variables:`,`${p}${i}: ${y}`,...c.slice(h+1)].join(`
`),success:!0}}else return{source:[...c.slice(0,g),`${p}${i}: ${y}`,...c.slice(g)].join(`
`),success:!0}}function g1(n,r,i,o,c){const f=n.split(`
`);let h=!1,m=!1,g=-1,p=-1;for(let N=0;N<f.length;N++){const E=f[N],w=E.match(/^\s*-?\s*name:\s*(\w+)/);if(w&&(h=w[1]===r,m=!1),h){const v=E.match(/^(\s*)variables:\s*/);if(v){m=!0,g=v[1].length;continue}if(m){const j=E.search(/\S/);if(E.trim()!==""&&!E.trim().startsWith("#")&&j!==-1&&j<=g){m=!1;continue}if(E.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){p=N;break}}}}if(p===-1)return{source:n,success:!1};const y=f[p].match(/^(\s+)/)?.[1]||"    ",b=wf(c);return f[p]=`${y}${o}: ${b}`,{source:f.join(`
`),success:!0}}function x1(n,r,i){const o=n.split(`
`);let c=!1,f=!1,h=-1,m=-1;for(let p=0;p<o.length;p++){const y=o[p],b=y.match(/^\s*-?\s*name:\s*(\w+)/);if(b&&(c=b[1]===r,f=!1),c){const N=y.match(/^(\s*)variables:\s*/);if(N){f=!0,h=N[1].length;continue}if(f){const E=y.search(/\S/);if(y.trim()!==""&&!y.trim().startsWith("#")&&E!==-1&&E<=h){f=!1;continue}if(y.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){m=p;break}}}}return m===-1?{source:n,success:!1}:{source:[...o.slice(0,m),...o.slice(m+1)].join(`
`),success:!0}}function bx(n,r,i,o="main"){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1,p=-1;for(let A=0;A<c.length;A++){const _=c[A],W=_.match(/^\s*-?\s*name:\s*(\w+)/);if(W&&(f=W[1]===o),f){const $=_.match(/^(\s*)nodes:\s*$/);if($){h=A,m=$[1].length;continue}if(h!==-1){const H=_.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(H){const U=H[1].length;if(U===m+2){p=U;let Y=A+1;for(;Y<c.length;){const I=c[Y];if(I.trim()===""||I.trim().startsWith("#")){Y++;continue}const F=I.search(/\S/);if(F!==-1&&F<=U)break;Y++}g=Y}}}}}if(h===-1)return{source:n,nodeId:null};const y=yx(n,`call_${r}`),b=" ".repeat(p!==-1?p:m+2),N=b+"  ",E=N+"  ";let w=`${b}${y}:
`;w+=`${N}opcode: workflow_call
`,w+=`${N}next: null
`,w+=`${N}inputs:
`,w+=`${E}WORKFLOW: { literal: "${r}" }
`,i.forEach((A,_)=>{w+=`${E}ARG${_+1}: { literal: null }
`});const v=g!==-1?g:h+1;return{source:[...c.slice(0,v),w.trimEnd(),...c.slice(v)].join(`
`),nodeId:y}}function y1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let v=c.startLine+1;v<c.endLine;v++){const j=o[v],A=j.match(/^(\s+)inputs:\s*$/);if(A){f=v,h=A[1].length;continue}if(f!==-1){const _=j.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));_&&m.push(_[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const v of m){const j=parseInt(v.replace(i,""));j>g&&(g=j)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const v=o[y];if(v.trim()===""||v.trim().startsWith("#")){y++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=h&&v.trim())break;y++}const b=" ".repeat(h+2),N=" ".repeat(h+4);let E;if(i==="CATCH"){const v=" ".repeat(h+6);E=[`${b}${p}:`,`${N}exception_type: "Exception"`,`${N}body:`,`${v}branch: null`]}else E=[`${b}${p}:`,`${N}branch: null`];return{source:[...o.slice(0,y),...E,...o.slice(y)].join(`
`),success:!0}}function b1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function v1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let w=c.startLine+1;w<c.endLine;w++){const v=o[w],j=v.match(/^(\s+)inputs:\s*$/);if(j){f=w,h=j[1].length;continue}if(f!==-1){const A=v.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));A&&m.push(A[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const w of m){const v=parseInt(w.replace(i,""));v>g&&(g=v)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const w=o[y];if(w.trim()===""||w.trim().startsWith("#")){y++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=h&&w.trim())break;y++}const N=`${" ".repeat(h+2)}${p}: { literal: null }`;return{source:[...o.slice(0,y),N,...o.slice(y)].join(`
`),success:!0}}function w1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function vx(n,r,i=[],o=[],c={}){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return{source:n,success:!1};const f=n.split(`
`);for(const _ of f){const W=_.match(/^\s*-?\s*name:\s*(\w+)/);if(W&&W[1]===r)return{source:n,success:!1}}let h=-1,m=!1,g=-1;for(let _=0;_<f.length;_++){const W=f[_],$=W.match(/^(\s*)workflows:\s*$/);if($){m=!0,g=$[1].length;continue}if(m){const H=W.search(/\S/);if(W.trim()!==""&&H!==-1&&H<=g)break;h=_}}if(!m)return{source:n,success:!1};const p="  ",y="    ",b="      ",N=i.length>0?`[${i.map(_=>`"${_}"`).join(", ")}]`:"[]",E=o.length>0?`[${o.map(_=>`"${_}"`).join(", ")}]`:"[]";let w=`${p}- name: ${r}
`;w+=`${y}interface:
`,w+=`${b}inputs: ${N}
`,w+=`${b}outputs: ${E}
`;const v=Object.entries(c);if(v.length===0)w+=`${y}variables: {}
`;else{w+=`${y}variables:
`;for(const[_,W]of v)w+=`${b}${_}: ${wf(W)}
`}w+=`${y}nodes:
`,w+=`${b}start:
`,w+=`${b}  next: null`;const j=h+1;return{source:[...f.slice(0,j),w,...f.slice(j)].join(`
`),success:!0}}function S1(n,r){if(r==="main")return{source:n,success:!1};const i=n.split(`
`);let o=-1,c=-1;for(let m=0;m<i.length;m++){const p=i[m].match(/^(\s*)-\s*name:\s*(\w+)/);if(p&&p[2]===r){o=m,c=p[1].length;break}}if(o===-1)return{source:n,success:!1};let f=o+1;for(;f<i.length;){const m=i[f];if(m.trim()===""||m.trim().startsWith("#")){f++;continue}const g=m.search(/\S/),p=m.match(/^(\s*)-\s*name:\s*\w+/);if(p&&p[1].length===c||g!==-1&&g<=c&&!m.trim().startsWith("-"))break;f++}return{source:[...i.slice(0,o),...i.slice(f)].join(`
`),success:!0}}const N1=["control_if","control_for","control_for_each","control_while","control_repeat_until","control_try","control_fork"];function E1(n,r){const i=n.split(`
`);let o=null,c=!1,f=-1;for(const h of i){const m=h.match(/^(\s*)-?\s*name:\s*(\w+)/);if(m&&(o=m[2],f=m[1].length,c=!1),h.match(/^(\s*)nodes:\s*$/)&&o&&(c=!0),c){const p=h.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(p&&p[2]===r)return o;const y=h.search(/\S/);h.trim()&&y!==-1&&y<=f&&(c=!1)}}return null}function wx(n,r){const i=ot(n,r);if(!i)return null;const o=n.split(`
`);for(let c=i.startLine+1;c<i.endLine;c++){const f=o[c].match(/^\s+opcode:\s*(\S+)/);if(f)return f[1]}return null}function lg(n,r,i){const o=ot(n,r,i);if(!o)return null;const c=n.split(`
`);for(let f=o.startLine+1;f<o.endLine;f++){const h=c[f].match(/^\s+next:\s*(\S+)/);if(h){const m=h[1];return m==="null"?null:m}}return null}function j1(n,r,i){const o=Sf(n,i);if(!o)return null;const c=n.split(`
`);let f=null;for(let h=o.startLine;h<o.endLine;h++){const m=c[h],g=m.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);g&&(f=g[2]);const p=m.match(/^\s+next:\s*(\S+)/);if(p&&p[1]===r&&f)return f}return null}function C1(n,r){const i=[],o=new Set;function c(f){if(o.has(f))return;o.add(f);const h=ot(n,f);if(!h)return;const g=n.split(`
`).slice(h.startLine,h.endLine).join(`
`),p=g.matchAll(/\{\s*node:\s*["']([^"']+)["']\s*\}/g);for(const b of p){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}const y=g.matchAll(/\{\s*node:\s*([a-zA-Z_][a-zA-Z0-9_]*)\s*\}/g);for(const b of y){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}}for(const f of r)c(f);return i}function Sx(n,r,i){const o=[];if(r.length<2)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Select at least 2 nodes to extract"]};for(const v of r)E1(n,v)!==i&&o.push(`Node "${v}" is not in workflow "${i}"`);if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};for(const v of r){const j=wx(n,v);j&&N1.includes(j)&&o.push(`Cannot extract "${v}": branching nodes (${j}) are not supported`)}if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};const c=new Set(r),f={};for(const v of r)f[v]=lg(n,v,i);const h=new Set(Object.values(f).filter(v=>v&&c.has(v))),m=r.filter(v=>!h.has(v));if(m.length!==1)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes do not form a single connected chain"]};const g=[];let p=m[0];const y=new Set;for(;p&&c.has(p)&&!y.has(p);)y.add(p),g.push(p),p=f[p]||null;if(g.length!==r.length)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes are not contiguous (some nodes are disconnected)"]};const b=g[0],N=g[g.length-1],E=j1(n,b,i),w=lg(n,N,i);return{isValid:!0,orderedNodeIds:g,firstNodeId:b,lastNodeId:N,predecessorNodeId:E,successorNodeId:w,errors:[]}}function A1(n,r){const i=new Set,o=new Set;for(const h of r){const m=ot(n,h);if(!m)continue;const p=n.split(`
`).slice(m.startLine,m.endLine).join(`
`),y=p.matchAll(/\{\s*variable:\s*["']([^"']+)["']\s*\}/g);for(const N of y)i.add(N[1]);if(wx(n,h)==="data_set_variable_to"){const N=p.match(/VARIABLE:\s*\{\s*literal:\s*["']([^"']+)["']\s*\}/);N&&o.add(N[1])}}const c=[...i].filter(h=>!o.has(h)),f=[...o];return{suggestedInputs:c,suggestedOutputs:f}}function _1(n,r,i,o,c,f,h){const m=Sx(n,r,i);if(!m.isValid)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:m.errors};const{orderedNodeIds:g,firstNodeId:p,lastNodeId:y,predecessorNodeId:b,successorNodeId:N}=m,E=C1(n,g);let w=n;const v=vx(w,o,c,f,h);if(!v.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to create workflow "${o}"`]};w=v.source;const j=[],A=[];for(const oe of[...g].reverse()){const Q=ot(w,oe,i);if(!Q)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find node "${oe}"`]};const D=w.split(`
`).slice(Q.startLine,Q.endLine).join(`
`);j.unshift({id:oe,yaml:D,indent:Q.indent});const M=af(w,oe);if(!M.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to delete node "${oe}"`]};w=M.source}for(const oe of[...E].reverse()){let Q=ot(w,oe,i);if(Q||(Q=ot(w,oe)),!Q)continue;const D=w.split(`
`).slice(Q.startLine,Q.endLine).join(`
`);A.unshift({id:oe,yaml:D,indent:Q.indent});const M=af(w,oe);M.success&&(w=M.source)}const _=[...j,...A];if(!Sf(w,o))return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find nodes section in new workflow "${o}"`]};const $=ot(w,"start",o);if(!$)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Could not find start node in new workflow"]};const H=$.indent,U=[];for(let oe=0;oe<_.length;oe++){const Q=_[oe],le=Q.yaml.split(`
`),D=H-Q.indent,M=le.map(k=>k.trim()===""?k:D>0?" ".repeat(D)+k:D<0?k.slice(-D):k);U.push(...M)}const Y=w.split(`
`),I=$.endLine;Y.splice(I,0,...U),w=Y.join(`
`);const F=Jo(w,"start",p,o);if(!F.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to connect start to "${p}"`]};w=F.source;const ne=Nf(w,y,o);if(!ne.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to disconnect last node "${y}"`]};w=ne.source;const ue=bx(w,o,c,i);if(!ue.nodeId)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to create workflow_call node"]};w=ue.source;const ce=ue.nodeId;if(b){const oe=Jo(w,b==="start"?"start":b,ce,i);if(!oe.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect predecessor to workflow_call"]};w=oe.source}if(N){const oe=Jo(w,ce,N,i);if(!oe.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect workflow_call to successor"]};w=oe.source}return{source:w,success:!0,newWorkflowCallNodeId:ce,errors:[]}}const O1=50,ag=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`,lt=gs()(i1((n,r)=>({source:ag,setSource:(i,o=!0)=>{const c=r();if(o&&i!==c.source){const f=c.history.slice(0,c.historyIndex+1);f.push(i),f.length>O1&&f.shift(),n({source:i,history:f,historyIndex:f.length-1,canUndo:f.length>1,canRedo:!1})}else n({source:i})},history:[ag],historyIndex:0,canUndo:!1,canRedo:!1,undo:()=>{const i=r();if(i.historyIndex>0){const o=i.historyIndex-1;n({source:i.history[o],historyIndex:o,canUndo:o>0,canRedo:!0})}},redo:()=>{const i=r();if(i.historyIndex<i.history.length-1){const o=i.historyIndex+1;n({source:i.history[o],historyIndex:o,canUndo:!0,canRedo:o<i.history.length-1})}},tree:null,parseError:null,isParsing:!1,setTree:i=>n({tree:i,parseError:null}),setParseError:i=>n({parseError:i,tree:null}),setIsParsing:i=>n({isParsing:i}),deleteNode:i=>{const o=r(),c=af(o.source,i);return c.success&&o.setSource(c.source),c.success},addNode:(i,o="main")=>{const c=r(),f=o1(c.source,i,o);return f.nodeId&&c.setSource(f.source),f.nodeId},addWorkflowCallNode:(i,o,c="main")=>{const f=r(),h=bx(f.source,i,o,c);return h.nodeId&&f.setSource(h.source),h.nodeId},duplicateNode:i=>{const o=r(),c=s1(o.source,i);return c.nodeId&&o.setSource(c.source),c.nodeId},updateNodeInput:(i,o,c)=>{const f=r(),h=c1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectNodes:(i,o,c)=>{const f=r(),h=Jo(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectBranch:(i,o,c)=>{const f=r(),h=u1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},disconnectNode:(i,o)=>{const c=r(),f=Nf(c.source,i,o);return f.success&&c.setSource(f.source),f.success},convertOrphanToReporter:(i,o,c)=>{const f=r(),h=d1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateReporterInput:(i,o,c)=>(console.log("[updateReporterInput] reporterNodeId:",i,"key:",o,"value:",c),i?r().updateNodeInput(i,o,c):(console.warn("[updateReporterInput] No reporter node ID provided"),!1)),deleteReporter:(i,o)=>{const c=r(),f=h1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},updateWorkflowInterface:(i,o,c)=>{const f=r(),h=m1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},addVariable:(i,o,c)=>{const f=r(),h=p1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateVariable:(i,o,c,f)=>{const h=r(),m=g1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},disconnectConnection:(i,o,c,f)=>{const h=r(),m=f1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteVariable:(i,o)=>{const c=r(),f=x1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicBranch:(i,o)=>{const c=r(),f=y1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicBranch:(i,o)=>{const c=r(),f=b1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicInput:(i,o)=>{const c=r(),f=v1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicInput:(i,o)=>{const c=r(),f=w1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addWorkflow:(i,o=[],c=[],f={})=>{const h=r(),m=vx(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteWorkflow:i=>{const o=r(),c=S1(o.source,i);return c.success&&o.setSource(c.source),c.success},extractToWorkflow:(i,o,c,f,h,m)=>{const g=r(),p=_1(g.source,i,o,c,f,h,m);return p.success&&g.setSource(p.source),{success:p.success,errors:p.errors}},examples:[],setExamples:i=>n({examples:i}),opcodes:[],setOpcodes:i=>n({opcodes:i}),isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,setIsExecuting:i=>n({isExecuting:i}),setExecutionOutput:i=>n({executionOutput:i}),appendExecutionOutput:i=>n(o=>({executionOutput:o.executionOutput+i})),setExecutionResult:i=>n({executionResult:i}),setExecutionError:i=>n({executionError:i}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null}),workflowInputs:{},setWorkflowInput:(i,o)=>n(c=>({workflowInputs:{...c.workflowInputs,[i]:o}})),clearWorkflowInputs:()=>n({workflowInputs:{}})}),{name:"lexflow-workflow",partialize:n=>({source:n.source})})),Ae=gs(n=>({zoom:1,panX:0,panY:0,isDraggingWorkflow:!1,setZoom:r=>n({zoom:Math.max(.25,Math.min(2,r))}),setPan:(r,i)=>n({panX:r,panY:i}),resetView:()=>n({zoom:1,panX:0,panY:0}),setIsDraggingWorkflow:r=>n({isDraggingWorkflow:r}),isEditorOpen:!1,isNodeEditorOpen:!1,isPaletteOpen:!1,isExecutionPanelOpen:!0,toggleEditor:()=>n(r=>({isEditorOpen:!r.isEditorOpen})),toggleNodeEditor:()=>n(r=>({isNodeEditorOpen:!r.isNodeEditorOpen})),togglePalette:()=>n(r=>({isPaletteOpen:!r.isPaletteOpen})),toggleExecutionPanel:()=>n(r=>({isExecutionPanelOpen:!r.isExecutionPanelOpen})),openNodeEditor:()=>n({isNodeEditorOpen:!0}),closeNodeEditor:()=>n({isNodeEditorOpen:!1}),nodeStatus:{},setNodeStatus:(r,i)=>n(o=>({nodeStatus:{...o.nodeStatus,[r]:i}})),clearNodeStatuses:()=>n({nodeStatus:{}}),searchQuery:"",searchResults:[],setSearchQuery:r=>n({searchQuery:r}),setSearchResults:r=>n({searchResults:r}),workflowPositions:{},setWorkflowPosition:(r,i,o)=>n(c=>({workflowPositions:{...c.workflowPositions,[r]:{x:i,y:o}}})),resetWorkflowPositions:()=>n({workflowPositions:{}}),draggingOpcode:null,setDraggingOpcode:r=>n({draggingOpcode:r}),draggingWire:null,setDraggingWire:r=>n({draggingWire:r}),updateDraggingWire:r=>n(i=>({draggingWire:i.draggingWire?{...i.draggingWire,...r}:null})),draggingOrphan:null,setDraggingOrphan:r=>n({draggingOrphan:r}),updateDraggingOrphanEnd:(r,i)=>n(o=>({draggingOrphan:o.draggingOrphan?{...o.draggingOrphan,toX:r,toY:i}:null})),nodePositions:{},setNodePosition:(r,i,o)=>n(c=>({nodePositions:{...c.nodePositions,[r]:{x:i,y:o}}})),resetNodePositions:()=>n({nodePositions:{}}),clearNodePosition:r=>n(i=>{const{[r]:o,...c}=i.nodePositions;return{nodePositions:c}}),layoutMode:"free",setLayoutMode:r=>n({layoutMode:r}),isDraggingNode:!1,setIsDraggingNode:r=>n({isDraggingNode:r}),draggingVariable:null,setDraggingVariable:r=>n({draggingVariable:r}),updateDraggingVariableEnd:(r,i)=>n(o=>({draggingVariable:o.draggingVariable?{...o.draggingVariable,toX:r,toY:i}:null})),draggingWorkflowCall:null,setDraggingWorkflowCall:r=>n({draggingWorkflowCall:r}),slotPositions:{},registerSlotPositions:(r,i)=>n(o=>({slotPositions:{...o.slotPositions,[r]:i}})),unregisterSlotPositions:r=>n(i=>{const{[r]:o,...c}=i.slotPositions;return{slotPositions:c}}),layoutGroups:[],setLayoutGroups:r=>n({layoutGroups:r}),canvasCenter:{x:400,y:300},setCanvasCenter:(r,i)=>n({canvasCenter:{x:r,y:i}}),contextMenu:null,showContextMenu:r=>n({contextMenu:r}),hideContextMenu:()=>n({contextMenu:null}),expandedReporters:{},toggleReportersExpanded:r=>n(i=>({expandedReporters:{...i.expandedReporters,[r]:!i.expandedReporters[r]}})),setReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,[r]:i}})),setMultipleReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,...Object.fromEntries(r.map(c=>[c,i]))}})),confirmDialog:null,showConfirmDialog:r=>n({confirmDialog:{isOpen:!0,title:r.title,message:r.message,confirmLabel:r.confirmLabel,cancelLabel:r.cancelLabel,variant:r.variant,onConfirm:()=>{r.onConfirm(),n({confirmDialog:null})},onCancel:()=>{r.onCancel?.(),n({confirmDialog:null})}}}),hideConfirmDialog:()=>n({confirmDialog:null}),canvasContextMenu:null,showCanvasContextMenu:(r,i,o)=>n({canvasContextMenu:{x:r,y:i,workflowName:o}}),hideCanvasContextMenu:()=>n({canvasContextMenu:null}),createWorkflowModal:null,showCreateWorkflowModal:()=>n({createWorkflowModal:{isOpen:!0}}),hideCreateWorkflowModal:()=>n({createWorkflowModal:null}),extractWorkflowModal:null,showExtractWorkflowModal:(r,i,o=[],c=[])=>n({extractWorkflowModal:{isOpen:!0,nodeIds:r,workflowName:i,suggestedInputs:o,suggestedOutputs:c}}),hideExtractWorkflowModal:()=>n({extractWorkflowModal:null})})),ci=gs(n=>({isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,workflowInputs:{},pendingPrompt:null,renderedContent:[],alerts:[],progress:null,setIsExecuting:r=>n({isExecuting:r}),setExecutionOutput:r=>n({executionOutput:r}),appendExecutionOutput:r=>n(i=>({executionOutput:i.executionOutput+r})),setExecutionResult:r=>n({executionResult:r}),setExecutionError:r=>n({executionError:r}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null,pendingPrompt:null,renderedContent:[],alerts:[],progress:null}),setWorkflowInput:(r,i)=>n(o=>({workflowInputs:{...o.workflowInputs,[r]:i}})),clearWorkflowInputs:()=>n({workflowInputs:{}}),setPendingPrompt:r=>n({pendingPrompt:r}),addRenderedContent:r=>n(i=>({renderedContent:[...i.renderedContent,r]})),clearRenderedContent:()=>n({renderedContent:[]}),addAlert:r=>n(i=>({alerts:[...i.alerts,{...r,id:crypto.randomUUID()}]})),removeAlert:r=>n(i=>({alerts:i.alerts.filter(o=>o.id!==r)})),setProgress:r=>n({progress:r})})),Wn=gs(n=>({selectedNodeId:null,selectNode:r=>n({selectedNodeId:r,selectedNodeIds:[]}),selectedNodeIds:[],toggleNodeSelection:r=>n(i=>{const o=i.selectedNodeIds.includes(r)?i.selectedNodeIds.filter(c=>c!==r):[...i.selectedNodeIds,r];return{selectedNodeIds:o,selectedNodeId:o.length>0?o[o.length-1]:null}}),addToSelection:r=>n(i=>({selectedNodeIds:i.selectedNodeIds.includes(r)?i.selectedNodeIds:[...i.selectedNodeIds,r]})),clearMultiSelection:()=>n({selectedNodeIds:[]}),selectedReporter:null,selectReporter:r=>n({selectedReporter:r}),selectedConnection:null,selectConnection:r=>n({selectedConnection:r}),selectedStartNode:null,selectStartNode:r=>n({selectedStartNode:r}),clearSelection:()=>n({selectedNodeId:null,selectedNodeIds:[],selectedReporter:null,selectedConnection:null,selectedStartNode:null})}));function Nx(n){var r,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(r=0;r<c;r++)n[r]&&(i=Nx(n[r]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function Ex(){for(var n,r,i=0,o="",c=arguments.length;i<c;i++)(n=arguments[i])&&(r=Nx(n))&&(o&&(o+=" "),o+=r);return o}const T1=(n,r)=>{const i=new Array(n.length+r.length);for(let o=0;o<n.length;o++)i[o]=n[o];for(let o=0;o<r.length;o++)i[n.length+o]=r[o];return i},M1=(n,r)=>({classGroupId:n,validator:r}),jx=(n=new Map,r=null,i)=>({nextPart:n,validators:r,classGroupId:i}),ts="-",rg=[],D1="arbitrary..",k1=n=>{const r=z1(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return R1(h);const m=h.split(ts),g=m[0]===""&&m.length>1?1:0;return Cx(m,g,r)},getConflictingClassGroupIds:(h,m)=>{if(m){const g=o[h],p=i[h];return g?p?T1(p,g):g:p||rg}return i[h]||rg}}},Cx=(n,r,i)=>{if(n.length-r===0)return i.classGroupId;const c=n[r],f=i.nextPart.get(c);if(f){const p=Cx(n,r+1,f);if(p)return p}const h=i.validators;if(h===null)return;const m=r===0?n.join(ts):n.slice(r).join(ts),g=h.length;for(let p=0;p<g;p++){const y=h[p];if(y.validator(m))return y.classGroupId}},R1=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=n.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?D1+o:void 0})(),z1=n=>{const{theme:r,classGroups:i}=n;return L1(i,r)},L1=(n,r)=>{const i=jx();for(const o in n){const c=n[o];Ef(c,i,o,r)}return i},Ef=(n,r,i,o)=>{const c=n.length;for(let f=0;f<c;f++){const h=n[f];V1(h,r,i,o)}},V1=(n,r,i,o)=>{if(typeof n=="string"){B1(n,r,i);return}if(typeof n=="function"){H1(n,r,i,o);return}U1(n,r,i,o)},B1=(n,r,i)=>{const o=n===""?r:Ax(r,n);o.classGroupId=i},H1=(n,r,i,o)=>{if(I1(n)){Ef(n(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(M1(i,n))},U1=(n,r,i,o)=>{const c=Object.entries(n),f=c.length;for(let h=0;h<f;h++){const[m,g]=c[h];Ef(g,Ax(r,m),i,o)}},Ax=(n,r)=>{let i=n;const o=r.split(ts),c=o.length;for(let f=0;f<c;f++){const h=o[f];let m=i.nextPart.get(h);m||(m=jx(),i.nextPart.set(h,m)),i=m}return i},I1=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,Y1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const c=(f,h)=>{i[f]=h,r++,r>n&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return c(f,h),h},set(f,h){f in i?i[f]=h:c(f,h)}}},rf="!",ig=":",q1=[],og=(n,r,i,o,c)=>({modifiers:n,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:c}),G1=n=>{const{prefix:r,experimentalParseClassName:i}=n;let o=c=>{const f=[];let h=0,m=0,g=0,p;const y=c.length;for(let v=0;v<y;v++){const j=c[v];if(h===0&&m===0){if(j===ig){f.push(c.slice(g,v)),g=v+1;continue}if(j==="/"){p=v;continue}}j==="["?h++:j==="]"?h--:j==="("?m++:j===")"&&m--}const b=f.length===0?c:c.slice(g);let N=b,E=!1;b.endsWith(rf)?(N=b.slice(0,-1),E=!0):b.startsWith(rf)&&(N=b.slice(1),E=!0);const w=p&&p>g?p-g:void 0;return og(f,E,N,w)};if(r){const c=r+ig,f=o;o=h=>h.startsWith(c)?f(h.slice(c.length)):og(q1,!1,h,void 0,!0)}if(i){const c=o;o=f=>i({className:f,parseClassName:c})}return o},X1=n=>{const r=new Map;return n.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let c=[];for(let f=0;f<i.length;f++){const h=i[f],m=h[0]==="[",g=r.has(h);m||g?(c.length>0&&(c.sort(),o.push(...c),c=[]),o.push(h)):c.push(h)}return c.length>0&&(c.sort(),o.push(...c)),o}},$1=n=>({cache:Y1(n.cacheSize),parseClassName:G1(n),sortModifiers:X1(n),...k1(n)}),W1=/\s+/,Z1=(n,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:f}=r,h=[],m=n.trim().split(W1);let g="";for(let p=m.length-1;p>=0;p-=1){const y=m[p],{isExternal:b,modifiers:N,hasImportantModifier:E,baseClassName:w,maybePostfixModifierPosition:v}=i(y);if(b){g=y+(g.length>0?" "+g:g);continue}let j=!!v,A=o(j?w.substring(0,v):w);if(!A){if(!j){g=y+(g.length>0?" "+g:g);continue}if(A=o(w),!A){g=y+(g.length>0?" "+g:g);continue}j=!1}const _=N.length===0?"":N.length===1?N[0]:f(N).join(":"),W=E?_+rf:_,$=W+A;if(h.indexOf($)>-1)continue;h.push($);const H=c(A,j);for(let U=0;U<H.length;++U){const Y=H[U];h.push(W+Y)}g=y+(g.length>0?" "+g:g)}return g},Q1=(...n)=>{let r=0,i,o,c="";for(;r<n.length;)(i=n[r++])&&(o=_x(i))&&(c&&(c+=" "),c+=o);return c},_x=n=>{if(typeof n=="string")return n;let r,i="";for(let o=0;o<n.length;o++)n[o]&&(r=_x(n[o]))&&(i&&(i+=" "),i+=r);return i},K1=(n,...r)=>{let i,o,c,f;const h=g=>{const p=r.reduce((y,b)=>b(y),n());return i=$1(p),o=i.cache.get,c=i.cache.set,f=m,m(g)},m=g=>{const p=o(g);if(p)return p;const y=Z1(g,i);return c(g,y),y};return f=h,(...g)=>f(Q1(...g))},F1=[],pt=n=>{const r=i=>i[n]||F1;return r.isThemeGetter=!0,r},Ox=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Tx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,J1=/^\d+\/\d+$/,P1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ew=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xa=n=>J1.test(n),Oe=n=>!!n&&!Number.isNaN(Number(n)),Sl=n=>!!n&&Number.isInteger(Number(n)),Hu=n=>n.endsWith("%")&&Oe(n.slice(0,-1)),Gn=n=>P1.test(n),aw=()=>!0,rw=n=>ew.test(n)&&!tw.test(n),Mx=()=>!1,iw=n=>nw.test(n),ow=n=>lw.test(n),sw=n=>!me(n)&&!pe(n),cw=n=>ar(n,Rx,Mx),me=n=>Ox.test(n),Pl=n=>ar(n,zx,rw),Uu=n=>ar(n,mw,Oe),sg=n=>ar(n,Dx,Mx),uw=n=>ar(n,kx,ow),Bo=n=>ar(n,Lx,iw),pe=n=>Tx.test(n),ti=n=>rr(n,zx),fw=n=>rr(n,pw),cg=n=>rr(n,Dx),dw=n=>rr(n,Rx),hw=n=>rr(n,kx),Ho=n=>rr(n,Lx,!0),ar=(n,r,i)=>{const o=Ox.exec(n);return o?o[1]?r(o[1]):i(o[2]):!1},rr=(n,r,i=!1)=>{const o=Tx.exec(n);return o?o[1]?r(o[1]):i:!1},Dx=n=>n==="position"||n==="percentage",kx=n=>n==="image"||n==="url",Rx=n=>n==="length"||n==="size"||n==="bg-size",zx=n=>n==="length",mw=n=>n==="number",pw=n=>n==="family-name",Lx=n=>n==="shadow",gw=()=>{const n=pt("color"),r=pt("font"),i=pt("text"),o=pt("font-weight"),c=pt("tracking"),f=pt("leading"),h=pt("breakpoint"),m=pt("container"),g=pt("spacing"),p=pt("radius"),y=pt("shadow"),b=pt("inset-shadow"),N=pt("text-shadow"),E=pt("drop-shadow"),w=pt("blur"),v=pt("perspective"),j=pt("aspect"),A=pt("ease"),_=pt("animate"),W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...$(),pe,me],U=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],I=()=>[pe,me,g],F=()=>[Xa,"full","auto",...I()],ne=()=>[Sl,"none","subgrid",pe,me],ue=()=>["auto",{span:["full",Sl,pe,me]},Sl,pe,me],ce=()=>[Sl,"auto",pe,me],oe=()=>["auto","min","max","fr",pe,me],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...I()],M=()=>[Xa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],k=()=>[n,pe,me],ae=()=>[...$(),cg,sg,{position:[pe,me]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",dw,cw,{size:[pe,me]}],V=()=>[Hu,ti,Pl],P=()=>["","none","full",p,pe,me],ie=()=>["",Oe,ti,Pl],fe=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Oe,Hu,cg,sg],Ie=()=>["","none",w,pe,me],re=()=>["none",Oe,pe,me],we=()=>["none",Oe,pe,me],Re=()=>[Oe,pe,me],He=()=>[Xa,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gn],breakpoint:[Gn],color:[aw],container:[Gn],"drop-shadow":[Gn],ease:["in","out","in-out"],font:[sw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gn],shadow:[Gn],spacing:["px",Oe],text:[Gn],"text-shadow":[Gn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xa,me,pe,j]}],container:["container"],columns:[{columns:[Oe,me,pe,m]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Sl,"auto",pe,me]}],basis:[{basis:[Xa,"full","auto",m,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,Xa,"auto","initial","none",me]}],grow:[{grow:["",Oe,pe,me]}],shrink:[{shrink:["",Oe,pe,me]}],order:[{order:[Sl,"first","last","none",pe,me]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:ue()}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:ue()}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[m,"screen",...M()]}],"min-w":[{"min-w":[m,"screen","none",...M()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[h]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",i,ti,Pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,pe,Uu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hu,me]}],"font-family":[{font:[fw,me,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,pe,me]}],"line-clamp":[{"line-clamp":[Oe,"none",pe,Uu]}],leading:[{leading:[f,...I()]}],"list-image":[{"list-image":["none",pe,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",pe,Pl]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[Oe,"auto",pe,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sl,pe,me],radial:["",pe,me],conic:[Sl,pe,me]},hw,uw]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,pe,me]}],"outline-w":[{outline:["",Oe,ti,Pl]}],"outline-color":[{outline:k()}],shadow:[{shadow:["","none",y,Ho,Bo]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",b,Ho,Bo]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[Oe,Pl]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":k()}],"text-shadow":[{"text-shadow":["none",N,Ho,Bo]}],"text-shadow-color":[{"text-shadow":k()}],opacity:[{opacity:[Oe,pe,me]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":k()}],"mask-image-linear-to-color":[{"mask-linear-to":k()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":k()}],"mask-image-t-to-color":[{"mask-t-to":k()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":k()}],"mask-image-r-to-color":[{"mask-r-to":k()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":k()}],"mask-image-b-to-color":[{"mask-b-to":k()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":k()}],"mask-image-l-to-color":[{"mask-l-to":k()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":k()}],"mask-image-x-to-color":[{"mask-x-to":k()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":k()}],"mask-image-y-to-color":[{"mask-y-to":k()}],"mask-image-radial":[{"mask-radial":[pe,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":k()}],"mask-image-radial-to-color":[{"mask-radial-to":k()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":k()}],"mask-image-conic-to-color":[{"mask-conic-to":k()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,me]}],filter:[{filter:["","none",pe,me]}],blur:[{blur:Ie()}],brightness:[{brightness:[Oe,pe,me]}],contrast:[{contrast:[Oe,pe,me]}],"drop-shadow":[{"drop-shadow":["","none",E,Ho,Bo]}],"drop-shadow-color":[{"drop-shadow":k()}],grayscale:[{grayscale:["",Oe,pe,me]}],"hue-rotate":[{"hue-rotate":[Oe,pe,me]}],invert:[{invert:["",Oe,pe,me]}],saturate:[{saturate:[Oe,pe,me]}],sepia:[{sepia:["",Oe,pe,me]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,me]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,pe,me]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,pe,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,pe,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,pe,me]}],"backdrop-invert":[{"backdrop-invert":["",Oe,pe,me]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,pe,me]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,pe,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,pe,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",pe,me]}],ease:[{ease:["linear","initial",A,pe,me]}],delay:[{delay:[Oe,pe,me]}],animate:[{animate:["none",_,pe,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,pe,me]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[pe,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,me]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[Oe,ti,Pl,Uu]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xw=K1(gw);function L(...n){return xw(Ex(n))}const ug=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,fg=Ex,T=(n,r)=>i=>{var o;if(r?.variants==null)return fg(n,i?.class,i?.className);const{variants:c,defaultVariants:f}=r,h=Object.keys(c).map(p=>{const y=i?.[p],b=f?.[p];if(y===null)return null;const N=ug(y)||ug(b);return c[p][N]}),m=i&&Object.entries(i).reduce((p,y)=>{let[b,N]=y;return N===void 0||(p[b]=N),p},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((p,y)=>{let{class:b,className:N,...E}=y;return Object.entries(E).every(w=>{let[v,j]=w;return Array.isArray(j)?j.includes({...f,...m}[v]):{...f,...m}[v]===j})?[...p,b,N]:p},[]);return fg(n,h,g,i?.class,i?.className)},yw=T("inline-flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent-blue disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-text-secondary hover:text-text-primary hover:bg-surface-2",ghost:"text-text-muted hover:text-text-secondary hover:bg-surface-1"},size:{sm:"h-6 w-6 rounded-sm",md:"h-8 w-8 rounded-sm",lg:"h-10 w-10 rounded-sm"}},defaultVariants:{variant:"default",size:"md"}}),wn=z.forwardRef(({className:n,variant:r,size:i,icon:o,label:c,...f},h)=>d.jsx("button",{ref:h,className:L(yw({variant:r,size:i,className:n})),"aria-label":c,title:c,...f,children:o}));wn.displayName="IconButton";const bw=T("w-full bg-surface-2 text-text-secondary border border-border-subtle transition-colors focus:outline-none focus:ring-1 focus:ring-accent-blue focus:border-accent-blue hover:bg-surface-3 hover:text-text-primary disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{size:{sm:"h-7 px-2.5 pr-7 text-xs rounded-sm leading-7",md:"h-8 px-3 pr-8 text-sm rounded-sm leading-8",lg:"h-10 px-4 pr-10 text-sm rounded-sm leading-10"}},defaultVariants:{size:"md"}}),Vx=z.forwardRef(({className:n,size:r,children:i,...o},c)=>d.jsxs("div",{className:"relative",children:[d.jsx("select",{ref:c,className:L(bw({size:r,className:n})),...o,children:i}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:d.jsx("svg",{className:"h-4 w-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}));Vx.displayName="Select";var jf=xx();const Cf=T("fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-150"),vw=T("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[380px] mx-4 animate-in zoom-in-95 duration-150"),ww=T("px-5 py-4 border-b border-border-subtle"),Sw=T("text-base font-semibold text-text-primary"),Nw=T("px-5 py-4"),Ew=T("text-sm text-text-secondary leading-relaxed"),jw=T("px-5 py-3 border-t border-border-subtle flex justify-end gap-2"),er=T("px-4 py-2 text-sm font-medium rounded-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1"),Af=T("bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default focus:ring-border-default"),_f=T("",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/90 focus:ring-accent-blue",danger:"bg-accent-red text-white hover:bg-accent-red/90 focus:ring-accent-red"}},defaultVariants:{variant:"default"}});function Cw({isOpen:n,title:r,message:i,confirmLabel:o="OK",cancelLabel:c="Cancel",variant:f="default",onConfirm:h,onCancel:m}){const g=z.useRef(null);return z.useEffect(()=>{if(n){const p=setTimeout(()=>{g.current?.focus()},50);return()=>clearTimeout(p)}},[n]),z.useEffect(()=>{if(!n)return;const p=y=>{y.key==="Escape"?m():y.key==="Enter"&&h()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n,m,h]),n?jf.createPortal(d.jsx("div",{className:L(Cf()),onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:d.jsxs("div",{className:L(vw()),onClick:p=>p.stopPropagation(),children:[d.jsx("div",{className:L(ww()),children:d.jsx("h2",{id:"confirm-dialog-title",className:L(Sw()),children:r})}),d.jsx("div",{className:L(Nw()),children:d.jsx("p",{id:"confirm-dialog-message",className:L(Ew()),children:i})}),d.jsxs("div",{className:L(jw()),children:[d.jsx("button",{className:L(er(),Af()),onClick:m,children:c}),d.jsx("button",{ref:g,className:L(er(),_f({variant:f})),onClick:h,children:o})]})]})}),document.body):null}const Bx=T("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[480px] mx-4 animate-in zoom-in-95 duration-150 max-h-[90vh] flex flex-col"),Hx=T("px-5 py-4 border-b border-border-subtle flex-shrink-0"),Ux=T("text-base font-semibold text-text-primary"),Ix=T("px-5 py-4 overflow-y-auto flex-1"),Yx=T("px-5 py-3 border-t border-border-subtle flex justify-end gap-2 flex-shrink-0"),El=T("mb-4 last:mb-0"),jl=T("block text-sm font-medium text-text-primary mb-1.5"),Ja=T("w-full px-3 py-2 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),qx=T("text-xs text-accent-red mt-1"),ns=T("flex flex-wrap gap-1.5 mb-2"),ls=T("inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-surface-3 text-text-primary rounded-sm border border-border-subtle"),as=T("ml-0.5 text-text-muted hover:text-text-primary cursor-pointer"),rs=T("flex gap-2"),Pa=T("px-3 py-2 text-sm bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default rounded-sm transition-colors"),Gx=T("flex items-center gap-2 mb-2"),is=T("flex-1 px-2 py-1.5 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),Xx=T("p-1 text-text-muted hover:text-accent-red transition-colors");function Aw({isOpen:n,existingWorkflowNames:r,onConfirm:i,onCancel:o}){const c=z.useRef(null),[f,h]=z.useState(""),[m,g]=z.useState(null),[p,y]=z.useState([]),[b,N]=z.useState(""),[E,w]=z.useState([]),[v,j]=z.useState(""),[A,_]=z.useState([]);z.useEffect(()=>{n&&(h(""),g(null),y([]),N(""),w([]),j(""),_([]),setTimeout(()=>{c.current?.focus()},50))},[n]),z.useEffect(()=>{if(!n)return;const Q=le=>{le.key==="Escape"&&o()};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[n,o]);const W=Q=>Q.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Q)?r.includes(Q)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",$=Q=>{h(Q),m&&g(W(Q))},H=()=>{g(W(f))},U=()=>{const Q=b.trim();Q&&!p.includes(Q)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Q)&&(y([...p,Q]),N(""))},Y=Q=>{y(p.filter(le=>le!==Q))},I=()=>{const Q=v.trim();Q&&!E.includes(Q)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Q)&&(w([...E,Q]),j(""))},F=Q=>{w(E.filter(le=>le!==Q))},ne=()=>{_([...A,{name:"",value:""}])},ue=(Q,le,D)=>{const M=[...A];M[Q][le]=D,_(M)},ce=Q=>{_(A.filter((le,D)=>D!==Q))},oe=()=>{const Q=W(f);if(Q){g(Q);return}const le={};for(const D of A)if(D.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(D.name.trim())){let M=D.value;try{M=JSON.parse(D.value)}catch{}le[D.name.trim()]=M}i({name:f.trim(),inputs:p,outputs:E,variables:le})};return n?jf.createPortal(d.jsx("div",{className:L(Cf()),onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"new-workflow-dialog-title",children:d.jsxs("div",{className:L(Bx()),onClick:Q=>Q.stopPropagation(),children:[d.jsx("div",{className:L(Hx()),children:d.jsx("h2",{id:"new-workflow-dialog-title",className:L(Ux()),children:"Create New Workflow"})}),d.jsxs("div",{className:L(Ix()),children:[d.jsxs("div",{className:L(El()),children:[d.jsxs("label",{className:L(jl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:c,type:"text",className:L(Ja()),placeholder:"my_workflow",value:f,onChange:Q=>$(Q.target.value),onBlur:H,onKeyDown:Q=>{Q.key==="Enter"&&oe()}}),m&&d.jsx("p",{className:L(qx()),children:m})]}),d.jsxs("div",{className:L(El()),children:[d.jsx("label",{className:L(jl()),children:"Interface Inputs"}),p.length>0&&d.jsx("div",{className:L(ns()),children:p.map(Q=>d.jsxs("span",{className:L(ls()),children:[Q,d.jsx("button",{className:L(as()),onClick:()=>Y(Q),"aria-label":`Remove ${Q}`,children:"x"})]},Q))}),d.jsxs("div",{className:L(rs()),children:[d.jsx("input",{type:"text",className:L(Ja()),placeholder:"input_name",value:b,onChange:Q=>N(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&(Q.preventDefault(),U())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:U,children:"Add"})]})]}),d.jsxs("div",{className:L(El()),children:[d.jsx("label",{className:L(jl()),children:"Interface Outputs"}),E.length>0&&d.jsx("div",{className:L(ns()),children:E.map(Q=>d.jsxs("span",{className:L(ls()),children:[Q,d.jsx("button",{className:L(as()),onClick:()=>F(Q),"aria-label":`Remove ${Q}`,children:"x"})]},Q))}),d.jsxs("div",{className:L(rs()),children:[d.jsx("input",{type:"text",className:L(Ja()),placeholder:"output_name",value:v,onChange:Q=>j(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&(Q.preventDefault(),I())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:I,children:"Add"})]})]}),d.jsxs("div",{className:L(El()),children:[d.jsx("label",{className:L(jl()),children:"Variables"}),A.map((Q,le)=>d.jsxs("div",{className:L(Gx()),children:[d.jsx("input",{type:"text",className:L(is()),placeholder:"name",value:Q.name,onChange:D=>ue(le,"name",D.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:L(is()),placeholder:"value",value:Q.value,onChange:D=>ue(le,"value",D.target.value)}),d.jsx("button",{type:"button",className:L(Xx()),onClick:()=>ce(le),"aria-label":"Remove variable",children:"x"})]},le)),d.jsx("button",{type:"button",className:L(Pa()),onClick:ne,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:L(Yx()),children:[d.jsx("button",{className:L(er(),Af()),onClick:o,children:"Cancel"}),d.jsx("button",{className:L(er(),_f()),onClick:oe,children:"Create"})]})]})}),document.body):null}const _w=T("mb-4 p-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-secondary");function Ow({isOpen:n,existingWorkflowNames:r,nodeIds:i,suggestedInputs:o,suggestedOutputs:c,onConfirm:f,onCancel:h}){const m=z.useRef(null),[g,p]=z.useState(""),[y,b]=z.useState(null),[N,E]=z.useState([]),[w,v]=z.useState(""),[j,A]=z.useState([]),[_,W]=z.useState(""),[$,H]=z.useState([]);z.useEffect(()=>{n&&(p(""),b(null),E(o),v(""),A(c),W(""),H([]),setTimeout(()=>{m.current?.focus()},50))},[n,o,c]),z.useEffect(()=>{if(!n)return;const M=k=>{k.key==="Escape"&&h()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[n,h]);const U=M=>M.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(M)?r.includes(M)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",Y=M=>{p(M),y&&b(U(M))},I=()=>{b(U(g))},F=()=>{const M=w.trim();M&&!N.includes(M)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(M)&&(E([...N,M]),v(""))},ne=M=>{E(N.filter(k=>k!==M))},ue=()=>{const M=_.trim();M&&!j.includes(M)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(M)&&(A([...j,M]),W(""))},ce=M=>{A(j.filter(k=>k!==M))},oe=()=>{H([...$,{name:"",value:""}])},Q=(M,k,ae)=>{const K=[...$];K[M][k]=ae,H(K)},le=M=>{H($.filter((k,ae)=>ae!==M))},D=()=>{const M=U(g);if(M){b(M);return}const k={};for(const ae of $)if(ae.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(ae.name.trim())){let K=ae.value;try{K=JSON.parse(ae.value)}catch{}k[ae.name.trim()]=K}f({name:g.trim(),inputs:N,outputs:j,variables:k})};return n?jf.createPortal(d.jsx("div",{className:L(Cf()),onClick:h,role:"dialog","aria-modal":"true","aria-labelledby":"extract-workflow-dialog-title",children:d.jsxs("div",{className:L(Bx()),onClick:M=>M.stopPropagation(),children:[d.jsx("div",{className:L(Hx()),children:d.jsx("h2",{id:"extract-workflow-dialog-title",className:L(Ux()),children:"Extract to Workflow"})}),d.jsxs("div",{className:L(Ix()),children:[d.jsxs("div",{className:L(_w()),children:[d.jsxs("strong",{children:[i.length," nodes"]})," will be extracted into a new workflow. The selected nodes will be replaced with a workflow_call node."]}),d.jsxs("div",{className:L(El()),children:[d.jsxs("label",{className:L(jl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:m,type:"text",className:L(Ja()),placeholder:"my_workflow",value:g,onChange:M=>Y(M.target.value),onBlur:I,onKeyDown:M=>{M.key==="Enter"&&D()}}),y&&d.jsx("p",{className:L(qx()),children:y})]}),d.jsxs("div",{className:L(El()),children:[d.jsxs("label",{className:L(jl()),children:["Interface Inputs",o.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),N.length>0&&d.jsx("div",{className:L(ns()),children:N.map(M=>d.jsxs("span",{className:L(ls()),children:[M,d.jsx("button",{className:L(as()),onClick:()=>ne(M),"aria-label":`Remove ${M}`,children:"x"})]},M))}),d.jsxs("div",{className:L(rs()),children:[d.jsx("input",{type:"text",className:L(Ja()),placeholder:"input_name",value:w,onChange:M=>v(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),F())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:F,children:"Add"})]})]}),d.jsxs("div",{className:L(El()),children:[d.jsxs("label",{className:L(jl()),children:["Interface Outputs",c.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),j.length>0&&d.jsx("div",{className:L(ns()),children:j.map(M=>d.jsxs("span",{className:L(ls()),children:[M,d.jsx("button",{className:L(as()),onClick:()=>ce(M),"aria-label":`Remove ${M}`,children:"x"})]},M))}),d.jsxs("div",{className:L(rs()),children:[d.jsx("input",{type:"text",className:L(Ja()),placeholder:"output_name",value:_,onChange:M=>W(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),ue())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:ue,children:"Add"})]})]}),d.jsxs("div",{className:L(El()),children:[d.jsx("label",{className:L(jl()),children:"Variables"}),$.map((M,k)=>d.jsxs("div",{className:L(Gx()),children:[d.jsx("input",{type:"text",className:L(is()),placeholder:"name",value:M.name,onChange:ae=>Q(k,"name",ae.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:L(is()),placeholder:"value",value:M.value,onChange:ae=>Q(k,"value",ae.target.value)}),d.jsx("button",{type:"button",className:L(Xx()),onClick:()=>le(k),"aria-label":"Remove variable",children:"x"})]},k)),d.jsx("button",{type:"button",className:L(Pa()),onClick:oe,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:L(Yx()),children:[d.jsx("button",{className:L(er(),Af()),onClick:h,children:"Cancel"}),d.jsx("button",{className:L(er(),_f()),onClick:D,children:"Extract"})]})]})}),document.body):null}function xt(n,r,i=18){const o=({size:c=i,className:f,...h})=>d.jsx("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:f,...h,children:n});return o.displayName=r,o}const Tw=xt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"FileIcon"),Mw=xt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"17 8 12 3 7 8"}),d.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"UploadIcon"),Dw=xt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"DownloadIcon"),kw=xt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M3 7v6h6"}),d.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),"UndoIcon"),Rw=xt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 7v6h-6"}),d.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"})]}),"RedoIcon"),zw=xt(d.jsx("path",{d:"M12 5v14M5 12h14"}),"PlusIcon",20),Lw=xt(d.jsx("path",{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"}),"CodeIcon",20),Vw=xt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),"SunIcon"),Bw=xt(d.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}),"MoonIcon"),Hw=xt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomInIcon",16),Uw=xt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomOutIcon",16),Iw=xt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"FitViewIcon",16),Yw=xt(d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"GridIcon",14),qw=xt(d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"}),"PlayIcon",14),Gw=xt(d.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),"StopIcon",14),Xw=xt(d.jsxs(d.Fragment,{children:[d.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),d.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]}),"StepForwardIcon",14),$w=xt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"3 6 5 6 21 6"}),d.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"TrashIcon",14),Ww=xt(d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"CloseIcon",14),Zw=xt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),d.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"SaveIcon"),$x=z.createContext(null),dg="lexflow-theme";function Qw({children:n}){const[r,i]=z.useState(()=>{if(typeof window>"u")return"dark";const f=localStorage.getItem(dg);return f==="light"||f==="dark"?f:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});z.useEffect(()=>{document.documentElement.classList.toggle("light",r==="light"),localStorage.setItem(dg,r)},[r]);const o=f=>i(f),c=()=>i(f=>f==="dark"?"light":"dark");return z.createElement($x.Provider,{value:{theme:r,setTheme:o,toggleTheme:c}},n)}function Wx(){const n=z.useContext($x);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}function Kw({className:n}){const{theme:r,toggleTheme:i}=Wx();return d.jsx(wn,{className:n,icon:r==="dark"?d.jsx(Vw,{}):d.jsx(Bw,{}),label:r==="dark"?"Switch to light mode":"Switch to dark mode",onClick:i})}function Zx(n){return typeof n.listExamples=="function"&&typeof n.getExample=="function"}const Qx=z.createContext(null);function Fw({provider:n,children:r}){return d.jsx(Qx.Provider,{value:n,children:r})}function xs(){const n=z.useContext(Qx);if(!n)throw new Error("useBackendProvider must be used within a BackendProviderWrapper");return n}function Kx(n){return typeof n>"u"||n===null}function Jw(n){return typeof n=="object"&&n!==null}function Pw(n){return Array.isArray(n)?n:Kx(n)?[]:[n]}function e2(n,r){var i,o,c,f;if(r)for(f=Object.keys(r),i=0,o=f.length;i<o;i+=1)c=f[i],n[c]=r[c];return n}function t2(n,r){var i="",o;for(o=0;o<r;o+=1)i+=n;return i}function n2(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var l2=Kx,a2=Jw,r2=Pw,i2=t2,o2=n2,s2=e2,gt={isNothing:l2,isObject:a2,toArray:r2,repeat:i2,isNegativeZero:o2,extend:s2};function Fx(n,r){var i="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(i+='in "'+n.mark.name+'" '),i+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(i+=`

`+n.mark.snippet),o+" "+i):o}function ui(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=Fx(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ui.prototype=Object.create(Error.prototype);ui.prototype.constructor=ui;ui.prototype.toString=function(r){return this.name+": "+Fx(this,r)};var Mt=ui;function Iu(n,r,i,o,c){var f="",h="",m=Math.floor(c/2)-1;return o-r>m&&(f=" ... ",r=o-m+f.length),i-o>m&&(h=" ...",i=o+m-h.length),{str:f+n.slice(r,i).replace(/\t/g,"")+h,pos:o-r+f.length}}function Yu(n,r){return gt.repeat(" ",r-n.length)+n}function c2(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,o=[0],c=[],f,h=-1;f=i.exec(n.buffer);)c.push(f.index),o.push(f.index+f[0].length),n.position<=f.index&&h<0&&(h=o.length-2);h<0&&(h=o.length-1);var m="",g,p,y=Math.min(n.line+r.linesAfter,c.length).toString().length,b=r.maxLength-(r.indent+y+3);for(g=1;g<=r.linesBefore&&!(h-g<0);g++)p=Iu(n.buffer,o[h-g],c[h-g],n.position-(o[h]-o[h-g]),b),m=gt.repeat(" ",r.indent)+Yu((n.line-g+1).toString(),y)+" | "+p.str+`
`+m;for(p=Iu(n.buffer,o[h],c[h],n.position,b),m+=gt.repeat(" ",r.indent)+Yu((n.line+1).toString(),y)+" | "+p.str+`
`,m+=gt.repeat("-",r.indent+y+3+p.pos)+`^
`,g=1;g<=r.linesAfter&&!(h+g>=c.length);g++)p=Iu(n.buffer,o[h+g],c[h+g],n.position-(o[h]-o[h+g]),b),m+=gt.repeat(" ",r.indent)+Yu((n.line+g+1).toString(),y)+" | "+p.str+`
`;return m.replace(/\n$/,"")}var u2=c2,f2=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],d2=["scalar","sequence","mapping"];function h2(n){var r={};return n!==null&&Object.keys(n).forEach(function(i){n[i].forEach(function(o){r[String(o)]=i})}),r}function m2(n,r){if(r=r||{},Object.keys(r).forEach(function(i){if(f2.indexOf(i)===-1)throw new Mt('Unknown option "'+i+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=h2(r.styleAliases||null),d2.indexOf(this.kind)===-1)throw new Mt('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var Ct=m2;function hg(n,r){var i=[];return n[r].forEach(function(o){var c=i.length;i.forEach(function(f,h){f.tag===o.tag&&f.kind===o.kind&&f.multi===o.multi&&(c=h)}),i[c]=o}),i}function p2(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function o(c){c.multi?(n.multi[c.kind].push(c),n.multi.fallback.push(c)):n[c.kind][c.tag]=n.fallback[c.tag]=c}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(o);return n}function of(n){return this.extend(n)}of.prototype.extend=function(r){var i=[],o=[];if(r instanceof Ct)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new Mt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(f){if(!(f instanceof Ct))throw new Mt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(f.loadKind&&f.loadKind!=="scalar")throw new Mt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(f.multi)throw new Mt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(f){if(!(f instanceof Ct))throw new Mt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(of.prototype);return c.implicit=(this.implicit||[]).concat(i),c.explicit=(this.explicit||[]).concat(o),c.compiledImplicit=hg(c,"implicit"),c.compiledExplicit=hg(c,"explicit"),c.compiledTypeMap=p2(c.compiledImplicit,c.compiledExplicit),c};var Jx=of,Px=new Ct("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),ey=new Ct("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),ty=new Ct("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),ny=new Jx({explicit:[Px,ey,ty]});function g2(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function x2(){return null}function y2(n){return n===null}var ly=new Ct("tag:yaml.org,2002:null",{kind:"scalar",resolve:g2,construct:x2,predicate:y2,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function b2(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function v2(n){return n==="true"||n==="True"||n==="TRUE"}function w2(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var ay=new Ct("tag:yaml.org,2002:bool",{kind:"scalar",resolve:b2,construct:v2,predicate:w2,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function S2(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function N2(n){return 48<=n&&n<=55}function E2(n){return 48<=n&&n<=57}function j2(n){if(n===null)return!1;var r=n.length,i=0,o=!1,c;if(!r)return!1;if(c=n[i],(c==="-"||c==="+")&&(c=n[++i]),c==="0"){if(i+1===r)return!0;if(c=n[++i],c==="b"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(c!=="0"&&c!=="1")return!1;o=!0}return o&&c!=="_"}if(c==="x"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!S2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}if(c==="o"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!N2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}}if(c==="_")return!1;for(;i<r;i++)if(c=n[i],c!=="_"){if(!E2(n.charCodeAt(i)))return!1;o=!0}return!(!o||c==="_")}function C2(n){var r=n,i=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(i=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function A2(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!gt.isNegativeZero(n)}var ry=new Ct("tag:yaml.org,2002:int",{kind:"scalar",resolve:j2,construct:C2,predicate:A2,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_2=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function O2(n){return!(n===null||!_2.test(n)||n[n.length-1]==="_")}function T2(n){var r,i;return r=n.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var M2=/^[-+]?[0-9]+e/;function D2(n,r){var i;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(gt.isNegativeZero(n))return"-0.0";return i=n.toString(10),M2.test(i)?i.replace("e",".e"):i}function k2(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||gt.isNegativeZero(n))}var iy=new Ct("tag:yaml.org,2002:float",{kind:"scalar",resolve:O2,construct:T2,predicate:k2,represent:D2,defaultStyle:"lowercase"}),oy=ny.extend({implicit:[ly,ay,ry,iy]}),sy=oy,cy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),uy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function R2(n){return n===null?!1:cy.exec(n)!==null||uy.exec(n)!==null}function z2(n){var r,i,o,c,f,h,m,g=0,p=null,y,b,N;if(r=cy.exec(n),r===null&&(r=uy.exec(n)),r===null)throw new Error("Date resolve error");if(i=+r[1],o=+r[2]-1,c=+r[3],!r[4])return new Date(Date.UTC(i,o,c));if(f=+r[4],h=+r[5],m=+r[6],r[7]){for(g=r[7].slice(0,3);g.length<3;)g+="0";g=+g}return r[9]&&(y=+r[10],b=+(r[11]||0),p=(y*60+b)*6e4,r[9]==="-"&&(p=-p)),N=new Date(Date.UTC(i,o,c,f,h,m,g)),p&&N.setTime(N.getTime()-p),N}function L2(n){return n.toISOString()}var fy=new Ct("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:R2,construct:z2,instanceOf:Date,represent:L2});function V2(n){return n==="<<"||n===null}var dy=new Ct("tag:yaml.org,2002:merge",{kind:"scalar",resolve:V2}),Of=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function B2(n){if(n===null)return!1;var r,i,o=0,c=n.length,f=Of;for(i=0;i<c;i++)if(r=f.indexOf(n.charAt(i)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function H2(n){var r,i,o=n.replace(/[\r\n=]/g,""),c=o.length,f=Of,h=0,m=[];for(r=0;r<c;r++)r%4===0&&r&&(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)),h=h<<6|f.indexOf(o.charAt(r));return i=c%4*6,i===0?(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)):i===18?(m.push(h>>10&255),m.push(h>>2&255)):i===12&&m.push(h>>4&255),new Uint8Array(m)}function U2(n){var r="",i=0,o,c,f=n.length,h=Of;for(o=0;o<f;o++)o%3===0&&o&&(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]),i=(i<<8)+n[o];return c=f%3,c===0?(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]):c===2?(r+=h[i>>10&63],r+=h[i>>4&63],r+=h[i<<2&63],r+=h[64]):c===1&&(r+=h[i>>2&63],r+=h[i<<4&63],r+=h[64],r+=h[64]),r}function I2(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var hy=new Ct("tag:yaml.org,2002:binary",{kind:"scalar",resolve:B2,construct:H2,predicate:I2,represent:U2}),Y2=Object.prototype.hasOwnProperty,q2=Object.prototype.toString;function G2(n){if(n===null)return!0;var r=[],i,o,c,f,h,m=n;for(i=0,o=m.length;i<o;i+=1){if(c=m[i],h=!1,q2.call(c)!=="[object Object]")return!1;for(f in c)if(Y2.call(c,f))if(!h)h=!0;else return!1;if(!h)return!1;if(r.indexOf(f)===-1)r.push(f);else return!1}return!0}function X2(n){return n!==null?n:[]}var my=new Ct("tag:yaml.org,2002:omap",{kind:"sequence",resolve:G2,construct:X2}),$2=Object.prototype.toString;function W2(n){if(n===null)return!0;var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1){if(o=h[r],$2.call(o)!=="[object Object]"||(c=Object.keys(o),c.length!==1))return!1;f[r]=[c[0],o[c[0]]]}return!0}function Z2(n){if(n===null)return[];var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1)o=h[r],c=Object.keys(o),f[r]=[c[0],o[c[0]]];return f}var py=new Ct("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:W2,construct:Z2}),Q2=Object.prototype.hasOwnProperty;function K2(n){if(n===null)return!0;var r,i=n;for(r in i)if(Q2.call(i,r)&&i[r]!==null)return!1;return!0}function F2(n){return n!==null?n:{}}var gy=new Ct("tag:yaml.org,2002:set",{kind:"mapping",resolve:K2,construct:F2}),Tf=sy.extend({implicit:[fy,dy],explicit:[hy,my,py,gy]}),Tl=Object.prototype.hasOwnProperty,os=1,xy=2,yy=3,ss=4,qu=1,J2=2,mg=3,P2=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,eS=/[\x85\u2028\u2029]/,tS=/[,\[\]\{\}]/,by=/^(?:!|!!|![a-z\-]+!)$/i,vy=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function pg(n){return Object.prototype.toString.call(n)}function En(n){return n===10||n===13}function aa(n){return n===9||n===32}function Ut(n){return n===9||n===32||n===10||n===13}function Za(n){return n===44||n===91||n===93||n===123||n===125}function nS(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function lS(n){return n===120?2:n===117?4:n===85?8:0}function aS(n){return 48<=n&&n<=57?n-48:-1}function gg(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function rS(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function wy(n,r,i){r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:i}):n[r]=i}var Sy=new Array(256),Ny=new Array(256);for(var $a=0;$a<256;$a++)Sy[$a]=gg($a)?1:0,Ny[$a]=gg($a);function iS(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||Tf,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ey(n,r){var i={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return i.snippet=u2(i),new Mt(r,i)}function xe(n,r){throw Ey(n,r)}function cs(n,r){n.onWarning&&n.onWarning.call(null,Ey(n,r))}var xg={YAML:function(r,i,o){var c,f,h;r.version!==null&&xe(r,"duplication of %YAML directive"),o.length!==1&&xe(r,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),c===null&&xe(r,"ill-formed argument of the YAML directive"),f=parseInt(c[1],10),h=parseInt(c[2],10),f!==1&&xe(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=h<2,h!==1&&h!==2&&cs(r,"unsupported YAML version of the document")},TAG:function(r,i,o){var c,f;o.length!==2&&xe(r,"TAG directive accepts exactly two arguments"),c=o[0],f=o[1],by.test(c)||xe(r,"ill-formed tag handle (first argument) of the TAG directive"),Tl.call(r.tagMap,c)&&xe(r,'there is a previously declared suffix for "'+c+'" tag handle'),vy.test(f)||xe(r,"ill-formed tag prefix (second argument) of the TAG directive");try{f=decodeURIComponent(f)}catch{xe(r,"tag prefix is malformed: "+f)}r.tagMap[c]=f}};function Al(n,r,i,o){var c,f,h,m;if(r<i){if(m=n.input.slice(r,i),o)for(c=0,f=m.length;c<f;c+=1)h=m.charCodeAt(c),h===9||32<=h&&h<=1114111||xe(n,"expected valid JSON character");else P2.test(m)&&xe(n,"the stream contains non-printable characters");n.result+=m}}function yg(n,r,i,o){var c,f,h,m;for(gt.isObject(i)||xe(n,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(i),h=0,m=c.length;h<m;h+=1)f=c[h],Tl.call(r,f)||(wy(r,f,i[f]),o[f]=!0)}function Qa(n,r,i,o,c,f,h,m,g){var p,y;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),p=0,y=c.length;p<y;p+=1)Array.isArray(c[p])&&xe(n,"nested arrays are not supported inside keys"),typeof c=="object"&&pg(c[p])==="[object Object]"&&(c[p]="[object Object]");if(typeof c=="object"&&pg(c)==="[object Object]"&&(c="[object Object]"),c=String(c),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(f))for(p=0,y=f.length;p<y;p+=1)yg(n,r,f[p],i);else yg(n,r,f,i);else!n.json&&!Tl.call(i,c)&&Tl.call(r,c)&&(n.line=h||n.line,n.lineStart=m||n.lineStart,n.position=g||n.position,xe(n,"duplicated mapping key")),wy(r,c,f),delete i[c];return r}function Mf(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):xe(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function ht(n,r,i){for(var o=0,c=n.input.charCodeAt(n.position);c!==0;){for(;aa(c);)c===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),c=n.input.charCodeAt(++n.position);if(r&&c===35)do c=n.input.charCodeAt(++n.position);while(c!==10&&c!==13&&c!==0);if(En(c))for(Mf(n),c=n.input.charCodeAt(n.position),o++,n.lineIndent=0;c===32;)n.lineIndent++,c=n.input.charCodeAt(++n.position);else break}return i!==-1&&o!==0&&n.lineIndent<i&&cs(n,"deficient indentation"),o}function ys(n){var r=n.position,i;return i=n.input.charCodeAt(r),!!((i===45||i===46)&&i===n.input.charCodeAt(r+1)&&i===n.input.charCodeAt(r+2)&&(r+=3,i=n.input.charCodeAt(r),i===0||Ut(i)))}function Df(n,r){r===1?n.result+=" ":r>1&&(n.result+=gt.repeat(`
`,r-1))}function oS(n,r,i){var o,c,f,h,m,g,p,y,b=n.kind,N=n.result,E;if(E=n.input.charCodeAt(n.position),Ut(E)||Za(E)||E===35||E===38||E===42||E===33||E===124||E===62||E===39||E===34||E===37||E===64||E===96||(E===63||E===45)&&(c=n.input.charCodeAt(n.position+1),Ut(c)||i&&Za(c)))return!1;for(n.kind="scalar",n.result="",f=h=n.position,m=!1;E!==0;){if(E===58){if(c=n.input.charCodeAt(n.position+1),Ut(c)||i&&Za(c))break}else if(E===35){if(o=n.input.charCodeAt(n.position-1),Ut(o))break}else{if(n.position===n.lineStart&&ys(n)||i&&Za(E))break;if(En(E))if(g=n.line,p=n.lineStart,y=n.lineIndent,ht(n,!1,-1),n.lineIndent>=r){m=!0,E=n.input.charCodeAt(n.position);continue}else{n.position=h,n.line=g,n.lineStart=p,n.lineIndent=y;break}}m&&(Al(n,f,h,!1),Df(n,n.line-g),f=h=n.position,m=!1),aa(E)||(h=n.position+1),E=n.input.charCodeAt(++n.position)}return Al(n,f,h,!1),n.result?!0:(n.kind=b,n.result=N,!1)}function sS(n,r){var i,o,c;if(i=n.input.charCodeAt(n.position),i!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=c=n.position;(i=n.input.charCodeAt(n.position))!==0;)if(i===39)if(Al(n,o,n.position,!0),i=n.input.charCodeAt(++n.position),i===39)o=n.position,n.position++,c=n.position;else return!0;else En(i)?(Al(n,o,c,!0),Df(n,ht(n,!1,r)),o=c=n.position):n.position===n.lineStart&&ys(n)?xe(n,"unexpected end of the document within a single quoted scalar"):(n.position++,c=n.position);xe(n,"unexpected end of the stream within a single quoted scalar")}function cS(n,r){var i,o,c,f,h,m;if(m=n.input.charCodeAt(n.position),m!==34)return!1;for(n.kind="scalar",n.result="",n.position++,i=o=n.position;(m=n.input.charCodeAt(n.position))!==0;){if(m===34)return Al(n,i,n.position,!0),n.position++,!0;if(m===92){if(Al(n,i,n.position,!0),m=n.input.charCodeAt(++n.position),En(m))ht(n,!1,r);else if(m<256&&Sy[m])n.result+=Ny[m],n.position++;else if((h=lS(m))>0){for(c=h,f=0;c>0;c--)m=n.input.charCodeAt(++n.position),(h=nS(m))>=0?f=(f<<4)+h:xe(n,"expected hexadecimal character");n.result+=rS(f),n.position++}else xe(n,"unknown escape sequence");i=o=n.position}else En(m)?(Al(n,i,o,!0),Df(n,ht(n,!1,r)),i=o=n.position):n.position===n.lineStart&&ys(n)?xe(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}xe(n,"unexpected end of the stream within a double quoted scalar")}function uS(n,r){var i=!0,o,c,f,h=n.tag,m,g=n.anchor,p,y,b,N,E,w=Object.create(null),v,j,A,_;if(_=n.input.charCodeAt(n.position),_===91)y=93,E=!1,m=[];else if(_===123)y=125,E=!0,m={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=m),_=n.input.charCodeAt(++n.position);_!==0;){if(ht(n,!0,r),_=n.input.charCodeAt(n.position),_===y)return n.position++,n.tag=h,n.anchor=g,n.kind=E?"mapping":"sequence",n.result=m,!0;i?_===44&&xe(n,"expected the node content, but found ','"):xe(n,"missed comma between flow collection entries"),j=v=A=null,b=N=!1,_===63&&(p=n.input.charCodeAt(n.position+1),Ut(p)&&(b=N=!0,n.position++,ht(n,!0,r))),o=n.line,c=n.lineStart,f=n.position,tr(n,r,os,!1,!0),j=n.tag,v=n.result,ht(n,!0,r),_=n.input.charCodeAt(n.position),(N||n.line===o)&&_===58&&(b=!0,_=n.input.charCodeAt(++n.position),ht(n,!0,r),tr(n,r,os,!1,!0),A=n.result),E?Qa(n,m,w,j,v,A,o,c,f):b?m.push(Qa(n,null,w,j,v,A,o,c,f)):m.push(v),ht(n,!0,r),_=n.input.charCodeAt(n.position),_===44?(i=!0,_=n.input.charCodeAt(++n.position)):i=!1}xe(n,"unexpected end of the stream within a flow collection")}function fS(n,r){var i,o,c=qu,f=!1,h=!1,m=r,g=0,p=!1,y,b;if(b=n.input.charCodeAt(n.position),b===124)o=!1;else if(b===62)o=!0;else return!1;for(n.kind="scalar",n.result="";b!==0;)if(b=n.input.charCodeAt(++n.position),b===43||b===45)qu===c?c=b===43?mg:J2:xe(n,"repeat of a chomping mode identifier");else if((y=aS(b))>=0)y===0?xe(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?xe(n,"repeat of an indentation width identifier"):(m=r+y-1,h=!0);else break;if(aa(b)){do b=n.input.charCodeAt(++n.position);while(aa(b));if(b===35)do b=n.input.charCodeAt(++n.position);while(!En(b)&&b!==0)}for(;b!==0;){for(Mf(n),n.lineIndent=0,b=n.input.charCodeAt(n.position);(!h||n.lineIndent<m)&&b===32;)n.lineIndent++,b=n.input.charCodeAt(++n.position);if(!h&&n.lineIndent>m&&(m=n.lineIndent),En(b)){g++;continue}if(n.lineIndent<m){c===mg?n.result+=gt.repeat(`
`,f?1+g:g):c===qu&&f&&(n.result+=`
`);break}for(o?aa(b)?(p=!0,n.result+=gt.repeat(`
`,f?1+g:g)):p?(p=!1,n.result+=gt.repeat(`
`,g+1)):g===0?f&&(n.result+=" "):n.result+=gt.repeat(`
`,g):n.result+=gt.repeat(`
`,f?1+g:g),f=!0,h=!0,g=0,i=n.position;!En(b)&&b!==0;)b=n.input.charCodeAt(++n.position);Al(n,i,n.position,!1)}return!0}function bg(n,r){var i,o=n.tag,c=n.anchor,f=[],h,m=!1,g;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),g=n.input.charCodeAt(n.position);g!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,xe(n,"tab characters must not be used in indentation")),!(g!==45||(h=n.input.charCodeAt(n.position+1),!Ut(h))));){if(m=!0,n.position++,ht(n,!0,-1)&&n.lineIndent<=r){f.push(null),g=n.input.charCodeAt(n.position);continue}if(i=n.line,tr(n,r,yy,!1,!0),f.push(n.result),ht(n,!0,-1),g=n.input.charCodeAt(n.position),(n.line===i||n.lineIndent>r)&&g!==0)xe(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return m?(n.tag=o,n.anchor=c,n.kind="sequence",n.result=f,!0):!1}function dS(n,r,i){var o,c,f,h,m,g,p=n.tag,y=n.anchor,b={},N=Object.create(null),E=null,w=null,v=null,j=!1,A=!1,_;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=b),_=n.input.charCodeAt(n.position);_!==0;){if(!j&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,xe(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),f=n.line,(_===63||_===58)&&Ut(o))_===63?(j&&(Qa(n,b,N,E,w,null,h,m,g),E=w=v=null),A=!0,j=!0,c=!0):j?(j=!1,c=!0):xe(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,_=o;else{if(h=n.line,m=n.lineStart,g=n.position,!tr(n,i,xy,!1,!0))break;if(n.line===f){for(_=n.input.charCodeAt(n.position);aa(_);)_=n.input.charCodeAt(++n.position);if(_===58)_=n.input.charCodeAt(++n.position),Ut(_)||xe(n,"a whitespace character is expected after the key-value separator within a block mapping"),j&&(Qa(n,b,N,E,w,null,h,m,g),E=w=v=null),A=!0,j=!1,c=!1,E=n.tag,w=n.result;else if(A)xe(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=p,n.anchor=y,!0}else if(A)xe(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=p,n.anchor=y,!0}if((n.line===f||n.lineIndent>r)&&(j&&(h=n.line,m=n.lineStart,g=n.position),tr(n,r,ss,!0,c)&&(j?w=n.result:v=n.result),j||(Qa(n,b,N,E,w,v,h,m,g),E=w=v=null),ht(n,!0,-1),_=n.input.charCodeAt(n.position)),(n.line===f||n.lineIndent>r)&&_!==0)xe(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return j&&Qa(n,b,N,E,w,null,h,m,g),A&&(n.tag=p,n.anchor=y,n.kind="mapping",n.result=b),A}function hS(n){var r,i=!1,o=!1,c,f,h;if(h=n.input.charCodeAt(n.position),h!==33)return!1;if(n.tag!==null&&xe(n,"duplication of a tag property"),h=n.input.charCodeAt(++n.position),h===60?(i=!0,h=n.input.charCodeAt(++n.position)):h===33?(o=!0,c="!!",h=n.input.charCodeAt(++n.position)):c="!",r=n.position,i){do h=n.input.charCodeAt(++n.position);while(h!==0&&h!==62);n.position<n.length?(f=n.input.slice(r,n.position),h=n.input.charCodeAt(++n.position)):xe(n,"unexpected end of the stream within a verbatim tag")}else{for(;h!==0&&!Ut(h);)h===33&&(o?xe(n,"tag suffix cannot contain exclamation marks"):(c=n.input.slice(r-1,n.position+1),by.test(c)||xe(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),h=n.input.charCodeAt(++n.position);f=n.input.slice(r,n.position),tS.test(f)&&xe(n,"tag suffix cannot contain flow indicator characters")}f&&!vy.test(f)&&xe(n,"tag name cannot contain such characters: "+f);try{f=decodeURIComponent(f)}catch{xe(n,"tag name is malformed: "+f)}return i?n.tag=f:Tl.call(n.tagMap,c)?n.tag=n.tagMap[c]+f:c==="!"?n.tag="!"+f:c==="!!"?n.tag="tag:yaml.org,2002:"+f:xe(n,'undeclared tag handle "'+c+'"'),!0}function mS(n){var r,i;if(i=n.input.charCodeAt(n.position),i!==38)return!1;for(n.anchor!==null&&xe(n,"duplication of an anchor property"),i=n.input.charCodeAt(++n.position),r=n.position;i!==0&&!Ut(i)&&!Za(i);)i=n.input.charCodeAt(++n.position);return n.position===r&&xe(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function pS(n){var r,i,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Ut(o)&&!Za(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&xe(n,"name of an alias node must contain at least one character"),i=n.input.slice(r,n.position),Tl.call(n.anchorMap,i)||xe(n,'unidentified alias "'+i+'"'),n.result=n.anchorMap[i],ht(n,!0,-1),!0}function tr(n,r,i,o,c){var f,h,m,g=1,p=!1,y=!1,b,N,E,w,v,j;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,f=h=m=ss===i||yy===i,o&&ht(n,!0,-1)&&(p=!0,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)),g===1)for(;hS(n)||mS(n);)ht(n,!0,-1)?(p=!0,m=f,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)):m=!1;if(m&&(m=p||c),(g===1||ss===i)&&(os===i||xy===i?v=r:v=r+1,j=n.position-n.lineStart,g===1?m&&(bg(n,j)||dS(n,j,v))||uS(n,v)?y=!0:(h&&fS(n,v)||sS(n,v)||cS(n,v)?y=!0:pS(n)?(y=!0,(n.tag!==null||n.anchor!==null)&&xe(n,"alias node should not have any properties")):oS(n,v,os===i)&&(y=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):g===0&&(y=m&&bg(n,j))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&xe(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),b=0,N=n.implicitTypes.length;b<N;b+=1)if(w=n.implicitTypes[b],w.resolve(n.result)){n.result=w.construct(n.result),n.tag=w.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Tl.call(n.typeMap[n.kind||"fallback"],n.tag))w=n.typeMap[n.kind||"fallback"][n.tag];else for(w=null,E=n.typeMap.multi[n.kind||"fallback"],b=0,N=E.length;b<N;b+=1)if(n.tag.slice(0,E[b].tag.length)===E[b].tag){w=E[b];break}w||xe(n,"unknown tag !<"+n.tag+">"),n.result!==null&&w.kind!==n.kind&&xe(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+w.kind+'", not "'+n.kind+'"'),w.resolve(n.result,n.tag)?(n.result=w.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):xe(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||y}function gS(n){var r=n.position,i,o,c,f=!1,h;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(h=n.input.charCodeAt(n.position))!==0&&(ht(n,!0,-1),h=n.input.charCodeAt(n.position),!(n.lineIndent>0||h!==37));){for(f=!0,h=n.input.charCodeAt(++n.position),i=n.position;h!==0&&!Ut(h);)h=n.input.charCodeAt(++n.position);for(o=n.input.slice(i,n.position),c=[],o.length<1&&xe(n,"directive name must not be less than one character in length");h!==0;){for(;aa(h);)h=n.input.charCodeAt(++n.position);if(h===35){do h=n.input.charCodeAt(++n.position);while(h!==0&&!En(h));break}if(En(h))break;for(i=n.position;h!==0&&!Ut(h);)h=n.input.charCodeAt(++n.position);c.push(n.input.slice(i,n.position))}h!==0&&Mf(n),Tl.call(xg,o)?xg[o](n,o,c):cs(n,'unknown document directive "'+o+'"')}if(ht(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,ht(n,!0,-1)):f&&xe(n,"directives end mark is expected"),tr(n,n.lineIndent-1,ss,!1,!0),ht(n,!0,-1),n.checkLineBreaks&&eS.test(n.input.slice(r,n.position))&&cs(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&ys(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,ht(n,!0,-1));return}if(n.position<n.length-1)xe(n,"end of the stream or a document separator is expected");else return}function jy(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var i=new iS(n,r),o=n.indexOf("\0");for(o!==-1&&(i.position=o,xe(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)gS(i);return i.documents}function xS(n,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var o=jy(n,i);if(typeof r!="function")return o;for(var c=0,f=o.length;c<f;c+=1)r(o[c])}function yS(n,r){var i=jy(n,r);if(i.length!==0){if(i.length===1)return i[0];throw new Mt("expected a single document in the stream, but found more")}}var bS=xS,vS=yS,Cy={loadAll:bS,load:vS},Ay=Object.prototype.toString,_y=Object.prototype.hasOwnProperty,kf=65279,wS=9,fi=10,SS=13,NS=32,ES=33,jS=34,sf=35,CS=37,AS=38,_S=39,OS=42,Oy=44,TS=45,us=58,MS=61,DS=62,kS=63,RS=64,Ty=91,My=93,zS=96,Dy=123,LS=124,ky=125,Ot={};Ot[0]="\\0";Ot[7]="\\a";Ot[8]="\\b";Ot[9]="\\t";Ot[10]="\\n";Ot[11]="\\v";Ot[12]="\\f";Ot[13]="\\r";Ot[27]="\\e";Ot[34]='\\"';Ot[92]="\\\\";Ot[133]="\\N";Ot[160]="\\_";Ot[8232]="\\L";Ot[8233]="\\P";var VS=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],BS=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function HS(n,r){var i,o,c,f,h,m,g;if(r===null)return{};for(i={},o=Object.keys(r),c=0,f=o.length;c<f;c+=1)h=o[c],m=String(r[h]),h.slice(0,2)==="!!"&&(h="tag:yaml.org,2002:"+h.slice(2)),g=n.compiledTypeMap.fallback[h],g&&_y.call(g.styleAliases,m)&&(m=g.styleAliases[m]),i[h]=m;return i}function US(n){var r,i,o;if(r=n.toString(16).toUpperCase(),n<=255)i="x",o=2;else if(n<=65535)i="u",o=4;else if(n<=4294967295)i="U",o=8;else throw new Mt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+gt.repeat("0",o-r.length)+r}var IS=1,di=2;function YS(n){this.schema=n.schema||Tf,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=gt.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=HS(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?di:IS,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function vg(n,r){for(var i=gt.repeat(" ",r),o=0,c=-1,f="",h,m=n.length;o<m;)c=n.indexOf(`
`,o),c===-1?(h=n.slice(o),o=m):(h=n.slice(o,c+1),o=c+1),h.length&&h!==`
`&&(f+=i),f+=h;return f}function cf(n,r){return`
`+gt.repeat(" ",n.indent*r)}function qS(n,r){var i,o,c;for(i=0,o=n.implicitTypes.length;i<o;i+=1)if(c=n.implicitTypes[i],c.resolve(r))return!0;return!1}function fs(n){return n===NS||n===wS}function hi(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==kf||65536<=n&&n<=1114111}function wg(n){return hi(n)&&n!==kf&&n!==SS&&n!==fi}function Sg(n,r,i){var o=wg(n),c=o&&!fs(n);return(i?o:o&&n!==Oy&&n!==Ty&&n!==My&&n!==Dy&&n!==ky)&&n!==sf&&!(r===us&&!c)||wg(r)&&!fs(r)&&n===sf||r===us&&c}function GS(n){return hi(n)&&n!==kf&&!fs(n)&&n!==TS&&n!==kS&&n!==us&&n!==Oy&&n!==Ty&&n!==My&&n!==Dy&&n!==ky&&n!==sf&&n!==AS&&n!==OS&&n!==ES&&n!==LS&&n!==MS&&n!==DS&&n!==_S&&n!==jS&&n!==CS&&n!==RS&&n!==zS}function XS(n){return!fs(n)&&n!==us}function ai(n,r){var i=n.charCodeAt(r),o;return i>=55296&&i<=56319&&r+1<n.length&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function Ry(n){var r=/^\n* /;return r.test(n)}var zy=1,uf=2,Ly=3,Vy=4,Wa=5;function $S(n,r,i,o,c,f,h,m){var g,p=0,y=null,b=!1,N=!1,E=o!==-1,w=-1,v=GS(ai(n,0))&&XS(ai(n,n.length-1));if(r||h)for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ai(n,g),!hi(p))return Wa;v=v&&Sg(p,y,m),y=p}else{for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ai(n,g),p===fi)b=!0,E&&(N=N||g-w-1>o&&n[w+1]!==" ",w=g);else if(!hi(p))return Wa;v=v&&Sg(p,y,m),y=p}N=N||E&&g-w-1>o&&n[w+1]!==" "}return!b&&!N?v&&!h&&!c(n)?zy:f===di?Wa:uf:i>9&&Ry(n)?Wa:h?f===di?Wa:uf:N?Vy:Ly}function WS(n,r,i,o,c){n.dump=(function(){if(r.length===0)return n.quotingType===di?'""':"''";if(!n.noCompatMode&&(VS.indexOf(r)!==-1||BS.test(r)))return n.quotingType===di?'"'+r+'"':"'"+r+"'";var f=n.indent*Math.max(1,i),h=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-f),m=o||n.flowLevel>-1&&i>=n.flowLevel;function g(p){return qS(n,p)}switch($S(r,m,n.indent,h,g,n.quotingType,n.forceQuotes&&!o,c)){case zy:return r;case uf:return"'"+r.replace(/'/g,"''")+"'";case Ly:return"|"+Ng(r,n.indent)+Eg(vg(r,f));case Vy:return">"+Ng(r,n.indent)+Eg(vg(ZS(r,h),f));case Wa:return'"'+QS(r)+'"';default:throw new Mt("impossible error: invalid scalar style")}})()}function Ng(n,r){var i=Ry(n)?String(r):"",o=n[n.length-1]===`
`,c=o&&(n[n.length-2]===`
`||n===`
`),f=c?"+":o?"":"-";return i+f+`
`}function Eg(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function ZS(n,r){for(var i=/(\n+)([^\n]*)/g,o=(function(){var p=n.indexOf(`
`);return p=p!==-1?p:n.length,i.lastIndex=p,jg(n.slice(0,p),r)})(),c=n[0]===`
`||n[0]===" ",f,h;h=i.exec(n);){var m=h[1],g=h[2];f=g[0]===" ",o+=m+(!c&&!f&&g!==""?`
`:"")+jg(g,r),c=f}return o}function jg(n,r){if(n===""||n[0]===" ")return n;for(var i=/ [^ ]/g,o,c=0,f,h=0,m=0,g="";o=i.exec(n);)m=o.index,m-c>r&&(f=h>c?h:m,g+=`
`+n.slice(c,f),c=f+1),h=m;return g+=`
`,n.length-c>r&&h>c?g+=n.slice(c,h)+`
`+n.slice(h+1):g+=n.slice(c),g.slice(1)}function QS(n){for(var r="",i=0,o,c=0;c<n.length;i>=65536?c+=2:c++)i=ai(n,c),o=Ot[i],!o&&hi(i)?(r+=n[c],i>=65536&&(r+=n[c+1])):r+=o||US(i);return r}function KS(n,r,i){var o="",c=n.tag,f,h,m;for(f=0,h=i.length;f<h;f+=1)m=i[f],n.replacer&&(m=n.replacer.call(i,String(f),m)),($n(n,r,m,!1,!1)||typeof m>"u"&&$n(n,r,null,!1,!1))&&(o!==""&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=c,n.dump="["+o+"]"}function Cg(n,r,i,o){var c="",f=n.tag,h,m,g;for(h=0,m=i.length;h<m;h+=1)g=i[h],n.replacer&&(g=n.replacer.call(i,String(h),g)),($n(n,r+1,g,!0,!0,!1,!0)||typeof g>"u"&&$n(n,r+1,null,!0,!0,!1,!0))&&((!o||c!=="")&&(c+=cf(n,r)),n.dump&&fi===n.dump.charCodeAt(0)?c+="-":c+="- ",c+=n.dump);n.tag=f,n.dump=c||"[]"}function FS(n,r,i){var o="",c=n.tag,f=Object.keys(i),h,m,g,p,y;for(h=0,m=f.length;h<m;h+=1)y="",o!==""&&(y+=", "),n.condenseFlow&&(y+='"'),g=f[h],p=i[g],n.replacer&&(p=n.replacer.call(i,g,p)),$n(n,r,g,!1,!1)&&(n.dump.length>1024&&(y+="? "),y+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),$n(n,r,p,!1,!1)&&(y+=n.dump,o+=y));n.tag=c,n.dump="{"+o+"}"}function JS(n,r,i,o){var c="",f=n.tag,h=Object.keys(i),m,g,p,y,b,N;if(n.sortKeys===!0)h.sort();else if(typeof n.sortKeys=="function")h.sort(n.sortKeys);else if(n.sortKeys)throw new Mt("sortKeys must be a boolean or a function");for(m=0,g=h.length;m<g;m+=1)N="",(!o||c!=="")&&(N+=cf(n,r)),p=h[m],y=i[p],n.replacer&&(y=n.replacer.call(i,p,y)),$n(n,r+1,p,!0,!0,!0)&&(b=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,b&&(n.dump&&fi===n.dump.charCodeAt(0)?N+="?":N+="? "),N+=n.dump,b&&(N+=cf(n,r)),$n(n,r+1,y,!0,b)&&(n.dump&&fi===n.dump.charCodeAt(0)?N+=":":N+=": ",N+=n.dump,c+=N));n.tag=f,n.dump=c||"{}"}function Ag(n,r,i){var o,c,f,h,m,g;for(c=i?n.explicitTypes:n.implicitTypes,f=0,h=c.length;f<h;f+=1)if(m=c[f],(m.instanceOf||m.predicate)&&(!m.instanceOf||typeof r=="object"&&r instanceof m.instanceOf)&&(!m.predicate||m.predicate(r))){if(i?m.multi&&m.representName?n.tag=m.representName(r):n.tag=m.tag:n.tag="?",m.represent){if(g=n.styleMap[m.tag]||m.defaultStyle,Ay.call(m.represent)==="[object Function]")o=m.represent(r,g);else if(_y.call(m.represent,g))o=m.represent[g](r,g);else throw new Mt("!<"+m.tag+'> tag resolver accepts not "'+g+'" style');n.dump=o}return!0}return!1}function $n(n,r,i,o,c,f,h){n.tag=null,n.dump=i,Ag(n,i,!1)||Ag(n,i,!0);var m=Ay.call(n.dump),g=o,p;o&&(o=n.flowLevel<0||n.flowLevel>r);var y=m==="[object Object]"||m==="[object Array]",b,N;if(y&&(b=n.duplicates.indexOf(i),N=b!==-1),(n.tag!==null&&n.tag!=="?"||N||n.indent!==2&&r>0)&&(c=!1),N&&n.usedDuplicates[b])n.dump="*ref_"+b;else{if(y&&N&&!n.usedDuplicates[b]&&(n.usedDuplicates[b]=!0),m==="[object Object]")o&&Object.keys(n.dump).length!==0?(JS(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(FS(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object Array]")o&&n.dump.length!==0?(n.noArrayIndent&&!h&&r>0?Cg(n,r-1,n.dump,c):Cg(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(KS(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object String]")n.tag!=="?"&&WS(n,n.dump,r,f,g);else{if(m==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new Mt("unacceptable kind of an object to dump "+m)}n.tag!==null&&n.tag!=="?"&&(p=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",n.dump=p+" "+n.dump)}return!0}function PS(n,r){var i=[],o=[],c,f;for(ff(n,i,o),c=0,f=o.length;c<f;c+=1)r.duplicates.push(i[o[c]]);r.usedDuplicates=new Array(f)}function ff(n,r,i){var o,c,f;if(n!==null&&typeof n=="object")if(c=r.indexOf(n),c!==-1)i.indexOf(c)===-1&&i.push(c);else if(r.push(n),Array.isArray(n))for(c=0,f=n.length;c<f;c+=1)ff(n[c],r,i);else for(o=Object.keys(n),c=0,f=o.length;c<f;c+=1)ff(n[o[c]],r,i)}function eN(n,r){r=r||{};var i=new YS(r);i.noRefs||PS(n,i);var o=n;return i.replacer&&(o=i.replacer.call({"":o},"",o)),$n(i,0,o,!0,!0)?i.dump+`
`:""}var tN=eN,nN={dump:tN};function Rf(n,r){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var lN=Ct,aN=Jx,rN=ny,iN=oy,oN=sy,sN=Tf,cN=Cy.load,uN=Cy.loadAll,fN=nN.dump,dN=Mt,hN={binary:hy,float:iy,map:ty,null:ly,pairs:py,set:gy,timestamp:fy,bool:ay,int:ry,merge:dy,omap:my,seq:ey,str:Px},mN=Rf("safeLoad","load"),pN=Rf("safeLoadAll","loadAll"),gN=Rf("safeDump","dump"),ds={Type:lN,Schema:aN,FAILSAFE_SCHEMA:rN,JSON_SCHEMA:iN,CORE_SCHEMA:oN,DEFAULT_SCHEMA:sN,load:cN,loadAll:uN,dump:fN,YAMLException:dN,types:hN,safeLoad:mN,safeLoadAll:pN,safeDump:gN};function xN(n){const r=n.trim();if(!r)return{success:!1,error:"Empty source"};if(r.startsWith("{")||r.startsWith("["))try{return{success:!0,data:JSON.parse(r)}}catch{}try{const i=ds.load(r);return i==null?{success:!1,error:"Empty workflow"}:{success:!0,data:i}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Parse failed"}}}function yN(n,r){return n.constructs.find(i=>i.opcode===r)}function bN(n){return new Set(n.constructs.filter(r=>r.branches&&r.branches.length>0).map(r=>r.opcode))}function vN(n,r){const i=n.branch_colors;return r.startsWith("CATCH")?i.CATCH||i.default||"#9C27B0":r.startsWith("BRANCH")?i.BRANCH||i.default||"#9C27B0":i[r]||i.default||"#9C27B0"}function wN(n,r){const i=n.node_colors;return i[r]||i.opcode||"#64748B"}function SN(n,r){const i=n.reporter_colors;for(const o of n.categories)if(r.startsWith(o.prefix))return i[o.id]||i.default||"#64748B";return i.default||"#64748B"}const NN="1.0",EN=[{id:"io",label:"I/O Operations",prefix:"io_",color:"#22D3EE",icon:""},{id:"operator",label:"Operators",prefix:"operator_",color:"#9C27B0",icon:""},{id:"math",label:"Math Operations",prefix:"math_",color:"#8B5CF6",icon:""},{id:"string",label:"String Operations",prefix:"string_",color:"#F472B6",icon:""},{id:"list",label:"List Operations",prefix:"list_",color:"#3B82F6",icon:""},{id:"dict",label:"Dictionary Operations",prefix:"dict_",color:"#F59E0B",icon:""},{id:"object",label:"Object Operations",prefix:"object_",color:"#10B981",icon:""},{id:"type",label:"Type Conversions",prefix:"type_",color:"#6B7280",icon:""},{id:"throw",label:"Exception Operations",prefix:"throw_",color:"#EF4444",icon:""},{id:"assert",label:"Assertion Operations",prefix:"assert_",color:"#F97316",icon:""},{id:"workflow",label:"Workflow Operations",prefix:"workflow_",color:"#E91E63",icon:""},{id:"data",label:"Data Operations",prefix:"data_",color:"#4CAF50",icon:""},{id:"control",label:"Control Flow",prefix:"control_",color:"#FF9500",icon:""},{id:"async",label:"Async Operations",prefix:"async_",color:"#06B6D4",icon:""},{id:"pydantic_ai",label:"AI Operations (Pydantic AI)",prefix:"pydantic_ai_",color:"#10B981",icon:"",requires:"ai"},{id:"http",label:"HTTP Operations",prefix:"http_",color:"#3B82F6",icon:"",requires:"http"},{id:"html",label:"HTML Operations",prefix:"html_",color:"#E34F26",icon:"",requires:"http"},{id:"json",label:"JSON Operations",prefix:"json_",color:"#F59E0B",icon:""},{id:"pygame",label:"Pygame Operations",prefix:"pygame_",color:"#00D86A",icon:"",requires:"pygame"},{id:"rag",label:"RAG Operations",prefix:"rag_",color:"#8B5CF6",icon:"",requires:"rag"},{id:"chat",label:"Chat Operations",prefix:"chat_",color:"#6366F1",icon:""},{id:"cli",label:"CLI Operations",prefix:"cli_",color:"#EC4899",icon:""},{id:"github",label:"GitHub Operations",prefix:"github_",color:"#24292F",icon:""},{id:"task",label:"Task Operations",prefix:"task_",color:"#0EA5E9",icon:""},{id:"channel",label:"Channel Operations",prefix:"channel_",color:"#14B8A6",icon:""},{id:"sync",label:"Sync Primitives",prefix:"sync_",color:"#A855F7",icon:""},{id:"pubsub",label:"Pub/Sub",prefix:"pubsub_",color:"#EA4335",icon:"",requires:"pubsub"}],jN=[{opcode:"control_if",display_name:"If",ast_class:"If",category:"control",description:"Execute branch if condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0}]},{opcode:"control_if_else",display_name:"If-Else",ast_class:"If",category:"control",description:"Execute then-branch if condition is true, else-branch otherwise.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0},{name:"ELSE",label:"Else",color:"#EF5350",required:!0}]},{opcode:"control_while",display_name:"While",ast_class:"While",category:"control",description:"Repeat body while condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_for",display_name:"For",ast_class:"For",category:"control",description:"For loop with counter variable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"START",type:"expression",label:"Start",value_type:"int",required:!0},{name:"END",type:"expression",label:"End",value_type:"int",required:!0},{name:"STEP",type:"expression",label:"Step",value_type:"int",required:!1,default:1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_foreach",display_name:"ForEach",ast_class:"ForEach",category:"control",description:"Iterate over each item in a collection.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Iterable",value_type:"list",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_fork",display_name:"Fork",ast_class:"Fork",category:"control",description:"Execute multiple branches concurrently.",inputs:[],branches:[{name:"BRANCH1",label:"Branch 1",color:"#9C27B0",required:!0},{name:"BRANCH2",label:"Branch 2",color:"#9C27B0",required:!1}],dynamic_branches:!0},{opcode:"control_try",display_name:"Try",ast_class:"Try",category:"control",description:"Exception handling with try/catch/finally.",inputs:[],branches:[{name:"TRY",label:"Try",color:"#3B82F6",required:!0},{name:"CATCH1",label:"Catch",color:"#F87171",required:!1,catch_config:{exception_type:"string",var_name:"string"}},{name:"FINALLY",label:"Finally",color:"#FACC15",required:!1}],dynamic_branches:!0},{opcode:"control_throw",display_name:"Throw",ast_class:"Throw",category:"control",description:"Raise an exception with a message.",inputs:[{name:"VALUE",type:"expression",label:"Message",value_type:"string",required:!0}],branches:[]},{opcode:"control_spawn",display_name:"Spawn",ast_class:"Spawn",category:"control",description:"Spawn a background task.",inputs:[{name:"VAR",type:"variable_name",label:"Task Variable",required:!1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_async_foreach",display_name:"Async ForEach",ast_class:"AsyncForEach",category:"control",description:"Async iteration over a stream or async iterable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Async Iterable",value_type:"async_iterable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"async_timeout",display_name:"Timeout",ast_class:"Timeout",category:"async",description:"Execute body with a timeout, with optional fallback.",inputs:[{name:"TIMEOUT",type:"expression",label:"Timeout (seconds)",value_type:"float",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0},{name:"ON_TIMEOUT",label:"On Timeout",color:"#FACC15",required:!1}]},{opcode:"control_with",display_name:"With",ast_class:"With",category:"control",description:"Async context manager (with statement).",inputs:[{name:"RESOURCE",type:"expression",label:"Resource",required:!0},{name:"VAR",type:"variable_name",label:"Variable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"data_set_variable_to",display_name:"Set Variable",ast_class:"Assign",category:"data",description:"Assign a value to a variable.",inputs:[{name:"VARIABLE",type:"variable_name",label:"Variable",required:!0},{name:"VALUE",type:"expression",label:"Value",required:!0}],branches:[]},{opcode:"workflow_return",display_name:"Return",ast_class:"Return",category:"workflow",description:"Return value(s) from workflow.",inputs:[{name:"VALUE",type:"expression",label:"Value",required:!1}],branches:[],dynamic_inputs:!0},{opcode:"workflow_call",display_name:"Call Workflow",ast_class:"ExprStmt",category:"workflow",description:"Call another workflow by name.",inputs:[{name:"WORKFLOW",type:"variable_name",label:"Workflow Name",required:!0}],branches:[],dynamic_inputs:!0},{opcode:"workflow_start",display_name:"Start",ast_class:null,category:"workflow",description:"Entry point for workflow execution.",inputs:[],branches:[]}],CN={THEN:"#34D399",ELSE:"#F87171",BODY:"#22D3EE",TRY:"#3B82F6",CATCH:"#F87171",FINALLY:"#FACC15",ON_TIMEOUT:"#FACC15",BRANCH:"#9C27B0",default:"#9C27B0"},AN={control_flow:"#FF9500",data:"#4CAF50",io:"#22D3EE",operator:"#9C27B0",workflow_op:"#E91E63",opcode:"#64748B"},_N={data:"#4CAF50",operator:"#9C27B0",io:"#22D3EE",workflow:"#E91E63",default:"#64748B"},ON={version:NN,categories:EN,constructs:jN,branch_colors:CN,node_colors:AN,reporter_colors:_N},Zn=ON;function TN(){return Zn}function By(n){return vN(Zn,n)}function Hy(n){return wN(Zn,n)}function Uy(n){return SN(Zn,n)}function MN(){return bN(Zn)}function wi(n){return yN(Zn,n)}function DN(n,r){const i=wi(n);if(!i||!i.branches)return[];const o=new Set(r),c=[];if(i.dynamic_branches){const f=[],h=[];for(const m of i.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.find(b=>b.prefix===p)||h.push({prefix:p,minCount:m.required?1:0})}else f.push(m.name)}for(const m of f)c.push({name:m,connected:o.has(m)});for(const m of h){const g=r.filter(N=>N.startsWith(m.prefix)&&/^\d+$/.test(N.slice(m.prefix.length))),p=g.length>0?Math.max(...g.map(N=>parseInt(N.slice(m.prefix.length)))):0,y=Math.max(m.minCount,p),b=y>0?y:1;for(let N=1;N<=b;N++){const E=`${m.prefix}${N}`;c.push({name:E,connected:o.has(E)})}}return c}for(const f of i.branches)c.push({name:f.name,connected:o.has(f.name)});return c}function kN(){return Zn.categories}function Iy(n){for(const r of Zn.categories)if(n.startsWith(r.prefix))return r.icon;return""}function RN(n){for(const r of Zn.categories)if(n.startsWith(r.prefix))return r;return null}function zN(n){const r=n.workflows||[];if(r.length===0)return n.nodes?{type:"project",workflows:[_g(n)]}:{error:"No workflows found"};const i=[];let o={inputs:[],outputs:[]};for(const c of r){const f=_g(c);i.push(f),(f.name==="main"||o.inputs.length===0)&&(o=f.interface)}return{type:"project",workflows:i,interface:o}}function _g(n){const r=n.nodes||{},i=n.interface||{},o={type:"workflow",name:n.name||"main",interface:{inputs:i.inputs||[],outputs:i.outputs||[]},variables:n.variables||{},children:[],orphans:[]},c=new Set;let h=(r.start||{}).next;for(;h&&!c.has(h);){c.add(h);const E=r[h];if(!E)break;const w=df(h,E,r,c);o.children.push(w),h=E.next}const m=new Set(Object.keys(r).filter(E=>E!=="start")),g=new Set([...m].filter(E=>!c.has(E)));for(const E of g){const w=r[E]||{};Lf(w.inputs||{},r,c)}const p=new Set([...m].filter(E=>!c.has(E))),y=new Set;for(const E of p){const v=(r[E]||{}).next;v&&p.has(v)&&y.add(v)}const b=[...p].filter(E=>!y.has(E)).sort(),N=new Set;for(const E of b){let w=E;for(;w&&!N.has(w);){const v=r[w];if(!v)break;if(v.isReporter){N.add(w),w=v.next&&p.has(v.next)?v.next:void 0;continue}N.add(w);const j=df(w,v,r,c),A=v.next;A&&p.has(A)&&(j.next=A),o.orphans.push(j),w=A&&p.has(A)?A:void 0}}return o}function df(n,r,i,o){const c=r.opcode||"",f=r.inputs||{},h=r.isReporter||!1;Lf(f,i,o);const m={id:n,type:HN(c),opcode:c,isReporter:h,inputs:UN(f,i,c),children:[]},g=wi(c);return g&&g.branches.length>0&&(m.config=LN(c,f,i,g),m.children=VN(f,i,o,g)),m}function LN(n,r,i,o){const c={};for(const f of o.inputs){const h=zf(r,f.name);if(h!==void 0){const m=f.name.toLowerCase();f.type==="variable_name"?c[m]=Gu(h):f.type==="expression"&&(m==="condition"||m==="iterable"||m==="resource"?c[m]=Vf(h,i):c[m]=Gu(h))}}return["control_for","control_foreach","control_spawn","control_async_foreach","control_with"].includes(n)&&(c.var||(c.var=Gu(r.VAR??r.var??"i"))),c}function VN(n,r,i,o){const c=[];if(o.dynamic_branches)return BN(n,r,i,o);for(const f of o.branches){const h=zf(n,f.name),m=typeof h=="object"&&h!==null?h.branch:void 0;m?c.push(Po(f.name,m,r,i)):h!==void 0&&c.push({type:"branch",name:f.name,children:[]})}return c}function BN(n,r,i,o){const c=[],f=[],h=[];for(const m of o.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.includes(p)||h.push(p)}else f.push(m.name)}for(const m of f){const g=zf(n,m),p=typeof g=="object"&&g!==null?g.branch:void 0;p?c.push(Po(m,p,r,i)):g!==void 0&&c.push({type:"branch",name:m,children:[]})}for(const m of h){const g=m==="CATCH"?"HANDLERS":m==="BRANCH"?"BRANCHES":null,p=g?n[g]??n[g.toLowerCase()]:null;if(Array.isArray(p)&&p.length>0)p.forEach((y,b)=>{if(typeof y=="object"&&y!==null){const N=y,E=N.branch??N.body?.branch,w=`${m}${b+1}`;if(E){const v=Po(w,E,r,i);m==="CATCH"&&(v.exception_type=N.exception_type||"Exception",v.var_name=N.var_name??N.var),c.push(v)}else{const v={type:"branch",name:w,children:[]};m==="CATCH"&&(v.exception_type=N.exception_type||"Exception",v.var_name=N.var_name??N.var),c.push(v)}}});else{let y=1;for(;;){const b=`${m}${y}`,N=n[b];if(N===void 0)break;if(typeof N=="object"&&N!==null){const E=N,w=E.branch??E.body?.branch??N.branch;if(w){const v=Po(b,w,r,i);m==="CATCH"&&(v.exception_type=E.exception_type||"Exception",v.var_name=E.var_name??E.var),c.push(v)}else{const v={type:"branch",name:b,children:[]};m==="CATCH"&&(v.exception_type=E.exception_type||"Exception",v.var_name=E.var_name??E.var),c.push(v)}}y++}}}return c}function zf(n,r){return n[r]??n[r.toLowerCase()]}function Lf(n,r,i){for(const o of Object.values(n))if(typeof o=="object"&&o!==null){const c=o;if(c.node){const f=c.node;if(!i.has(f)){i.add(f);const m=(r[f]||{}).inputs||{};Lf(m,r,i)}}}}function HN(n){const r=TN();for(const i of r.categories)if(n.startsWith(i.prefix))switch(i.id){case"control":case"async":return"control_flow";case"data":return"data";case"io":return"io";case"operator":case"math":case"string":case"list":case"dict":return"operator";case"workflow":return"workflow_op";default:return"opcode"}return"opcode"}function UN(n,r,i){const o={},c=wi(i),f=new Set;if(c)for(const m of c.branches)f.add(m.name),f.add(m.name.toLowerCase());const h=new Set(["BODY","body","THEN","then","ELSE","else","TRY","FINALLY","HANDLERS","handlers","BRANCHES","branches"]);for(const[m,g]of Object.entries(n))f.has(m)||h.has(m)||/^(CATCH|BRANCH)\d+$/.test(m)||(o[m]=Vf(g,r));return o}function Vf(n,r,i=0){if(typeof n=="object"&&n!==null){const o=n;if("literal"in o)return{type:"literal",value:o.literal};if("variable"in o)return{type:"variable",name:o.variable};if("node"in o){const c=o.node,f=r[c]||{},h=f.opcode||"",m=f.inputs||{};return{type:"reporter",id:c,opcode:h,inputs:Object.fromEntries(Object.entries(m).filter(([g])=>!g.startsWith("CATCH")&&!["BODY","THEN","ELSE"].includes(g)).map(([g,p])=>[g,Vf(p,r,i+1)]))}}return"branch"in o?{type:"branch",target:o.branch}:"workflow_call"in o?{type:"workflow_call",name:o.workflow_call}:{type:"dict",value:n}}return{type:"literal",value:n}}function Gu(n){return typeof n=="object"&&n!==null&&"literal"in n?n.literal:n}function Po(n,r,i,o){const c={type:"branch",name:n,children:[]};let f=r;for(;f&&!o.has(f);){o.add(f);const h=i[f];if(!h)break;c.children.push(df(f,h,i,o)),f=h.next}return c}function IN(n){if(!Array.isArray(n))throw new Error(`opcodeAdapter must return an array.
Received: ${typeof n}

Expected format:
[
  {
    name: "io_print",
    description: "Print to output",
    parameters: [{ name: "MESSAGE", type: "any", required: true }],
    return_type: "void"
  }
]`);for(let r=0;r<n.length;r++){const i=n[r];if(!i||typeof i!="object")throw new Error(`opcodeAdapter[${r}] must be an object`);if(typeof i.name!="string")throw new Error(`opcodeAdapter[${r}].name must be a string`);if(!Array.isArray(i.parameters))throw new Error(`opcodeAdapter[${r}].parameters must be an array`)}return n}async function ni(n,r){const i=await fetch(n,{headers:{"Content-Type":"application/json"},...r});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return i.json()}function YN(n){const{apiBaseUrl:r}=n;return{name:"lexflow",config:n,async listOpcodes(){const i=n.opcodesUrl??`${r}/opcodes`,o=await ni(i);if(n.opcodeAdapter){const c=n.opcodeAdapter(o);return IN(c)}return o},async executeWorkflow(i,o,c){return ni(`${r}/execute`,{method:"POST",body:JSON.stringify({workflow:i,inputs:o,include_metrics:c})})},getWebSocketUrl(){if(n.supportsWebSocket===!1)return null;if(n.wsUrl)return`${n.wsUrl}/execute`;const i=new URL(r,window.location.href);return`${i.protocol==="https:"?"wss:":"ws:"}//${i.host}/ws/execute`},async parseWorkflow(i){const o=xN(i);if(!o.success||!o.data)return{success:!1,error:o.error||"Parse failed"};const c=zN(o.data);if("error"in c)return{success:!1,error:c.error};const f=c;return{success:!0,tree:f,interface:f.interface}},async validateWorkflow(i){return ni(`${r}/validate`,{method:"POST",body:JSON.stringify({workflow:i})})},async listExamples(){return n.supportsExamples===!1?[]:ni(`${r}/examples`)},async getExample(i){return ni(`${r}/examples/${i}`)}}}const qN=z.createContext(null);function GN(){return z.useContext(qN)}function XN({className:n}){const{examples:r,setSource:i}=lt(),o=xs();if(r.length===0)return null;const c=async h=>{const m=h.target.value;if(m){try{if(Zx(o)){const g=await o.getExample(m);i(g.content)}}catch(g){console.error("Failed to load example:",g)}h.target.value=""}},f=r.reduce((h,m)=>(h[m.category]||(h[m.category]=[]),h[m.category].push(m),h),{});return d.jsxs(Vx,{className:n,onChange:c,defaultValue:"",children:[d.jsx("option",{value:"",children:"Load Example..."}),Object.entries(f).map(([h,m])=>d.jsx("optgroup",{label:h,children:m.map(g=>d.jsx("option",{value:g.path,children:g.name},g.path))},h))]})}const $N=T("flex items-center h-12 pl-5 pr-4 bg-surface-1 border-b border-border-subtle shrink-0"),WN=T("text-base font-semibold text-text-primary tracking-tight ml-2"),Xu=T("w-px h-6 mx-2 bg-border-subtle"),Og=T("flex items-center gap-1.5"),ZN="1.0";function QN(n){try{const r=ds.load(n);if(!r?.metadata?.editor)return null;const i=r.metadata.editor;return typeof i.version!="string"||!i.layout||!i.viewport?null:i}catch{return null}}function KN(n,r){try{const i=ds.load(n);return i?(i.metadata={...i.metadata,editor:r},ds.dump(i,{indent:2,lineWidth:-1,noRefs:!0,sortKeys:(o,c)=>o==="metadata"?1:c==="metadata"?-1:0})):n}catch{return n}}function Tg(n,r,i,o,c,f){return{version:ZN,layout:{mode:n,nodePositions:{...r},workflowPositions:{...i}},viewport:{zoom:o,panX:c,panY:f}}}const Mg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`;function FN({className:n,onSave:r,showSaveButton:i,saveButtonLabel:o="Save",showExamples:c}){const{source:f,setSource:h,undo:m,redo:g,canUndo:p,canRedo:y}=lt(),{togglePalette:b,toggleEditor:N,isEditorOpen:E}=Ae(),w=z.useRef(null),[v,j]=z.useState(!1),A=async()=>{if(!(!r||v)){j(!0);try{const{nodePositions:Y,workflowPositions:I,layoutMode:F,zoom:ne,panX:ue,panY:ce}=Ae.getState(),oe=Tg(F,Y,I,ne,ue,ce);await r(f,oe)}finally{j(!1)}}},_=i??!!r,W=()=>{f!==Mg&&Ae.getState().showConfirmDialog({title:"New Workflow",message:"Create a new workflow? Unsaved changes will be lost.",confirmLabel:"Create",variant:"default",onConfirm:()=>h(Mg)})},$=async()=>{const{nodePositions:Y,workflowPositions:I,layoutMode:F,zoom:ne,panX:ue,panY:ce}=Ae.getState(),oe=Tg(F,Y,I,ne,ue,ce),Q=KN(f,oe),le=new Blob([Q],{type:"text/yaml"});if("showSaveFilePicker"in window)try{const ae=await(await window.showSaveFilePicker({suggestedName:"workflow.yaml",types:[{description:"YAML files",accept:{"text/yaml":[".yaml",".yml"]}}]})).createWritable();await ae.write(le),await ae.close();return}catch(k){if(k.name==="AbortError")return}const D=URL.createObjectURL(le),M=document.createElement("a");M.href=D,M.download="workflow.yaml",M.click(),URL.revokeObjectURL(D)},H=()=>{w.current?.click()},U=Y=>{const I=Y.target.files?.[0];if(!I)return;const F=new FileReader;F.onload=ne=>{const ue=ne.target?.result,ce=QN(ue);if(h(ue),ce){const oe=Ae.getState();oe.resetNodePositions(),oe.resetWorkflowPositions(),oe.setLayoutMode(ce.layout.mode);for(const[Q,le]of Object.entries(ce.layout.nodePositions))oe.setNodePosition(Q,le.x,le.y);for(const[Q,le]of Object.entries(ce.layout.workflowPositions))oe.setWorkflowPosition(Q,le.x,le.y);oe.setZoom(ce.viewport.zoom),oe.setPan(ce.viewport.panX,ce.viewport.panY)}},F.readAsText(I),Y.target.value=""};return d.jsxs("header",{className:L($N(),n),children:[d.jsxs("div",{className:L(Og(),"flex-1"),children:[d.jsx("h1",{className:WN(),style:{marginLeft:"8px"},children:"LexFlow"}),d.jsx("div",{className:Xu()}),d.jsx(wn,{icon:d.jsx(Tw,{}),label:"New Workflow",onClick:W}),d.jsx(wn,{icon:d.jsx(Mw,{}),label:"Import Workflow",onClick:H}),d.jsx(wn,{icon:d.jsx(Dw,{}),label:"Export Workflow",onClick:$}),_&&r&&d.jsx(wn,{icon:d.jsx(Zw,{}),label:o,onClick:A,disabled:v}),d.jsx("div",{className:Xu()}),d.jsx(wn,{icon:d.jsx(kw,{}),label:"Undo (Ctrl+Z)",onClick:m,disabled:!p}),d.jsx(wn,{icon:d.jsx(Rw,{}),label:"Redo (Ctrl+Y)",onClick:g,disabled:!y}),d.jsx("div",{className:Xu()}),d.jsx(wn,{icon:d.jsx(zw,{}),label:"Node Palette (Ctrl+P)",onClick:b}),d.jsx("input",{ref:w,type:"file",accept:".yaml,.yml,.json",onChange:U,className:"hidden"})]}),d.jsx("div",{className:"flex items-center justify-center",children:c!==!1&&d.jsx(XN,{})}),d.jsxs("div",{className:L(Og(),"flex-1 justify-end"),children:[d.jsx(Kw,{}),d.jsx(wn,{icon:d.jsx(Lw,{}),label:"Toggle Editor (Ctrl+B)",onClick:N,className:E?"bg-surface-3":""})]})]})}const JN=T("absolute bg-transparent transition-colors hover:bg-accent-blue/50 z-10",{variants:{orientation:{horizontal:"cursor-col-resize w-1 -right-0.5 top-0 bottom-0",vertical:"cursor-row-resize h-1 -top-0.5 left-0 right-0"},isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{orientation:"horizontal",isResizing:!1}});function PN({orientation:n,isResizing:r=!1,onMouseDown:i,className:o}){return d.jsx("div",{className:L(JN({orientation:n,isResizing:r}),o),onMouseDown:i})}function eE({orientation:n,minSize:r,maxSize:i,defaultSize:o}){const[c,f]=z.useState(o),[h,m]=z.useState(!1),g=z.useRef(null),p=z.useCallback(y=>{y.preventDefault(),g.current=y.target.parentElement,m(!0)},[]);return z.useEffect(()=>{if(!h)return;const y=N=>{if(!g.current)return;const E=g.current.getBoundingClientRect();let w;w=N.clientX-E.left,f(Math.min(i,Math.max(r,w)))},b=()=>{m(!1)};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)}},[h,n,r,i]),{size:c,isResizing:h,handleMouseDown:p}}const tE=T("flex flex-col h-full overflow-hidden"),nE=T("flex flex-1 overflow-hidden relative"),lE=T("relative bg-surface-1 border-r border-border-subtle flex flex-col shrink-0"),aE=T("flex-1 flex flex-col relative overflow-hidden bg-surface-0"),rE=T("bg-surface-1 border-t border-border-subtle shrink-0 overflow-visible"),iE=T("absolute right-0 top-0 bottom-0 w-80 bg-surface-1 border-l border-border-subtle z-[100] shadow-lg transition-transform duration-200",{variants:{isOpen:{true:"translate-x-0",false:"translate-x-full"}},defaultVariants:{isOpen:!1}}),oE=T("fixed inset-0 bg-black/50 z-[200] flex justify-start"),sE=T("w-[300px] h-full bg-surface-1 border-r border-border-subtle animate-slide-in"),cE=240,uE=480,fE=320;function dE({canvas:n,editor:r,nodeEditor:i,executionPanel:o,palette:c,className:f,onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}){const{isEditorOpen:y,isNodeEditorOpen:b,isPaletteOpen:N,isExecutionPanelOpen:E,togglePalette:w}=Ae(),{size:v,isResizing:j,handleMouseDown:A}=eE({orientation:"horizontal",minSize:cE,maxSize:uE,defaultSize:fE});return d.jsxs("div",{className:L(tE(),f),children:[d.jsx(FN,{onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}),d.jsxs("div",{className:nE(),children:[y&&r&&d.jsxs("aside",{className:lE(),style:{width:`${v}px`},children:[r,d.jsx(PN,{orientation:"horizontal",isResizing:j,onMouseDown:A})]}),d.jsxs("div",{className:aE(),children:[n,E&&o&&d.jsx("div",{className:rE(),children:o})]}),d.jsx("aside",{className:iE({isOpen:b}),children:i})]}),N&&c&&d.jsx("div",{className:oE(),onClick:w,children:d.jsx("div",{className:sE(),onClick:_=>_.stopPropagation(),children:c})})]})}const Dg=new Set(["int","float","number","Integer","Float","Number"]),kg=new Set(["str","string","String"]),Rg=new Set(["bool","boolean","Boolean"]);function hf(n,r){if(!n||!r)return null;const i=n.toLowerCase().trim(),o=r.toLowerCase().trim();if(i==="any"||o==="any"||i===o||Dg.has(i)&&Dg.has(o)||kg.has(i)&&kg.has(o)||Rg.has(i)&&Rg.has(o))return!0;const c=o.match(/^optional\[(.+)\]$/);return c?hf(n,c[1]):o.includes("|")?o.split("|").map(h=>h.trim()).some(h=>hf(n,h)===!0):!1}function hE(n){return n===!0?"#34D399":n===!1?"#F87171":"#94A3B8"}function mE(n,r){if(!n)return{};const i=n.workflows.find(c=>c.name===r);if(!i)return{};const o={};return i.interface.inputs.forEach((c,f)=>{o[`ARG${f+1}`]=c}),o}function hs(n,r,i,o){if(r!=="workflow_call")return n;const c=o.WORKFLOW;if(!c||c.type!=="literal")return n;const f=c.value;if(!f)return n;const h=mE(i,f);return n.startsWith("ARG")&&h[n]?h[n]:n}function pE(n){return n?n.workflows.filter(r=>r.name!=="main").map(r=>({name:r.name,params:r.interface.inputs})):[]}const gE=25,xE=180;function Cl(n){if(n.startsWith("start-"))return"start";const r=n.indexOf("::");return r!==-1?n.slice(r+2):n}function ms(n){if(n.startsWith("start-"))return n.slice(6);const r=n.indexOf("::");if(r!==-1)return n.slice(0,r)}function yE(n,r,i,o){return Math.sqrt((i-n)**2+(o-r)**2)}function bE(n,r,i){const o=i[n];return o?r==="input"?o.input:r==="output"?o.output:o.branches[r]||null:null}function vE(n,r,i,o,c){const f=o==="output"?"input":"output";let h=null,m=gE;for(const[g,p]of Object.entries(c)){if(g===i)continue;const y=f==="input"?p.input:p.output,b=yE(n,r,y.x,y.y);b<m&&(m=b,h={nodeId:g,port:f,x:y.x,y:y.y})}return h}const wE={pointerEvents:"all"};function SE(n,r,i){return n?r===!0?{fill:"rgba(52, 211, 153, 0.15)",stroke:"var(--color-accent-green)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease",animation:"pulse-slot 0.6s ease infinite alternate"}:r===!1?{fill:"rgba(248, 113, 113, 0.15)",stroke:"var(--color-accent-red)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"rgba(148, 163, 184, 0.1)",stroke:i,strokeWidth:1,strokeDasharray:"4 2",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"transparent",stroke:"transparent",strokeWidth:1,transition:"fill 0.15s ease, stroke 0.15s ease"}}const NE={fontSize:"9px",fontWeight:500,fill:"var(--color-text-muted)",textTransform:"lowercase"},EE={fontSize:"9px",fontFamily:"'JetBrains Mono', monospace",fill:"var(--color-text-secondary)"},jE={fontSize:"7px",fill:"var(--color-text-muted)",fontStyle:"italic",textTransform:"uppercase",letterSpacing:"0.3px"};function Yy({nodeId:n,inputKey:r,value:i,paramInfo:o,opcode:c,allInputs:f,x:h,y:m,width:g}){const{draggingOrphan:p,setDraggingOrphan:y,draggingVariable:b,setDraggingVariable:N}=Ae(),{convertOrphanToReporter:E,updateNodeInput:w,tree:v}=lt(),j=CE(i),A=hs(r,c,v,f),_=p!==null,W=b!==null,$=_||W,H=_?hf(p.returnType,o?.type):null,U=ne=>{if(ne.stopPropagation(),p){const ue=Cl(p.nodeId);if(H===!1){Ae.getState().showConfirmDialog({title:"Type Mismatch",message:`The orphan node's return type may not be compatible with the input "${r}". Continue anyway?`,confirmLabel:"Continue",variant:"default",onConfirm:()=>{E(ue,n,r),y(null)},onCancel:()=>{y(null)}});return}E(ue,n,r),y(null)}else b&&(w(n,r,`$${b.name}`),N(null))},Y=ne=>{ne.stopPropagation()},I=W?"#22C55E":hE(H);return d.jsxs("g",{style:wE,transform:`translate(${h}, ${m})`,onMouseUp:U,onMouseEnter:Y,children:[d.jsx("rect",{x:0,y:0,width:g,height:20,rx:3,style:SE($,H,I)}),d.jsxs("text",{x:6,y:13,style:NE,children:[A,":"]}),d.jsx("text",{x:6+(A.length+1)*5,y:13,style:EE,children:j}),$&&o?.type&&d.jsx("text",{x:g-6,y:13,textAnchor:"end",style:jE,children:o.type})]})}function CE(n){switch(n.type){case"literal":{const r=n.value;if(typeof r=="string")return`"${r.length>10?r.slice(0,10)+"...":r}"`;if(typeof r=="object"&&r!==null){const i=JSON.stringify(r);return i.length>20?i.slice(0,17)+"...":i}return String(r)}case"variable":return`$${n.name}`;case"reporter":return"[reporter]";case"workflow_call":return`-> ${n.name}`;default:return""}}function AE(){const{closeNodeEditor:n,isNodeEditorOpen:r,isPaletteOpen:i,togglePalette:o,toggleEditor:c,toggleExecutionPanel:f}=Ae(),{undo:h,redo:m,canUndo:g,canRedo:p,deleteNode:y,duplicateNode:b}=lt(),{selectNode:N,selectedNodeId:E,clearSelection:w}=Wn();z.useEffect(()=>{const v=j=>{const A=j.target,_=A.tagName==="INPUT"||A.tagName==="TEXTAREA";if(_&&j.key==="Escape"){A.blur();return}if(j.ctrlKey||j.metaKey){switch(j.key.toLowerCase()){case"z":!_&&!zg(A)&&(j.preventDefault(),j.shiftKey?p&&m():g&&h());break;case"y":!_&&!zg(A)&&(j.preventDefault(),p&&m());break;case"b":_||(j.preventDefault(),c());break;case"e":_||(j.preventDefault(),f());break;case"p":_||(j.preventDefault(),o());break;case"0":_||(j.preventDefault(),Ae.getState().resetView());break;case"d":!_&&E&&E!=="start"&&(j.preventDefault(),b(E));break}return}if(!_){if(j.key==="Escape"){r?(n(),w()):i?o():E&&w();return}(j.key==="Delete"||j.key==="Backspace")&&E&&E!=="start"&&Ae.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${E}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{y(E),w(),n()}})}};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[n,r,i,o,c,f,N,E,w,h,m,g,p,y,b])}function zg(n){return n.closest(".monaco-editor")!==null}function _E(){const n=z.useRef(null),r=xs(),i=GN(),{setIsExecuting:o,appendExecutionOutput:c,setExecutionResult:f,setExecutionError:h,clearExecution:m,setPendingPrompt:g,addRenderedContent:p,clearRenderedContent:y,addAlert:b,setProgress:N}=ci(),E=z.useCallback(j=>{const A=n.current,{pendingPrompt:_}=ci.getState();!A||!_||(A.send(JSON.stringify({type:`${_.type}_response`,value:j})),g(null))},[g]),w=z.useCallback(async(j,A,_)=>{if(n.current&&n.current.close(),m(),o(!0),i){try{const H=await i(j,A);H.output&&c(H.output),H.success?f(H.result):h(H.error||"Execution failed")}catch(H){h(H instanceof Error?H.message:"Execution failed")}finally{o(!1)}return}const W=r.getWebSocketUrl();if(!W){try{const H=await r.executeWorkflow(j,A,_);H.success?(H.output&&c(H.output),f(H.result)):h(H.error||"Execution failed")}catch(H){h(H instanceof Error?H.message:"Execution failed")}finally{o(!1)}return}const $=new WebSocket(W);n.current=$,$.onopen=()=>{const H={type:"start",workflow:j,inputs:A,include_metrics:_};$.send(JSON.stringify(H))},$.onmessage=H=>{try{const U=JSON.parse(H.data);switch(U.type){case"output":c(U.line+`
`);break;case"complete":f(U.result),o(!1),$.close();break;case"error":h(U.message),o(!1),$.close();break;case"input_request":g({type:"input",prompt:U.prompt});break;case"select_request":g({type:"select",prompt:U.prompt,options:U.options});break;case"confirm_request":g({type:"confirm",prompt:U.message,message:U.message});break;case"button_request":g({type:"button",prompt:U.label,label:U.label});break;case"render_html":p({type:"html",content:U.html});break;case"render_markdown":p({type:"markdown",content:U.content});break;case"render_table":p({type:"table",content:U.data});break;case"render_image":p({type:"image",content:{src:U.src,alt:U.alt}});break;case"progress":N({value:U.value,max:U.max,label:U.label});break;case"alert":b({message:U.message,variant:U.variant});break;case"clear_content":y();break}}catch(U){console.error("Failed to parse WebSocket message:",U)}},$.onerror=()=>{h("WebSocket connection failed"),o(!1)},$.onclose=()=>{n.current=null}},[i,r,m,o,c,f,h,g,p,y,b,N]),v=z.useCallback(()=>{n.current&&(n.current.close(),n.current=null,o(!1),g(null))},[o,g]);return{execute:w,cancel:v,respondToPrompt:E}}function OE(){const{source:n,setTree:r,setParseError:i,setIsParsing:o}=lt(),c=xs(),f=z.useRef(null);z.useEffect(()=>(f.current&&clearTimeout(f.current),f.current=setTimeout(async()=>{o(!0);try{const h=await c.parseWorkflow(n);h.success&&h.tree?r(h.tree):i(h.error||"Parse failed")}catch(h){i(h instanceof Error?h.message:"Parse failed")}finally{o(!1)}},500),()=>{f.current&&clearTimeout(f.current)}),[n,r,i,o,c])}const qy={WIDTH:110,HEIGHT:70},Bf={HORIZONTAL:60,VERTICAL:40,WORKFLOW:80},TE={control_flow:"Control Flow",data:"Data",io:"I/O",operator:"Operator",workflow_op:"Workflow",opcode:"Opcode"};function ME({svgRef:n,centerX:r,centerY:i}){const{zoom:o,panX:c,panY:f,setZoom:h,setPan:m,isDraggingWorkflow:g,isDraggingNode:p,draggingWire:y,setDraggingWire:b,updateDraggingWire:N,draggingOrphan:E,setDraggingOrphan:w,updateDraggingOrphanEnd:v,draggingVariable:j,setDraggingVariable:A,updateDraggingVariableEnd:_,slotPositions:W}=Ae(),{connectNodes:$,connectBranch:H}=lt(),{selectNode:U,selectStartNode:Y,selectConnection:I}=Wn(),[F,ne]=z.useState(!1),[ue,ce]=z.useState({x:0,y:0}),oe=z.useCallback((k,ae)=>{if(!n.current)return{x:0,y:0};const K=n.current.getBoundingClientRect();return{x:(k-K.left-c-K.width/2)/o+r,y:(ae-K.top-f-K.height/2)/o+i}},[n,c,f,o,r,i]),Q=z.useCallback(k=>{if(k.ctrlKey||k.metaKey){k.preventDefault();const ae=k.deltaY>0?-.1:.1;h(o+ae)}},[o,h]),le=z.useCallback(k=>{if(g||p)return;const ae=k.target;(ae===n.current||ae.classList.contains("background")||ae.tagName==="rect")&&(ne(!0),ce({x:k.clientX-c,y:k.clientY-f}),U(null),Y(null),I(null))},[c,f,U,Y,I,g,p,n]),D=z.useCallback(k=>{if(y){const{x:ae,y:K}=oe(k.clientX,k.clientY),C=vE(ae,K,y.sourceNodeId,y.sourcePort,W);N({dragX:ae,dragY:K,nearbyPort:C});return}if(E){const{x:ae,y:K}=oe(k.clientX,k.clientY);v(ae,K);return}if(j){const{x:ae,y:K}=oe(k.clientX,k.clientY);_(ae,K);return}g||p||F&&m(k.clientX-ue.x,k.clientY-ue.y)},[F,ue,m,g,p,y,N,E,v,j,_,oe,W]),M=z.useCallback(()=>{if(ne(!1),y){if(y.nearbyPort){const k=Cl(y.sourceNodeId),ae=Cl(y.nearbyPort.nodeId),K=ms(y.sourceNodeId),C=ms(y.nearbyPort.nodeId);y.branchLabel?H(k,ae,y.branchLabel):y.sourcePort==="output"?$(k,ae,K):$(ae,k,C)}b(null)}E&&w(null),j&&A(null)},[y,b,E,w,j,A,$,H]);return{handleWheel:Q,handleMouseDown:le,handleMouseMove:D,handleMouseUp:M,isDragging:F}}function DE({nodeId:n,slotId:r,x:i,y:o}){const{draggingWire:c,setDraggingWire:f}=Ae(),{connectNodes:h}=lt(),m=z.useCallback(j=>{j.stopPropagation(),j.preventDefault();const A=i+xE,_=o+30;f({sourceNodeId:r,sourcePort:"output",sourceX:A,sourceY:_,dragX:A,dragY:_,nearbyPort:null})},[r,i,o,f]),g=z.useCallback((j,A,_,W)=>{j.stopPropagation(),j.preventDefault();const $=i+_,H=o+W;f({sourceNodeId:r,sourcePort:"output",sourceX:$,sourceY:H,dragX:$,dragY:H,nearbyPort:null,branchLabel:A})},[r,i,o,f]),p=z.useCallback(j=>{j.stopPropagation(),j.preventDefault();const A=i,_=o+30;f({sourceNodeId:r,sourcePort:"input",sourceX:A,sourceY:_,dragX:A,dragY:_,nearbyPort:null})},[r,i,o,f]),y=z.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="input"&&c.sourceNodeId!==n&&(h(n,c.sourceNodeId),f(null))},[n,c,h,f]),b=z.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="output"&&c.sourceNodeId!==n&&(h(c.sourceNodeId,n),f(null))},[n,c,h,f]),N=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="input",E=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="output",w=!!c&&c.sourcePort==="output"&&c.sourceNodeId!==r,v=!!c&&c.sourcePort==="input"&&c.sourceNodeId!==r;return{handleOutputPortMouseDown:m,handleInputPortMouseDown:p,handleOutputPortMouseUp:y,handleInputPortMouseUp:b,handleBranchPortMouseDown:g,isInputPortHighlighted:N,isOutputPortHighlighted:E,isValidDropTarget:w,isValidOutputDropTarget:v}}const cn=110,Ht=70,Lg=30,Vg={control_flow:"",data:"",io:"",operator:"",workflow_op:"",opcode:""};function kE(n,r,i,o,c,f,h,m=!1){let g="transparent",p=1.5,y="none",b=1;o&&(g="var(--color-accent-amber)",y="6 3",b=.9),c&&!r&&!m&&(g=n,p=1.5,b=1),i&&!r&&!m&&(g="#facc15",p=2,y="none"),m&&(g="#22d3ee",p=2.5,y="none",b=1),r&&(g="var(--color-accent-blue)",p=2,y="none",b=1),f==="success"?g="var(--color-accent-green)":f==="error"&&(g="var(--color-accent-red)");let N="drop-shadow(0 1px 3px rgba(0, 0, 0, 0.2))";return c&&!r&&!m&&(N="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.25))"),m&&!r&&(N="drop-shadow(0 0 10px rgba(34, 211, 238, 0.5))"),r&&(N="drop-shadow(0 0 8px rgba(59, 130, 246, 0.3))"),{fill:"var(--color-surface-1)",stroke:g,strokeWidth:p,strokeDasharray:y,opacity:b,filter:N,transition:"all 0.15s ease",animation:f==="running"?"pulse 1.5s ease-in-out infinite":"none"}}function RE(n){return{fill:n,pointerEvents:"none"}}function zE(n,r){return{fill:r?n:`${n}20`,transition:"fill 0.15s ease"}}const LE={fontSize:"14px",fill:"var(--color-text-primary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"},VE={fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",letterSpacing:"-0.01em"},BE={fontSize:"9px",fill:"var(--color-text-muted)",fontFamily:"'JetBrains Mono', monospace"};function Bg(n,r,i){return{fill:r?"var(--color-accent-green)":"var(--color-surface-2)",stroke:r?"var(--color-accent-green)":n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1.5,r:r?6:5,transition:"all 0.12s ease",filter:r?"drop-shadow(0 0 6px var(--color-accent-green))":"none",cursor:i?"pointer":"crosshair"}}function Gy(n,r){return{fill:r?"var(--color-accent-blue)":"var(--color-surface-3)",stroke:"var(--color-border-subtle)",strokeWidth:1,cursor:n?"pointer":"default",transition:"fill 0.15s ease",opacity:n?1:0,pointerEvents:n?"all":"none"}}const Xy={fontSize:"8px",fontWeight:600,fill:"var(--color-text-secondary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function HE(n){const r={running:"var(--color-accent-amber)",success:"var(--color-accent-green)",error:"var(--color-accent-red)"};return{fill:r[n]||"transparent",filter:n!=="idle"?`drop-shadow(0 0 4px ${r[n]})`:"none",transition:"all 0.15s ease"}}const UE={cursor:"grab",pointerEvents:"all"},IE={fill:"var(--color-accent-amber)",transition:"filter 0.15s ease"},YE={fontSize:"9px",fill:"var(--color-surface-0)",fontWeight:600,pointerEvents:"none",textAnchor:"middle",dominantBaseline:"central"},qE={cursor:"grab",pointerEvents:"all",fill:"transparent"};function GE(n,r){return{fill:n?r:"transparent",stroke:r,strokeWidth:1.5,cursor:"crosshair",transition:"all 0.12s ease"}}const XE={fontSize:"8px",fontWeight:500,textAnchor:"middle",pointerEvents:"none",userSelect:"none",textTransform:"uppercase",letterSpacing:"0.3px"};function $E(n,r){const i=r.filter(f=>f.children.length>0).map(f=>f.name),o=r.map(f=>f.name),c=DN(n,i);for(const f of o)c.find(h=>h.name===f)||c.push({name:f,connected:i.includes(f)});return c}function WE(n,r){const i=Iy(n);return i&&i!==""?i:Vg[r]||Vg.opcode}function $y(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function Hf(n){let r=0;for(const i of Object.values(n))i.type==="reporter"&&i.opcode&&(r+=1,i.inputs&&(r+=Hf(i.inputs)));return r}const Nn=12,mi=8,nr=16,Wy=28;function lr(n,r,i,o){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const c=`${o}::${n.id||""}`,f=i[c]??!1;if(!f&&!r)return{width:cn,height:Ht};const h=[];let m=0;if(n.inputs)for(const[y,b]of Object.entries(n.inputs))b.type==="reporter"&&b.opcode?h.push({key:y,value:b}):m++;let g=cn,p=Ht;if(f||r){if(h.length>0){let y=0,b=0;for(const N of h){const E=lr(N.value,r,i,o);y+=nr+E.height+mi,b=Math.max(b,E.width)}g=Math.max(g,b+Nn*2),p=Ht+y}m>0&&(p+=m*Wy+mi),(h.length>0||m>0)&&(p+=Nn)}return{width:g,height:p}}function ZE(n,r,i,o){let c=0;for(const{value:f}of n){const h=lr(f,r,i,o);c+=nr+h.height+mi}return c}function QE(n,r,i,o){let c=cn;for(const{value:f}of n){const h=lr(f,r,i,o);c=Math.max(c,h.width)}return c}const KE=z.memo(function({node:r,x:i,y:o,isOrphan:c,zoom:f=1,onDrag:h,workflowName:m}){const{opcodes:g}=lt(),{openNodeEditor:p,nodeStatus:y,searchResults:b,draggingWire:N,draggingOrphan:E,setDraggingOrphan:w,draggingVariable:v,layoutMode:j,setIsDraggingNode:A,registerSlotPositions:_,unregisterSlotPositions:W,showContextMenu:$,expandedReporters:H}=Ae(),{selectedNodeId:U,selectNode:Y,selectedNodeIds:I,toggleNodeSelection:F,clearMultiSelection:ne,selectedReporter:ue,selectReporter:ce}=Wn(),[oe,Q]=z.useState(!1),le=`${m}::${r.id}`,D=H[le]??!1,M=g.find(Ee=>Ee.name===r.opcode),k=Hy(r.type),ae=WE(r.opcode,r.type),K=U===le&&!ue,C=I.includes(le),V=b.includes(r.id),P=y[r.id]||"idle",ie=$y(r.opcode),fe=z.useRef(!1),ye=[],de=[];for(const[Ee,qe]of Object.entries(r.inputs))qe.type==="reporter"&&qe.opcode?ye.push({key:Ee,value:qe}):de.push({key:Ee,value:qe});const Ie=Hf(r.inputs),re=!!(v||E&&E.nodeId!==le),we=de.map(Ee=>Ee.key).slice(0,4),Re=$E(r.opcode,r.children),He=Re.length>0?20:0,at=re?we.length*Lg:0,At=D||re,mn=At&&ye.length>0?ZE(ye,re,H,m):0,pn=At&&ye.length>0?QE(ye,re,H,m)+Nn*2:0,_e=Math.max(cn,pn),yt=Ht+at+mn+He,It=le,{handleOutputPortMouseDown:se,handleInputPortMouseDown:Se,handleOutputPortMouseUp:Ye,handleInputPortMouseUp:Ke,handleBranchPortMouseDown:Le,isInputPortHighlighted:gn,isOutputPortHighlighted:Qn,isValidDropTarget:Kn,isValidOutputDropTarget:Fn}=DE({nodeId:r.id,slotId:It,x:i,y:o}),ir=Ee=>{if(Ee.stopPropagation(),fe.current){fe.current=!1;return}if(Ee.ctrlKey||Ee.metaKey){F(le),ce(null);return}ne(),Y(le),ce(null),p()},ra=Ee=>{Ee.preventDefault(),Ee.stopPropagation(),I.includes(le)||(ne(),Y(le)),$({nodeId:le,x:Ee.clientX,y:Ee.clientY,hasReporters:Ie>0,reportersExpanded:D,isOrphan:c??!1})},or=Ee=>{if(!c)return;Ee.stopPropagation(),Ee.preventDefault();const qe=i+_e-14,st=o;w({nodeId:le,opcode:r.opcode,returnType:M?.return_type,fromX:qe,fromY:st,toX:qe,toY:st})},vs=Ee=>{if(j!=="free"||!h)return;Ee.stopPropagation(),Ee.preventDefault(),A(!0);const qe=Ee.clientX,st=Ee.clientY;let et=!1;const Ml=ia=>{const kl=(ia.clientX-qe)/f,Rl=(ia.clientY-st)/f;(Math.abs(kl)>3||Math.abs(Rl)>3)&&(et=!0,h(kl,Rl))},Dl=()=>{A(!1),et&&(fe.current=!0),window.removeEventListener("mousemove",Ml),window.removeEventListener("mouseup",Dl)};window.addEventListener("mousemove",Ml),window.addEventListener("mouseup",Dl)};return z.useEffect(()=>{const Ee={input:{x:i,y:o+Ht/2},output:{x:i+_e,y:o+Ht/2},branches:{}};return Re.forEach((qe,st)=>{const et=_e/Re.length;Ee.branches[qe.name]={x:i+et*st+et/2,y:o+yt}}),_(It,Ee),()=>W(It)},[i,o,_e,yt,Re.length,It,_,W]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${i}, ${o})`,onClick:ir,onContextMenu:ra,onMouseEnter:()=>Q(!0),onMouseLeave:()=>Q(!1),children:[d.jsx("rect",{width:_e,height:yt,rx:8,style:kE(k,K,V,c??!1,oe,P,re,C)}),d.jsx("rect",{x:0,y:0,width:3,height:yt,rx:1.5,style:RE(k)}),d.jsx("circle",{cx:cn/2,cy:22,r:14,style:zE(k,oe)}),d.jsx("text",{x:cn/2,y:22,style:LE,children:ae}),d.jsx("text",{x:cn/2,y:46,textAnchor:"middle",style:VE,children:ie.length>10?ie.slice(0,10)+"":ie}),(oe||K)&&d.jsx("text",{x:cn/2,y:60,textAnchor:"middle",style:BE,children:r.id.length>12?r.id.slice(0,12)+"":r.id}),re&&we.map((Ee,qe)=>d.jsx(Yy,{nodeId:r.id,inputKey:Ee,value:r.inputs[Ee],paramInfo:M?.parameters.find(st=>st.name.toUpperCase()===Ee),opcode:r.opcode,allInputs:r.inputs,x:Nn,y:Ht+qe*Lg,width:_e-Nn*2},Ee)),At&&ye.length>0&&d.jsx(FE,{reporterInputs:ye,parentNodeId:r.id,baseY:Ht+at,selectedReporter:ue,selectReporter:ce,openNodeEditor:p,showInputSlots:re,opcodes:g,expandedReporters:H,showContextMenu:$,workflowName:m}),Ie>0&&!At&&d.jsxs("g",{transform:`translate(${_e-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Gy(!0,!1)}),d.jsx("text",{x:7,y:7,style:Xy,children:Ie})]}),Kn&&d.jsx("circle",{cx:0,cy:Ht/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Ke}),Fn&&d.jsx("circle",{cx:_e,cy:Ht/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Ye}),d.jsx("circle",{cx:0,cy:Ht/2,r:5,style:Bg(oe,gn,!!N),onMouseDown:Se,onMouseUp:Ke}),d.jsx("circle",{cx:_e,cy:Ht/2,r:5,style:Bg(oe,Qn,!!N),onMouseDown:se,onMouseUp:Ye}),Re.length>0&&d.jsx("g",{children:Re.map((Ee,qe)=>{const st=_e/Re.length,et=st*qe+st/2,Ml=yt,Dl=By(Ee.name);return d.jsxs("g",{children:[d.jsx("text",{x:et,y:yt-8,fill:Dl,style:XE,children:Ee.name}),d.jsx("circle",{cx:et,cy:Ml,r:4,style:GE(Ee.connected,Dl),onMouseDown:ia=>Le(ia,Ee.name,et,Ml)})]},Ee.name)})}),P!=="idle"&&d.jsx("circle",{cx:_e-8,cy:12,r:4,style:HE(P)}),c&&d.jsxs("g",{style:UE,onMouseDown:or,children:[d.jsx("rect",{x:_e-28,y:-8,width:28,height:16,rx:3,style:IE}),d.jsx("text",{x:_e-14,y:0,style:YE,children:""}),d.jsx("title",{children:"Drag to slot as reporter"})]}),j==="free"&&h&&d.jsx("rect",{x:4,y:0,width:c?_e-32:_e-8,height:Ht,style:qE,onMouseDown:vs})]})});function Zy({inputKey:n,value:r,parentNodeId:i,x:o,y:c,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:y,expandedReporters:b,showContextMenu:N,workflowName:E}){const w=Uy(r.opcode||""),v=$y(r.opcode||""),j=Iy(r.opcode||"")||"",A=[...y,n],_=p.find(k=>k.name===r.opcode),W=r.id||"",$=`${E}::${W}`,H=b[$]??!1,U=f&&f.parentNodeId===i&&f.inputPath.join(".")===A.join("."),Y=[],I=[];if(r.inputs)for(const[k,ae]of Object.entries(r.inputs))ae.type==="reporter"&&ae.opcode?Y.push({key:k,value:ae}):I.push({key:k,value:ae});const F=Hf(r.inputs||{}),ne=H||g,ue=lr(r,g,b,E),ce=ue.width,oe=ue.height,Q=[];let le=Ht;if(ne)for(const k of Y){const ae=lr(k.value,g,b,E);Q.push({key:k.key,value:k.value,y:le,height:ae.height}),le+=nr+ae.height+mi}const D=le,M=k=>{k.preventDefault(),k.stopPropagation(),h({parentNodeId:i,inputPath:A,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),N({nodeId:W,x:k.clientX,y:k.clientY,hasReporters:F>0,reportersExpanded:H,isOrphan:!1})};return d.jsxs("g",{transform:`translate(${o}, ${c})`,children:[d.jsx("rect",{x:0,y:0,width:ce,height:oe,rx:8,fill:"var(--color-surface-1)",stroke:U?"var(--color-accent-blue)":w,strokeWidth:U?2:1.5,style:{cursor:"pointer"},onClick:k=>{k.stopPropagation(),h({parentNodeId:i,inputPath:A,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),m()},onContextMenu:M}),d.jsx("rect",{x:0,y:0,width:4,height:oe,rx:2,fill:w,style:{pointerEvents:"none"}}),d.jsx("circle",{cx:cn/2,cy:22,r:14,fill:`${w}30`,style:{pointerEvents:"none"}}),d.jsx("text",{x:cn/2,y:22,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"14px",fill:"var(--color-text-primary)",pointerEvents:"none"},children:j}),d.jsx("text",{x:cn/2,y:46,textAnchor:"middle",style:{fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",pointerEvents:"none"},children:v.length>10?v.slice(0,10)+"":v}),F>0&&!ne&&d.jsxs("g",{transform:`translate(${cn-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Gy(!0,!1)}),d.jsx("text",{x:7,y:7,style:Xy,children:F})]}),ne&&Q.map(k=>d.jsxs("g",{children:[d.jsx("text",{x:Nn,y:k.y+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:k.key}),d.jsx(Zy,{inputKey:k.key,value:k.value,parentNodeId:i,x:Nn,y:k.y+nr,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:A,expandedReporters:b,showContextMenu:N,workflowName:E})]},k.key)),ne&&I.map((k,ae)=>d.jsxs("g",{transform:`translate(${Nn}, ${D+ae*Wy})`,children:[d.jsx("text",{x:0,y:10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:k.key}),d.jsx(Yy,{nodeId:r.id||i,inputKey:k.key,value:k.value,paramInfo:_?.parameters.find(K=>K.name.toUpperCase()===k.key),opcode:r.opcode||"",allInputs:r.inputs||{},x:0,y:12,width:ce-Nn*2})]},k.key))]})}function FE({reporterInputs:n,parentNodeId:r,baseY:i,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,expandedReporters:g,showContextMenu:p,workflowName:y}){const b=[];let N=0;for(const{key:E,value:w}of n){b.push({key:E,value:w,y:N});const v=lr(w,h,g,y);N+=nr+v.height+mi}return d.jsx("g",{transform:`translate(${Nn}, ${i})`,children:b.map(({key:E,value:w,y:v})=>d.jsxs("g",{children:[d.jsx("text",{x:0,y:v+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:E}),d.jsx(Zy,{inputKey:E,value:w,parentNodeId:r,x:0,y:v+nr,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,inputPath:[],expandedReporters:g,showContextMenu:p,workflowName:y})]},E))})}const Xn=160,Qy=80,oi="#22c55e",Ky="#4ade80";function JE(n,r){return{fill:"var(--color-surface-1)",stroke:n?"var(--color-accent-blue)":oi,strokeWidth:n||r?2.5:2,transition:"stroke 0.15s ease, stroke-width 0.15s ease, filter 0.15s ease",filter:n?"drop-shadow(0 0 8px rgba(34, 211, 238, 0.4))":r?"drop-shadow(0 4px 8px rgba(34, 197, 94, 0.3))":"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))"}}const PE={fill:oi,pointerEvents:"none"},ej={fontSize:"14px"},tj={fontSize:"13px",fontWeight:700,fill:"var(--color-text-primary)"},nj={fontSize:"9px",fill:"var(--color-text-secondary)",fontFamily:"'JetBrains Mono', monospace"},lj={fontSize:"10px",fontFamily:"'JetBrains Mono', monospace",fill:Ky},aj={fontSize:"9px",fill:"var(--color-text-muted)",fontStyle:"italic"};function rj(n,r=!1){return{fill:n?oi:"var(--color-surface-2)",stroke:n?Ky:oi,strokeWidth:2,transition:"all 0.15s ease",filter:n?`drop-shadow(0 0 4px ${oi})`:"none",cursor:r?"pointer":"crosshair",pointerEvents:"all"}}const ij={cursor:"grab",pointerEvents:"all"},oj=z.memo(function({workflowName:r,workflowInterface:i,variables:o,x:c,y:f,zoom:h=1,onDrag:m}){const{openNodeEditor:g,layoutMode:p,setIsDraggingNode:y,registerSlotPositions:b,unregisterSlotPositions:N,draggingWire:E,setDraggingWire:w}=Ae(),{selectedStartNode:v,selectStartNode:j,selectNode:A}=Wn(),{connectNodes:_}=lt(),[W,$]=z.useState(!1),H=`start-${r}`,U=v===r,Y=z.useRef(!1),I=V=>{if(V.stopPropagation(),Y.current){Y.current=!1;return}A(null),j(r),g()},F=V=>{if(p!=="free"||!m)return;V.stopPropagation(),V.preventDefault(),y(!0);const P=V.clientX,ie=V.clientY;let fe=!1;const ye=Ie=>{const re=(Ie.clientX-P)/h,we=(Ie.clientY-ie)/h;(Math.abs(re)>3||Math.abs(we)>3)&&(fe=!0,m(re,we))},de=()=>{y(!1),fe&&(Y.current=!0),window.removeEventListener("mousemove",ye),window.removeEventListener("mouseup",de)};window.addEventListener("mousemove",ye),window.addEventListener("mouseup",de)},ne=z.useCallback(V=>{V.stopPropagation(),V.preventDefault();const P=c+Xn,ie=f+30;w({sourceNodeId:H,sourcePort:"output",sourceX:P,sourceY:ie,dragX:P,dragY:ie,nearbyPort:null})},[c,f,H,w]),ue=z.useCallback(V=>{V.stopPropagation(),V.preventDefault(),E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-")&&(_("start",E.sourceNodeId,r),w(null))},[E,r,_,w]),ce=E?.nearbyPort?.nodeId===H&&E?.nearbyPort?.port==="output",oe=!!E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-"),Q=Object.entries(o).slice(0,3),le=Object.keys(o).length>3,D=i.inputs||[],M=i.outputs||[],k=50,ae=D.length>0||M.length>0?18:0,K=Q.length*14+(le?12:0),C=Math.max(Qy,k+ae+K+10);return z.useEffect(()=>{const V={input:{x:c,y:f+30},output:{x:c+Xn,y:f+30},branches:{}};return b(H,V),()=>N(H)},[c,f,H,b,N]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${c}, ${f})`,onClick:I,onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),children:[d.jsx("rect",{width:Xn,height:C,rx:8,style:JE(U,W)}),d.jsx("rect",{width:4,height:C,rx:2,style:PE}),d.jsx("text",{x:16,y:24,style:ej,children:""}),d.jsx("text",{x:38,y:24,style:tj,children:r}),(D.length>0||M.length>0)&&d.jsx("g",{transform:"translate(12, 38)",children:d.jsxs("text",{x:0,y:0,style:nj,children:[D.length>0&&`In: ${D.join(", ")}`,D.length>0&&M.length>0&&" | ",M.length>0&&`Out: ${M.join(", ")}`]})}),Q.length>0&&d.jsxs("g",{transform:`translate(12, ${k+ae-4})`,children:[Q.map(([V,P],ie)=>d.jsxs("text",{x:0,y:ie*14+10,style:lj,children:["$",V," = ",sj(P)]},V)),le&&d.jsxs("text",{x:0,y:Q.length*14+10,style:aj,children:["+",Object.keys(o).length-3," more..."]})]}),oe&&d.jsx("circle",{cx:Xn,cy:30,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:ue}),d.jsx("circle",{cx:Xn,cy:30,r:6,style:rj(W||ce,!!E),onMouseDown:ne,onMouseUp:ue}),p==="free"&&m&&d.jsx("rect",{x:4,y:0,width:Xn-8,height:40,fill:"transparent",style:ij,onMouseDown:F})]})});function sj(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?n.length>12?`"${n.slice(0,12)}..."`:`"${n}"`:typeof n=="object"?JSON.stringify(n).slice(0,15)+"...":String(n)}function cj(n,r,i,o){const c=Math.abs(i-n),f=Math.abs(o-r);if(f>c*.5&&o>r){const m=Math.min(f/2,60);return`M ${n} ${r} C ${n} ${r+m}, ${i} ${o-m}, ${i} ${o}`}else{const m=Math.min(c/2,80);return`M ${n} ${r} C ${n+m} ${r}, ${i-m} ${o}, ${i} ${o}`}}const uj={fill:"none",stroke:"transparent",strokeWidth:16,strokeLinecap:"round",pointerEvents:"stroke"};function fj(n,r){return{fill:"none",stroke:r?"#22d3ee":n,strokeWidth:6,strokeLinecap:"round",opacity:r?.3:.2,pointerEvents:"none"}}function dj(n,r,i){return{fill:"none",stroke:r?"#22D3EE":n,strokeWidth:r?3:i?1.5:2,strokeLinecap:"round",strokeDasharray:i?"6 4":"none",pointerEvents:"none",transition:"stroke-width 0.15s ease, stroke 0.15s ease",filter:r?"drop-shadow(0 0 6px rgba(34, 211, 238, 0.5))":"none"}}const hj={opacity:.6,pointerEvents:"none"},mj={fontSize:"10px",fill:"var(--color-text-muted)",textAnchor:"middle",fontWeight:500,pointerEvents:"none"},pj={cursor:"pointer",pointerEvents:"all"};function gj(){return{fill:"var(--color-accent-red)",stroke:"var(--color-surface-0)",strokeWidth:2,transition:"transform 0.15s ease, filter 0.15s ease"}}const xj={fontSize:"16px",fontWeight:"bold",fill:"white",pointerEvents:"none"},Fy=z.memo(function({fromNodeId:r,toNodeId:i,fromPort:o="output",toPort:c="input",x1:f,y1:h,x2:m,y2:g,color:p="#475569",label:y,isDotted:b,isSelected:N,onSelect:E,onDelete:w}){const v=Ae(F=>F.slotPositions);let j,A,_,W;if(f!==void 0&&h!==void 0&&m!==void 0&&g!==void 0)j=f,A=h,_=m,W=g;else{const F=v[r],ne=v[i];if(!F||!ne)return null;const ue=o==="output"?F.output:o==="input"?F.input:F.branches[o],ce=c==="input"?ne.input:ne.output;if(!ue||!ce)return null;j=ue.x,A=ue.y,_=ce.x,W=ce.y}if(!Number.isFinite(j)||!Number.isFinite(A)||!Number.isFinite(_)||!Number.isFinite(W))return null;const $=cj(j,A,_,W),H=(j+_)/2,U=(A+W)/2,Y=F=>{F.stopPropagation(),E?.()},I=F=>{F.stopPropagation(),w?.()};return d.jsxs("g",{style:{cursor:"pointer"},children:[d.jsx("path",{style:uj,d:$,onClick:Y}),d.jsx("path",{style:fj(p,N??!1),d:$}),d.jsx("path",{style:dj(p,N??!1,b??!1),d:$}),!b&&!N&&d.jsx("circle",{style:hj,r:3,fill:p,children:d.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:$})}),y&&d.jsx("text",{style:mj,x:H,y:(A+W)/2-8,children:y}),N&&w&&d.jsxs("g",{style:pj,transform:`translate(${H}, ${U})`,onClick:I,children:[d.jsx("circle",{cx:0,cy:0,r:12,style:gj()}),d.jsx("text",{x:0,y:4,textAnchor:"middle",style:xj,children:""})]})]})});function yj(){const{draggingWire:n,slotPositions:r}=Ae();if(!n)return null;const i=n.branchLabel||n.sourcePort,o=bE(n.sourceNodeId,i,r),c=o?.x??n.sourceX,f=o?.y??n.sourceY,h=n.nearbyPort?.x??n.dragX,m=n.nearbyPort?.y??n.dragY,g=n.sourcePort==="input",p=g?h:c,y=g?m:f,b=g?c:h,N=g?f:m;if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b)||!Number.isFinite(N))return null;const E=n.nearbyPort?"#22C55E":"#22D3EE";return d.jsx(Fy,{fromNodeId:n.sourceNodeId,toNodeId:"",x1:p,y1:y,x2:b,y2:N,color:E,isDotted:!n.nearbyPort})}const bj={pointerEvents:"none"},vj={fill:"#FACC15"},wj={filter:"drop-shadow(0 2px 4px rgba(250, 204, 21, 0.3))"},Sj={fill:"rgba(250, 204, 21, 0.2)",stroke:"#FACC15",strokeWidth:1.5,strokeDasharray:"4 2"},Nj={fontSize:"9px",fontWeight:600,fill:"#facc15"},Ej={fill:"rgba(250, 204, 21, 0.3)",stroke:"#FACC15",strokeWidth:2},jj={pointerEvents:"none"},Cj={fill:"rgba(34, 197, 94, 0.25)",stroke:"#22C55E",strokeWidth:2},Aj={fill:"#4ADE80",fontSize:"12px",fontWeight:600,fontFamily:"'JetBrains Mono', monospace"},_j={fill:"#22C55E"};function Oj(){const{draggingOrphan:n}=Ae();if(!n)return null;const{fromX:r,fromY:i,toX:o,toY:c,opcode:f}=n;if(!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)||!Number.isFinite(c))return null;const h=o-r,m=c-i,g=Math.sqrt(h*h+m*m),p=f.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("g",{style:bj,children:[d.jsx("path",{d:`M ${r} ${i} L ${o} ${c}`,fill:"none",stroke:"#FACC15",strokeWidth:2,strokeDasharray:"8 4",style:{animation:"dash-flow 0.5s linear infinite"}}),d.jsx("circle",{cx:r,cy:i,r:4,style:vj}),g>30&&d.jsxs("g",{transform:`translate(${o-40}, ${c-15})`,style:wj,children:[d.jsx("rect",{width:80,height:30,rx:6,style:Sj}),d.jsx("text",{x:40,y:18,textAnchor:"middle",style:Nj,children:p.length>10?p.slice(0,10)+"...":p})]}),d.jsx("circle",{cx:o,cy:c,r:6,style:Ej})]})}function Tj(){const{draggingVariable:n}=Ae();if(!n)return null;const{toX:r,toY:i,name:o}=n;return d.jsxs("g",{style:jj,children:[d.jsxs("g",{transform:`translate(${r-40}, ${i-14})`,children:[d.jsx("rect",{width:80,height:28,rx:14,style:Cj}),d.jsxs("text",{x:40,y:18,textAnchor:"middle",style:Aj,children:["$",o.length>8?o.slice(0,8)+"..":o]})]}),d.jsx("circle",{cx:r,cy:i,r:4,style:_j})]})}const Uo=160,Io=120,li=180,$u=80,Wu=60,Hg=40,Mj=80,Dj=T("absolute bottom-4 left-6 rounded-sm border border-border-subtle overflow-hidden z-10 shadow-md cursor-pointer transition-colors hover:border-border-strong"),kj={pointerEvents:"none"};function Ug(n){switch(n){case"control_flow":return"#FF9500";case"data":return"#4CAF50";case"io":return"#22D3EE";case"operator":return"#9C27B0";case"workflow_op":return"#E91E63";default:return"#64748B"}}function Rj({workflows:n,bounds:r,zoom:i,panX:o,panY:c,canvasWidth:f,canvasHeight:h,onNavigate:m}){const g=r.maxX-r.minX,p=r.maxY-r.minY,y=Math.min((Uo-10)/Math.max(g,100),(Io-10)/Math.max(p,100)),b=z.useMemo(()=>{const w=(r.maxX+r.minX)/2,v=(r.maxY+r.minY)/2,j=f/i,A=h/i,_=w-o/i,W=v-c/i,$=(_-r.minX-j/2)*y+5,H=(W-r.minY-A/2)*y+5,U=j*y,Y=A*y;return{x:$,y:H,width:U,height:Y}},[r,i,o,c,f,h,y]),N=z.useCallback(w=>{const j=w.currentTarget.getBoundingClientRect(),A=w.clientX-j.left,_=w.clientY-j.top,W=(A-5)/y+r.minX,$=(_-5)/y+r.minY,H=(r.maxX+r.minX)/2,U=(r.maxY+r.minY)/2,Y=(H-W)*i,I=(U-$)*i;m(Y,I)},[r,y,i,m]),E=z.useMemo(()=>{if(!n||n.length===0)return[];const w=[];let v=0;for(const j of n){let A=function($,H,U){const Y=$u+Math.min(Object.keys($.inputs).length,2)*18;w.push({x:(H-r.minX)*y+5,y:(U-r.minY)*y+5,width:li*y,height:Y*y,color:Ug($.type)}),W=Math.max(W,U+Y);let I=H+li+Wu,F=U+Y+Hg;for(const ne of $.children){let ue=H+li+Wu;for(const ce of ne.children){const oe=$u+Math.min(Object.keys(ce.inputs).length,2)*18;w.push({x:(ue-r.minX)*y+5,y:(F-r.minY)*y+5,width:li*y,height:oe*y,color:Ug(ce.type)}),W=Math.max(W,F+oe),ue+=li+Wu,I=Math.max(I,ue)}F+=$u+Hg*2}return I},_=0,W=v;for(const $ of j.children)_=A($,_,v);v=W+Mj}return w},[n,r,y]);return!n||n.length===0||E.length===0?null:d.jsx("div",{className:L(Dj()),"aria-label":"Canvas minimap navigation",children:d.jsxs("svg",{width:Uo,height:Io,onClick:N,style:{display:"block",cursor:"pointer"},role:"img","aria-label":"Minimap showing workflow overview. Click to navigate.",children:[d.jsx("rect",{x:0,y:0,width:Uo,height:Io,fill:"var(--color-surface-2)",rx:4}),E.map((w,v)=>d.jsx("rect",{x:w.x,y:w.y,width:Math.max(w.width,2),height:Math.max(w.height,2),fill:w.color,opacity:.7,rx:1},v)),d.jsx("rect",{x:Math.max(0,b.x),y:Math.max(0,b.y),width:Math.min(b.width,Uo),height:Math.min(b.height,Io),fill:"rgba(59, 130, 246, 0.15)",stroke:"var(--color-accent-blue)",strokeWidth:1.5,rx:2,style:kj})]})})}const zj=T("absolute top-4 left-6 w-9 h-9 flex items-center justify-center bg-surface-1 border border-border-subtle rounded-sm text-text-secondary cursor-pointer z-10 shadow-md transition-colors hover:bg-surface-2 hover:border-border-strong hover:text-text-primary"),Lj=T("absolute top-4 left-6 flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm z-10 shadow-md text-text-secondary focus-within:border-accent-blue"),Vj=T("bg-transparent border-none outline-none text-text-primary text-sm w-[180px] placeholder:text-text-muted"),Bj=T("text-xs text-text-muted whitespace-nowrap min-w-[60px] text-center"),Hj=T("flex gap-0.5"),Ig=T("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm transition-colors hover:bg-surface-2 hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent"),Uj=T("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm ml-1 transition-colors hover:bg-surface-2 hover:text-text-primary");function Ij(){const{tree:n}=lt(),{searchQuery:r,setSearchQuery:i,searchResults:o,setSearchResults:c}=Ae(),{selectNode:f}=Wn(),[h,m]=z.useState(!1),[g,p]=z.useState(0),y=z.useRef(null);z.useEffect(()=>{if(!n||!r.trim()){c([]),p(0);return}const A=r.toLowerCase(),_=[];for(const W of n.workflows){const $=H=>{for(const U of H){const Y=U.id.toLowerCase().includes(A),I=U.opcode?.toLowerCase().includes(A),F=U.type.toLowerCase().includes(A);(Y||I||F)&&_.push(U.id);for(const ne of U.children)$(ne.children)}};$(W.children)}c(_),p(0)},[r,n,c]),z.useEffect(()=>{const A=_=>{(_.ctrlKey||_.metaKey)&&_.key.toLowerCase()==="f"&&(_.target.closest(".monaco-editor")||(_.preventDefault(),m(!0),setTimeout(()=>y.current?.focus(),50))),_.key==="Escape"&&h&&b()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[h]);const b=z.useCallback(()=>{m(!1),i(""),c([]),p(0)},[i,c]),N=z.useCallback(A=>{i(A.target.value)},[i]),E=z.useCallback(A=>{if(o.length>0){const _=o[A];f(_),p(A)}},[o,f]),w=z.useCallback(()=>{if(o.length>0){const A=g>0?g-1:o.length-1;E(A)}},[g,o.length,E]),v=z.useCallback(()=>{if(o.length>0){const A=g<o.length-1?g+1:0;E(A)}},[g,o.length,E]),j=z.useCallback(A=>{A.key==="Enter"&&(A.shiftKey?w():v())},[w,v]);return h?d.jsxs("div",{className:L(Lj()),role:"search","aria-label":"Search nodes",children:[d.jsx(Yg,{}),d.jsx("input",{ref:y,type:"text",value:r,onChange:N,onKeyDown:j,placeholder:"Search nodes...",className:L(Vj()),autoFocus:!0,"aria-label":"Search query","aria-describedby":r?"search-result-count":void 0}),r&&d.jsx("span",{id:"search-result-count",className:L(Bj()),"aria-live":"polite",children:o.length>0?`${g+1}/${o.length}`:"No results"}),d.jsxs("div",{className:L(Hj()),role:"group","aria-label":"Navigate results",children:[d.jsx("button",{onClick:w,disabled:o.length===0,"aria-label":"Previous result (Shift+Enter)",className:L(Ig()),children:d.jsx(Yj,{})}),d.jsx("button",{onClick:v,disabled:o.length===0,"aria-label":"Next result (Enter)",className:L(Ig()),children:d.jsx(qj,{})})]}),d.jsx("button",{onClick:b,className:L(Uj()),"aria-label":"Close search (Escape)",children:d.jsx(Gj,{})})]}):d.jsx("button",{className:L(zj()),onClick:()=>{m(!0),setTimeout(()=>y.current?.focus(),50)},"aria-label":"Search nodes (Ctrl+F)",children:d.jsx(Yg,{})})}function Yg(){return d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"M21 21l-4.35-4.35"})]})}function Yj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 15l-6-6-6 6"})})}function qj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M6 9l6 6 6-6"})})}function Gj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}const Qt=24,ea=28;function Xj(n,r,i,o){return{padding:Qt,labelHeight:ea,rect:{x:n-Qt,y:r-Qt-ea,width:i+Qt*2,height:o+Qt*2+ea},header:{x:n-Qt,y:r-Qt-ea,width:i+Qt*2,height:ea+Qt},label:{x:n-Qt+12,y:r-Qt-ea+8},dragIcon:{x:n+i+Qt-24,y:r-Qt-ea+10}}}function $j(n){return{fill:"transparent",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:2,strokeDasharray:"8 4",opacity:n?.4:.6}}function Wj(n){return{fill:n?"rgba(59, 130, 246, 0.1)":"var(--color-surface-2)",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1}}function Zj(n){return{fontSize:"11px",fontWeight:600,fill:n?"var(--color-accent-blue)":"var(--color-text-secondary)",fontFamily:"'Inter', sans-serif"}}const Qj={cursor:"grab",pointerEvents:"all"},Kj={pointerEvents:"none",color:"var(--color-text-muted)"};function Fj({name:n,x:r,y:i,width:o,height:c,isMain:f,zoom:h,onDrag:m}){const g=z.useRef(!1),p=z.useRef({x:0,y:0}),y=Ae(v=>v.setIsDraggingWorkflow),b=Xj(r,i,o,c),N=z.useCallback(v=>{if(!m)return;v.stopPropagation(),v.preventDefault(),g.current=!0,p.current={x:v.clientX,y:v.clientY},y(!0);const j=_=>{if(!g.current)return;_.preventDefault();const W=(_.clientX-p.current.x)/h,$=(_.clientY-p.current.y)/h;p.current={x:_.clientX,y:_.clientY},m(W,$)},A=()=>{g.current=!1,y(!1),window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",A)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",A)},[m,h,y]),E=f&&n!=="main"?`${n} (main)`:n,w=E.length*7+24;return d.jsxs("g",{style:{pointerEvents:"none"},"data-workflow-group":n,children:[d.jsx("rect",{x:b.rect.x,y:b.rect.y,width:b.rect.width,height:b.rect.height,rx:12,style:$j(f??!1)}),d.jsx("rect",{x:b.header.x,y:b.header.y,width:b.header.width,height:b.header.height,fill:"transparent",style:Qj,onMouseDown:N}),d.jsxs("g",{transform:`translate(${b.label.x}, ${b.label.y})`,children:[d.jsx("rect",{x:0,y:0,width:w,height:20,rx:4,style:Wj(f??!1)}),d.jsx("text",{x:12,y:14,style:Zj(f??!1),children:E})]}),d.jsxs("g",{transform:`translate(${b.dragIcon.x}, ${b.dragIcon.y})`,style:Kj,children:[d.jsx("rect",{x:0,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:0,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4})]})]})}const Jy=T("min-w-[160px] py-1 bg-surface-1 border border-border-subtle rounded-md shadow-lg animate-scale-in"),ta=T("w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm text-text-primary bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2",{variants:{variant:{default:"",danger:"text-accent-red hover:bg-accent-red/10"}},defaultVariants:{variant:"default"}}),es=T("h-px my-1 mx-2 bg-border-subtle"),na=T("w-4 text-center text-xs text-text-muted"),la=T("flex-1"),qg=T("text-xs text-text-muted");function Jj({x:n,y:r,nodeId:i,hasReporters:o,reportersExpanded:c,isOrphan:f,onExpandReporters:h,onCollapseReporters:m,onDelete:g,onDuplicate:p,onClose:y,selectedNodeIds:b,onExtractToWorkflow:N}){const E=z.useRef(null);z.useEffect(()=>{const j=_=>{E.current&&!E.current.contains(_.target)&&y()},A=_=>{_.key==="Escape"&&y()};return document.addEventListener("mousedown",j),document.addEventListener("keydown",A),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",A)}},[y]);const w=Math.min(n,window.innerWidth-180),v=Math.min(r,window.innerHeight-200);return d.jsxs("div",{ref:E,className:L(Jy()),style:{position:"fixed",left:w,top:v,zIndex:1e3},role:"menu","aria-label":"Node actions",children:[o&&d.jsxs(d.Fragment,{children:[c?d.jsxs("button",{className:L(ta()),onClick:()=>{m(),y()},role:"menuitem",children:[d.jsx("span",{className:L(na()),children:""}),d.jsx("span",{className:L(la()),children:"Collapse Reporters"})]}):d.jsxs("button",{className:L(ta()),onClick:()=>{h(),y()},role:"menuitem",children:[d.jsx("span",{className:L(na()),children:""}),d.jsx("span",{className:L(la()),children:"Expand Reporters"})]}),d.jsx("div",{className:L(es()),role:"separator"})]}),d.jsxs("button",{className:L(ta()),onClick:()=>{p(),y()},role:"menuitem",children:[d.jsx("span",{className:L(na()),children:""}),d.jsx("span",{className:L(la()),children:"Duplicate"}),d.jsx("span",{className:L(qg()),children:"Ctrl+D"})]}),d.jsx("div",{className:L(es()),role:"separator"}),d.jsxs("button",{className:L(ta({variant:"danger"})),onClick:()=>{g(),y()},role:"menuitem",children:[d.jsx("span",{className:L(na()),children:""}),d.jsx("span",{className:L(la()),children:"Delete"}),d.jsx("span",{className:L(qg()),children:"Del"})]}),b&&b.length>=2&&N&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:L(es()),role:"separator"}),d.jsxs("button",{className:L(ta()),onClick:()=>{N(),y()},role:"menuitem",children:[d.jsx("span",{className:L(na()),children:""}),d.jsx("span",{className:L(la()),children:"Extract to Workflow"})]})]})]})}function Pj({x:n,y:r,workflowName:i,onCreateWorkflow:o,onDeleteWorkflow:c,onClose:f}){const h=z.useRef(null);z.useEffect(()=>{const y=N=>{h.current&&!h.current.contains(N.target)&&f()},b=N=>{N.key==="Escape"&&f()};return document.addEventListener("mousedown",y),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",b)}},[f]);const m=Math.min(n,window.innerWidth-220),g=Math.min(r,window.innerHeight-120),p=i&&i!=="main";return d.jsxs("div",{ref:h,className:L(Jy()),style:{position:"fixed",left:m,top:g,zIndex:1e3},role:"menu","aria-label":"Canvas actions",children:[d.jsxs("button",{className:L(ta()),onClick:()=>{o(),f()},role:"menuitem",children:[d.jsx("span",{className:L(na()),children:"+"}),d.jsx("span",{className:L(la()),children:"Create New Workflow"})]}),p&&c&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:L(es()),role:"separator"}),d.jsxs("button",{className:L(ta({variant:"danger"})),onClick:()=>{c(i),f()},role:"menuitem",children:[d.jsx("span",{className:L(na()),children:""}),d.jsxs("span",{className:L(la()),children:['Delete "',i,'"']})]})]})]})}const pi=qy.WIDTH,jn=qy.HEIGHT,Yo=Bf.HORIZONTAL,ri=Bf.VERTICAL,Py=Bf.WORKFLOW,eC=40;function tC(n,r){const o=n.inputs||[],c=n.outputs||[],f=o.length>0||c.length>0?18:0,h=Object.entries(r).slice(0,3),m=Object.keys(r).length>3,g=h.length*14+(m?12:0);return Math.max(Qy,50+f+g+10)}const mf=12,pf=8,eb=16,nC=28;function tb(n,r,i){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const o=n.id||"",c=i?`${i}::${o}`:o;if(!(r[c]??!1))return{width:pi,height:jn};const h=[];let m=0;if(n.inputs)for(const y of Object.values(n.inputs))y.type==="reporter"&&y.opcode?h.push(y):m++;let g=pi,p=jn;if(h.length>0){let y=0,b=0;for(const N of h){const E=tb(N,r,i);y+=eb+E.height+pf,b=Math.max(b,E.width)}g=Math.max(g,b+mf*2),p=jn+y}return m>0&&(p+=m*nC+pf),(h.length>0||m>0)&&(p+=mf),{width:g,height:p}}function lC(n,r,i){let o=0,c=pi;for(const f of Object.values(n))if(f.type==="reporter"&&f.opcode){const h=tb(f,r,i);o+=eb+h.height+pf,c=Math.max(c,h.width)}return{width:c,height:o}}function Zu(n,r,i,o,c){const f=c?`${c}::${n}`:n,h=o[f]??!1,m=MN(),p=i&&m.has(i)?20:0;if(!h)return{width:pi,height:jn+p};const y=lC(r,o,c),b=y.width+mf*2,N=y.height;return{width:Math.max(pi,b),height:jn+N+p}}function Gg(n){return By(n)}function Xg(n,r,i={},o={}){const c=[],f=[],h=[],m=[];let g=0;const p={};for(const y of n){p[y.name]={x:0,y:g};const b=Math.max(y.children.length*(jn+ri),jn+100);g+=b+Py}for(const y of n){const b=p[y.name],N=r[y.name]||{x:0,y:0},E={x:b.x+N.x,y:b.y+N.y},{nodes:w,connections:v,bounds:j,startNode:A}=aC(y,E.x,E.y,i,o);c.push(...w),f.push(...v),A&&m.push(A),h.push({name:y.name,x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY,isMain:y.name==="main"})}return{nodes:c,connections:f,groups:h,startNodes:m}}function aC(n,r,i,o={},c={}){const f=[],h=[],m=new Map,g=r,p=i,y={workflowName:n.name,workflowInterface:n.interface,variables:n.variables,x:g,y:p},b=r+Xn+eC;let N=1/0,E=1/0,w=-1/0,v=-1/0;function j(I,F,ne,ue){N=Math.min(N,I),E=Math.min(E,F),w=Math.max(w,I+ne),v=Math.max(v,F+ue)}function A(I,F,ne,ue=!1){const ce=Zu(I.id,I.inputs,I.opcode,c,n.name);f.push({node:I,x:F,y:ne,width:ce.width,height:ce.height,isOrphan:ue,workflowName:n.name}),m.set(I.id,{x:F,y:ne,width:ce.width,height:ce.height}),j(F,ne,ce.width,ce.height);let oe=F+ce.width+Yo;if(I.children.length>0){let Q=ne+ce.height+ri;const le=I.children.length;for(let D=0;D<le;D++){const M=I.children[D],k=Gg(M.name);let ae=F+ce.width+Yo,K=I.id,C=!0;for(const V of M.children){const P=Zu(V.id,V.inputs,V.opcode,c,n.name);f.push({node:V,x:ae,y:Q,width:P.width,height:P.height,workflowName:n.name}),m.set(V.id,{x:ae,y:Q,width:P.width,height:P.height}),j(ae,Q,P.width,P.height),h.push({from:`${n.name}::${K}`,to:`${n.name}::${V.id}`,fromPort:C?M.name:"output",toPort:"input",color:k,label:C?M.name:void 0}),K=V.id,C=!1,ae+=P.width+Yo,V.children.length>0&&(ae=Math.max(ae,_(V,ae,Q)))}oe=Math.max(oe,ae),Q+=jn+ri*2}}return oe}function _(I,F,ne){let ue=F;const oe=m.get(I.id)?.height||jn;let Q=ne+oe+ri;const le=I.children.length;for(let D=0;D<le;D++){const M=I.children[D],k=Gg(M.name);let ae=F,K=I.id,C=!0;for(const V of M.children){const P=Zu(V.id,V.inputs,V.opcode,c,n.name);f.push({node:V,x:ae,y:Q,width:P.width,height:P.height,workflowName:n.name}),m.set(V.id,{x:ae,y:Q,width:P.width,height:P.height}),j(ae,Q,P.width,P.height),h.push({from:`${n.name}::${K}`,to:`${n.name}::${V.id}`,fromPort:C?M.name:"output",toPort:"input",color:k,label:C?M.name:void 0}),K=V.id,C=!1,ae+=P.width+Yo}ue=Math.max(ue,ae),Q+=jn+ri}return ue}const W=tC(n.interface,n.variables);j(g,p,Xn,W);let $=b,H=null,U=!0;for(const I of n.children){const ne=A(I,$,i);U&&(h.push({from:`start-${n.name}`,to:`${n.name}::${I.id}`,fromPort:"output",toPort:"input",color:"#22C55E"}),U=!1),H&&h.push({from:`${n.name}::${H.id}`,to:`${n.name}::${I.id}`,fromPort:"output",toPort:"input",color:"#475569"}),H=I,$=ne}n.children.length===0&&(N=Math.min(N,g),E=Math.min(E,p),w=Math.max(w,g+Xn+20),v=Math.max(v,p+W));const Y=n.orphans||[];if(Y.length>0){const I=v+Py;let F=g;for(const ne of Y)F=A(ne,F,I,!0);for(const ne of Y)ne.next&&h.push({from:`${n.name}::${ne.id}`,to:`${n.name}::${ne.next}`,fromPort:"output",toPort:"input",color:"#6B7280"})}for(const I of f){const F=`${I.workflowName}::${I.node.id}`,ne=o[F];ne&&(I.x+=ne.x,I.y+=ne.y,j(I.x,I.y,I.width,I.height))}return{nodes:f,connections:h,bounds:{minX:N,minY:E,maxX:w,maxY:v},startNode:y}}function nb(n,r,i){const f=[...n].sort((h,m)=>m.y-h.y);for(const h of f)if(r>=h.x-16&&r<=h.x+h.width+16&&i>=h.y-28-16&&i<=h.y+h.height+16)return h.name;return null}const rC=T("flex-1 relative overflow-hidden"),iC=T("w-full h-full block"),oC=T("absolute bottom-4 right-4 flex items-center gap-1 bg-surface-1 p-1 rounded-sm border border-border-subtle z-10 shadow-md"),Qu=T("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm hover:bg-surface-2 hover:text-text-primary"),sC=T("w-px h-5 bg-border-subtle mx-1"),cC=T("min-w-10 text-center text-xs text-text-muted"),$g=T("h-7 px-2.5 flex items-center justify-center gap-1.5 bg-transparent border-none text-text-secondary cursor-pointer rounded-sm text-xs font-medium transition-colors hover:bg-surface-2 hover:text-text-primary",{variants:{active:{true:"bg-surface-3 text-text-primary",false:""}},defaultVariants:{active:!1}}),uC=T("absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-3 px-5 py-3 bg-accent-red/15 border border-accent-red rounded-sm text-accent-red z-10 max-w-[80%]"),fC=T("text-lg"),dC=T("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-text-muted pointer-events-none"),hC=T("text-lg mb-2 text-text-secondary"),mC=T("text-sm");function gf(n,r,i=new Set){for(const o of Object.values(n))if(o.type==="reporter"&&o.id){const c=`${r}::${o.id}`;i.add(c),o.inputs&&gf(o.inputs,r,i)}return Array.from(i)}function Wg(n,r){const[i,o]=r.split("::"),c=n.find(m=>m.name===i);if(!c)return null;const f=m=>{for(const g of m){if(g.id===o)return g;for(const p of g.children){const y=f(p.children);if(y)return y}}return null},h=f(c.children);if(h)return{node:h,workflowName:i};if(c.orphans){const m=f(c.orphans);if(m)return{node:m,workflowName:i}}return null}function pC(){const{zoom:n,panX:r,panY:i,setZoom:o,setPan:c,resetView:f,workflowPositions:h,setWorkflowPosition:m,nodePositions:g,setNodePosition:p,layoutMode:y,setLayoutMode:b,setLayoutGroups:N,setCanvasCenter:E,contextMenu:w,hideContextMenu:v,setReportersExpanded:j,setMultipleReportersExpanded:A,expandedReporters:_,canvasContextMenu:W,showCanvasContextMenu:$,hideCanvasContextMenu:H,showCreateWorkflowModal:U,showConfirmDialog:Y,showExtractWorkflowModal:I}=Ae(),{tree:F,parseError:ne,source:ue,disconnectConnection:ce,deleteNode:oe,duplicateNode:Q,deleteWorkflow:le}=lt(),{selectedConnection:D,selectConnection:M,selectedNodeIds:k,clearMultiSelection:ae}=Wn(),K=z.useRef(null),[C,V]=z.useState({width:800,height:600});z.useEffect(()=>{const se=()=>{K.current&&V({width:K.current.clientWidth,height:K.current.clientHeight})};return se(),window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]);const{nodes:P,connections:ie,groups:fe,startNodes:ye}=F?Xg(F.workflows,h,g,_):{nodes:[],connections:[],groups:[],startNodes:[]},de=24,Ie=28,re=fe.length>0?fe.reduce((se,Se)=>({minX:Math.min(se.minX,Se.x-de),minY:Math.min(se.minY,Se.y-de-Ie),maxX:Math.max(se.maxX,Se.x+Se.width+de),maxY:Math.max(se.maxY,Se.y+Se.height+de)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}):{minX:0,minY:0,maxX:800,maxY:600},{centerX:we,centerY:Re}=z.useMemo(()=>{if(!F)return{centerX:400,centerY:300};const Se=Xg(F.workflows,{}).groups.reduce((Ye,Ke)=>({minX:Math.min(Ye.minX,Ke.x-de),minY:Math.min(Ye.minY,Ke.y-de-Ie),maxX:Math.max(Ye.maxX,Ke.x+Ke.width+de),maxY:Math.max(Ye.maxY,Ke.y+Ke.height+de)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return{centerX:(Se.maxX+Se.minX)/2,centerY:(Se.maxY+Se.minY)/2}},[F]),He=JSON.stringify(fe);z.useEffect(()=>{N(fe)},[He,N]),z.useEffect(()=>{E(we,Re)},[we,Re,E]),z.useEffect(()=>{const se=Se=>{const Ke=Se.detail.workflowName,Le=fe.find(or=>or.name===Ke);if(!Le)return;const gn=C.width/2,Qn=C.height/2,Kn=Le.x+Le.width/2,Fn=Le.y+Le.height/2,ir=gn-Kn*n-(C.width/2-we*n),ra=Qn-Fn*n-(C.height/2-Re*n);c(ir,ra)};return window.addEventListener("lexflow:goto-workflow",se),()=>window.removeEventListener("lexflow:goto-workflow",se)},[fe,n,c,C,we,Re]);const{handleWheel:at,handleMouseDown:At,handleMouseMove:mn,handleMouseUp:pn,isDragging:_e}=ME({svgRef:K,centerX:we,centerY:Re}),yt=z.useCallback(se=>{const Se=se.target,Ye=Se.tagName==="svg"||Se.tagName==="rect"&&Se.getAttribute("fill")==="transparent",Ke=Se.closest("[data-workflow-group]")!==null;if(Ye||Ke)if(se.preventDefault(),K.current){const Le=K.current.getBoundingClientRect(),gn=(se.clientX-Le.left-r-Le.width/2)/n+we,Qn=(se.clientY-Le.top-i-Le.height/2)/n+Re,Kn=nb(fe,gn,Qn);$(se.clientX,se.clientY,Kn||void 0)}else $(se.clientX,se.clientY)},[$,K,r,i,n,we,Re,fe]),It=z.useCallback((se,Se)=>{c(se,Se)},[c]);return d.jsxs("div",{className:L(rC()),"data-canvas-container":!0,children:[d.jsx(Ij,{}),d.jsxs("div",{className:L(oC()),role:"toolbar","aria-label":"Canvas controls",children:[d.jsx("button",{className:L(Qu()),onClick:()=>o(n-.1),"aria-label":"Zoom out",children:d.jsx(Uw,{})}),d.jsxs("span",{className:L(cC()),"aria-live":"polite",children:[Math.round(n*100),"%"]}),d.jsx("button",{className:L(Qu()),onClick:()=>o(n+.1),"aria-label":"Zoom in",children:d.jsx(Hw,{})}),d.jsx("button",{className:L(Qu()),onClick:f,"aria-label":"Fit to view",children:d.jsx(Iw,{})}),d.jsx("div",{className:L(sC())}),d.jsxs("button",{className:L($g({active:y==="auto"})),onClick:()=>b("auto"),"aria-label":"Auto layout","aria-pressed":y==="auto",children:[d.jsx(Yw,{}),"Auto"]}),d.jsx("button",{className:L($g({active:y==="free"})),onClick:()=>b("free"),"aria-label":"Free layout","aria-pressed":y==="free",children:"Free"})]}),F&&d.jsx(Rj,{workflows:F.workflows,bounds:re,zoom:n,panX:r,panY:i,canvasWidth:C.width,canvasHeight:C.height,onNavigate:It}),ne&&d.jsxs("div",{className:L(uC()),children:[d.jsx("span",{className:L(fC()),children:""}),d.jsx("span",{children:ne})]}),d.jsxs("svg",{ref:K,className:L(iC()),onWheel:at,onMouseDown:At,onMouseMove:mn,onMouseUp:pn,onMouseLeave:pn,onContextMenu:yt,style:{cursor:_e?"grabbing":"grab"},role:"application","aria-label":"Workflow canvas. Use mouse to pan and scroll to zoom.",children:[d.jsx("rect",{width:"100%",height:"100%",fill:"transparent",style:{cursor:"inherit"}}),d.jsxs("g",{transform:`translate(${r+(K.current?.clientWidth||800)/2-we*n}, ${i+(K.current?.clientHeight||600)/2-Re*n}) scale(${n})`,children:[fe.map(se=>d.jsx(Fj,{name:se.name,x:se.x,y:se.y,width:se.width,height:se.height,isMain:se.isMain,zoom:n,onDrag:(Se,Ye)=>{const Ke=Ae.getState().workflowPositions[se.name]||{x:0,y:0};m(se.name,Ke.x+Se,Ke.y+Ye)}},se.name)),ie.map((se,Se)=>d.jsx(Fy,{fromNodeId:se.from,toNodeId:se.to,fromPort:se.fromPort,toPort:se.toPort,color:se.color,label:se.label,isSelected:D?.fromNodeId===se.from&&D?.toNodeId===se.to,onSelect:()=>M({fromNodeId:se.from,toNodeId:se.to,label:se.label}),onDelete:()=>{const Ye=ms(se.from);ce(Cl(se.from),Cl(se.to),se.label,Ye),M(null)}},`${se.from}-${se.to}-${Se}`)),ye.map(se=>d.jsx(oj,{workflowName:se.workflowName,workflowInterface:se.workflowInterface,variables:se.variables,x:se.x,y:se.y,zoom:n,onDrag:y==="free"?(Se,Ye)=>{const Ke=h[se.workflowName]||{x:0,y:0};m(se.workflowName,Ke.x+Se,Ke.y+Ye)}:void 0},`start-${se.workflowName}`)),P.map(se=>{const Se=`${se.workflowName}::${se.node.id}`;return d.jsx(KE,{node:se.node,x:se.x,y:se.y,isOrphan:se.isOrphan,zoom:n,workflowName:se.workflowName,onDrag:y==="free"?(Ye,Ke)=>{const Le=g[Se]||{x:0,y:0};p(Se,Le.x+Ye,Le.y+Ke)}:void 0},Se)}),d.jsx(yj,{}),d.jsx(Oj,{}),d.jsx(Tj,{})]})]}),!ne&&!F&&d.jsxs("div",{className:L(dC()),children:[d.jsx("h2",{className:L(hC()),children:"No Workflow"}),d.jsx("p",{className:L(mC()),children:"Edit YAML in the editor or load an example"})]}),w&&(()=>{const se=Cl(w.nodeId);return d.jsx(Jj,{x:w.x,y:w.y,nodeId:se,hasReporters:w.hasReporters,reportersExpanded:w.reportersExpanded,isOrphan:w.isOrphan,onExpandReporters:()=>{if(j(w.nodeId,!0),F){const Se=Wg(F.workflows,w.nodeId);if(Se){const Ye=gf(Se.node.inputs,Se.workflowName);Ye.length>0&&A(Ye,!0)}}},onCollapseReporters:()=>{if(j(w.nodeId,!1),F){const Se=Wg(F.workflows,w.nodeId);if(Se){const Ye=gf(Se.node.inputs,Se.workflowName);Ye.length>0&&A(Ye,!1)}}},onDelete:()=>{oe(se),ae()},onDuplicate:()=>Q(se),onClose:v,selectedNodeIds:k,onExtractToWorkflow:()=>{const Se=k.length>0?k:[w.nodeId],Ye=Se.map(Cl);if(Ye.length<2)return;let Ke=ms(Se[0])||"main";const Le=Sx(ue,Ye,Ke);if(!Le.isValid){Y({title:"Cannot Extract",message:Le.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}});return}const gn=A1(ue,Ye);I(Le.orderedNodeIds,Ke,gn.suggestedInputs,gn.suggestedOutputs)}})})(),W&&d.jsx(Pj,{x:W.x,y:W.y,workflowName:W.workflowName,onCreateWorkflow:U,onDeleteWorkflow:se=>{Y({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${se}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>le(se)})},onClose:H})]})}const gC="modulepreload",xC=function(n){return"/static/"+n},Zg={},yC=function(r,i,o){let c=Promise.resolve();if(i&&i.length>0){let g=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");c=g(i.map(p=>{if(p=xC(p),p in Zg)return;Zg[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const N=document.createElement("link");if(N.rel=y?"stylesheet":gC,y||(N.as="script"),N.crossOrigin="",N.href=p,m&&N.setAttribute("nonce",m),document.head.appendChild(N),y)return new Promise((E,w)=>{N.addEventListener("load",E),N.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return c.then(h=>{for(const m of h||[])m.status==="rejected"&&f(m.reason);return r().catch(f)})};function Qg(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,o=Array(r);i<r;i++)o[i]=n[i];return o}function bC(n){if(Array.isArray(n))return n}function vC(n,r,i){return(r=AC(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function wC(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,f,h,m=[],g=!0,p=!1;try{if(f=(i=i.call(n)).next,r!==0)for(;!(g=(o=f.call(i)).done)&&(m.push(o.value),m.length!==r);g=!0);}catch(y){p=!0,c=y}finally{try{if(!g&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(p)throw c}}return m}}function SC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kg(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function Fg(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Kg(Object(i),!0).forEach(function(o){vC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Kg(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function NC(n,r){if(n==null)return{};var i,o,c=EC(n,r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);for(o=0;o<f.length;o++)i=f[o],r.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(c[i]=n[i])}return c}function EC(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}function jC(n,r){return bC(n)||wC(n,r)||_C(n,r)||SC()}function CC(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function AC(n){var r=CC(n,"string");return typeof r=="symbol"?r:r+""}function _C(n,r){if(n){if(typeof n=="string")return Qg(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Qg(n,r):void 0}}function OC(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function Jg(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function Pg(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Jg(Object(i),!0).forEach(function(o){OC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Jg(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function TC(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(o){return r.reduceRight(function(c,f){return f(c)},o)}}function ii(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function ps(n){return{}.toString.call(n).includes("Object")}function MC(n){return!Object.keys(n).length}function gi(n){return typeof n=="function"}function DC(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function kC(n,r){return ps(r)||_l("changeType"),Object.keys(r).some(function(i){return!DC(n,i)})&&_l("changeField"),r}function RC(n){gi(n)||_l("selectorType")}function zC(n){gi(n)||ps(n)||_l("handlerType"),ps(n)&&Object.values(n).some(function(r){return!gi(r)})&&_l("handlersType")}function LC(n){n||_l("initialIsRequired"),ps(n)||_l("initialType"),MC(n)&&_l("initialContent")}function VC(n,r){throw new Error(n[r]||n.default)}var BC={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},_l=ii(VC)(BC),qo={changes:kC,selector:RC,handler:zC,initial:LC};function HC(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};qo.initial(n),qo.handler(r);var i={current:n},o=ii(YC)(i,r),c=ii(IC)(i),f=ii(qo.changes)(n),h=ii(UC)(i);function m(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return qo.selector(p),p(i.current)}function g(p){TC(o,c,f,h)(p)}return[m,g]}function UC(n,r){return gi(r)?r(n.current):r}function IC(n,r){return n.current=Pg(Pg({},n.current),r),r}function YC(n,r,i){return gi(r)?r(n.current):Object.keys(i).forEach(function(o){var c;return(c=r[o])===null||c===void 0?void 0:c.call(r,n.current[o])}),i}var qC={create:HC},GC={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function XC(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function $C(n){return{}.toString.call(n).includes("Object")}function WC(n){return n||ex("configIsRequired"),$C(n)||ex("configType"),n.urls?(ZC(),{paths:{vs:n.urls.monacoBase}}):n}function ZC(){console.warn(lb.deprecation)}function QC(n,r){throw new Error(n[r]||n.default)}var lb={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ex=XC(QC)(lb),KC={config:WC},FC=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(c){return i.reduceRight(function(f,h){return h(f)},c)}};function ab(n,r){return Object.keys(r).forEach(function(i){r[i]instanceof Object&&n[i]&&Object.assign(r[i],ab(n[i],r[i]))}),Fg(Fg({},n),r)}var JC={type:"cancelation",msg:"operation is manually canceled"};function Ku(n){var r=!1,i=new Promise(function(o,c){n.then(function(f){return r?c(JC):o(f)}),n.catch(c)});return i.cancel=function(){return r=!0},i}var PC=["monaco"],eA=qC.create({config:GC,isInitialized:!1,resolve:null,reject:null,monaco:null}),rb=jC(eA,2),Si=rb[0],bs=rb[1];function tA(n){var r=KC.config(n),i=r.monaco,o=NC(r,PC);bs(function(c){return{config:ab(c.config,o),monaco:i}})}function nA(){var n=Si(function(r){var i=r.monaco,o=r.isInitialized,c=r.resolve;return{monaco:i,isInitialized:o,resolve:c}});if(!n.isInitialized){if(bs({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Ku(Fu);if(window.monaco&&window.monaco.editor)return ib(window.monaco),n.resolve(window.monaco),Ku(Fu);FC(lA,rA)(iA)}return Ku(Fu)}function lA(n){return document.body.appendChild(n)}function aA(n){var r=document.createElement("script");return n&&(r.src=n),r}function rA(n){var r=Si(function(o){var c=o.config,f=o.reject;return{config:c,reject:f}}),i=aA("".concat(r.config.paths.vs,"/loader.js"));return i.onload=function(){return n()},i.onerror=r.reject,i}function iA(){var n=Si(function(i){var o=i.config,c=i.resolve,f=i.reject;return{config:o,resolve:c,reject:f}}),r=window.require;r.config(n.config),r(["vs/editor/editor.main"],function(i){var o=i.m||i;ib(o),n.resolve(o)},function(i){n.reject(i)})}function ib(n){Si().monaco||bs({monaco:n})}function oA(){return Si(function(n){var r=n.monaco;return r})}var Fu=new Promise(function(n,r){return bs({resolve:n,reject:r})}),ob={config:tA,init:nA,__getMonacoInstance:oA},sA={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Ju=sA,cA={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},uA=cA;function fA({children:n}){return Sn.createElement("div",{style:uA.container},n)}var dA=fA,hA=dA;function mA({width:n,height:r,isEditorReady:i,loading:o,_ref:c,className:f,wrapperProps:h}){return Sn.createElement("section",{style:{...Ju.wrapper,width:n,height:r},...h},!i&&Sn.createElement(hA,null,o),Sn.createElement("div",{ref:c,style:{...Ju.fullWidth,...!i&&Ju.hide},className:f}))}var pA=mA,sb=z.memo(pA);function gA(n){z.useEffect(n,[])}var cb=gA;function xA(n,r,i=!0){let o=z.useRef(!0);z.useEffect(o.current||!i?()=>{o.current=!1}:n,r)}var Kt=xA;function si(){}function Ka(n,r,i,o){return yA(n,o)||bA(n,r,i,o)}function yA(n,r){return n.editor.getModel(ub(n,r))}function bA(n,r,i,o){return n.editor.createModel(r,i,o?ub(n,o):void 0)}function ub(n,r){return n.Uri.parse(r)}function vA({original:n,modified:r,language:i,originalLanguage:o,modifiedLanguage:c,originalModelPath:f,modifiedModelPath:h,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:g=!1,theme:p="light",loading:y="Loading...",options:b={},height:N="100%",width:E="100%",className:w,wrapperProps:v={},beforeMount:j=si,onMount:A=si}){let[_,W]=z.useState(!1),[$,H]=z.useState(!0),U=z.useRef(null),Y=z.useRef(null),I=z.useRef(null),F=z.useRef(A),ne=z.useRef(j),ue=z.useRef(!1);cb(()=>{let le=ob.init();return le.then(D=>(Y.current=D)&&H(!1)).catch(D=>D?.type!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>U.current?Q():le.cancel()}),Kt(()=>{if(U.current&&Y.current){let le=U.current.getOriginalEditor(),D=Ka(Y.current,n||"",o||i||"text",f||"");D!==le.getModel()&&le.setModel(D)}},[f],_),Kt(()=>{if(U.current&&Y.current){let le=U.current.getModifiedEditor(),D=Ka(Y.current,r||"",c||i||"text",h||"");D!==le.getModel()&&le.setModel(D)}},[h],_),Kt(()=>{let le=U.current.getModifiedEditor();le.getOption(Y.current.editor.EditorOption.readOnly)?le.setValue(r||""):r!==le.getValue()&&(le.executeEdits("",[{range:le.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),le.pushUndoStop())},[r],_),Kt(()=>{U.current?.getModel()?.original.setValue(n||"")},[n],_),Kt(()=>{let{original:le,modified:D}=U.current.getModel();Y.current.editor.setModelLanguage(le,o||i||"text"),Y.current.editor.setModelLanguage(D,c||i||"text")},[i,o,c],_),Kt(()=>{Y.current?.editor.setTheme(p)},[p],_),Kt(()=>{U.current?.updateOptions(b)},[b],_);let ce=z.useCallback(()=>{if(!Y.current)return;ne.current(Y.current);let le=Ka(Y.current,n||"",o||i||"text",f||""),D=Ka(Y.current,r||"",c||i||"text",h||"");U.current?.setModel({original:le,modified:D})},[i,r,c,n,o,f,h]),oe=z.useCallback(()=>{!ue.current&&I.current&&(U.current=Y.current.editor.createDiffEditor(I.current,{automaticLayout:!0,...b}),ce(),Y.current?.editor.setTheme(p),W(!0),ue.current=!0)},[b,p,ce]);z.useEffect(()=>{_&&F.current(U.current,Y.current)},[_]),z.useEffect(()=>{!$&&!_&&oe()},[$,_,oe]);function Q(){let le=U.current?.getModel();m||le?.original?.dispose(),g||le?.modified?.dispose(),U.current?.dispose()}return Sn.createElement(sb,{width:E,height:N,isEditorReady:_,loading:y,_ref:I,className:w,wrapperProps:v})}var wA=vA;z.memo(wA);function SA(n){let r=z.useRef();return z.useEffect(()=>{r.current=n},[n]),r.current}var NA=SA,Go=new Map;function EA({defaultValue:n,defaultLanguage:r,defaultPath:i,value:o,language:c,path:f,theme:h="light",line:m,loading:g="Loading...",options:p={},overrideServices:y={},saveViewState:b=!0,keepCurrentModel:N=!1,width:E="100%",height:w="100%",className:v,wrapperProps:j={},beforeMount:A=si,onMount:_=si,onChange:W,onValidate:$=si}){let[H,U]=z.useState(!1),[Y,I]=z.useState(!0),F=z.useRef(null),ne=z.useRef(null),ue=z.useRef(null),ce=z.useRef(_),oe=z.useRef(A),Q=z.useRef(),le=z.useRef(o),D=NA(f),M=z.useRef(!1),k=z.useRef(!1);cb(()=>{let C=ob.init();return C.then(V=>(F.current=V)&&I(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>ne.current?K():C.cancel()}),Kt(()=>{let C=Ka(F.current,n||o||"",r||c||"",f||i||"");C!==ne.current?.getModel()&&(b&&Go.set(D,ne.current?.saveViewState()),ne.current?.setModel(C),b&&ne.current?.restoreViewState(Go.get(f)))},[f],H),Kt(()=>{ne.current?.updateOptions(p)},[p],H),Kt(()=>{!ne.current||o===void 0||(ne.current.getOption(F.current.editor.EditorOption.readOnly)?ne.current.setValue(o):o!==ne.current.getValue()&&(k.current=!0,ne.current.executeEdits("",[{range:ne.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),ne.current.pushUndoStop(),k.current=!1))},[o],H),Kt(()=>{let C=ne.current?.getModel();C&&c&&F.current?.editor.setModelLanguage(C,c)},[c],H),Kt(()=>{m!==void 0&&ne.current?.revealLine(m)},[m],H),Kt(()=>{F.current?.editor.setTheme(h)},[h],H);let ae=z.useCallback(()=>{if(!(!ue.current||!F.current)&&!M.current){oe.current(F.current);let C=f||i,V=Ka(F.current,o||n||"",r||c||"",C||"");ne.current=F.current?.editor.create(ue.current,{model:V,automaticLayout:!0,...p},y),b&&ne.current.restoreViewState(Go.get(C)),F.current.editor.setTheme(h),m!==void 0&&ne.current.revealLine(m),U(!0),M.current=!0}},[n,r,i,o,c,f,p,y,b,h,m]);z.useEffect(()=>{H&&ce.current(ne.current,F.current)},[H]),z.useEffect(()=>{!Y&&!H&&ae()},[Y,H,ae]),le.current=o,z.useEffect(()=>{H&&W&&(Q.current?.dispose(),Q.current=ne.current?.onDidChangeModelContent(C=>{k.current||W(ne.current.getValue(),C)}))},[H,W]),z.useEffect(()=>{if(H){let C=F.current.editor.onDidChangeMarkers(V=>{let P=ne.current.getModel()?.uri;if(P&&V.find(ie=>ie.path===P.path)){let ie=F.current.editor.getModelMarkers({resource:P});$?.(ie)}});return()=>{C?.dispose()}}return()=>{}},[H,$]);function K(){Q.current?.dispose(),N?b&&Go.set(f,ne.current.saveViewState()):ne.current.getModel()?.dispose(),ne.current.dispose()}return Sn.createElement(sb,{width:E,height:w,isEditorReady:H,loading:g,_ref:ue,className:v,wrapperProps:j})}var jA=EA,CA=z.memo(jA),AA=CA;const fb=T("flex flex-col h-full"),db=T("flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-surface-2"),hb=T("text-sm font-medium text-text-secondary"),_A=T("text-xs text-accent-blue animate-pulse"),mb=T("flex-1 overflow-hidden"),OA=z.lazy(()=>yC(()=>import("./LiteEditor-Di9Sivpc.js"),[]).then(n=>({default:n.LiteEditor})));function TA(){return d.jsxs("div",{className:L(fb()),children:[d.jsx("div",{className:db(),children:d.jsx("span",{className:hb(),children:"Editor"})}),d.jsx("div",{className:L(mb(),"flex items-center justify-center"),children:d.jsx("span",{className:"text-text-muted text-sm",children:"Loading editor..."})})]})}function MA({className:n,lite:r=!1}){const{source:i,setSource:o,isParsing:c}=lt(),{theme:f}=Wx();if(r)return d.jsx(z.Suspense,{fallback:d.jsx(TA,{}),children:d.jsx(OA,{className:n,value:i,onChange:o,isParsing:c})});const h=z.useRef(null),m=z.useRef(null);z.useEffect(()=>{const p=y=>{const b=h.current;if(b){const N=y.detail.line;b.revealLineInCenter(N),b.setPosition({lineNumber:N,column:1}),b.focus(),b.deltaDecorations([],[{range:{startLineNumber:N,startColumn:1,endLineNumber:N,endColumn:1},options:{isWholeLine:!0,className:"highlighted-line",glyphMarginClassName:"highlighted-glyph"}}])}};return window.addEventListener("lexflow:goto-line",p),()=>{window.removeEventListener("lexflow:goto-line",p)}},[]),z.useEffect(()=>{if(m.current&&h.current){const p=m.current,y=f==="light"?"lexflow-light":"lexflow-dark";p.editor.setTheme(y)}},[f]);const g=(p,y)=>{h.current=p,m.current=y,y.editor.defineTheme("lexflow-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1e1e1e","editor.lineHighlightBackground":"#2d2d2d"}}),y.editor.defineTheme("lexflow-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#fafafa","editor.lineHighlightBackground":"#f0f0f0"}});const b=f==="light"?"lexflow-light":"lexflow-dark";y.editor.setTheme(b)};return d.jsxs("div",{className:L(fb(),n),children:[d.jsxs("div",{className:db(),children:[d.jsx("span",{className:hb(),children:"Editor"}),c&&d.jsx("span",{className:_A(),children:"Parsing..."})]}),d.jsx("div",{className:mb(),children:d.jsx(AA,{height:"100%",language:"yaml",theme:f==="light"?"lexflow-light":"lexflow-dark",value:i,onChange:p=>o(p||""),onMount:g,options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0}})})]})}const DA=T("absolute inset-0 flex items-center justify-center bg-black/60 z-[100] backdrop-blur-sm"),kA=T("bg-surface-1 border border-border-default rounded-sm p-6 min-w-[300px] max-w-[400px] shadow-xl"),Pu=T("block text-sm text-text-primary mb-4 leading-relaxed"),RA=T("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 transition-colors focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue/20"),zA=T("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 cursor-pointer transition-colors focus:outline-none focus:border-accent-blue"),ef=T("flex gap-3 justify-end"),tf=T("px-5 py-2.5 bg-accent-blue border-none rounded-sm text-surface-0 font-medium text-sm cursor-pointer transition-all hover:brightness-110 focus:outline-none focus:ring-1 focus:ring-accent-blue/30"),LA=T("px-5 py-2.5 bg-transparent border border-border-default rounded-sm text-text-secondary font-medium text-sm cursor-pointer transition-colors hover:bg-surface-2 hover:text-text-primary"),VA=T("flex justify-center"),BA=T("px-8 py-3 bg-accent-blue border-none rounded-sm text-white font-semibold text-base cursor-pointer transition-all shadow-lg hover:brightness-110 hover:-translate-y-px focus:outline-none focus:ring-1 focus:ring-accent-blue/30");function HA({prompt:n,onSubmit:r}){const[i,o]=z.useState(""),[c,f]=z.useState(n.options?.[0]||""),h=z.useRef(null);z.useEffect(()=>{n.type==="input"&&h.current&&h.current.focus()},[n.type]),z.useEffect(()=>{o(""),n.options?.length&&f(n.options[0])},[n]);const m=b=>{b.preventDefault(),r(i)},g=b=>{b.preventDefault(),r(c)},p=b=>{r(b)},y=b=>{b.key==="Escape"&&n.type==="confirm"&&r(!1)};return d.jsx("div",{className:L(DA()),onKeyDown:y,role:"presentation",children:d.jsxs("div",{className:L(kA()),role:"dialog","aria-modal":"true","aria-labelledby":"prompt-label",children:[n.type==="input"&&d.jsxs("form",{onSubmit:m,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-input",className:L(Pu()),children:n.prompt||"Enter a value:"}),d.jsx("input",{ref:h,id:"prompt-input",type:"text",value:i,onChange:b=>o(b.target.value),className:L(RA()),placeholder:"Type here..."}),d.jsx("div",{className:L(ef()),children:d.jsx("button",{type:"submit",className:L(tf()),children:"Submit"})})]}),n.type==="select"&&d.jsxs("form",{onSubmit:g,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-select",className:L(Pu()),children:n.prompt||"Select an option:"}),d.jsx("select",{id:"prompt-select",value:c,onChange:b=>f(b.target.value),className:L(zA()),children:n.options?.map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx("div",{className:L(ef()),children:d.jsx("button",{type:"submit",className:L(tf()),children:"Select"})})]}),n.type==="confirm"&&d.jsxs("div",{children:[d.jsx("p",{id:"prompt-label",className:L(Pu()),children:n.message||n.prompt||"Are you sure?"}),d.jsxs("div",{className:L(ef()),children:[d.jsx("button",{className:L(LA()),onClick:()=>p(!1),children:"No"}),d.jsx("button",{className:L(tf()),onClick:()=>p(!0),autoFocus:!0,children:"Yes"})]})]}),n.type==="button"&&d.jsx("div",{className:L(VA()),children:d.jsx("button",{id:"prompt-label",className:L(BA()),onClick:()=>r(!0),autoFocus:!0,children:n.label||"Click"})})]})})}const UA=T("flex flex-col relative min-h-[100px] max-h-[600px]"),IA=T("absolute top-0 left-0 right-0 h-1.5 cursor-ns-resize bg-transparent z-10 transition-colors hover:bg-accent-blue/50",{variants:{isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{isResizing:!1}}),YA=T("flex items-center justify-between px-3 py-1.5 border-b border-border-subtle bg-surface-1"),qA=T("flex items-center gap-2"),GA=T("text-sm font-medium text-text-secondary"),XA=T("w-1.5 h-1.5 rounded-full",{variants:{status:{idle:"bg-text-muted",running:"bg-accent-green animate-pulse",error:"bg-accent-red"}},defaultVariants:{status:"idle"}}),$A=T("flex items-center gap-1"),tx=T("w-px h-5 bg-border-subtle mx-1"),nx=T("h-7 px-2.5 bg-transparent border border-border-subtle rounded-sm text-text-muted text-xs font-medium cursor-pointer transition-colors hover:text-text-primary hover:border-text-muted",{variants:{active:{true:"bg-surface-3 text-text-primary border-border-default",false:""}},defaultVariants:{active:!1}}),WA=T("h-7 px-3 flex items-center gap-1.5 bg-accent-green border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110 disabled:opacity-60 disabled:cursor-not-allowed"),ZA=T("h-7 px-3 flex items-center gap-1.5 bg-accent-red border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110"),lx=T("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),QA=T("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),KA=T("flex items-center gap-3 px-4 py-2 border-b border-border-subtle shrink-0"),FA=T("text-xs text-text-muted"),JA=T("flex items-center gap-1.5"),PA=T("text-xs text-text-secondary"),e_=T("px-2.5 py-1.5 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm w-30 focus:outline-none focus:border-accent-blue"),t_=T("flex items-center gap-2.5 px-4 py-2 border-b border-border-subtle shrink-0"),n_=T("flex-1 h-1.5 bg-surface-3 rounded-none overflow-hidden"),l_=T("h-full bg-accent-blue transition-[width] duration-200"),a_=T("text-xs text-text-muted whitespace-nowrap"),r_=T("flex-1 flex overflow-hidden"),ax=T("flex-1 flex flex-col overflow-hidden min-w-[200px]"),rx=T("flex items-center px-4 py-1.5 bg-surface-2 border-b border-border-subtle text-xs font-medium text-text-muted uppercase tracking-wide"),ix=T("flex-1 p-4 overflow-auto"),i_=T("w-px bg-border-subtle cursor-col-resize shrink-0 hover:bg-accent-blue"),o_=T("flex-1 flex items-center justify-center text-text-muted text-sm"),ox=T("text-text-muted text-sm italic"),s_=T("font-mono text-sm text-text-secondary whitespace-pre-wrap break-words"),c_=T("text-accent-red text-sm"),u_=T("flex gap-2 mt-2 pt-2 border-t border-border-subtle"),f_=T("text-xs text-text-muted"),d_=T("font-mono text-sm text-accent-green"),h_=T("text-accent-blue animate-blink"),m_=T("absolute bottom-3 right-3 flex flex-col gap-2 max-w-[300px] z-50"),p_=T("flex items-center justify-between gap-3 px-4 py-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-primary shadow-lg animate-slide-in-right",{variants:{variant:{info:"border-l-[3px] border-l-accent-blue",success:"border-l-[3px] border-l-accent-green",warning:"border-l-[3px] border-l-accent-amber",error:"border-l-[3px] border-l-accent-red"}},defaultVariants:{variant:"info"}}),g_=T("bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary"),x_=T("p-3 bg-surface-2 rounded-sm text-sm text-text-primary"),y_=T("p-2 text-sm text-text-primary [&_h1]:text-xl [&_h1]:mb-2 [&_h2]:text-lg [&_h2]:mb-1.5 [&_h3]:text-base [&_h3]:mb-1 [&_p]:mb-2 [&_p]:leading-relaxed [&_code]:bg-surface-3 [&_code]:px-1 [&_code]:rounded [&_code]:font-mono [&_code]:text-[0.85em] [&_strong]:text-text-primary"),b_=T("overflow-x-auto"),v_=T("w-full border-collapse text-sm"),w_=T("px-3 py-2 text-left border-b border-border-subtle bg-surface-2 text-text-secondary font-medium"),S_=T("px-3 py-2 text-left border-b border-border-subtle text-text-primary"),N_=T("max-w-full"),E_=T("max-w-full h-auto rounded-sm"),j_=100,C_=600,A_=250;function __({className:n}){const{source:r,tree:i}=lt(),{isExecuting:o,executionOutput:c,executionResult:f,executionError:h,workflowInputs:m,pendingPrompt:g,renderedContent:p,alerts:y,progress:b,removeAlert:N,clearWorkflowInputs:E}=ci(),{toggleExecutionPanel:w}=Ae(),{execute:v,cancel:j,respondToPrompt:A}=_E(),_=z.useRef(null),W=z.useRef(null),[$,H]=z.useState(A_),[U,Y]=z.useState(!1),[I,F]=z.useState(!0),[ne,ue]=z.useState(!0),ce=i?.interface?.inputs||[],oe=JSON.stringify(ce);z.useEffect(()=>{E()},[oe,E]),z.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[c]),z.useEffect(()=>{if(y.length>0){const M=setTimeout(()=>{N(y[0].id)},5e3);return()=>clearTimeout(M)}},[y,N]);const Q=z.useCallback(M=>{M.preventDefault(),Y(!0)},[]);z.useEffect(()=>{if(!U)return;const M=ae=>{if(!W.current)return;const K=W.current.parentElement;if(!K)return;const V=K.getBoundingClientRect().bottom-ae.clientY;H(Math.min(C_,Math.max(j_,V)))},k=()=>{Y(!1)};return document.addEventListener("mousemove",M),document.addEventListener("mouseup",k),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",k)}},[U]);const le=()=>{const M={};for(const k of ce)k in m&&(M[k]=m[k]);v(r,Object.keys(M).length>0?M:void 0)},D=()=>{j()};return d.jsxs("div",{ref:W,className:L(UA(),n),style:{height:`${$}px`},children:[d.jsx("div",{className:IA({isResizing:U}),onMouseDown:Q}),d.jsxs("div",{className:YA(),children:[d.jsxs("div",{className:qA(),children:[d.jsx("span",{className:GA(),children:"Execution"}),d.jsx("span",{className:XA({status:o?"running":h?"error":"idle"})})]}),d.jsxs("div",{className:$A(),children:[d.jsx("button",{className:nx({active:I}),onClick:()=>F(!I),title:"Toggle Preview",children:"Preview"}),d.jsx("button",{className:nx({active:ne}),onClick:()=>ue(!ne),title:"Toggle Console",children:"Console"}),d.jsx("div",{className:tx()}),o?d.jsxs("button",{className:ZA(),onClick:D,children:[d.jsx(Gw,{}),"Stop"]}):d.jsxs("button",{className:WA(),onClick:le,children:[d.jsx(qw,{}),"Run"]}),d.jsx("button",{className:lx(),title:"Step forward (coming soon)",disabled:!0,children:d.jsx(Xw,{})}),d.jsx("button",{className:lx(),onClick:()=>ci.getState().clearExecution(),title:"Clear output",children:d.jsx($w,{})}),d.jsx("div",{className:tx()}),d.jsx("button",{className:QA(),onClick:w,title:"Close panel",children:d.jsx(Ww,{})})]})]}),ce.length>0&&d.jsxs("div",{className:KA(),children:[d.jsx("span",{className:FA(),children:"Inputs:"}),ce.map(M=>d.jsx(O_,{name:M},M))]}),b&&d.jsxs("div",{className:t_(),children:[d.jsx("div",{className:n_(),children:d.jsx("div",{className:l_(),style:{width:`${b.value/b.max*100}%`}})}),b.label&&d.jsx("span",{className:a_(),children:b.label})]}),d.jsxs("div",{className:r_(),children:[I&&d.jsxs("div",{className:ax(),children:[d.jsx("div",{className:rx(),children:d.jsx("span",{children:"Preview"})}),d.jsx("div",{className:ix(),children:p.length>0?p.map((M,k)=>d.jsx(T_,{item:M},k)):d.jsx("div",{className:ox(),children:"No preview content"})})]}),I&&ne&&d.jsx("div",{className:i_()}),ne&&d.jsxs("div",{className:ax(),children:[d.jsx("div",{className:rx(),children:d.jsx("span",{children:"Console"})}),d.jsx("div",{className:ix(),children:h?d.jsx("div",{className:c_(),children:h}):d.jsxs(d.Fragment,{children:[c&&d.jsxs("pre",{ref:_,className:s_(),children:[c,o&&d.jsx("span",{className:h_(),children:"|"})]}),f!==null&&!o&&d.jsxs("div",{className:u_(),children:[d.jsx("span",{className:f_(),children:"Result:"}),d.jsx("code",{className:d_(),children:JSON.stringify(f,null,2)})]}),!c&&!f&&!o&&d.jsx("div",{className:ox(),children:'Click "Run" to execute the workflow'})]})})]}),!I&&!ne&&d.jsx("div",{className:o_(),children:"Toggle Preview or Console to view execution output"})]}),y.length>0&&d.jsx("div",{className:m_(),children:y.map(M=>d.jsx(D_,{alert:M,onDismiss:()=>N(M.id)},M.id))}),g&&d.jsx(HA,{prompt:g,onSubmit:A})]})}function O_({name:n}){const{workflowInputs:r,setWorkflowInput:i}=ci(),o=r[n]??"";return d.jsxs("div",{className:JA(),children:[d.jsxs("label",{className:PA(),children:[n,":"]}),d.jsx("input",{type:"text",value:String(o),onChange:c=>{const f=c.target.value;try{i(n,JSON.parse(f))}catch{i(n,f)}},placeholder:`Enter ${n}`,className:e_()})]})}function T_({item:n}){switch(n.type){case"html":return d.jsx("div",{className:x_(),dangerouslySetInnerHTML:{__html:n.content}});case"markdown":return d.jsx("div",{className:y_(),children:d.jsx(M_,{content:n.content})});case"table":const r=n.content;if(!r.length)return null;const i=Object.keys(r[0]);return d.jsx("div",{className:b_(),children:d.jsxs("table",{className:v_(),children:[d.jsx("thead",{children:d.jsx("tr",{children:i.map(c=>d.jsx("th",{className:w_(),children:c},c))})}),d.jsx("tbody",{children:r.map((c,f)=>d.jsx("tr",{className:"hover:bg-surface-2",children:i.map(h=>d.jsx("td",{className:S_(),children:String(c[h]??"")},h))},f))})]})});case"image":const o=n.content;return d.jsx("div",{className:N_(),children:d.jsx("img",{src:o.src,alt:o.alt,className:E_()})});default:return null}}function M_({content:n}){const r=n.split(`
`),i=[];for(let o=0;o<r.length;o++){const c=r[o];if(c.startsWith("### "))i.push(d.jsx("h3",{children:c.slice(4)},o));else if(c.startsWith("## "))i.push(d.jsx("h2",{children:c.slice(3)},o));else if(c.startsWith("# "))i.push(d.jsx("h1",{children:c.slice(2)},o));else if(c.trim()){const f=c.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,"<code>$1</code>");i.push(d.jsx("p",{dangerouslySetInnerHTML:{__html:f}},o))}else i.push(d.jsx("br",{},o))}return d.jsx(d.Fragment,{children:i})}function D_({alert:n,onDismiss:r}){return d.jsxs("div",{className:p_({variant:n.variant}),children:[d.jsx("span",{children:n.message}),d.jsx("button",{className:g_(),onClick:r,children:""})]})}const xi=T("flex flex-col h-full bg-surface-1"),yi=T("flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-surface-2"),bi=T("text-sm font-semibold text-text-primary"),vi=T("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-3"),Uf=T("flex-1 overflow-y-auto p-4"),k_=T("flex items-center gap-1.5 px-3 py-2 mb-4 bg-surface-2 border border-border-subtle rounded-sm text-accent-blue text-sm cursor-pointer transition-colors w-full hover:bg-surface-3 hover:border-accent-blue"),pb=T("flex items-center justify-center h-full text-text-muted"),If=T("flex gap-3 mb-5 p-3 bg-surface-2 rounded-sm"),Yf=T("w-1 rounded-sm shrink-0"),qf=T("flex-1"),Gf=T("text-[0.7rem] uppercase tracking-wide text-text-muted"),Xf=T("text-base font-semibold text-text-primary my-1"),gb=T("text-xs text-text-muted font-mono bg-transparent border-none cursor-pointer px-1 py-0.5 -mx-1 rounded-sm transition-colors hover:bg-border-subtle hover:text-text-primary"),xb=T("text-sm text-text-secondary leading-relaxed p-3 bg-surface-2 rounded-sm mb-4"),$f=T("mb-3"),Wf=T("block text-xs font-medium text-text-secondary mb-1 uppercase tracking-wide"),R_=T("text-[0.65rem] text-text-muted ml-1.5 px-1.5 py-0.5 bg-border-subtle rounded-sm"),Fa=T("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm font-mono focus:outline-none focus:border-accent-blue read-only:opacity-70 read-only:cursor-not-allowed"),yb=T("flex gap-2 px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-sm",{variants:{editable:{true:"cursor-pointer transition-colors hover:border-accent-blue hover:bg-surface-2",false:""}},defaultVariants:{editable:!1}}),z_=T("px-1.5 py-0.5 bg-border-subtle rounded-sm text-[0.7rem] text-text-muted font-medium shrink-0"),bb=T("text-text-primary font-mono overflow-hidden text-ellipsis whitespace-nowrap"),L_=T("text-[0.65rem] text-text-muted ml-auto opacity-0 transition-opacity group-hover:opacity-100"),xf=T("w-full px-3 py-2 bg-surface-3 border-2 border-accent-blue rounded-sm text-text-primary text-sm font-mono focus:outline-none"),Ft=T("mt-5"),hn=T("text-xs font-semibold text-text-secondary mb-2.5 uppercase tracking-wide"),Ol=T("text-text-muted italic text-sm"),V_=T("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),B_=T("font-medium text-text-primary text-sm"),H_=T("text-text-muted text-xs flex-1"),yf=T("w-5 h-5 flex items-center justify-center bg-transparent border border-accent-red rounded-sm text-accent-red cursor-pointer text-sm font-bold opacity-60 transition-opacity hover:opacity-100 hover:bg-accent-red/10"),bf=T("w-full px-3 py-2 mt-2 bg-transparent border border-dashed border-border-subtle rounded-sm text-text-secondary text-sm cursor-pointer transition-colors hover:border-accent-blue hover:text-accent-blue hover:bg-accent-blue/5"),vb=T("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),wb=T("flex-1 font-medium text-text-primary text-sm font-mono"),Sb=T("flex flex-wrap gap-1.5"),Nb=T("flex items-center gap-1 px-2 py-1 bg-surface-2 rounded-sm text-xs"),Eb=T("text-text-primary font-medium"),jb=T("text-text-muted"),Cb=T("text-text-muted text-[0.7rem]"),Ab=T("flex gap-2 px-4 py-3 border-t border-border-subtle"),Nl=T("flex-1 px-4 py-2 bg-surface-2 border border-border-subtle rounded-sm text-text-primary text-sm cursor-pointer transition-colors hover:bg-surface-3 hover:border-accent-blue disabled:opacity-50 disabled:cursor-not-allowed"),_b=T("flex-1 px-4 py-2 bg-transparent border border-accent-red rounded-sm text-accent-red text-sm cursor-pointer transition-colors hover:bg-accent-red/10 disabled:opacity-50 disabled:cursor-not-allowed"),Ob=T("w-full px-4 py-2 text-sm bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10");function U_({workflowName:n,onClose:r}){const{tree:i,addVariable:o,updateVariable:c,deleteVariable:f,updateWorkflowInterface:h,deleteWorkflow:m}=lt(),{selectStartNode:g}=Wn(),p=i?.workflows.find(K=>K.name===n),[y,b]=z.useState(""),[N,E]=z.useState(""),[w,v]=z.useState(null),[j,A]=z.useState(""),[_,W]=z.useState(""),[$,H]=z.useState(""),[U,Y]=z.useState("");if(!p)return d.jsxs("div",{className:xi(),children:[d.jsxs("div",{className:yi(),children:[d.jsx("span",{className:bi(),children:"Start Node"}),d.jsx("button",{className:vi(),onClick:r,children:""})]}),d.jsx("div",{className:pb(),children:d.jsx("p",{children:"Workflow not found"})})]});const I=()=>{g(null),r()},F=()=>{if(!y.trim())return;const K=cx(N);o(n,y.trim(),K)&&(b(""),E(""))},ne=(K,C)=>{v(K),A(K),W(sx(C))},ue=()=>{if(!w||!j.trim())return;const K=cx(_);c(n,w,j.trim(),K)&&(v(null),A(""),W(""))},ce=()=>{v(null),A(""),W("")},oe=K=>{Ae.getState().showConfirmDialog({title:"Delete Variable",message:`Delete variable "$${K}"?`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>f(n,K)})},Q=()=>{Ae.getState().showConfirmDialog({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${n}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{m(n),I()}})},le=()=>{if(!$.trim())return;const K=[...p.interface.inputs,$.trim()];h(n,K,p.interface.outputs)&&H("")},D=K=>{const C=p.interface.inputs.filter(V=>V!==K);h(n,C,p.interface.outputs)},M=()=>{if(!U.trim())return;const K=[...p.interface.outputs,U.trim()];h(n,p.interface.inputs,K)&&Y("")},k=K=>{const C=p.interface.outputs.filter(V=>V!==K);h(n,p.interface.inputs,C)},ae=Object.entries(p.variables);return d.jsxs("div",{className:xi(),children:[d.jsxs("div",{className:yi(),children:[d.jsx("span",{className:bi(),children:"Start Node"}),d.jsx("button",{className:vi(),onClick:I,children:""})]}),d.jsxs("div",{className:Uf(),children:[d.jsxs("div",{className:If(),children:[d.jsx("div",{className:Yf(),style:{backgroundColor:"#22C55E"}}),d.jsxs("div",{className:qf(),children:[d.jsx("span",{className:Gf(),children:"Workflow"}),d.jsx("h3",{className:Xf(),children:n})]})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Interface Inputs"}),p.interface.inputs.length===0?d.jsx("p",{className:Ol(),children:"No inputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.inputs.map(K=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-blue",children:[K,d.jsx("button",{onClick:()=>D(K),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove input",children:""})]},K))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:L(Fa(),"flex-1"),placeholder:"New input name",value:$,onChange:K=>H(K.target.value),onKeyDown:K=>K.key==="Enter"&&le()}),d.jsx("button",{className:L(Nl(),"flex-none w-auto"),onClick:le,children:"Add"})]})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Interface Outputs"}),p.interface.outputs.length===0?d.jsx("p",{className:Ol(),children:"No outputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.outputs.map(K=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-violet",children:[K,d.jsx("button",{onClick:()=>k(K),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove output",children:""})]},K))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:L(Fa(),"flex-1"),placeholder:"New output name",value:U,onChange:K=>Y(K.target.value),onKeyDown:K=>K.key==="Enter"&&M()}),d.jsx("button",{className:L(Nl(),"flex-none w-auto"),onClick:M,children:"Add"})]})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Variables"}),ae.length===0?d.jsx("p",{className:Ol(),children:"No variables defined"}):d.jsx("div",{className:"mb-2.5",children:ae.map(([K,C])=>d.jsx("div",{className:"mb-2",children:w===K?d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("input",{type:"text",className:xf(),placeholder:"Variable name",value:j,onChange:V=>A(V.target.value)}),d.jsx("input",{type:"text",className:xf(),placeholder:"Default value",value:_,onChange:V=>W(V.target.value),onKeyDown:V=>V.key==="Enter"&&ue()}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("button",{className:L(Nl(),"flex-1"),onClick:ue,children:"Save"}),d.jsx("button",{className:L(Nl(),"flex-1"),onClick:ce,children:"Cancel"})]})]}):d.jsxs("div",{className:L(yb({editable:!0}),"cursor-pointer"),onClick:()=>ne(K,C),children:[d.jsxs("span",{className:"text-accent-green font-mono font-medium",children:["$",K]}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("span",{className:bb(),children:sx(C)}),d.jsx("button",{onClick:V=>{V.stopPropagation(),oe(K)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Delete variable",children:""})]})},K))}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:L(Fa(),"flex-1"),placeholder:"Variable name",value:y,onChange:K=>b(K.target.value)}),d.jsx("input",{type:"text",className:L(Fa(),"flex-1"),placeholder:"Default value",value:N,onChange:K=>E(K.target.value),onKeyDown:K=>K.key==="Enter"&&F()})]}),d.jsx("button",{className:Nl(),onClick:F,children:"Add Variable"})]})]}),n!=="main"&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Danger Zone"}),d.jsx("button",{className:"w-full px-3 py-2 text-sm font-medium bg-accent-red/10 text-accent-red border border-accent-red/30 rounded hover:bg-accent-red/20 transition-colors",onClick:Q,children:"Delete Workflow"})]})]})]})}function sx(n){return n===null?"null":n===void 0?"":typeof n=="string"?n:JSON.stringify(n)}function cx(n){if(!n||n==="")return"";if(n==="null")return null;if(n==="true")return!0;if(n==="false")return!1;try{return JSON.parse(n)}catch{return n}}function I_({className:n}){const{tree:r,source:i,opcodes:o,deleteNode:c,duplicateNode:f,updateNodeInput:h,updateReporterInput:m,deleteReporter:g,addDynamicBranch:p,removeDynamicBranch:y,addDynamicInput:b,removeDynamicInput:N}=lt(),{closeNodeEditor:E}=Ae(),{selectedNodeId:w,selectedReporter:v,selectReporter:j,selectedStartNode:A,selectStartNode:_,clearSelection:W}=Wn(),[$,H]=z.useState(!1);if(A)return d.jsx(U_,{workflowName:A,onClose:()=>{_(null),E()}});const U=w?Cl(w):null,Y=U?$_(r,U):null,I=v?o.find(re=>re.name===v.opcode):Y?o.find(re=>re.name===Y.opcode):null,F=()=>{E(),W()},ne=()=>{U&&(navigator.clipboard.writeText(U),H(!0),setTimeout(()=>H(!1),2e3))},ue=()=>{if(v){const re=`${v.parentNodeId}.${v.inputPath.join(".")}`;navigator.clipboard.writeText(re),H(!0),setTimeout(()=>H(!1),2e3)}},ce=()=>{if(U){const re=i.split(`
`);for(let we=0;we<re.length;we++)if(re[we].includes(U+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:we+1}}));break}}},oe=()=>{if(Y?.opcode==="workflow_call"){const re=Y.inputs.WORKFLOW;if(re&&re.type==="literal"){const we=re.value;we&&(window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:we}})),E())}}},Q=()=>{U&&U!=="start"&&Ae.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${U}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{c(U),E()}})},le=()=>{U&&U!=="start"&&f(U)},D=()=>{j(null)},M=(re,we)=>{if(v&&v.reporterNodeId&&m(v.reporterNodeId,re,we)){const He={...v.inputs};if(we.startsWith("$"))He[re]={type:"variable",name:we.slice(1)};else try{const at=JSON.parse(we);He[re]={type:"literal",value:at}}catch{He[re]={type:"literal",value:we}}j({...v,inputs:He})}},k=()=>{v&&Ae.getState().showConfirmDialog({title:"Detach Reporter",message:"Detach this reporter from its slot? The slot will be set to null. This action can be undone with Ctrl+Z.",confirmLabel:"Detach",variant:"danger",onConfirm:()=>{g(v.parentNodeId,v.inputPath),j(null)}})},ae=()=>{if(v){const re=i.split(`
`);if(v.reporterNodeId){for(let He=0;He<re.length;He++)if(re[He].match(new RegExp(`^\\s+${v.reporterNodeId}:\\s*$`))){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:He+1}}));return}}const we=v.inputPath[v.inputPath.length-1];let Re=!1;for(let He=0;He<re.length;He++){const at=re[He];if(at.includes(v.parentNodeId+":")&&(Re=!0),Re&&at.includes(we+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:He+1}}));break}}}},K=re=>{U&&p(U,re)},C=re=>{U&&y(U,re)},V=re=>{U&&b(U,re)},P=re=>{U&&N(U,re)},ie=()=>{if(v&&v.opcode==="workflow_call"){const re=v.inputs.WORKFLOW;if(re&&re.type==="literal"&&typeof re.value=="string"){const we=re.value;window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:we}})),E()}}},fe=re=>{v?.reporterNodeId&&b(v.reporterNodeId,re)},ye=re=>{v?.reporterNodeId&&N(v.reporterNodeId,re)};if(v)return d.jsx(Y_,{reporter:v,parentNode:Y,opcodeInfo:I,tree:r,copied:$,onCopyPath:ue,onBackToNode:D,onClose:F,onUpdateInput:M,onDetach:k,onFindInSource:ae,onGoToDefinition:v.opcode==="workflow_call"?ie:void 0,onAddDynamicInput:v.reporterNodeId?fe:void 0,onRemoveDynamicInput:v.reporterNodeId?ye:void 0,className:n});if(!Y)return d.jsxs("div",{className:L(xi(),n),children:[d.jsxs("div",{className:yi(),children:[d.jsx("span",{className:bi(),children:"Node Editor"}),d.jsx("button",{className:vi(),onClick:F,children:""})]}),d.jsx("div",{className:pb(),children:d.jsx("p",{children:"Select a node to edit"})})]});const de=Hy(Y.type),Ie=TE[Y.type]||"Node";return d.jsxs("div",{className:L(xi(),n),children:[d.jsxs("div",{className:yi(),children:[d.jsx("span",{className:bi(),children:"Node Editor"}),d.jsx("button",{className:vi(),onClick:F,children:""})]}),d.jsxs("div",{className:Uf(),children:[d.jsxs("div",{className:If(),children:[d.jsx("div",{className:Yf(),style:{backgroundColor:de}}),d.jsxs("div",{className:qf(),children:[d.jsx("span",{className:Gf(),children:Ie}),d.jsx("h3",{className:Xf(),children:Zf(Y.opcode)}),d.jsx("button",{className:gb(),onClick:ne,title:"Copy node ID",children:$?" Copied!":`ID: ${Y.id}`})]})]}),I?.description&&d.jsx("div",{className:xb(),children:I.description}),d.jsxs("div",{className:$f(),children:[d.jsx("label",{className:Wf(),children:"Opcode"}),d.jsx("input",{type:"text",value:Y.opcode,readOnly:!0,className:Fa()})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Inputs"}),Object.entries(Y.inputs).length===0?d.jsx("p",{className:Ol(),children:"No inputs"}):Object.entries(Y.inputs).map(([re,we])=>d.jsx(Tb,{name:hs(re,Y.opcode,r,Y.inputs),originalKey:re,value:we,paramInfo:I?.parameters.find(Re=>Re.name.toUpperCase()===re),onUpdate:(Re,He)=>h(U,Re,He)},re))]}),Y.opcode==="workflow_call"&&d.jsx("div",{className:Ft(),children:d.jsx("button",{className:Ob(),onClick:oe,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),I&&I.parameters.length>0&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Parameters"}),d.jsx("div",{className:Sb(),children:I.parameters.map(re=>d.jsxs("div",{className:Nb(),children:[d.jsxs("span",{className:Eb(),children:[re.name,!re.required&&d.jsx("span",{className:jb(),children:"?"})]}),d.jsx("span",{className:Cb(),children:re.type})]},re.name))})]}),(()=>{const re=wi(Y.opcode),we=re?.dynamic_branches,Re=re?.dynamic_inputs,He=re?.branches&&re.branches.length>0;let at=null;if(we&&re?.branches)for(const _e of re.branches){const yt=_e.name.match(/^([A-Z]+)\d+$/);if(yt){at=yt[1];break}}const At=Y.children.filter(_e=>at&&_e.name.startsWith(at)).map(_e=>_e.name),mn=Object.keys(Y.inputs).filter(_e=>/^ARG\d+$/.test(_e)).sort((_e,yt)=>{const It=parseInt(_e.replace("ARG","")),se=parseInt(yt.replace("ARG",""));return It-se}),pn=Y.children.length>0||we;return d.jsxs(d.Fragment,{children:[pn&&He&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Branches"}),Y.children.length===0&&we?d.jsx("p",{className:Ol(),children:"No branches connected"}):Y.children.map((_e,yt)=>{const se=at&&_e.name.startsWith(at)&&At.length>1;return d.jsxs("div",{className:V_(),children:[d.jsx("span",{className:B_(),children:_e.name}),d.jsxs("span",{className:H_(),children:[_e.children.length," node(s)"]}),se&&d.jsx("button",{className:yf(),onClick:()=>C(_e.name),title:`Remove ${_e.name}`,children:""})]},yt)}),we&&at&&d.jsxs("button",{className:bf(),onClick:()=>K(at),children:["+ Add ",at==="CATCH"?"Catch Handler":"Branch"]})]}),Re&&Y.opcode==="workflow_call"&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Arguments"}),mn.length===0?d.jsx("p",{className:Ol(),children:"No arguments"}):mn.map(_e=>d.jsxs("div",{className:vb(),children:[d.jsx("span",{className:wb(),children:_e}),d.jsx("button",{className:yf(),onClick:()=>P(_e),title:`Remove ${_e}`,children:""})]},_e)),d.jsx("button",{className:bf(),onClick:()=>V("ARG"),children:"+ Add Argument"})]})]})})()]}),d.jsxs("div",{className:Ab(),children:[d.jsx("button",{className:Nl(),onClick:ce,children:"Find in Source"}),d.jsx("button",{className:Nl(),onClick:le,disabled:U==="start",title:U==="start"?"Cannot duplicate start node":"Duplicate node (Ctrl+D)",children:"Duplicate"}),d.jsx("button",{className:_b(),onClick:Q,disabled:U==="start",title:U==="start"?"Cannot delete start node":"Delete node (Del)",children:"Delete"})]})]})}function Y_({reporter:n,parentNode:r,opcodeInfo:i,tree:o,copied:c,onCopyPath:f,onBackToNode:h,onClose:m,onUpdateInput:g,onDetach:p,onFindInSource:y,onGoToDefinition:b,onAddDynamicInput:N,onRemoveDynamicInput:E,className:w}){const v=G_(n.opcode),j=X_(n.opcode),A=n.opcode==="workflow_call",_=Object.keys(n.inputs).filter(H=>/^ARG\d+$/.test(H)).sort((H,U)=>{const Y=parseInt(H.replace("ARG","")),I=parseInt(U.replace("ARG",""));return Y-I}),$=wi(n.opcode)?.dynamic_inputs;return d.jsxs("div",{className:L(xi(),w),children:[d.jsxs("div",{className:yi(),children:[d.jsx("span",{className:bi(),children:"Node Editor"}),d.jsx("button",{className:vi(),onClick:m,children:""})]}),d.jsxs("div",{className:Uf(),children:[r&&d.jsxs("button",{className:k_(),onClick:h,children:[" Back to ",r.id]}),d.jsxs("div",{className:If(),children:[d.jsx("div",{className:Yf(),style:{backgroundColor:v}}),d.jsxs("div",{className:qf(),children:[d.jsx("span",{className:Gf(),children:j}),d.jsx("h3",{className:Xf(),children:Zf(n.opcode)}),d.jsx("button",{className:gb(),onClick:f,title:"Copy reporter ID",children:c?" Copied!":`ID: ${n.reporterNodeId||n.inputPath.join(".")}`})]})]}),i?.description&&d.jsx("div",{className:xb(),children:i.description}),d.jsxs("div",{className:$f(),children:[d.jsx("label",{className:Wf(),children:"Opcode"}),d.jsx("input",{type:"text",value:n.opcode,readOnly:!0,className:Fa()})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Inputs"}),Object.entries(n.inputs).length===0?d.jsx("p",{className:Ol(),children:"No inputs"}):Object.entries(n.inputs).map(([H,U])=>d.jsx(Tb,{name:hs(H,n.opcode,o,n.inputs),originalKey:H,value:U,paramInfo:i?.parameters.find(Y=>Y.name.toUpperCase()===H),onUpdate:g},H))]}),A&&b&&d.jsx("div",{className:Ft(),children:d.jsx("button",{className:Ob(),onClick:b,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),i&&i.parameters.length>0&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Parameters"}),d.jsx("div",{className:Sb(),children:i.parameters.map(H=>d.jsxs("div",{className:Nb(),children:[d.jsxs("span",{className:Eb(),children:[H.name,!H.required&&d.jsx("span",{className:jb(),children:"?"})]}),d.jsx("span",{className:Cb(),children:H.type})]},H.name))})]}),$&&A&&N&&E&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:hn(),children:"Arguments"}),_.length===0?d.jsx("p",{className:Ol(),children:"No arguments"}):_.map(H=>d.jsxs("div",{className:vb(),children:[d.jsx("span",{className:wb(),children:hs(H,n.opcode,o,n.inputs)}),d.jsx("button",{className:yf(),onClick:()=>E(H),title:`Remove ${H}`,children:""})]},H)),d.jsx("button",{className:bf(),onClick:()=>N("ARG"),children:"+ Add Argument"})]})]}),d.jsxs("div",{className:Ab(),children:[d.jsx("button",{className:Nl(),onClick:y,children:"Find in Source"}),d.jsx("button",{className:_b(),onClick:p,title:"Detach reporter from slot (replace with null)",children:"Detach"})]})]})}function Tb({name:n,originalKey:r,value:i,paramInfo:o,onUpdate:c}){const f=r||n,[h,m]=z.useState(!1),[g,p]=z.useState(""),y=q_(i),b=j=>{switch(j.type){case"literal":return typeof j.value=="string"?j.value:JSON.stringify(j.value);case"variable":return`$${j.name}`;default:return y}},N=()=>{(i.type==="literal"||i.type==="variable")&&(p(b(i)),m(!0))},E=()=>{c&&g!==b(i)&&c(f,g),m(!1)},w=j=>{j.key==="Enter"?E():j.key==="Escape"&&m(!1)},v=i.type==="literal"||i.type==="variable";return d.jsxs("div",{className:$f(),children:[d.jsxs("label",{className:Wf(),children:[n,o&&d.jsx("span",{className:R_(),children:o.type})]}),h?d.jsx("input",{type:"text",className:xf(),value:g,onChange:j=>p(j.target.value),onBlur:E,onKeyDown:w,autoFocus:!0}):d.jsxs("div",{className:L(yb({editable:v}),"group"),onClick:N,title:v?"Click to edit":void 0,children:[d.jsx("span",{className:z_(),children:i.type}),d.jsx("span",{className:bb(),children:y}),v&&d.jsx("span",{className:L_(),children:"Click to edit"})]})]})}function q_(n){switch(n.type){case"literal":return typeof n.value=="string"?`"${n.value}"`:typeof n.value=="object"&&n.value!==null?JSON.stringify(n.value,null,2):String(n.value);case"variable":return`$${n.name}`;case"reporter":return`${Zf(n.opcode||"")}(...)`;case"workflow_call":return` ${n.name}`;case"branch":return` ${n.target}`;case"dict":return JSON.stringify(n.value,null,2);case"truncated":return n.display||"...";default:return"?"}}function Zf(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function G_(n){return Uy(n)}function X_(n){const r=RN(n);return r?`${r.label} Reporter`:"Reporter"}function $_(n,r){if(!n)return null;function i(o){for(const c of o){if(c.id===r)return c;if(c.children)for(const f of c.children){const h=i(f.children);if(h)return h}}return null}for(const o of n.workflows||[]){const c=i(o.children||[]);if(c)return c;const f=i(o.orphans||[]);if(f)return f}return null}const W_=T("flex flex-col h-full"),Z_=T("flex items-center justify-between px-4 py-4 border-b border-border-subtle"),Q_=T("text-base font-semibold text-text-primary"),K_=T("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),F_=T("px-4 py-3 border-b border-border-subtle"),J_=T("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm focus:outline-none focus:border-accent-blue placeholder:text-text-muted"),P_=T("flex-1 overflow-y-auto py-2"),eO=T("px-4"),tO=T("text-text-muted text-center py-5 italic"),Xo=T("border-b border-border-subtle"),$o=T("w-full flex items-center gap-2 px-4 py-2.5 bg-transparent border-none cursor-pointer text-left text-text-primary transition-colors hover:bg-surface-2"),Wo=T("text-base"),Zo=T("flex-1 text-sm font-medium"),Qo=T("text-xs text-text-muted px-1.5 py-0.5 bg-border-subtle rounded-sm"),Ko=T("text-[0.7rem] text-text-muted"),Fo=T("py-1 pb-2 bg-surface-2"),nO=T("mx-2"),lO=T("w-full flex flex-col items-start gap-0.5 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-pointer mb-1 transition-all hover:border-accent-blue hover:translate-x-0.5"),aO=T("text-sm font-medium text-text-primary"),rO=T("text-[0.7rem] text-text-muted font-mono"),iO=T("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),oO=T("text-xs text-text-secondary mb-2 leading-relaxed"),sO=T("flex flex-wrap gap-1.5 items-center"),Mb=T("text-[0.7rem] text-text-muted uppercase tracking-wide"),cO=T("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),uO=T("text-text-muted"),fO=T("flex items-center gap-2 px-3 py-2 mx-2 mb-1 bg-surface-1 border border-border-subtle rounded-sm cursor-grab transition-all hover:border-accent-green hover:translate-x-0.5 active:cursor-grabbing"),dO=T("text-sm font-semibold text-accent-green font-mono"),hO=T("text-xs text-text-muted font-mono"),mO=T("text-[0.7rem] text-text-muted ml-auto"),pO=T("px-4 py-3 text-xs text-text-muted italic text-center"),gO=T("mx-2"),xO=T("w-full flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-grab mb-1 transition-all hover:border-accent-violet hover:translate-x-0.5 active:cursor-grabbing"),yO=T("text-sm font-semibold text-accent-violet font-mono"),bO=T("text-xs text-text-muted ml-auto"),vO=T("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),wO=T("flex flex-col gap-1 mb-2"),SO=T("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),NO=T("text-xs text-text-muted italic mb-2"),EO=T("w-full px-3 py-1.5 text-xs bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),jO=T("px-4 py-3 border-t border-border-subtle"),CO=T("text-xs text-text-muted text-center");function AO({className:n}){const{opcodes:r,tree:i}=lt(),{togglePalette:o,setDraggingVariable:c,setDraggingWorkflowCall:f}=Ae(),[h,m]=z.useState(""),[g,p]=z.useState("variables"),y=kN(),b=z.useMemo(()=>pE(i),[i]),N=z.useMemo(()=>{if(!i)return[];const v=[];for(const j of i.workflows)for(const[A,_]of Object.entries(j.variables))v.push({name:A,value:_,workflowName:j.name});return v},[i]),E=z.useMemo(()=>{const v={};for(const j of y)v[j.id]=[];v.other=[];for(const j of r)j.category&&v[j.category]?v[j.category].push(j):v.other.push(j);return v},[r,y]),w=z.useMemo(()=>{if(!h)return null;const v=h.toLowerCase();return r.filter(j=>j.name.toLowerCase().includes(v)||(j.description?.toLowerCase().includes(v)??!1))},[r,h]);return d.jsxs("div",{className:L(W_(),n),children:[d.jsxs("div",{className:Z_(),children:[d.jsx("h2",{className:Q_(),children:"Node Palette"}),d.jsx("button",{className:K_(),onClick:o,children:""})]}),d.jsx("div",{className:F_(),children:d.jsx("input",{type:"text",placeholder:"Search nodes...",value:h,onChange:v=>m(v.target.value),className:J_()})}),d.jsx("div",{className:P_(),children:w?d.jsx("div",{className:eO(),children:w.length===0?d.jsx("p",{className:tO(),children:"No nodes found"}):w.map(v=>d.jsx(nf,{opcode:v},v.name))}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:$o(),onClick:()=>p(g==="variables"?null:"variables"),style:{"--cat-color":"#22C55E"},children:[d.jsx("span",{className:Wo(),children:"$"}),d.jsx("span",{className:Zo(),children:"Variables"}),d.jsx("span",{className:Qo(),children:N.length}),d.jsx("span",{className:Ko(),children:g==="variables"?"":""})]}),g==="variables"&&d.jsx("div",{className:Fo(),children:N.length===0?d.jsx("div",{className:pO(),children:"No variables defined. Add variables in the Start Node editor."}):N.map(v=>d.jsx(_O,{name:v.name,value:v.value,workflowName:v.workflowName,onDragStart:c,onDragEnd:()=>c(null)},`${v.workflowName}-${v.name}`))})]}),b.length>0&&d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:$o(),onClick:()=>p(g==="workflows"?null:"workflows"),style:{"--cat-color":"#E91E63"},children:[d.jsx("span",{className:Wo(),children:"fn"}),d.jsx("span",{className:Zo(),children:"Workflows"}),d.jsx("span",{className:Qo(),children:b.length}),d.jsx("span",{className:Ko(),children:g==="workflows"?"":""})]}),g==="workflows"&&d.jsx("div",{className:Fo(),children:b.map(v=>d.jsx(TO,{name:v.name,params:v.params,onDragStart:f},v.name))})]}),y.map(v=>d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:$o(),onClick:()=>p(g===v.id?null:v.id),style:{"--cat-color":v.color},children:[d.jsx("span",{className:Wo(),children:v.icon}),d.jsx("span",{className:Zo(),children:v.label}),d.jsx("span",{className:Qo(),children:E[v.id].length}),d.jsx("span",{className:Ko(),children:g===v.id?"":""})]}),g===v.id&&d.jsx("div",{className:Fo(),children:E[v.id].map(j=>d.jsx(nf,{opcode:j},j.name))})]},v.id)),E.other.length>0&&d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:$o(),onClick:()=>p(g==="other"?null:"other"),style:{"--cat-color":"#64748B"},children:[d.jsx("span",{className:Wo(),children:""}),d.jsx("span",{className:Zo(),children:"Other"}),d.jsx("span",{className:Qo(),children:E.other.length}),d.jsx("span",{className:Ko(),children:g==="other"?"":""})]}),g==="other"&&d.jsx("div",{className:Fo(),children:E.other.map(v=>d.jsx(nf,{opcode:v},v.name))})]})]})}),d.jsx("div",{className:jO(),children:d.jsx("p",{className:CO(),children:"Click to view details  Drag to canvas to add node"})})]})}function nf({opcode:n}){const[r,i]=z.useState(!1),{setDraggingOpcode:o,togglePalette:c}=Ae(),f=z.useRef(!1),h=z.useRef({x:0,y:0}),m=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_|async_|pubsub_)/,"").split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),g=p=>{h.current={x:p.clientX,y:p.clientY},f.current=!1;const y=N=>{const E=Math.abs(N.clientX-h.current.x),w=Math.abs(N.clientY-h.current.y);!f.current&&(E>5||w>5)&&(f.current=!0,o(n),c())},b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)};return d.jsxs("div",{className:nO(),children:[d.jsxs("button",{className:lO(),onMouseDown:g,onClick:()=>{f.current||i(!r)},children:[d.jsx("span",{className:aO(),children:m}),d.jsx("span",{className:rO(),children:n.name})]}),r&&d.jsxs("div",{className:iO(),children:[n.description&&d.jsx("p",{className:oO(),children:n.description}),n.parameters.length>0&&d.jsxs("div",{className:sO(),children:[d.jsx("span",{className:Mb(),children:"Parameters:"}),n.parameters.map(p=>d.jsxs("span",{className:cO(),children:[p.name,!p.required&&"?",d.jsxs("span",{className:uO(),children:[": ",p.type]})]},p.name))]})]})]})}function _O({name:n,value:r,workflowName:i,onDragStart:o,onDragEnd:c}){const{togglePalette:f}=Ae(),h=z.useRef(!1),m=z.useRef({x:0,y:0}),g=OO(r),p=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const w=Math.abs(E.clientX-m.current.x),v=Math.abs(E.clientY-m.current.y);!h.current&&(w>5||v>5)&&(h.current=!0,o({name:n,workflowName:i,fromX:0,fromY:0,toX:0,toY:0}),f())},N=()=>{h.current&&c(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)};return d.jsxs("div",{className:fO(),onMouseDown:p,children:[d.jsxs("span",{className:dO(),children:["$",n]}),d.jsx("span",{className:hO(),children:g}),i!=="main"&&d.jsxs("span",{className:mO(),children:["(",i,")"]})]})}function OO(n){if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="string")return n.length>15?`"${n.slice(0,15)}..."`:`"${n}"`;if(typeof n=="object"){const r=JSON.stringify(n);return r.length>15?r.slice(0,15)+"...":r}return String(n)}function TO({name:n,params:r,onDragStart:i}){const{togglePalette:o}=Ae(),[c,f]=z.useState(!1),h=z.useRef(!1),m=z.useRef({x:0,y:0}),g=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const w=Math.abs(E.clientX-m.current.x),v=Math.abs(E.clientY-m.current.y);!h.current&&(w>5||v>5)&&(h.current=!0,i({workflowName:n,params:r}),o())},N=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)},p=y=>{y.stopPropagation(),window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:n}})),o()};return d.jsxs("div",{className:gO(),children:[d.jsxs("button",{className:xO(),onMouseDown:g,onClick:()=>{h.current||f(!c)},children:[d.jsx("span",{className:yO(),children:n}),d.jsx("span",{className:bO(),children:r.length===0?"(no params)":`(${r.length} params)`})]}),c&&d.jsxs("div",{className:vO(),children:[r.length>0?d.jsxs("div",{className:wO(),children:[d.jsx("span",{className:Mb(),children:"Parameters:"}),r.map((y,b)=>d.jsxs("span",{className:SO(),children:["ARG",b+1,": ",y]},y))]}):d.jsx("p",{className:NO(),children:"This workflow has no input parameters."}),d.jsx("button",{className:EO(),onClick:p,children:"Go to Definition"})]})]})}const ux=T("fixed pointer-events-none z-[10000] flex flex-col gap-1"),fx=T("flex flex-col gap-0.5 px-4 py-3 bg-surface-1 border-2 border-accent-blue rounded-sm shadow-xl min-w-[120px]",{variants:{type:{opcode:"border-accent-blue",workflow:"border-[#E91E63]"}},defaultVariants:{type:"opcode"}}),dx=T("text-sm font-semibold text-text-primary"),hx=T("text-[0.7rem] text-text-muted font-mono"),mx=T("text-[0.7rem] text-accent-blue text-center font-medium");function px(n){const r=document.querySelector("[data-canvas-container] > svg");if(!r)return"main";const{zoom:i,panX:o,panY:c,layoutGroups:f,canvasCenter:h}=Ae.getState();if(f.length===0)return"main";const m=r.getBoundingClientRect(),g=m.width,p=m.height,y=n.clientX-m.left,b=n.clientY-m.top,N=(y-o-g/2)/i+h.x,E=(b-c-p/2)/i+h.y;return nb(f,N,E)||"main"}function MO(){const{draggingOpcode:n,setDraggingOpcode:r,draggingWorkflowCall:i,setDraggingWorkflowCall:o,openNodeEditor:c}=Ae(),{addNode:f,addWorkflowCallNode:h}=lt(),[m,g]=z.useState({x:0,y:0});if(z.useEffect(()=>{if(!i)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const E=N.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&i){const v=px(N);h(i.workflowName,i.params,v)&&c()}o(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[i,o,h,c]),z.useEffect(()=>{if(!n)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const E=N.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&n){const v=px(N);f(n,v)&&c()}r(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[n,r,f,c]),!n&&!i)return null;if(i)return d.jsxs("div",{className:L(ux()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:L(fx({type:"workflow"})),children:[d.jsx("span",{className:L(dx()),children:i.workflowName}),d.jsx("span",{className:L(hx()),children:"workflow_call"})]}),d.jsx("div",{className:L(mx()),children:"Drop on canvas to add"})]});if(!n)return null;const p=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("div",{className:L(ux()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:L(fx({type:"opcode"})),children:[d.jsx("span",{className:L(dx()),children:p}),d.jsx("span",{className:L(hx()),children:n.name})]}),d.jsx("div",{className:L(mx()),children:"Drop on canvas to add"})]})}function DO(){const n=Ae(r=>r.confirmDialog);return n?d.jsx(Cw,{isOpen:n.isOpen,title:n.title,message:n.message,confirmLabel:n.confirmLabel,cancelLabel:n.cancelLabel,variant:n.variant,onConfirm:n.onConfirm,onCancel:n.onCancel}):null}function kO(){const n=Ae(f=>f.createWorkflowModal),r=Ae(f=>f.hideCreateWorkflowModal),i=lt(f=>f.tree),o=lt(f=>f.addWorkflow),c=i?.workflows.map(f=>f.name)??[];return n?d.jsx(Aw,{isOpen:n.isOpen,existingWorkflowNames:c,onConfirm:f=>{o(f.name,f.inputs,f.outputs,f.variables),r()},onCancel:r}):null}function RO(){const n=Ae(m=>m.extractWorkflowModal),r=Ae(m=>m.hideExtractWorkflowModal),i=lt(m=>m.tree),o=lt(m=>m.extractToWorkflow),c=Wn(m=>m.clearMultiSelection),f=Ae(m=>m.showConfirmDialog),h=i?.workflows.map(m=>m.name)??[];return n?d.jsx(Ow,{isOpen:n.isOpen,existingWorkflowNames:h,nodeIds:n.nodeIds,suggestedInputs:n.suggestedInputs,suggestedOutputs:n.suggestedOutputs,onConfirm:m=>{const g=o(n.nodeIds,n.workflowName,m.name,m.inputs,m.outputs,m.variables);g.success?(c(),r()):f({title:"Extraction Failed",message:g.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}})},onCancel:r}):null}function zO(){const{setExamples:n,setOpcodes:r}=lt(),i=xs();return AE(),OE(),z.useEffect(()=>{i.listOpcodes().then(r).catch(console.error),Zx(i)&&i.listExamples().then(n).catch(console.error)},[n,r,i]),d.jsxs(d.Fragment,{children:[d.jsx(dE,{canvas:d.jsx(pC,{}),editor:d.jsx(MA,{}),executionPanel:d.jsx(__,{}),nodeEditor:d.jsx(I_,{}),palette:d.jsx(AO,{})}),d.jsx(MO,{}),d.jsx(DO,{}),d.jsx(kO,{}),d.jsx(RO,{})]})}function LO(){return{apiBaseUrl:"/api",wsUrl:void 0}}const gx=LO(),VO=YN({apiBaseUrl:gx.apiBaseUrl,wsUrl:gx.wsUrl,supportsExamples:!0,supportsWebSocket:!0});e1.createRoot(document.getElementById("root")).render(d.jsx(z.StrictMode,{children:d.jsx(Qw,{children:d.jsx(Fw,{provider:VO,children:d.jsx(zO,{})})})}));export{hb as a,_A as b,L as c,mb as d,db as e,fb as f,d as j,z as r};
