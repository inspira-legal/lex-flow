(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function l1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lu={exports:{}},ai={};var Qp;function a1(){if(Qp)return ai;Qp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:n,type:o,key:h,ref:c!==void 0?c:null,props:d}}return ai.Fragment=r,ai.jsx=i,ai.jsxs=i,ai}var Kp;function r1(){return Kp||(Kp=1,Lu.exports=a1()),Lu.exports}var u=r1(),Vu={exports:{}},Ce={};var Fp;function i1(){if(Fp)return Ce;Fp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function C(j){return j===null||typeof j!="object"?null:(j=N&&j[N]||j["@@iterator"],typeof j=="function"?j:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function T(j,V,Z){this.props=j,this.context=V,this.refs=E,this.updater=Z||v}T.prototype.isReactComponent={},T.prototype.setState=function(j,V){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,V,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function _(){}_.prototype=T.prototype;function W(j,V,Z){this.props=j,this.context=V,this.refs=E,this.updater=Z||v}var B=W.prototype=new _;B.constructor=W,w(B,T.prototype),B.isPureReactComponent=!0;var z=Array.isArray;function I(){}var Y={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function K(j,V,Z){var ne=Z.ref;return{$$typeof:n,type:j,key:V,ref:ne!==void 0?ne:null,props:Z}}function J(j,V){return K(j.type,V,j.props)}function fe(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function le(j){var V={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Z){return V[Z]})}var ie=/\/+/g;function ce(j,V){return typeof j=="object"&&j!==null&&j.key!=null?le(""+j.key):V.toString(36)}function oe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(V){j.status==="pending"&&(j.status="fulfilled",j.value=V)},function(V){j.status==="pending"&&(j.status="rejected",j.reason=V)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function L(j,V,Z,ne,ye){var ge=typeof j;(ge==="undefined"||ge==="boolean")&&(j=null);var de=!1;if(j===null)de=!0;else switch(ge){case"bigint":case"string":case"number":de=!0;break;case"object":switch(j.$$typeof){case n:case r:de=!0;break;case y:return de=j._init,L(de(j._payload),V,Z,ne,ye)}}if(de)return ye=ye(j),de=ne===""?"."+ce(j,0):ne,z(ye)?(Z="",de!=null&&(Z=de.replace(ie,"$&/")+"/"),L(ye,V,Z,"",function(je){return je})):ye!=null&&(fe(ye)&&(ye=J(ye,Z+(ye.key==null||j&&j.key===ye.key?"":(""+ye.key).replace(ie,"$&/")+"/")+de)),V.push(ye)),1;de=0;var $e=ne===""?".":ne+":";if(z(j))for(var ae=0;ae<j.length;ae++)ne=j[ae],ge=$e+ce(ne,ae),de+=L(ne,V,Z,ge,ye);else if(ae=C(j),typeof ae=="function")for(j=ae.call(j),ae=0;!(ne=j.next()).done;)ne=ne.value,ge=$e+ce(ne,ae++),de+=L(ne,V,Z,ge,ye);else if(ge==="object"){if(typeof j.then=="function")return L(oe(j),V,Z,ne,ye);throw V=String(j),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return de}function G(j,V,Z){if(j==null)return j;var ne=[],ye=0;return L(j,ne,"","",function(ge){return V.call(Z,ge,ye++)}),ne}function A(j){if(j._status===-1){var V=j._result;V=V(),V.then(function(Z){(j._status===0||j._status===-1)&&(j._status=1,j._result=Z)},function(Z){(j._status===0||j._status===-1)&&(j._status=2,j._result=Z)}),j._status===-1&&(j._status=0,j._result=V)}if(j._status===1)return j._result.default;throw j._result}var ee=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},re={map:G,forEach:function(j,V,Z){G(j,function(){V.apply(this,arguments)},Z)},count:function(j){var V=0;return G(j,function(){V++}),V},toArray:function(j){return G(j,function(V){return V})||[]},only:function(j){if(!fe(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ce.Activity=b,Ce.Children=re,Ce.Component=T,Ce.Fragment=i,Ce.Profiler=c,Ce.PureComponent=W,Ce.StrictMode=o,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Y.H.useMemoCache(j)}},Ce.cache=function(j){return function(){return j.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(j,V,Z){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ne=w({},j.props),ye=j.key;if(V!=null)for(ge in V.key!==void 0&&(ye=""+V.key),V)!U.call(V,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&V.ref===void 0||(ne[ge]=V[ge]);var ge=arguments.length-2;if(ge===1)ne.children=Z;else if(1<ge){for(var de=Array(ge),$e=0;$e<ge;$e++)de[$e]=arguments[$e+2];ne.children=de}return K(j.type,ye,ne)},Ce.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},Ce.createElement=function(j,V,Z){var ne,ye={},ge=null;if(V!=null)for(ne in V.key!==void 0&&(ge=""+V.key),V)U.call(V,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ye[ne]=V[ne]);var de=arguments.length-2;if(de===1)ye.children=Z;else if(1<de){for(var $e=Array(de),ae=0;ae<de;ae++)$e[ae]=arguments[ae+2];ye.children=$e}if(j&&j.defaultProps)for(ne in de=j.defaultProps,de)ye[ne]===void 0&&(ye[ne]=de[ne]);return K(j,ge,ye)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(j){return{$$typeof:m,render:j}},Ce.isValidElement=fe,Ce.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:A}},Ce.memo=function(j,V){return{$$typeof:p,type:j,compare:V===void 0?null:V}},Ce.startTransition=function(j){var V=Y.T,Z={};Y.T=Z;try{var ne=j(),ye=Y.S;ye!==null&&ye(Z,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(I,ee)}catch(ge){ee(ge)}finally{V!==null&&Z.types!==null&&(V.types=Z.types),Y.T=V}},Ce.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ce.use=function(j){return Y.H.use(j)},Ce.useActionState=function(j,V,Z){return Y.H.useActionState(j,V,Z)},Ce.useCallback=function(j,V){return Y.H.useCallback(j,V)},Ce.useContext=function(j){return Y.H.useContext(j)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(j,V){return Y.H.useDeferredValue(j,V)},Ce.useEffect=function(j,V){return Y.H.useEffect(j,V)},Ce.useEffectEvent=function(j){return Y.H.useEffectEvent(j)},Ce.useId=function(){return Y.H.useId()},Ce.useImperativeHandle=function(j,V,Z){return Y.H.useImperativeHandle(j,V,Z)},Ce.useInsertionEffect=function(j,V){return Y.H.useInsertionEffect(j,V)},Ce.useLayoutEffect=function(j,V){return Y.H.useLayoutEffect(j,V)},Ce.useMemo=function(j,V){return Y.H.useMemo(j,V)},Ce.useOptimistic=function(j,V){return Y.H.useOptimistic(j,V)},Ce.useReducer=function(j,V,Z){return Y.H.useReducer(j,V,Z)},Ce.useRef=function(j){return Y.H.useRef(j)},Ce.useState=function(j){return Y.H.useState(j)},Ce.useSyncExternalStore=function(j,V,Z){return Y.H.useSyncExternalStore(j,V,Z)},Ce.useTransition=function(){return Y.H.useTransition()},Ce.version="19.2.3",Ce}var Jp;function Ef(){return Jp||(Jp=1,Vu.exports=i1()),Vu.exports}var k=Ef();const Dn=l1(k);var Bu={exports:{}},ri={},Iu={exports:{}},Hu={};var Pp;function o1(){return Pp||(Pp=1,(function(n){function r(L,G){var A=L.length;L.push(G);e:for(;0<A;){var ee=A-1>>>1,re=L[ee];if(0<c(re,G))L[ee]=G,L[A]=re,A=ee;else break e}}function i(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var G=L[0],A=L.pop();if(A!==G){L[0]=A;e:for(var ee=0,re=L.length,j=re>>>1;ee<j;){var V=2*(ee+1)-1,Z=L[V],ne=V+1,ye=L[ne];if(0>c(Z,A))ne<re&&0>c(ye,Z)?(L[ee]=ye,L[ne]=A,ee=ne):(L[ee]=Z,L[V]=A,ee=V);else if(ne<re&&0>c(ye,A))L[ee]=ye,L[ne]=A,ee=ne;else break e}}return G}function c(L,G){var A=L.sortIndex-G.sortIndex;return A!==0?A:L.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],y=1,b=null,N=3,C=!1,v=!1,w=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function B(L){for(var G=i(p);G!==null;){if(G.callback===null)o(p);else if(G.startTime<=L)o(p),G.sortIndex=G.expirationTime,r(g,G);else break;G=i(p)}}function z(L){if(w=!1,B(L),!v)if(i(g)!==null)v=!0,I||(I=!0,le());else{var G=i(p);G!==null&&oe(z,G.startTime-L)}}var I=!1,Y=-1,U=5,K=-1;function J(){return E?!0:!(n.unstable_now()-K<U)}function fe(){if(E=!1,I){var L=n.unstable_now();K=L;var G=!0;try{e:{v=!1,w&&(w=!1,_(Y),Y=-1),C=!0;var A=N;try{t:{for(B(L),b=i(g);b!==null&&!(b.expirationTime>L&&J());){var ee=b.callback;if(typeof ee=="function"){b.callback=null,N=b.priorityLevel;var re=ee(b.expirationTime<=L);if(L=n.unstable_now(),typeof re=="function"){b.callback=re,B(L),G=!0;break t}b===i(g)&&o(g),B(L)}else o(g);b=i(g)}if(b!==null)G=!0;else{var j=i(p);j!==null&&oe(z,j.startTime-L),G=!1}}break e}finally{b=null,N=A,C=!1}G=void 0}}finally{G?le():I=!1}}}var le;if(typeof W=="function")le=function(){W(fe)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ce=ie.port2;ie.port1.onmessage=fe,le=function(){ce.postMessage(null)}}else le=function(){T(fe,0)};function oe(L,G){Y=T(function(){L(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(L){switch(N){case 1:case 2:case 3:var G=3;break;default:G=N}var A=N;N=G;try{return L()}finally{N=A}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var A=N;N=L;try{return G()}finally{N=A}},n.unstable_scheduleCallback=function(L,G,A){var ee=n.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?ee+A:ee):A=ee,L){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=A+re,L={id:y++,callback:G,priorityLevel:L,startTime:A,expirationTime:re,sortIndex:-1},A>ee?(L.sortIndex=A,r(p,L),i(g)===null&&L===i(p)&&(w?(_(Y),Y=-1):w=!0,oe(z,A-ee))):(L.sortIndex=re,r(g,L),v||C||(v=!0,I||(I=!0,le()))),L},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(L){var G=N;return function(){var A=N;N=G;try{return L.apply(this,arguments)}finally{N=A}}}})(Hu)),Hu}var eg;function s1(){return eg||(eg=1,Iu.exports=o1()),Iu.exports}var Uu={exports:{}},Rt={};var tg;function c1(){if(tg)return Rt;tg=1;var n=Ef();function r(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Rt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return d(g,p,null,y)},Rt.flushSync=function(g){var p=h.T,y=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=y,o.d.f()}},Rt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},Rt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Rt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:C}):y==="script"&&o.d.X(g,{crossOrigin:b,integrity:N,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Rt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},Rt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);o.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Rt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},Rt.requestFormReset=function(g){o.d.r(g)},Rt.unstable_batchedUpdates=function(g,p){return g(p)},Rt.useFormState=function(g,p,y){return h.H.useFormState(g,p,y)},Rt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Rt.version="19.2.3",Rt}var ng;function Cx(){if(ng)return Uu.exports;ng=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Uu.exports=c1(),Uu.exports}var lg;function u1(){if(lg)return ri;lg=1;var n=s1(),r=Ef(),i=Cx();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var f=s.alternate;if(f===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===f.child){for(f=s.child;f;){if(f===l)return g(s),e;if(f===a)return g(s),t;f=f.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=f;else{for(var x=!1,S=s.child;S;){if(S===l){x=!0,l=s,a=f;break}if(S===a){x=!0,a=s,l=f;break}S=S.sibling}if(!x){for(S=f.child;S;){if(S===l){x=!0,l=f,a=s;break}if(S===a){x=!0,a=f,l=s;break}S=S.sibling}if(!x)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),W=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case I:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case W:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var oe=Array.isArray,L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},ee=[],re=-1;function j(e){return{current:e}}function V(e){0>re||(e.current=ee[re],ee[re]=null,re--)}function Z(e,t){re++,ee[re]=e.current,e.current=t}var ne=j(null),ye=j(null),ge=j(null),de=j(null);function $e(e,t){switch(Z(ge,t),Z(ye,e),Z(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=yp(t),e=bp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ne),Z(ne,e)}function ae(){V(ne),V(ye),V(ge)}function je(e){e.memoizedState!==null&&Z(de,e);var t=ne.current,l=bp(t,e.type);t!==l&&(Z(ye,e),Z(ne,l))}function Be(e){ye.current===e&&(V(ne),V(ye)),de.current===e&&(V(de),ei._currentValue=A)}var Me,Ye;function gt(e){if(Me===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||"",Ye=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+Ye}var se=!1;function Ae(e,t){if(!e||se)return"";se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var X=Q}Reflect.construct(e,[],te)}else{try{te.call()}catch(Q){X=Q}e.call(te.prototype)}}else{try{throw Error()}catch(Q){X=Q}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),x=f[0],S=f[1];if(x&&S){var M=x.split(`
`),$=S.split(`
`);for(s=a=0;a<M.length&&!M[a].includes("DetermineComponentFrameRoot");)a++;for(;s<$.length&&!$[s].includes("DetermineComponentFrameRoot");)s++;if(a===M.length||s===$.length)for(a=M.length-1,s=$.length-1;1<=a&&0<=s&&M[a]!==$[s];)s--;for(;1<=a&&0<=s;a--,s--)if(M[a]!==$[s]){if(a!==1||s!==1)do if(a--,s--,0>s||M[a]!==$[s]){var F=`
`+M[a].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=a&&0<=s);break}}}finally{se=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?gt(l):""}function we(e,t){switch(e.tag){case 26:case 27:case 5:return gt(e.type);case 16:return gt("Lazy");case 13:return e.child!==t&&t!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return Ae(e.type,!1);case 11:return Ae(e.type.render,!1);case 1:return Ae(e.type,!0);case 31:return gt("Activity");default:return""}}function Wt(e){try{var t="",l=null;do t+=we(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var xn=Object.prototype.hasOwnProperty,Bt=n.unstable_scheduleCallback,Il=n.unstable_cancelCallback,ua=n.unstable_shouldYield,tt=n.unstable_requestPaint,nt=n.unstable_now,rl=n.unstable_getCurrentPriorityLevel,fa=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,Se=n.unstable_NormalPriority,qe=n.unstable_LowPriority,Fe=n.unstable_IdlePriority,it=n.log,jn=n.unstable_setDisableYieldValue,yn=null,xt=null;function an(e){if(typeof it=="function"&&jn(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(yn,e)}catch{}}var jt=Math.clz32?Math.clz32:js,fr=Math.log,dr=Math.LN2;function js(e){return e>>>=0,e===0?32:31-(fr(e)/dr|0)|0}var Ee=256,ut=262144,kt=4194304;function Et(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,f=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=a&134217727;return S!==0?(a=S&~f,a!==0?s=Et(a):(x&=S,x!==0?s=Et(x):l||(l=S&~e,l!==0&&(s=Et(l))))):(S=a&~f,S!==0?s=Et(S):x!==0?s=Et(x):l||(l=a&~e,l!==0&&(s=Et(l)))),s===0?0:t!==0&&t!==s&&(t&f)===0&&(f=s&-s,l=t&-t,f>=l||f===32&&(l&4194048)!==0)?t:s}function bn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function da(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(){var e=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),e}function ha(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function mr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gb(e,t,l,a,s,f){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,M=e.expirationTimes,$=e.hiddenUpdates;for(l=x&~l;0<l;){var F=31-jt(l),te=1<<F;S[F]=0,M[F]=-1;var X=$[F];if(X!==null)for($[F]=null,F=0;F<X.length;F++){var Q=X[F];Q!==null&&(Q.lane&=-536870913)}l&=~te}a!==0&&ed(e,a,0),f!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=f&~(x&~t))}function ed(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-jt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function td(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-jt(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function nd(e,t){var l=t&-t;return l=(l&42)!==0?1:Es(l),(l&(e.suspendedLanes|t))!==0?0:l}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ld(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Yp(e.type))}function ad(e,t){var l=G.p;try{return G.p=e,t()}finally{G.p=l}}var il=Math.random().toString(36).slice(2),Ct="__reactFiber$"+il,It="__reactProps$"+il,ma="__reactContainer$"+il,As="__reactEvents$"+il,Xb="__reactListeners$"+il,Wb="__reactHandles$"+il,rd="__reactResources$"+il,pr="__reactMarker$"+il;function _s(e){delete e[Ct],delete e[It],delete e[As],delete e[Xb],delete e[Wb]}function pa(e){var t=e[Ct];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ma]||l[Ct]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Cp(e);e!==null;){if(l=e[Ct])return l;e=Cp(e)}return t}e=l,l=e.parentNode}return null}function ga(e){if(e=e[Ct]||e[ma]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function xa(e){var t=e[rd];return t||(t=e[rd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[pr]=!0}var id=new Set,od={};function Hl(e,t){ya(e,t),ya(e+"Capture",t)}function ya(e,t){for(od[e]=t,e=0;e<t.length;e++)id.add(t[e])}var Zb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sd={},cd={};function Qb(e){return xn.call(cd,e)?!0:xn.call(sd,e)?!1:Zb.test(e)?cd[e]=!0:(sd[e]=!0,!1)}function Ti(e,t,l){if(Qb(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Mi(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Ln(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kb(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(x){l=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Os(e){if(!e._valueTracker){var t=ud(e)?"checked":"value";e._valueTracker=Kb(e,t,""+e[t])}}function fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=ud(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fb=/[\n"\\]/g;function on(e){return e.replace(Fb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ts(e,t,l,a,s,f,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+rn(t)):e.value!==""+rn(t)&&(e.value=""+rn(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Ms(e,x,rn(t)):l!=null?Ms(e,x,rn(l)):a!=null&&e.removeAttribute("value"),s==null&&f!=null&&(e.defaultChecked=!!f),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+rn(S):e.removeAttribute("name")}function dd(e,t,l,a,s,f,x,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||l!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Os(e);return}l=l!=null?""+rn(l):"",t=t!=null?""+rn(t):l,S||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=S?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Os(e)}function Ms(e,t,l){t==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ba(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+rn(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hd(e,t,l){if(t!=null&&(t=""+rn(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+rn(l):""}function md(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(oe(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=rn(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Os(e)}function va(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Jb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pd(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Jb.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function gd(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&pd(e,s,a)}else for(var f in t)t.hasOwnProperty(f)&&pd(e,f,t[f])}function Ds(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),e0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ki(e){return e0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vn(){}var ks=null;function Rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,Sa=null;function xd(e){var t=ga(e);if(t&&(e=t.stateNode)){var l=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ts(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[It]||null;if(!s)throw Error(o(90));Ts(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&fd(a)}break e;case"textarea":hd(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ba(e,!!l.multiple,t,!1)}}}var zs=!1;function yd(e,t,l){if(zs)return e(t,l);zs=!0;try{var a=e(t);return a}finally{if(zs=!1,(wa!==null||Sa!==null)&&(wo(),wa&&(t=wa,e=Sa,Sa=wa=null,xd(t),e)))for(t=0;t<e.length;t++)xd(e[t])}}function xr(e,t){var l=e.stateNode;if(l===null)return null;var a=l[It]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Bn)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Ls=!1}var ol=null,Vs=null,Ri=null;function bd(){if(Ri)return Ri;var e,t=Vs,l=t.length,a,s="value"in ol?ol.value:ol.textContent,f=s.length;for(e=0;e<l&&t[e]===s[e];e++);var x=l-e;for(a=1;a<=x&&t[l-a]===s[f-a];a++);return Ri=s.slice(e,1<a?1-a:void 0)}function zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function vd(){return!1}function Ht(e){function t(l,a,s,f,x){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:vd,this.isPropagationStopped=vd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Ht(Ul),br=b({},Ul,{view:0,detail:0}),t0=Ht(br),Bs,Is,vr,Bi=b({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(Bs=e.screenX-vr.screenX,Is=e.screenY-vr.screenY):Is=Bs=0,vr=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:Is}}),wd=Ht(Bi),n0=b({},Bi,{dataTransfer:0}),l0=Ht(n0),a0=b({},br,{relatedTarget:0}),Hs=Ht(a0),r0=b({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),i0=Ht(r0),o0=b({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s0=Ht(o0),c0=b({},Ul,{data:0}),Sd=Ht(c0),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d0[e])?!!t[e]:!1}function Us(){return h0}var m0=b({},br,{key:function(e){if(e.key){var t=u0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(e){return e.type==="keypress"?zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p0=Ht(m0),g0=b({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=Ht(g0),x0=b({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),y0=Ht(x0),b0=b({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),v0=Ht(b0),w0=b({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S0=Ht(w0),N0=b({},Ul,{newState:0,oldState:0}),j0=Ht(N0),E0=[9,13,27,32],Ys=Bn&&"CompositionEvent"in window,wr=null;Bn&&"documentMode"in document&&(wr=document.documentMode);var C0=Bn&&"TextEvent"in window&&!wr,jd=Bn&&(!Ys||wr&&8<wr&&11>=wr),Ed=" ",Cd=!1;function Ad(e,t){switch(e){case"keyup":return E0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function A0(e,t){switch(e){case"compositionend":return _d(t);case"keypress":return t.which!==32?null:(Cd=!0,Ed);case"textInput":return e=t.data,e===Ed&&Cd?null:e;default:return null}}function _0(e,t){if(Na)return e==="compositionend"||!Ys&&Ad(e,t)?(e=bd(),Ri=Vs=ol=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var O0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O0[e.type]:t==="textarea"}function Td(e,t,l,a){wa?Sa?Sa.push(a):Sa=[a]:wa=a,t=_o(t,"onChange"),0<t.length&&(l=new Vi("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Sr=null,Nr=null;function T0(e){dp(e,0)}function Ii(e){var t=gr(e);if(fd(t))return e}function Md(e,t){if(e==="change")return t}var Dd=!1;if(Bn){var qs;if(Bn){var $s="oninput"in document;if(!$s){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),$s=typeof kd.oninput=="function"}qs=$s}else qs=!1;Dd=qs&&(!document.documentMode||9<document.documentMode)}function Rd(){Sr&&(Sr.detachEvent("onpropertychange",zd),Nr=Sr=null)}function zd(e){if(e.propertyName==="value"&&Ii(Nr)){var t=[];Td(t,Nr,e,Rs(e)),yd(T0,t)}}function M0(e,t,l){e==="focusin"?(Rd(),Sr=t,Nr=l,Sr.attachEvent("onpropertychange",zd)):e==="focusout"&&Rd()}function D0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii(Nr)}function k0(e,t){if(e==="click")return Ii(t)}function R0(e,t){if(e==="input"||e==="change")return Ii(t)}function z0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:z0;function jr(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!xn.call(t,s)||!Zt(e[s],t[s]))return!1}return!0}function Ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vd(e,t){var l=Ld(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ld(l)}}function Bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Id(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Di(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Di(e.document)}return t}function Gs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var L0=Bn&&"documentMode"in document&&11>=document.documentMode,ja=null,Xs=null,Er=null,Ws=!1;function Hd(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ws||ja==null||ja!==Di(a)||(a=ja,"selectionStart"in a&&Gs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Er&&jr(Er,a)||(Er=a,a=_o(Xs,"onSelect"),0<a.length&&(t=new Vi("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=ja)))}function Yl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Ea={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionrun:Yl("Transition","TransitionRun"),transitionstart:Yl("Transition","TransitionStart"),transitioncancel:Yl("Transition","TransitionCancel"),transitionend:Yl("Transition","TransitionEnd")},Zs={},Ud={};Bn&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function ql(e){if(Zs[e])return Zs[e];if(!Ea[e])return e;var t=Ea[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Ud)return Zs[e]=t[l];return e}var Yd=ql("animationend"),qd=ql("animationiteration"),$d=ql("animationstart"),V0=ql("transitionrun"),B0=ql("transitionstart"),I0=ql("transitioncancel"),Gd=ql("transitionend"),Xd=new Map,Qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qs.push("scrollEnd");function vn(e,t){Xd.set(e,t),Hl(t,[e])}var Hi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sn=[],Ca=0,Ks=0;function Ui(){for(var e=Ca,t=Ks=Ca=0;t<e;){var l=sn[t];sn[t++]=null;var a=sn[t];sn[t++]=null;var s=sn[t];sn[t++]=null;var f=sn[t];if(sn[t++]=null,a!==null&&s!==null){var x=a.pending;x===null?s.next=s:(s.next=x.next,x.next=s),a.pending=s}f!==0&&Wd(l,s,f)}}function Yi(e,t,l,a){sn[Ca++]=e,sn[Ca++]=t,sn[Ca++]=l,sn[Ca++]=a,Ks|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Fs(e,t,l,a){return Yi(e,t,l,a),qi(e)}function $l(e,t){return Yi(e,null,null,t),qi(e)}function Wd(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,f=e.return;f!==null;)f.childLanes|=l,a=f.alternate,a!==null&&(a.childLanes|=l),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(s=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,s&&t!==null&&(s=31-jt(l),e=f.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),f):null}function qi(e){if(50<Wr)throw Wr=0,iu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Aa={};function H0(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,l,a){return new H0(e,t,l,a)}function Js(e){return e=e.prototype,!(!e||!e.isReactComponent)}function In(e,t){var l=e.alternate;return l===null?(l=Qt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Zd(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $i(e,t,l,a,s,f){var x=0;if(a=e,typeof e=="function")Js(e)&&(x=1);else if(typeof e=="string")x=Gv(e,l,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Qt(31,l,t,s),e.elementType=K,e.lanes=f,e;case w:return Gl(l.children,s,f,t);case E:x=8,s|=24;break;case T:return e=Qt(12,l,t,s|2),e.elementType=T,e.lanes=f,e;case z:return e=Qt(13,l,t,s),e.elementType=z,e.lanes=f,e;case I:return e=Qt(19,l,t,s),e.elementType=I,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:x=10;break e;case _:x=9;break e;case B:x=11;break e;case Y:x=14;break e;case U:x=16,a=null;break e}x=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Qt(x,l,t,s),t.elementType=e,t.type=a,t.lanes=f,t}function Gl(e,t,l,a){return e=Qt(7,e,a,t),e.lanes=l,e}function Ps(e,t,l){return e=Qt(6,e,null,t),e.lanes=l,e}function Qd(e){var t=Qt(18,null,null,0);return t.stateNode=e,t}function ec(e,t,l){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kd=new WeakMap;function cn(e,t){if(typeof e=="object"&&e!==null){var l=Kd.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Wt(t)},Kd.set(e,t),t)}return{value:e,source:t,stack:Wt(t)}}var _a=[],Oa=0,Gi=null,Cr=0,un=[],fn=0,sl=null,Cn=1,An="";function Hn(e,t){_a[Oa++]=Cr,_a[Oa++]=Gi,Gi=e,Cr=t}function Fd(e,t,l){un[fn++]=Cn,un[fn++]=An,un[fn++]=sl,sl=e;var a=Cn;e=An;var s=32-jt(a)-1;a&=~(1<<s),l+=1;var f=32-jt(t)+s;if(30<f){var x=s-s%5;f=(a&(1<<x)-1).toString(32),a>>=x,s-=x,Cn=1<<32-jt(t)+s|l<<s|a,An=f+e}else Cn=1<<f|l<<s|a,An=e}function tc(e){e.return!==null&&(Hn(e,1),Fd(e,1,0))}function nc(e){for(;e===Gi;)Gi=_a[--Oa],_a[Oa]=null,Cr=_a[--Oa],_a[Oa]=null;for(;e===sl;)sl=un[--fn],un[fn]=null,An=un[--fn],un[fn]=null,Cn=un[--fn],un[fn]=null}function Jd(e,t){un[fn++]=Cn,un[fn++]=An,un[fn++]=sl,Cn=t.id,An=t.overflow,sl=e}var At=null,Je=null,Ve=!1,cl=null,dn=!1,lc=Error(o(519));function ul(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ar(cn(t,e)),lc}function Pd(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Ct]=e,t[It]=a,l){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(l=0;l<Qr.length;l++)Re(Qr[l],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),dd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),md(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||gp(t.textContent,l)?(a.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),a.onScroll!=null&&Re("scroll",t),a.onScrollEnd!=null&&Re("scrollend",t),a.onClick!=null&&(t.onclick=Vn),t=!0):t=!1,t||ul(e,!0)}function eh(e){for(At=e.return;At;)switch(At.tag){case 5:case 31:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:At=At.return}}function Ta(e){if(e!==At)return!1;if(!Ve)return eh(e),Ve=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||wu(e.type,e.memoizedProps)),l=!l),l&&Je&&ul(e),eh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Je=Ep(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Je=Ep(e)}else t===27?(t=Je,jl(e.type)?(e=Cu,Cu=null,Je=e):Je=t):Je=At?mn(e.stateNode.nextSibling):null;return!0}function Xl(){Je=At=null,Ve=!1}function ac(){var e=cl;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),cl=null),e}function Ar(e){cl===null?cl=[e]:cl.push(e)}var rc=j(null),Wl=null,Un=null;function fl(e,t,l){Z(rc,t._currentValue),t._currentValue=l}function Yn(e){e._currentValue=rc.current,V(rc)}function ic(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function oc(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var f=s.dependencies;if(f!==null){var x=s.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=s;for(var M=0;M<t.length;M++)if(S.context===t[M]){f.lanes|=l,S=f.alternate,S!==null&&(S.lanes|=l),ic(f.return,l,e),a||(x=null);break e}f=S.next}}else if(s.tag===18){if(x=s.return,x===null)throw Error(o(341));x.lanes|=l,f=x.alternate,f!==null&&(f.lanes|=l),ic(x,l,e),x=null}else x=s.child;if(x!==null)x.return=s;else for(x=s;x!==null;){if(x===e){x=null;break}if(s=x.sibling,s!==null){s.return=x.return,x=s;break}x=x.return}s=x}}function Ma(e,t,l,a){e=null;for(var s=t,f=!1;s!==null;){if(!f){if((s.flags&524288)!==0)f=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var x=s.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var S=s.type;Zt(s.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(s===de.current){if(x=s.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ei):e=[ei])}s=s.return}e!==null&&oc(t,e,l,a),t.flags|=262144}function Xi(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zl(e){Wl=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return th(Wl,e)}function Wi(e,t){return Wl===null&&Zl(e),th(e,t)}function th(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Un===null){if(e===null)throw Error(o(308));Un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Un=Un.next=t;return l}var U0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Y0=n.unstable_scheduleCallback,q0=n.unstable_NormalPriority,ft={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sc(){return{controller:new U0,data:new Map,refCount:0}}function _r(e){e.refCount--,e.refCount===0&&Y0(q0,function(){e.controller.abort()})}var Or=null,cc=0,Da=0,ka=null;function $0(e,t){if(Or===null){var l=Or=[];cc=0,Da=du(),ka={status:"pending",value:void 0,then:function(a){l.push(a)}}}return cc++,t.then(nh,nh),t}function nh(){if(--cc===0&&Or!==null){ka!==null&&(ka.status="fulfilled");var e=Or;Or=null,Da=0,ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function G0(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var lh=L.S;L.S=function(e,t){Hm=nt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$0(e,t),lh!==null&&lh(e,t)};var Ql=j(null);function uc(){var e=Ql.current;return e!==null?e:Ke.pooledCache}function Zi(e,t){t===null?Z(Ql,Ql.current):Z(Ql,t.pool)}function ah(){var e=uc();return e===null?null:{parent:ft._currentValue,pool:e}}var Ra=Error(o(460)),fc=Error(o(474)),Qi=Error(o(542)),Ki={then:function(){}};function rh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ih(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Vn,Vn),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sh(e),e;default:if(typeof t.status=="string")t.then(Vn,Vn);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sh(e),e}throw Fl=t,Ra}}function Kl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Fl=l,Ra):l}}var Fl=null;function oh(){if(Fl===null)throw Error(o(459));var e=Fl;return Fl=null,e}function sh(e){if(e===Ra||e===Qi)throw Error(o(483))}var za=null,Tr=0;function Fi(e){var t=Tr;return Tr+=1,za===null&&(za=[]),ih(za,e,t)}function Mr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ji(e,t){throw t.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ch(e){function t(H,R){if(e){var q=H.deletions;q===null?(H.deletions=[R],H.flags|=16):q.push(R)}}function l(H,R){if(!e)return null;for(;R!==null;)t(H,R),R=R.sibling;return null}function a(H){for(var R=new Map;H!==null;)H.key!==null?R.set(H.key,H):R.set(H.index,H),H=H.sibling;return R}function s(H,R){return H=In(H,R),H.index=0,H.sibling=null,H}function f(H,R,q){return H.index=q,e?(q=H.alternate,q!==null?(q=q.index,q<R?(H.flags|=67108866,R):q):(H.flags|=67108866,R)):(H.flags|=1048576,R)}function x(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function S(H,R,q,P){return R===null||R.tag!==6?(R=Ps(q,H.mode,P),R.return=H,R):(R=s(R,q),R.return=H,R)}function M(H,R,q,P){var ve=q.type;return ve===w?F(H,R,q.props.children,P,q.key):R!==null&&(R.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===U&&Kl(ve)===R.type)?(R=s(R,q.props),Mr(R,q),R.return=H,R):(R=$i(q.type,q.key,q.props,null,H.mode,P),Mr(R,q),R.return=H,R)}function $(H,R,q,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==q.containerInfo||R.stateNode.implementation!==q.implementation?(R=ec(q,H.mode,P),R.return=H,R):(R=s(R,q.children||[]),R.return=H,R)}function F(H,R,q,P,ve){return R===null||R.tag!==7?(R=Gl(q,H.mode,P,ve),R.return=H,R):(R=s(R,q),R.return=H,R)}function te(H,R,q){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ps(""+R,H.mode,q),R.return=H,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return q=$i(R.type,R.key,R.props,null,H.mode,q),Mr(q,R),q.return=H,q;case v:return R=ec(R,H.mode,q),R.return=H,R;case U:return R=Kl(R),te(H,R,q)}if(oe(R)||le(R))return R=Gl(R,H.mode,q,null),R.return=H,R;if(typeof R.then=="function")return te(H,Fi(R),q);if(R.$$typeof===W)return te(H,Wi(H,R),q);Ji(H,R)}return null}function X(H,R,q,P){var ve=R!==null?R.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:S(H,R,""+q,P);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return q.key===ve?M(H,R,q,P):null;case v:return q.key===ve?$(H,R,q,P):null;case U:return q=Kl(q),X(H,R,q,P)}if(oe(q)||le(q))return ve!==null?null:F(H,R,q,P,null);if(typeof q.then=="function")return X(H,R,Fi(q),P);if(q.$$typeof===W)return X(H,R,Wi(H,q),P);Ji(H,q)}return null}function Q(H,R,q,P,ve){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return H=H.get(q)||null,S(R,H,""+P,ve);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return H=H.get(P.key===null?q:P.key)||null,M(R,H,P,ve);case v:return H=H.get(P.key===null?q:P.key)||null,$(R,H,P,ve);case U:return P=Kl(P),Q(H,R,q,P,ve)}if(oe(P)||le(P))return H=H.get(q)||null,F(R,H,P,ve,null);if(typeof P.then=="function")return Q(H,R,q,Fi(P),ve);if(P.$$typeof===W)return Q(H,R,q,Wi(R,P),ve);Ji(R,P)}return null}function he(H,R,q,P){for(var ve=null,Ie=null,xe=R,Oe=R=0,Le=null;xe!==null&&Oe<q.length;Oe++){xe.index>Oe?(Le=xe,xe=null):Le=xe.sibling;var He=X(H,xe,q[Oe],P);if(He===null){xe===null&&(xe=Le);break}e&&xe&&He.alternate===null&&t(H,xe),R=f(He,R,Oe),Ie===null?ve=He:Ie.sibling=He,Ie=He,xe=Le}if(Oe===q.length)return l(H,xe),Ve&&Hn(H,Oe),ve;if(xe===null){for(;Oe<q.length;Oe++)xe=te(H,q[Oe],P),xe!==null&&(R=f(xe,R,Oe),Ie===null?ve=xe:Ie.sibling=xe,Ie=xe);return Ve&&Hn(H,Oe),ve}for(xe=a(xe);Oe<q.length;Oe++)Le=Q(xe,H,Oe,q[Oe],P),Le!==null&&(e&&Le.alternate!==null&&xe.delete(Le.key===null?Oe:Le.key),R=f(Le,R,Oe),Ie===null?ve=Le:Ie.sibling=Le,Ie=Le);return e&&xe.forEach(function(Ol){return t(H,Ol)}),Ve&&Hn(H,Oe),ve}function Ne(H,R,q,P){if(q==null)throw Error(o(151));for(var ve=null,Ie=null,xe=R,Oe=R=0,Le=null,He=q.next();xe!==null&&!He.done;Oe++,He=q.next()){xe.index>Oe?(Le=xe,xe=null):Le=xe.sibling;var Ol=X(H,xe,He.value,P);if(Ol===null){xe===null&&(xe=Le);break}e&&xe&&Ol.alternate===null&&t(H,xe),R=f(Ol,R,Oe),Ie===null?ve=Ol:Ie.sibling=Ol,Ie=Ol,xe=Le}if(He.done)return l(H,xe),Ve&&Hn(H,Oe),ve;if(xe===null){for(;!He.done;Oe++,He=q.next())He=te(H,He.value,P),He!==null&&(R=f(He,R,Oe),Ie===null?ve=He:Ie.sibling=He,Ie=He);return Ve&&Hn(H,Oe),ve}for(xe=a(xe);!He.done;Oe++,He=q.next())He=Q(xe,H,Oe,He.value,P),He!==null&&(e&&He.alternate!==null&&xe.delete(He.key===null?Oe:He.key),R=f(He,R,Oe),Ie===null?ve=He:Ie.sibling=He,Ie=He);return e&&xe.forEach(function(n1){return t(H,n1)}),Ve&&Hn(H,Oe),ve}function Qe(H,R,q,P){if(typeof q=="object"&&q!==null&&q.type===w&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case C:e:{for(var ve=q.key;R!==null;){if(R.key===ve){if(ve=q.type,ve===w){if(R.tag===7){l(H,R.sibling),P=s(R,q.props.children),P.return=H,H=P;break e}}else if(R.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===U&&Kl(ve)===R.type){l(H,R.sibling),P=s(R,q.props),Mr(P,q),P.return=H,H=P;break e}l(H,R);break}else t(H,R);R=R.sibling}q.type===w?(P=Gl(q.props.children,H.mode,P,q.key),P.return=H,H=P):(P=$i(q.type,q.key,q.props,null,H.mode,P),Mr(P,q),P.return=H,H=P)}return x(H);case v:e:{for(ve=q.key;R!==null;){if(R.key===ve)if(R.tag===4&&R.stateNode.containerInfo===q.containerInfo&&R.stateNode.implementation===q.implementation){l(H,R.sibling),P=s(R,q.children||[]),P.return=H,H=P;break e}else{l(H,R);break}else t(H,R);R=R.sibling}P=ec(q,H.mode,P),P.return=H,H=P}return x(H);case U:return q=Kl(q),Qe(H,R,q,P)}if(oe(q))return he(H,R,q,P);if(le(q)){if(ve=le(q),typeof ve!="function")throw Error(o(150));return q=ve.call(q),Ne(H,R,q,P)}if(typeof q.then=="function")return Qe(H,R,Fi(q),P);if(q.$$typeof===W)return Qe(H,R,Wi(H,q),P);Ji(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,R!==null&&R.tag===6?(l(H,R.sibling),P=s(R,q),P.return=H,H=P):(l(H,R),P=Ps(q,H.mode,P),P.return=H,H=P),x(H)):l(H,R)}return function(H,R,q,P){try{Tr=0;var ve=Qe(H,R,q,P);return za=null,ve}catch(xe){if(xe===Ra||xe===Qi)throw xe;var Ie=Qt(29,xe,null,H.mode);return Ie.lanes=P,Ie.return=H,Ie}}}var Jl=ch(!0),uh=ch(!1),dl=!1;function dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ml(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ue&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=qi(e),Wd(e,null,l),t}return Yi(e,a,t,l),qi(e)}function Dr(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,td(e,l)}}function mc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,f=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};f===null?s=f=x:f=f.next=x,l=l.next}while(l!==null);f===null?s=f=t:f=f.next=t}else s=f=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var pc=!1;function kr(){if(pc){var e=ka;if(e!==null)throw e}}function Rr(e,t,l,a){pc=!1;var s=e.updateQueue;dl=!1;var f=s.firstBaseUpdate,x=s.lastBaseUpdate,S=s.shared.pending;if(S!==null){s.shared.pending=null;var M=S,$=M.next;M.next=null,x===null?f=$:x.next=$,x=M;var F=e.alternate;F!==null&&(F=F.updateQueue,S=F.lastBaseUpdate,S!==x&&(S===null?F.firstBaseUpdate=$:S.next=$,F.lastBaseUpdate=M))}if(f!==null){var te=s.baseState;x=0,F=$=M=null,S=f;do{var X=S.lane&-536870913,Q=X!==S.lane;if(Q?(ze&X)===X:(a&X)===X){X!==0&&X===Da&&(pc=!0),F!==null&&(F=F.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=e,Ne=S;X=t;var Qe=l;switch(Ne.tag){case 1:if(he=Ne.payload,typeof he=="function"){te=he.call(Qe,te,X);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ne.payload,X=typeof he=="function"?he.call(Qe,te,X):he,X==null)break e;te=b({},te,X);break e;case 2:dl=!0}}X=S.callback,X!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=s.callbacks,Q===null?s.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},F===null?($=F=Q,M=te):F=F.next=Q,x|=X;if(S=S.next,S===null){if(S=s.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,s.lastBaseUpdate=Q,s.shared.pending=null}}while(!0);F===null&&(M=te),s.baseState=M,s.firstBaseUpdate=$,s.lastBaseUpdate=F,f===null&&(s.shared.lanes=0),bl|=x,e.lanes=x,e.memoizedState=te}}function fh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function dh(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)fh(l[e],t)}var La=j(null),Pi=j(0);function hh(e,t){e=Fn,Z(Pi,e),Z(La,t),Fn=e|t.baseLanes}function gc(){Z(Pi,Fn),Z(La,La.current)}function xc(){Fn=Pi.current,V(La),V(Pi)}var Kt=j(null),hn=null;function pl(e){var t=e.alternate;Z(ot,ot.current&1),Z(Kt,e),hn===null&&(t===null||La.current!==null||t.memoizedState!==null)&&(hn=e)}function yc(e){Z(ot,ot.current),Z(Kt,e),hn===null&&(hn=e)}function mh(e){e.tag===22?(Z(ot,ot.current),Z(Kt,e),hn===null&&(hn=e)):gl()}function gl(){Z(ot,ot.current),Z(Kt,Kt.current)}function Ft(e){V(Kt),hn===e&&(hn=null),V(ot)}var ot=j(0);function eo(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ju(l)||Eu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qn=0,_e=null,We=null,dt=null,to=!1,Va=!1,Pl=!1,no=0,zr=0,Ba=null,X0=0;function lt(){throw Error(o(321))}function bc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Zt(e[l],t[l]))return!1;return!0}function vc(e,t,l,a,s,f){return qn=f,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Fh:zc,Pl=!1,f=l(a,s),Pl=!1,Va&&(f=gh(t,l,a,s)),ph(e),f}function ph(e){L.H=Br;var t=We!==null&&We.next!==null;if(qn=0,dt=We=_e=null,to=!1,zr=0,Ba=null,t)throw Error(o(300));e===null||ht||(e=e.dependencies,e!==null&&Xi(e)&&(ht=!0))}function gh(e,t,l,a){_e=e;var s=0;do{if(Va&&(Ba=null),zr=0,Va=!1,25<=s)throw Error(o(301));if(s+=1,dt=We=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Jh,f=t(l,a)}while(Va);return f}function W0(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Lr(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(_e.flags|=1024),t}function wc(){var e=no!==0;return no=0,e}function Sc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Nc(e){if(to){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}to=!1}qn=0,dt=We=_e=null,Va=!1,zr=no=0,Ba=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?_e.memoizedState=dt=e:dt=dt.next=e,dt}function st(){if(We===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=dt===null?_e.memoizedState:dt.next;if(t!==null)dt=t,We=e;else{if(e===null)throw _e.alternate===null?Error(o(467)):Error(o(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},dt===null?_e.memoizedState=dt=e:dt=dt.next=e}return dt}function lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lr(e){var t=zr;return zr+=1,Ba===null&&(Ba=[]),e=ih(Ba,e,t),t=_e,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Fh:zc),e}function ao(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lr(e);if(e.$$typeof===W)return _t(e)}throw Error(o(438,String(e)))}function jc(e){var t=null,l=_e.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=_e.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=lo(),_e.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=J;return t.index++,l}function $n(e,t){return typeof t=="function"?t(e):t}function ro(e){var t=st();return Ec(t,We,e)}function Ec(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,f=a.pending;if(f!==null){if(s!==null){var x=s.next;s.next=f.next,f.next=x}t.baseQueue=s=f,a.pending=null}if(f=e.baseState,s===null)e.memoizedState=f;else{t=s.next;var S=x=null,M=null,$=t,F=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(ze&te)===te:(qn&te)===te){var X=$.revertLane;if(X===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===Da&&(F=!0);else if((qn&X)===X){$=$.next,X===Da&&(F=!0);continue}else te={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(S=M=te,x=f):M=M.next=te,_e.lanes|=X,bl|=X;te=$.action,Pl&&l(f,te),f=$.hasEagerState?$.eagerState:l(f,te)}else X={lane:te,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},M===null?(S=M=X,x=f):M=M.next=X,_e.lanes|=te,bl|=te;$=$.next}while($!==null&&$!==t);if(M===null?x=f:M.next=S,!Zt(f,e.memoizedState)&&(ht=!0,F&&(l=ka,l!==null)))throw l;e.memoizedState=f,e.baseState=x,e.baseQueue=M,a.lastRenderedState=f}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Cc(e){var t=st(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,f=t.memoizedState;if(s!==null){l.pending=null;var x=s=s.next;do f=e(f,x.action),x=x.next;while(x!==s);Zt(f,t.memoizedState)||(ht=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),l.lastRenderedState=f}return[f,a]}function xh(e,t,l){var a=_e,s=st(),f=Ve;if(f){if(l===void 0)throw Error(o(407));l=l()}else l=t();var x=!Zt((We||s).memoizedState,l);if(x&&(s.memoizedState=l,ht=!0),s=s.queue,Oc(vh.bind(null,a,s,e),[e]),s.getSnapshot!==t||x||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,Ia(9,{destroy:void 0},bh.bind(null,a,s,l,t),null),Ke===null)throw Error(o(349));f||(qn&127)!==0||yh(a,t,l)}return l}function yh(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=_e.updateQueue,t===null?(t=lo(),_e.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function bh(e,t,l,a){t.value=l,t.getSnapshot=a,wh(t)&&Sh(e)}function vh(e,t,l){return l(function(){wh(t)&&Sh(e)})}function wh(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Zt(e,l)}catch{return!0}}function Sh(e){var t=$l(e,2);t!==null&&Gt(t,e,2)}function Ac(e){var t=Lt();if(typeof e=="function"){var l=e;if(e=l(),Pl){an(!0);try{l()}finally{an(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},t}function Nh(e,t,l,a){return e.baseState=l,Ec(e,We,typeof a=="function"?a:$n)}function Z0(e,t,l,a,s){if(so(e))throw Error(o(485));if(e=t.action,e!==null){var f={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};L.T!==null?l(!0):f.isTransition=!1,a(f),l=t.pending,l===null?(f.next=t.pending=f,jh(t,f)):(f.next=l.next,t.pending=l.next=f)}}function jh(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var f=L.T,x={};L.T=x;try{var S=l(s,a),M=L.S;M!==null&&M(x,S),Eh(e,t,S)}catch($){_c(e,t,$)}finally{f!==null&&x.types!==null&&(f.types=x.types),L.T=f}}else try{f=l(s,a),Eh(e,t,f)}catch($){_c(e,t,$)}}function Eh(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Ch(e,t,a)},function(a){return _c(e,t,a)}):Ch(e,t,l)}function Ch(e,t,l){t.status="fulfilled",t.value=l,Ah(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,jh(e,l)))}function _c(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Ah(t),t=t.next;while(t!==a)}e.action=null}function Ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _h(e,t){return t}function Oh(e,t){if(Ve){var l=Ke.formState;if(l!==null){e:{var a=_e;if(Ve){if(Je){t:{for(var s=Je,f=dn;s.nodeType!==8;){if(!f){s=null;break t}if(s=mn(s.nextSibling),s===null){s=null;break t}}f=s.data,s=f==="F!"||f==="F"?s:null}if(s){Je=mn(s.nextSibling),a=s.data==="F!";break e}}ul(a)}a=!1}a&&(t=l[0])}}return l=Lt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:t},l.queue=a,l=Zh.bind(null,_e,a),a.dispatch=l,a=Ac(!1),f=Rc.bind(null,_e,!1,a.queue),a=Lt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=Z0.bind(null,_e,s,f,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function Th(e){var t=st();return Mh(t,We,e)}function Mh(e,t,l){if(t=Ec(e,t,_h)[0],e=ro($n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Lr(t)}catch(x){throw x===Ra?Qi:x}else a=t;t=st();var s=t.queue,f=s.dispatch;return l!==t.memoizedState&&(_e.flags|=2048,Ia(9,{destroy:void 0},Q0.bind(null,s,l),null)),[a,f,e]}function Q0(e,t){e.action=t}function Dh(e){var t=st(),l=We;if(l!==null)return Mh(t,l,e);st(),t=t.memoizedState,l=st();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ia(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=_e.updateQueue,t===null&&(t=lo(),_e.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function kh(){return st().memoizedState}function io(e,t,l,a){var s=Lt();_e.flags|=e,s.memoizedState=Ia(1|t,{destroy:void 0},l,a===void 0?null:a)}function oo(e,t,l,a){var s=st();a=a===void 0?null:a;var f=s.memoizedState.inst;We!==null&&a!==null&&bc(a,We.memoizedState.deps)?s.memoizedState=Ia(t,f,l,a):(_e.flags|=e,s.memoizedState=Ia(1|t,f,l,a))}function Rh(e,t){io(8390656,8,e,t)}function Oc(e,t){oo(2048,8,e,t)}function K0(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=lo(),_e.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function zh(e){var t=st().memoizedState;return K0({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Lh(e,t){return oo(4,2,e,t)}function Vh(e,t){return oo(4,4,e,t)}function Bh(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ih(e,t,l){l=l!=null?l.concat([e]):null,oo(4,4,Bh.bind(null,t,e),l)}function Tc(){}function Hh(e,t){var l=st();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&bc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Uh(e,t){var l=st();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&bc(t,a[1]))return a[0];if(a=e(),Pl){an(!0);try{e()}finally{an(!1)}}return l.memoizedState=[a,t],a}function Mc(e,t,l){return l===void 0||(qn&1073741824)!==0&&(ze&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Ym(),_e.lanes|=e,bl|=e,l)}function Yh(e,t,l,a){return Zt(l,t)?l:La.current!==null?(e=Mc(e,l,a),Zt(e,t)||(ht=!0),e):(qn&42)===0||(qn&1073741824)!==0&&(ze&261930)===0?(ht=!0,e.memoizedState=l):(e=Ym(),_e.lanes|=e,bl|=e,t)}function qh(e,t,l,a,s){var f=G.p;G.p=f!==0&&8>f?f:8;var x=L.T,S={};L.T=S,Rc(e,!1,t,l);try{var M=s(),$=L.S;if($!==null&&$(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var F=G0(M,a);Vr(e,t,F,en(e))}else Vr(e,t,a,en(e))}catch(te){Vr(e,t,{then:function(){},status:"rejected",reason:te},en())}finally{G.p=f,x!==null&&S.types!==null&&(x.types=S.types),L.T=x}}function F0(){}function Dc(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=$h(e).queue;qh(e,s,t,A,l===null?F0:function(){return Gh(e),l(a)})}function $h(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:A},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gh(e){var t=$h(e);t.next===null&&(t=e.alternate.memoizedState),Vr(e,t.next.queue,{},en())}function kc(){return _t(ei)}function Xh(){return st().memoizedState}function Wh(){return st().memoizedState}function J0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=en();e=hl(l);var a=ml(t,e,l);a!==null&&(Gt(a,t,l),Dr(a,t,l)),t={cache:sc()},e.payload=t;return}t=t.return}}function P0(e,t,l){var a=en();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},so(e)?Qh(t,l):(l=Fs(e,t,l,a),l!==null&&(Gt(l,e,a),Kh(l,t,a)))}function Zh(e,t,l){var a=en();Vr(e,t,l,a)}function Vr(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(so(e))Qh(t,s);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,S=f(x,l);if(s.hasEagerState=!0,s.eagerState=S,Zt(S,x))return Yi(e,t,s,0),Ke===null&&Ui(),!1}catch{}if(l=Fs(e,t,s,a),l!==null)return Gt(l,e,a),Kh(l,t,a),!0}return!1}function Rc(e,t,l,a){if(a={lane:2,revertLane:du(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},so(e)){if(t)throw Error(o(479))}else t=Fs(e,l,a,2),t!==null&&Gt(t,e,2)}function so(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Qh(e,t){Va=to=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Kh(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,td(e,l)}}var Br={readContext:_t,use:ao,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};Br.useEffectEvent=lt;var Fh={readContext:_t,use:ao,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Rh,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,io(4194308,4,Bh.bind(null,t,e),l)},useLayoutEffect:function(e,t){return io(4194308,4,e,t)},useInsertionEffect:function(e,t){io(4,2,e,t)},useMemo:function(e,t){var l=Lt();t=t===void 0?null:t;var a=e();if(Pl){an(!0);try{e()}finally{an(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Lt();if(l!==void 0){var s=l(t);if(Pl){an(!0);try{l(t)}finally{an(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=P0.bind(null,_e,e),[a.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ac(e);var t=e.queue,l=Zh.bind(null,_e,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Tc,useDeferredValue:function(e,t){var l=Lt();return Mc(l,e,t)},useTransition:function(){var e=Ac(!1);return e=qh.bind(null,_e,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=_e,s=Lt();if(Ve){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Ke===null)throw Error(o(349));(ze&127)!==0||yh(a,t,l)}s.memoizedState=l;var f={value:l,getSnapshot:t};return s.queue=f,Rh(vh.bind(null,a,f,e),[e]),a.flags|=2048,Ia(9,{destroy:void 0},bh.bind(null,a,f,l,t),null),l},useId:function(){var e=Lt(),t=Ke.identifierPrefix;if(Ve){var l=An,a=Cn;l=(a&~(1<<32-jt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=no++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=X0++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:kc,useFormState:Oh,useActionState:Oh,useOptimistic:function(e){var t=Lt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Rc.bind(null,_e,!0,l),l.dispatch=t,[e,t]},useMemoCache:jc,useCacheRefresh:function(){return Lt().memoizedState=J0.bind(null,_e)},useEffectEvent:function(e){var t=Lt(),l={impl:e};return t.memoizedState=l,function(){if((Ue&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},zc={readContext:_t,use:ao,useCallback:Hh,useContext:_t,useEffect:Oc,useImperativeHandle:Ih,useInsertionEffect:Lh,useLayoutEffect:Vh,useMemo:Uh,useReducer:ro,useRef:kh,useState:function(){return ro($n)},useDebugValue:Tc,useDeferredValue:function(e,t){var l=st();return Yh(l,We.memoizedState,e,t)},useTransition:function(){var e=ro($n)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:xh,useId:Xh,useHostTransitionStatus:kc,useFormState:Th,useActionState:Th,useOptimistic:function(e,t){var l=st();return Nh(l,We,e,t)},useMemoCache:jc,useCacheRefresh:Wh};zc.useEffectEvent=zh;var Jh={readContext:_t,use:ao,useCallback:Hh,useContext:_t,useEffect:Oc,useImperativeHandle:Ih,useInsertionEffect:Lh,useLayoutEffect:Vh,useMemo:Uh,useReducer:Cc,useRef:kh,useState:function(){return Cc($n)},useDebugValue:Tc,useDeferredValue:function(e,t){var l=st();return We===null?Mc(l,e,t):Yh(l,We.memoizedState,e,t)},useTransition:function(){var e=Cc($n)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:xh,useId:Xh,useHostTransitionStatus:kc,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,t){var l=st();return We!==null?Nh(l,We,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:jc,useCacheRefresh:Wh};Jh.useEffectEvent=zh;function Lc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:b({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Vc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=en(),s=hl(a);s.payload=t,l!=null&&(s.callback=l),t=ml(e,s,a),t!==null&&(Gt(t,e,a),Dr(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=en(),s=hl(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=ml(e,s,a),t!==null&&(Gt(t,e,a),Dr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=en(),a=hl(l);a.tag=2,t!=null&&(a.callback=t),t=ml(e,a,l),t!==null&&(Gt(t,e,l),Dr(t,e,l))}};function Ph(e,t,l,a,s,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,x):t.prototype&&t.prototype.isPureReactComponent?!jr(l,a)||!jr(s,f):!0}function em(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Vc.enqueueReplaceState(t,t.state,null)}function ea(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=b({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function tm(e){Hi(e)}function nm(e){console.error(e)}function lm(e){Hi(e)}function co(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function am(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Bc(e,t,l){return l=hl(l),l.tag=3,l.payload={element:null},l.callback=function(){co(e,t)},l}function rm(e){return e=hl(e),e.tag=3,e}function im(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var f=a.value;e.payload=function(){return s(f)},e.callback=function(){am(t,l,a)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){am(t,l,a),typeof s!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function ev(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ma(t,l,s,!0),l=Kt.current,l!==null){switch(l.tag){case 31:case 13:return hn===null?So():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===Ki?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),cu(e,a,s)),!1;case 22:return l.flags|=65536,a===Ki?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),cu(e,a,s)),!1}throw Error(o(435,l.tag))}return cu(e,a,s),So(),!1}if(Ve)return t=Kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==lc&&(e=Error(o(422),{cause:a}),Ar(cn(e,l)))):(a!==lc&&(t=Error(o(423),{cause:a}),Ar(cn(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=cn(a,l),s=Bc(e.stateNode,a,s),mc(e,s),at!==4&&(at=2)),!1;var f=Error(o(520),{cause:a});if(f=cn(f,l),Xr===null?Xr=[f]:Xr.push(f),at!==4&&(at=2),t===null)return!0;a=cn(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=Bc(l.stateNode,a,e),mc(l,e),!1;case 1:if(t=l.type,f=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vl===null||!vl.has(f))))return l.flags|=65536,s&=-s,l.lanes|=s,s=rm(s),im(s,e,l,a),mc(l,s),!1}l=l.return}while(l!==null);return!1}var Ic=Error(o(461)),ht=!1;function Ot(e,t,l,a){t.child=e===null?uh(t,null,l,a):Jl(t,e.child,l,a)}function om(e,t,l,a,s){l=l.render;var f=t.ref;if("ref"in a){var x={};for(var S in a)S!=="ref"&&(x[S]=a[S])}else x=a;return Zl(t),a=vc(e,t,l,x,f,s),S=wc(),e!==null&&!ht?(Sc(e,t,s),Gn(e,t,s)):(Ve&&S&&tc(t),t.flags|=1,Ot(e,t,a,s),t.child)}function sm(e,t,l,a,s){if(e===null){var f=l.type;return typeof f=="function"&&!Js(f)&&f.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=f,cm(e,t,f,a,s)):(e=$i(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Wc(e,s)){var x=f.memoizedProps;if(l=l.compare,l=l!==null?l:jr,l(x,a)&&e.ref===t.ref)return Gn(e,t,s)}return t.flags|=1,e=In(f,a),e.ref=t.ref,e.return=t,t.child=e}function cm(e,t,l,a,s){if(e!==null){var f=e.memoizedProps;if(jr(f,a)&&e.ref===t.ref)if(ht=!1,t.pendingProps=a=f,Wc(e,s))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,Gn(e,t,s)}return Hc(e,t,l,a,s)}function um(e,t,l,a){var s=a.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~f}else a=0,t.child=null;return fm(e,t,f,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zi(t,f!==null?f.cachePool:null),f!==null?hh(t,f):gc(),mh(t);else return a=t.lanes=536870912,fm(e,t,f!==null?f.baseLanes|l:l,l,a)}else f!==null?(Zi(t,f.cachePool),hh(t,f),gl(),t.memoizedState=null):(e!==null&&Zi(t,null),gc(),gl());return Ot(e,t,s,l),t.child}function Ir(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function fm(e,t,l,a,s){var f=uc();return f=f===null?null:{parent:ft._currentValue,pool:f},t.memoizedState={baseLanes:l,cachePool:f},e!==null&&Zi(t,null),gc(),mh(t),e!==null&&Ma(e,t,a,!0),t.childLanes=s,null}function uo(e,t){return t=ho({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function dm(e,t,l){return Jl(t,e.child,null,l),e=uo(t,t.pendingProps),e.flags|=2,Ft(t),t.memoizedState=null,e}function tv(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ve){if(a.mode==="hidden")return e=uo(t,a),t.lanes=536870912,Ir(null,e);if(yc(t),(e=Je)?(e=jp(e,dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sl!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Qd(e),l.return=t,t.child=l,At=t,Je=null)):e=null,e===null)throw ul(t);return t.lanes=536870912,null}return uo(t,a)}var f=e.memoizedState;if(f!==null){var x=f.dehydrated;if(yc(t),s)if(t.flags&256)t.flags&=-257,t=dm(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(ht||Ma(e,t,l,!1),s=(l&e.childLanes)!==0,ht||s){if(a=Ke,a!==null&&(x=nd(a,l),x!==0&&x!==f.retryLane))throw f.retryLane=x,$l(e,x),Gt(a,e,x),Ic;So(),t=dm(e,t,l)}else e=f.treeContext,Je=mn(x.nextSibling),At=t,Ve=!0,cl=null,dn=!1,e!==null&&Jd(t,e),t=uo(t,a),t.flags|=4096;return t}return e=In(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fo(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Hc(e,t,l,a,s){return Zl(t),l=vc(e,t,l,a,void 0,s),a=wc(),e!==null&&!ht?(Sc(e,t,s),Gn(e,t,s)):(Ve&&a&&tc(t),t.flags|=1,Ot(e,t,l,s),t.child)}function hm(e,t,l,a,s,f){return Zl(t),t.updateQueue=null,l=gh(t,a,l,s),ph(e),a=wc(),e!==null&&!ht?(Sc(e,t,f),Gn(e,t,f)):(Ve&&a&&tc(t),t.flags|=1,Ot(e,t,l,f),t.child)}function mm(e,t,l,a,s){if(Zl(t),t.stateNode===null){var f=Aa,x=l.contextType;typeof x=="object"&&x!==null&&(f=_t(x)),f=new l(a,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=a,f.state=t.memoizedState,f.refs={},dc(t),x=l.contextType,f.context=typeof x=="object"&&x!==null?_t(x):Aa,f.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Lc(t,l,x,a),f.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&Vc.enqueueReplaceState(f,f.state,null),Rr(t,a,f,s),kr(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){f=t.stateNode;var S=t.memoizedProps,M=ea(l,S);f.props=M;var $=f.context,F=l.contextType;x=Aa,typeof F=="object"&&F!==null&&(x=_t(F));var te=l.getDerivedStateFromProps;F=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||$!==x)&&em(t,f,a,x),dl=!1;var X=t.memoizedState;f.state=X,Rr(t,a,f,s),kr(),$=t.memoizedState,S||X!==$||dl?(typeof te=="function"&&(Lc(t,l,te,a),$=t.memoizedState),(M=dl||Ph(t,l,M,a,X,$,x))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=$),f.props=a,f.state=$,f.context=x,a=M):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{f=t.stateNode,hc(e,t),x=t.memoizedProps,F=ea(l,x),f.props=F,te=t.pendingProps,X=f.context,$=l.contextType,M=Aa,typeof $=="object"&&$!==null&&(M=_t($)),S=l.getDerivedStateFromProps,($=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==te||X!==M)&&em(t,f,a,M),dl=!1,X=t.memoizedState,f.state=X,Rr(t,a,f,s),kr();var Q=t.memoizedState;x!==te||X!==Q||dl||e!==null&&e.dependencies!==null&&Xi(e.dependencies)?(typeof S=="function"&&(Lc(t,l,S,a),Q=t.memoizedState),(F=dl||Ph(t,l,F,a,X,Q,M)||e!==null&&e.dependencies!==null&&Xi(e.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,Q,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,Q,M)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Q),f.props=a,f.state=Q,f.context=M,a=F):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),a=!1)}return f=a,fo(e,t),a=(t.flags&128)!==0,f||a?(f=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&a?(t.child=Jl(t,e.child,null,s),t.child=Jl(t,null,l,s)):Ot(e,t,l,s),t.memoizedState=f.state,e=t.child):e=Gn(e,t,s),e}function pm(e,t,l,a){return Xl(),t.flags|=256,Ot(e,t,l,a),t.child}var Uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(e){return{baseLanes:e,cachePool:ah()}}function qc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Pt),e}function gm(e,t,l){var a=t.pendingProps,s=!1,f=(t.flags&128)!==0,x;if((x=f)||(x=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),x&&(s=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ve){if(s?pl(t):gl(),(e=Je)?(e=jp(e,dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sl!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Qd(e),l.return=t,t.child=l,At=t,Je=null)):e=null,e===null)throw ul(t);return Eu(e)?t.lanes=32:t.lanes=536870912,null}var S=a.children;return a=a.fallback,s?(gl(),s=t.mode,S=ho({mode:"hidden",children:S},s),a=Gl(a,s,l,null),S.return=t,a.return=t,S.sibling=a,t.child=S,a=t.child,a.memoizedState=Yc(l),a.childLanes=qc(e,x,l),t.memoizedState=Uc,Ir(null,a)):(pl(t),$c(t,S))}var M=e.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(f)t.flags&256?(pl(t),t.flags&=-257,t=Gc(e,t,l)):t.memoizedState!==null?(gl(),t.child=e.child,t.flags|=128,t=null):(gl(),S=a.fallback,s=t.mode,a=ho({mode:"visible",children:a.children},s),S=Gl(S,s,l,null),S.flags|=2,a.return=t,S.return=t,a.sibling=S,t.child=a,Jl(t,e.child,null,l),a=t.child,a.memoizedState=Yc(l),a.childLanes=qc(e,x,l),t.memoizedState=Uc,t=Ir(null,a));else if(pl(t),Eu(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var $=x.dgst;x=$,a=Error(o(419)),a.stack="",a.digest=x,Ar({value:a,source:null,stack:null}),t=Gc(e,t,l)}else if(ht||Ma(e,t,l,!1),x=(l&e.childLanes)!==0,ht||x){if(x=Ke,x!==null&&(a=nd(x,l),a!==0&&a!==M.retryLane))throw M.retryLane=a,$l(e,a),Gt(x,e,a),Ic;ju(S)||So(),t=Gc(e,t,l)}else ju(S)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,Je=mn(S.nextSibling),At=t,Ve=!0,cl=null,dn=!1,e!==null&&Jd(t,e),t=$c(t,a.children),t.flags|=4096);return t}return s?(gl(),S=a.fallback,s=t.mode,M=e.child,$=M.sibling,a=In(M,{mode:"hidden",children:a.children}),a.subtreeFlags=M.subtreeFlags&65011712,$!==null?S=In($,S):(S=Gl(S,s,l,null),S.flags|=2),S.return=t,a.return=t,a.sibling=S,t.child=a,Ir(null,a),a=t.child,S=e.child.memoizedState,S===null?S=Yc(l):(s=S.cachePool,s!==null?(M=ft._currentValue,s=s.parent!==M?{parent:M,pool:M}:s):s=ah(),S={baseLanes:S.baseLanes|l,cachePool:s}),a.memoizedState=S,a.childLanes=qc(e,x,l),t.memoizedState=Uc,Ir(e.child,a)):(pl(t),l=e.child,e=l.sibling,l=In(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function $c(e,t){return t=ho({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ho(e,t){return e=Qt(22,e,null,t),e.lanes=0,e}function Gc(e,t,l){return Jl(t,e.child,null,l),e=$c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ic(e.return,t,l)}function Xc(e,t,l,a,s,f){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:f}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=a,x.tail=l,x.tailMode=s,x.treeForkCount=f)}function ym(e,t,l){var a=t.pendingProps,s=a.revealOrder,f=a.tail;a=a.children;var x=ot.current,S=(x&2)!==0;if(S?(x=x&1|2,t.flags|=128):x&=1,Z(ot,x),Ot(e,t,a,l),a=Ve?Cr:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,l,t);else if(e.tag===19)xm(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&eo(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),Xc(t,!1,s,l,f,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&eo(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}Xc(t,!0,l,null,f,a);break;case"together":Xc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Gn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),bl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ma(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=In(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=In(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Wc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xi(e)))}function nv(e,t,l){switch(t.tag){case 3:$e(t,t.stateNode.containerInfo),fl(t,ft,e.memoizedState.cache),Xl();break;case 27:case 5:je(t);break;case 4:$e(t,t.stateNode.containerInfo);break;case 10:fl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(pl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?gm(e,t,l):(pl(t),e=Gn(e,t,l),e!==null?e.sibling:null);pl(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ma(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return ym(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ot,ot.current),a)break;return null;case 22:return t.lanes=0,um(e,t,l,t.pendingProps);case 24:fl(t,ft,e.memoizedState.cache)}return Gn(e,t,l)}function bm(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!Wc(e,l)&&(t.flags&128)===0)return ht=!1,nv(e,t,l);ht=(e.flags&131072)!==0}else ht=!1,Ve&&(t.flags&1048576)!==0&&Fd(t,Cr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Kl(t.elementType),t.type=e,typeof e=="function")Js(e)?(a=ea(e,a),t.tag=1,t=mm(null,t,e,a,l)):(t.tag=0,t=Hc(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===B){t.tag=11,t=om(null,t,e,a,l);break e}else if(s===Y){t.tag=14,t=sm(null,t,e,a,l);break e}}throw t=ce(e)||e,Error(o(306,t,""))}}return t;case 0:return Hc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=ea(a,t.pendingProps),mm(e,t,a,s,l);case 3:e:{if($e(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var f=t.memoizedState;s=f.element,hc(e,t),Rr(t,a,null,l);var x=t.memoizedState;if(a=x.cache,fl(t,ft,a),a!==f.cache&&oc(t,[ft],l,!0),kr(),a=x.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=pm(e,t,a,l);break e}else if(a!==s){s=cn(Error(o(424)),t),Ar(s),t=pm(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Je=mn(e.firstChild),At=t,Ve=!0,cl=null,dn=!0,l=uh(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Xl(),a===s){t=Gn(e,t,l);break e}Ot(e,t,a,l)}t=t.child}return t;case 26:return fo(e,t),e===null?(l=Tp(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ve||(l=t.type,e=t.pendingProps,a=Oo(ge.current).createElement(l),a[Ct]=t,a[It]=e,Tt(a,l,e),St(a),t.stateNode=a):t.memoizedState=Tp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&Ve&&(a=t.stateNode=Ap(t.type,t.pendingProps,ge.current),At=t,dn=!0,s=Je,jl(t.type)?(Cu=s,Je=mn(a.firstChild)):Je=s),Ot(e,t,t.pendingProps.children,l),fo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ve&&((s=a=Je)&&(a=Dv(a,t.type,t.pendingProps,dn),a!==null?(t.stateNode=a,At=t,Je=mn(a.firstChild),dn=!1,s=!0):s=!1),s||ul(t)),je(t),s=t.type,f=t.pendingProps,x=e!==null?e.memoizedProps:null,a=f.children,wu(s,f)?a=null:x!==null&&wu(s,x)&&(t.flags|=32),t.memoizedState!==null&&(s=vc(e,t,W0,null,null,l),ei._currentValue=s),fo(e,t),Ot(e,t,a,l),t.child;case 6:return e===null&&Ve&&((e=l=Je)&&(l=kv(l,t.pendingProps,dn),l!==null?(t.stateNode=l,At=t,Je=null,e=!0):e=!1),e||ul(t)),null;case 13:return gm(e,t,l);case 4:return $e(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Jl(t,null,a,l):Ot(e,t,a,l),t.child;case 11:return om(e,t,t.type,t.pendingProps,l);case 7:return Ot(e,t,t.pendingProps,l),t.child;case 8:return Ot(e,t,t.pendingProps.children,l),t.child;case 12:return Ot(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,fl(t,t.type,a.value),Ot(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Zl(t),s=_t(s),a=a(s),t.flags|=1,Ot(e,t,a,l),t.child;case 14:return sm(e,t,t.type,t.pendingProps,l);case 15:return cm(e,t,t.type,t.pendingProps,l);case 19:return ym(e,t,l);case 31:return tv(e,t,l);case 22:return um(e,t,l,t.pendingProps);case 24:return Zl(t),a=_t(ft),e===null?(s=uc(),s===null&&(s=Ke,f=sc(),s.pooledCache=f,f.refCount++,f!==null&&(s.pooledCacheLanes|=l),s=f),t.memoizedState={parent:a,cache:s},dc(t),fl(t,ft,s)):((e.lanes&l)!==0&&(hc(e,t),Rr(t,null,null,l),kr()),s=e.memoizedState,f=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),fl(t,ft,a)):(a=f.cache,fl(t,ft,a),a!==s.cache&&oc(t,[ft],l,!0))),Ot(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xn(e){e.flags|=4}function Zc(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Xm())e.flags|=8192;else throw Fl=Ki,fc}else e.flags&=-16777217}function vm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zp(t))if(Xm())e.flags|=8192;else throw Fl=Ki,fc}function mo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hr():536870912,e.lanes|=t,qa|=t)}function Hr(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function lv(e,t,l){var a=t.pendingProps;switch(nc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Yn(ft),ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ta(t)?Xn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ac())),Pe(t),null;case 26:var s=t.type,f=t.memoizedState;return e===null?(Xn(t),f!==null?(Pe(t),vm(t,f)):(Pe(t),Zc(t,s,null,a,l))):f?f!==e.memoizedState?(Xn(t),Pe(t),vm(t,f)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Xn(t),Pe(t),Zc(t,s,e,a,l)),null;case 27:if(Be(t),l=ge.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Xn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}e=ne.current,Ta(t)?Pd(t):(e=Ap(s,a,l),t.stateNode=e,Xn(t))}return Pe(t),null;case 5:if(Be(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Xn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Pe(t),null}if(f=ne.current,Ta(t))Pd(t);else{var x=Oo(ge.current);switch(f){case 1:f=x.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:f=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":f=x.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":f=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":f=x.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof a.is=="string"?x.createElement("select",{is:a.is}):x.createElement("select"),a.multiple?f.multiple=!0:a.size&&(f.size=a.size);break;default:f=typeof a.is=="string"?x.createElement(s,{is:a.is}):x.createElement(s)}}f[Ct]=t,f[It]=a;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=f;e:switch(Tt(f,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Xn(t)}}return Pe(t),Zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Xn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=ge.current,Ta(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=At,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Ct]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||gp(e.nodeValue,l)),e||ul(t,!0)}else e=Oo(e).createTextNode(a),e[Ct]=t,t.stateNode=e}return Pe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ta(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Ct]=t}else Xl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else l=ac(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ft(t),t):(Ft(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Pe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Ta(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[Ct]=t}else Xl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),s=!1}else s=ac(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ft(t),t):(Ft(t),null)}return Ft(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),mo(t,t.updateQueue),Pe(t),null);case 4:return ae(),e===null&&gu(t.stateNode.containerInfo),Pe(t),null;case 10:return Yn(t.type),Pe(t),null;case 19:if(V(ot),a=t.memoizedState,a===null)return Pe(t),null;if(s=(t.flags&128)!==0,f=a.rendering,f===null)if(s)Hr(a,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=eo(e),f!==null){for(t.flags|=128,Hr(a,!1),e=f.updateQueue,t.updateQueue=e,mo(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Zd(l,e),l=l.sibling;return Z(ot,ot.current&1|2),Ve&&Hn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&nt()>bo&&(t.flags|=128,s=!0,Hr(a,!1),t.lanes=4194304)}else{if(!s)if(e=eo(f),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,mo(t,e),Hr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!Ve)return Pe(t),null}else 2*nt()-a.renderingStartTime>bo&&l!==536870912&&(t.flags|=128,s=!0,Hr(a,!1),t.lanes=4194304);a.isBackwards?(f.sibling=t.child,t.child=f):(e=a.last,e!==null?e.sibling=f:t.child=f,a.last=f)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=nt(),e.sibling=null,l=ot.current,Z(ot,s?l&1|2:l&1),Ve&&Hn(t,a.treeForkCount),e):(Pe(t),null);case 22:case 23:return Ft(t),xc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),l=t.updateQueue,l!==null&&mo(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&V(Ql),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Yn(ft),Pe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function av(e,t){switch(nc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(ft),ae(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Be(t),null;case 31:if(t.memoizedState!==null){if(Ft(t),t.alternate===null)throw Error(o(340));Xl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ft(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Xl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(ot),null;case 4:return ae(),null;case 10:return Yn(t.type),null;case 22:case 23:return Ft(t),xc(),e!==null&&V(Ql),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Yn(ft),null;case 25:return null;default:return null}}function wm(e,t){switch(nc(t),t.tag){case 3:Yn(ft),ae();break;case 26:case 27:case 5:Be(t);break;case 4:ae();break;case 31:t.memoizedState!==null&&Ft(t);break;case 13:Ft(t);break;case 19:V(ot);break;case 10:Yn(t.type);break;case 22:case 23:Ft(t),xc(),e!==null&&V(Ql);break;case 24:Yn(ft)}}function Ur(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var f=l.create,x=l.inst;a=f(),x.destroy=a}l=l.next}while(l!==s)}}catch(S){Xe(t,t.return,S)}}function xl(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var f=s.next;a=f;do{if((a.tag&e)===e){var x=a.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,s=t;var M=l,$=S;try{$()}catch(F){Xe(s,M,F)}}}a=a.next}while(a!==f)}}catch(F){Xe(t,t.return,F)}}function Sm(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{dh(t,l)}catch(a){Xe(e,e.return,a)}}}function Nm(e,t,l){l.props=ea(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Xe(e,t,a)}}function Yr(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){Xe(e,t,s)}}function _n(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){Xe(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){Xe(e,t,s)}else l.current=null}function jm(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){Xe(e,e.return,s)}}function Qc(e,t,l){try{var a=e.stateNode;Cv(a,e.type,l,t),a[It]=t}catch(s){Xe(e,e.return,s)}}function Em(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&jl(e.type)||e.tag===4}function Kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&jl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Vn));else if(a!==4&&(a===27&&jl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Fc(e,t,l),e=e.sibling;e!==null;)Fc(e,t,l),e=e.sibling}function po(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&jl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(po(e,t,l),e=e.sibling;e!==null;)po(e,t,l),e=e.sibling}function Cm(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Tt(t,a,l),t[Ct]=e,t[It]=l}catch(f){Xe(e,e.return,f)}}var Wn=!1,mt=!1,Jc=!1,Am=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function rv(e,t){if(e=e.containerInfo,bu=Lo,e=Id(e),Gs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break e}var x=0,S=-1,M=-1,$=0,F=0,te=e,X=null;t:for(;;){for(var Q;te!==l||s!==0&&te.nodeType!==3||(S=x+s),te!==f||a!==0&&te.nodeType!==3||(M=x+a),te.nodeType===3&&(x+=te.nodeValue.length),(Q=te.firstChild)!==null;)X=te,te=Q;for(;;){if(te===e)break t;if(X===l&&++$===s&&(S=x),X===f&&++F===a&&(M=x),(Q=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=Q}l=S===-1||M===-1?null:{start:S,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(vu={focusedElem:e,selectionRange:l},Lo=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,l=t,s=f.memoizedProps,f=f.memoizedState,a=l.stateNode;try{var he=ea(l.type,s);e=a.getSnapshotBeforeUpdate(he,f),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){Xe(l,l.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Nu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}}function _m(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Qn(e,l),a&4&&Ur(5,l);break;case 1:if(Qn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){Xe(l,l.return,x)}else{var s=ea(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Xe(l,l.return,x)}}a&64&&Sm(l),a&512&&Yr(l,l.return);break;case 3:if(Qn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{dh(e,t)}catch(x){Xe(l,l.return,x)}}break;case 27:t===null&&a&4&&Cm(l);case 26:case 5:Qn(e,l),t===null&&a&4&&jm(l),a&512&&Yr(l,l.return);break;case 12:Qn(e,l);break;case 31:Qn(e,l),a&4&&Mm(e,l);break;case 13:Qn(e,l),a&4&&Dm(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=mv.bind(null,l),Rv(e,l))));break;case 22:if(a=l.memoizedState!==null||Wn,!a){t=t!==null&&t.memoizedState!==null||mt,s=Wn;var f=mt;Wn=a,(mt=t)&&!f?Kn(e,l,(l.subtreeFlags&8772)!==0):Qn(e,l),Wn=s,mt=f}break;case 30:break;default:Qn(e,l)}}function Om(e){var t=e.alternate;t!==null&&(e.alternate=null,Om(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_s(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,Ut=!1;function Zn(e,t,l){for(l=l.child;l!==null;)Tm(e,t,l),l=l.sibling}function Tm(e,t,l){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(yn,l)}catch{}switch(l.tag){case 26:mt||_n(l,t),Zn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||_n(l,t);var a=et,s=Ut;jl(l.type)&&(et=l.stateNode,Ut=!1),Zn(e,t,l),Fr(l.stateNode),et=a,Ut=s;break;case 5:mt||_n(l,t);case 6:if(a=et,s=Ut,et=null,Zn(e,t,l),et=a,Ut=s,et!==null)if(Ut)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(l.stateNode)}catch(f){Xe(l,t,f)}else try{et.removeChild(l.stateNode)}catch(f){Xe(l,t,f)}break;case 18:et!==null&&(Ut?(e=et,Sp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Fa(e)):Sp(et,l.stateNode));break;case 4:a=et,s=Ut,et=l.stateNode.containerInfo,Ut=!0,Zn(e,t,l),et=a,Ut=s;break;case 0:case 11:case 14:case 15:xl(2,l,t),mt||xl(4,l,t),Zn(e,t,l);break;case 1:mt||(_n(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Nm(l,t,a)),Zn(e,t,l);break;case 21:Zn(e,t,l);break;case 22:mt=(a=mt)||l.memoizedState!==null,Zn(e,t,l),mt=a;break;default:Zn(e,t,l)}}function Mm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(l){Xe(t,t.return,l)}}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(l){Xe(t,t.return,l)}}function iv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Am),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Am),t;default:throw Error(o(435,e.tag))}}function go(e,t){var l=iv(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=pv.bind(null,e,a);a.then(s,s)}})}function Yt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],f=e,x=t,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(jl(S.type)){et=S.stateNode,Ut=!1;break e}break;case 5:et=S.stateNode,Ut=!1;break e;case 3:case 4:et=S.stateNode.containerInfo,Ut=!0;break e}S=S.return}if(et===null)throw Error(o(160));Tm(f,x,s),et=null,Ut=!1,f=s.alternate,f!==null&&(f.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)km(t,e),t=t.sibling}var wn=null;function km(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yt(t,e),qt(e),a&4&&(xl(3,e,e.return),Ur(3,e),xl(5,e,e.return));break;case 1:Yt(t,e),qt(e),a&512&&(mt||l===null||_n(l,l.return)),a&64&&Wn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=wn;if(Yt(t,e),qt(e),a&512&&(mt||l===null||_n(l,l.return)),a&4){var f=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":f=s.getElementsByTagName("title")[0],(!f||f[pr]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=s.createElement(a),s.head.insertBefore(f,s.querySelector("head > title"))),Tt(f,a,l),f[Ct]=e,St(f),a=f;break e;case"link":var x=kp("link","href",s).get(a+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(f=x[S],f.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&f.getAttribute("rel")===(l.rel==null?null:l.rel)&&f.getAttribute("title")===(l.title==null?null:l.title)&&f.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}f=s.createElement(a),Tt(f,a,l),s.head.appendChild(f);break;case"meta":if(x=kp("meta","content",s).get(a+(l.content||""))){for(S=0;S<x.length;S++)if(f=x[S],f.getAttribute("content")===(l.content==null?null:""+l.content)&&f.getAttribute("name")===(l.name==null?null:l.name)&&f.getAttribute("property")===(l.property==null?null:l.property)&&f.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&f.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}f=s.createElement(a),Tt(f,a,l),s.head.appendChild(f);break;default:throw Error(o(468,a))}f[Ct]=e,St(f),a=f}e.stateNode=a}else Rp(s,e.type,e.stateNode);else e.stateNode=Dp(s,a,e.memoizedProps);else f!==a?(f===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):f.count--,a===null?Rp(s,e.type,e.stateNode):Dp(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Qc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Yt(t,e),qt(e),a&512&&(mt||l===null||_n(l,l.return)),l!==null&&a&4&&Qc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Yt(t,e),qt(e),a&512&&(mt||l===null||_n(l,l.return)),e.flags&32){s=e.stateNode;try{va(s,"")}catch(he){Xe(e,e.return,he)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Qc(e,s,l!==null?l.memoizedProps:s)),a&1024&&(Jc=!0);break;case 6:if(Yt(t,e),qt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(he){Xe(e,e.return,he)}}break;case 3:if(Do=null,s=wn,wn=To(t.containerInfo),Yt(t,e),wn=s,qt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Fa(t.containerInfo)}catch(he){Xe(e,e.return,he)}Jc&&(Jc=!1,Rm(e));break;case 4:a=wn,wn=To(e.stateNode.containerInfo),Yt(t,e),qt(e),wn=a;break;case 12:Yt(t,e),qt(e);break;case 31:Yt(t,e),qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,go(e,a)));break;case 13:Yt(t,e),qt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(yo=nt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,go(e,a)));break;case 22:s=e.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,$=Wn,F=mt;if(Wn=$||s,mt=F||M,Yt(t,e),mt=F,Wn=$,qt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||M||Wn||mt||ta(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){M=l=t;try{if(f=M.stateNode,s)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=M.stateNode;var te=M.memoizedProps.style,X=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(he){Xe(M,M.return,he)}}}else if(t.tag===6){if(l===null){M=t;try{M.stateNode.nodeValue=s?"":M.memoizedProps}catch(he){Xe(M,M.return,he)}}}else if(t.tag===18){if(l===null){M=t;try{var Q=M.stateNode;s?Np(Q,!0):Np(M.stateNode,!1)}catch(he){Xe(M,M.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,go(e,l))));break;case 19:Yt(t,e),qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,go(e,a)));break;case 30:break;case 21:break;default:Yt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Em(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,f=Kc(e);po(e,f,s);break;case 5:var x=l.stateNode;l.flags&32&&(va(x,""),l.flags&=-33);var S=Kc(e);po(e,S,x);break;case 3:case 4:var M=l.stateNode.containerInfo,$=Kc(e);Fc(e,$,M);break;default:throw Error(o(161))}}catch(F){Xe(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Qn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_m(e,t.alternate,t),t=t.sibling}function ta(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xl(4,t,t.return),ta(t);break;case 1:_n(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Nm(t,t.return,l),ta(t);break;case 27:Fr(t.stateNode);case 26:case 5:_n(t,t.return),ta(t);break;case 22:t.memoizedState===null&&ta(t);break;case 30:ta(t);break;default:ta(t)}e=e.sibling}}function Kn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,f=t,x=f.flags;switch(f.tag){case 0:case 11:case 15:Kn(s,f,l),Ur(4,f);break;case 1:if(Kn(s,f,l),a=f,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch($){Xe(a,a.return,$)}if(a=f,s=a.updateQueue,s!==null){var S=a.stateNode;try{var M=s.shared.hiddenCallbacks;if(M!==null)for(s.shared.hiddenCallbacks=null,s=0;s<M.length;s++)fh(M[s],S)}catch($){Xe(a,a.return,$)}}l&&x&64&&Sm(f),Yr(f,f.return);break;case 27:Cm(f);case 26:case 5:Kn(s,f,l),l&&a===null&&x&4&&jm(f),Yr(f,f.return);break;case 12:Kn(s,f,l);break;case 31:Kn(s,f,l),l&&x&4&&Mm(s,f);break;case 13:Kn(s,f,l),l&&x&4&&Dm(s,f);break;case 22:f.memoizedState===null&&Kn(s,f,l),Yr(f,f.return);break;case 30:break;default:Kn(s,f,l)}t=t.sibling}}function Pc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&_r(l))}function eu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_r(e))}function Sn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zm(e,t,l,a),t=t.sibling}function zm(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Sn(e,t,l,a),s&2048&&Ur(9,t);break;case 1:Sn(e,t,l,a);break;case 3:Sn(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_r(e)));break;case 12:if(s&2048){Sn(e,t,l,a),e=t.stateNode;try{var f=t.memoizedProps,x=f.id,S=f.onPostCommit;typeof S=="function"&&S(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Xe(t,t.return,M)}}else Sn(e,t,l,a);break;case 31:Sn(e,t,l,a);break;case 13:Sn(e,t,l,a);break;case 23:break;case 22:f=t.stateNode,x=t.alternate,t.memoizedState!==null?f._visibility&2?Sn(e,t,l,a):qr(e,t):f._visibility&2?Sn(e,t,l,a):(f._visibility|=2,Ha(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Pc(x,t);break;case 24:Sn(e,t,l,a),s&2048&&eu(t.alternate,t);break;default:Sn(e,t,l,a)}}function Ha(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,x=t,S=l,M=a,$=x.flags;switch(x.tag){case 0:case 11:case 15:Ha(f,x,S,M,s),Ur(8,x);break;case 23:break;case 22:var F=x.stateNode;x.memoizedState!==null?F._visibility&2?Ha(f,x,S,M,s):qr(f,x):(F._visibility|=2,Ha(f,x,S,M,s)),s&&$&2048&&Pc(x.alternate,x);break;case 24:Ha(f,x,S,M,s),s&&$&2048&&eu(x.alternate,x);break;default:Ha(f,x,S,M,s)}t=t.sibling}}function qr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:qr(l,a),s&2048&&Pc(a.alternate,a);break;case 24:qr(l,a),s&2048&&eu(a.alternate,a);break;default:qr(l,a)}t=t.sibling}}var $r=8192;function Ua(e,t,l){if(e.subtreeFlags&$r)for(e=e.child;e!==null;)Lm(e,t,l),e=e.sibling}function Lm(e,t,l){switch(e.tag){case 26:Ua(e,t,l),e.flags&$r&&e.memoizedState!==null&&Xv(l,wn,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,t,l);break;case 3:case 4:var a=wn;wn=To(e.stateNode.containerInfo),Ua(e,t,l),wn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=$r,$r=16777216,Ua(e,t,l),$r=a):Ua(e,t,l));break;default:Ua(e,t,l)}}function Vm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Nt=a,Im(a,e)}Vm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bm(e),e=e.sibling}function Bm(e){switch(e.tag){case 0:case 11:case 15:Gr(e),e.flags&2048&&xl(9,e,e.return);break;case 3:Gr(e);break;case 12:Gr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xo(e)):Gr(e);break;default:Gr(e)}}function xo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Nt=a,Im(a,e)}Vm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xl(8,t,t.return),xo(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,xo(t));break;default:xo(t)}e=e.sibling}}function Im(e,t){for(;Nt!==null;){var l=Nt;switch(l.tag){case 0:case 11:case 15:xl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:_r(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Nt=a;else e:for(l=e;Nt!==null;){a=Nt;var s=a.sibling,f=a.return;if(Om(a),a===l){Nt=null;break e}if(s!==null){s.return=f,Nt=s;break e}Nt=f}}}var ov={getCacheForType:function(e){var t=_t(ft),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return _t(ft).controller.signal}},sv=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ke=null,ke=null,ze=0,Ge=0,Jt=null,yl=!1,Ya=!1,tu=!1,Fn=0,at=0,bl=0,na=0,nu=0,Pt=0,qa=0,Xr=null,$t=null,lu=!1,yo=0,Hm=0,bo=1/0,vo=null,vl=null,yt=0,wl=null,$a=null,Jn=0,au=0,ru=null,Um=null,Wr=0,iu=null;function en(){return(Ue&2)!==0&&ze!==0?ze&-ze:L.T!==null?du():ld()}function Ym(){if(Pt===0)if((ze&536870912)===0||Ve){var e=ut;ut<<=1,(ut&3932160)===0&&(ut=262144),Pt=e}else Pt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Pt}function Gt(e,t,l){(e===Ke&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(Ga(e,0),Sl(e,ze,Pt,!1)),mr(e,l),((Ue&2)===0||e!==Ke)&&(e===Ke&&((Ue&2)===0&&(na|=l),at===4&&Sl(e,ze,Pt,!1)),On(e))}function qm(e,t,l){if((Ue&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||bn(e,t),s=a?fv(e,t):su(e,t,!0),f=a;do{if(s===0){Ya&&!a&&Sl(e,t,0,!1);break}else{if(l=e.current.alternate,f&&!cv(l)){s=su(e,t,!1),f=!1;continue}if(s===2){if(f=t,e.errorRecoveryDisabledLanes&f)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var S=e;s=Xr;var M=S.current.memoizedState.isDehydrated;if(M&&(Ga(S,x).flags|=256),x=su(S,x,!1),x!==2){if(tu&&!M){S.errorRecoveryDisabledLanes|=f,na|=f,s=4;break e}f=$t,$t=s,f!==null&&($t===null?$t=f:$t.push.apply($t,f))}s=x}if(f=!1,s!==2)continue}}if(s===1){Ga(e,0),Sl(e,t,0,!0);break}e:{switch(a=e,f=s,f){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Sl(a,t,Pt,!yl);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=yo+300-nt(),10<s)){if(Sl(a,t,Pt,!yl),En(a,0,!0)!==0)break e;Jn=t,a.timeoutHandle=vp($m.bind(null,a,l,$t,vo,lu,t,Pt,na,qa,yl,f,"Throttled",-0,0),s);break e}$m(a,l,$t,vo,lu,t,Pt,na,qa,yl,f,null,-0,0)}}break}while(!0);On(e)}function $m(e,t,l,a,s,f,x,S,M,$,F,te,X,Q){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},Lm(t,f,te);var he=(f&62914560)===f?yo-nt():(f&4194048)===f?Hm-nt():0;if(he=Wv(te,he),he!==null){Jn=f,e.cancelPendingCommit=he(Jm.bind(null,e,t,f,l,a,s,x,S,M,F,te,null,X,Q)),Sl(e,f,x,!$);return}}Jm(e,t,f,l,a,s,x,S,M)}function cv(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],f=s.getSnapshot;s=s.value;try{if(!Zt(f(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sl(e,t,l,a){t&=~nu,t&=~na,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var f=31-jt(s),x=1<<f;a[f]=-1,s&=~x}l!==0&&ed(e,l,t)}function wo(){return(Ue&6)===0?(Zr(0),!1):!0}function ou(){if(ke!==null){if(Ge===0)var e=ke.return;else e=ke,Un=Wl=null,Nc(e),za=null,Tr=0,e=ke;for(;e!==null;)wm(e.alternate,e),e=e.return;ke=null}}function Ga(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Ov(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Jn=0,ou(),Ke=e,ke=l=In(e.current,null),ze=t,Ge=0,Jt=null,yl=!1,Ya=bn(e,t),tu=!1,qa=Pt=nu=na=bl=at=0,$t=Xr=null,lu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-jt(a),f=1<<s;t|=e[s],a&=~f}return Fn=t,Ui(),l}function Gm(e,t){_e=null,L.H=Br,t===Ra||t===Qi?(t=oh(),Ge=3):t===fc?(t=oh(),Ge=4):Ge=t===Ic?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jt=t,ke===null&&(at=1,co(e,cn(t,e.current)))}function Xm(){var e=Kt.current;return e===null?!0:(ze&4194048)===ze?hn===null:(ze&62914560)===ze||(ze&536870912)!==0?e===hn:!1}function Wm(){var e=L.H;return L.H=Br,e===null?Br:e}function Zm(){var e=L.A;return L.A=ov,e}function So(){at=4,yl||(ze&4194048)!==ze&&Kt.current!==null||(Ya=!0),(bl&134217727)===0&&(na&134217727)===0||Ke===null||Sl(Ke,ze,Pt,!1)}function su(e,t,l){var a=Ue;Ue|=2;var s=Wm(),f=Zm();(Ke!==e||ze!==t)&&(vo=null,Ga(e,t)),t=!1;var x=at;e:do try{if(Ge!==0&&ke!==null){var S=ke,M=Jt;switch(Ge){case 8:ou(),x=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var $=Ge;if(Ge=0,Jt=null,Xa(e,S,M,$),l&&Ya){x=0;break e}break;default:$=Ge,Ge=0,Jt=null,Xa(e,S,M,$)}}uv(),x=at;break}catch(F){Gm(e,F)}while(!0);return t&&e.shellSuspendCounter++,Un=Wl=null,Ue=a,L.H=s,L.A=f,ke===null&&(Ke=null,ze=0,Ui()),x}function uv(){for(;ke!==null;)Qm(ke)}function fv(e,t){var l=Ue;Ue|=2;var a=Wm(),s=Zm();Ke!==e||ze!==t?(vo=null,bo=nt()+500,Ga(e,t)):Ya=bn(e,t);e:do try{if(Ge!==0&&ke!==null){t=ke;var f=Jt;t:switch(Ge){case 1:Ge=0,Jt=null,Xa(e,t,f,1);break;case 2:case 9:if(rh(f)){Ge=0,Jt=null,Km(t);break}t=function(){Ge!==2&&Ge!==9||Ke!==e||(Ge=7),On(e)},f.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:rh(f)?(Ge=0,Jt=null,Km(t)):(Ge=0,Jt=null,Xa(e,t,f,7));break;case 5:var x=null;switch(ke.tag){case 26:x=ke.memoizedState;case 5:case 27:var S=ke;if(x?zp(x):S.stateNode.complete){Ge=0,Jt=null;var M=S.sibling;if(M!==null)ke=M;else{var $=S.return;$!==null?(ke=$,No($)):ke=null}break t}}Ge=0,Jt=null,Xa(e,t,f,5);break;case 6:Ge=0,Jt=null,Xa(e,t,f,6);break;case 8:ou(),at=6;break e;default:throw Error(o(462))}}dv();break}catch(F){Gm(e,F)}while(!0);return Un=Wl=null,L.H=a,L.A=s,Ue=l,ke!==null?0:(Ke=null,ze=0,Ui(),at)}function dv(){for(;ke!==null&&!ua();)Qm(ke)}function Qm(e){var t=bm(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?No(e):ke=t}function Km(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=hm(l,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=hm(l,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:Nc(t);default:wm(l,t),t=ke=Zd(t,Fn),t=bm(l,t,Fn)}e.memoizedProps=e.pendingProps,t===null?No(e):ke=t}function Xa(e,t,l,a){Un=Wl=null,Nc(t),za=null,Tr=0;var s=t.return;try{if(ev(e,s,t,l,ze)){at=1,co(e,cn(l,e.current)),ke=null;return}}catch(f){if(s!==null)throw ke=s,f;at=1,co(e,cn(l,e.current)),ke=null;return}t.flags&32768?(Ve||a===1?e=!0:Ya||(ze&536870912)!==0?e=!1:(yl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Kt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fm(t,e)):No(t)}function No(e){var t=e;do{if((t.flags&32768)!==0){Fm(t,yl);return}e=t.return;var l=lv(t.alternate,t,Fn);if(l!==null){ke=l;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);at===0&&(at=5)}function Fm(e,t){do{var l=av(e.alternate,e);if(l!==null){l.flags&=32767,ke=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=l}while(e!==null);at=6,ke=null}function Jm(e,t,l,a,s,f,x,S,M){e.cancelPendingCommit=null;do jo();while(yt!==0);if((Ue&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(f=t.lanes|t.childLanes,f|=Ks,Gb(e,l,f,x,S,M),e===Ke&&(ke=Ke=null,ze=0),$a=t,wl=e,Jn=l,au=f,ru=s,Um=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gv(Se,function(){return lp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=L.T,L.T=null,s=G.p,G.p=2,x=Ue,Ue|=4;try{rv(e,t,l)}finally{Ue=x,G.p=s,L.T=a}}yt=1,Pm(),ep(),tp()}}function Pm(){if(yt===1){yt=0;var e=wl,t=$a,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var a=G.p;G.p=2;var s=Ue;Ue|=4;try{km(t,e);var f=vu,x=Id(e.containerInfo),S=f.focusedElem,M=f.selectionRange;if(x!==S&&S&&S.ownerDocument&&Bd(S.ownerDocument.documentElement,S)){if(M!==null&&Gs(S)){var $=M.start,F=M.end;if(F===void 0&&(F=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(F,S.value.length);else{var te=S.ownerDocument||document,X=te&&te.defaultView||window;if(X.getSelection){var Q=X.getSelection(),he=S.textContent.length,Ne=Math.min(M.start,he),Qe=M.end===void 0?Ne:Math.min(M.end,he);!Q.extend&&Ne>Qe&&(x=Qe,Qe=Ne,Ne=x);var H=Vd(S,Ne),R=Vd(S,Qe);if(H&&R&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==R.node||Q.focusOffset!==R.offset)){var q=te.createRange();q.setStart(H.node,H.offset),Q.removeAllRanges(),Ne>Qe?(Q.addRange(q),Q.extend(R.node,R.offset)):(q.setEnd(R.node,R.offset),Q.addRange(q))}}}}for(te=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var P=te[S];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Lo=!!bu,vu=bu=null}finally{Ue=s,G.p=a,L.T=l}}e.current=t,yt=2}}function ep(){if(yt===2){yt=0;var e=wl,t=$a,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var a=G.p;G.p=2;var s=Ue;Ue|=4;try{_m(e,t.alternate,t)}finally{Ue=s,G.p=a,L.T=l}}yt=3}}function tp(){if(yt===4||yt===3){yt=0,tt();var e=wl,t=$a,l=Jn,a=Um;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?yt=5:(yt=0,$a=wl=null,np(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(vl=null),Cs(l),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(yn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=L.T,s=G.p,G.p=2,L.T=null;try{for(var f=e.onRecoverableError,x=0;x<a.length;x++){var S=a[x];f(S.value,{componentStack:S.stack})}}finally{L.T=t,G.p=s}}(Jn&3)!==0&&jo(),On(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===iu?Wr++:(Wr=0,iu=e):Wr=0,Zr(0)}}function np(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_r(t)))}function jo(){return Pm(),ep(),tp(),lp()}function lp(){if(yt!==5)return!1;var e=wl,t=au;au=0;var l=Cs(Jn),a=L.T,s=G.p;try{G.p=32>l?32:l,L.T=null,l=ru,ru=null;var f=wl,x=Jn;if(yt=0,$a=wl=null,Jn=0,(Ue&6)!==0)throw Error(o(331));var S=Ue;if(Ue|=4,Bm(f.current),zm(f,f.current,x,l),Ue=S,Zr(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(yn,f)}catch{}return!0}finally{G.p=s,L.T=a,np(e,t)}}function ap(e,t,l){t=cn(l,t),t=Bc(e.stateNode,t,2),e=ml(e,t,2),e!==null&&(mr(e,2),On(e))}function Xe(e,t,l){if(e.tag===3)ap(e,e,l);else for(;t!==null;){if(t.tag===3){ap(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(vl===null||!vl.has(a))){e=cn(l,e),l=rm(2),a=ml(t,l,2),a!==null&&(im(l,a,t,e),mr(a,2),On(a));break}}t=t.return}}function cu(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new sv;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(tu=!0,s.add(l),e=hv.bind(null,e,t,l),t.then(e,e))}function hv(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ke===e&&(ze&l)===l&&(at===4||at===3&&(ze&62914560)===ze&&300>nt()-yo?(Ue&2)===0&&Ga(e,0):nu|=l,qa===ze&&(qa=0)),On(e)}function rp(e,t){t===0&&(t=hr()),e=$l(e,t),e!==null&&(mr(e,t),On(e))}function mv(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),rp(e,l)}function pv(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),rp(e,l)}function gv(e,t){return Bt(e,t)}var Eo=null,Wa=null,uu=!1,Co=!1,fu=!1,Nl=0;function On(e){e!==Wa&&e.next===null&&(Wa===null?Eo=Wa=e:Wa=Wa.next=e),Co=!0,uu||(uu=!0,yv())}function Zr(e,t){if(!fu&&Co){fu=!0;do for(var l=!1,a=Eo;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var f=0;else{var x=a.suspendedLanes,S=a.pingedLanes;f=(1<<31-jt(42|e)+1)-1,f&=s&~(x&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(l=!0,cp(a,f))}else f=ze,f=En(a,a===Ke?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||bn(a,f)||(l=!0,cp(a,f));a=a.next}while(l);fu=!1}}function xv(){ip()}function ip(){Co=uu=!1;var e=0;Nl!==0&&_v()&&(e=Nl);for(var t=nt(),l=null,a=Eo;a!==null;){var s=a.next,f=op(a,t);f===0?(a.next=null,l===null?Eo=s:l.next=s,s===null&&(Wa=l)):(l=a,(e!==0||(f&3)!==0)&&(Co=!0)),a=s}yt!==0&&yt!==5||Zr(e),Nl!==0&&(Nl=0)}function op(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var x=31-jt(f),S=1<<x,M=s[x];M===-1?((S&l)===0||(S&a)!==0)&&(s[x]=da(S,t)):M<=t&&(e.expiredLanes|=S),f&=~S}if(t=Ke,l=ze,l=En(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Il(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||bn(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Il(a),Cs(l)){case 2:case 8:l=ue;break;case 32:l=Se;break;case 268435456:l=Fe;break;default:l=Se}return a=sp.bind(null,e),l=Bt(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Il(a),e.callbackPriority=2,e.callbackNode=null,2}function sp(e,t){if(yt!==0&&yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(jo()&&e.callbackNode!==l)return null;var a=ze;return a=En(e,e===Ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(qm(e,a,t),op(e,nt()),e.callbackNode!=null&&e.callbackNode===l?sp.bind(null,e):null)}function cp(e,t){if(jo())return null;qm(e,t,!0)}function yv(){Tv(function(){(Ue&6)!==0?Bt(fa,xv):ip()})}function du(){if(Nl===0){var e=Da;e===0&&(e=Ee,Ee<<=1,(Ee&261888)===0&&(Ee=256)),Nl=e}return Nl}function up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ki(""+e)}function fp(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function bv(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var f=up((s[It]||null).action),x=a.submitter;x&&(t=(t=x[It]||null)?up(t.formAction):x.getAttribute("formAction"),t!==null&&(f=t,x=null));var S=new Vi("action","action",null,a,s);e.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Nl!==0){var M=x?fp(s,x):new FormData(s);Dc(l,{pending:!0,data:M,method:s.method,action:f},null,M)}}else typeof f=="function"&&(S.preventDefault(),M=x?fp(s,x):new FormData(s),Dc(l,{pending:!0,data:M,method:s.method,action:f},f,M))},currentTarget:s}]})}}for(var hu=0;hu<Qs.length;hu++){var mu=Qs[hu],vv=mu.toLowerCase(),wv=mu[0].toUpperCase()+mu.slice(1);vn(vv,"on"+wv)}vn(Yd,"onAnimationEnd"),vn(qd,"onAnimationIteration"),vn($d,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(V0,"onTransitionRun"),vn(B0,"onTransitionStart"),vn(I0,"onTransitionCancel"),vn(Gd,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qr));function dp(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var x=a.length-1;0<=x;x--){var S=a[x],M=S.instance,$=S.currentTarget;if(S=S.listener,M!==f&&s.isPropagationStopped())break e;f=S,s.currentTarget=$;try{f(s)}catch(F){Hi(F)}s.currentTarget=null,f=M}else for(x=0;x<a.length;x++){if(S=a[x],M=S.instance,$=S.currentTarget,S=S.listener,M!==f&&s.isPropagationStopped())break e;f=S,s.currentTarget=$;try{f(s)}catch(F){Hi(F)}s.currentTarget=null,f=M}}}}function Re(e,t){var l=t[As];l===void 0&&(l=t[As]=new Set);var a=e+"__bubble";l.has(a)||(hp(t,e,2,!1),l.add(a))}function pu(e,t,l){var a=0;t&&(a|=4),hp(l,e,a,t)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function gu(e){if(!e[Ao]){e[Ao]=!0,id.forEach(function(l){l!=="selectionchange"&&(Sv.has(l)||pu(l,!1,e),pu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ao]||(t[Ao]=!0,pu("selectionchange",!1,t))}}function hp(e,t,l,a){switch(Yp(t)){case 2:var s=Kv;break;case 8:s=Fv;break;default:s=Mu}l=s.bind(null,t,l,e),s=void 0,!Ls||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function xu(e,t,l,a,s){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var S=a.stateNode.containerInfo;if(S===s)break;if(x===4)for(x=a.return;x!==null;){var M=x.tag;if((M===3||M===4)&&x.stateNode.containerInfo===s)return;x=x.return}for(;S!==null;){if(x=pa(S),x===null)return;if(M=x.tag,M===5||M===6||M===26||M===27){a=f=x;continue e}S=S.parentNode}}a=a.return}yd(function(){var $=f,F=Rs(l),te=[];e:{var X=Xd.get(e);if(X!==void 0){var Q=Vi,he=e;switch(e){case"keypress":if(zi(l)===0)break e;case"keydown":case"keyup":Q=p0;break;case"focusin":he="focus",Q=Hs;break;case"focusout":he="blur",Q=Hs;break;case"beforeblur":case"afterblur":Q=Hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=l0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y0;break;case Yd:case qd:case $d:Q=i0;break;case Gd:Q=v0;break;case"scroll":case"scrollend":Q=t0;break;case"wheel":Q=S0;break;case"copy":case"cut":case"paste":Q=s0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Nd;break;case"toggle":case"beforetoggle":Q=j0}var Ne=(t&4)!==0,Qe=!Ne&&(e==="scroll"||e==="scrollend"),H=Ne?X!==null?X+"Capture":null:X;Ne=[];for(var R=$,q;R!==null;){var P=R;if(q=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||q===null||H===null||(P=xr(R,H),P!=null&&Ne.push(Kr(R,P,q))),Qe)break;R=R.return}0<Ne.length&&(X=new Q(X,he,null,l,F),te.push({event:X,listeners:Ne}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",X&&l!==ks&&(he=l.relatedTarget||l.fromElement)&&(pa(he)||he[ma]))break e;if((Q||X)&&(X=F.window===F?F:(X=F.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(he=l.relatedTarget||l.toElement,Q=$,he=he?pa(he):null,he!==null&&(Qe=d(he),Ne=he.tag,he!==Qe||Ne!==5&&Ne!==27&&Ne!==6)&&(he=null)):(Q=null,he=$),Q!==he)){if(Ne=wd,P="onMouseLeave",H="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=Nd,P="onPointerLeave",H="onPointerEnter",R="pointer"),Qe=Q==null?X:gr(Q),q=he==null?X:gr(he),X=new Ne(P,R+"leave",Q,l,F),X.target=Qe,X.relatedTarget=q,P=null,pa(F)===$&&(Ne=new Ne(H,R+"enter",he,l,F),Ne.target=q,Ne.relatedTarget=Qe,P=Ne),Qe=P,Q&&he)t:{for(Ne=Nv,H=Q,R=he,q=0,P=H;P;P=Ne(P))q++;P=0;for(var ve=R;ve;ve=Ne(ve))P++;for(;0<q-P;)H=Ne(H),q--;for(;0<P-q;)R=Ne(R),P--;for(;q--;){if(H===R||R!==null&&H===R.alternate){Ne=H;break t}H=Ne(H),R=Ne(R)}Ne=null}else Ne=null;Q!==null&&mp(te,X,Q,Ne,!1),he!==null&&Qe!==null&&mp(te,Qe,he,Ne,!0)}}e:{if(X=$?gr($):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var Ie=Md;else if(Od(X))if(Dd)Ie=R0;else{Ie=D0;var xe=M0}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?$&&Ds($.elementType)&&(Ie=Md):Ie=k0;if(Ie&&(Ie=Ie(e,$))){Td(te,Ie,l,F);break e}xe&&xe(e,X,$),e==="focusout"&&$&&X.type==="number"&&$.memoizedProps.value!=null&&Ms(X,"number",X.value)}switch(xe=$?gr($):window,e){case"focusin":(Od(xe)||xe.contentEditable==="true")&&(ja=xe,Xs=$,Er=null);break;case"focusout":Er=Xs=ja=null;break;case"mousedown":Ws=!0;break;case"contextmenu":case"mouseup":case"dragend":Ws=!1,Hd(te,l,F);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":Hd(te,l,F)}var Oe;if(Ys)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Na?Ad(e,l)&&(Le="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(jd&&l.locale!=="ko"&&(Na||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Na&&(Oe=bd()):(ol=F,Vs="value"in ol?ol.value:ol.textContent,Na=!0)),xe=_o($,Le),0<xe.length&&(Le=new Sd(Le,e,null,l,F),te.push({event:Le,listeners:xe}),Oe?Le.data=Oe:(Oe=_d(l),Oe!==null&&(Le.data=Oe)))),(Oe=C0?A0(e,l):_0(e,l))&&(Le=_o($,"onBeforeInput"),0<Le.length&&(xe=new Sd("onBeforeInput","beforeinput",null,l,F),te.push({event:xe,listeners:Le}),xe.data=Oe)),bv(te,e,$,l,F)}dp(te,t)})}function Kr(e,t,l){return{instance:e,listener:t,currentTarget:l}}function _o(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,f=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||f===null||(s=xr(e,l),s!=null&&a.unshift(Kr(e,s,f)),s=xr(e,t),s!=null&&a.push(Kr(e,s,f))),e.tag===3)return a;e=e.return}return[]}function Nv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mp(e,t,l,a,s){for(var f=t._reactName,x=[];l!==null&&l!==a;){var S=l,M=S.alternate,$=S.stateNode;if(S=S.tag,M!==null&&M===a)break;S!==5&&S!==26&&S!==27||$===null||(M=$,s?($=xr(l,f),$!=null&&x.unshift(Kr(l,$,M))):s||($=xr(l,f),$!=null&&x.push(Kr(l,$,M)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var jv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(jv,`
`).replace(Ev,"")}function gp(e,t){return t=pp(t),pp(e)===t}function Ze(e,t,l,a,s,f){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||va(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&va(e,""+a);break;case"className":Mi(e,"class",a);break;case"tabIndex":Mi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(e,l,a);break;case"style":gd(e,a,f);break;case"data":if(t!=="object"){Mi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ki(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(l==="formAction"?(t!=="input"&&Ze(e,t,"name",s.name,s,null),Ze(e,t,"formEncType",s.formEncType,s,null),Ze(e,t,"formMethod",s.formMethod,s,null),Ze(e,t,"formTarget",s.formTarget,s,null)):(Ze(e,t,"encType",s.encType,s,null),Ze(e,t,"method",s.method,s,null),Ze(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ki(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Vn);break;case"onScroll":a!=null&&Re("scroll",e);break;case"onScrollEnd":a!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=ki(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Ti(e,"popover",a);break;case"xlinkActuate":Ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ln(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ln(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ln(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ln(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ti(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Pb.get(l)||l,Ti(e,l,a))}}function yu(e,t,l,a,s,f){switch(l){case"style":gd(e,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?va(e,a):(typeof a=="number"||typeof a=="bigint")&&va(e,""+a);break;case"onScroll":a!=null&&Re("scroll",e);break;case"onScrollEnd":a!=null&&Re("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!od.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),f=e[It]||null,f=f!=null?f[l]:null,typeof f=="function"&&e.removeEventListener(t,f,s),typeof a=="function")){typeof f!="function"&&f!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Ti(e,l,a)}}}function Tt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var a=!1,s=!1,f;for(f in l)if(l.hasOwnProperty(f)){var x=l[f];if(x!=null)switch(f){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,f,x,l,null)}}s&&Ze(e,t,"srcSet",l.srcSet,l,null),a&&Ze(e,t,"src",l.src,l,null);return;case"input":Re("invalid",e);var S=f=x=s=null,M=null,$=null;for(a in l)if(l.hasOwnProperty(a)){var F=l[a];if(F!=null)switch(a){case"name":s=F;break;case"type":x=F;break;case"checked":M=F;break;case"defaultChecked":$=F;break;case"value":f=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,t));break;default:Ze(e,t,a,F,l,null)}}dd(e,f,S,M,$,x,s,!1);return;case"select":Re("invalid",e),a=x=f=null;for(s in l)if(l.hasOwnProperty(s)&&(S=l[s],S!=null))switch(s){case"value":f=S;break;case"defaultValue":x=S;break;case"multiple":a=S;default:Ze(e,t,s,S,l,null)}t=f,l=x,e.multiple=!!a,t!=null?ba(e,!!a,t,!1):l!=null&&ba(e,!!a,l,!0);return;case"textarea":Re("invalid",e),f=s=a=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":a=S;break;case"defaultValue":s=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:Ze(e,t,x,S,l,null)}md(e,a,s,f);return;case"option":for(M in l)l.hasOwnProperty(M)&&(a=l[M],a!=null)&&(M==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Ze(e,t,M,a,l,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(a=0;a<Qr.length;a++)Re(Qr[a],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in l)if(l.hasOwnProperty($)&&(a=l[$],a!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ze(e,t,$,a,l,null)}return;default:if(Ds(t)){for(F in l)l.hasOwnProperty(F)&&(a=l[F],a!==void 0&&yu(e,t,F,a,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(a=l[S],a!=null&&Ze(e,t,S,a,l,null))}function Cv(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,f=null,x=null,S=null,M=null,$=null,F=null;for(Q in l){var te=l[Q];if(l.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=te;default:a.hasOwnProperty(Q)||Ze(e,t,Q,null,a,te)}}for(var X in a){var Q=a[X];if(te=l[X],a.hasOwnProperty(X)&&(Q!=null||te!=null))switch(X){case"type":f=Q;break;case"name":s=Q;break;case"checked":$=Q;break;case"defaultChecked":F=Q;break;case"value":x=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:Q!==te&&Ze(e,t,X,Q,a,te)}}Ts(e,x,S,M,$,F,f,s);return;case"select":Q=x=S=X=null;for(f in l)if(M=l[f],l.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":Q=M;default:a.hasOwnProperty(f)||Ze(e,t,f,null,a,M)}for(s in a)if(f=a[s],M=l[s],a.hasOwnProperty(s)&&(f!=null||M!=null))switch(s){case"value":X=f;break;case"defaultValue":S=f;break;case"multiple":x=f;default:f!==M&&Ze(e,t,s,f,a,M)}t=S,l=x,a=Q,X!=null?ba(e,!!l,X,!1):!!a!=!!l&&(t!=null?ba(e,!!l,t,!0):ba(e,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(S in l)if(s=l[S],l.hasOwnProperty(S)&&s!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(e,t,S,null,a,s)}for(x in a)if(s=a[x],f=l[x],a.hasOwnProperty(x)&&(s!=null||f!=null))switch(x){case"value":X=s;break;case"defaultValue":Q=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==f&&Ze(e,t,x,s,a,f)}hd(e,X,Q);return;case"option":for(var he in l)X=l[he],l.hasOwnProperty(he)&&X!=null&&!a.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:Ze(e,t,he,null,a,X));for(M in a)X=a[M],Q=l[M],a.hasOwnProperty(M)&&X!==Q&&(X!=null||Q!=null)&&(M==="selected"?e.selected=X&&typeof X!="function"&&typeof X!="symbol":Ze(e,t,M,X,a,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)X=l[Ne],l.hasOwnProperty(Ne)&&X!=null&&!a.hasOwnProperty(Ne)&&Ze(e,t,Ne,null,a,X);for($ in a)if(X=a[$],Q=l[$],a.hasOwnProperty($)&&X!==Q&&(X!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,t));break;default:Ze(e,t,$,X,a,Q)}return;default:if(Ds(t)){for(var Qe in l)X=l[Qe],l.hasOwnProperty(Qe)&&X!==void 0&&!a.hasOwnProperty(Qe)&&yu(e,t,Qe,void 0,a,X);for(F in a)X=a[F],Q=l[F],!a.hasOwnProperty(F)||X===Q||X===void 0&&Q===void 0||yu(e,t,F,X,a,Q);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!a.hasOwnProperty(H)&&Ze(e,t,H,null,a,X);for(te in a)X=a[te],Q=l[te],!a.hasOwnProperty(te)||X===Q||X==null&&Q==null||Ze(e,t,te,X,a,Q)}function xp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Av(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],f=s.transferSize,x=s.initiatorType,S=s.duration;if(f&&S&&xp(x)){for(x=0,S=s.responseEnd,a+=1;a<l.length;a++){var M=l[a],$=M.startTime;if($>S)break;var F=M.transferSize,te=M.initiatorType;F&&xp(te)&&(M=M.responseEnd,x+=F*(M<S?1:(S-$)/(M-$)))}if(--a,t+=8*(f+x)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bu=null,vu=null;function Oo(e){return e.nodeType===9?e:e.ownerDocument}function yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Su=null;function _v(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var vp=typeof setTimeout=="function"?setTimeout:void 0,Ov=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,Tv=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(e){return wp.resolve(null).then(e).catch(Mv)}:vp;function Mv(e){setTimeout(function(){throw e})}function jl(e){return e==="head"}function Sp(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),Fa(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Fr(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Fr(l);for(var f=l.firstChild;f;){var x=f.nextSibling,S=f.nodeName;f[pr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||l.removeChild(f),f=x}}else l==="body"&&Fr(e.ownerDocument.body);l=s}while(l);Fa(t)}function Np(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Nu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Nu(l),_s(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Dv(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[pr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=mn(e.nextSibling),e===null)break}return null}function kv(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=mn(e.nextSibling),e===null))return null;return e}function jp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=mn(e.nextSibling),e===null))return null;return e}function ju(e){return e.data==="$?"||e.data==="$~"}function Eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Rv(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cu=null;function Ep(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return mn(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Cp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Ap(e,t,l){switch(t=Oo(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Fr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_s(e)}var pn=new Map,_p=new Set;function To(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pn=G.d;G.d={f:zv,r:Lv,D:Vv,C:Bv,L:Iv,m:Hv,X:Yv,S:Uv,M:qv};function zv(){var e=Pn.f(),t=wo();return e||t}function Lv(e){var t=ga(e);t!==null&&t.tag===5&&t.type==="form"?Gh(t):Pn.r(e)}var Za=typeof document>"u"?null:document;function Op(e,t,l){var a=Za;if(a&&typeof t=="string"&&t){var s=on(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),_p.has(s)||(_p.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Tt(t,"link",e),St(t),a.head.appendChild(t)))}}function Vv(e){Pn.D(e),Op("dns-prefetch",e,null)}function Bv(e,t){Pn.C(e,t),Op("preconnect",e,t)}function Iv(e,t,l){Pn.L(e,t,l);var a=Za;if(a&&e&&t){var s='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+on(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+on(l.imageSizes)+'"]')):s+='[href="'+on(e)+'"]';var f=s;switch(t){case"style":f=Qa(e);break;case"script":f=Ka(e)}pn.has(f)||(e=b({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),pn.set(f,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Jr(f))||t==="script"&&a.querySelector(Pr(f))||(t=a.createElement("link"),Tt(t,"link",e),St(t),a.head.appendChild(t)))}}function Hv(e,t){Pn.m(e,t);var l=Za;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+on(a)+'"][href="'+on(e)+'"]',f=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(e)}if(!pn.has(f)&&(e=b({rel:"modulepreload",href:e},t),pn.set(f,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Pr(f)))return}a=l.createElement("link"),Tt(a,"link",e),St(a),l.head.appendChild(a)}}}function Uv(e,t,l){Pn.S(e,t,l);var a=Za;if(a&&e){var s=xa(a).hoistableStyles,f=Qa(e);t=t||"default";var x=s.get(f);if(!x){var S={loading:0,preload:null};if(x=a.querySelector(Jr(f)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},l),(l=pn.get(f))&&Au(e,l);var M=x=a.createElement("link");St(M),Tt(M,"link",e),M._p=new Promise(function($,F){M.onload=$,M.onerror=F}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Mo(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:S},s.set(f,x)}}}function Yv(e,t){Pn.X(e,t);var l=Za;if(l&&e){var a=xa(l).hoistableScripts,s=Ka(e),f=a.get(s);f||(f=l.querySelector(Pr(s)),f||(e=b({src:e,async:!0},t),(t=pn.get(s))&&_u(e,t),f=l.createElement("script"),St(f),Tt(f,"link",e),l.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(s,f))}}function qv(e,t){Pn.M(e,t);var l=Za;if(l&&e){var a=xa(l).hoistableScripts,s=Ka(e),f=a.get(s);f||(f=l.querySelector(Pr(s)),f||(e=b({src:e,async:!0,type:"module"},t),(t=pn.get(s))&&_u(e,t),f=l.createElement("script"),St(f),Tt(f,"link",e),l.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(s,f))}}function Tp(e,t,l,a){var s=(s=ge.current)?To(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Qa(l.href),l=xa(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Qa(l.href);var f=xa(s).hoistableStyles,x=f.get(e);if(x||(s=s.ownerDocument||s,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,x),(f=s.querySelector(Jr(e)))&&!f._p&&(x.instance=f,x.state.loading=5),pn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pn.set(e,l),f||$v(s,e,l,x.state))),t&&a===null)throw Error(o(528,""));return x}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ka(l),l=xa(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Qa(e){return'href="'+on(e)+'"'}function Jr(e){return'link[rel="stylesheet"]['+e+"]"}function Mp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function $v(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Tt(t,"link",l),St(t),e.head.appendChild(t))}function Ka(e){return'[src="'+on(e)+'"]'}function Pr(e){return"script[async]"+e}function Dp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+on(l.href)+'"]');if(a)return t.instance=a,St(a),a;var s=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),St(a),Tt(a,"style",s),Mo(a,l.precedence,e),t.instance=a;case"stylesheet":s=Qa(l.href);var f=e.querySelector(Jr(s));if(f)return t.state.loading|=4,t.instance=f,St(f),f;a=Mp(l),(s=pn.get(s))&&Au(a,s),f=(e.ownerDocument||e).createElement("link"),St(f);var x=f;return x._p=new Promise(function(S,M){x.onload=S,x.onerror=M}),Tt(f,"link",a),t.state.loading|=4,Mo(f,l.precedence,e),t.instance=f;case"script":return f=Ka(l.src),(s=e.querySelector(Pr(f)))?(t.instance=s,St(s),s):(a=l,(s=pn.get(f))&&(a=b({},l),_u(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),St(s),Tt(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Mo(a,l.precedence,e));return t.instance}function Mo(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,f=s,x=0;x<a.length;x++){var S=a[x];if(S.dataset.precedence===t)f=S;else if(f!==s)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _u(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Do=null;function kp(e,t,l){if(Do===null){var a=new Map,s=Do=new Map;s.set(l,a)}else s=Do,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var f=l[s];if(!(f[pr]||f[Ct]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(t)||"";x=e+x;var S=a.get(x);S?S.push(f):a.set(x,[f])}}return a}function Rp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Gv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Xv(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=Qa(a.href),f=t.querySelector(Jr(s));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ko.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=f,St(f);return}f=t.ownerDocument||t,a=Mp(a),(s=pn.get(s))&&Au(a,s),f=f.createElement("link"),St(f);var x=f;x._p=new Promise(function(S,M){x.onload=S,x.onerror=M}),Tt(f,"link",a),l.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ko.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Ou=0;function Wv(e,t){return e.stylesheets&&e.count===0&&zo(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&zo(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Ou===0&&(Ou=62500*Av());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zo(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ou?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function ko(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ro=null;function zo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ro=new Map,t.forEach(Zv,e),Ro=null,ko.call(e))}function Zv(e,t){if(!(t.state.loading&4)){var l=Ro.get(e);if(l)var a=l.get(null);else{l=new Map,Ro.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<s.length;f++){var x=s[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),a=x)}a&&l.set(null,a)}s=t.instance,x=s.getAttribute("data-precedence"),f=l.get(x)||a,f===a&&l.set(null,s),l.set(x,s),this.count++,a=ko.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),f?f.parentNode.insertBefore(s,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ei={$$typeof:W,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function Qv(e,t,l,a,s,f,x,S,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.hiddenUpdates=ha(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Lp(e,t,l,a,s,f,x,S,M,$,F,te){return e=new Qv(e,t,l,x,M,$,F,te,S),t=1,f===!0&&(t|=24),f=Qt(3,null,null,t),e.current=f,f.stateNode=e,t=sc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:a,isDehydrated:l,cache:t},dc(f),e}function Vp(e){return e?(e=Aa,e):Aa}function Bp(e,t,l,a,s,f){s=Vp(s),a.context===null?a.context=s:a.pendingContext=s,a=hl(t),a.payload={element:l},f=f===void 0?null:f,f!==null&&(a.callback=f),l=ml(e,a,t),l!==null&&(Gt(l,e,t),Dr(l,e,t))}function Ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Tu(e,t){Ip(e,t),(e=e.alternate)&&Ip(e,t)}function Hp(e){if(e.tag===13||e.tag===31){var t=$l(e,67108864);t!==null&&Gt(t,e,67108864),Tu(e,67108864)}}function Up(e){if(e.tag===13||e.tag===31){var t=en();t=Es(t);var l=$l(e,t);l!==null&&Gt(l,e,t),Tu(e,t)}}var Lo=!0;function Kv(e,t,l,a){var s=L.T;L.T=null;var f=G.p;try{G.p=2,Mu(e,t,l,a)}finally{G.p=f,L.T=s}}function Fv(e,t,l,a){var s=L.T;L.T=null;var f=G.p;try{G.p=8,Mu(e,t,l,a)}finally{G.p=f,L.T=s}}function Mu(e,t,l,a){if(Lo){var s=Du(a);if(s===null)xu(e,t,a,Vo,l),qp(e,a);else if(Pv(s,e,t,l,a))a.stopPropagation();else if(qp(e,a),t&4&&-1<Jv.indexOf(e)){for(;s!==null;){var f=ga(s);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=Et(f.pendingLanes);if(x!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var M=1<<31-jt(x);S.entanglements[1]|=M,x&=~M}On(f),(Ue&6)===0&&(bo=nt()+500,Zr(0))}}break;case 31:case 13:S=$l(f,2),S!==null&&Gt(S,f,2),wo(),Tu(f,2)}if(f=Du(a),f===null&&xu(e,t,a,Vo,l),f===s)break;s=f}s!==null&&a.stopPropagation()}else xu(e,t,a,null,l)}}function Du(e){return e=Rs(e),ku(e)}var Vo=null;function ku(e){if(Vo=null,e=pa(e),e!==null){var t=d(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=m(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vo=e,null}function Yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rl()){case fa:return 2;case ue:return 8;case Se:case qe:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var Ru=!1,El=null,Cl=null,Al=null,ti=new Map,ni=new Map,_l=[],Jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(e,t){switch(e){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(t.pointerId)}}function li(e,t,l,a,s,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:f,targetContainers:[s]},t!==null&&(t=ga(t),t!==null&&Hp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Pv(e,t,l,a,s){switch(t){case"focusin":return El=li(El,e,t,l,a,s),!0;case"dragenter":return Cl=li(Cl,e,t,l,a,s),!0;case"mouseover":return Al=li(Al,e,t,l,a,s),!0;case"pointerover":var f=s.pointerId;return ti.set(f,li(ti.get(f)||null,e,t,l,a,s)),!0;case"gotpointercapture":return f=s.pointerId,ni.set(f,li(ni.get(f)||null,e,t,l,a,s)),!0}return!1}function $p(e){var t=pa(e.target);if(t!==null){var l=d(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,ad(e.priority,function(){Up(l)});return}}else if(t===31){if(t=m(l),t!==null){e.blockedOn=t,ad(e.priority,function(){Up(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Du(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);ks=a,l.target.dispatchEvent(a),ks=null}else return t=ga(l),t!==null&&Hp(t),e.blockedOn=l,!1;t.shift()}return!0}function Gp(e,t,l){Bo(e)&&l.delete(t)}function e1(){Ru=!1,El!==null&&Bo(El)&&(El=null),Cl!==null&&Bo(Cl)&&(Cl=null),Al!==null&&Bo(Al)&&(Al=null),ti.forEach(Gp),ni.forEach(Gp)}function Io(e,t){e.blockedOn===t&&(e.blockedOn=null,Ru||(Ru=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,e1)))}var Ho=null;function Xp(e){Ho!==e&&(Ho=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ho===e&&(Ho=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(ku(a||l)===null)continue;break}var f=ga(l);f!==null&&(e.splice(t,3),t-=3,Dc(f,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function Fa(e){function t(M){return Io(M,e)}El!==null&&Io(El,e),Cl!==null&&Io(Cl,e),Al!==null&&Io(Al,e),ti.forEach(t),ni.forEach(t);for(var l=0;l<_l.length;l++){var a=_l[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<_l.length&&(l=_l[0],l.blockedOn===null);)$p(l),l.blockedOn===null&&_l.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],f=l[a+1],x=s[It]||null;if(typeof f=="function")x||Xp(l);else if(x){var S=null;if(f&&f.hasAttribute("formAction")){if(s=f,x=f[It]||null)S=x.formAction;else if(ku(s)!==null)continue}else S=x.action;typeof S=="function"?l[a+1]=S:(l.splice(a,3),a-=3),Xp(l)}}}function Wp(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(x){return s=x})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function zu(e){this._internalRoot=e}Uo.prototype.render=zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=en();Bp(l,a,e,t,null,null)},Uo.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bp(e.current,2,null,e,null,null),wo(),t[ma]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ld();e={blockedOn:null,target:e,priority:t};for(var l=0;l<_l.length&&t!==0&&t<_l[l].priority;l++);_l.splice(l,0,e),l===0&&$p(e)}};var Zp=r.version;if(Zp!=="19.2.3")throw Error(o(527,Zp,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var t1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{yn=Yo.inject(t1),xt=Yo}catch{}}return ri.createRoot=function(e,t){if(!c(e))throw Error(o(299));var l=!1,a="",s=tm,f=nm,x=lm;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=Lp(e,1,!1,null,null,l,a,null,s,f,x,Wp),e[ma]=t.current,gu(e),new zu(t)},ri.hydrateRoot=function(e,t,l){if(!c(e))throw Error(o(299));var a=!1,s="",f=tm,x=nm,S=lm,M=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(f=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(M=l.formState)),t=Lp(e,1,!0,t,l??null,a,s,M,f,x,S,Wp),t.context=Vp(null),l=t.current,a=en(),a=Es(a),s=hl(a),s.callback=null,ml(l,s,a),l=a,t.current.lanes=l,mr(t,l),On(t),e[ma]=t.current,gu(e),new Uo(t)},ri.version="19.2.3",ri}var ag;function f1(){if(ag)return Bu.exports;ag=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Bu.exports=u1(),Bu.exports}var d1=f1();const rg=n=>{let r;const i=new Set,o=(p,y)=>{const b=typeof p=="function"?p(r):p;if(!Object.is(b,r)){const N=r;r=y??(typeof b!="object"||b===null)?b:Object.assign({},r,b),i.forEach(C=>C(r,N))}},c=()=>r,m={setState:o,getState:c,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=r=n(o,c,m);return m},h1=(n=>n?rg(n):rg),m1=n=>n;function p1(n,r=m1){const i=Dn.useSyncExternalStore(n.subscribe,Dn.useCallback(()=>r(n.getState()),[n,r]),Dn.useCallback(()=>r(n.getInitialState()),[n,r]));return Dn.useDebugValue(i),i}const ig=n=>{const r=h1(n),i=o=>p1(r,o);return Object.assign(i,r),i},vs=(n=>n?ig(n):ig);function g1(n,r){let i;try{i=n()}catch{return}return{getItem:c=>{var d;const h=g=>g===null?null:JSON.parse(g,void 0),m=(d=i.getItem(c))!=null?d:null;return m instanceof Promise?m.then(h):h(m)},setItem:(c,d)=>i.setItem(c,JSON.stringify(d,void 0)),removeItem:c=>i.removeItem(c)}}const cf=n=>r=>{try{const i=n(r);return i instanceof Promise?i:{then(o){return cf(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return cf(o)(i)}}}},x1=(n,r)=>(i,o,c)=>{let d={storage:g1(()=>localStorage),partialize:E=>E,version:0,merge:(E,T)=>({...T,...E}),...r},h=!1,m=0;const g=new Set,p=new Set;let y=d.storage;if(!y)return n((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),i(...E)},o,c);const b=()=>{const E=d.partialize({...o()});return y.setItem(d.name,{state:E,version:d.version})},N=c.setState;c.setState=(E,T)=>(N(E,T),b());const C=n((...E)=>(i(...E),b()),o,c);c.getInitialState=()=>C;let v;const w=()=>{var E,T;if(!y)return;const _=++m;h=!1,g.forEach(B=>{var z;return B((z=o())!=null?z:C)});const W=((T=d.onRehydrateStorage)==null?void 0:T.call(d,(E=o())!=null?E:C))||void 0;return cf(y.getItem.bind(y))(d.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==d.version){if(d.migrate){const z=d.migrate(B.state,B.version);return z instanceof Promise?z.then(I=>[!0,I]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var z;if(_!==m)return;const[I,Y]=B;if(v=d.merge(Y,(z=o())!=null?z:C),i(v,!0),I)return b()}).then(()=>{_===m&&(W?.(v,void 0),v=o(),h=!0,p.forEach(B=>B(v)))}).catch(B=>{_===m&&W?.(void 0,B)})};return c.persist={setOptions:E=>{d={...d,...E},E.storage&&(y=E.storage)},clearStorage:()=>{y?.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>w(),hasHydrated:()=>h,onHydrate:E=>(g.add(E),()=>{g.delete(E)}),onFinishHydration:E=>(p.add(E),()=>{p.delete(E)})},d.skipHydration||w(),v||C},y1=x1;function Cf(n){return n===null||n===void 0?"null":typeof n=="string"?n===""||n.includes(":")||n.includes("#")||n.includes(`
`)||n.startsWith(" ")||n.endsWith(" ")||/^[[{}>|*&!%@`]/.test(n)||/^-?\d+(\.\d+)?$/.test(n)||n==="true"||n==="false"||n==="null"?JSON.stringify(n):n:typeof n=="number"||typeof n=="boolean"?String(n):JSON.stringify(n)}function Af(n,r){const i=n.split(`
`);let o=!1,c=-1,d=-1;for(let h=0;h<i.length;h++){const m=i[h],g=m.match(/^\s*-?\s*name:\s*(\w+)/);if(g&&(o=g[1]===r),o){const p=m.match(/^(\s*)nodes:\s*$/);if(p){c=h,d=p[1].length;let y=h+1;for(;y<i.length;){const b=i[y];if(b.trim()===""||b.trim().startsWith("#")){y++;continue}const N=b.search(/\S/);if(N!==-1&&N<=d)break;y++}return{startLine:c,endLine:y,nodesIndent:d}}}}return null}function ct(n,r,i){const o=n.split(`
`);let c=0,d=o.length;if(i){const p=Af(n,i);if(!p)return null;c=p.startLine,d=p.endLine}let h=-1,m=-1;for(let p=c;p<d;p++){const b=o[p].match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(b&&b[2]===r){h=p,m=b[1].length;break}}if(h===-1)return null;let g=h+1;for(;g<o.length;){const p=o[g];if(p.trim()===""||p.trim().startsWith("#")){g++;continue}const y=p.search(/\S/);if(y!==-1&&y<=m)break;g++}return{startLine:h,endLine:g,indent:m}}function Ax(n,r){const i=n.split(`
`),o=new Set;for(const h of i){const m=h.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);m&&o.add(m[1])}let c=`${r}_1`,d=1;for(;o.has(c);)d++,c=`${r}_${d}`;return c}function uf(n,r){const i=ct(n,r);if(!i)return{source:n,success:!1};const o=n.split(`
`);return{source:[...o.slice(0,i.startLine),...o.slice(i.endLine)].join(`
`),success:!0}}function _x(n,r,i="main"){const o=n.split(`
`);let c=!1,d=-1,h=-1,m=-1,g=-1;for(let T=0;T<o.length;T++){const _=o[T],W=_.match(/^\s*-?\s*name:\s*(\w+)/);if(W&&(c=W[1]===i),c){const B=_.match(/^(\s*)nodes:\s*$/);if(B){d=T,h=B[1].length;continue}if(d!==-1){const z=_.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(z){const I=z[1].length;if(I===h+2){g=I;let Y=T+1;for(;Y<o.length;){const U=o[Y];if(U.trim()===""||U.trim().startsWith("#")){Y++;continue}const K=U.search(/\S/);if(K!==-1&&K<=I)break;Y++}m=Y}}}}}if(d===-1)return{source:n,nodeId:null};const p=r.name.split("_")[0],y=Ax(n,p),b=" ".repeat(g!==-1?g:h+2),N=b+"  ",C=N+"  ";let v=`${b}${y}:
`;if(v+=`${N}opcode: ${r.name}
`,v+=`${N}next: null
`,r.parameters.length>0){v+=`${N}inputs:
`;for(const T of r.parameters){const _=T.name.toUpperCase(),W=T.default!==void 0?JSON.stringify(T.default):'""';v+=`${C}${_}: { literal: ${W} }
`}}const w=m!==-1?m:d+1;return{source:[...o.slice(0,w),v.trimEnd(),...o.slice(w)].join(`
`),nodeId:y}}function b1(n,r,i,o="main"){const c=_x(n,r,o);if(!c.nodeId)return{source:n,nodeId:null,success:!1};const d=hi(c.source,i,c.nodeId,o);return d.success?{source:d.source,nodeId:c.nodeId,success:!0}:{source:n,nodeId:null,success:!1}}function v1(n,r){const i=ct(n,r);if(!i)return{source:n,nodeId:null};const o=n.split(`
`),c=o.slice(i.startLine,i.endLine);let d=`${r}_copy`,h=1;const m=new Set;for(const y of o){const b=y.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);b&&m.add(b[1])}for(;m.has(d);)h++,d=`${r}_copy_${h}`;const g=[...c];g[0]=g[0].replace(r+":",d+":");for(let y=1;y<g.length;y++)if(g[y].match(/^\s+next:\s*\S/)){const b=g[y].match(/^(\s+)next:/)?.[1]||"        ";g[y]=`${b}next: null`}return{source:[...o.slice(0,i.endLine),...g,...o.slice(i.endLine)].join(`
`),nodeId:d}}function w1(n,r,i,o){const c=n.split(`
`),d=ct(n,r);if(!d)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let C=d.startLine+1;C<d.endLine;C++){const v=c[C];if(v.match(/^\s+inputs:\s*$/)){h=C;continue}if(h!==-1){const w=v.match(new RegExp(`^(\\s+)(${i}):\\s*(.*)$`));if(w){m=C,g=w[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const C=c[p];if(C.trim()===""||C.trim().startsWith("#")){p++;continue}const v=C.search(/\S/);if(v!==-1&&v<=g)break;p++}let y;if(o.startsWith("$"))y=`{ variable: "${o.slice(1)}" }`;else try{const C=JSON.parse(o);y=`{ literal: ${JSON.stringify(C)} }`}catch{y=`{ literal: "${o}" }`}const b=" ".repeat(g);return{source:[...c.slice(0,m),`${b}${i}: ${y}`,...c.slice(p)].join(`
`),success:!0}}function hi(n,r,i,o){const c=n.split(`
`),d=ct(n,r,o);if(!d)return{source:n,success:!1};let h=-1;for(let g=d.startLine+1;g<d.endLine;g++)if(c[g].match(/^\s+next:\s*/)){h=g;break}const m=" ".repeat(d.indent+2);if(h!==-1)c[h]=`${m}next: ${i}`;else{let g=d.startLine+1;for(;g<d.endLine;){const p=c[g];if(p.trim()!==""&&!p.trim().startsWith("#"))break;g++}c.splice(g,0,`${m}next: ${i}`)}return{source:c.join(`
`),success:!0}}function _f(n,r,i){const o=n.split(`
`),c=ct(n,r,i);if(!c)return{source:n,success:!1};for(let d=c.startLine+1;d<c.endLine;d++)if(o[d].match(/^\s+next:\s*/)){const h=o[d].match(/^(\s+)next:/)?.[1]||" ".repeat(c.indent+2);return o[d]=`${h}next: null`,{source:o.join(`
`),success:!0}}return{source:n,success:!0}}function S1(n,r,i,o){const c=n.split(`
`),d=ct(n,r);if(!d)return{source:n,success:!1};let h=-1,m=-1;for(let v=d.startLine+1;v<d.endLine;v++){const E=c[v].match(/^(\s+)inputs:\s*$/);if(E){h=v,m=E[1].length;break}}if(h===-1)return{source:n,success:!1};const g=o.startsWith("CATCH"),p=" ".repeat(m+2),y=" ".repeat(m+4);let b=-1,N=-1,C=h+1;for(;C<c.length;){const v=c[C];if(v.trim()===""||v.trim().startsWith("#")){C++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=m&&v.trim())break;const E=v.match(/^\s+([A-Z]+\d*):\s*$/);if(E&&E[1]===o){b=C;break}const T=v.match(/^\s+([A-Z]+\d*):\s*\{.*\}\s*$/);if(T&&T[1]===o){N=C;break}C++}if(b!==-1){const v=c[b].match(/^(\s*)/)?.[1].length||0;let w=b+1;if(g){let E=-1;for(;w<c.length;){const T=c[w];if(T.trim()===""||T.trim().startsWith("#")){w++;continue}if((T.match(/^(\s*)/)?.[1].length||0)<=v&&T.trim())break;if(T.match(/^\s+body:\s*$/)){E=w;break}w++}if(E!==-1){const T=c[E].match(/^(\s*)/)?.[1].length||0;let _=E+1;for(;_<c.length;){const B=c[_];if(B.trim()===""||B.trim().startsWith("#")){_++;continue}if((B.match(/^(\s*)/)?.[1].length||0)<=T&&B.trim())break;const I=B.match(/^(\s+)branch:\s*/);if(I)return c[_]=`${I[1]}branch: ${i}`,{source:c.join(`
`),success:!0};_++}const W=" ".repeat(T+2);return c.splice(E+1,0,`${W}branch: ${i}`),{source:c.join(`
`),success:!0}}else{const T=" ".repeat(v+2),_=" ".repeat(v+4);let W=b+1;for(;W<c.length;){const B=c[W];if(B.trim()===""||B.trim().startsWith("#")){W++;continue}if((B.match(/^(\s*)/)?.[1].length||0)<=v&&B.trim())break;W++}return c.splice(W,0,`${T}body:`,`${_}branch: ${i}`),{source:c.join(`
`),success:!0}}}else{for(;w<c.length;){const E=c[w];if(E.trim()===""||E.trim().startsWith("#")){w++;continue}if((E.match(/^(\s*)/)?.[1].length||0)<=v&&E.trim())break;const _=E.match(/^(\s+)branch:\s*/);if(_)return c[w]=`${_[1]}branch: ${i}`,{source:c.join(`
`),success:!0};w++}return c.splice(b+1,0,`${y}branch: ${i}`),{source:c.join(`
`),success:!0}}}else if(N!==-1){const v=c[N].match(/^(\s*)/)?.[1].length||0,w=" ".repeat(v+2);if(g){const E=" ".repeat(v+2),T=" ".repeat(v+4);c.splice(N,1,`${" ".repeat(v)}${o}:`,`${E}exception_type: "Exception"`,`${E}body:`,`${T}branch: ${i}`)}else c.splice(N,1,`${" ".repeat(v)}${o}:`,`${w}branch: ${i}`);return{source:c.join(`
`),success:!0}}else{if(g){const v=" ".repeat(m+4),w=" ".repeat(m+6);c.splice(C,0,`${p}${o}:`,`${v}exception_type: "Exception"`,`${v}body:`,`${w}branch: ${i}`)}else c.splice(C,0,`${p}${o}:`,`${y}branch: ${i}`);return{source:c.join(`
`),success:!0}}}function N1(n,r,i,o,c){if(!o)return _f(n,r,c);const d=n.split(`
`),h=ct(n,r,c);if(!h)return{source:n,success:!1};let m=-1,g=-1;for(let v=h.startLine+1;v<h.endLine;v++){const E=d[v].match(/^(\s+)inputs:\s*$/);if(E){m=v,g=E[1].length;break}}if(m===-1)return{source:n,success:!1};const p=o.startsWith("CATCH");let y=-1,b=m+1;for(;b<d.length;){const v=d[b];if(v.trim()===""||v.trim().startsWith("#")){b++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=g&&v.trim())break;const E=v.match(/^\s+([A-Z]+\d*):\s*$/);if(E&&E[1]===o){y=b;break}b++}if(y===-1)return{source:n,success:!1};const N=d[y].match(/^(\s*)/)?.[1].length||0;let C=y+1;for(;C<d.length;){const v=d[C];if(v.trim()===""||v.trim().startsWith("#")){C++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=N&&v.trim())break;if(p){const E=v.match(/^(\s+)body:\s*$/);if(E){const T=E[1].length;let _=C+1;for(;_<d.length;){const W=d[_];if(W.trim()===""||W.trim().startsWith("#")){_++;continue}if((W.match(/^(\s*)/)?.[1].length||0)<=T&&W.trim())break;const z=W.match(/^(\s+)branch:\s*(\S+)/);if(z&&z[2]===i){const I=z[1];return d[_]=`${I}branch: null`,{source:d.join(`
`),success:!0}}_++}}}else{const E=v.match(/^(\s+)branch:\s*(\S+)/);if(E&&E[2]===i){const T=E[1];return d[C]=`${T}branch: null`,{source:d.join(`
`),success:!0}}}C++}return{source:n,success:!1}}function j1(n,r,i,o){const c=n.split(`
`),d=ct(n,i);if(!d)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let N=d.startLine+1;N<d.endLine;N++){const C=c[N];if(C.match(/^\s+inputs:\s*$/)){h=N;continue}if(h!==-1){const v=C.match(new RegExp(`^(\\s+)(${o}):\\s*(.*)$`));if(v){m=N,g=v[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const N=c[p];if(N.trim()===""||N.trim().startsWith("#")){p++;continue}const C=N.search(/\S/);if(C!==-1&&C<=g)break;p++}const y=" ".repeat(g);return{source:[...c.slice(0,m),`${y}${o}: { node: "${r}" }`,...c.slice(p)].join(`
`),success:!0}}function E1(n,r,i){if(i.length===0)return{source:n,success:!1};const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let d=c.startLine,h=c.indent,m=!1;for(let v=c.startLine+1;v<o.length;v++){const w=o[v];if(w.trim()===""||w.trim().startsWith("#"))continue;const E=w.search(/\S/);if(E!==-1&&E<=c.indent)break;if(w.match(/^\s+inputs:\s*$/)){m=!0,d=v,h=E;break}}if(!m)return{source:n,success:!1};for(let v=0;v<i.length-1;v++){const w=i[v];let E=!1;for(let T=d+1;T<o.length;T++){const _=o[T];if(_.trim()===""||_.trim().startsWith("#"))continue;const W=_.search(/\S/);if(W!==-1&&W<=h)break;const B=_.match(new RegExp(`^(\\s+)(${w}):\\s*`));if(B){d=T,h=B[1].length,E=!0;for(let z=T+1;z<o.length;z++){const I=o[z];if(I.trim()===""||I.trim().startsWith("#"))continue;const Y=I.search(/\S/);if(Y!==-1&&Y<=h)break;if(I.match(/^\s+inputs:\s*$/)){d=z,h=Y;break}}break}}if(!E)return{source:n,success:!1}}const g=i[i.length-1];let p=-1,y=-1;for(let v=d+1;v<o.length;v++){const w=o[v];if(w.trim()===""||w.trim().startsWith("#"))continue;const E=w.search(/\S/);if(E!==-1&&E<=h)break;const T=w.match(new RegExp(`^(\\s+)(${g}):\\s*`));if(T){p=v,y=T[1].length;break}}if(p===-1)return{source:n,success:!1};let b=p+1;for(;b<o.length;){const v=o[b];if(v.trim()===""||v.trim().startsWith("#")){b++;continue}const w=v.search(/\S/);if(w!==-1&&w<=y)break;b++}const N=" ".repeat(y);return{source:[...o.slice(0,p),`${N}${g}: { literal: null }`,...o.slice(b)].join(`
`),success:!0}}function Ox(n,r){if(n.length===0)return[`${r}inputs: []`];const i=[`${r}inputs:`],o=r+"  ";for(const c of n)i.push(`${o}- name: "${c.name}"`),i.push(`${o}  type: "${c.type}"`),i.push(`${o}  required: ${c.required}`);return i}function C1(n,r,i,o){const c=n.split(`
`);let d=!1,h=-1,m=-1,g=-1;for(let v=0;v<c.length;v++){const w=c[v],E=w.match(/^\s*-?\s*name:\s*(\w+)/);if(E&&(d=E[1]===r),d){const T=w.match(/^(\s*)interface:\s*$/);if(T){h=v,g=T[1].length;let _=v+1;for(;_<c.length;){const W=c[_];if(W.trim()===""||W.trim().startsWith("#")){_++;continue}const B=W.search(/\S/);if(B!==-1&&B<=g)break;_++}m=_;break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(g),y=" ".repeat(g+2),b=o.length>0?`[${o.map(v=>`"${v}"`).join(", ")}]`:"[]",N=[`${p}interface:`,...Ox(i,y),`${y}outputs: ${b}`];return{source:[...c.slice(0,h),...N,...c.slice(m)].join(`
`),success:!0}}function A1(n,r,i,o){const c=n.split(`
`);let d=!1,h=-1,m=-1,g=-1;for(let b=0;b<c.length;b++){const N=c[b],C=N.match(/^\s*-?\s*name:\s*(\w+)/);if(C&&(d=C[1]===r),d){const v=N.match(/^(\s*)variables:\s*(.*)$/);if(v){h=b,m=v[1].length;const w=v[2].trim();if(w==="{}"||w==="")g=b+1;else{let E=b+1;for(;E<c.length;){const T=c[E];if(T.trim()===""||T.trim().startsWith("#")){E++;continue}const _=T.search(/\S/);if(_!==-1&&_<=m)break;E++}g=E}break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(m+2),y=Cf(o);if(c[h].includes("{}")){const b=" ".repeat(m);return{source:[...c.slice(0,h),`${b}variables:`,`${p}${i}: ${y}`,...c.slice(h+1)].join(`
`),success:!0}}else return{source:[...c.slice(0,g),`${p}${i}: ${y}`,...c.slice(g)].join(`
`),success:!0}}function _1(n,r,i,o,c){const d=n.split(`
`);let h=!1,m=!1,g=-1,p=-1;for(let N=0;N<d.length;N++){const C=d[N],v=C.match(/^\s*-?\s*name:\s*(\w+)/);if(v&&(h=v[1]===r,m=!1),h){const w=C.match(/^(\s*)variables:\s*/);if(w){m=!0,g=w[1].length;continue}if(m){const E=C.search(/\S/);if(C.trim()!==""&&!C.trim().startsWith("#")&&E!==-1&&E<=g){m=!1;continue}if(C.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){p=N;break}}}}if(p===-1)return{source:n,success:!1};const y=d[p].match(/^(\s+)/)?.[1]||"    ",b=Cf(c);return d[p]=`${y}${o}: ${b}`,{source:d.join(`
`),success:!0}}function O1(n,r,i){const o=n.split(`
`);let c=!1,d=!1,h=-1,m=-1;for(let p=0;p<o.length;p++){const y=o[p],b=y.match(/^\s*-?\s*name:\s*(\w+)/);if(b&&(c=b[1]===r,d=!1),c){const N=y.match(/^(\s*)variables:\s*/);if(N){d=!0,h=N[1].length;continue}if(d){const C=y.search(/\S/);if(y.trim()!==""&&!y.trim().startsWith("#")&&C!==-1&&C<=h){d=!1;continue}if(y.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){m=p;break}}}}return m===-1?{source:n,success:!1}:{source:[...o.slice(0,m),...o.slice(m+1)].join(`
`),success:!0}}function Tx(n,r,i,o="main"){const c=n.split(`
`);let d=!1,h=-1,m=-1,g=-1,p=-1;for(let T=0;T<c.length;T++){const _=c[T],W=_.match(/^\s*-?\s*name:\s*(\w+)/);if(W&&(d=W[1]===o),d){const B=_.match(/^(\s*)nodes:\s*$/);if(B){h=T,m=B[1].length;continue}if(h!==-1){const z=_.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(z){const I=z[1].length;if(I===m+2){p=I;let Y=T+1;for(;Y<c.length;){const U=c[Y];if(U.trim()===""||U.trim().startsWith("#")){Y++;continue}const K=U.search(/\S/);if(K!==-1&&K<=I)break;Y++}g=Y}}}}}if(h===-1)return{source:n,nodeId:null};const y=Ax(n,`call_${r}`),b=" ".repeat(p!==-1?p:m+2),N=b+"  ",C=N+"  ";let v=`${b}${y}:
`;v+=`${N}opcode: workflow_call
`,v+=`${N}next: null
`,v+=`${N}inputs:
`,v+=`${C}WORKFLOW: { literal: "${r}" }
`,i.forEach((T,_)=>{v+=`${C}ARG${_+1}: { literal: null }
`});const w=g!==-1?g:h+1;return{source:[...c.slice(0,w),v.trimEnd(),...c.slice(w)].join(`
`),nodeId:y}}function T1(n,r,i){const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let d=-1,h=-1;const m=[];for(let w=c.startLine+1;w<c.endLine;w++){const E=o[w],T=E.match(/^(\s+)inputs:\s*$/);if(T){d=w,h=T[1].length;continue}if(d!==-1){const _=E.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));_&&m.push(_[1])}}if(d===-1)return{source:n,success:!1};let g=0;for(const w of m){const E=parseInt(w.replace(i,""));E>g&&(g=E)}const p=`${i}${g+1}`;let y=d+1;for(;y<o.length;){const w=o[y];if(w.trim()===""||w.trim().startsWith("#")){y++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=h&&w.trim())break;y++}const b=" ".repeat(h+2),N=" ".repeat(h+4);let C;if(i==="CATCH"){const w=" ".repeat(h+6);C=[`${b}${p}:`,`${N}exception_type: "Exception"`,`${N}body:`,`${w}branch: null`]}else C=[`${b}${p}:`,`${N}branch: null`];return{source:[...o.slice(0,y),...C,...o.slice(y)].join(`
`),success:!0}}function M1(n,r,i){const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let d=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){d=p,h=b[1].length;break}}if(d===-1)return{source:n,success:!1};let m=d+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,d),...o.slice(m)].join(`
`),success:!0}}function D1(n,r,i){const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let d=-1,h=-1;const m=[];for(let v=c.startLine+1;v<c.endLine;v++){const w=o[v],E=w.match(/^(\s+)inputs:\s*$/);if(E){d=v,h=E[1].length;continue}if(d!==-1){const T=w.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));T&&m.push(T[1])}}if(d===-1)return{source:n,success:!1};let g=0;for(const v of m){const w=parseInt(v.replace(i,""));w>g&&(g=w)}const p=`${i}${g+1}`;let y=d+1;for(;y<o.length;){const v=o[y];if(v.trim()===""||v.trim().startsWith("#")){y++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=h&&v.trim())break;y++}const N=`${" ".repeat(h+2)}${p}: { literal: null }`;return{source:[...o.slice(0,y),N,...o.slice(y)].join(`
`),success:!0}}function k1(n,r,i){const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let d=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){d=p,h=b[1].length;break}}if(d===-1)return{source:n,success:!1};let m=d+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,d),...o.slice(m)].join(`
`),success:!0}}function Mx(n,r,i=[],o=[],c={}){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return{source:n,success:!1};const d=n.split(`
`);for(const _ of d){const W=_.match(/^\s*-?\s*name:\s*(\w+)/);if(W&&W[1]===r)return{source:n,success:!1}}let h=-1,m=!1,g=-1;for(let _=0;_<d.length;_++){const W=d[_],B=W.match(/^(\s*)workflows:\s*$/);if(B){m=!0,g=B[1].length;continue}if(m){const z=W.search(/\S/);if(W.trim()!==""&&z!==-1&&z<=g)break;h=_}}if(!m)return{source:n,success:!1};const p="  ",y="    ",b="      ",N=o.length>0?`[${o.map(_=>`"${_}"`).join(", ")}]`:"[]",C=Ox(i,b);let v=`${p}- name: ${r}
`;v+=`${y}interface:
`,v+=C.map(_=>_+`
`).join(""),v+=`${b}outputs: ${N}
`;const w=Object.entries(c);if(w.length===0)v+=`${y}variables: {}
`;else{v+=`${y}variables:
`;for(const[_,W]of w)v+=`${b}${_}: ${Cf(W)}
`}v+=`${y}nodes:
`,v+=`${b}start:
`,v+=`${b}  next: null`;const E=h+1;return{source:[...d.slice(0,E),v,...d.slice(E)].join(`
`),success:!0}}function R1(n,r){if(r==="main")return{source:n,success:!1};const i=n.split(`
`);let o=-1,c=-1;for(let m=0;m<i.length;m++){const p=i[m].match(/^(\s*)-\s*name:\s*(\w+)/);if(p&&p[2]===r){o=m,c=p[1].length;break}}if(o===-1)return{source:n,success:!1};let d=o+1;for(;d<i.length;){const m=i[d];if(m.trim()===""||m.trim().startsWith("#")){d++;continue}const g=m.search(/\S/),p=m.match(/^(\s*)-\s*name:\s*\w+/);if(p&&p[1].length===c||g!==-1&&g<=c&&!m.trim().startsWith("-"))break;d++}return{source:[...i.slice(0,o),...i.slice(d)].join(`
`),success:!0}}const z1=["control_if","control_for","control_for_each","control_while","control_repeat_until","control_try","control_fork"];function L1(n,r){const i=n.split(`
`);let o=null,c=!1,d=-1;for(const h of i){const m=h.match(/^(\s*)-?\s*name:\s*(\w+)/);if(m&&(o=m[2],d=m[1].length,c=!1),h.match(/^(\s*)nodes:\s*$/)&&o&&(c=!0),c){const p=h.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(p&&p[2]===r)return o;const y=h.search(/\S/);h.trim()&&y!==-1&&y<=d&&(c=!1)}}return null}function Dx(n,r){const i=ct(n,r);if(!i)return null;const o=n.split(`
`);for(let c=i.startLine+1;c<i.endLine;c++){const d=o[c].match(/^\s+opcode:\s*(\S+)/);if(d)return d[1]}return null}function og(n,r,i){const o=ct(n,r,i);if(!o)return null;const c=n.split(`
`);for(let d=o.startLine+1;d<o.endLine;d++){const h=c[d].match(/^\s+next:\s*(\S+)/);if(h){const m=h[1];return m==="null"?null:m}}return null}function V1(n,r,i){const o=Af(n,i);if(!o)return null;const c=n.split(`
`);let d=null;for(let h=o.startLine;h<o.endLine;h++){const m=c[h],g=m.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);g&&(d=g[2]);const p=m.match(/^\s+next:\s*(\S+)/);if(p&&p[1]===r&&d)return d}return null}function B1(n,r){const i=[],o=new Set;function c(d){if(o.has(d))return;o.add(d);const h=ct(n,d);if(!h)return;const g=n.split(`
`).slice(h.startLine,h.endLine).join(`
`),p=g.matchAll(/\{\s*node:\s*["']([^"']+)["']\s*\}/g);for(const b of p){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}const y=g.matchAll(/\{\s*node:\s*([a-zA-Z_][a-zA-Z0-9_]*)\s*\}/g);for(const b of y){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}}for(const d of r)c(d);return i}function kx(n,r,i){const o=[];if(r.length<2)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Select at least 2 nodes to extract"]};for(const w of r)L1(n,w)!==i&&o.push(`Node "${w}" is not in workflow "${i}"`);if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};for(const w of r){const E=Dx(n,w);E&&z1.includes(E)&&o.push(`Cannot extract "${w}": branching nodes (${E}) are not supported`)}if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};const c=new Set(r),d={};for(const w of r)d[w]=og(n,w,i);const h=new Set(Object.values(d).filter(w=>w&&c.has(w))),m=r.filter(w=>!h.has(w));if(m.length!==1)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes do not form a single connected chain"]};const g=[];let p=m[0];const y=new Set;for(;p&&c.has(p)&&!y.has(p);)y.add(p),g.push(p),p=d[p]||null;if(g.length!==r.length)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes are not contiguous (some nodes are disconnected)"]};const b=g[0],N=g[g.length-1],C=V1(n,b,i),v=og(n,N,i);return{isValid:!0,orderedNodeIds:g,firstNodeId:b,lastNodeId:N,predecessorNodeId:C,successorNodeId:v,errors:[]}}function I1(n,r){const i=new Set,o=new Set;for(const h of r){const m=ct(n,h);if(!m)continue;const p=n.split(`
`).slice(m.startLine,m.endLine).join(`
`),y=p.matchAll(/\{\s*variable:\s*["']([^"']+)["']\s*\}/g);for(const N of y)i.add(N[1]);if(Dx(n,h)==="data_set_variable_to"){const N=p.match(/VARIABLE:\s*\{\s*literal:\s*["']([^"']+)["']\s*\}/);N&&o.add(N[1])}}const c=[...i].filter(h=>!o.has(h)),d=[...o];return{suggestedInputs:c,suggestedOutputs:d}}function H1(n,r,i,o,c,d,h){const m=kx(n,r,i);if(!m.isValid)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:m.errors};const{orderedNodeIds:g,firstNodeId:p,lastNodeId:y,predecessorNodeId:b,successorNodeId:N}=m,C=B1(n,g);let v=n;const w=Mx(v,o,c,d,h);if(!w.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to create workflow "${o}"`]};v=w.source;const E=[],T=[];for(const ie of[...g].reverse()){const ce=ct(v,ie,i);if(!ce)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find node "${ie}"`]};const L=v.split(`
`).slice(ce.startLine,ce.endLine).join(`
`);E.unshift({id:ie,yaml:L,indent:ce.indent});const G=uf(v,ie);if(!G.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to delete node "${ie}"`]};v=G.source}for(const ie of[...C].reverse()){let ce=ct(v,ie,i);if(ce||(ce=ct(v,ie)),!ce)continue;const L=v.split(`
`).slice(ce.startLine,ce.endLine).join(`
`);T.unshift({id:ie,yaml:L,indent:ce.indent});const G=uf(v,ie);G.success&&(v=G.source)}const _=[...E,...T];if(!Af(v,o))return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find nodes section in new workflow "${o}"`]};const B=ct(v,"start",o);if(!B)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Could not find start node in new workflow"]};const z=B.indent,I=[];for(let ie=0;ie<_.length;ie++){const ce=_[ie],oe=ce.yaml.split(`
`),L=z-ce.indent,G=oe.map(A=>A.trim()===""?A:L>0?" ".repeat(L)+A:L<0?A.slice(-L):A);I.push(...G)}const Y=v.split(`
`),U=B.endLine;Y.splice(U,0,...I),v=Y.join(`
`);const K=hi(v,"start",p,o);if(!K.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to connect start to "${p}"`]};v=K.source;const J=_f(v,y,o);if(!J.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to disconnect last node "${y}"`]};v=J.source;const fe=Tx(v,o,c.map(ie=>ie.name),i);if(!fe.nodeId)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to create workflow_call node"]};v=fe.source;const le=fe.nodeId;if(b){const ie=hi(v,b==="start"?"start":b,le,i);if(!ie.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect predecessor to workflow_call"]};v=ie.source}if(N){const ie=hi(v,le,N,i);if(!ie.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect workflow_call to successor"]};v=ie.source}return{source:v,success:!0,newWorkflowCallNodeId:le,errors:[]}}const U1=50,sg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`,rt=vs()(y1((n,r)=>({source:sg,setSource:(i,o=!0)=>{const c=r();if(o&&i!==c.source){const d=c.history.slice(0,c.historyIndex+1);d.push(i),d.length>U1&&d.shift(),n({source:i,history:d,historyIndex:d.length-1,canUndo:d.length>1,canRedo:!1})}else n({source:i})},history:[sg],historyIndex:0,canUndo:!1,canRedo:!1,undo:()=>{const i=r();if(i.historyIndex>0){const o=i.historyIndex-1;n({source:i.history[o],historyIndex:o,canUndo:o>0,canRedo:!0})}},redo:()=>{const i=r();if(i.historyIndex<i.history.length-1){const o=i.historyIndex+1;n({source:i.history[o],historyIndex:o,canUndo:!0,canRedo:o<i.history.length-1})}},tree:null,parseError:null,isParsing:!1,setTree:i=>n({tree:i,parseError:null}),setParseError:i=>n({parseError:i,tree:null}),setIsParsing:i=>n({isParsing:i}),deleteNode:i=>{const o=r(),c=uf(o.source,i);return c.success&&o.setSource(c.source),c.success},addNode:(i,o="main")=>{const c=r(),d=_x(c.source,i,o);return d.nodeId&&c.setSource(d.source),d.nodeId},addNodeConnected:(i,o,c="main")=>{const d=r(),h=b1(d.source,i,o,c);return h.success&&h.nodeId?(d.setSource(h.source),h.nodeId):null},addWorkflowCallNode:(i,o,c="main")=>{const d=r(),h=Tx(d.source,i,o,c);return h.nodeId&&d.setSource(h.source),h.nodeId},duplicateNode:i=>{const o=r(),c=v1(o.source,i);return c.nodeId&&o.setSource(c.source),c.nodeId},updateNodeInput:(i,o,c)=>{const d=r(),h=w1(d.source,i,o,c);return h.success&&d.setSource(h.source),h.success},connectNodes:(i,o,c)=>{const d=r(),h=hi(d.source,i,o,c);return h.success&&d.setSource(h.source),h.success},connectBranch:(i,o,c)=>{const d=r(),h=S1(d.source,i,o,c);return h.success&&d.setSource(h.source),h.success},disconnectNode:(i,o)=>{const c=r(),d=_f(c.source,i,o);return d.success&&c.setSource(d.source),d.success},convertOrphanToReporter:(i,o,c)=>{const d=r(),h=j1(d.source,i,o,c);return h.success&&d.setSource(h.source),h.success},updateReporterInput:(i,o,c)=>(console.log("[updateReporterInput] reporterNodeId:",i,"key:",o,"value:",c),i?r().updateNodeInput(i,o,c):(console.warn("[updateReporterInput] No reporter node ID provided"),!1)),deleteReporter:(i,o)=>{const c=r(),d=E1(c.source,i,o);return d.success&&c.setSource(d.source),d.success},updateWorkflowInterface:(i,o,c)=>{const d=r(),h=C1(d.source,i,o,c);return h.success&&d.setSource(h.source),h.success},addVariable:(i,o,c)=>{const d=r(),h=A1(d.source,i,o,c);return h.success&&d.setSource(h.source),h.success},updateVariable:(i,o,c,d)=>{const h=r(),m=_1(h.source,i,o,c,d);return m.success&&h.setSource(m.source),m.success},disconnectConnection:(i,o,c,d)=>{const h=r(),m=N1(h.source,i,o,c,d);return m.success&&h.setSource(m.source),m.success},deleteVariable:(i,o)=>{const c=r(),d=O1(c.source,i,o);return d.success&&c.setSource(d.source),d.success},addDynamicBranch:(i,o)=>{const c=r(),d=T1(c.source,i,o);return d.success&&c.setSource(d.source),d.success},removeDynamicBranch:(i,o)=>{const c=r(),d=M1(c.source,i,o);return d.success&&c.setSource(d.source),d.success},addDynamicInput:(i,o)=>{const c=r(),d=D1(c.source,i,o);return d.success&&c.setSource(d.source),d.success},removeDynamicInput:(i,o)=>{const c=r(),d=k1(c.source,i,o);return d.success&&c.setSource(d.source),d.success},addWorkflow:(i,o=[],c=[],d={})=>{const h=r(),m=Mx(h.source,i,o,c,d);return m.success&&h.setSource(m.source),m.success},deleteWorkflow:i=>{const o=r(),c=R1(o.source,i);return c.success&&o.setSource(c.source),c.success},extractToWorkflow:(i,o,c,d,h,m)=>{const g=r(),p=H1(g.source,i,o,c,d,h,m);return p.success&&g.setSource(p.source),{success:p.success,errors:p.errors}},examples:[],setExamples:i=>n({examples:i}),opcodes:[],setOpcodes:i=>n({opcodes:i}),isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,setIsExecuting:i=>n({isExecuting:i}),setExecutionOutput:i=>n({executionOutput:i}),appendExecutionOutput:i=>n(o=>({executionOutput:o.executionOutput+i})),setExecutionResult:i=>n({executionResult:i}),setExecutionError:i=>n({executionError:i}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null}),workflowInputs:{},setWorkflowInput:(i,o)=>n(c=>({workflowInputs:{...c.workflowInputs,[i]:o}})),clearWorkflowInputs:()=>n({workflowInputs:{}})}),{name:"lexflow-workflow",partialize:n=>({source:n.source})})),Te=vs(n=>({zoom:1,panX:0,panY:0,isDraggingWorkflow:!1,setZoom:r=>n({zoom:Math.max(.25,Math.min(2,r))}),setPan:(r,i)=>n({panX:r,panY:i}),resetView:()=>n({zoom:1,panX:0,panY:0}),setIsDraggingWorkflow:r=>n({isDraggingWorkflow:r}),isEditorOpen:!1,isNodeEditorOpen:!1,isPaletteOpen:!1,isExecutionPanelOpen:!0,toggleEditor:()=>n(r=>({isEditorOpen:!r.isEditorOpen})),toggleNodeEditor:()=>n(r=>({isNodeEditorOpen:!r.isNodeEditorOpen})),togglePalette:()=>n(r=>({isPaletteOpen:!r.isPaletteOpen})),toggleExecutionPanel:()=>n(r=>({isExecutionPanelOpen:!r.isExecutionPanelOpen})),openNodeEditor:()=>n({isNodeEditorOpen:!0}),closeNodeEditor:()=>n({isNodeEditorOpen:!1}),nodeStatus:{},setNodeStatus:(r,i)=>n(o=>({nodeStatus:{...o.nodeStatus,[r]:i}})),clearNodeStatuses:()=>n({nodeStatus:{}}),searchQuery:"",searchResults:[],setSearchQuery:r=>n({searchQuery:r}),setSearchResults:r=>n({searchResults:r}),workflowPositions:{},setWorkflowPosition:(r,i,o)=>n(c=>({workflowPositions:{...c.workflowPositions,[r]:{x:i,y:o}}})),resetWorkflowPositions:()=>n({workflowPositions:{}}),draggingOpcode:null,setDraggingOpcode:r=>n({draggingOpcode:r}),draggingWire:null,setDraggingWire:r=>n({draggingWire:r}),updateDraggingWire:r=>n(i=>({draggingWire:i.draggingWire?{...i.draggingWire,...r}:null})),draggingOrphan:null,setDraggingOrphan:r=>n({draggingOrphan:r}),updateDraggingOrphanEnd:(r,i)=>n(o=>({draggingOrphan:o.draggingOrphan?{...o.draggingOrphan,toX:r,toY:i}:null})),nodePositions:{},setNodePosition:(r,i,o)=>n(c=>({nodePositions:{...c.nodePositions,[r]:{x:i,y:o}}})),resetNodePositions:()=>n({nodePositions:{}}),clearNodePosition:r=>n(i=>{const{[r]:o,...c}=i.nodePositions;return{nodePositions:c}}),layoutMode:"free",setLayoutMode:r=>n({layoutMode:r}),isDraggingNode:!1,setIsDraggingNode:r=>n({isDraggingNode:r}),draggingVariable:null,setDraggingVariable:r=>n({draggingVariable:r}),updateDraggingVariableEnd:(r,i)=>n(o=>({draggingVariable:o.draggingVariable?{...o.draggingVariable,toX:r,toY:i}:null})),draggingWorkflowCall:null,setDraggingWorkflowCall:r=>n({draggingWorkflowCall:r}),slotPositions:{},registerSlotPositions:(r,i)=>n(o=>({slotPositions:{...o.slotPositions,[r]:i}})),unregisterSlotPositions:r=>n(i=>{const{[r]:o,...c}=i.slotPositions;return{slotPositions:c}}),layoutGroups:[],setLayoutGroups:r=>n({layoutGroups:r}),canvasCenter:{x:400,y:300},setCanvasCenter:(r,i)=>n({canvasCenter:{x:r,y:i}}),contextMenu:null,showContextMenu:r=>n({contextMenu:r}),hideContextMenu:()=>n({contextMenu:null}),expandedReporters:{},toggleReportersExpanded:r=>n(i=>({expandedReporters:{...i.expandedReporters,[r]:!i.expandedReporters[r]}})),setReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,[r]:i}})),setMultipleReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,...Object.fromEntries(r.map(c=>[c,i]))}})),confirmDialog:null,showConfirmDialog:r=>n({confirmDialog:{isOpen:!0,title:r.title,message:r.message,confirmLabel:r.confirmLabel,cancelLabel:r.cancelLabel,variant:r.variant,onConfirm:()=>{r.onConfirm(),n({confirmDialog:null})},onCancel:()=>{r.onCancel?.(),n({confirmDialog:null})}}}),hideConfirmDialog:()=>n({confirmDialog:null}),canvasContextMenu:null,showCanvasContextMenu:(r,i,o)=>n({canvasContextMenu:{x:r,y:i,workflowName:o}}),hideCanvasContextMenu:()=>n({canvasContextMenu:null}),createWorkflowModal:null,showCreateWorkflowModal:()=>n({createWorkflowModal:{isOpen:!0}}),hideCreateWorkflowModal:()=>n({createWorkflowModal:null}),extractWorkflowModal:null,showExtractWorkflowModal:(r,i,o=[],c=[])=>n({extractWorkflowModal:{isOpen:!0,nodeIds:r,workflowName:i,suggestedInputs:o,suggestedOutputs:c}}),hideExtractWorkflowModal:()=>n({extractWorkflowModal:null}),addNodeMenu:null,showAddNodeMenu:(r,i,o,c)=>n({addNodeMenu:{x:r,y:i,sourceNodeId:o,workflowName:c}}),hideAddNodeMenu:()=>n({addNodeMenu:null})})),gi=vs(n=>({isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,workflowInputs:{},pendingPrompt:null,renderedContent:[],alerts:[],progress:null,setIsExecuting:r=>n({isExecuting:r}),setExecutionOutput:r=>n({executionOutput:r}),appendExecutionOutput:r=>n(i=>({executionOutput:i.executionOutput+r})),setExecutionResult:r=>n({executionResult:r}),setExecutionError:r=>n({executionError:r}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null,pendingPrompt:null,renderedContent:[],alerts:[],progress:null}),setWorkflowInput:(r,i)=>n(o=>({workflowInputs:{...o.workflowInputs,[r]:i}})),clearWorkflowInputs:()=>n({workflowInputs:{}}),setPendingPrompt:r=>n({pendingPrompt:r}),addRenderedContent:r=>n(i=>({renderedContent:[...i.renderedContent,r]})),clearRenderedContent:()=>n({renderedContent:[]}),addAlert:r=>n(i=>({alerts:[...i.alerts,{...r,id:crypto.randomUUID()}]})),removeAlert:r=>n(i=>({alerts:i.alerts.filter(o=>o.id!==r)})),setProgress:r=>n({progress:r})})),ll=vs(n=>({selectedNodeId:null,selectNode:r=>n({selectedNodeId:r,selectedNodeIds:[]}),selectedNodeIds:[],toggleNodeSelection:r=>n(i=>{const o=i.selectedNodeIds.includes(r)?i.selectedNodeIds.filter(c=>c!==r):[...i.selectedNodeIds,r];return{selectedNodeIds:o,selectedNodeId:o.length>0?o[o.length-1]:null}}),addToSelection:r=>n(i=>({selectedNodeIds:i.selectedNodeIds.includes(r)?i.selectedNodeIds:[...i.selectedNodeIds,r]})),clearMultiSelection:()=>n({selectedNodeIds:[]}),selectedReporter:null,selectReporter:r=>n({selectedReporter:r}),selectedConnection:null,selectConnection:r=>n({selectedConnection:r}),selectedStartNode:null,selectStartNode:r=>n({selectedStartNode:r}),clearSelection:()=>n({selectedNodeId:null,selectedNodeIds:[],selectedReporter:null,selectedConnection:null,selectedStartNode:null})}));function Rx(n){var r,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(r=0;r<c;r++)n[r]&&(i=Rx(n[r]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function zx(){for(var n,r,i=0,o="",c=arguments.length;i<c;i++)(n=arguments[i])&&(r=Rx(n))&&(o&&(o+=" "),o+=r);return o}const Y1=(n,r)=>{const i=new Array(n.length+r.length);for(let o=0;o<n.length;o++)i[o]=n[o];for(let o=0;o<r.length;o++)i[n.length+o]=r[o];return i},q1=(n,r)=>({classGroupId:n,validator:r}),Lx=(n=new Map,r=null,i)=>({nextPart:n,validators:r,classGroupId:i}),rs="-",cg=[],$1="arbitrary..",G1=n=>{const r=W1(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return X1(h);const m=h.split(rs),g=m[0]===""&&m.length>1?1:0;return Vx(m,g,r)},getConflictingClassGroupIds:(h,m)=>{if(m){const g=o[h],p=i[h];return g?p?Y1(p,g):g:p||cg}return i[h]||cg}}},Vx=(n,r,i)=>{if(n.length-r===0)return i.classGroupId;const c=n[r],d=i.nextPart.get(c);if(d){const p=Vx(n,r+1,d);if(p)return p}const h=i.validators;if(h===null)return;const m=r===0?n.join(rs):n.slice(r).join(rs),g=h.length;for(let p=0;p<g;p++){const y=h[p];if(y.validator(m))return y.classGroupId}},X1=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=n.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?$1+o:void 0})(),W1=n=>{const{theme:r,classGroups:i}=n;return Z1(i,r)},Z1=(n,r)=>{const i=Lx();for(const o in n){const c=n[o];Of(c,i,o,r)}return i},Of=(n,r,i,o)=>{const c=n.length;for(let d=0;d<c;d++){const h=n[d];Q1(h,r,i,o)}},Q1=(n,r,i,o)=>{if(typeof n=="string"){K1(n,r,i);return}if(typeof n=="function"){F1(n,r,i,o);return}J1(n,r,i,o)},K1=(n,r,i)=>{const o=n===""?r:Bx(r,n);o.classGroupId=i},F1=(n,r,i,o)=>{if(P1(n)){Of(n(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(q1(i,n))},J1=(n,r,i,o)=>{const c=Object.entries(n),d=c.length;for(let h=0;h<d;h++){const[m,g]=c[h];Of(g,Bx(r,m),i,o)}},Bx=(n,r)=>{let i=n;const o=r.split(rs),c=o.length;for(let d=0;d<c;d++){const h=o[d];let m=i.nextPart.get(h);m||(m=Lx(),i.nextPart.set(h,m)),i=m}return i},P1=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,ew=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const c=(d,h)=>{i[d]=h,r++,r>n&&(r=0,o=i,i=Object.create(null))};return{get(d){let h=i[d];if(h!==void 0)return h;if((h=o[d])!==void 0)return c(d,h),h},set(d,h){d in i?i[d]=h:c(d,h)}}},ff="!",ug=":",tw=[],fg=(n,r,i,o,c)=>({modifiers:n,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:c}),nw=n=>{const{prefix:r,experimentalParseClassName:i}=n;let o=c=>{const d=[];let h=0,m=0,g=0,p;const y=c.length;for(let w=0;w<y;w++){const E=c[w];if(h===0&&m===0){if(E===ug){d.push(c.slice(g,w)),g=w+1;continue}if(E==="/"){p=w;continue}}E==="["?h++:E==="]"?h--:E==="("?m++:E===")"&&m--}const b=d.length===0?c:c.slice(g);let N=b,C=!1;b.endsWith(ff)?(N=b.slice(0,-1),C=!0):b.startsWith(ff)&&(N=b.slice(1),C=!0);const v=p&&p>g?p-g:void 0;return fg(d,C,N,v)};if(r){const c=r+ug,d=o;o=h=>h.startsWith(c)?d(h.slice(c.length)):fg(tw,!1,h,void 0,!0)}if(i){const c=o;o=d=>i({className:d,parseClassName:c})}return o},lw=n=>{const r=new Map;return n.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let c=[];for(let d=0;d<i.length;d++){const h=i[d],m=h[0]==="[",g=r.has(h);m||g?(c.length>0&&(c.sort(),o.push(...c),c=[]),o.push(h)):c.push(h)}return c.length>0&&(c.sort(),o.push(...c)),o}},aw=n=>({cache:ew(n.cacheSize),parseClassName:nw(n),sortModifiers:lw(n),...G1(n)}),rw=/\s+/,iw=(n,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:d}=r,h=[],m=n.trim().split(rw);let g="";for(let p=m.length-1;p>=0;p-=1){const y=m[p],{isExternal:b,modifiers:N,hasImportantModifier:C,baseClassName:v,maybePostfixModifierPosition:w}=i(y);if(b){g=y+(g.length>0?" "+g:g);continue}let E=!!w,T=o(E?v.substring(0,w):v);if(!T){if(!E){g=y+(g.length>0?" "+g:g);continue}if(T=o(v),!T){g=y+(g.length>0?" "+g:g);continue}E=!1}const _=N.length===0?"":N.length===1?N[0]:d(N).join(":"),W=C?_+ff:_,B=W+T;if(h.indexOf(B)>-1)continue;h.push(B);const z=c(T,E);for(let I=0;I<z.length;++I){const Y=z[I];h.push(W+Y)}g=y+(g.length>0?" "+g:g)}return g},ow=(...n)=>{let r=0,i,o,c="";for(;r<n.length;)(i=n[r++])&&(o=Ix(i))&&(c&&(c+=" "),c+=o);return c},Ix=n=>{if(typeof n=="string")return n;let r,i="";for(let o=0;o<n.length;o++)n[o]&&(r=Ix(n[o]))&&(i&&(i+=" "),i+=r);return i},sw=(n,...r)=>{let i,o,c,d;const h=g=>{const p=r.reduce((y,b)=>b(y),n());return i=aw(p),o=i.cache.get,c=i.cache.set,d=m,m(g)},m=g=>{const p=o(g);if(p)return p;const y=iw(g,i);return c(g,y),y};return d=h,(...g)=>d(ow(...g))},cw=[],bt=n=>{const r=i=>i[n]||cw;return r.isThemeGetter=!0,r},Hx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ux=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uw=/^\d+\/\d+$/,fw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ja=n=>uw.test(n),De=n=>!!n&&!Number.isNaN(Number(n)),Tl=n=>!!n&&Number.isInteger(Number(n)),Yu=n=>n.endsWith("%")&&De(n.slice(0,-1)),el=n=>fw.test(n),gw=()=>!0,xw=n=>dw.test(n)&&!hw.test(n),Yx=()=>!1,yw=n=>mw.test(n),bw=n=>pw.test(n),vw=n=>!me(n)&&!pe(n),ww=n=>cr(n,Gx,Yx),me=n=>Hx.test(n),la=n=>cr(n,Xx,xw),qu=n=>cr(n,Cw,De),dg=n=>cr(n,qx,Yx),Sw=n=>cr(n,$x,bw),qo=n=>cr(n,Wx,yw),pe=n=>Ux.test(n),ii=n=>ur(n,Xx),Nw=n=>ur(n,Aw),hg=n=>ur(n,qx),jw=n=>ur(n,Gx),Ew=n=>ur(n,$x),$o=n=>ur(n,Wx,!0),cr=(n,r,i)=>{const o=Hx.exec(n);return o?o[1]?r(o[1]):i(o[2]):!1},ur=(n,r,i=!1)=>{const o=Ux.exec(n);return o?o[1]?r(o[1]):i:!1},qx=n=>n==="position"||n==="percentage",$x=n=>n==="image"||n==="url",Gx=n=>n==="length"||n==="size"||n==="bg-size",Xx=n=>n==="length",Cw=n=>n==="number",Aw=n=>n==="family-name",Wx=n=>n==="shadow",_w=()=>{const n=bt("color"),r=bt("font"),i=bt("text"),o=bt("font-weight"),c=bt("tracking"),d=bt("leading"),h=bt("breakpoint"),m=bt("container"),g=bt("spacing"),p=bt("radius"),y=bt("shadow"),b=bt("inset-shadow"),N=bt("text-shadow"),C=bt("drop-shadow"),v=bt("blur"),w=bt("perspective"),E=bt("aspect"),T=bt("ease"),_=bt("animate"),W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...B(),pe,me],I=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],U=()=>[pe,me,g],K=()=>[Ja,"full","auto",...U()],J=()=>[Tl,"none","subgrid",pe,me],fe=()=>["auto",{span:["full",Tl,pe,me]},Tl,pe,me],le=()=>[Tl,"auto",pe,me],ie=()=>["auto","min","max","fr",pe,me],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...U()],G=()=>[Ja,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],A=()=>[n,pe,me],ee=()=>[...B(),hg,dg,{position:[pe,me]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",jw,ww,{size:[pe,me]}],V=()=>[Yu,ii,la],Z=()=>["","none","full",p,pe,me],ne=()=>["",De,ii,la],ye=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[De,Yu,hg,dg],$e=()=>["","none",v,pe,me],ae=()=>["none",De,pe,me],je=()=>["none",De,pe,me],Be=()=>[De,pe,me],Me=()=>[Ja,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[el],breakpoint:[el],color:[gw],container:[el],"drop-shadow":[el],ease:["in","out","in-out"],font:[vw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[el],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[el],shadow:[el],spacing:["px",De],text:[el],"text-shadow":[el],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ja,me,pe,E]}],container:["container"],columns:[{columns:[De,me,pe,m]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[Tl,"auto",pe,me]}],basis:[{basis:[Ja,"full","auto",m,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,Ja,"auto","initial","none",me]}],grow:[{grow:["",De,pe,me]}],shrink:[{shrink:["",De,pe,me]}],order:[{order:[Tl,"first","last","none",pe,me]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:fe()}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:fe()}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[m,"screen",...G()]}],"min-w":[{"min-w":[m,"screen","none",...G()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[h]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",i,ii,la]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,pe,qu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Yu,me]}],"font-family":[{font:[Nw,me,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,pe,me]}],"line-clamp":[{"line-clamp":[De,"none",pe,qu]}],leading:[{leading:[d,...U()]}],"list-image":[{"list-image":["none",pe,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",pe,la]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[De,"auto",pe,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Tl,pe,me],radial:["",pe,me],conic:[Tl,pe,me]},Ew,Sw]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,pe,me]}],"outline-w":[{outline:["",De,ii,la]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",y,$o,qo]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",b,$o,qo]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[De,la]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",N,$o,qo]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[De,pe,me]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[pe,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,me]}],filter:[{filter:["","none",pe,me]}],blur:[{blur:$e()}],brightness:[{brightness:[De,pe,me]}],contrast:[{contrast:[De,pe,me]}],"drop-shadow":[{"drop-shadow":["","none",C,$o,qo]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",De,pe,me]}],"hue-rotate":[{"hue-rotate":[De,pe,me]}],invert:[{invert:["",De,pe,me]}],saturate:[{saturate:[De,pe,me]}],sepia:[{sepia:["",De,pe,me]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,me]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[De,pe,me]}],"backdrop-contrast":[{"backdrop-contrast":[De,pe,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,pe,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,pe,me]}],"backdrop-invert":[{"backdrop-invert":["",De,pe,me]}],"backdrop-opacity":[{"backdrop-opacity":[De,pe,me]}],"backdrop-saturate":[{"backdrop-saturate":[De,pe,me]}],"backdrop-sepia":[{"backdrop-sepia":["",De,pe,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",pe,me]}],ease:[{ease:["linear","initial",T,pe,me]}],delay:[{delay:[De,pe,me]}],animate:[{animate:["none",_,pe,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,pe,me]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:ae()}],"rotate-x":[{"rotate-x":ae()}],"rotate-y":[{"rotate-y":ae()}],"rotate-z":[{"rotate-z":ae()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[pe,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,me]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[De,ii,la,qu]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ow=sw(_w);function D(...n){return Ow(zx(n))}const mg=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,pg=zx,O=(n,r)=>i=>{var o;if(r?.variants==null)return pg(n,i?.class,i?.className);const{variants:c,defaultVariants:d}=r,h=Object.keys(c).map(p=>{const y=i?.[p],b=d?.[p];if(y===null)return null;const N=mg(y)||mg(b);return c[p][N]}),m=i&&Object.entries(i).reduce((p,y)=>{let[b,N]=y;return N===void 0||(p[b]=N),p},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((p,y)=>{let{class:b,className:N,...C}=y;return Object.entries(C).every(v=>{let[w,E]=v;return Array.isArray(E)?E.includes({...d,...m}[w]):{...d,...m}[w]===E})?[...p,b,N]:p},[]);return pg(n,h,g,i?.class,i?.className)},Tw=O("inline-flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent-blue disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-text-secondary hover:text-text-primary hover:bg-surface-2",ghost:"text-text-muted hover:text-text-secondary hover:bg-surface-1"},size:{sm:"h-6 w-6 rounded-sm",md:"h-8 w-8 rounded-sm",lg:"h-10 w-10 rounded-sm"}},defaultVariants:{variant:"default",size:"md"}}),Tn=k.forwardRef(({className:n,variant:r,size:i,icon:o,label:c,...d},h)=>u.jsx("button",{ref:h,className:D(Tw({variant:r,size:i,className:n})),"aria-label":c,title:c,...d,children:o}));Tn.displayName="IconButton";const Mw=O("w-full bg-surface-2 text-text-secondary border border-border-subtle transition-colors focus:outline-none focus:ring-1 focus:ring-accent-blue focus:border-accent-blue hover:bg-surface-3 hover:text-text-primary disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{size:{sm:"h-7 px-2.5 pr-7 text-xs rounded-sm leading-7",md:"h-8 px-3 pr-8 text-sm rounded-sm leading-8",lg:"h-10 px-4 pr-10 text-sm rounded-sm leading-10"}},defaultVariants:{size:"md"}}),Zx=k.forwardRef(({className:n,size:r,children:i,...o},c)=>u.jsxs("div",{className:"relative",children:[u.jsx("select",{ref:c,className:D(Mw({size:r,className:n})),...o,children:i}),u.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:u.jsx("svg",{className:"h-4 w-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}));Zx.displayName="Select";var Tf=Cx();const Mf=O("fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-150"),Dw=O("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[380px] mx-4 animate-in zoom-in-95 duration-150"),kw=O("px-5 py-4 border-b border-border-subtle"),Rw=O("text-base font-semibold text-text-primary"),zw=O("px-5 py-4"),Lw=O("text-sm text-text-secondary leading-relaxed"),Vw=O("px-5 py-3 border-t border-border-subtle flex justify-end gap-2"),rr=O("px-4 py-2 text-sm font-medium rounded-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1"),Df=O("bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default focus:ring-border-default"),kf=O("",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/90 focus:ring-accent-blue",danger:"bg-accent-red text-white hover:bg-accent-red/90 focus:ring-accent-red"}},defaultVariants:{variant:"default"}});function Bw({isOpen:n,title:r,message:i,confirmLabel:o="OK",cancelLabel:c="Cancel",variant:d="default",onConfirm:h,onCancel:m}){const g=k.useRef(null);return k.useEffect(()=>{if(n){const p=setTimeout(()=>{g.current?.focus()},50);return()=>clearTimeout(p)}},[n]),k.useEffect(()=>{if(!n)return;const p=y=>{y.key==="Escape"?m():y.key==="Enter"&&h()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n,m,h]),n?Tf.createPortal(u.jsx("div",{className:D(Mf()),onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:u.jsxs("div",{className:D(Dw()),onClick:p=>p.stopPropagation(),children:[u.jsx("div",{className:D(kw()),children:u.jsx("h2",{id:"confirm-dialog-title",className:D(Rw()),children:r})}),u.jsx("div",{className:D(zw()),children:u.jsx("p",{id:"confirm-dialog-message",className:D(Lw()),children:i})}),u.jsxs("div",{className:D(Vw()),children:[u.jsx("button",{className:D(rr(),Df()),onClick:m,children:c}),u.jsx("button",{ref:g,className:D(rr(),kf({variant:d})),onClick:h,children:o})]})]})}),document.body):null}const Qx=O("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[480px] mx-4 animate-in zoom-in-95 duration-150 max-h-[90vh] flex flex-col"),Kx=O("px-5 py-4 border-b border-border-subtle flex-shrink-0"),Fx=O("text-base font-semibold text-text-primary"),Jx=O("px-5 py-4 overflow-y-auto flex-1"),Px=O("px-5 py-3 border-t border-border-subtle flex justify-end gap-2 flex-shrink-0"),Ml=O("mb-4 last:mb-0"),Dl=O("block text-sm font-medium text-text-primary mb-1.5"),kl=O("w-full px-3 py-2 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),ey=O("text-xs text-accent-red mt-1"),is=O("flex flex-wrap gap-1.5 mb-2"),os=O("inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-surface-3 text-text-primary rounded-sm border border-border-subtle"),ss=O("ml-0.5 text-text-muted hover:text-text-primary cursor-pointer"),cs=O("flex gap-2"),ar=O("px-3 py-2 text-sm bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default rounded-sm transition-colors"),ty=O("flex items-center gap-2 mb-2"),us=O("flex-1 px-2 py-1.5 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),ny=O("p-1 text-text-muted hover:text-accent-red transition-colors"),Iw=["string","number","boolean","list","dict","any"];function Hw({isOpen:n,existingWorkflowNames:r,onConfirm:i,onCancel:o}){const c=k.useRef(null),[d,h]=k.useState(""),[m,g]=k.useState(null),[p,y]=k.useState([]),[b,N]=k.useState(""),[C,v]=k.useState("string"),[w,E]=k.useState(!1),[T,_]=k.useState([]),[W,B]=k.useState(""),[z,I]=k.useState([]);k.useEffect(()=>{n&&(h(""),g(null),y([]),N(""),v("string"),E(!1),_([]),B(""),I([]),setTimeout(()=>{c.current?.focus()},50))},[n]),k.useEffect(()=>{if(!n)return;const A=ee=>{ee.key==="Escape"&&o()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[n,o]);const Y=A=>A.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(A)?r.includes(A)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",U=A=>{h(A),m&&g(Y(A))},K=()=>{g(Y(d))},J=()=>{const A=b.trim();A&&!p.some(ee=>ee.name===A)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(A)&&(y([...p,{name:A,type:C,required:w}]),N(""),v("string"),E(!1))},fe=A=>{y(p.filter(ee=>ee.name!==A))},le=()=>{const A=W.trim();A&&!T.includes(A)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(A)&&(_([...T,A]),B(""))},ie=A=>{_(T.filter(ee=>ee!==A))},ce=()=>{I([...z,{name:"",value:""}])},oe=(A,ee,re)=>{const j=[...z];j[A][ee]=re,I(j)},L=A=>{I(z.filter((ee,re)=>re!==A))},G=()=>{const A=Y(d);if(A){g(A);return}const ee={};for(const re of z)if(re.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(re.name.trim())){let j=re.value;try{j=JSON.parse(re.value)}catch{}ee[re.name.trim()]=j}i({name:d.trim(),inputs:p,outputs:T,variables:ee})};return n?Tf.createPortal(u.jsx("div",{className:D(Mf()),onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"new-workflow-dialog-title",children:u.jsxs("div",{className:D(Qx()),onClick:A=>A.stopPropagation(),children:[u.jsx("div",{className:D(Kx()),children:u.jsx("h2",{id:"new-workflow-dialog-title",className:D(Fx()),children:"Create New Workflow"})}),u.jsxs("div",{className:D(Jx()),children:[u.jsxs("div",{className:D(Ml()),children:[u.jsxs("label",{className:D(Dl()),children:["Workflow Name ",u.jsx("span",{className:"text-accent-red",children:"*"})]}),u.jsx("input",{ref:c,type:"text",className:D(kl()),placeholder:"my_workflow",value:d,onChange:A=>U(A.target.value),onBlur:K,onKeyDown:A=>{A.key==="Enter"&&G()}}),m&&u.jsx("p",{className:D(ey()),children:m})]}),u.jsxs("div",{className:D(Ml()),children:[u.jsx("label",{className:D(Dl()),children:"Interface Inputs"}),p.length>0&&u.jsx("div",{className:D(is()),children:p.map(A=>u.jsxs("span",{className:D(os()),children:[A.name,u.jsx("span",{className:"text-[10px] opacity-70 ml-0.5",children:A.type}),A.required&&u.jsx("span",{className:"text-accent-red text-[10px]",children:"*"}),u.jsx("button",{className:D(ss()),onClick:()=>fe(A.name),"aria-label":`Remove ${A.name}`,children:"x"})]},A.name))}),u.jsxs("div",{className:D(cs()),children:[u.jsx("input",{type:"text",className:D(kl()),placeholder:"input_name",value:b,onChange:A=>N(A.target.value),onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),J())}}),u.jsx("select",{className:D(kl(),"w-24"),value:C,onChange:A=>v(A.target.value),children:Iw.map(A=>u.jsx("option",{value:A,children:A},A))}),u.jsxs("label",{className:"flex items-center gap-1 text-xs text-text-secondary whitespace-nowrap",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:A=>E(A.target.checked)}),"Req"]}),u.jsx("button",{type:"button",className:D(ar()),onClick:J,children:"Add"})]})]}),u.jsxs("div",{className:D(Ml()),children:[u.jsx("label",{className:D(Dl()),children:"Interface Outputs"}),T.length>0&&u.jsx("div",{className:D(is()),children:T.map(A=>u.jsxs("span",{className:D(os()),children:[A,u.jsx("button",{className:D(ss()),onClick:()=>ie(A),"aria-label":`Remove ${A}`,children:"x"})]},A))}),u.jsxs("div",{className:D(cs()),children:[u.jsx("input",{type:"text",className:D(kl()),placeholder:"output_name",value:W,onChange:A=>B(A.target.value),onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),le())}}),u.jsx("button",{type:"button",className:D(ar()),onClick:le,children:"Add"})]})]}),u.jsxs("div",{className:D(Ml()),children:[u.jsx("label",{className:D(Dl()),children:"Variables"}),z.map((A,ee)=>u.jsxs("div",{className:D(ty()),children:[u.jsx("input",{type:"text",className:D(us()),placeholder:"name",value:A.name,onChange:re=>oe(ee,"name",re.target.value)}),u.jsx("span",{className:"text-text-muted",children:"="}),u.jsx("input",{type:"text",className:D(us()),placeholder:"value",value:A.value,onChange:re=>oe(ee,"value",re.target.value)}),u.jsx("button",{type:"button",className:D(ny()),onClick:()=>L(ee),"aria-label":"Remove variable",children:"x"})]},ee)),u.jsx("button",{type:"button",className:D(ar()),onClick:ce,children:"+ Add Variable"})]})]}),u.jsxs("div",{className:D(Px()),children:[u.jsx("button",{className:D(rr(),Df()),onClick:o,children:"Cancel"}),u.jsx("button",{className:D(rr(),kf()),onClick:G,children:"Create"})]})]})}),document.body):null}function Uw(n,r){return n.constructs.find(i=>i.opcode===r)}function Yw(n){return new Set(n.constructs.filter(r=>r.branches&&r.branches.length>0).map(r=>r.opcode))}function qw(n,r){const i=n.branch_colors;return r.startsWith("CATCH")?i.CATCH||i.default||"#9C27B0":r.startsWith("BRANCH")?i.BRANCH||i.default||"#9C27B0":i[r]||i.default||"#9C27B0"}function $w(n,r){const i=n.node_colors;return i[r]||i.opcode||"#64748B"}function Gw(n,r){const i=n.reporter_colors;for(const o of n.categories)if(r.startsWith(o.prefix))return i[o.id]||i.default||"#64748B";return i.default||"#64748B"}const Xw="1.0",Ww=[{id:"io",label:"I/O Operations",prefix:"io_",color:"#22D3EE",icon:""},{id:"operator",label:"Operators",prefix:"operator_",color:"#9C27B0",icon:""},{id:"math",label:"Math Operations",prefix:"math_",color:"#8B5CF6",icon:""},{id:"string",label:"String Operations",prefix:"string_",color:"#F472B6",icon:""},{id:"list",label:"List Operations",prefix:"list_",color:"#3B82F6",icon:""},{id:"dict",label:"Dictionary Operations",prefix:"dict_",color:"#F59E0B",icon:""},{id:"object",label:"Object Operations",prefix:"object_",color:"#10B981",icon:""},{id:"type",label:"Type Conversions",prefix:"type_",color:"#6B7280",icon:""},{id:"throw",label:"Exception Operations",prefix:"throw_",color:"#EF4444",icon:""},{id:"assert",label:"Assertion Operations",prefix:"assert_",color:"#F97316",icon:""},{id:"workflow",label:"Workflow Operations",prefix:"workflow_",color:"#E91E63",icon:""},{id:"data",label:"Data Operations",prefix:"data_",color:"#4CAF50",icon:""},{id:"control",label:"Control Flow",prefix:"control_",color:"#FF9500",icon:""},{id:"async",label:"Async Operations",prefix:"async_",color:"#06B6D4",icon:""},{id:"pydantic_ai",label:"AI Operations (Pydantic AI)",prefix:"pydantic_ai_",color:"#10B981",icon:"",requires:"ai"},{id:"http",label:"HTTP Operations",prefix:"http_",color:"#3B82F6",icon:"",requires:"http"},{id:"html",label:"HTML Operations",prefix:"html_",color:"#E34F26",icon:"",requires:"http"},{id:"json",label:"JSON Operations",prefix:"json_",color:"#F59E0B",icon:""},{id:"gcs",label:"Cloud Storage",prefix:"gcs_",color:"#4285F4",icon:"",requires:"gcs"},{id:"pygame",label:"Pygame Operations",prefix:"pygame_",color:"#00D86A",icon:"",requires:"pygame"},{id:"rag",label:"RAG Operations",prefix:"rag_",color:"#8B5CF6",icon:"",requires:"rag"},{id:"chat",label:"Chat Operations",prefix:"chat_",color:"#6366F1",icon:""},{id:"cli",label:"CLI Operations",prefix:"cli_",color:"#EC4899",icon:""},{id:"github",label:"GitHub Operations",prefix:"github_",color:"#24292F",icon:""},{id:"pubsub",label:"Pub/Sub",prefix:"pubsub_",color:"#EA4335",icon:"",requires:"pubsub"},{id:"task",label:"Task Operations",prefix:"task_",color:"#0EA5E9",icon:""},{id:"channel",label:"Channel Operations",prefix:"channel_",color:"#14B8A6",icon:""},{id:"sync",label:"Sync Primitives",prefix:"sync_",color:"#A855F7",icon:""}],Zw=[{opcode:"control_if",display_name:"If",ast_class:"If",category:"control",description:"Execute branch if condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0}]},{opcode:"control_if_else",display_name:"If-Else",ast_class:"If",category:"control",description:"Execute then-branch if condition is true, else-branch otherwise.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0},{name:"ELSE",label:"Else",color:"#EF5350",required:!0}]},{opcode:"control_while",display_name:"While",ast_class:"While",category:"control",description:"Repeat body while condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_for",display_name:"For",ast_class:"For",category:"control",description:"For loop with counter variable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"START",type:"expression",label:"Start",value_type:"int",required:!0},{name:"END",type:"expression",label:"End",value_type:"int",required:!0},{name:"STEP",type:"expression",label:"Step",value_type:"int",required:!1,default:1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_foreach",display_name:"ForEach",ast_class:"ForEach",category:"control",description:"Iterate over each item in a collection.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Iterable",value_type:"list",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_fork",display_name:"Fork",ast_class:"Fork",category:"control",description:"Execute multiple branches concurrently.",inputs:[],branches:[{name:"BRANCH1",label:"Branch 1",color:"#9C27B0",required:!0},{name:"BRANCH2",label:"Branch 2",color:"#9C27B0",required:!1}],dynamic_branches:!0},{opcode:"control_try",display_name:"Try",ast_class:"Try",category:"control",description:"Exception handling with try/catch/finally.",inputs:[],branches:[{name:"TRY",label:"Try",color:"#3B82F6",required:!0},{name:"CATCH1",label:"Catch",color:"#F87171",required:!1,catch_config:{exception_type:"string",var_name:"string"}},{name:"FINALLY",label:"Finally",color:"#FACC15",required:!1}],dynamic_branches:!0},{opcode:"control_throw",display_name:"Throw",ast_class:"Throw",category:"control",description:"Raise an exception with a message.",inputs:[{name:"VALUE",type:"expression",label:"Message",value_type:"string",required:!0}],branches:[]},{opcode:"control_spawn",display_name:"Spawn",ast_class:"Spawn",category:"control",description:"Spawn a background task.",inputs:[{name:"VAR",type:"variable_name",label:"Task Variable",required:!1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_async_foreach",display_name:"Async ForEach",ast_class:"AsyncForEach",category:"control",description:"Async iteration over a stream or async iterable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Async Iterable",value_type:"async_iterable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"async_timeout",display_name:"Timeout",ast_class:"Timeout",category:"async",description:"Execute body with a timeout, with optional fallback.",inputs:[{name:"TIMEOUT",type:"expression",label:"Timeout (seconds)",value_type:"float",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0},{name:"ON_TIMEOUT",label:"On Timeout",color:"#FACC15",required:!1}]},{opcode:"control_with",display_name:"With",ast_class:"With",category:"control",description:"Async context manager (with statement).",inputs:[{name:"RESOURCE",type:"expression",label:"Resource",required:!0},{name:"VAR",type:"variable_name",label:"Variable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"data_set_variable_to",display_name:"Set Variable",ast_class:"Assign",category:"data",description:"Assign a value to a variable.",inputs:[{name:"VARIABLE",type:"variable_name",label:"Variable",required:!0},{name:"VALUE",type:"expression",label:"Value",required:!0}],branches:[]},{opcode:"workflow_return",display_name:"Return",ast_class:"Return",category:"workflow",description:"Return value(s) from workflow.",inputs:[{name:"VALUE",type:"expression",label:"Value",required:!1}],branches:[],dynamic_inputs:!0},{opcode:"workflow_call",display_name:"Call Workflow",ast_class:"ExprStmt",category:"workflow",description:"Call another workflow by name.",inputs:[{name:"WORKFLOW",type:"variable_name",label:"Workflow Name",required:!0}],branches:[],dynamic_inputs:!0},{opcode:"workflow_start",display_name:"Start",ast_class:null,category:"workflow",description:"Entry point for workflow execution.",inputs:[],branches:[]},{opcode:"ai_agent_with_tools",display_name:"AI Agent with Tools",ast_class:"Opcode",category:"ai",description:"Run an AI agent with access to LexFlow opcodes as tools",inputs:[{name:"agent",type:"expression",label:"Agent",value_type:"object",required:!0},{name:"messages",type:"expression",label:"Messages",value_type:"string|list",required:!0},{name:"tools",type:"expression",label:"Tools (opcode names)",value_type:"list",required:!0},{name:"output",type:"expression",label:"Output Schema",value_type:"object",required:!1},{name:"max_tool_calls",type:"expression",label:"Max Tool Calls",value_type:"int",required:!1,default:10},{name:"timeout_seconds",type:"expression",label:"Timeout (seconds)",value_type:"float",required:!1,default:300}],branches:[]}],Qw={THEN:"#34D399",ELSE:"#F87171",BODY:"#22D3EE",TRY:"#3B82F6",CATCH:"#F87171",FINALLY:"#FACC15",ON_TIMEOUT:"#FACC15",BRANCH:"#9C27B0",default:"#9C27B0"},Kw={control_flow:"#FF9500",data:"#4CAF50",io:"#22D3EE",operator:"#9C27B0",workflow_op:"#E91E63",opcode:"#64748B"},Fw={data:"#4CAF50",operator:"#9C27B0",io:"#22D3EE",workflow:"#E91E63",default:"#64748B"},Jw={version:Xw,categories:Ww,constructs:Zw,branch_colors:Qw,node_colors:Kw,reporter_colors:Fw},al=Jw;function Pw(){return al}function ly(n){return qw(al,n)}function ay(n){return $w(al,n)}function ry(n){return Gw(al,n)}function e2(){return Yw(al)}function _i(n){return Uw(al,n)}function t2(n,r){const i=_i(n);if(!i||!i.branches)return[];const o=new Set(r),c=[];if(i.dynamic_branches){const d=[],h=[];for(const m of i.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.find(b=>b.prefix===p)||h.push({prefix:p,minCount:m.required?1:0})}else d.push(m.name)}for(const m of d)c.push({name:m,connected:o.has(m)});for(const m of h){const g=r.filter(N=>N.startsWith(m.prefix)&&/^\d+$/.test(N.slice(m.prefix.length))),p=g.length>0?Math.max(...g.map(N=>parseInt(N.slice(m.prefix.length)))):0,y=Math.max(m.minCount,p),b=y>0?y:1;for(let N=1;N<=b;N++){const C=`${m.prefix}${N}`;c.push({name:C,connected:o.has(C)})}}return c}for(const d of i.branches)c.push({name:d.name,connected:o.has(d.name)});return c}function iy(){return al.categories}function oy(n){for(const r of al.categories)if(n.startsWith(r.prefix))return r.icon;return""}function sy(n){for(const r of al.categories)if(n.startsWith(r.prefix))return r;return null}const cy={WIDTH:110,HEIGHT:70},Rf={HORIZONTAL:60,VERTICAL:40,WORKFLOW:80},n2={control_flow:"Control Flow",data:"Data",io:"I/O",operator:"Operator",workflow_op:"Workflow",opcode:"Opcode"};function uy(n){return typeof n=="string"?{name:n,type:"string",required:!1}:{name:n.name,type:n.type||"string",required:n.required??!1}}const l2=O("mb-4 p-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-secondary"),a2=["string","number","boolean","list","dict","any"];function r2({isOpen:n,existingWorkflowNames:r,nodeIds:i,suggestedInputs:o,suggestedOutputs:c,onConfirm:d,onCancel:h}){const m=k.useRef(null),[g,p]=k.useState(""),[y,b]=k.useState(null),[N,C]=k.useState([]),[v,w]=k.useState(""),[E,T]=k.useState("string"),[_,W]=k.useState(!1),[B,z]=k.useState([]),[I,Y]=k.useState(""),[U,K]=k.useState([]);k.useEffect(()=>{n&&(p(""),b(null),C(o.map(uy)),w(""),T("string"),W(!1),z(c),Y(""),K([]),setTimeout(()=>{m.current?.focus()},50))},[n,o,c]),k.useEffect(()=>{if(!n)return;const j=V=>{V.key==="Escape"&&h()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[n,h]);const J=j=>j.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(j)?r.includes(j)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",fe=j=>{p(j),y&&b(J(j))},le=()=>{b(J(g))},ie=()=>{const j=v.trim();j&&!N.some(V=>V.name===j)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(j)&&(C([...N,{name:j,type:E,required:_}]),w(""),T("string"),W(!1))},ce=j=>{C(N.filter(V=>V.name!==j))},oe=()=>{const j=I.trim();j&&!B.includes(j)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(j)&&(z([...B,j]),Y(""))},L=j=>{z(B.filter(V=>V!==j))},G=()=>{K([...U,{name:"",value:""}])},A=(j,V,Z)=>{const ne=[...U];ne[j][V]=Z,K(ne)},ee=j=>{K(U.filter((V,Z)=>Z!==j))},re=()=>{const j=J(g);if(j){b(j);return}const V={};for(const Z of U)if(Z.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Z.name.trim())){let ne=Z.value;try{ne=JSON.parse(Z.value)}catch{}V[Z.name.trim()]=ne}d({name:g.trim(),inputs:N,outputs:B,variables:V})};return n?Tf.createPortal(u.jsx("div",{className:D(Mf()),onClick:h,role:"dialog","aria-modal":"true","aria-labelledby":"extract-workflow-dialog-title",children:u.jsxs("div",{className:D(Qx()),onClick:j=>j.stopPropagation(),children:[u.jsx("div",{className:D(Kx()),children:u.jsx("h2",{id:"extract-workflow-dialog-title",className:D(Fx()),children:"Extract to Workflow"})}),u.jsxs("div",{className:D(Jx()),children:[u.jsxs("div",{className:D(l2()),children:[u.jsxs("strong",{children:[i.length," nodes"]})," will be extracted into a new workflow. The selected nodes will be replaced with a workflow_call node."]}),u.jsxs("div",{className:D(Ml()),children:[u.jsxs("label",{className:D(Dl()),children:["Workflow Name ",u.jsx("span",{className:"text-accent-red",children:"*"})]}),u.jsx("input",{ref:m,type:"text",className:D(kl()),placeholder:"my_workflow",value:g,onChange:j=>fe(j.target.value),onBlur:le,onKeyDown:j=>{j.key==="Enter"&&re()}}),y&&u.jsx("p",{className:D(ey()),children:y})]}),u.jsxs("div",{className:D(Ml()),children:[u.jsxs("label",{className:D(Dl()),children:["Interface Inputs",o.length>0&&u.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),N.length>0&&u.jsx("div",{className:D(is()),children:N.map(j=>u.jsxs("span",{className:D(os()),children:[j.name,u.jsx("span",{className:"text-[10px] opacity-70 ml-0.5",children:j.type}),j.required&&u.jsx("span",{className:"text-accent-red text-[10px]",children:"*"}),u.jsx("button",{className:D(ss()),onClick:()=>ce(j.name),"aria-label":`Remove ${j.name}`,children:"x"})]},j.name))}),u.jsxs("div",{className:D(cs()),children:[u.jsx("input",{type:"text",className:D(kl()),placeholder:"input_name",value:v,onChange:j=>w(j.target.value),onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),ie())}}),u.jsx("select",{className:D(kl(),"w-24"),value:E,onChange:j=>T(j.target.value),children:a2.map(j=>u.jsx("option",{value:j,children:j},j))}),u.jsxs("label",{className:"flex items-center gap-1 text-xs text-text-secondary whitespace-nowrap",children:[u.jsx("input",{type:"checkbox",checked:_,onChange:j=>W(j.target.checked)}),"Req"]}),u.jsx("button",{type:"button",className:D(ar()),onClick:ie,children:"Add"})]})]}),u.jsxs("div",{className:D(Ml()),children:[u.jsxs("label",{className:D(Dl()),children:["Interface Outputs",c.length>0&&u.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),B.length>0&&u.jsx("div",{className:D(is()),children:B.map(j=>u.jsxs("span",{className:D(os()),children:[j,u.jsx("button",{className:D(ss()),onClick:()=>L(j),"aria-label":`Remove ${j}`,children:"x"})]},j))}),u.jsxs("div",{className:D(cs()),children:[u.jsx("input",{type:"text",className:D(kl()),placeholder:"output_name",value:I,onChange:j=>Y(j.target.value),onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),oe())}}),u.jsx("button",{type:"button",className:D(ar()),onClick:oe,children:"Add"})]})]}),u.jsxs("div",{className:D(Ml()),children:[u.jsx("label",{className:D(Dl()),children:"Variables"}),U.map((j,V)=>u.jsxs("div",{className:D(ty()),children:[u.jsx("input",{type:"text",className:D(us()),placeholder:"name",value:j.name,onChange:Z=>A(V,"name",Z.target.value)}),u.jsx("span",{className:"text-text-muted",children:"="}),u.jsx("input",{type:"text",className:D(us()),placeholder:"value",value:j.value,onChange:Z=>A(V,"value",Z.target.value)}),u.jsx("button",{type:"button",className:D(ny()),onClick:()=>ee(V),"aria-label":"Remove variable",children:"x"})]},V)),u.jsx("button",{type:"button",className:D(ar()),onClick:G,children:"+ Add Variable"})]})]}),u.jsxs("div",{className:D(Px()),children:[u.jsx("button",{className:D(rr(),Df()),onClick:h,children:"Cancel"}),u.jsx("button",{className:D(rr(),kf()),onClick:re,children:"Extract"})]})]})}),document.body):null}function wt(n,r,i=18){const o=({size:c=i,className:d,...h})=>u.jsx("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:d,...h,children:n});return o.displayName=r,o}const i2=wt(u.jsxs(u.Fragment,{children:[u.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),u.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"FileIcon"),o2=wt(u.jsxs(u.Fragment,{children:[u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),u.jsx("polyline",{points:"17 8 12 3 7 8"}),u.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"UploadIcon"),s2=wt(u.jsxs(u.Fragment,{children:[u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),u.jsx("polyline",{points:"7 10 12 15 17 10"}),u.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"DownloadIcon"),c2=wt(u.jsxs(u.Fragment,{children:[u.jsx("path",{d:"M3 7v6h6"}),u.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),"UndoIcon"),u2=wt(u.jsxs(u.Fragment,{children:[u.jsx("path",{d:"M21 7v6h-6"}),u.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"})]}),"RedoIcon"),f2=wt(u.jsx("path",{d:"M12 5v14M5 12h14"}),"PlusIcon",20),d2=wt(u.jsx("path",{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"}),"CodeIcon",20),h2=wt(u.jsxs(u.Fragment,{children:[u.jsx("circle",{cx:"12",cy:"12",r:"5"}),u.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),u.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),u.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),u.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),u.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),u.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),u.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),u.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),"SunIcon"),m2=wt(u.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}),"MoonIcon"),p2=wt(u.jsxs(u.Fragment,{children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),u.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),u.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomInIcon",16),g2=wt(u.jsxs(u.Fragment,{children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),u.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomOutIcon",16),x2=wt(u.jsxs(u.Fragment,{children:[u.jsx("polyline",{points:"15 3 21 3 21 9"}),u.jsx("polyline",{points:"9 21 3 21 3 15"}),u.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),u.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"FitViewIcon",16),y2=wt(u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),u.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"GridIcon",14),b2=wt(u.jsx("polygon",{points:"5 3 19 12 5 21 5 3"}),"PlayIcon",14),v2=wt(u.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),"StopIcon",14),w2=wt(u.jsxs(u.Fragment,{children:[u.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),u.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]}),"StepForwardIcon",14),S2=wt(u.jsxs(u.Fragment,{children:[u.jsx("polyline",{points:"3 6 5 6 21 6"}),u.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"TrashIcon",14),N2=wt(u.jsxs(u.Fragment,{children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"CloseIcon",14),j2=wt(u.jsxs(u.Fragment,{children:[u.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),u.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),u.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"SaveIcon"),fy=k.createContext(null),gg="lexflow-theme";function E2({children:n}){const[r,i]=k.useState(()=>{if(typeof window>"u")return"dark";const d=localStorage.getItem(gg);return d==="light"||d==="dark"?d:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});k.useEffect(()=>{document.documentElement.classList.toggle("light",r==="light"),localStorage.setItem(gg,r)},[r]);const o=d=>i(d),c=()=>i(d=>d==="dark"?"light":"dark");return k.createElement(fy.Provider,{value:{theme:r,setTheme:o,toggleTheme:c}},n)}function dy(){const n=k.useContext(fy);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}function C2({className:n}){const{theme:r,toggleTheme:i}=dy();return u.jsx(Tn,{className:n,icon:r==="dark"?u.jsx(h2,{}):u.jsx(m2,{}),label:r==="dark"?"Switch to light mode":"Switch to dark mode",onClick:i})}function hy(n){return typeof n.listExamples=="function"&&typeof n.getExample=="function"}const my=k.createContext(null);function A2({provider:n,children:r}){return u.jsx(my.Provider,{value:n,children:r})}function ws(){const n=k.useContext(my);if(!n)throw new Error("useBackendProvider must be used within a BackendProviderWrapper");return n}function py(n){return typeof n>"u"||n===null}function _2(n){return typeof n=="object"&&n!==null}function O2(n){return Array.isArray(n)?n:py(n)?[]:[n]}function T2(n,r){var i,o,c,d;if(r)for(d=Object.keys(r),i=0,o=d.length;i<o;i+=1)c=d[i],n[c]=r[c];return n}function M2(n,r){var i="",o;for(o=0;o<r;o+=1)i+=n;return i}function D2(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var k2=py,R2=_2,z2=O2,L2=M2,V2=D2,B2=T2,vt={isNothing:k2,isObject:R2,toArray:z2,repeat:L2,isNegativeZero:V2,extend:B2};function gy(n,r){var i="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(i+='in "'+n.mark.name+'" '),i+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(i+=`

`+n.mark.snippet),o+" "+i):o}function xi(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=gy(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}xi.prototype=Object.create(Error.prototype);xi.prototype.constructor=xi;xi.prototype.toString=function(r){return this.name+": "+gy(this,r)};var Vt=xi;function $u(n,r,i,o,c){var d="",h="",m=Math.floor(c/2)-1;return o-r>m&&(d=" ... ",r=o-m+d.length),i-o>m&&(h=" ...",i=o+m-h.length),{str:d+n.slice(r,i).replace(/\t/g,"")+h,pos:o-r+d.length}}function Gu(n,r){return vt.repeat(" ",r-n.length)+n}function I2(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,o=[0],c=[],d,h=-1;d=i.exec(n.buffer);)c.push(d.index),o.push(d.index+d[0].length),n.position<=d.index&&h<0&&(h=o.length-2);h<0&&(h=o.length-1);var m="",g,p,y=Math.min(n.line+r.linesAfter,c.length).toString().length,b=r.maxLength-(r.indent+y+3);for(g=1;g<=r.linesBefore&&!(h-g<0);g++)p=$u(n.buffer,o[h-g],c[h-g],n.position-(o[h]-o[h-g]),b),m=vt.repeat(" ",r.indent)+Gu((n.line-g+1).toString(),y)+" | "+p.str+`
`+m;for(p=$u(n.buffer,o[h],c[h],n.position,b),m+=vt.repeat(" ",r.indent)+Gu((n.line+1).toString(),y)+" | "+p.str+`
`,m+=vt.repeat("-",r.indent+y+3+p.pos)+`^
`,g=1;g<=r.linesAfter&&!(h+g>=c.length);g++)p=$u(n.buffer,o[h+g],c[h+g],n.position-(o[h]-o[h+g]),b),m+=vt.repeat(" ",r.indent)+Gu((n.line+g+1).toString(),y)+" | "+p.str+`
`;return m.replace(/\n$/,"")}var H2=I2,U2=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Y2=["scalar","sequence","mapping"];function q2(n){var r={};return n!==null&&Object.keys(n).forEach(function(i){n[i].forEach(function(o){r[String(o)]=i})}),r}function $2(n,r){if(r=r||{},Object.keys(r).forEach(function(i){if(U2.indexOf(i)===-1)throw new Vt('Unknown option "'+i+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=q2(r.styleAliases||null),Y2.indexOf(this.kind)===-1)throw new Vt('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var Dt=$2;function xg(n,r){var i=[];return n[r].forEach(function(o){var c=i.length;i.forEach(function(d,h){d.tag===o.tag&&d.kind===o.kind&&d.multi===o.multi&&(c=h)}),i[c]=o}),i}function G2(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function o(c){c.multi?(n.multi[c.kind].push(c),n.multi.fallback.push(c)):n[c.kind][c.tag]=n.fallback[c.tag]=c}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(o);return n}function df(n){return this.extend(n)}df.prototype.extend=function(r){var i=[],o=[];if(r instanceof Dt)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new Vt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(d){if(!(d instanceof Dt))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(d.loadKind&&d.loadKind!=="scalar")throw new Vt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(d.multi)throw new Vt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(d){if(!(d instanceof Dt))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(df.prototype);return c.implicit=(this.implicit||[]).concat(i),c.explicit=(this.explicit||[]).concat(o),c.compiledImplicit=xg(c,"implicit"),c.compiledExplicit=xg(c,"explicit"),c.compiledTypeMap=G2(c.compiledImplicit,c.compiledExplicit),c};var xy=df,yy=new Dt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),by=new Dt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),vy=new Dt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),wy=new xy({explicit:[yy,by,vy]});function X2(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function W2(){return null}function Z2(n){return n===null}var Sy=new Dt("tag:yaml.org,2002:null",{kind:"scalar",resolve:X2,construct:W2,predicate:Z2,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Q2(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function K2(n){return n==="true"||n==="True"||n==="TRUE"}function F2(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var Ny=new Dt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Q2,construct:K2,predicate:F2,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function J2(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function P2(n){return 48<=n&&n<=55}function eS(n){return 48<=n&&n<=57}function tS(n){if(n===null)return!1;var r=n.length,i=0,o=!1,c;if(!r)return!1;if(c=n[i],(c==="-"||c==="+")&&(c=n[++i]),c==="0"){if(i+1===r)return!0;if(c=n[++i],c==="b"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(c!=="0"&&c!=="1")return!1;o=!0}return o&&c!=="_"}if(c==="x"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!J2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}if(c==="o"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!P2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}}if(c==="_")return!1;for(;i<r;i++)if(c=n[i],c!=="_"){if(!eS(n.charCodeAt(i)))return!1;o=!0}return!(!o||c==="_")}function nS(n){var r=n,i=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(i=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function lS(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!vt.isNegativeZero(n)}var jy=new Dt("tag:yaml.org,2002:int",{kind:"scalar",resolve:tS,construct:nS,predicate:lS,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),aS=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function rS(n){return!(n===null||!aS.test(n)||n[n.length-1]==="_")}function iS(n){var r,i;return r=n.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var oS=/^[-+]?[0-9]+e/;function sS(n,r){var i;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(vt.isNegativeZero(n))return"-0.0";return i=n.toString(10),oS.test(i)?i.replace("e",".e"):i}function cS(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||vt.isNegativeZero(n))}var Ey=new Dt("tag:yaml.org,2002:float",{kind:"scalar",resolve:rS,construct:iS,predicate:cS,represent:sS,defaultStyle:"lowercase"}),Cy=wy.extend({implicit:[Sy,Ny,jy,Ey]}),Ay=Cy,_y=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Oy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function uS(n){return n===null?!1:_y.exec(n)!==null||Oy.exec(n)!==null}function fS(n){var r,i,o,c,d,h,m,g=0,p=null,y,b,N;if(r=_y.exec(n),r===null&&(r=Oy.exec(n)),r===null)throw new Error("Date resolve error");if(i=+r[1],o=+r[2]-1,c=+r[3],!r[4])return new Date(Date.UTC(i,o,c));if(d=+r[4],h=+r[5],m=+r[6],r[7]){for(g=r[7].slice(0,3);g.length<3;)g+="0";g=+g}return r[9]&&(y=+r[10],b=+(r[11]||0),p=(y*60+b)*6e4,r[9]==="-"&&(p=-p)),N=new Date(Date.UTC(i,o,c,d,h,m,g)),p&&N.setTime(N.getTime()-p),N}function dS(n){return n.toISOString()}var Ty=new Dt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:uS,construct:fS,instanceOf:Date,represent:dS});function hS(n){return n==="<<"||n===null}var My=new Dt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:hS}),zf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function mS(n){if(n===null)return!1;var r,i,o=0,c=n.length,d=zf;for(i=0;i<c;i++)if(r=d.indexOf(n.charAt(i)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function pS(n){var r,i,o=n.replace(/[\r\n=]/g,""),c=o.length,d=zf,h=0,m=[];for(r=0;r<c;r++)r%4===0&&r&&(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)),h=h<<6|d.indexOf(o.charAt(r));return i=c%4*6,i===0?(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)):i===18?(m.push(h>>10&255),m.push(h>>2&255)):i===12&&m.push(h>>4&255),new Uint8Array(m)}function gS(n){var r="",i=0,o,c,d=n.length,h=zf;for(o=0;o<d;o++)o%3===0&&o&&(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]),i=(i<<8)+n[o];return c=d%3,c===0?(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]):c===2?(r+=h[i>>10&63],r+=h[i>>4&63],r+=h[i<<2&63],r+=h[64]):c===1&&(r+=h[i>>2&63],r+=h[i<<4&63],r+=h[64],r+=h[64]),r}function xS(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var Dy=new Dt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:mS,construct:pS,predicate:xS,represent:gS}),yS=Object.prototype.hasOwnProperty,bS=Object.prototype.toString;function vS(n){if(n===null)return!0;var r=[],i,o,c,d,h,m=n;for(i=0,o=m.length;i<o;i+=1){if(c=m[i],h=!1,bS.call(c)!=="[object Object]")return!1;for(d in c)if(yS.call(c,d))if(!h)h=!0;else return!1;if(!h)return!1;if(r.indexOf(d)===-1)r.push(d);else return!1}return!0}function wS(n){return n!==null?n:[]}var ky=new Dt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:vS,construct:wS}),SS=Object.prototype.toString;function NS(n){if(n===null)return!0;var r,i,o,c,d,h=n;for(d=new Array(h.length),r=0,i=h.length;r<i;r+=1){if(o=h[r],SS.call(o)!=="[object Object]"||(c=Object.keys(o),c.length!==1))return!1;d[r]=[c[0],o[c[0]]]}return!0}function jS(n){if(n===null)return[];var r,i,o,c,d,h=n;for(d=new Array(h.length),r=0,i=h.length;r<i;r+=1)o=h[r],c=Object.keys(o),d[r]=[c[0],o[c[0]]];return d}var Ry=new Dt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:NS,construct:jS}),ES=Object.prototype.hasOwnProperty;function CS(n){if(n===null)return!0;var r,i=n;for(r in i)if(ES.call(i,r)&&i[r]!==null)return!1;return!0}function AS(n){return n!==null?n:{}}var zy=new Dt("tag:yaml.org,2002:set",{kind:"mapping",resolve:CS,construct:AS}),Lf=Ay.extend({implicit:[Ty,My],explicit:[Dy,ky,Ry,zy]}),Bl=Object.prototype.hasOwnProperty,fs=1,Ly=2,Vy=3,ds=4,Xu=1,_S=2,yg=3,OS=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,TS=/[\x85\u2028\u2029]/,MS=/[,\[\]\{\}]/,By=/^(?:!|!!|![a-z\-]+!)$/i,Iy=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function bg(n){return Object.prototype.toString.call(n)}function Rn(n){return n===10||n===13}function ca(n){return n===9||n===32}function Xt(n){return n===9||n===32||n===10||n===13}function tr(n){return n===44||n===91||n===93||n===123||n===125}function DS(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function kS(n){return n===120?2:n===117?4:n===85?8:0}function RS(n){return 48<=n&&n<=57?n-48:-1}function vg(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function zS(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function Hy(n,r,i){r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:i}):n[r]=i}var Uy=new Array(256),Yy=new Array(256);for(var Pa=0;Pa<256;Pa++)Uy[Pa]=vg(Pa)?1:0,Yy[Pa]=vg(Pa);function LS(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||Lf,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function qy(n,r){var i={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return i.snippet=H2(i),new Vt(r,i)}function be(n,r){throw qy(n,r)}function hs(n,r){n.onWarning&&n.onWarning.call(null,qy(n,r))}var wg={YAML:function(r,i,o){var c,d,h;r.version!==null&&be(r,"duplication of %YAML directive"),o.length!==1&&be(r,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),c===null&&be(r,"ill-formed argument of the YAML directive"),d=parseInt(c[1],10),h=parseInt(c[2],10),d!==1&&be(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=h<2,h!==1&&h!==2&&hs(r,"unsupported YAML version of the document")},TAG:function(r,i,o){var c,d;o.length!==2&&be(r,"TAG directive accepts exactly two arguments"),c=o[0],d=o[1],By.test(c)||be(r,"ill-formed tag handle (first argument) of the TAG directive"),Bl.call(r.tagMap,c)&&be(r,'there is a previously declared suffix for "'+c+'" tag handle'),Iy.test(d)||be(r,"ill-formed tag prefix (second argument) of the TAG directive");try{d=decodeURIComponent(d)}catch{be(r,"tag prefix is malformed: "+d)}r.tagMap[c]=d}};function zl(n,r,i,o){var c,d,h,m;if(r<i){if(m=n.input.slice(r,i),o)for(c=0,d=m.length;c<d;c+=1)h=m.charCodeAt(c),h===9||32<=h&&h<=1114111||be(n,"expected valid JSON character");else OS.test(m)&&be(n,"the stream contains non-printable characters");n.result+=m}}function Sg(n,r,i,o){var c,d,h,m;for(vt.isObject(i)||be(n,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(i),h=0,m=c.length;h<m;h+=1)d=c[h],Bl.call(r,d)||(Hy(r,d,i[d]),o[d]=!0)}function nr(n,r,i,o,c,d,h,m,g){var p,y;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),p=0,y=c.length;p<y;p+=1)Array.isArray(c[p])&&be(n,"nested arrays are not supported inside keys"),typeof c=="object"&&bg(c[p])==="[object Object]"&&(c[p]="[object Object]");if(typeof c=="object"&&bg(c)==="[object Object]"&&(c="[object Object]"),c=String(c),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(d))for(p=0,y=d.length;p<y;p+=1)Sg(n,r,d[p],i);else Sg(n,r,d,i);else!n.json&&!Bl.call(i,c)&&Bl.call(r,c)&&(n.line=h||n.line,n.lineStart=m||n.lineStart,n.position=g||n.position,be(n,"duplicated mapping key")),Hy(r,c,d),delete i[c];return r}function Vf(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):be(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function pt(n,r,i){for(var o=0,c=n.input.charCodeAt(n.position);c!==0;){for(;ca(c);)c===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),c=n.input.charCodeAt(++n.position);if(r&&c===35)do c=n.input.charCodeAt(++n.position);while(c!==10&&c!==13&&c!==0);if(Rn(c))for(Vf(n),c=n.input.charCodeAt(n.position),o++,n.lineIndent=0;c===32;)n.lineIndent++,c=n.input.charCodeAt(++n.position);else break}return i!==-1&&o!==0&&n.lineIndent<i&&hs(n,"deficient indentation"),o}function Ss(n){var r=n.position,i;return i=n.input.charCodeAt(r),!!((i===45||i===46)&&i===n.input.charCodeAt(r+1)&&i===n.input.charCodeAt(r+2)&&(r+=3,i=n.input.charCodeAt(r),i===0||Xt(i)))}function Bf(n,r){r===1?n.result+=" ":r>1&&(n.result+=vt.repeat(`
`,r-1))}function VS(n,r,i){var o,c,d,h,m,g,p,y,b=n.kind,N=n.result,C;if(C=n.input.charCodeAt(n.position),Xt(C)||tr(C)||C===35||C===38||C===42||C===33||C===124||C===62||C===39||C===34||C===37||C===64||C===96||(C===63||C===45)&&(c=n.input.charCodeAt(n.position+1),Xt(c)||i&&tr(c)))return!1;for(n.kind="scalar",n.result="",d=h=n.position,m=!1;C!==0;){if(C===58){if(c=n.input.charCodeAt(n.position+1),Xt(c)||i&&tr(c))break}else if(C===35){if(o=n.input.charCodeAt(n.position-1),Xt(o))break}else{if(n.position===n.lineStart&&Ss(n)||i&&tr(C))break;if(Rn(C))if(g=n.line,p=n.lineStart,y=n.lineIndent,pt(n,!1,-1),n.lineIndent>=r){m=!0,C=n.input.charCodeAt(n.position);continue}else{n.position=h,n.line=g,n.lineStart=p,n.lineIndent=y;break}}m&&(zl(n,d,h,!1),Bf(n,n.line-g),d=h=n.position,m=!1),ca(C)||(h=n.position+1),C=n.input.charCodeAt(++n.position)}return zl(n,d,h,!1),n.result?!0:(n.kind=b,n.result=N,!1)}function BS(n,r){var i,o,c;if(i=n.input.charCodeAt(n.position),i!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=c=n.position;(i=n.input.charCodeAt(n.position))!==0;)if(i===39)if(zl(n,o,n.position,!0),i=n.input.charCodeAt(++n.position),i===39)o=n.position,n.position++,c=n.position;else return!0;else Rn(i)?(zl(n,o,c,!0),Bf(n,pt(n,!1,r)),o=c=n.position):n.position===n.lineStart&&Ss(n)?be(n,"unexpected end of the document within a single quoted scalar"):(n.position++,c=n.position);be(n,"unexpected end of the stream within a single quoted scalar")}function IS(n,r){var i,o,c,d,h,m;if(m=n.input.charCodeAt(n.position),m!==34)return!1;for(n.kind="scalar",n.result="",n.position++,i=o=n.position;(m=n.input.charCodeAt(n.position))!==0;){if(m===34)return zl(n,i,n.position,!0),n.position++,!0;if(m===92){if(zl(n,i,n.position,!0),m=n.input.charCodeAt(++n.position),Rn(m))pt(n,!1,r);else if(m<256&&Uy[m])n.result+=Yy[m],n.position++;else if((h=kS(m))>0){for(c=h,d=0;c>0;c--)m=n.input.charCodeAt(++n.position),(h=DS(m))>=0?d=(d<<4)+h:be(n,"expected hexadecimal character");n.result+=zS(d),n.position++}else be(n,"unknown escape sequence");i=o=n.position}else Rn(m)?(zl(n,i,o,!0),Bf(n,pt(n,!1,r)),i=o=n.position):n.position===n.lineStart&&Ss(n)?be(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}be(n,"unexpected end of the stream within a double quoted scalar")}function HS(n,r){var i=!0,o,c,d,h=n.tag,m,g=n.anchor,p,y,b,N,C,v=Object.create(null),w,E,T,_;if(_=n.input.charCodeAt(n.position),_===91)y=93,C=!1,m=[];else if(_===123)y=125,C=!0,m={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=m),_=n.input.charCodeAt(++n.position);_!==0;){if(pt(n,!0,r),_=n.input.charCodeAt(n.position),_===y)return n.position++,n.tag=h,n.anchor=g,n.kind=C?"mapping":"sequence",n.result=m,!0;i?_===44&&be(n,"expected the node content, but found ','"):be(n,"missed comma between flow collection entries"),E=w=T=null,b=N=!1,_===63&&(p=n.input.charCodeAt(n.position+1),Xt(p)&&(b=N=!0,n.position++,pt(n,!0,r))),o=n.line,c=n.lineStart,d=n.position,ir(n,r,fs,!1,!0),E=n.tag,w=n.result,pt(n,!0,r),_=n.input.charCodeAt(n.position),(N||n.line===o)&&_===58&&(b=!0,_=n.input.charCodeAt(++n.position),pt(n,!0,r),ir(n,r,fs,!1,!0),T=n.result),C?nr(n,m,v,E,w,T,o,c,d):b?m.push(nr(n,null,v,E,w,T,o,c,d)):m.push(w),pt(n,!0,r),_=n.input.charCodeAt(n.position),_===44?(i=!0,_=n.input.charCodeAt(++n.position)):i=!1}be(n,"unexpected end of the stream within a flow collection")}function US(n,r){var i,o,c=Xu,d=!1,h=!1,m=r,g=0,p=!1,y,b;if(b=n.input.charCodeAt(n.position),b===124)o=!1;else if(b===62)o=!0;else return!1;for(n.kind="scalar",n.result="";b!==0;)if(b=n.input.charCodeAt(++n.position),b===43||b===45)Xu===c?c=b===43?yg:_S:be(n,"repeat of a chomping mode identifier");else if((y=RS(b))>=0)y===0?be(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?be(n,"repeat of an indentation width identifier"):(m=r+y-1,h=!0);else break;if(ca(b)){do b=n.input.charCodeAt(++n.position);while(ca(b));if(b===35)do b=n.input.charCodeAt(++n.position);while(!Rn(b)&&b!==0)}for(;b!==0;){for(Vf(n),n.lineIndent=0,b=n.input.charCodeAt(n.position);(!h||n.lineIndent<m)&&b===32;)n.lineIndent++,b=n.input.charCodeAt(++n.position);if(!h&&n.lineIndent>m&&(m=n.lineIndent),Rn(b)){g++;continue}if(n.lineIndent<m){c===yg?n.result+=vt.repeat(`
`,d?1+g:g):c===Xu&&d&&(n.result+=`
`);break}for(o?ca(b)?(p=!0,n.result+=vt.repeat(`
`,d?1+g:g)):p?(p=!1,n.result+=vt.repeat(`
`,g+1)):g===0?d&&(n.result+=" "):n.result+=vt.repeat(`
`,g):n.result+=vt.repeat(`
`,d?1+g:g),d=!0,h=!0,g=0,i=n.position;!Rn(b)&&b!==0;)b=n.input.charCodeAt(++n.position);zl(n,i,n.position,!1)}return!0}function Ng(n,r){var i,o=n.tag,c=n.anchor,d=[],h,m=!1,g;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=d),g=n.input.charCodeAt(n.position);g!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,be(n,"tab characters must not be used in indentation")),!(g!==45||(h=n.input.charCodeAt(n.position+1),!Xt(h))));){if(m=!0,n.position++,pt(n,!0,-1)&&n.lineIndent<=r){d.push(null),g=n.input.charCodeAt(n.position);continue}if(i=n.line,ir(n,r,Vy,!1,!0),d.push(n.result),pt(n,!0,-1),g=n.input.charCodeAt(n.position),(n.line===i||n.lineIndent>r)&&g!==0)be(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return m?(n.tag=o,n.anchor=c,n.kind="sequence",n.result=d,!0):!1}function YS(n,r,i){var o,c,d,h,m,g,p=n.tag,y=n.anchor,b={},N=Object.create(null),C=null,v=null,w=null,E=!1,T=!1,_;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=b),_=n.input.charCodeAt(n.position);_!==0;){if(!E&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,be(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),d=n.line,(_===63||_===58)&&Xt(o))_===63?(E&&(nr(n,b,N,C,v,null,h,m,g),C=v=w=null),T=!0,E=!0,c=!0):E?(E=!1,c=!0):be(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,_=o;else{if(h=n.line,m=n.lineStart,g=n.position,!ir(n,i,Ly,!1,!0))break;if(n.line===d){for(_=n.input.charCodeAt(n.position);ca(_);)_=n.input.charCodeAt(++n.position);if(_===58)_=n.input.charCodeAt(++n.position),Xt(_)||be(n,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(nr(n,b,N,C,v,null,h,m,g),C=v=w=null),T=!0,E=!1,c=!1,C=n.tag,v=n.result;else if(T)be(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=p,n.anchor=y,!0}else if(T)be(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=p,n.anchor=y,!0}if((n.line===d||n.lineIndent>r)&&(E&&(h=n.line,m=n.lineStart,g=n.position),ir(n,r,ds,!0,c)&&(E?v=n.result:w=n.result),E||(nr(n,b,N,C,v,w,h,m,g),C=v=w=null),pt(n,!0,-1),_=n.input.charCodeAt(n.position)),(n.line===d||n.lineIndent>r)&&_!==0)be(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return E&&nr(n,b,N,C,v,null,h,m,g),T&&(n.tag=p,n.anchor=y,n.kind="mapping",n.result=b),T}function qS(n){var r,i=!1,o=!1,c,d,h;if(h=n.input.charCodeAt(n.position),h!==33)return!1;if(n.tag!==null&&be(n,"duplication of a tag property"),h=n.input.charCodeAt(++n.position),h===60?(i=!0,h=n.input.charCodeAt(++n.position)):h===33?(o=!0,c="!!",h=n.input.charCodeAt(++n.position)):c="!",r=n.position,i){do h=n.input.charCodeAt(++n.position);while(h!==0&&h!==62);n.position<n.length?(d=n.input.slice(r,n.position),h=n.input.charCodeAt(++n.position)):be(n,"unexpected end of the stream within a verbatim tag")}else{for(;h!==0&&!Xt(h);)h===33&&(o?be(n,"tag suffix cannot contain exclamation marks"):(c=n.input.slice(r-1,n.position+1),By.test(c)||be(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),h=n.input.charCodeAt(++n.position);d=n.input.slice(r,n.position),MS.test(d)&&be(n,"tag suffix cannot contain flow indicator characters")}d&&!Iy.test(d)&&be(n,"tag name cannot contain such characters: "+d);try{d=decodeURIComponent(d)}catch{be(n,"tag name is malformed: "+d)}return i?n.tag=d:Bl.call(n.tagMap,c)?n.tag=n.tagMap[c]+d:c==="!"?n.tag="!"+d:c==="!!"?n.tag="tag:yaml.org,2002:"+d:be(n,'undeclared tag handle "'+c+'"'),!0}function $S(n){var r,i;if(i=n.input.charCodeAt(n.position),i!==38)return!1;for(n.anchor!==null&&be(n,"duplication of an anchor property"),i=n.input.charCodeAt(++n.position),r=n.position;i!==0&&!Xt(i)&&!tr(i);)i=n.input.charCodeAt(++n.position);return n.position===r&&be(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function GS(n){var r,i,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Xt(o)&&!tr(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&be(n,"name of an alias node must contain at least one character"),i=n.input.slice(r,n.position),Bl.call(n.anchorMap,i)||be(n,'unidentified alias "'+i+'"'),n.result=n.anchorMap[i],pt(n,!0,-1),!0}function ir(n,r,i,o,c){var d,h,m,g=1,p=!1,y=!1,b,N,C,v,w,E;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,d=h=m=ds===i||Vy===i,o&&pt(n,!0,-1)&&(p=!0,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)),g===1)for(;qS(n)||$S(n);)pt(n,!0,-1)?(p=!0,m=d,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)):m=!1;if(m&&(m=p||c),(g===1||ds===i)&&(fs===i||Ly===i?w=r:w=r+1,E=n.position-n.lineStart,g===1?m&&(Ng(n,E)||YS(n,E,w))||HS(n,w)?y=!0:(h&&US(n,w)||BS(n,w)||IS(n,w)?y=!0:GS(n)?(y=!0,(n.tag!==null||n.anchor!==null)&&be(n,"alias node should not have any properties")):VS(n,w,fs===i)&&(y=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):g===0&&(y=m&&Ng(n,E))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&be(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),b=0,N=n.implicitTypes.length;b<N;b+=1)if(v=n.implicitTypes[b],v.resolve(n.result)){n.result=v.construct(n.result),n.tag=v.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Bl.call(n.typeMap[n.kind||"fallback"],n.tag))v=n.typeMap[n.kind||"fallback"][n.tag];else for(v=null,C=n.typeMap.multi[n.kind||"fallback"],b=0,N=C.length;b<N;b+=1)if(n.tag.slice(0,C[b].tag.length)===C[b].tag){v=C[b];break}v||be(n,"unknown tag !<"+n.tag+">"),n.result!==null&&v.kind!==n.kind&&be(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+v.kind+'", not "'+n.kind+'"'),v.resolve(n.result,n.tag)?(n.result=v.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):be(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||y}function XS(n){var r=n.position,i,o,c,d=!1,h;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(h=n.input.charCodeAt(n.position))!==0&&(pt(n,!0,-1),h=n.input.charCodeAt(n.position),!(n.lineIndent>0||h!==37));){for(d=!0,h=n.input.charCodeAt(++n.position),i=n.position;h!==0&&!Xt(h);)h=n.input.charCodeAt(++n.position);for(o=n.input.slice(i,n.position),c=[],o.length<1&&be(n,"directive name must not be less than one character in length");h!==0;){for(;ca(h);)h=n.input.charCodeAt(++n.position);if(h===35){do h=n.input.charCodeAt(++n.position);while(h!==0&&!Rn(h));break}if(Rn(h))break;for(i=n.position;h!==0&&!Xt(h);)h=n.input.charCodeAt(++n.position);c.push(n.input.slice(i,n.position))}h!==0&&Vf(n),Bl.call(wg,o)?wg[o](n,o,c):hs(n,'unknown document directive "'+o+'"')}if(pt(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,pt(n,!0,-1)):d&&be(n,"directives end mark is expected"),ir(n,n.lineIndent-1,ds,!1,!0),pt(n,!0,-1),n.checkLineBreaks&&TS.test(n.input.slice(r,n.position))&&hs(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&Ss(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,pt(n,!0,-1));return}if(n.position<n.length-1)be(n,"end of the stream or a document separator is expected");else return}function $y(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var i=new LS(n,r),o=n.indexOf("\0");for(o!==-1&&(i.position=o,be(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)XS(i);return i.documents}function WS(n,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var o=$y(n,i);if(typeof r!="function")return o;for(var c=0,d=o.length;c<d;c+=1)r(o[c])}function ZS(n,r){var i=$y(n,r);if(i.length!==0){if(i.length===1)return i[0];throw new Vt("expected a single document in the stream, but found more")}}var QS=WS,KS=ZS,Gy={loadAll:QS,load:KS},Xy=Object.prototype.toString,Wy=Object.prototype.hasOwnProperty,If=65279,FS=9,yi=10,JS=13,PS=32,eN=33,tN=34,hf=35,nN=37,lN=38,aN=39,rN=42,Zy=44,iN=45,ms=58,oN=61,sN=62,cN=63,uN=64,Qy=91,Ky=93,fN=96,Fy=123,dN=124,Jy=125,zt={};zt[0]="\\0";zt[7]="\\a";zt[8]="\\b";zt[9]="\\t";zt[10]="\\n";zt[11]="\\v";zt[12]="\\f";zt[13]="\\r";zt[27]="\\e";zt[34]='\\"';zt[92]="\\\\";zt[133]="\\N";zt[160]="\\_";zt[8232]="\\L";zt[8233]="\\P";var hN=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],mN=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function pN(n,r){var i,o,c,d,h,m,g;if(r===null)return{};for(i={},o=Object.keys(r),c=0,d=o.length;c<d;c+=1)h=o[c],m=String(r[h]),h.slice(0,2)==="!!"&&(h="tag:yaml.org,2002:"+h.slice(2)),g=n.compiledTypeMap.fallback[h],g&&Wy.call(g.styleAliases,m)&&(m=g.styleAliases[m]),i[h]=m;return i}function gN(n){var r,i,o;if(r=n.toString(16).toUpperCase(),n<=255)i="x",o=2;else if(n<=65535)i="u",o=4;else if(n<=4294967295)i="U",o=8;else throw new Vt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+vt.repeat("0",o-r.length)+r}var xN=1,bi=2;function yN(n){this.schema=n.schema||Lf,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=vt.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=pN(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?bi:xN,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function jg(n,r){for(var i=vt.repeat(" ",r),o=0,c=-1,d="",h,m=n.length;o<m;)c=n.indexOf(`
`,o),c===-1?(h=n.slice(o),o=m):(h=n.slice(o,c+1),o=c+1),h.length&&h!==`
`&&(d+=i),d+=h;return d}function mf(n,r){return`
`+vt.repeat(" ",n.indent*r)}function bN(n,r){var i,o,c;for(i=0,o=n.implicitTypes.length;i<o;i+=1)if(c=n.implicitTypes[i],c.resolve(r))return!0;return!1}function ps(n){return n===PS||n===FS}function vi(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==If||65536<=n&&n<=1114111}function Eg(n){return vi(n)&&n!==If&&n!==JS&&n!==yi}function Cg(n,r,i){var o=Eg(n),c=o&&!ps(n);return(i?o:o&&n!==Zy&&n!==Qy&&n!==Ky&&n!==Fy&&n!==Jy)&&n!==hf&&!(r===ms&&!c)||Eg(r)&&!ps(r)&&n===hf||r===ms&&c}function vN(n){return vi(n)&&n!==If&&!ps(n)&&n!==iN&&n!==cN&&n!==ms&&n!==Zy&&n!==Qy&&n!==Ky&&n!==Fy&&n!==Jy&&n!==hf&&n!==lN&&n!==rN&&n!==eN&&n!==dN&&n!==oN&&n!==sN&&n!==aN&&n!==tN&&n!==nN&&n!==uN&&n!==fN}function wN(n){return!ps(n)&&n!==ms}function ci(n,r){var i=n.charCodeAt(r),o;return i>=55296&&i<=56319&&r+1<n.length&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function Py(n){var r=/^\n* /;return r.test(n)}var eb=1,pf=2,tb=3,nb=4,er=5;function SN(n,r,i,o,c,d,h,m){var g,p=0,y=null,b=!1,N=!1,C=o!==-1,v=-1,w=vN(ci(n,0))&&wN(ci(n,n.length-1));if(r||h)for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ci(n,g),!vi(p))return er;w=w&&Cg(p,y,m),y=p}else{for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ci(n,g),p===yi)b=!0,C&&(N=N||g-v-1>o&&n[v+1]!==" ",v=g);else if(!vi(p))return er;w=w&&Cg(p,y,m),y=p}N=N||C&&g-v-1>o&&n[v+1]!==" "}return!b&&!N?w&&!h&&!c(n)?eb:d===bi?er:pf:i>9&&Py(n)?er:h?d===bi?er:pf:N?nb:tb}function NN(n,r,i,o,c){n.dump=(function(){if(r.length===0)return n.quotingType===bi?'""':"''";if(!n.noCompatMode&&(hN.indexOf(r)!==-1||mN.test(r)))return n.quotingType===bi?'"'+r+'"':"'"+r+"'";var d=n.indent*Math.max(1,i),h=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-d),m=o||n.flowLevel>-1&&i>=n.flowLevel;function g(p){return bN(n,p)}switch(SN(r,m,n.indent,h,g,n.quotingType,n.forceQuotes&&!o,c)){case eb:return r;case pf:return"'"+r.replace(/'/g,"''")+"'";case tb:return"|"+Ag(r,n.indent)+_g(jg(r,d));case nb:return">"+Ag(r,n.indent)+_g(jg(jN(r,h),d));case er:return'"'+EN(r)+'"';default:throw new Vt("impossible error: invalid scalar style")}})()}function Ag(n,r){var i=Py(n)?String(r):"",o=n[n.length-1]===`
`,c=o&&(n[n.length-2]===`
`||n===`
`),d=c?"+":o?"":"-";return i+d+`
`}function _g(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function jN(n,r){for(var i=/(\n+)([^\n]*)/g,o=(function(){var p=n.indexOf(`
`);return p=p!==-1?p:n.length,i.lastIndex=p,Og(n.slice(0,p),r)})(),c=n[0]===`
`||n[0]===" ",d,h;h=i.exec(n);){var m=h[1],g=h[2];d=g[0]===" ",o+=m+(!c&&!d&&g!==""?`
`:"")+Og(g,r),c=d}return o}function Og(n,r){if(n===""||n[0]===" ")return n;for(var i=/ [^ ]/g,o,c=0,d,h=0,m=0,g="";o=i.exec(n);)m=o.index,m-c>r&&(d=h>c?h:m,g+=`
`+n.slice(c,d),c=d+1),h=m;return g+=`
`,n.length-c>r&&h>c?g+=n.slice(c,h)+`
`+n.slice(h+1):g+=n.slice(c),g.slice(1)}function EN(n){for(var r="",i=0,o,c=0;c<n.length;i>=65536?c+=2:c++)i=ci(n,c),o=zt[i],!o&&vi(i)?(r+=n[c],i>=65536&&(r+=n[c+1])):r+=o||gN(i);return r}function CN(n,r,i){var o="",c=n.tag,d,h,m;for(d=0,h=i.length;d<h;d+=1)m=i[d],n.replacer&&(m=n.replacer.call(i,String(d),m)),(nl(n,r,m,!1,!1)||typeof m>"u"&&nl(n,r,null,!1,!1))&&(o!==""&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=c,n.dump="["+o+"]"}function Tg(n,r,i,o){var c="",d=n.tag,h,m,g;for(h=0,m=i.length;h<m;h+=1)g=i[h],n.replacer&&(g=n.replacer.call(i,String(h),g)),(nl(n,r+1,g,!0,!0,!1,!0)||typeof g>"u"&&nl(n,r+1,null,!0,!0,!1,!0))&&((!o||c!=="")&&(c+=mf(n,r)),n.dump&&yi===n.dump.charCodeAt(0)?c+="-":c+="- ",c+=n.dump);n.tag=d,n.dump=c||"[]"}function AN(n,r,i){var o="",c=n.tag,d=Object.keys(i),h,m,g,p,y;for(h=0,m=d.length;h<m;h+=1)y="",o!==""&&(y+=", "),n.condenseFlow&&(y+='"'),g=d[h],p=i[g],n.replacer&&(p=n.replacer.call(i,g,p)),nl(n,r,g,!1,!1)&&(n.dump.length>1024&&(y+="? "),y+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),nl(n,r,p,!1,!1)&&(y+=n.dump,o+=y));n.tag=c,n.dump="{"+o+"}"}function _N(n,r,i,o){var c="",d=n.tag,h=Object.keys(i),m,g,p,y,b,N;if(n.sortKeys===!0)h.sort();else if(typeof n.sortKeys=="function")h.sort(n.sortKeys);else if(n.sortKeys)throw new Vt("sortKeys must be a boolean or a function");for(m=0,g=h.length;m<g;m+=1)N="",(!o||c!=="")&&(N+=mf(n,r)),p=h[m],y=i[p],n.replacer&&(y=n.replacer.call(i,p,y)),nl(n,r+1,p,!0,!0,!0)&&(b=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,b&&(n.dump&&yi===n.dump.charCodeAt(0)?N+="?":N+="? "),N+=n.dump,b&&(N+=mf(n,r)),nl(n,r+1,y,!0,b)&&(n.dump&&yi===n.dump.charCodeAt(0)?N+=":":N+=": ",N+=n.dump,c+=N));n.tag=d,n.dump=c||"{}"}function Mg(n,r,i){var o,c,d,h,m,g;for(c=i?n.explicitTypes:n.implicitTypes,d=0,h=c.length;d<h;d+=1)if(m=c[d],(m.instanceOf||m.predicate)&&(!m.instanceOf||typeof r=="object"&&r instanceof m.instanceOf)&&(!m.predicate||m.predicate(r))){if(i?m.multi&&m.representName?n.tag=m.representName(r):n.tag=m.tag:n.tag="?",m.represent){if(g=n.styleMap[m.tag]||m.defaultStyle,Xy.call(m.represent)==="[object Function]")o=m.represent(r,g);else if(Wy.call(m.represent,g))o=m.represent[g](r,g);else throw new Vt("!<"+m.tag+'> tag resolver accepts not "'+g+'" style');n.dump=o}return!0}return!1}function nl(n,r,i,o,c,d,h){n.tag=null,n.dump=i,Mg(n,i,!1)||Mg(n,i,!0);var m=Xy.call(n.dump),g=o,p;o&&(o=n.flowLevel<0||n.flowLevel>r);var y=m==="[object Object]"||m==="[object Array]",b,N;if(y&&(b=n.duplicates.indexOf(i),N=b!==-1),(n.tag!==null&&n.tag!=="?"||N||n.indent!==2&&r>0)&&(c=!1),N&&n.usedDuplicates[b])n.dump="*ref_"+b;else{if(y&&N&&!n.usedDuplicates[b]&&(n.usedDuplicates[b]=!0),m==="[object Object]")o&&Object.keys(n.dump).length!==0?(_N(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(AN(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object Array]")o&&n.dump.length!==0?(n.noArrayIndent&&!h&&r>0?Tg(n,r-1,n.dump,c):Tg(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(CN(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object String]")n.tag!=="?"&&NN(n,n.dump,r,d,g);else{if(m==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new Vt("unacceptable kind of an object to dump "+m)}n.tag!==null&&n.tag!=="?"&&(p=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",n.dump=p+" "+n.dump)}return!0}function ON(n,r){var i=[],o=[],c,d;for(gf(n,i,o),c=0,d=o.length;c<d;c+=1)r.duplicates.push(i[o[c]]);r.usedDuplicates=new Array(d)}function gf(n,r,i){var o,c,d;if(n!==null&&typeof n=="object")if(c=r.indexOf(n),c!==-1)i.indexOf(c)===-1&&i.push(c);else if(r.push(n),Array.isArray(n))for(c=0,d=n.length;c<d;c+=1)gf(n[c],r,i);else for(o=Object.keys(n),c=0,d=o.length;c<d;c+=1)gf(n[o[c]],r,i)}function TN(n,r){r=r||{};var i=new yN(r);i.noRefs||ON(n,i);var o=n;return i.replacer&&(o=i.replacer.call({"":o},"",o)),nl(i,0,o,!0,!0)?i.dump+`
`:""}var MN=TN,DN={dump:MN};function Hf(n,r){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var kN=Dt,RN=xy,zN=wy,LN=Cy,VN=Ay,BN=Lf,IN=Gy.load,HN=Gy.loadAll,UN=DN.dump,YN=Vt,qN={binary:Dy,float:Ey,map:vy,null:Sy,pairs:Ry,set:zy,timestamp:Ty,bool:Ny,int:jy,merge:My,omap:ky,seq:by,str:yy},$N=Hf("safeLoad","load"),GN=Hf("safeLoadAll","loadAll"),XN=Hf("safeDump","dump"),gs={Type:kN,Schema:RN,FAILSAFE_SCHEMA:zN,JSON_SCHEMA:LN,CORE_SCHEMA:VN,DEFAULT_SCHEMA:BN,load:IN,loadAll:HN,dump:UN,YAMLException:YN,types:qN,safeLoad:$N,safeLoadAll:GN,safeDump:XN};function WN(n){const r=n.trim();if(!r)return{success:!1,error:"Empty source"};if(r.startsWith("{")||r.startsWith("["))try{return{success:!0,data:JSON.parse(r)}}catch{}try{const i=gs.load(r);return i==null?{success:!1,error:"Empty workflow"}:{success:!0,data:i}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Parse failed"}}}function ZN(n){const r=n.workflows||[];if(r.length===0)return n.nodes?{type:"project",workflows:[Dg(n)]}:{error:"No workflows found"};const i=[];let o={inputs:[],outputs:[]};for(const c of r){const d=Dg(c);i.push(d),(d.name==="main"||o.inputs.length===0)&&(o=d.interface)}return{type:"project",workflows:i,interface:o}}function Dg(n){const r=n.nodes||{},i=n.interface||{},o=i.inputs||[],c={type:"workflow",name:n.name||"main",interface:{inputs:o.map(uy),outputs:i.outputs||[]},variables:n.variables||{},children:[],orphans:[]},d=new Set;let m=(r.start||{}).next;for(;m&&!d.has(m);){d.add(m);const v=r[m];if(!v)break;const w=xf(m,v,r,d);c.children.push(w),m=v.next}const g=new Set(Object.keys(r).filter(v=>v!=="start")),p=new Set([...g].filter(v=>!d.has(v)));for(const v of p){const w=r[v]||{};Yf(w.inputs||{},r,d)}const y=new Set([...g].filter(v=>!d.has(v))),b=new Set;for(const v of y){const E=(r[v]||{}).next;E&&y.has(E)&&b.add(E)}const N=[...y].filter(v=>!b.has(v)).sort(),C=new Set;for(const v of N){let w=v;for(;w&&!C.has(w);){const E=r[w];if(!E)break;if(E.isReporter){C.add(w),w=E.next&&y.has(E.next)?E.next:void 0;continue}C.add(w);const T=xf(w,E,r,d),_=E.next;_&&y.has(_)&&(T.next=_),c.orphans.push(T),w=_&&y.has(_)?_:void 0}}return c}function xf(n,r,i,o){const c=r.opcode||"",d=r.inputs||{},h=r.isReporter||!1;Yf(d,i,o);const m={id:n,type:JN(c),opcode:c,isReporter:h,inputs:PN(d,i,c),children:[]},g=_i(c);return g&&g.branches.length>0&&(m.config=QN(c,d,i,g),m.children=KN(d,i,o,g)),m}function QN(n,r,i,o){const c={};for(const d of o.inputs){const h=Uf(r,d.name);if(h!==void 0){const m=d.name.toLowerCase();d.type==="variable_name"?c[m]=Wu(h):d.type==="expression"&&(m==="condition"||m==="iterable"||m==="resource"?c[m]=qf(h,i):c[m]=Wu(h))}}return["control_for","control_foreach","control_spawn","control_async_foreach","control_with"].includes(n)&&(c.var||(c.var=Wu(r.VAR??r.var??"i"))),c}function KN(n,r,i,o){const c=[];if(o.dynamic_branches)return FN(n,r,i,o);for(const d of o.branches){const h=Uf(n,d.name),m=typeof h=="object"&&h!==null?h.branch:void 0;m?c.push(ls(d.name,m,r,i)):h!==void 0&&c.push({type:"branch",name:d.name,children:[]})}return c}function FN(n,r,i,o){const c=[],d=[],h=[];for(const m of o.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.includes(p)||h.push(p)}else d.push(m.name)}for(const m of d){const g=Uf(n,m),p=typeof g=="object"&&g!==null?g.branch:void 0;p?c.push(ls(m,p,r,i)):g!==void 0&&c.push({type:"branch",name:m,children:[]})}for(const m of h){const g=m==="CATCH"?"HANDLERS":m==="BRANCH"?"BRANCHES":null,p=g?n[g]??n[g.toLowerCase()]:null;if(Array.isArray(p)&&p.length>0)p.forEach((y,b)=>{if(typeof y=="object"&&y!==null){const N=y,C=N.branch??N.body?.branch,v=`${m}${b+1}`;if(C){const w=ls(v,C,r,i);m==="CATCH"&&(w.exception_type=N.exception_type||"Exception",w.var_name=N.var_name??N.var),c.push(w)}else{const w={type:"branch",name:v,children:[]};m==="CATCH"&&(w.exception_type=N.exception_type||"Exception",w.var_name=N.var_name??N.var),c.push(w)}}});else{let y=1;for(;;){const b=`${m}${y}`,N=n[b];if(N===void 0)break;if(typeof N=="object"&&N!==null){const C=N,v=C.branch??C.body?.branch??N.branch;if(v){const w=ls(b,v,r,i);m==="CATCH"&&(w.exception_type=C.exception_type||"Exception",w.var_name=C.var_name??C.var),c.push(w)}else{const w={type:"branch",name:b,children:[]};m==="CATCH"&&(w.exception_type=C.exception_type||"Exception",w.var_name=C.var_name??C.var),c.push(w)}}y++}}}return c}function Uf(n,r){return n[r]??n[r.toLowerCase()]}function Yf(n,r,i){for(const o of Object.values(n))if(typeof o=="object"&&o!==null){const c=o;if(c.node){const d=c.node;if(!i.has(d)){i.add(d);const m=(r[d]||{}).inputs||{};Yf(m,r,i)}}}}function JN(n){const r=Pw();for(const i of r.categories)if(n.startsWith(i.prefix))switch(i.id){case"control":case"async":return"control_flow";case"data":return"data";case"io":return"io";case"operator":case"math":case"string":case"list":case"dict":return"operator";case"workflow":return"workflow_op";default:return"opcode"}return"opcode"}function PN(n,r,i){const o={},c=_i(i),d=new Set;if(c)for(const m of c.branches)d.add(m.name),d.add(m.name.toLowerCase());const h=new Set(["BODY","body","THEN","then","ELSE","else","TRY","FINALLY","HANDLERS","handlers","BRANCHES","branches"]);for(const[m,g]of Object.entries(n))d.has(m)||h.has(m)||/^(CATCH|BRANCH)\d+$/.test(m)||(o[m]=qf(g,r));return o}function qf(n,r,i=0){if(typeof n=="object"&&n!==null){const o=n;if("literal"in o)return{type:"literal",value:o.literal};if("variable"in o)return{type:"variable",name:o.variable};if("node"in o){const c=o.node,d=r[c]||{},h=d.opcode||"",m=d.inputs||{};return{type:"reporter",id:c,opcode:h,inputs:Object.fromEntries(Object.entries(m).filter(([g])=>!g.startsWith("CATCH")&&!["BODY","THEN","ELSE"].includes(g)).map(([g,p])=>[g,qf(p,r,i+1)]))}}return"branch"in o?{type:"branch",target:o.branch}:"workflow_call"in o?{type:"workflow_call",name:o.workflow_call}:{type:"dict",value:n}}return{type:"literal",value:n}}function Wu(n){return typeof n=="object"&&n!==null&&"literal"in n?n.literal:n}function ls(n,r,i,o){const c={type:"branch",name:n,children:[]};let d=r;for(;d&&!o.has(d);){o.add(d);const h=i[d];if(!h)break;c.children.push(xf(d,h,i,o)),d=h.next}return c}function ej(n){if(!Array.isArray(n))throw new Error(`opcodeAdapter must return an array.
Received: ${typeof n}

Expected format:
[
  {
    name: "io_print",
    description: "Print to output",
    parameters: [{ name: "MESSAGE", type: "any", required: true }],
    return_type: "void"
  }
]`);for(let r=0;r<n.length;r++){const i=n[r];if(!i||typeof i!="object")throw new Error(`opcodeAdapter[${r}] must be an object`);if(typeof i.name!="string")throw new Error(`opcodeAdapter[${r}].name must be a string`);if(!Array.isArray(i.parameters))throw new Error(`opcodeAdapter[${r}].parameters must be an array`)}return n}async function oi(n,r){const i=await fetch(n,{headers:{"Content-Type":"application/json"},...r});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return i.json()}function tj(n){const{apiBaseUrl:r}=n;return{name:"lexflow",config:n,async listOpcodes(){const i=n.opcodesUrl??`${r}/opcodes`,o=await oi(i);if(n.opcodeAdapter){const c=n.opcodeAdapter(o);return ej(c)}return o},async executeWorkflow(i,o,c){return oi(`${r}/execute`,{method:"POST",body:JSON.stringify({workflow:i,inputs:o,include_metrics:c})})},getWebSocketUrl(){if(n.supportsWebSocket===!1)return null;if(n.wsUrl)return`${n.wsUrl}/execute`;const i=new URL(r,window.location.href);return`${i.protocol==="https:"?"wss:":"ws:"}//${i.host}/ws/execute`},async parseWorkflow(i){const o=WN(i);if(!o.success||!o.data)return{success:!1,error:o.error||"Parse failed"};const c=ZN(o.data);if("error"in c)return{success:!1,error:c.error};const d=c;return{success:!0,tree:d,interface:d.interface}},async validateWorkflow(i){return oi(`${r}/validate`,{method:"POST",body:JSON.stringify({workflow:i})})},async listExamples(){return n.supportsExamples===!1?[]:oi(`${r}/examples`)},async getExample(i){return oi(`${r}/examples/${i}`)}}}const nj=k.createContext(null);function lj(){return k.useContext(nj)}function aj({className:n}){const{examples:r,setSource:i}=rt(),o=ws();if(r.length===0)return null;const c=async h=>{const m=h.target.value;if(m){try{if(hy(o)){const g=await o.getExample(m);i(g.content)}}catch(g){console.error("Failed to load example:",g)}h.target.value=""}},d=r.reduce((h,m)=>(h[m.category]||(h[m.category]=[]),h[m.category].push(m),h),{});return u.jsxs(Zx,{className:n,onChange:c,defaultValue:"",children:[u.jsx("option",{value:"",children:"Load Example..."}),Object.entries(d).map(([h,m])=>u.jsx("optgroup",{label:h,children:m.map(g=>u.jsx("option",{value:g.path,children:g.name},g.path))},h))]})}const rj=O("flex items-center h-12 pl-5 pr-4 bg-surface-1 border-b border-border-subtle shrink-0"),ij=O("text-base font-semibold text-text-primary tracking-tight ml-2"),Zu=O("w-px h-6 mx-2 bg-border-subtle"),kg=O("flex items-center gap-1.5"),oj="1.0";function sj(n){try{const r=gs.load(n);if(!r?.metadata?.editor)return null;const i=r.metadata.editor;return typeof i.version!="string"||!i.layout||!i.viewport?null:i}catch{return null}}function cj(n,r){try{const i=gs.load(n);return i?(i.metadata={...i.metadata,editor:r},gs.dump(i,{indent:2,lineWidth:-1,noRefs:!0,sortKeys:(o,c)=>o==="metadata"?1:c==="metadata"?-1:0})):n}catch{return n}}function Rg(n,r,i,o,c,d){return{version:oj,layout:{mode:n,nodePositions:{...r},workflowPositions:{...i}},viewport:{zoom:o,panX:c,panY:d}}}const zg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`;function uj({className:n,onSave:r,showSaveButton:i,saveButtonLabel:o="Save",showExamples:c}){const{source:d,setSource:h,undo:m,redo:g,canUndo:p,canRedo:y}=rt(),{togglePalette:b,toggleEditor:N,isEditorOpen:C}=Te(),v=k.useRef(null),[w,E]=k.useState(!1),T=async()=>{if(!(!r||w)){E(!0);try{const{nodePositions:Y,workflowPositions:U,layoutMode:K,zoom:J,panX:fe,panY:le}=Te.getState(),ie=Rg(K,Y,U,J,fe,le);await r(d,ie)}finally{E(!1)}}},_=i??!!r,W=()=>{d!==zg&&Te.getState().showConfirmDialog({title:"New Workflow",message:"Create a new workflow? Unsaved changes will be lost.",confirmLabel:"Create",variant:"default",onConfirm:()=>h(zg)})},B=async()=>{const{nodePositions:Y,workflowPositions:U,layoutMode:K,zoom:J,panX:fe,panY:le}=Te.getState(),ie=Rg(K,Y,U,J,fe,le),ce=cj(d,ie),oe=new Blob([ce],{type:"text/yaml"});if("showSaveFilePicker"in window)try{const ee=await(await window.showSaveFilePicker({suggestedName:"workflow.yaml",types:[{description:"YAML files",accept:{"text/yaml":[".yaml",".yml"]}}]})).createWritable();await ee.write(oe),await ee.close();return}catch(A){if(A.name==="AbortError")return}const L=URL.createObjectURL(oe),G=document.createElement("a");G.href=L,G.download="workflow.yaml",G.click(),URL.revokeObjectURL(L)},z=()=>{v.current?.click()},I=Y=>{const U=Y.target.files?.[0];if(!U)return;const K=new FileReader;K.onload=J=>{const fe=J.target?.result,le=sj(fe);if(h(fe),le){const ie=Te.getState();ie.resetNodePositions(),ie.resetWorkflowPositions(),ie.setLayoutMode(le.layout.mode);for(const[ce,oe]of Object.entries(le.layout.nodePositions))ie.setNodePosition(ce,oe.x,oe.y);for(const[ce,oe]of Object.entries(le.layout.workflowPositions))ie.setWorkflowPosition(ce,oe.x,oe.y);ie.setZoom(le.viewport.zoom),ie.setPan(le.viewport.panX,le.viewport.panY)}},K.readAsText(U),Y.target.value=""};return u.jsxs("header",{className:D(rj(),n),children:[u.jsxs("div",{className:D(kg(),"flex-1"),children:[u.jsx("h1",{className:ij(),style:{marginLeft:"8px"},children:"LexFlow"}),u.jsx("div",{className:Zu()}),u.jsx(Tn,{icon:u.jsx(i2,{}),label:"New Workflow",onClick:W}),u.jsx(Tn,{icon:u.jsx(o2,{}),label:"Import Workflow",onClick:z}),u.jsx(Tn,{icon:u.jsx(s2,{}),label:"Export Workflow",onClick:B}),_&&r&&u.jsx(Tn,{icon:u.jsx(j2,{}),label:o,onClick:T,disabled:w}),u.jsx("div",{className:Zu()}),u.jsx(Tn,{icon:u.jsx(c2,{}),label:"Undo (Ctrl+Z)",onClick:m,disabled:!p}),u.jsx(Tn,{icon:u.jsx(u2,{}),label:"Redo (Ctrl+Y)",onClick:g,disabled:!y}),u.jsx("div",{className:Zu()}),u.jsx(Tn,{icon:u.jsx(f2,{}),label:"Node Palette (Ctrl+P)",onClick:b}),u.jsx("input",{ref:v,type:"file",accept:".yaml,.yml,.json",onChange:I,className:"hidden"})]}),u.jsx("div",{className:"flex items-center justify-center",children:c!==!1&&u.jsx(aj,{})}),u.jsxs("div",{className:D(kg(),"flex-1 justify-end"),children:[u.jsx(C2,{}),u.jsx(Tn,{icon:u.jsx(d2,{}),label:"Toggle Editor (Ctrl+B)",onClick:N,className:C?"bg-surface-3":""})]})]})}const fj=O("absolute bg-transparent transition-colors hover:bg-accent-blue/50 z-10",{variants:{orientation:{horizontal:"cursor-col-resize w-1 -right-0.5 top-0 bottom-0",vertical:"cursor-row-resize h-1 -top-0.5 left-0 right-0"},isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{orientation:"horizontal",isResizing:!1}});function dj({orientation:n,isResizing:r=!1,onMouseDown:i,className:o}){return u.jsx("div",{className:D(fj({orientation:n,isResizing:r}),o),onMouseDown:i})}function hj({orientation:n,minSize:r,maxSize:i,defaultSize:o}){const[c,d]=k.useState(o),[h,m]=k.useState(!1),g=k.useRef(null),p=k.useCallback(y=>{y.preventDefault(),g.current=y.target.parentElement,m(!0)},[]);return k.useEffect(()=>{if(!h)return;const y=N=>{if(!g.current)return;const C=g.current.getBoundingClientRect();let v;v=N.clientX-C.left,d(Math.min(i,Math.max(r,v)))},b=()=>{m(!1)};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)}},[h,n,r,i]),{size:c,isResizing:h,handleMouseDown:p}}const mj=O("flex flex-col h-full overflow-hidden"),pj=O("flex flex-1 overflow-hidden relative"),gj=O("relative bg-surface-1 border-r border-border-subtle flex flex-col shrink-0"),xj=O("flex-1 flex flex-col relative overflow-hidden bg-surface-0"),yj=O("bg-surface-1 border-t border-border-subtle shrink-0 overflow-visible"),bj=O("absolute right-0 top-0 bottom-0 w-80 bg-surface-1 border-l border-border-subtle z-[100] shadow-lg transition-transform duration-200",{variants:{isOpen:{true:"translate-x-0",false:"translate-x-full"}},defaultVariants:{isOpen:!1}}),vj=O("fixed inset-0 bg-black/50 z-[200] flex justify-start"),wj=O("w-[300px] h-full bg-surface-1 border-r border-border-subtle animate-slide-in"),Sj=240,Nj=480,jj=320;function Ej({canvas:n,editor:r,nodeEditor:i,executionPanel:o,palette:c,className:d,onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}){const{isEditorOpen:y,isNodeEditorOpen:b,isPaletteOpen:N,isExecutionPanelOpen:C,togglePalette:v}=Te(),{size:w,isResizing:E,handleMouseDown:T}=hj({orientation:"horizontal",minSize:Sj,maxSize:Nj,defaultSize:jj});return u.jsxs("div",{className:D(mj(),d),children:[u.jsx(uj,{onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}),u.jsxs("div",{className:pj(),children:[y&&r&&u.jsxs("aside",{className:gj(),style:{width:`${w}px`},children:[r,u.jsx(dj,{orientation:"horizontal",isResizing:E,onMouseDown:T})]}),u.jsxs("div",{className:xj(),children:[n,C&&o&&u.jsx("div",{className:yj(),children:o})]}),u.jsx("aside",{className:bj({isOpen:b}),children:i})]}),N&&c&&u.jsx("div",{className:vj(),onClick:v,children:u.jsx("div",{className:wj(),onClick:_=>_.stopPropagation(),children:c})})]})}const Lg=new Set(["int","float","number","Integer","Float","Number"]),Vg=new Set(["str","string","String"]),Bg=new Set(["bool","boolean","Boolean"]);function yf(n,r){if(!n||!r)return null;const i=n.toLowerCase().trim(),o=r.toLowerCase().trim();if(i==="any"||o==="any"||i===o||Lg.has(i)&&Lg.has(o)||Vg.has(i)&&Vg.has(o)||Bg.has(i)&&Bg.has(o))return!0;const c=o.match(/^optional\[(.+)\]$/);return c?yf(n,c[1]):o.includes("|")?o.split("|").map(h=>h.trim()).some(h=>yf(n,h)===!0):!1}function Cj(n){return n===!0?"#34D399":n===!1?"#F87171":"#94A3B8"}function Aj(n,r){if(!n)return{};const i=n.workflows.find(c=>c.name===r);if(!i)return{};const o={};return i.interface.inputs.forEach((c,d)=>{o[`ARG${d+1}`]=c.name}),o}function xs(n,r,i,o){if(r!=="workflow_call")return n;const c=o.WORKFLOW;if(!c||c.type!=="literal")return n;const d=c.value;if(!d)return n;const h=Aj(i,d);return n.startsWith("ARG")&&h[n]?h[n]:n}function _j(n){return n?n.workflows.filter(r=>r.name!=="main").map(r=>({name:r.name,params:r.interface.inputs.map(i=>i.name)})):[]}const Oj=25,Tj=180;function Rl(n){if(n.startsWith("start-"))return"start";const r=n.indexOf("::");return r!==-1?n.slice(r+2):n}function ys(n){if(n.startsWith("start-"))return n.slice(6);const r=n.indexOf("::");if(r!==-1)return n.slice(0,r)}function Mj(n,r,i,o){return Math.sqrt((i-n)**2+(o-r)**2)}function Dj(n,r,i){const o=i[n];return o?r==="input"?o.input:r==="output"?o.output:o.branches[r]||null:null}function kj(n,r,i,o,c){const d=o==="output"?"input":"output";let h=null,m=Oj;for(const[g,p]of Object.entries(c)){if(g===i)continue;const y=d==="input"?p.input:p.output,b=Mj(n,r,y.x,y.y);b<m&&(m=b,h={nodeId:g,port:d,x:y.x,y:y.y})}return h}const Rj={pointerEvents:"all"};function zj(n,r,i){return n?r===!0?{fill:"rgba(52, 211, 153, 0.15)",stroke:"var(--color-accent-green)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease",animation:"pulse-slot 0.6s ease infinite alternate"}:r===!1?{fill:"rgba(248, 113, 113, 0.15)",stroke:"var(--color-accent-red)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"rgba(148, 163, 184, 0.1)",stroke:i,strokeWidth:1,strokeDasharray:"4 2",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"transparent",stroke:"transparent",strokeWidth:1,transition:"fill 0.15s ease, stroke 0.15s ease"}}const Lj={fontSize:"9px",fontWeight:500,fill:"var(--color-text-muted)",textTransform:"lowercase"},Vj={fontSize:"9px",fontFamily:"'JetBrains Mono', monospace",fill:"var(--color-text-secondary)"},Bj={fontSize:"7px",fill:"var(--color-text-muted)",fontStyle:"italic",textTransform:"uppercase",letterSpacing:"0.3px"};function lb({nodeId:n,inputKey:r,value:i,paramInfo:o,opcode:c,allInputs:d,x:h,y:m,width:g}){const{draggingOrphan:p,setDraggingOrphan:y,draggingVariable:b,setDraggingVariable:N}=Te(),{convertOrphanToReporter:C,updateNodeInput:v,tree:w}=rt(),E=Ij(i),T=xs(r,c,w,d),_=p!==null,W=b!==null,B=_||W,z=_?yf(p.returnType,o?.type):null,I=J=>{if(J.stopPropagation(),p){const fe=Rl(p.nodeId);if(z===!1){Te.getState().showConfirmDialog({title:"Type Mismatch",message:`The orphan node's return type may not be compatible with the input "${r}". Continue anyway?`,confirmLabel:"Continue",variant:"default",onConfirm:()=>{C(fe,n,r),y(null)},onCancel:()=>{y(null)}});return}C(fe,n,r),y(null)}else b&&(v(n,r,`$${b.name}`),N(null))},Y=J=>{J.stopPropagation()},U=W?"#22C55E":Cj(z);return u.jsxs("g",{style:Rj,transform:`translate(${h}, ${m})`,onMouseUp:I,onMouseEnter:Y,children:[u.jsx("rect",{x:0,y:0,width:g,height:20,rx:3,style:zj(B,z,U)}),u.jsxs("text",{x:6,y:13,style:Lj,children:[T,":"]}),u.jsx("text",{x:6+(T.length+1)*5,y:13,style:Vj,children:E}),B&&o?.type&&u.jsx("text",{x:g-6,y:13,textAnchor:"end",style:Bj,children:o.type})]})}function Ij(n){switch(n.type){case"literal":{const r=n.value;if(typeof r=="string")return`"${r.length>10?r.slice(0,10)+"...":r}"`;if(typeof r=="object"&&r!==null){const i=JSON.stringify(r);return i.length>20?i.slice(0,17)+"...":i}return String(r)}case"variable":return`$${n.name}`;case"reporter":return"[reporter]";case"workflow_call":return`-> ${n.name}`;default:return""}}function Hj(){const{closeNodeEditor:n,isNodeEditorOpen:r,isPaletteOpen:i,togglePalette:o,toggleEditor:c,toggleExecutionPanel:d}=Te(),{undo:h,redo:m,canUndo:g,canRedo:p,deleteNode:y,duplicateNode:b}=rt(),{selectNode:N,selectedNodeId:C,clearSelection:v}=ll();k.useEffect(()=>{const w=E=>{const T=E.target,_=T.tagName==="INPUT"||T.tagName==="TEXTAREA";if(_&&E.key==="Escape"){T.blur();return}if(E.ctrlKey||E.metaKey){switch(E.key.toLowerCase()){case"z":!_&&!Ig(T)&&(E.preventDefault(),E.shiftKey?p&&m():g&&h());break;case"y":!_&&!Ig(T)&&(E.preventDefault(),p&&m());break;case"b":_||(E.preventDefault(),c());break;case"e":_||(E.preventDefault(),d());break;case"p":_||(E.preventDefault(),o());break;case"0":_||(E.preventDefault(),Te.getState().resetView());break;case"d":!_&&C&&C!=="start"&&(E.preventDefault(),b(C));break}return}if(!_){if(E.key==="Escape"){r?(n(),v()):i?o():C&&v();return}(E.key==="Delete"||E.key==="Backspace")&&C&&C!=="start"&&Te.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${C}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{y(C),v(),n()}})}};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[n,r,i,o,c,d,N,C,v,h,m,g,p,y,b])}function Ig(n){return n.closest(".monaco-editor")!==null}function Uj(){const n=k.useRef(null),r=ws(),i=lj(),{setIsExecuting:o,appendExecutionOutput:c,setExecutionResult:d,setExecutionError:h,clearExecution:m,setPendingPrompt:g,addRenderedContent:p,clearRenderedContent:y,addAlert:b,setProgress:N}=gi(),C=k.useCallback(E=>{const T=n.current,{pendingPrompt:_}=gi.getState();!T||!_||(T.send(JSON.stringify({type:`${_.type}_response`,value:E})),g(null))},[g]),v=k.useCallback(async(E,T,_)=>{if(n.current&&n.current.close(),m(),o(!0),i){try{const z=await i(E,T);z.output&&c(z.output),z.success?d(z.result):h(z.error||"Execution failed")}catch(z){h(z instanceof Error?z.message:"Execution failed")}finally{o(!1)}return}const W=r.getWebSocketUrl();if(!W){try{const z=await r.executeWorkflow(E,T,_);z.success?(z.output&&c(z.output),d(z.result)):h(z.error||"Execution failed")}catch(z){h(z instanceof Error?z.message:"Execution failed")}finally{o(!1)}return}const B=new WebSocket(W);n.current=B,B.onopen=()=>{const z={type:"start",workflow:E,inputs:T,include_metrics:_};B.send(JSON.stringify(z))},B.onmessage=z=>{try{const I=JSON.parse(z.data);switch(I.type){case"output":c(I.line+`
`);break;case"complete":d(I.result),o(!1),B.close();break;case"error":h(I.message),o(!1),B.close();break;case"input_request":g({type:"input",prompt:I.prompt});break;case"select_request":g({type:"select",prompt:I.prompt,options:I.options});break;case"confirm_request":g({type:"confirm",prompt:I.message,message:I.message});break;case"button_request":g({type:"button",prompt:I.label,label:I.label});break;case"render_html":p({type:"html",content:I.html});break;case"render_markdown":p({type:"markdown",content:I.content});break;case"render_table":p({type:"table",content:I.data});break;case"render_image":p({type:"image",content:{src:I.src,alt:I.alt}});break;case"progress":N({value:I.value,max:I.max,label:I.label});break;case"alert":b({message:I.message,variant:I.variant});break;case"clear_content":y();break}}catch(I){console.error("Failed to parse WebSocket message:",I)}},B.onerror=()=>{h("WebSocket connection failed"),o(!1)},B.onclose=()=>{n.current=null}},[i,r,m,o,c,d,h,g,p,y,b,N]),w=k.useCallback(()=>{n.current&&(n.current.close(),n.current=null,o(!1),g(null))},[o,g]);return{execute:v,cancel:w,respondToPrompt:C}}function Yj(){const{source:n,setTree:r,setParseError:i,setIsParsing:o}=rt(),c=ws(),d=k.useRef(null);k.useEffect(()=>(d.current&&clearTimeout(d.current),d.current=setTimeout(async()=>{o(!0);try{const h=await c.parseWorkflow(n);h.success&&h.tree?r(h.tree):i(h.error||"Parse failed")}catch(h){i(h instanceof Error?h.message:"Parse failed")}finally{o(!1)}},500),()=>{d.current&&clearTimeout(d.current)}),[n,r,i,o,c])}function qj({svgRef:n,centerX:r,centerY:i}){const{zoom:o,panX:c,panY:d,setZoom:h,setPan:m,isDraggingWorkflow:g,isDraggingNode:p,draggingWire:y,setDraggingWire:b,updateDraggingWire:N,draggingOrphan:C,setDraggingOrphan:v,updateDraggingOrphanEnd:w,draggingVariable:E,setDraggingVariable:T,updateDraggingVariableEnd:_,slotPositions:W}=Te(),{connectNodes:B,connectBranch:z}=rt(),{selectNode:I,selectStartNode:Y,selectConnection:U}=ll(),[K,J]=k.useState(!1),[fe,le]=k.useState({x:0,y:0}),ie=k.useCallback((A,ee)=>{if(!n.current)return{x:0,y:0};const re=n.current.getBoundingClientRect();return{x:(A-re.left-c-re.width/2)/o+r,y:(ee-re.top-d-re.height/2)/o+i}},[n,c,d,o,r,i]),ce=k.useCallback(A=>{if(A.ctrlKey||A.metaKey){A.preventDefault();const ee=A.deltaY>0?-.1:.1;h(o+ee)}},[o,h]),oe=k.useCallback(A=>{if(g||p)return;const ee=A.target;(ee===n.current||ee.classList.contains("background")||ee.tagName==="rect")&&(J(!0),le({x:A.clientX-c,y:A.clientY-d}),I(null),Y(null),U(null))},[c,d,I,Y,U,g,p,n]),L=k.useCallback(A=>{if(y){const{x:ee,y:re}=ie(A.clientX,A.clientY),j=kj(ee,re,y.sourceNodeId,y.sourcePort,W);N({dragX:ee,dragY:re,nearbyPort:j});return}if(C){const{x:ee,y:re}=ie(A.clientX,A.clientY);w(ee,re);return}if(E){const{x:ee,y:re}=ie(A.clientX,A.clientY);_(ee,re);return}g||p||K&&m(A.clientX-fe.x,A.clientY-fe.y)},[K,fe,m,g,p,y,N,C,w,E,_,ie,W]),G=k.useCallback(()=>{if(J(!1),y){if(y.nearbyPort){const A=Rl(y.sourceNodeId),ee=Rl(y.nearbyPort.nodeId),re=ys(y.sourceNodeId),j=ys(y.nearbyPort.nodeId);y.branchLabel?z(A,ee,y.branchLabel):y.sourcePort==="output"?B(A,ee,re):B(ee,A,j)}b(null)}C&&v(null),E&&T(null)},[y,b,C,v,E,T,B,z]);return{handleWheel:ce,handleMouseDown:oe,handleMouseMove:L,handleMouseUp:G,isDragging:K}}function $j({nodeId:n,slotId:r,x:i,y:o}){const{draggingWire:c,setDraggingWire:d}=Te(),{connectNodes:h}=rt(),m=k.useCallback(E=>{E.stopPropagation(),E.preventDefault();const T=i+Tj,_=o+30;d({sourceNodeId:r,sourcePort:"output",sourceX:T,sourceY:_,dragX:T,dragY:_,nearbyPort:null})},[r,i,o,d]),g=k.useCallback((E,T,_,W)=>{E.stopPropagation(),E.preventDefault();const B=i+_,z=o+W;d({sourceNodeId:r,sourcePort:"output",sourceX:B,sourceY:z,dragX:B,dragY:z,nearbyPort:null,branchLabel:T})},[r,i,o,d]),p=k.useCallback(E=>{E.stopPropagation(),E.preventDefault();const T=i,_=o+30;d({sourceNodeId:r,sourcePort:"input",sourceX:T,sourceY:_,dragX:T,dragY:_,nearbyPort:null})},[r,i,o,d]),y=k.useCallback(E=>{E.stopPropagation(),E.preventDefault(),c&&c.sourcePort==="input"&&c.sourceNodeId!==n&&(h(n,c.sourceNodeId),d(null))},[n,c,h,d]),b=k.useCallback(E=>{E.stopPropagation(),E.preventDefault(),c&&c.sourcePort==="output"&&c.sourceNodeId!==n&&(h(c.sourceNodeId,n),d(null))},[n,c,h,d]),N=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="input",C=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="output",v=!!c&&c.sourcePort==="output"&&c.sourceNodeId!==r,w=!!c&&c.sourcePort==="input"&&c.sourceNodeId!==r;return{handleOutputPortMouseDown:m,handleInputPortMouseDown:p,handleOutputPortMouseUp:y,handleInputPortMouseUp:b,handleBranchPortMouseDown:g,isInputPortHighlighted:N,isOutputPortHighlighted:C,isValidDropTarget:v,isValidOutputDropTarget:w}}const gn=110,Mt=70,Hg=30,Ug={control_flow:"",data:"",io:"",operator:"",workflow_op:"",opcode:""};function Gj(n,r,i,o,c,d,h,m=!1){let g="transparent",p=1.5,y="none",b=1;o&&(g="var(--color-accent-amber)",y="6 3",b=.9),c&&!r&&!m&&(g=n,p=1.5,b=1),i&&!r&&!m&&(g="#facc15",p=2,y="none"),m&&(g="#22d3ee",p=2.5,y="none",b=1),r&&(g="var(--color-accent-blue)",p=2,y="none",b=1),d==="success"?g="var(--color-accent-green)":d==="error"&&(g="var(--color-accent-red)");let N="drop-shadow(0 1px 3px rgba(0, 0, 0, 0.2))";return c&&!r&&!m&&(N="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.25))"),m&&!r&&(N="drop-shadow(0 0 10px rgba(34, 211, 238, 0.5))"),r&&(N="drop-shadow(0 0 8px rgba(59, 130, 246, 0.3))"),{fill:"var(--color-surface-1)",stroke:g,strokeWidth:p,strokeDasharray:y,opacity:b,filter:N,transition:"all 0.15s ease",animation:d==="running"?"pulse 1.5s ease-in-out infinite":"none"}}function Xj(n){return{fill:n,pointerEvents:"none"}}function Wj(n,r){return{fill:r?n:`${n}20`,transition:"fill 0.15s ease"}}const Zj={fontSize:"14px",fill:"var(--color-text-primary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"},Qj={fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",letterSpacing:"-0.01em"},Kj={fontSize:"9px",fill:"var(--color-text-muted)",fontFamily:"'JetBrains Mono', monospace"};function Yg(n,r,i){return{fill:r?"var(--color-accent-green)":"var(--color-surface-2)",stroke:r?"var(--color-accent-green)":n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1.5,r:r?6:5,transition:"all 0.12s ease",filter:r?"drop-shadow(0 0 6px var(--color-accent-green))":"none",cursor:i?"pointer":"crosshair"}}function ab(n,r){return{fill:r?"var(--color-accent-blue)":"var(--color-surface-3)",stroke:"var(--color-border-subtle)",strokeWidth:1,cursor:n?"pointer":"default",transition:"fill 0.15s ease",opacity:n?1:0,pointerEvents:n?"all":"none"}}const rb={fontSize:"8px",fontWeight:600,fill:"var(--color-text-secondary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function Fj(n){const r={running:"var(--color-accent-amber)",success:"var(--color-accent-green)",error:"var(--color-accent-red)"};return{fill:r[n]||"transparent",filter:n!=="idle"?`drop-shadow(0 0 4px ${r[n]})`:"none",transition:"all 0.15s ease"}}const Jj={cursor:"grab",pointerEvents:"all"},Pj={fill:"var(--color-accent-amber)",transition:"filter 0.15s ease"},eE={fontSize:"9px",fill:"var(--color-surface-0)",fontWeight:600,pointerEvents:"none",textAnchor:"middle",dominantBaseline:"central"},tE={cursor:"grab",pointerEvents:"all",fill:"transparent"};function nE(n,r){return{fill:n?r:"transparent",stroke:r,strokeWidth:1.5,cursor:"crosshair",transition:"all 0.12s ease"}}const lE={fontSize:"8px",fontWeight:500,textAnchor:"middle",pointerEvents:"none",userSelect:"none",textTransform:"uppercase",letterSpacing:"0.3px"};function aE(n){return{fill:"var(--color-accent-primary)",transition:"all 0.15s ease",opacity:n?1:.9,transform:n?"scale(1.1)":"scale(1)",filter:n?"drop-shadow(0 2px 6px rgba(59, 130, 246, 0.4))":"none"}}const rE={fontSize:"14px",fontWeight:"bold",fill:"white",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function iE(n,r){const i=r.filter(d=>d.children.length>0).map(d=>d.name),o=r.map(d=>d.name),c=t2(n,i);for(const d of o)c.find(h=>h.name===d)||c.push({name:d,connected:i.includes(d)});return c}function oE(n,r){const i=oy(n);return i&&i!==""?i:Ug[r]||Ug.opcode}function ib(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function $f(n){let r=0;for(const i of Object.values(n))i.type==="reporter"&&i.opcode&&(r+=1,i.inputs&&(r+=$f(i.inputs)));return r}const kn=12,wi=8,or=16,ob=28,sE=2e3;function sr(n,r,i,o){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const c=`${o}::${n.id||""}`,d=i[c]??!1;if(!d&&!r)return{width:gn,height:Mt};const h=[];let m=0;if(n.inputs)for(const[y,b]of Object.entries(n.inputs))b.type==="reporter"&&b.opcode?h.push({key:y,value:b}):m++;let g=gn,p=Mt;if(d||r){if(h.length>0){let y=0,b=0;for(const N of h){const C=sr(N.value,r,i,o);y+=or+C.height+wi,b=Math.max(b,C.width)}g=Math.max(g,b+kn*2),p=Mt+y}m>0&&(p+=m*ob+wi),(h.length>0||m>0)&&(p+=kn)}return{width:g,height:p}}function cE(n,r,i,o){let c=0;for(const{value:d}of n){const h=sr(d,r,i,o);c+=or+h.height+wi}return c}function uE(n,r,i,o){let c=gn;for(const{value:d}of n){const h=sr(d,r,i,o);c=Math.max(c,h.width)}return c}const fE=k.memo(function({node:r,x:i,y:o,isOrphan:c,zoom:d=1,onDrag:h,workflowName:m}){const{opcodes:g}=rt(),{openNodeEditor:p,nodeStatus:y,searchResults:b,draggingWire:N,draggingOrphan:C,setDraggingOrphan:v,draggingVariable:w,layoutMode:E,setIsDraggingNode:T,registerSlotPositions:_,unregisterSlotPositions:W,showContextMenu:B,expandedReporters:z,showAddNodeMenu:I}=Te(),{selectedNodeId:Y,selectNode:U,selectedNodeIds:K,toggleNodeSelection:J,clearMultiSelection:fe,selectedReporter:le,selectReporter:ie}=ll(),[ce,oe]=k.useState(!1),[L,G]=k.useState(!1),[A,ee]=k.useState(!1),re=k.useRef(null);k.useEffect(()=>(ce||L?(re.current&&(clearTimeout(re.current),re.current=null),ee(!0)):re.current=setTimeout(()=>{ee(!1)},sE),()=>{re.current&&clearTimeout(re.current)}),[ce,L]);const j=`${m}::${r.id}`,V=z[j]??!1,Z=g.find(Ee=>Ee.name===r.opcode),ne=ay(r.type),ye=oE(r.opcode,r.type),ge=Y===j&&!le,de=K.includes(j),$e=b.includes(r.id),ae=y[r.id]||"idle",je=ib(r.opcode),Be=k.useRef(!1),Me=[],Ye=[];for(const[Ee,ut]of Object.entries(r.inputs))ut.type==="reporter"&&ut.opcode?Me.push({key:Ee,value:ut}):Ye.push({key:Ee,value:ut});const gt=$f(r.inputs),se=!!(w||C&&C.nodeId!==j),Ae=Ye.map(Ee=>Ee.key).slice(0,4),we=iE(r.opcode,r.children),Wt=we.length>0?20:0,xn=se?Ae.length*Hg:0,Bt=V||se,Il=Bt&&Me.length>0?cE(Me,se,z,m):0,ua=Bt&&Me.length>0?uE(Me,se,z,m)+kn*2:0,tt=Math.max(gn,ua),nt=Mt+xn+Il+Wt,rl=j,{handleOutputPortMouseDown:fa,handleInputPortMouseDown:ue,handleOutputPortMouseUp:Se,handleInputPortMouseUp:qe,handleBranchPortMouseDown:Fe,isInputPortHighlighted:it,isOutputPortHighlighted:jn,isValidDropTarget:yn,isValidOutputDropTarget:xt}=$j({nodeId:r.id,slotId:rl,x:i,y:o}),an=Ee=>{if(Ee.stopPropagation(),Be.current){Be.current=!1;return}if(Ee.ctrlKey||Ee.metaKey){J(j),ie(null);return}fe(),U(j),ie(null),p()},jt=Ee=>{Ee.preventDefault(),Ee.stopPropagation(),K.includes(j)||(fe(),U(j)),B({nodeId:j,x:Ee.clientX,y:Ee.clientY,hasReporters:gt>0,reportersExpanded:V,isOrphan:c??!1})},fr=Ee=>{if(!c)return;Ee.stopPropagation(),Ee.preventDefault();const ut=i+tt-14,kt=o;v({nodeId:j,opcode:r.opcode,returnType:Z?.return_type,fromX:ut,fromY:kt,toX:ut,toY:kt})},dr=Ee=>{if(E!=="free"||!h)return;Ee.stopPropagation(),Ee.preventDefault(),T(!0);const ut=Ee.clientX,kt=Ee.clientY;let Et=!1;const En=da=>{const hr=(da.clientX-ut)/d,ha=(da.clientY-kt)/d;(Math.abs(hr)>3||Math.abs(ha)>3)&&(Et=!0,h(hr,ha))},bn=()=>{T(!1),Et&&(Be.current=!0),window.removeEventListener("mousemove",En),window.removeEventListener("mouseup",bn)};window.addEventListener("mousemove",En),window.addEventListener("mouseup",bn)},js=Ee=>{Ee.stopPropagation(),I(Ee.clientX,Ee.clientY,r.id,m)};return k.useEffect(()=>{const Ee={input:{x:i,y:o+Mt/2},output:{x:i+tt,y:o+Mt/2},branches:{}};return we.forEach((ut,kt)=>{const Et=tt/we.length;Ee.branches[ut.name]={x:i+Et*kt+Et/2,y:o+nt}}),_(rl,Ee),()=>W(rl)},[i,o,tt,nt,we.length,rl,_,W]),u.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${i}, ${o})`,onClick:an,onContextMenu:jt,onMouseEnter:()=>oe(!0),onMouseLeave:()=>oe(!1),children:[u.jsx("rect",{x:0,y:0,width:tt+40,height:nt,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("rect",{width:tt,height:nt,rx:8,style:Gj(ne,ge,$e,c??!1,ce,ae,se,de)}),u.jsx("rect",{x:0,y:0,width:3,height:nt,rx:1.5,style:Xj(ne)}),u.jsx("circle",{cx:gn/2,cy:22,r:14,style:Wj(ne,ce)}),u.jsx("text",{x:gn/2,y:22,style:Zj,children:ye}),u.jsx("text",{x:gn/2,y:46,textAnchor:"middle",style:Qj,children:je.length>10?je.slice(0,10)+"":je}),(ce||ge)&&u.jsx("text",{x:gn/2,y:60,textAnchor:"middle",style:Kj,children:r.id.length>12?r.id.slice(0,12)+"":r.id}),se&&Ae.map((Ee,ut)=>u.jsx(lb,{nodeId:r.id,inputKey:Ee,value:r.inputs[Ee],paramInfo:Z?.parameters.find(kt=>kt.name.toUpperCase()===Ee),opcode:r.opcode,allInputs:r.inputs,x:kn,y:Mt+ut*Hg,width:tt-kn*2},Ee)),Bt&&Me.length>0&&u.jsx(dE,{reporterInputs:Me,parentNodeId:r.id,baseY:Mt+xn,selectedReporter:le,selectReporter:ie,openNodeEditor:p,showInputSlots:se,opcodes:g,expandedReporters:z,showContextMenu:B,workflowName:m}),gt>0&&!Bt&&u.jsxs("g",{transform:`translate(${tt-18}, 4)`,children:[u.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:ab(!0,!1)}),u.jsx("text",{x:7,y:7,style:rb,children:gt})]}),yn&&u.jsx("circle",{cx:0,cy:Mt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:qe}),xt&&u.jsx("circle",{cx:tt,cy:Mt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Se}),u.jsx("circle",{cx:0,cy:Mt/2,r:5,style:Yg(ce,it,!!N),onMouseDown:ue,onMouseUp:qe}),u.jsx("circle",{cx:tt,cy:Mt/2,r:5,style:Yg(ce,jn,!!N),onMouseDown:fa,onMouseUp:Se}),A&&r.opcode!=="workflow_start"&&u.jsxs("g",{className:"add-node-button",onClick:js,onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1),style:{cursor:"pointer"},children:[u.jsx("circle",{cx:tt+16,cy:Mt/2,r:20,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:tt+16,cy:Mt/2,r:10,style:aE(L)}),u.jsx("text",{x:tt+16,y:Mt/2,style:rE,children:"+"})]}),we.length>0&&u.jsx("g",{children:we.map((Ee,ut)=>{const kt=tt/we.length,Et=kt*ut+kt/2,En=nt,bn=ly(Ee.name);return u.jsxs("g",{children:[u.jsx("text",{x:Et,y:nt-8,fill:bn,style:lE,children:Ee.name}),u.jsx("circle",{cx:Et,cy:En,r:4,style:nE(Ee.connected,bn),onMouseDown:da=>Fe(da,Ee.name,Et,En)})]},Ee.name)})}),ae!=="idle"&&u.jsx("circle",{cx:tt-8,cy:12,r:4,style:Fj(ae)}),c&&u.jsxs("g",{style:Jj,onMouseDown:fr,children:[u.jsx("rect",{x:tt-28,y:-8,width:28,height:16,rx:3,style:Pj}),u.jsx("text",{x:tt-14,y:0,style:eE,children:""}),u.jsx("title",{children:"Drag to slot as reporter"})]}),E==="free"&&h&&u.jsx("rect",{x:4,y:0,width:c?tt-32:tt-8,height:Mt,style:tE,onMouseDown:dr})]})});function sb({inputKey:n,value:r,parentNodeId:i,x:o,y:c,selectedReporter:d,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:y,expandedReporters:b,showContextMenu:N,workflowName:C}){const v=ry(r.opcode||""),w=ib(r.opcode||""),E=oy(r.opcode||"")||"",T=[...y,n],_=p.find(A=>A.name===r.opcode),W=r.id||"",B=`${C}::${W}`,z=b[B]??!1,I=d&&d.parentNodeId===i&&d.inputPath.join(".")===T.join("."),Y=[],U=[];if(r.inputs)for(const[A,ee]of Object.entries(r.inputs))ee.type==="reporter"&&ee.opcode?Y.push({key:A,value:ee}):U.push({key:A,value:ee});const K=$f(r.inputs||{}),J=z||g,fe=sr(r,g,b,C),le=fe.width,ie=fe.height,ce=[];let oe=Mt;if(J)for(const A of Y){const ee=sr(A.value,g,b,C);ce.push({key:A.key,value:A.value,y:oe,height:ee.height}),oe+=or+ee.height+wi}const L=oe,G=A=>{A.preventDefault(),A.stopPropagation(),h({parentNodeId:i,inputPath:T,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),N({nodeId:W,x:A.clientX,y:A.clientY,hasReporters:K>0,reportersExpanded:z,isOrphan:!1})};return u.jsxs("g",{transform:`translate(${o}, ${c})`,children:[u.jsx("rect",{x:0,y:0,width:le,height:ie,rx:8,fill:"var(--color-surface-1)",stroke:I?"var(--color-accent-blue)":v,strokeWidth:I?2:1.5,style:{cursor:"pointer"},onClick:A=>{A.stopPropagation(),h({parentNodeId:i,inputPath:T,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),m()},onContextMenu:G}),u.jsx("rect",{x:0,y:0,width:4,height:ie,rx:2,fill:v,style:{pointerEvents:"none"}}),u.jsx("circle",{cx:gn/2,cy:22,r:14,fill:`${v}30`,style:{pointerEvents:"none"}}),u.jsx("text",{x:gn/2,y:22,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"14px",fill:"var(--color-text-primary)",pointerEvents:"none"},children:E}),u.jsx("text",{x:gn/2,y:46,textAnchor:"middle",style:{fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",pointerEvents:"none"},children:w.length>10?w.slice(0,10)+"":w}),K>0&&!J&&u.jsxs("g",{transform:`translate(${gn-18}, 4)`,children:[u.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:ab(!0,!1)}),u.jsx("text",{x:7,y:7,style:rb,children:K})]}),J&&ce.map(A=>u.jsxs("g",{children:[u.jsx("text",{x:kn,y:A.y+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:A.key}),u.jsx(sb,{inputKey:A.key,value:A.value,parentNodeId:i,x:kn,y:A.y+or,selectedReporter:d,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:T,expandedReporters:b,showContextMenu:N,workflowName:C})]},A.key)),J&&U.map((A,ee)=>u.jsxs("g",{transform:`translate(${kn}, ${L+ee*ob})`,children:[u.jsx("text",{x:0,y:10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:A.key}),u.jsx(lb,{nodeId:r.id||i,inputKey:A.key,value:A.value,paramInfo:_?.parameters.find(re=>re.name.toUpperCase()===A.key),opcode:r.opcode||"",allInputs:r.inputs||{},x:0,y:12,width:le-kn*2})]},A.key))]})}function dE({reporterInputs:n,parentNodeId:r,baseY:i,selectedReporter:o,selectReporter:c,openNodeEditor:d,showInputSlots:h,opcodes:m,expandedReporters:g,showContextMenu:p,workflowName:y}){const b=[];let N=0;for(const{key:C,value:v}of n){b.push({key:C,value:v,y:N});const w=sr(v,h,g,y);N+=or+w.height+wi}return u.jsx("g",{transform:`translate(${kn}, ${i})`,children:b.map(({key:C,value:v,y:w})=>u.jsxs("g",{children:[u.jsx("text",{x:0,y:w+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:C}),u.jsx(sb,{inputKey:C,value:v,parentNodeId:r,x:0,y:w+or,selectedReporter:o,selectReporter:c,openNodeEditor:d,showInputSlots:h,opcodes:m,inputPath:[],expandedReporters:g,showContextMenu:p,workflowName:y})]},C))})}const tl=160,cb=80,mi="#22c55e",ub="#4ade80";function hE(n,r){return{fill:"var(--color-surface-1)",stroke:n?"var(--color-accent-blue)":mi,strokeWidth:n||r?2.5:2,transition:"stroke 0.15s ease, stroke-width 0.15s ease, filter 0.15s ease",filter:n?"drop-shadow(0 0 8px rgba(34, 211, 238, 0.4))":r?"drop-shadow(0 4px 8px rgba(34, 197, 94, 0.3))":"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))"}}const mE={fill:mi,pointerEvents:"none"},pE={fontSize:"14px"},gE={fontSize:"13px",fontWeight:700,fill:"var(--color-text-primary)"},xE={fontSize:"9px",fill:"var(--color-text-secondary)",fontFamily:"'JetBrains Mono', monospace"},yE={fontSize:"10px",fontFamily:"'JetBrains Mono', monospace",fill:ub},bE={fontSize:"9px",fill:"var(--color-text-muted)",fontStyle:"italic"};function vE(n,r=!1){return{fill:n?mi:"var(--color-surface-2)",stroke:n?ub:mi,strokeWidth:2,transition:"all 0.15s ease",filter:n?`drop-shadow(0 0 4px ${mi})`:"none",cursor:r?"pointer":"crosshair",pointerEvents:"all"}}const wE={cursor:"grab",pointerEvents:"all"},SE=k.memo(function({workflowName:r,workflowInterface:i,variables:o,x:c,y:d,zoom:h=1,onDrag:m}){const{openNodeEditor:g,layoutMode:p,setIsDraggingNode:y,registerSlotPositions:b,unregisterSlotPositions:N,draggingWire:C,setDraggingWire:v}=Te(),{selectedStartNode:w,selectStartNode:E,selectNode:T}=ll(),{connectNodes:_}=rt(),[W,B]=k.useState(!1),z=`start-${r}`,I=w===r,Y=k.useRef(!1),U=V=>{if(V.stopPropagation(),Y.current){Y.current=!1;return}T(null),E(r),g()},K=V=>{if(p!=="free"||!m)return;V.stopPropagation(),V.preventDefault(),y(!0);const Z=V.clientX,ne=V.clientY;let ye=!1;const ge=$e=>{const ae=($e.clientX-Z)/h,je=($e.clientY-ne)/h;(Math.abs(ae)>3||Math.abs(je)>3)&&(ye=!0,m(ae,je))},de=()=>{y(!1),ye&&(Y.current=!0),window.removeEventListener("mousemove",ge),window.removeEventListener("mouseup",de)};window.addEventListener("mousemove",ge),window.addEventListener("mouseup",de)},J=k.useCallback(V=>{V.stopPropagation(),V.preventDefault();const Z=c+tl,ne=d+30;v({sourceNodeId:z,sourcePort:"output",sourceX:Z,sourceY:ne,dragX:Z,dragY:ne,nearbyPort:null})},[c,d,z,v]),fe=k.useCallback(V=>{V.stopPropagation(),V.preventDefault(),C&&C.sourcePort==="input"&&!C.sourceNodeId.startsWith("start-")&&(_("start",C.sourceNodeId,r),v(null))},[C,r,_,v]),le=C?.nearbyPort?.nodeId===z&&C?.nearbyPort?.port==="output",ie=!!C&&C.sourcePort==="input"&&!C.sourceNodeId.startsWith("start-"),ce=Object.entries(o).slice(0,3),oe=Object.keys(o).length>3,L=i.inputs||[],G=i.outputs||[],A=50,ee=L.length>0||G.length>0?18:0,re=ce.length*14+(oe?12:0),j=Math.max(cb,A+ee+re+10);return k.useEffect(()=>{const V={input:{x:c,y:d+30},output:{x:c+tl,y:d+30},branches:{}};return b(z,V),()=>N(z)},[c,d,z,b,N]),u.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${c}, ${d})`,onClick:U,onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),children:[u.jsx("rect",{width:tl,height:j,rx:8,style:hE(I,W)}),u.jsx("rect",{width:4,height:j,rx:2,style:mE}),u.jsx("text",{x:16,y:24,style:pE,children:""}),u.jsx("text",{x:38,y:24,style:gE,children:r}),(L.length>0||G.length>0)&&u.jsx("g",{transform:"translate(12, 38)",children:u.jsxs("text",{x:0,y:0,style:xE,children:[L.length>0&&`In: ${L.map(V=>V.name).join(", ")}`,L.length>0&&G.length>0&&" | ",G.length>0&&`Out: ${G.join(", ")}`]})}),ce.length>0&&u.jsxs("g",{transform:`translate(12, ${A+ee-4})`,children:[ce.map(([V,Z],ne)=>u.jsxs("text",{x:0,y:ne*14+10,style:yE,children:["$",V," = ",NE(Z)]},V)),oe&&u.jsxs("text",{x:0,y:ce.length*14+10,style:bE,children:["+",Object.keys(o).length-3," more..."]})]}),ie&&u.jsx("circle",{cx:tl,cy:30,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:fe}),u.jsx("circle",{cx:tl,cy:30,r:6,style:vE(W||le,!!C),onMouseDown:J,onMouseUp:fe}),p==="free"&&m&&u.jsx("rect",{x:4,y:0,width:tl-8,height:40,fill:"transparent",style:wE,onMouseDown:K})]})});function NE(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?n.length>12?`"${n.slice(0,12)}..."`:`"${n}"`:typeof n=="object"?JSON.stringify(n).slice(0,15)+"...":String(n)}function jE(n,r,i,o){const c=i-n,d=Math.abs(o-r),h=Math.abs(c);if(d>h*.5&&o>r){const g=Math.min(d/2,60);return`M ${n} ${r} C ${n} ${r+g}, ${i} ${o-g}, ${i} ${o}`}else if(c>=0){const g=Math.min(h/2,80);return`M ${n} ${r} C ${n+g} ${r}, ${i-g} ${o}, ${i} ${o}`}else{const g=Math.max(50,h/2),p=Math.max(40,d/2+20);return`M ${n} ${r} C ${n+g} ${r}, ${n+g} ${r+p}, ${(n+i)/2} ${r+p} S ${i-g} ${o}, ${i} ${o}`}}const EE={fill:"none",stroke:"transparent",strokeWidth:16,strokeLinecap:"round",pointerEvents:"stroke"};function CE(n,r){return{fill:"none",stroke:r?"#22d3ee":n,strokeWidth:6,strokeLinecap:"round",opacity:r?.3:.2,pointerEvents:"none"}}function AE(n,r,i){return{fill:"none",stroke:r?"#22D3EE":n,strokeWidth:r?3:i?1.5:2,strokeLinecap:"round",strokeDasharray:i?"6 4":"none",pointerEvents:"none",transition:"stroke-width 0.15s ease, stroke 0.15s ease",filter:r?"drop-shadow(0 0 6px rgba(34, 211, 238, 0.5))":"none"}}const _E={opacity:.6,pointerEvents:"none"},OE={fontSize:"10px",fill:"var(--color-text-muted)",textAnchor:"middle",fontWeight:500,pointerEvents:"none"},TE={cursor:"pointer",pointerEvents:"all"};function ME(){return{fill:"var(--color-accent-red)",stroke:"var(--color-surface-0)",strokeWidth:2,transition:"transform 0.15s ease, filter 0.15s ease"}}const DE={fontSize:"16px",fontWeight:"bold",fill:"white",pointerEvents:"none"},fb=k.memo(function({fromNodeId:r,toNodeId:i,fromPort:o="output",toPort:c="input",x1:d,y1:h,x2:m,y2:g,color:p="#475569",label:y,isDotted:b,isSelected:N,onSelect:C,onDelete:v}){const w=Te(K=>K.slotPositions);let E,T,_,W;if(d!==void 0&&h!==void 0&&m!==void 0&&g!==void 0)E=d,T=h,_=m,W=g;else{const K=w[r],J=w[i];if(!K||!J)return null;const fe=o==="output"?K.output:o==="input"?K.input:K.branches[o],le=c==="input"?J.input:J.output;if(!fe||!le)return null;E=fe.x,T=fe.y,_=le.x,W=le.y}if(!Number.isFinite(E)||!Number.isFinite(T)||!Number.isFinite(_)||!Number.isFinite(W)||E===0&&T===0&&_===0&&W===0||E===_&&T===W)return null;const B=jE(E,T,_,W),z=(E+_)/2,I=(T+W)/2,Y=K=>{K.stopPropagation(),C?.()},U=K=>{K.stopPropagation(),v?.()};return u.jsxs("g",{style:{cursor:"pointer"},children:[u.jsx("path",{style:EE,d:B,onClick:Y}),u.jsx("path",{style:CE(p,N??!1),d:B}),u.jsx("path",{style:AE(p,N??!1,b??!1),d:B}),!b&&!N&&u.jsx("circle",{style:_E,r:3,fill:p,children:u.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:B})}),y&&u.jsx("text",{style:OE,x:z,y:(T+W)/2-8,children:y}),N&&v&&u.jsxs("g",{style:TE,transform:`translate(${z}, ${I})`,onClick:U,children:[u.jsx("circle",{cx:0,cy:0,r:12,style:ME()}),u.jsx("text",{x:0,y:4,textAnchor:"middle",style:DE,children:""})]})]})});function kE(){const{draggingWire:n,slotPositions:r}=Te();if(!n)return null;const i=n.branchLabel||n.sourcePort,o=Dj(n.sourceNodeId,i,r),c=o?.x??n.sourceX,d=o?.y??n.sourceY,h=n.nearbyPort?.x??n.dragX,m=n.nearbyPort?.y??n.dragY,g=n.sourcePort==="input",p=g?h:c,y=g?m:d,b=g?c:h,N=g?d:m;if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b)||!Number.isFinite(N))return null;const C=n.nearbyPort?"#22C55E":"#22D3EE";return u.jsx(fb,{fromNodeId:n.sourceNodeId,toNodeId:"",x1:p,y1:y,x2:b,y2:N,color:C,isDotted:!n.nearbyPort})}const RE={pointerEvents:"none"},zE={fill:"#FACC15"},LE={filter:"drop-shadow(0 2px 4px rgba(250, 204, 21, 0.3))"},VE={fill:"rgba(250, 204, 21, 0.2)",stroke:"#FACC15",strokeWidth:1.5,strokeDasharray:"4 2"},BE={fontSize:"9px",fontWeight:600,fill:"#facc15"},IE={fill:"rgba(250, 204, 21, 0.3)",stroke:"#FACC15",strokeWidth:2},HE={pointerEvents:"none"},UE={fill:"rgba(34, 197, 94, 0.25)",stroke:"#22C55E",strokeWidth:2},YE={fill:"#4ADE80",fontSize:"12px",fontWeight:600,fontFamily:"'JetBrains Mono', monospace"},qE={fill:"#22C55E"};function $E(){const{draggingOrphan:n}=Te();if(!n)return null;const{fromX:r,fromY:i,toX:o,toY:c,opcode:d}=n;if(!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)||!Number.isFinite(c))return null;const h=o-r,m=c-i,g=Math.sqrt(h*h+m*m),p=d.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return u.jsxs("g",{style:RE,children:[u.jsx("path",{d:`M ${r} ${i} L ${o} ${c}`,fill:"none",stroke:"#FACC15",strokeWidth:2,strokeDasharray:"8 4",style:{animation:"dash-flow 0.5s linear infinite"}}),u.jsx("circle",{cx:r,cy:i,r:4,style:zE}),g>30&&u.jsxs("g",{transform:`translate(${o-40}, ${c-15})`,style:LE,children:[u.jsx("rect",{width:80,height:30,rx:6,style:VE}),u.jsx("text",{x:40,y:18,textAnchor:"middle",style:BE,children:p.length>10?p.slice(0,10)+"...":p})]}),u.jsx("circle",{cx:o,cy:c,r:6,style:IE})]})}function GE(){const{draggingVariable:n}=Te();if(!n)return null;const{toX:r,toY:i,name:o}=n;return u.jsxs("g",{style:HE,children:[u.jsxs("g",{transform:`translate(${r-40}, ${i-14})`,children:[u.jsx("rect",{width:80,height:28,rx:14,style:UE}),u.jsxs("text",{x:40,y:18,textAnchor:"middle",style:YE,children:["$",o.length>8?o.slice(0,8)+"..":o]})]}),u.jsx("circle",{cx:r,cy:i,r:4,style:qE})]})}const Go=160,Xo=120,si=180,Qu=80,Ku=60,qg=40,XE=80,WE=O("absolute bottom-4 left-6 rounded-sm border border-border-subtle overflow-hidden z-10 shadow-md cursor-pointer transition-colors hover:border-border-strong"),ZE={pointerEvents:"none"};function $g(n){switch(n){case"control_flow":return"#FF9500";case"data":return"#4CAF50";case"io":return"#22D3EE";case"operator":return"#9C27B0";case"workflow_op":return"#E91E63";default:return"#64748B"}}function QE({workflows:n,bounds:r,zoom:i,panX:o,panY:c,canvasWidth:d,canvasHeight:h,onNavigate:m}){const g=r.maxX-r.minX,p=r.maxY-r.minY,y=Math.min((Go-10)/Math.max(g,100),(Xo-10)/Math.max(p,100)),b=k.useMemo(()=>{const v=(r.maxX+r.minX)/2,w=(r.maxY+r.minY)/2,E=d/i,T=h/i,_=v-o/i,W=w-c/i,B=(_-r.minX-E/2)*y+5,z=(W-r.minY-T/2)*y+5,I=E*y,Y=T*y;return{x:B,y:z,width:I,height:Y}},[r,i,o,c,d,h,y]),N=k.useCallback(v=>{const E=v.currentTarget.getBoundingClientRect(),T=v.clientX-E.left,_=v.clientY-E.top,W=(T-5)/y+r.minX,B=(_-5)/y+r.minY,z=(r.maxX+r.minX)/2,I=(r.maxY+r.minY)/2,Y=(z-W)*i,U=(I-B)*i;m(Y,U)},[r,y,i,m]),C=k.useMemo(()=>{if(!n||n.length===0)return[];const v=[];let w=0;for(const E of n){let T=function(B,z,I){const Y=Qu+Math.min(Object.keys(B.inputs).length,2)*18;v.push({x:(z-r.minX)*y+5,y:(I-r.minY)*y+5,width:si*y,height:Y*y,color:$g(B.type)}),W=Math.max(W,I+Y);let U=z+si+Ku,K=I+Y+qg;for(const J of B.children){let fe=z+si+Ku;for(const le of J.children){const ie=Qu+Math.min(Object.keys(le.inputs).length,2)*18;v.push({x:(fe-r.minX)*y+5,y:(K-r.minY)*y+5,width:si*y,height:ie*y,color:$g(le.type)}),W=Math.max(W,K+ie),fe+=si+Ku,U=Math.max(U,fe)}K+=Qu+qg*2}return U},_=0,W=w;for(const B of E.children)_=T(B,_,w);w=W+XE}return v},[n,r,y]);return!n||n.length===0||C.length===0?null:u.jsx("div",{className:D(WE()),"aria-label":"Canvas minimap navigation",children:u.jsxs("svg",{width:Go,height:Xo,onClick:N,style:{display:"block",cursor:"pointer"},role:"img","aria-label":"Minimap showing workflow overview. Click to navigate.",children:[u.jsx("rect",{x:0,y:0,width:Go,height:Xo,fill:"var(--color-surface-2)",rx:4}),C.map((v,w)=>u.jsx("rect",{x:v.x,y:v.y,width:Math.max(v.width,2),height:Math.max(v.height,2),fill:v.color,opacity:.7,rx:1},w)),u.jsx("rect",{x:Math.max(0,b.x),y:Math.max(0,b.y),width:Math.min(b.width,Go),height:Math.min(b.height,Xo),fill:"rgba(59, 130, 246, 0.15)",stroke:"var(--color-accent-blue)",strokeWidth:1.5,rx:2,style:ZE})]})})}const KE=O("absolute top-4 left-6 w-9 h-9 flex items-center justify-center bg-surface-1 border border-border-subtle rounded-sm text-text-secondary cursor-pointer z-10 shadow-md transition-colors hover:bg-surface-2 hover:border-border-strong hover:text-text-primary"),FE=O("absolute top-4 left-6 flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm z-10 shadow-md text-text-secondary focus-within:border-accent-blue"),JE=O("bg-transparent border-none outline-none text-text-primary text-sm w-[180px] placeholder:text-text-muted"),PE=O("text-xs text-text-muted whitespace-nowrap min-w-[60px] text-center"),eC=O("flex gap-0.5"),Gg=O("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm transition-colors hover:bg-surface-2 hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent"),tC=O("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm ml-1 transition-colors hover:bg-surface-2 hover:text-text-primary");function nC(){const{tree:n}=rt(),{searchQuery:r,setSearchQuery:i,searchResults:o,setSearchResults:c}=Te(),{selectNode:d}=ll(),[h,m]=k.useState(!1),[g,p]=k.useState(0),y=k.useRef(null);k.useEffect(()=>{if(!n||!r.trim()){c([]),p(0);return}const T=r.toLowerCase(),_=[];for(const W of n.workflows){const B=z=>{for(const I of z){const Y=I.id.toLowerCase().includes(T),U=I.opcode?.toLowerCase().includes(T),K=I.type.toLowerCase().includes(T);(Y||U||K)&&_.push(I.id);for(const J of I.children)B(J.children)}};B(W.children)}c(_),p(0)},[r,n,c]),k.useEffect(()=>{const T=_=>{(_.ctrlKey||_.metaKey)&&_.key.toLowerCase()==="f"&&(_.target.closest(".monaco-editor")||(_.preventDefault(),m(!0),setTimeout(()=>y.current?.focus(),50))),_.key==="Escape"&&h&&b()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[h]);const b=k.useCallback(()=>{m(!1),i(""),c([]),p(0)},[i,c]),N=k.useCallback(T=>{i(T.target.value)},[i]),C=k.useCallback(T=>{if(o.length>0){const _=o[T];d(_),p(T)}},[o,d]),v=k.useCallback(()=>{if(o.length>0){const T=g>0?g-1:o.length-1;C(T)}},[g,o.length,C]),w=k.useCallback(()=>{if(o.length>0){const T=g<o.length-1?g+1:0;C(T)}},[g,o.length,C]),E=k.useCallback(T=>{T.key==="Enter"&&(T.shiftKey?v():w())},[v,w]);return h?u.jsxs("div",{className:D(FE()),role:"search","aria-label":"Search nodes",children:[u.jsx(Xg,{}),u.jsx("input",{ref:y,type:"text",value:r,onChange:N,onKeyDown:E,placeholder:"Search nodes...",className:D(JE()),autoFocus:!0,"aria-label":"Search query","aria-describedby":r?"search-result-count":void 0}),r&&u.jsx("span",{id:"search-result-count",className:D(PE()),"aria-live":"polite",children:o.length>0?`${g+1}/${o.length}`:"No results"}),u.jsxs("div",{className:D(eC()),role:"group","aria-label":"Navigate results",children:[u.jsx("button",{onClick:v,disabled:o.length===0,"aria-label":"Previous result (Shift+Enter)",className:D(Gg()),children:u.jsx(lC,{})}),u.jsx("button",{onClick:w,disabled:o.length===0,"aria-label":"Next result (Enter)",className:D(Gg()),children:u.jsx(aC,{})})]}),u.jsx("button",{onClick:b,className:D(tC()),"aria-label":"Close search (Escape)",children:u.jsx(rC,{})})]}):u.jsx("button",{className:D(KE()),onClick:()=>{m(!0),setTimeout(()=>y.current?.focus(),50)},"aria-label":"Search nodes (Ctrl+F)",children:u.jsx(Xg,{})})}function Xg(){return u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[u.jsx("circle",{cx:"11",cy:"11",r:"8"}),u.jsx("path",{d:"M21 21l-4.35-4.35"})]})}function lC(){return u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:u.jsx("path",{d:"M18 15l-6-6-6 6"})})}function aC(){return u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:u.jsx("path",{d:"M6 9l6 6 6-6"})})}function rC(){return u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:u.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}const tn=24,aa=28;function iC(n,r,i,o){return{padding:tn,labelHeight:aa,rect:{x:n-tn,y:r-tn-aa,width:i+tn*2,height:o+tn*2+aa},header:{x:n-tn,y:r-tn-aa,width:i+tn*2,height:aa+tn},label:{x:n-tn+12,y:r-tn-aa+8},dragIcon:{x:n+i+tn-24,y:r-tn-aa+10}}}function oC(n){return{fill:"transparent",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:2,strokeDasharray:"8 4",opacity:n?.4:.6}}function sC(n){return{fill:n?"rgba(59, 130, 246, 0.1)":"var(--color-surface-2)",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1}}function cC(n){return{fontSize:"11px",fontWeight:600,fill:n?"var(--color-accent-blue)":"var(--color-text-secondary)",fontFamily:"'Inter', sans-serif"}}const uC={cursor:"grab",pointerEvents:"all"},fC={pointerEvents:"none",color:"var(--color-text-muted)"};function dC({name:n,x:r,y:i,width:o,height:c,isMain:d,zoom:h,onDrag:m}){const g=k.useRef(!1),p=k.useRef({x:0,y:0}),y=Te(w=>w.setIsDraggingWorkflow),b=iC(r,i,o,c),N=k.useCallback(w=>{if(!m)return;w.stopPropagation(),w.preventDefault(),g.current=!0,p.current={x:w.clientX,y:w.clientY},y(!0);const E=_=>{if(!g.current)return;_.preventDefault();const W=(_.clientX-p.current.x)/h,B=(_.clientY-p.current.y)/h;p.current={x:_.clientX,y:_.clientY},m(W,B)},T=()=>{g.current=!1,y(!1),window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",T)};window.addEventListener("mousemove",E),window.addEventListener("mouseup",T)},[m,h,y]),C=d&&n!=="main"?`${n} (main)`:n,v=C.length*7+24;return u.jsxs("g",{style:{pointerEvents:"none"},"data-workflow-group":n,children:[u.jsx("rect",{x:b.rect.x,y:b.rect.y,width:b.rect.width,height:b.rect.height,rx:12,style:oC(d??!1)}),u.jsx("rect",{x:b.header.x,y:b.header.y,width:b.header.width,height:b.header.height,fill:"transparent",style:uC,onMouseDown:N}),u.jsxs("g",{transform:`translate(${b.label.x}, ${b.label.y})`,children:[u.jsx("rect",{x:0,y:0,width:v,height:20,rx:4,style:sC(d??!1)}),u.jsx("text",{x:12,y:14,style:cC(d??!1),children:C})]}),u.jsxs("g",{transform:`translate(${b.dragIcon.x}, ${b.dragIcon.y})`,style:fC,children:[u.jsx("rect",{x:0,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),u.jsx("rect",{x:6,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),u.jsx("rect",{x:0,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),u.jsx("rect",{x:6,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4})]})]})}const db=O("min-w-[160px] py-1 bg-surface-1 border border-border-subtle rounded-md shadow-lg animate-scale-in"),ra=O("w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm text-text-primary bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2",{variants:{variant:{default:"",danger:"text-accent-red hover:bg-accent-red/10"}},defaultVariants:{variant:"default"}}),as=O("h-px my-1 mx-2 bg-border-subtle"),ia=O("w-4 text-center text-xs text-text-muted"),oa=O("flex-1"),Wg=O("text-xs text-text-muted");function hC({x:n,y:r,nodeId:i,hasReporters:o,reportersExpanded:c,isOrphan:d,onExpandReporters:h,onCollapseReporters:m,onDelete:g,onDuplicate:p,onClose:y,selectedNodeIds:b,onExtractToWorkflow:N}){const C=k.useRef(null);k.useEffect(()=>{const E=_=>{C.current&&!C.current.contains(_.target)&&y()},T=_=>{_.key==="Escape"&&y()};return document.addEventListener("mousedown",E),document.addEventListener("keydown",T),()=>{document.removeEventListener("mousedown",E),document.removeEventListener("keydown",T)}},[y]);const v=Math.min(n,window.innerWidth-180),w=Math.min(r,window.innerHeight-200);return u.jsxs("div",{ref:C,className:D(db()),style:{position:"fixed",left:v,top:w,zIndex:1e3},role:"menu","aria-label":"Node actions",children:[o&&u.jsxs(u.Fragment,{children:[c?u.jsxs("button",{className:D(ra()),onClick:()=>{m(),y()},role:"menuitem",children:[u.jsx("span",{className:D(ia()),children:""}),u.jsx("span",{className:D(oa()),children:"Collapse Reporters"})]}):u.jsxs("button",{className:D(ra()),onClick:()=>{h(),y()},role:"menuitem",children:[u.jsx("span",{className:D(ia()),children:""}),u.jsx("span",{className:D(oa()),children:"Expand Reporters"})]}),u.jsx("div",{className:D(as()),role:"separator"})]}),u.jsxs("button",{className:D(ra()),onClick:()=>{p(),y()},role:"menuitem",children:[u.jsx("span",{className:D(ia()),children:""}),u.jsx("span",{className:D(oa()),children:"Duplicate"}),u.jsx("span",{className:D(Wg()),children:"Ctrl+D"})]}),u.jsx("div",{className:D(as()),role:"separator"}),u.jsxs("button",{className:D(ra({variant:"danger"})),onClick:()=>{g(),y()},role:"menuitem",children:[u.jsx("span",{className:D(ia()),children:""}),u.jsx("span",{className:D(oa()),children:"Delete"}),u.jsx("span",{className:D(Wg()),children:"Del"})]}),b&&b.length>=2&&N&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:D(as()),role:"separator"}),u.jsxs("button",{className:D(ra()),onClick:()=>{N(),y()},role:"menuitem",children:[u.jsx("span",{className:D(ia()),children:""}),u.jsx("span",{className:D(oa()),children:"Extract to Workflow"})]})]})]})}function mC({x:n,y:r,workflowName:i,onCreateWorkflow:o,onDeleteWorkflow:c,onClose:d}){const h=k.useRef(null);k.useEffect(()=>{const y=N=>{h.current&&!h.current.contains(N.target)&&d()},b=N=>{N.key==="Escape"&&d()};return document.addEventListener("mousedown",y),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",b)}},[d]);const m=Math.min(n,window.innerWidth-220),g=Math.min(r,window.innerHeight-120),p=i&&i!=="main";return u.jsxs("div",{ref:h,className:D(db()),style:{position:"fixed",left:m,top:g,zIndex:1e3},role:"menu","aria-label":"Canvas actions",children:[u.jsxs("button",{className:D(ra()),onClick:()=>{o(),d()},role:"menuitem",children:[u.jsx("span",{className:D(ia()),children:"+"}),u.jsx("span",{className:D(oa()),children:"Create New Workflow"})]}),p&&c&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:D(as()),role:"separator"}),u.jsxs("button",{className:D(ra({variant:"danger"})),onClick:()=>{c(i),d()},role:"menuitem",children:[u.jsx("span",{className:D(ia()),children:""}),u.jsxs("span",{className:D(oa()),children:['Delete "',i,'"']})]})]})]})}const pC=O("w-[320px] max-h-[480px] bg-surface-1 border border-border-subtle rounded-md shadow-lg flex flex-col animate-scale-in"),gC=O("p-2 border-b border-border-subtle"),xC=O("w-full px-3 py-1.5 text-sm bg-surface-2 border border-border-subtle rounded text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent-blue"),yC=O("flex-1 overflow-y-auto overflow-x-hidden"),bC=O("px-4 py-8 text-sm text-text-muted text-center"),vC=O("border-b border-border-subtle last:border-b-0"),wC=O("w-full flex items-center gap-2 px-3 py-2 text-left bg-surface-1 border-none cursor-pointer transition-colors hover:bg-surface-2 sticky top-0 z-10"),Zg=O("w-5 h-5 flex items-center justify-center text-xs font-bold rounded transition-colors text-[var(--cat-color)] bg-[var(--cat-color)]/10"),SC=O("flex-1 text-sm font-medium text-text-primary"),NC=O("text-xs text-text-muted"),jC=O("w-4 text-xs text-text-muted transition-transform"),EC=O("bg-surface-0"),CC=O("w-full flex flex-col items-start gap-1 px-4 py-2 text-left bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2 border-b border-border-subtle last:border-b-0"),Qg=O("text-sm font-medium text-text-primary"),Kg=O("text-xs font-mono text-text-muted"),Fg=O("text-xs text-text-secondary line-clamp-2"),AC=O("w-full flex flex-col items-start gap-1 px-4 py-2.5 text-left bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2 border-b border-border-subtle last:border-b-0"),_C=O("font-semibold text-accent-blue"),OC=340,TC=500;function MC({x:n,y:r,opcodes:i,onSelect:o,onClose:c}){const d=k.useRef(null),h=k.useRef(null),[m,g]=k.useState(""),[p,y]=k.useState(null),b=iy();k.useEffect(()=>{h.current?.focus()},[]),k.useEffect(()=>{const B=I=>{d.current&&!d.current.contains(I.target)&&c()},z=I=>{I.key==="Escape"&&c()};return document.addEventListener("mousedown",B),document.addEventListener("keydown",z),()=>{document.removeEventListener("mousedown",B),document.removeEventListener("keydown",z)}},[c]);const N=k.useMemo(()=>{const B={};for(const z of b)B[z.id]=[];B.other=[];for(const z of i){let I=!1;for(const Y of b)if(z.name.startsWith(Y.prefix)){B[Y.id].push(z),I=!0;break}I||B.other.push(z)}return B},[i,b]),C=k.useMemo(()=>{if(!m)return null;const B=m.toLowerCase();return i.filter(z=>z.name.toLowerCase().includes(B)||(z.description?.toLowerCase().includes(B)??!1))},[i,m]),v=Math.min(n,window.innerWidth-OC),w=Math.min(r,window.innerHeight-TC),E=B=>{o(B),c()},T=k.useMemo(()=>{const B=b.map(I=>I.prefix).join("|"),z=new RegExp(`^(${B}|workflow_)`);return I=>I.replace(z,"").split("_").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" ")},[b]),_=(B,z)=>{if(!z)return u.jsx(u.Fragment,{children:B});const I=B.toLowerCase(),Y=z.toLowerCase(),U=I.indexOf(Y);return U===-1?u.jsx(u.Fragment,{children:B}):u.jsxs(u.Fragment,{children:[B.slice(0,U),u.jsx("span",{className:D(_C()),children:B.slice(U,U+z.length)}),B.slice(U+z.length)]})},W=(B,z,I,Y,U)=>{if(U.length===0)return null;const K=p===B;return u.jsxs("div",{className:D(vC()),children:[u.jsxs("button",{className:D(wC()),onClick:()=>y(K?null:B),style:{"--cat-color":Y},children:[u.jsx("span",{className:D(Zg()),children:I}),u.jsx("span",{className:D(SC()),children:z}),u.jsx("span",{className:D(NC()),children:U.length}),u.jsx("span",{className:D(jC()),style:{transform:K?"rotate(90deg)":"rotate(0deg)"},children:""})]}),K&&u.jsx("div",{className:D(EC()),children:U.map(J=>u.jsxs("button",{className:D(CC()),onClick:()=>E(J),role:"menuitem",children:[u.jsx("span",{className:D(Qg()),children:T(J.name)}),u.jsx("span",{className:D(Kg()),children:J.name}),J.description&&u.jsx("span",{className:D(Fg()),children:J.description})]},J.name))})]},B)};return u.jsxs("div",{ref:d,className:D(pC()),style:{position:"fixed",left:v,top:w,zIndex:1e3},role:"menu","aria-label":"Add node menu",children:[u.jsx("div",{className:D(gC()),children:u.jsx("input",{ref:h,type:"text",placeholder:"Search opcodes...",value:m,onChange:B=>g(B.target.value),className:D(xC())})}),u.jsx("div",{className:D(yC()),children:C?u.jsx(u.Fragment,{children:C.length===0?u.jsx("p",{className:D(bC()),children:"No opcodes found"}):C.map(B=>{const z=sy(B.name);return u.jsxs("button",{className:D(AC()),onClick:()=>E(B),role:"menuitem",style:z?{"--cat-color":z.color}:void 0,children:[u.jsxs("div",{className:"flex items-center gap-2 w-full",children:[z&&u.jsx("span",{className:D(Zg()),children:z.icon}),u.jsx("span",{className:D(Qg()),children:_(T(B.name),m)})]}),u.jsx("span",{className:D(Kg()),children:_(B.name,m)}),B.description&&u.jsx("span",{className:D(Fg()),children:_(B.description,m)})]},B.name)})}):u.jsxs(u.Fragment,{children:[b.map(B=>W(B.id,B.label,B.icon,B.color,N[B.id])),W("other","Other","","#64748B",N.other)]})})]})}const Si=cy.WIDTH,zn=cy.HEIGHT,Wo=Rf.HORIZONTAL,ui=Rf.VERTICAL,hb=Rf.WORKFLOW,DC=40;function kC(n,r){const o=n.inputs||[],c=n.outputs||[],d=o.length>0||c.length>0?18:0,h=Object.entries(r).slice(0,3),m=Object.keys(r).length>3,g=h.length*14+(m?12:0);return Math.max(cb,50+d+g+10)}const bf=12,vf=8,mb=16,RC=28;function pb(n,r,i){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const o=n.id||"",c=i?`${i}::${o}`:o;if(!(r[c]??!1))return{width:Si,height:zn};const h=[];let m=0;if(n.inputs)for(const y of Object.values(n.inputs))y.type==="reporter"&&y.opcode?h.push(y):m++;let g=Si,p=zn;if(h.length>0){let y=0,b=0;for(const N of h){const C=pb(N,r,i);y+=mb+C.height+vf,b=Math.max(b,C.width)}g=Math.max(g,b+bf*2),p=zn+y}return m>0&&(p+=m*RC+vf),(h.length>0||m>0)&&(p+=bf),{width:g,height:p}}function zC(n,r,i){let o=0,c=Si;for(const d of Object.values(n))if(d.type==="reporter"&&d.opcode){const h=pb(d,r,i);o+=mb+h.height+vf,c=Math.max(c,h.width)}return{width:c,height:o}}function Fu(n,r,i,o,c){const d=c?`${c}::${n}`:n,h=o[d]??!1,m=e2(),p=i&&m.has(i)?20:0;if(!h)return{width:Si,height:zn+p};const y=zC(r,o,c),b=y.width+bf*2,N=y.height;return{width:Math.max(Si,b),height:zn+N+p}}function Jg(n){return ly(n)}function Pg(n,r,i={},o={}){const c=[],d=[],h=[],m=[];let g=0;const p={};for(const y of n){p[y.name]={x:0,y:g};const b=Math.max(y.children.length*(zn+ui),zn+100);g+=b+hb}for(const y of n){const b=p[y.name],N=r[y.name]||{x:0,y:0},C={x:b.x+N.x,y:b.y+N.y},{nodes:v,connections:w,bounds:E,startNode:T}=LC(y,C.x,C.y,i,o);c.push(...v),d.push(...w),T&&m.push(T),h.push({name:y.name,x:E.minX,y:E.minY,width:E.maxX-E.minX,height:E.maxY-E.minY,isMain:y.name==="main"})}return{nodes:c,connections:d,groups:h,startNodes:m}}function LC(n,r,i,o={},c={}){const d=[],h=[],m=new Map,g=r,p=i,y={workflowName:n.name,workflowInterface:n.interface,variables:n.variables,x:g,y:p},b=r+tl+DC;let N=1/0,C=1/0,v=-1/0,w=-1/0;function E(U,K,J,fe){N=Math.min(N,U),C=Math.min(C,K),v=Math.max(v,U+J),w=Math.max(w,K+fe)}function T(U,K,J,fe=!1){const le=Fu(U.id,U.inputs,U.opcode,c,n.name);d.push({node:U,x:K,y:J,width:le.width,height:le.height,isOrphan:fe,workflowName:n.name}),m.set(U.id,{x:K,y:J,width:le.width,height:le.height}),E(K,J,le.width,le.height);let ie=K+le.width+Wo;if(U.children.length>0){let ce=J+le.height+ui;const oe=U.children.length;for(let L=0;L<oe;L++){const G=U.children[L],A=Jg(G.name);let ee=K+le.width+Wo,re=U.id,j=!0;for(const V of G.children){const Z=Fu(V.id,V.inputs,V.opcode,c,n.name);d.push({node:V,x:ee,y:ce,width:Z.width,height:Z.height,workflowName:n.name}),m.set(V.id,{x:ee,y:ce,width:Z.width,height:Z.height}),E(ee,ce,Z.width,Z.height),h.push({from:`${n.name}::${re}`,to:`${n.name}::${V.id}`,fromPort:j?G.name:"output",toPort:"input",color:A,label:j?G.name:void 0}),re=V.id,j=!1,ee+=Z.width+Wo,V.children.length>0&&(ee=Math.max(ee,_(V,ee,ce)))}ie=Math.max(ie,ee),ce+=zn+ui*2}}return ie}function _(U,K,J){let fe=K;const ie=m.get(U.id)?.height||zn;let ce=J+ie+ui;const oe=U.children.length;for(let L=0;L<oe;L++){const G=U.children[L],A=Jg(G.name);let ee=K,re=U.id,j=!0;for(const V of G.children){const Z=Fu(V.id,V.inputs,V.opcode,c,n.name);d.push({node:V,x:ee,y:ce,width:Z.width,height:Z.height,workflowName:n.name}),m.set(V.id,{x:ee,y:ce,width:Z.width,height:Z.height}),E(ee,ce,Z.width,Z.height),h.push({from:`${n.name}::${re}`,to:`${n.name}::${V.id}`,fromPort:j?G.name:"output",toPort:"input",color:A,label:j?G.name:void 0}),re=V.id,j=!1,ee+=Z.width+Wo}fe=Math.max(fe,ee),ce+=zn+ui}return fe}const W=kC(n.interface,n.variables);E(g,p,tl,W);let B=b,z=null,I=!0;for(const U of n.children){const J=T(U,B,i);I&&(h.push({from:`start-${n.name}`,to:`${n.name}::${U.id}`,fromPort:"output",toPort:"input",color:"#22C55E"}),I=!1),z&&h.push({from:`${n.name}::${z.id}`,to:`${n.name}::${U.id}`,fromPort:"output",toPort:"input",color:"#475569"}),z=U,B=J}n.children.length===0&&(N=Math.min(N,g),C=Math.min(C,p),v=Math.max(v,g+tl+20),w=Math.max(w,p+W));const Y=n.orphans||[];if(Y.length>0){const U=w+hb;let K=g;for(const J of Y)K=T(J,K,U,!0);for(const J of Y)J.next&&h.push({from:`${n.name}::${J.id}`,to:`${n.name}::${J.next}`,fromPort:"output",toPort:"input",color:"#6B7280"})}for(const U of d){const K=`${U.workflowName}::${U.node.id}`,J=o[K];J&&(U.x+=J.x,U.y+=J.y,E(U.x,U.y,U.width,U.height))}return{nodes:d,connections:h,bounds:{minX:N,minY:C,maxX:v,maxY:w},startNode:y}}function gb(n,r,i){const d=[...n].sort((h,m)=>m.y-h.y);for(const h of d)if(r>=h.x-16&&r<=h.x+h.width+16&&i>=h.y-28-16&&i<=h.y+h.height+16)return h.name;return null}const VC=O("flex-1 relative overflow-hidden"),BC=O("w-full h-full block"),IC=O("absolute bottom-4 right-4 flex items-center gap-1 bg-surface-1 p-1 rounded-sm border border-border-subtle z-10 shadow-md"),Ju=O("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm hover:bg-surface-2 hover:text-text-primary"),HC=O("w-px h-5 bg-border-subtle mx-1"),UC=O("min-w-10 text-center text-xs text-text-muted"),ex=O("h-7 px-2.5 flex items-center justify-center gap-1.5 bg-transparent border-none text-text-secondary cursor-pointer rounded-sm text-xs font-medium transition-colors hover:bg-surface-2 hover:text-text-primary",{variants:{active:{true:"bg-surface-3 text-text-primary",false:""}},defaultVariants:{active:!1}}),YC=O("absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-3 px-5 py-3 bg-accent-red/15 border border-accent-red rounded-sm text-accent-red z-10 max-w-[80%]"),qC=O("text-lg"),$C=O("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-text-muted pointer-events-none"),GC=O("text-lg mb-2 text-text-secondary"),XC=O("text-sm");function wf(n,r,i=new Set){for(const o of Object.values(n))if(o.type==="reporter"&&o.id){const c=`${r}::${o.id}`;i.add(c),o.inputs&&wf(o.inputs,r,i)}return Array.from(i)}function tx(n,r){const[i,o]=r.split("::"),c=n.find(m=>m.name===i);if(!c)return null;const d=m=>{for(const g of m){if(g.id===o)return g;for(const p of g.children){const y=d(p.children);if(y)return y}}return null},h=d(c.children);if(h)return{node:h,workflowName:i};if(c.orphans){const m=d(c.orphans);if(m)return{node:m,workflowName:i}}return null}function WC(){const{zoom:n,panX:r,panY:i,setZoom:o,setPan:c,resetView:d,workflowPositions:h,setWorkflowPosition:m,nodePositions:g,setNodePosition:p,layoutMode:y,setLayoutMode:b,setLayoutGroups:N,setCanvasCenter:C,contextMenu:v,hideContextMenu:w,setReportersExpanded:E,setMultipleReportersExpanded:T,expandedReporters:_,canvasContextMenu:W,showCanvasContextMenu:B,hideCanvasContextMenu:z,showCreateWorkflowModal:I,showConfirmDialog:Y,showExtractWorkflowModal:U,addNodeMenu:K,hideAddNodeMenu:J,openNodeEditor:fe}=Te(),{tree:le,parseError:ie,source:ce,disconnectConnection:oe,deleteNode:L,duplicateNode:G,deleteWorkflow:A,addNodeConnected:ee,opcodes:re}=rt(),{selectedConnection:j,selectConnection:V,selectedNodeIds:Z,clearMultiSelection:ne,selectNode:ye}=ll(),ge=k.useRef(null),[de,$e]=k.useState({width:800,height:600});k.useEffect(()=>{const ue=()=>{ge.current&&$e({width:ge.current.clientWidth,height:ge.current.clientHeight})};return ue(),window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]);const{nodes:ae,connections:je,groups:Be,startNodes:Me}=le?Pg(le.workflows,h,g,_):{nodes:[],connections:[],groups:[],startNodes:[]},Ye=24,gt=28,se=Be.length>0?Be.reduce((ue,Se)=>({minX:Math.min(ue.minX,Se.x-Ye),minY:Math.min(ue.minY,Se.y-Ye-gt),maxX:Math.max(ue.maxX,Se.x+Se.width+Ye),maxY:Math.max(ue.maxY,Se.y+Se.height+Ye)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}):{minX:0,minY:0,maxX:800,maxY:600},{centerX:Ae,centerY:we}=k.useMemo(()=>{if(!le)return{centerX:400,centerY:300};const Se=Pg(le.workflows,{}).groups.reduce((qe,Fe)=>({minX:Math.min(qe.minX,Fe.x-Ye),minY:Math.min(qe.minY,Fe.y-Ye-gt),maxX:Math.max(qe.maxX,Fe.x+Fe.width+Ye),maxY:Math.max(qe.maxY,Fe.y+Fe.height+Ye)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return{centerX:(Se.maxX+Se.minX)/2,centerY:(Se.maxY+Se.minY)/2}},[le]),Wt=JSON.stringify(Be);k.useEffect(()=>{N(Be)},[Wt,N]),k.useEffect(()=>{C(Ae,we)},[Ae,we,C]),k.useEffect(()=>{const ue=Se=>{const Fe=Se.detail.workflowName,it=Be.find(dr=>dr.name===Fe);if(!it)return;const jn=de.width/2,yn=de.height/2,xt=it.x+it.width/2,an=it.y+it.height/2,jt=jn-xt*n-(de.width/2-Ae*n),fr=yn-an*n-(de.height/2-we*n);c(jt,fr)};return window.addEventListener("lexflow:goto-workflow",ue),()=>window.removeEventListener("lexflow:goto-workflow",ue)},[Be,n,c,de,Ae,we]);const{handleWheel:xn,handleMouseDown:Bt,handleMouseMove:Il,handleMouseUp:ua,isDragging:tt}=qj({svgRef:ge,centerX:Ae,centerY:we}),nt=k.useCallback(ue=>{const Se=ue.target,qe=Se.tagName==="svg"||Se.tagName==="rect"&&Se.getAttribute("fill")==="transparent",Fe=Se.closest("[data-workflow-group]")!==null;if(qe||Fe)if(ue.preventDefault(),ge.current){const it=ge.current.getBoundingClientRect(),jn=(ue.clientX-it.left-r-it.width/2)/n+Ae,yn=(ue.clientY-it.top-i-it.height/2)/n+we,xt=gb(Be,jn,yn);B(ue.clientX,ue.clientY,xt||void 0)}else B(ue.clientX,ue.clientY)},[B,ge,r,i,n,Ae,we,Be]),rl=k.useCallback((ue,Se)=>{c(ue,Se)},[c]),fa=k.useCallback(ue=>{if(!K)return;const Se=ee(ue,K.sourceNodeId,K.workflowName);Se&&(ye(Se),fe()),J()},[K,ee,ye,fe,J]);return u.jsxs("div",{className:D(VC()),"data-canvas-container":!0,children:[u.jsx(nC,{}),u.jsxs("div",{className:D(IC()),role:"toolbar","aria-label":"Canvas controls",children:[u.jsx("button",{className:D(Ju()),onClick:()=>o(n-.1),"aria-label":"Zoom out",children:u.jsx(g2,{})}),u.jsxs("span",{className:D(UC()),"aria-live":"polite",children:[Math.round(n*100),"%"]}),u.jsx("button",{className:D(Ju()),onClick:()=>o(n+.1),"aria-label":"Zoom in",children:u.jsx(p2,{})}),u.jsx("button",{className:D(Ju()),onClick:d,"aria-label":"Fit to view",children:u.jsx(x2,{})}),u.jsx("div",{className:D(HC())}),u.jsxs("button",{className:D(ex({active:y==="auto"})),onClick:()=>b("auto"),"aria-label":"Auto layout","aria-pressed":y==="auto",children:[u.jsx(y2,{}),"Auto"]}),u.jsx("button",{className:D(ex({active:y==="free"})),onClick:()=>b("free"),"aria-label":"Free layout","aria-pressed":y==="free",children:"Free"})]}),le&&u.jsx(QE,{workflows:le.workflows,bounds:se,zoom:n,panX:r,panY:i,canvasWidth:de.width,canvasHeight:de.height,onNavigate:rl}),ie&&u.jsxs("div",{className:D(YC()),children:[u.jsx("span",{className:D(qC()),children:""}),u.jsx("span",{children:ie})]}),u.jsxs("svg",{ref:ge,className:D(BC()),onWheel:xn,onMouseDown:Bt,onMouseMove:Il,onMouseUp:ua,onMouseLeave:ua,onContextMenu:nt,style:{cursor:tt?"grabbing":"grab"},role:"application","aria-label":"Workflow canvas. Use mouse to pan and scroll to zoom.",children:[u.jsx("rect",{width:"100%",height:"100%",fill:"transparent",style:{cursor:"inherit"}}),u.jsxs("g",{transform:`translate(${r+(ge.current?.clientWidth||800)/2-Ae*n}, ${i+(ge.current?.clientHeight||600)/2-we*n}) scale(${n})`,children:[Be.map(ue=>u.jsx(dC,{name:ue.name,x:ue.x,y:ue.y,width:ue.width,height:ue.height,isMain:ue.isMain,zoom:n,onDrag:(Se,qe)=>{const Fe=Te.getState().workflowPositions[ue.name]||{x:0,y:0};m(ue.name,Fe.x+Se,Fe.y+qe)}},ue.name)),je.map((ue,Se)=>u.jsx(fb,{fromNodeId:ue.from,toNodeId:ue.to,fromPort:ue.fromPort,toPort:ue.toPort,color:ue.color,label:ue.label,isSelected:j?.fromNodeId===ue.from&&j?.toNodeId===ue.to,onSelect:()=>V({fromNodeId:ue.from,toNodeId:ue.to,label:ue.label}),onDelete:()=>{const qe=ys(ue.from);oe(Rl(ue.from),Rl(ue.to),ue.label,qe),V(null)}},`${ue.from}-${ue.to}-${Se}`)),Me.map(ue=>u.jsx(SE,{workflowName:ue.workflowName,workflowInterface:ue.workflowInterface,variables:ue.variables,x:ue.x,y:ue.y,zoom:n,onDrag:y==="free"?(Se,qe)=>{const Fe=h[ue.workflowName]||{x:0,y:0};m(ue.workflowName,Fe.x+Se,Fe.y+qe)}:void 0},`start-${ue.workflowName}`)),ae.map(ue=>{const Se=`${ue.workflowName}::${ue.node.id}`;return u.jsx(fE,{node:ue.node,x:ue.x,y:ue.y,isOrphan:ue.isOrphan,zoom:n,workflowName:ue.workflowName,onDrag:y==="free"?(qe,Fe)=>{const it=g[Se]||{x:0,y:0};p(Se,it.x+qe,it.y+Fe)}:void 0},Se)}),u.jsx(kE,{}),u.jsx($E,{}),u.jsx(GE,{})]})]}),!ie&&!le&&u.jsxs("div",{className:D($C()),children:[u.jsx("h2",{className:D(GC()),children:"No Workflow"}),u.jsx("p",{className:D(XC()),children:"Edit YAML in the editor or load an example"})]}),v&&(()=>{const ue=Rl(v.nodeId);return u.jsx(hC,{x:v.x,y:v.y,nodeId:ue,hasReporters:v.hasReporters,reportersExpanded:v.reportersExpanded,isOrphan:v.isOrphan,onExpandReporters:()=>{if(E(v.nodeId,!0),le){const Se=tx(le.workflows,v.nodeId);if(Se){const qe=wf(Se.node.inputs,Se.workflowName);qe.length>0&&T(qe,!0)}}},onCollapseReporters:()=>{if(E(v.nodeId,!1),le){const Se=tx(le.workflows,v.nodeId);if(Se){const qe=wf(Se.node.inputs,Se.workflowName);qe.length>0&&T(qe,!1)}}},onDelete:()=>{L(ue),ne()},onDuplicate:()=>G(ue),onClose:w,selectedNodeIds:Z,onExtractToWorkflow:()=>{const Se=Z.length>0?Z:[v.nodeId],qe=Se.map(Rl);if(qe.length<2)return;let Fe=ys(Se[0])||"main";const it=kx(ce,qe,Fe);if(!it.isValid){Y({title:"Cannot Extract",message:it.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}});return}const jn=I1(ce,qe);U(it.orderedNodeIds,Fe,jn.suggestedInputs,jn.suggestedOutputs)}})})(),W&&u.jsx(mC,{x:W.x,y:W.y,workflowName:W.workflowName,onCreateWorkflow:I,onDeleteWorkflow:ue=>{Y({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${ue}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>A(ue)})},onClose:z}),K&&u.jsx(MC,{x:K.x,y:K.y,opcodes:re,onSelect:fa,onClose:J})]})}const ZC="modulepreload",QC=function(n){return"/static/"+n},nx={},KC=function(r,i,o){let c=Promise.resolve();if(i&&i.length>0){let g=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");c=g(i.map(p=>{if(p=QC(p),p in nx)return;nx[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const N=document.createElement("link");if(N.rel=y?"stylesheet":ZC,y||(N.as="script"),N.crossOrigin="",N.href=p,m&&N.setAttribute("nonce",m),document.head.appendChild(N),y)return new Promise((C,v)=>{N.addEventListener("load",C),N.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return c.then(h=>{for(const m of h||[])m.status==="rejected"&&d(m.reason);return r().catch(d)})};function lx(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,o=Array(r);i<r;i++)o[i]=n[i];return o}function FC(n){if(Array.isArray(n))return n}function JC(n,r,i){return(r=rA(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function PC(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,d,h,m=[],g=!0,p=!1;try{if(d=(i=i.call(n)).next,r!==0)for(;!(g=(o=d.call(i)).done)&&(m.push(o.value),m.length!==r);g=!0);}catch(y){p=!0,c=y}finally{try{if(!g&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(p)throw c}}return m}}function eA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ax(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function rx(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?ax(Object(i),!0).forEach(function(o){JC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ax(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function tA(n,r){if(n==null)return{};var i,o,c=nA(n,r);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);for(o=0;o<d.length;o++)i=d[o],r.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(c[i]=n[i])}return c}function nA(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}function lA(n,r){return FC(n)||PC(n,r)||iA(n,r)||eA()}function aA(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function rA(n){var r=aA(n,"string");return typeof r=="symbol"?r:r+""}function iA(n,r){if(n){if(typeof n=="string")return lx(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?lx(n,r):void 0}}function oA(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function ix(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function ox(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?ix(Object(i),!0).forEach(function(o){oA(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ix(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function sA(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(o){return r.reduceRight(function(c,d){return d(c)},o)}}function fi(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function bs(n){return{}.toString.call(n).includes("Object")}function cA(n){return!Object.keys(n).length}function Ni(n){return typeof n=="function"}function uA(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function fA(n,r){return bs(r)||Ll("changeType"),Object.keys(r).some(function(i){return!uA(n,i)})&&Ll("changeField"),r}function dA(n){Ni(n)||Ll("selectorType")}function hA(n){Ni(n)||bs(n)||Ll("handlerType"),bs(n)&&Object.values(n).some(function(r){return!Ni(r)})&&Ll("handlersType")}function mA(n){n||Ll("initialIsRequired"),bs(n)||Ll("initialType"),cA(n)&&Ll("initialContent")}function pA(n,r){throw new Error(n[r]||n.default)}var gA={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ll=fi(pA)(gA),Zo={changes:fA,selector:dA,handler:hA,initial:mA};function xA(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Zo.initial(n),Zo.handler(r);var i={current:n},o=fi(vA)(i,r),c=fi(bA)(i),d=fi(Zo.changes)(n),h=fi(yA)(i);function m(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return Zo.selector(p),p(i.current)}function g(p){sA(o,c,d,h)(p)}return[m,g]}function yA(n,r){return Ni(r)?r(n.current):r}function bA(n,r){return n.current=ox(ox({},n.current),r),r}function vA(n,r,i){return Ni(r)?r(n.current):Object.keys(i).forEach(function(o){var c;return(c=r[o])===null||c===void 0?void 0:c.call(r,n.current[o])}),i}var wA={create:xA},SA={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function NA(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function jA(n){return{}.toString.call(n).includes("Object")}function EA(n){return n||sx("configIsRequired"),jA(n)||sx("configType"),n.urls?(CA(),{paths:{vs:n.urls.monacoBase}}):n}function CA(){console.warn(xb.deprecation)}function AA(n,r){throw new Error(n[r]||n.default)}var xb={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},sx=NA(AA)(xb),_A={config:EA},OA=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(c){return i.reduceRight(function(d,h){return h(d)},c)}};function yb(n,r){return Object.keys(r).forEach(function(i){r[i]instanceof Object&&n[i]&&Object.assign(r[i],yb(n[i],r[i]))}),rx(rx({},n),r)}var TA={type:"cancelation",msg:"operation is manually canceled"};function Pu(n){var r=!1,i=new Promise(function(o,c){n.then(function(d){return r?c(TA):o(d)}),n.catch(c)});return i.cancel=function(){return r=!0},i}var MA=["monaco"],DA=wA.create({config:SA,isInitialized:!1,resolve:null,reject:null,monaco:null}),bb=lA(DA,2),Oi=bb[0],Ns=bb[1];function kA(n){var r=_A.config(n),i=r.monaco,o=tA(r,MA);Ns(function(c){return{config:yb(c.config,o),monaco:i}})}function RA(){var n=Oi(function(r){var i=r.monaco,o=r.isInitialized,c=r.resolve;return{monaco:i,isInitialized:o,resolve:c}});if(!n.isInitialized){if(Ns({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Pu(ef);if(window.monaco&&window.monaco.editor)return vb(window.monaco),n.resolve(window.monaco),Pu(ef);OA(zA,VA)(BA)}return Pu(ef)}function zA(n){return document.body.appendChild(n)}function LA(n){var r=document.createElement("script");return n&&(r.src=n),r}function VA(n){var r=Oi(function(o){var c=o.config,d=o.reject;return{config:c,reject:d}}),i=LA("".concat(r.config.paths.vs,"/loader.js"));return i.onload=function(){return n()},i.onerror=r.reject,i}function BA(){var n=Oi(function(i){var o=i.config,c=i.resolve,d=i.reject;return{config:o,resolve:c,reject:d}}),r=window.require;r.config(n.config),r(["vs/editor/editor.main"],function(i){var o=i.m||i;vb(o),n.resolve(o)},function(i){n.reject(i)})}function vb(n){Oi().monaco||Ns({monaco:n})}function IA(){return Oi(function(n){var r=n.monaco;return r})}var ef=new Promise(function(n,r){return Ns({resolve:n,reject:r})}),wb={config:kA,init:RA,__getMonacoInstance:IA},HA={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},tf=HA,UA={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},YA=UA;function qA({children:n}){return Dn.createElement("div",{style:YA.container},n)}var $A=qA,GA=$A;function XA({width:n,height:r,isEditorReady:i,loading:o,_ref:c,className:d,wrapperProps:h}){return Dn.createElement("section",{style:{...tf.wrapper,width:n,height:r},...h},!i&&Dn.createElement(GA,null,o),Dn.createElement("div",{ref:c,style:{...tf.fullWidth,...!i&&tf.hide},className:d}))}var WA=XA,Sb=k.memo(WA);function ZA(n){k.useEffect(n,[])}var Nb=ZA;function QA(n,r,i=!0){let o=k.useRef(!0);k.useEffect(o.current||!i?()=>{o.current=!1}:n,r)}var nn=QA;function pi(){}function lr(n,r,i,o){return KA(n,o)||FA(n,r,i,o)}function KA(n,r){return n.editor.getModel(jb(n,r))}function FA(n,r,i,o){return n.editor.createModel(r,i,o?jb(n,o):void 0)}function jb(n,r){return n.Uri.parse(r)}function JA({original:n,modified:r,language:i,originalLanguage:o,modifiedLanguage:c,originalModelPath:d,modifiedModelPath:h,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:g=!1,theme:p="light",loading:y="Loading...",options:b={},height:N="100%",width:C="100%",className:v,wrapperProps:w={},beforeMount:E=pi,onMount:T=pi}){let[_,W]=k.useState(!1),[B,z]=k.useState(!0),I=k.useRef(null),Y=k.useRef(null),U=k.useRef(null),K=k.useRef(T),J=k.useRef(E),fe=k.useRef(!1);Nb(()=>{let oe=wb.init();return oe.then(L=>(Y.current=L)&&z(!1)).catch(L=>L?.type!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>I.current?ce():oe.cancel()}),nn(()=>{if(I.current&&Y.current){let oe=I.current.getOriginalEditor(),L=lr(Y.current,n||"",o||i||"text",d||"");L!==oe.getModel()&&oe.setModel(L)}},[d],_),nn(()=>{if(I.current&&Y.current){let oe=I.current.getModifiedEditor(),L=lr(Y.current,r||"",c||i||"text",h||"");L!==oe.getModel()&&oe.setModel(L)}},[h],_),nn(()=>{let oe=I.current.getModifiedEditor();oe.getOption(Y.current.editor.EditorOption.readOnly)?oe.setValue(r||""):r!==oe.getValue()&&(oe.executeEdits("",[{range:oe.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),oe.pushUndoStop())},[r],_),nn(()=>{I.current?.getModel()?.original.setValue(n||"")},[n],_),nn(()=>{let{original:oe,modified:L}=I.current.getModel();Y.current.editor.setModelLanguage(oe,o||i||"text"),Y.current.editor.setModelLanguage(L,c||i||"text")},[i,o,c],_),nn(()=>{Y.current?.editor.setTheme(p)},[p],_),nn(()=>{I.current?.updateOptions(b)},[b],_);let le=k.useCallback(()=>{if(!Y.current)return;J.current(Y.current);let oe=lr(Y.current,n||"",o||i||"text",d||""),L=lr(Y.current,r||"",c||i||"text",h||"");I.current?.setModel({original:oe,modified:L})},[i,r,c,n,o,d,h]),ie=k.useCallback(()=>{!fe.current&&U.current&&(I.current=Y.current.editor.createDiffEditor(U.current,{automaticLayout:!0,...b}),le(),Y.current?.editor.setTheme(p),W(!0),fe.current=!0)},[b,p,le]);k.useEffect(()=>{_&&K.current(I.current,Y.current)},[_]),k.useEffect(()=>{!B&&!_&&ie()},[B,_,ie]);function ce(){let oe=I.current?.getModel();m||oe?.original?.dispose(),g||oe?.modified?.dispose(),I.current?.dispose()}return Dn.createElement(Sb,{width:C,height:N,isEditorReady:_,loading:y,_ref:U,className:v,wrapperProps:w})}var PA=JA;k.memo(PA);function e_(n){let r=k.useRef();return k.useEffect(()=>{r.current=n},[n]),r.current}var t_=e_,Qo=new Map;function n_({defaultValue:n,defaultLanguage:r,defaultPath:i,value:o,language:c,path:d,theme:h="light",line:m,loading:g="Loading...",options:p={},overrideServices:y={},saveViewState:b=!0,keepCurrentModel:N=!1,width:C="100%",height:v="100%",className:w,wrapperProps:E={},beforeMount:T=pi,onMount:_=pi,onChange:W,onValidate:B=pi}){let[z,I]=k.useState(!1),[Y,U]=k.useState(!0),K=k.useRef(null),J=k.useRef(null),fe=k.useRef(null),le=k.useRef(_),ie=k.useRef(T),ce=k.useRef(),oe=k.useRef(o),L=t_(d),G=k.useRef(!1),A=k.useRef(!1);Nb(()=>{let j=wb.init();return j.then(V=>(K.current=V)&&U(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>J.current?re():j.cancel()}),nn(()=>{let j=lr(K.current,n||o||"",r||c||"",d||i||"");j!==J.current?.getModel()&&(b&&Qo.set(L,J.current?.saveViewState()),J.current?.setModel(j),b&&J.current?.restoreViewState(Qo.get(d)))},[d],z),nn(()=>{J.current?.updateOptions(p)},[p],z),nn(()=>{!J.current||o===void 0||(J.current.getOption(K.current.editor.EditorOption.readOnly)?J.current.setValue(o):o!==J.current.getValue()&&(A.current=!0,J.current.executeEdits("",[{range:J.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),J.current.pushUndoStop(),A.current=!1))},[o],z),nn(()=>{let j=J.current?.getModel();j&&c&&K.current?.editor.setModelLanguage(j,c)},[c],z),nn(()=>{m!==void 0&&J.current?.revealLine(m)},[m],z),nn(()=>{K.current?.editor.setTheme(h)},[h],z);let ee=k.useCallback(()=>{if(!(!fe.current||!K.current)&&!G.current){ie.current(K.current);let j=d||i,V=lr(K.current,o||n||"",r||c||"",j||"");J.current=K.current?.editor.create(fe.current,{model:V,automaticLayout:!0,...p},y),b&&J.current.restoreViewState(Qo.get(j)),K.current.editor.setTheme(h),m!==void 0&&J.current.revealLine(m),I(!0),G.current=!0}},[n,r,i,o,c,d,p,y,b,h,m]);k.useEffect(()=>{z&&le.current(J.current,K.current)},[z]),k.useEffect(()=>{!Y&&!z&&ee()},[Y,z,ee]),oe.current=o,k.useEffect(()=>{z&&W&&(ce.current?.dispose(),ce.current=J.current?.onDidChangeModelContent(j=>{A.current||W(J.current.getValue(),j)}))},[z,W]),k.useEffect(()=>{if(z){let j=K.current.editor.onDidChangeMarkers(V=>{let Z=J.current.getModel()?.uri;if(Z&&V.find(ne=>ne.path===Z.path)){let ne=K.current.editor.getModelMarkers({resource:Z});B?.(ne)}});return()=>{j?.dispose()}}return()=>{}},[z,B]);function re(){ce.current?.dispose(),N?b&&Qo.set(d,J.current.saveViewState()):J.current.getModel()?.dispose(),J.current.dispose()}return Dn.createElement(Sb,{width:C,height:v,isEditorReady:z,loading:g,_ref:fe,className:w,wrapperProps:E})}var l_=n_,a_=k.memo(l_),r_=a_;const Eb=O("flex flex-col h-full"),Cb=O("flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-surface-2"),Ab=O("text-sm font-medium text-text-secondary"),i_=O("text-xs text-accent-blue animate-pulse"),_b=O("flex-1 overflow-hidden"),o_=k.lazy(()=>KC(()=>import("./LiteEditor-h1ElbRVj.js"),[]).then(n=>({default:n.LiteEditor})));function s_(){return u.jsxs("div",{className:D(Eb()),children:[u.jsx("div",{className:Cb(),children:u.jsx("span",{className:Ab(),children:"Editor"})}),u.jsx("div",{className:D(_b(),"flex items-center justify-center"),children:u.jsx("span",{className:"text-text-muted text-sm",children:"Loading editor..."})})]})}function c_({className:n,lite:r=!1}){const{source:i,setSource:o,isParsing:c}=rt(),{theme:d}=dy();if(r)return u.jsx(k.Suspense,{fallback:u.jsx(s_,{}),children:u.jsx(o_,{className:n,value:i,onChange:o,isParsing:c})});const h=k.useRef(null),m=k.useRef(null);k.useEffect(()=>{const p=y=>{const b=h.current;if(b){const N=y.detail.line;b.revealLineInCenter(N),b.setPosition({lineNumber:N,column:1}),b.focus(),b.deltaDecorations([],[{range:{startLineNumber:N,startColumn:1,endLineNumber:N,endColumn:1},options:{isWholeLine:!0,className:"highlighted-line",glyphMarginClassName:"highlighted-glyph"}}])}};return window.addEventListener("lexflow:goto-line",p),()=>{window.removeEventListener("lexflow:goto-line",p)}},[]),k.useEffect(()=>{if(m.current&&h.current){const p=m.current,y=d==="light"?"lexflow-light":"lexflow-dark";p.editor.setTheme(y)}},[d]);const g=(p,y)=>{h.current=p,m.current=y,y.editor.defineTheme("lexflow-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1e1e1e","editor.lineHighlightBackground":"#2d2d2d"}}),y.editor.defineTheme("lexflow-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#fafafa","editor.lineHighlightBackground":"#f0f0f0"}});const b=d==="light"?"lexflow-light":"lexflow-dark";y.editor.setTheme(b)};return u.jsxs("div",{className:D(Eb(),n),children:[u.jsxs("div",{className:Cb(),children:[u.jsx("span",{className:Ab(),children:"Editor"}),c&&u.jsx("span",{className:i_(),children:"Parsing..."})]}),u.jsx("div",{className:_b(),children:u.jsx(r_,{height:"100%",language:"yaml",theme:d==="light"?"lexflow-light":"lexflow-dark",value:i,onChange:p=>o(p||""),onMount:g,options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0}})})]})}const u_=O("absolute inset-0 flex items-center justify-center bg-black/60 z-[100] backdrop-blur-sm"),f_=O("bg-surface-1 border border-border-default rounded-sm p-6 min-w-[300px] max-w-[400px] shadow-xl"),nf=O("block text-sm text-text-primary mb-4 leading-relaxed"),d_=O("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 transition-colors focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue/20"),h_=O("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 cursor-pointer transition-colors focus:outline-none focus:border-accent-blue"),lf=O("flex gap-3 justify-end"),af=O("px-5 py-2.5 bg-accent-blue border-none rounded-sm text-surface-0 font-medium text-sm cursor-pointer transition-all hover:brightness-110 focus:outline-none focus:ring-1 focus:ring-accent-blue/30"),m_=O("px-5 py-2.5 bg-transparent border border-border-default rounded-sm text-text-secondary font-medium text-sm cursor-pointer transition-colors hover:bg-surface-2 hover:text-text-primary"),p_=O("flex justify-center"),g_=O("px-8 py-3 bg-accent-blue border-none rounded-sm text-white font-semibold text-base cursor-pointer transition-all shadow-lg hover:brightness-110 hover:-translate-y-px focus:outline-none focus:ring-1 focus:ring-accent-blue/30");function x_({prompt:n,onSubmit:r}){const[i,o]=k.useState(""),[c,d]=k.useState(n.options?.[0]||""),h=k.useRef(null);k.useEffect(()=>{n.type==="input"&&h.current&&h.current.focus()},[n.type]),k.useEffect(()=>{o(""),n.options?.length&&d(n.options[0])},[n]);const m=b=>{b.preventDefault(),r(i)},g=b=>{b.preventDefault(),r(c)},p=b=>{r(b)},y=b=>{b.key==="Escape"&&n.type==="confirm"&&r(!1)};return u.jsx("div",{className:D(u_()),onKeyDown:y,role:"presentation",children:u.jsxs("div",{className:D(f_()),role:"dialog","aria-modal":"true","aria-labelledby":"prompt-label",children:[n.type==="input"&&u.jsxs("form",{onSubmit:m,children:[u.jsx("label",{id:"prompt-label",htmlFor:"prompt-input",className:D(nf()),children:n.prompt||"Enter a value:"}),u.jsx("input",{ref:h,id:"prompt-input",type:"text",value:i,onChange:b=>o(b.target.value),className:D(d_()),placeholder:"Type here..."}),u.jsx("div",{className:D(lf()),children:u.jsx("button",{type:"submit",className:D(af()),children:"Submit"})})]}),n.type==="select"&&u.jsxs("form",{onSubmit:g,children:[u.jsx("label",{id:"prompt-label",htmlFor:"prompt-select",className:D(nf()),children:n.prompt||"Select an option:"}),u.jsx("select",{id:"prompt-select",value:c,onChange:b=>d(b.target.value),className:D(h_()),children:n.options?.map(b=>u.jsx("option",{value:b,children:b},b))}),u.jsx("div",{className:D(lf()),children:u.jsx("button",{type:"submit",className:D(af()),children:"Select"})})]}),n.type==="confirm"&&u.jsxs("div",{children:[u.jsx("p",{id:"prompt-label",className:D(nf()),children:n.message||n.prompt||"Are you sure?"}),u.jsxs("div",{className:D(lf()),children:[u.jsx("button",{className:D(m_()),onClick:()=>p(!1),children:"No"}),u.jsx("button",{className:D(af()),onClick:()=>p(!0),autoFocus:!0,children:"Yes"})]})]}),n.type==="button"&&u.jsx("div",{className:D(p_()),children:u.jsx("button",{id:"prompt-label",className:D(g_()),onClick:()=>r(!0),autoFocus:!0,children:n.label||"Click"})})]})})}const y_=O("flex flex-col relative min-h-[100px] max-h-[600px]"),b_=O("absolute top-0 left-0 right-0 h-1.5 cursor-ns-resize bg-transparent z-10 transition-colors hover:bg-accent-blue/50",{variants:{isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{isResizing:!1}}),v_=O("flex items-center justify-between px-3 py-1.5 border-b border-border-subtle bg-surface-1"),w_=O("flex items-center gap-2"),S_=O("text-sm font-medium text-text-secondary"),N_=O("w-1.5 h-1.5 rounded-full",{variants:{status:{idle:"bg-text-muted",running:"bg-accent-green animate-pulse",error:"bg-accent-red"}},defaultVariants:{status:"idle"}}),j_=O("flex items-center gap-1"),cx=O("w-px h-5 bg-border-subtle mx-1"),ux=O("h-7 px-2.5 bg-transparent border border-border-subtle rounded-sm text-text-muted text-xs font-medium cursor-pointer transition-colors hover:text-text-primary hover:border-text-muted",{variants:{active:{true:"bg-surface-3 text-text-primary border-border-default",false:""}},defaultVariants:{active:!1}}),E_=O("h-7 px-3 flex items-center gap-1.5 bg-accent-green border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110 disabled:opacity-60 disabled:cursor-not-allowed"),C_=O("h-7 px-3 flex items-center gap-1.5 bg-accent-red border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110"),fx=O("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),A_=O("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),__=O("flex items-center gap-3 px-4 py-2 border-b border-border-subtle shrink-0"),O_=O("text-xs text-text-muted"),rf=O("flex items-center gap-1.5"),T_=O("text-xs text-text-secondary"),of=O("px-2.5 py-1.5 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm w-30 focus:outline-none focus:border-accent-blue"),M_=O("flex items-center gap-2.5 px-4 py-2 border-b border-border-subtle shrink-0"),D_=O("flex-1 h-1.5 bg-surface-3 rounded-none overflow-hidden"),k_=O("h-full bg-accent-blue transition-[width] duration-200"),R_=O("text-xs text-text-muted whitespace-nowrap"),z_=O("flex-1 flex overflow-hidden"),dx=O("flex-1 flex flex-col overflow-hidden min-w-[200px]"),hx=O("flex items-center px-4 py-1.5 bg-surface-2 border-b border-border-subtle text-xs font-medium text-text-muted uppercase tracking-wide"),mx=O("flex-1 p-4 overflow-auto"),L_=O("w-px bg-border-subtle cursor-col-resize shrink-0 hover:bg-accent-blue"),V_=O("flex-1 flex items-center justify-center text-text-muted text-sm"),px=O("text-text-muted text-sm italic"),B_=O("font-mono text-sm text-text-secondary whitespace-pre-wrap break-words"),I_=O("text-accent-red text-sm"),H_=O("flex gap-2 mt-2 pt-2 border-t border-border-subtle"),U_=O("text-xs text-text-muted"),Y_=O("font-mono text-sm text-accent-green"),q_=O("text-accent-blue animate-blink"),$_=O("absolute bottom-3 right-3 flex flex-col gap-2 max-w-[300px] z-50"),G_=O("flex items-center justify-between gap-3 px-4 py-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-primary shadow-lg animate-slide-in-right",{variants:{variant:{info:"border-l-[3px] border-l-accent-blue",success:"border-l-[3px] border-l-accent-green",warning:"border-l-[3px] border-l-accent-amber",error:"border-l-[3px] border-l-accent-red"}},defaultVariants:{variant:"info"}}),X_=O("bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary"),W_=O("p-3 bg-surface-2 rounded-sm text-sm text-text-primary"),Z_=O("p-2 text-sm text-text-primary [&_h1]:text-xl [&_h1]:mb-2 [&_h2]:text-lg [&_h2]:mb-1.5 [&_h3]:text-base [&_h3]:mb-1 [&_p]:mb-2 [&_p]:leading-relaxed [&_code]:bg-surface-3 [&_code]:px-1 [&_code]:rounded [&_code]:font-mono [&_code]:text-[0.85em] [&_strong]:text-text-primary"),Q_=O("overflow-x-auto"),K_=O("w-full border-collapse text-sm"),F_=O("px-3 py-2 text-left border-b border-border-subtle bg-surface-2 text-text-secondary font-medium"),J_=O("px-3 py-2 text-left border-b border-border-subtle text-text-primary"),P_=O("max-w-full"),eO=O("max-w-full h-auto rounded-sm"),tO=100,nO=600,lO=250;function aO({className:n}){const{source:r,tree:i}=rt(),{isExecuting:o,executionOutput:c,executionResult:d,executionError:h,workflowInputs:m,pendingPrompt:g,renderedContent:p,alerts:y,progress:b,removeAlert:N,clearWorkflowInputs:C}=gi(),{toggleExecutionPanel:v}=Te(),{execute:w,cancel:E,respondToPrompt:T}=Uj(),_=k.useRef(null),W=k.useRef(null),[B,z]=k.useState(lO),[I,Y]=k.useState(!1),[U,K]=k.useState(!0),[J,fe]=k.useState(!0),le=i?.interface?.inputs||[],ie=JSON.stringify(le.map(G=>G.name));k.useEffect(()=>{C()},[ie,C]),k.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[c]),k.useEffect(()=>{if(y.length>0){const G=setTimeout(()=>{N(y[0].id)},5e3);return()=>clearTimeout(G)}},[y,N]);const ce=k.useCallback(G=>{G.preventDefault(),Y(!0)},[]);k.useEffect(()=>{if(!I)return;const G=ee=>{if(!W.current)return;const re=W.current.parentElement;if(!re)return;const V=re.getBoundingClientRect().bottom-ee.clientY;z(Math.min(nO,Math.max(tO,V)))},A=()=>{Y(!1)};return document.addEventListener("mousemove",G),document.addEventListener("mouseup",A),()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",A)}},[I]);const oe=()=>{const G={};for(const A of le)A.name in m&&(G[A.name]=m[A.name]);w(r,Object.keys(G).length>0?G:void 0)},L=()=>{E()};return u.jsxs("div",{ref:W,className:D(y_(),n),style:{height:`${B}px`},children:[u.jsx("div",{className:b_({isResizing:I}),onMouseDown:ce}),u.jsxs("div",{className:v_(),children:[u.jsxs("div",{className:w_(),children:[u.jsx("span",{className:S_(),children:"Execution"}),u.jsx("span",{className:N_({status:o?"running":h?"error":"idle"})})]}),u.jsxs("div",{className:j_(),children:[u.jsx("button",{className:ux({active:U}),onClick:()=>K(!U),title:"Toggle Preview",children:"Preview"}),u.jsx("button",{className:ux({active:J}),onClick:()=>fe(!J),title:"Toggle Console",children:"Console"}),u.jsx("div",{className:cx()}),o?u.jsxs("button",{className:C_(),onClick:L,children:[u.jsx(v2,{}),"Stop"]}):u.jsxs("button",{className:E_(),onClick:oe,children:[u.jsx(b2,{}),"Run"]}),u.jsx("button",{className:fx(),title:"Step forward (coming soon)",disabled:!0,children:u.jsx(w2,{})}),u.jsx("button",{className:fx(),onClick:()=>gi.getState().clearExecution(),title:"Clear output",children:u.jsx(S2,{})}),u.jsx("div",{className:cx()}),u.jsx("button",{className:A_(),onClick:v,title:"Close panel",children:u.jsx(N2,{})})]})]}),le.length>0&&u.jsxs("div",{className:__(),children:[u.jsx("span",{className:O_(),children:"Inputs:"}),le.map(G=>u.jsx(rO,{input:G},G.name))]}),b&&u.jsxs("div",{className:M_(),children:[u.jsx("div",{className:D_(),children:u.jsx("div",{className:k_(),style:{width:`${b.value/b.max*100}%`}})}),b.label&&u.jsx("span",{className:R_(),children:b.label})]}),u.jsxs("div",{className:z_(),children:[U&&u.jsxs("div",{className:dx(),children:[u.jsx("div",{className:hx(),children:u.jsx("span",{children:"Preview"})}),u.jsx("div",{className:mx(),children:p.length>0?p.map((G,A)=>u.jsx(iO,{item:G},A)):u.jsx("div",{className:px(),children:"No preview content"})})]}),U&&J&&u.jsx("div",{className:L_()}),J&&u.jsxs("div",{className:dx(),children:[u.jsx("div",{className:hx(),children:u.jsx("span",{children:"Console"})}),u.jsx("div",{className:mx(),children:h?u.jsx("div",{className:I_(),children:h}):u.jsxs(u.Fragment,{children:[c&&u.jsxs("pre",{ref:_,className:B_(),children:[c,o&&u.jsx("span",{className:q_(),children:"|"})]}),d!==null&&!o&&u.jsxs("div",{className:H_(),children:[u.jsx("span",{className:U_(),children:"Result:"}),u.jsx("code",{className:Y_(),children:JSON.stringify(d,null,2)})]}),!c&&!d&&!o&&u.jsx("div",{className:px(),children:'Click "Run" to execute the workflow'})]})})]}),!U&&!J&&u.jsx("div",{className:V_(),children:"Toggle Preview or Console to view execution output"})]}),y.length>0&&u.jsx("div",{className:$_(),children:y.map(G=>u.jsx(sO,{alert:G,onDismiss:()=>N(G.id)},G.id))}),g&&u.jsx(x_,{prompt:g,onSubmit:T})]})}function rO({input:n}){const{workflowInputs:r,setWorkflowInput:i}=gi(),o=r[n.name]??"",c=u.jsxs("label",{className:T_(),children:[n.name,n.required&&u.jsx("span",{className:"text-accent-red",children:"*"}),":"]});return n.type==="boolean"?u.jsxs("div",{className:rf(),children:[c,u.jsxs("select",{value:o===""?"":String(o),onChange:d=>{const h=d.target.value;h===""?i(n.name,""):i(n.name,h==="true")},className:of(),children:[u.jsx("option",{value:"",children:"--"}),u.jsx("option",{value:"true",children:"true"}),u.jsx("option",{value:"false",children:"false"})]})]}):n.type==="number"?u.jsxs("div",{className:rf(),children:[c,u.jsx("input",{type:"number",value:String(o),onChange:d=>{const h=d.target.value;if(h==="")i(n.name,"");else{const m=Number(h);i(n.name,isNaN(m)?h:m)}},placeholder:`Enter ${n.name}`,className:of()})]}):u.jsxs("div",{className:rf(),children:[c,u.jsx("input",{type:"text",value:String(o),onChange:d=>{const h=d.target.value;try{i(n.name,JSON.parse(h))}catch{i(n.name,h)}},placeholder:`Enter ${n.name}`,className:of()})]})}function iO({item:n}){switch(n.type){case"html":return u.jsx("div",{className:W_(),dangerouslySetInnerHTML:{__html:n.content}});case"markdown":return u.jsx("div",{className:Z_(),children:u.jsx(oO,{content:n.content})});case"table":const r=n.content;if(!r.length)return null;const i=Object.keys(r[0]);return u.jsx("div",{className:Q_(),children:u.jsxs("table",{className:K_(),children:[u.jsx("thead",{children:u.jsx("tr",{children:i.map(c=>u.jsx("th",{className:F_(),children:c},c))})}),u.jsx("tbody",{children:r.map((c,d)=>u.jsx("tr",{className:"hover:bg-surface-2",children:i.map(h=>u.jsx("td",{className:J_(),children:String(c[h]??"")},h))},d))})]})});case"image":const o=n.content;return u.jsx("div",{className:P_(),children:u.jsx("img",{src:o.src,alt:o.alt,className:eO()})});default:return null}}function oO({content:n}){const r=n.split(`
`),i=[];for(let o=0;o<r.length;o++){const c=r[o];if(c.startsWith("### "))i.push(u.jsx("h3",{children:c.slice(4)},o));else if(c.startsWith("## "))i.push(u.jsx("h2",{children:c.slice(3)},o));else if(c.startsWith("# "))i.push(u.jsx("h1",{children:c.slice(2)},o));else if(c.trim()){const d=c.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,"<code>$1</code>");i.push(u.jsx("p",{dangerouslySetInnerHTML:{__html:d}},o))}else i.push(u.jsx("br",{},o))}return u.jsx(u.Fragment,{children:i})}function sO({alert:n,onDismiss:r}){return u.jsxs("div",{className:G_({variant:n.variant}),children:[u.jsx("span",{children:n.message}),u.jsx("button",{className:X_(),onClick:r,children:""})]})}const ji=O("flex flex-col h-full bg-surface-1"),Ei=O("flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-surface-2"),Ci=O("text-sm font-semibold text-text-primary"),Ai=O("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-3"),Gf=O("flex-1 overflow-y-auto p-4"),cO=O("flex items-center gap-1.5 px-3 py-2 mb-4 bg-surface-2 border border-border-subtle rounded-sm text-accent-blue text-sm cursor-pointer transition-colors w-full hover:bg-surface-3 hover:border-accent-blue"),Ob=O("flex items-center justify-center h-full text-text-muted"),Xf=O("flex gap-3 mb-5 p-3 bg-surface-2 rounded-sm"),Wf=O("w-1 rounded-sm shrink-0"),Zf=O("flex-1"),Qf=O("text-[0.7rem] uppercase tracking-wide text-text-muted"),Kf=O("text-base font-semibold text-text-primary my-1"),Tb=O("text-xs text-text-muted font-mono bg-transparent border-none cursor-pointer px-1 py-0.5 -mx-1 rounded-sm transition-colors hover:bg-border-subtle hover:text-text-primary"),Mb=O("text-sm text-text-secondary leading-relaxed p-3 bg-surface-2 rounded-sm mb-4"),Ff=O("mb-3"),Jf=O("block text-xs font-medium text-text-secondary mb-1 uppercase tracking-wide"),uO=O("text-[0.65rem] text-text-muted ml-1.5 px-1.5 py-0.5 bg-border-subtle rounded-sm"),sa=O("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm font-mono focus:outline-none focus:border-accent-blue read-only:opacity-70 read-only:cursor-not-allowed"),Sf=O("flex gap-2 px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-sm",{variants:{editable:{true:"cursor-pointer transition-colors hover:border-accent-blue hover:bg-surface-2",false:""}},defaultVariants:{editable:!1}}),fO=O("px-1.5 py-0.5 bg-border-subtle rounded-sm text-[0.7rem] text-text-muted font-medium shrink-0"),Db=O("text-text-primary font-mono overflow-hidden text-ellipsis whitespace-nowrap"),dO=O("text-[0.65rem] text-text-muted ml-auto opacity-0 transition-opacity group-hover:opacity-100"),di=O("w-full px-3 py-2 bg-surface-3 border-2 border-accent-blue rounded-sm text-text-primary text-sm font-mono focus:outline-none"),ln=O("mt-5"),Nn=O("text-xs font-semibold text-text-secondary mb-2.5 uppercase tracking-wide"),Vl=O("text-text-muted italic text-sm"),hO=O("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),mO=O("font-medium text-text-primary text-sm"),pO=O("text-text-muted text-xs flex-1"),Nf=O("w-5 h-5 flex items-center justify-center bg-transparent border border-accent-red rounded-sm text-accent-red cursor-pointer text-sm font-bold opacity-60 transition-opacity hover:opacity-100 hover:bg-accent-red/10"),jf=O("w-full px-3 py-2 mt-2 bg-transparent border border-dashed border-border-subtle rounded-sm text-text-secondary text-sm cursor-pointer transition-colors hover:border-accent-blue hover:text-accent-blue hover:bg-accent-blue/5"),kb=O("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),Rb=O("flex-1 font-medium text-text-primary text-sm font-mono"),zb=O("flex flex-wrap gap-1.5"),Lb=O("flex items-center gap-1 px-2 py-1 bg-surface-2 rounded-sm text-xs"),Vb=O("text-text-primary font-medium"),Bb=O("text-text-muted"),Ib=O("text-text-muted text-[0.7rem]"),Hb=O("flex gap-2 px-4 py-3 border-t border-border-subtle"),Mn=O("flex-1 px-4 py-2 bg-surface-2 border border-border-subtle rounded-sm text-text-primary text-sm cursor-pointer transition-colors hover:bg-surface-3 hover:border-accent-blue disabled:opacity-50 disabled:cursor-not-allowed"),Ub=O("flex-1 px-4 py-2 bg-transparent border border-accent-red rounded-sm text-accent-red text-sm cursor-pointer transition-colors hover:bg-accent-red/10 disabled:opacity-50 disabled:cursor-not-allowed"),Yb=O("w-full px-4 py-2 text-sm bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),gx=["string","number","boolean","list","dict","any"];function gO({workflowName:n,onClose:r}){const{tree:i,addVariable:o,updateVariable:c,deleteVariable:d,updateWorkflowInterface:h,deleteWorkflow:m}=rt(),{selectStartNode:g}=ll(),p=i?.workflows.find(se=>se.name===n),[y,b]=k.useState(""),[N,C]=k.useState(""),[v,w]=k.useState(null),[E,T]=k.useState(""),[_,W]=k.useState(""),[B,z]=k.useState(""),[I,Y]=k.useState("string"),[U,K]=k.useState(!1),[J,fe]=k.useState(null),[le,ie]=k.useState(""),[ce,oe]=k.useState("string"),[L,G]=k.useState(!1),[A,ee]=k.useState("");if(!p)return u.jsxs("div",{className:ji(),children:[u.jsxs("div",{className:Ei(),children:[u.jsx("span",{className:Ci(),children:"Start Node"}),u.jsx("button",{className:Ai(),onClick:r,children:""})]}),u.jsx("div",{className:Ob(),children:u.jsx("p",{children:"Workflow not found"})})]});const re=()=>{g(null),r()},j=()=>{if(!y.trim())return;const se=yx(N);o(n,y.trim(),se)&&(b(""),C(""))},V=(se,Ae)=>{w(se),T(se),W(xx(Ae))},Z=()=>{if(!v||!E.trim())return;const se=yx(_);c(n,v,E.trim(),se)&&(w(null),T(""),W(""))},ne=()=>{w(null),T(""),W("")},ye=se=>{Te.getState().showConfirmDialog({title:"Delete Variable",message:`Delete variable "$${se}"?`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>d(n,se)})},ge=()=>{Te.getState().showConfirmDialog({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${n}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{m(n),re()}})},de=()=>{const se=B.trim();if(!se||p.interface.inputs.some(we=>we.name===se))return;const Ae=[...p.interface.inputs,{name:se,type:I,required:U}];h(n,Ae,p.interface.outputs)&&(z(""),Y("string"),K(!1))},$e=se=>{const Ae=p.interface.inputs.filter(we=>we.name!==se);h(n,Ae,p.interface.outputs)},ae=se=>{fe(se.name),ie(se.name),oe(se.type),G(se.required)},je=()=>{if(!J||!le.trim())return;const se=p.interface.inputs.map(Ae=>Ae.name===J?{name:le.trim(),type:ce,required:L}:Ae);h(n,se,p.interface.outputs)&&fe(null)},Be=()=>{fe(null)},Me=()=>{if(!A.trim())return;const se=[...p.interface.outputs,A.trim()];h(n,p.interface.inputs,se)&&ee("")},Ye=se=>{const Ae=p.interface.outputs.filter(we=>we!==se);h(n,p.interface.inputs,Ae)},gt=Object.entries(p.variables);return u.jsxs("div",{className:ji(),children:[u.jsxs("div",{className:Ei(),children:[u.jsx("span",{className:Ci(),children:"Start Node"}),u.jsx("button",{className:Ai(),onClick:re,children:""})]}),u.jsxs("div",{className:Gf(),children:[u.jsxs("div",{className:Xf(),children:[u.jsx("div",{className:Wf(),style:{backgroundColor:"#22C55E"}}),u.jsxs("div",{className:Zf(),children:[u.jsx("span",{className:Qf(),children:"Workflow"}),u.jsx("h3",{className:Kf(),children:n})]})]}),u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Interface Inputs"}),p.interface.inputs.length===0?u.jsx("p",{className:Vl(),children:"No inputs defined"}):u.jsx("div",{className:"flex flex-col gap-1.5 mb-2.5",children:p.interface.inputs.map(se=>u.jsx("div",{children:J===se.name?u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsx("input",{type:"text",className:di(),placeholder:"Input name",value:le,onChange:Ae=>ie(Ae.target.value)}),u.jsxs("div",{className:"flex gap-1.5 items-center",children:[u.jsx("select",{className:D(di(),"flex-1"),value:ce,onChange:Ae=>oe(Ae.target.value),children:gx.map(Ae=>u.jsx("option",{value:Ae,children:Ae},Ae))}),u.jsxs("label",{className:"flex items-center gap-1 text-xs text-text-secondary whitespace-nowrap",children:[u.jsx("input",{type:"checkbox",checked:L,onChange:Ae=>G(Ae.target.checked)}),"Required"]})]}),u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("button",{className:D(Mn(),"flex-1"),onClick:je,children:"Save"}),u.jsx("button",{className:D(Mn(),"flex-1"),onClick:Be,children:"Cancel"})]})]}):u.jsxs("div",{className:D(Sf({editable:!0}),"cursor-pointer"),onClick:()=>ae(se),children:[u.jsx("span",{className:"text-accent-blue font-mono font-medium",children:se.name}),u.jsx("span",{className:"text-xs px-1 py-0.5 rounded bg-surface-3 text-text-muted",children:se.type}),se.required&&u.jsx("span",{className:"text-accent-red text-xs",title:"Required",children:"*"}),u.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),$e(se.name)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Remove input",children:""})]})},se.name))}),u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("input",{type:"text",className:D(sa(),"flex-1"),placeholder:"Input name",value:B,onChange:se=>z(se.target.value),onKeyDown:se=>se.key==="Enter"&&de()}),u.jsx("select",{className:D(sa(),"w-20"),value:I,onChange:se=>Y(se.target.value),children:gx.map(se=>u.jsx("option",{value:se,children:se},se))})]}),u.jsxs("div",{className:"flex gap-1.5 items-center",children:[u.jsxs("label",{className:"flex items-center gap-1 text-xs text-text-secondary",children:[u.jsx("input",{type:"checkbox",checked:U,onChange:se=>K(se.target.checked)}),"Required"]}),u.jsx("button",{className:D(Mn(),"flex-none w-auto ml-auto"),onClick:de,children:"Add"})]})]})]}),u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Interface Outputs"}),p.interface.outputs.length===0?u.jsx("p",{className:Vl(),children:"No outputs defined"}):u.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.outputs.map(se=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-violet",children:[se,u.jsx("button",{onClick:()=>Ye(se),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove output",children:""})]},se))}),u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("input",{type:"text",className:D(sa(),"flex-1"),placeholder:"New output name",value:A,onChange:se=>ee(se.target.value),onKeyDown:se=>se.key==="Enter"&&Me()}),u.jsx("button",{className:D(Mn(),"flex-none w-auto"),onClick:Me,children:"Add"})]})]}),u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Variables"}),gt.length===0?u.jsx("p",{className:Vl(),children:"No variables defined"}):u.jsx("div",{className:"mb-2.5",children:gt.map(([se,Ae])=>u.jsx("div",{className:"mb-2",children:v===se?u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsx("input",{type:"text",className:di(),placeholder:"Variable name",value:E,onChange:we=>T(we.target.value)}),u.jsx("input",{type:"text",className:di(),placeholder:"Default value",value:_,onChange:we=>W(we.target.value),onKeyDown:we=>we.key==="Enter"&&Z()}),u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("button",{className:D(Mn(),"flex-1"),onClick:Z,children:"Save"}),u.jsx("button",{className:D(Mn(),"flex-1"),onClick:ne,children:"Cancel"})]})]}):u.jsxs("div",{className:D(Sf({editable:!0}),"cursor-pointer"),onClick:()=>V(se,Ae),children:[u.jsxs("span",{className:"text-accent-green font-mono font-medium",children:["$",se]}),u.jsx("span",{className:"text-text-muted",children:"="}),u.jsx("span",{className:Db(),children:xx(Ae)}),u.jsx("button",{onClick:we=>{we.stopPropagation(),ye(se)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Delete variable",children:""})]})},se))}),u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("input",{type:"text",className:D(sa(),"flex-1"),placeholder:"Variable name",value:y,onChange:se=>b(se.target.value)}),u.jsx("input",{type:"text",className:D(sa(),"flex-1"),placeholder:"Default value",value:N,onChange:se=>C(se.target.value),onKeyDown:se=>se.key==="Enter"&&j()})]}),u.jsx("button",{className:Mn(),onClick:j,children:"Add Variable"})]})]}),n!=="main"&&u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Danger Zone"}),u.jsx("button",{className:"w-full px-3 py-2 text-sm font-medium bg-accent-red/10 text-accent-red border border-accent-red/30 rounded hover:bg-accent-red/20 transition-colors",onClick:ge,children:"Delete Workflow"})]})]})]})}function xx(n){return n===null?"null":n===void 0?"":typeof n=="string"?n:JSON.stringify(n)}function yx(n){if(!n||n==="")return"";if(n==="null")return null;if(n==="true")return!0;if(n==="false")return!1;try{return JSON.parse(n)}catch{return n}}function xO({className:n}){const{tree:r,source:i,opcodes:o,deleteNode:c,duplicateNode:d,updateNodeInput:h,updateReporterInput:m,deleteReporter:g,addDynamicBranch:p,removeDynamicBranch:y,addDynamicInput:b,removeDynamicInput:N}=rt(),{closeNodeEditor:C}=Te(),{selectedNodeId:v,selectedReporter:w,selectReporter:E,selectedStartNode:T,selectStartNode:_,clearSelection:W}=ll(),[B,z]=k.useState(!1);if(T)return u.jsx(gO,{workflowName:T,onClose:()=>{_(null),C()}});const I=v?Rl(v):null,Y=I?SO(r,I):null,U=w?o.find(ae=>ae.name===w.opcode):Y?o.find(ae=>ae.name===Y.opcode):null,K=()=>{C(),W()},J=()=>{I&&(navigator.clipboard.writeText(I),z(!0),setTimeout(()=>z(!1),2e3))},fe=()=>{if(w){const ae=`${w.parentNodeId}.${w.inputPath.join(".")}`;navigator.clipboard.writeText(ae),z(!0),setTimeout(()=>z(!1),2e3)}},le=()=>{if(I){const ae=i.split(`
`);for(let je=0;je<ae.length;je++)if(ae[je].includes(I+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:je+1}}));break}}},ie=()=>{if(Y?.opcode==="workflow_call"){const ae=Y.inputs.WORKFLOW;if(ae&&ae.type==="literal"){const je=ae.value;je&&(window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:je}})),C())}}},ce=()=>{I&&I!=="start"&&Te.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${I}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{c(I),C()}})},oe=()=>{I&&I!=="start"&&d(I)},L=()=>{E(null)},G=(ae,je)=>{if(w&&w.reporterNodeId&&m(w.reporterNodeId,ae,je)){const Me={...w.inputs};if(je.startsWith("$"))Me[ae]={type:"variable",name:je.slice(1)};else try{const Ye=JSON.parse(je);Me[ae]={type:"literal",value:Ye}}catch{Me[ae]={type:"literal",value:je}}E({...w,inputs:Me})}},A=()=>{w&&Te.getState().showConfirmDialog({title:"Detach Reporter",message:"Detach this reporter from its slot? The slot will be set to null. This action can be undone with Ctrl+Z.",confirmLabel:"Detach",variant:"danger",onConfirm:()=>{g(w.parentNodeId,w.inputPath),E(null)}})},ee=()=>{if(w){const ae=i.split(`
`);if(w.reporterNodeId){for(let Me=0;Me<ae.length;Me++)if(ae[Me].match(new RegExp(`^\\s+${w.reporterNodeId}:\\s*$`))){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Me+1}}));return}}const je=w.inputPath[w.inputPath.length-1];let Be=!1;for(let Me=0;Me<ae.length;Me++){const Ye=ae[Me];if(Ye.includes(w.parentNodeId+":")&&(Be=!0),Be&&Ye.includes(je+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Me+1}}));break}}}},re=ae=>{I&&p(I,ae)},j=ae=>{I&&y(I,ae)},V=ae=>{I&&b(I,ae)},Z=ae=>{I&&N(I,ae)},ne=()=>{if(w&&w.opcode==="workflow_call"){const ae=w.inputs.WORKFLOW;if(ae&&ae.type==="literal"&&typeof ae.value=="string"){const je=ae.value;window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:je}})),C()}}},ye=ae=>{w?.reporterNodeId&&b(w.reporterNodeId,ae)},ge=ae=>{w?.reporterNodeId&&N(w.reporterNodeId,ae)};if(w)return u.jsx(yO,{reporter:w,parentNode:Y,opcodeInfo:U,tree:r,copied:B,onCopyPath:fe,onBackToNode:L,onClose:K,onUpdateInput:G,onDetach:A,onFindInSource:ee,onGoToDefinition:w.opcode==="workflow_call"?ne:void 0,onAddDynamicInput:w.reporterNodeId?ye:void 0,onRemoveDynamicInput:w.reporterNodeId?ge:void 0,className:n});if(!Y)return u.jsxs("div",{className:D(ji(),n),children:[u.jsxs("div",{className:Ei(),children:[u.jsx("span",{className:Ci(),children:"Node Editor"}),u.jsx("button",{className:Ai(),onClick:K,children:""})]}),u.jsx("div",{className:Ob(),children:u.jsx("p",{children:"Select a node to edit"})})]});const de=ay(Y.type),$e=n2[Y.type]||"Node";return u.jsxs("div",{className:D(ji(),n),children:[u.jsxs("div",{className:Ei(),children:[u.jsx("span",{className:Ci(),children:"Node Editor"}),u.jsx("button",{className:Ai(),onClick:K,children:""})]}),u.jsxs("div",{className:Gf(),children:[u.jsxs("div",{className:Xf(),children:[u.jsx("div",{className:Wf(),style:{backgroundColor:de}}),u.jsxs("div",{className:Zf(),children:[u.jsx("span",{className:Qf(),children:$e}),u.jsx("h3",{className:Kf(),children:Pf(Y.opcode)}),u.jsx("button",{className:Tb(),onClick:J,title:"Copy node ID",children:B?" Copied!":`ID: ${Y.id}`})]})]}),U?.description&&u.jsx("div",{className:Mb(),children:U.description}),u.jsxs("div",{className:Ff(),children:[u.jsx("label",{className:Jf(),children:"Opcode"}),u.jsx("input",{type:"text",value:Y.opcode,readOnly:!0,className:sa()})]}),u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Inputs"}),Object.entries(Y.inputs).length===0?u.jsx("p",{className:Vl(),children:"No inputs"}):Object.entries(Y.inputs).map(([ae,je])=>u.jsx(qb,{name:xs(ae,Y.opcode,r,Y.inputs),originalKey:ae,value:je,paramInfo:U?.parameters.find(Be=>Be.name.toUpperCase()===ae),onUpdate:(Be,Me)=>h(I,Be,Me)},ae))]}),Y.opcode==="workflow_call"&&u.jsx("div",{className:ln(),children:u.jsx("button",{className:Yb(),onClick:ie,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),U&&U.parameters.length>0&&u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Parameters"}),u.jsx("div",{className:zb(),children:U.parameters.map(ae=>u.jsxs("div",{className:Lb(),children:[u.jsxs("span",{className:Vb(),children:[ae.name,!ae.required&&u.jsx("span",{className:Bb(),children:"?"})]}),u.jsx("span",{className:Ib(),children:ae.type})]},ae.name))})]}),(()=>{const ae=_i(Y.opcode),je=ae?.dynamic_branches,Be=ae?.dynamic_inputs,Me=ae?.branches&&ae.branches.length>0;let Ye=null;if(je&&ae?.branches)for(const we of ae.branches){const Wt=we.name.match(/^([A-Z]+)\d+$/);if(Wt){Ye=Wt[1];break}}const gt=Y.children.filter(we=>Ye&&we.name.startsWith(Ye)).map(we=>we.name),se=Object.keys(Y.inputs).filter(we=>/^ARG\d+$/.test(we)).sort((we,Wt)=>{const xn=parseInt(we.replace("ARG","")),Bt=parseInt(Wt.replace("ARG",""));return xn-Bt}),Ae=Y.children.length>0||je;return u.jsxs(u.Fragment,{children:[Ae&&Me&&u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Branches"}),Y.children.length===0&&je?u.jsx("p",{className:Vl(),children:"No branches connected"}):Y.children.map((we,Wt)=>{const Bt=Ye&&we.name.startsWith(Ye)&&gt.length>1;return u.jsxs("div",{className:hO(),children:[u.jsx("span",{className:mO(),children:we.name}),u.jsxs("span",{className:pO(),children:[we.children.length," node(s)"]}),Bt&&u.jsx("button",{className:Nf(),onClick:()=>j(we.name),title:`Remove ${we.name}`,children:""})]},Wt)}),je&&Ye&&u.jsxs("button",{className:jf(),onClick:()=>re(Ye),children:["+ Add ",Ye==="CATCH"?"Catch Handler":"Branch"]})]}),Be&&Y.opcode==="workflow_call"&&u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Arguments"}),se.length===0?u.jsx("p",{className:Vl(),children:"No arguments"}):se.map(we=>u.jsxs("div",{className:kb(),children:[u.jsx("span",{className:Rb(),children:we}),u.jsx("button",{className:Nf(),onClick:()=>Z(we),title:`Remove ${we}`,children:""})]},we)),u.jsx("button",{className:jf(),onClick:()=>V("ARG"),children:"+ Add Argument"})]})]})})()]}),u.jsxs("div",{className:Hb(),children:[u.jsx("button",{className:Mn(),onClick:le,children:"Find in Source"}),u.jsx("button",{className:Mn(),onClick:oe,disabled:I==="start",title:I==="start"?"Cannot duplicate start node":"Duplicate node (Ctrl+D)",children:"Duplicate"}),u.jsx("button",{className:Ub(),onClick:ce,disabled:I==="start",title:I==="start"?"Cannot delete start node":"Delete node (Del)",children:"Delete"})]})]})}function yO({reporter:n,parentNode:r,opcodeInfo:i,tree:o,copied:c,onCopyPath:d,onBackToNode:h,onClose:m,onUpdateInput:g,onDetach:p,onFindInSource:y,onGoToDefinition:b,onAddDynamicInput:N,onRemoveDynamicInput:C,className:v}){const w=vO(n.opcode),E=wO(n.opcode),T=n.opcode==="workflow_call",_=Object.keys(n.inputs).filter(z=>/^ARG\d+$/.test(z)).sort((z,I)=>{const Y=parseInt(z.replace("ARG","")),U=parseInt(I.replace("ARG",""));return Y-U}),B=_i(n.opcode)?.dynamic_inputs;return u.jsxs("div",{className:D(ji(),v),children:[u.jsxs("div",{className:Ei(),children:[u.jsx("span",{className:Ci(),children:"Node Editor"}),u.jsx("button",{className:Ai(),onClick:m,children:""})]}),u.jsxs("div",{className:Gf(),children:[r&&u.jsxs("button",{className:cO(),onClick:h,children:[" Back to ",r.id]}),u.jsxs("div",{className:Xf(),children:[u.jsx("div",{className:Wf(),style:{backgroundColor:w}}),u.jsxs("div",{className:Zf(),children:[u.jsx("span",{className:Qf(),children:E}),u.jsx("h3",{className:Kf(),children:Pf(n.opcode)}),u.jsx("button",{className:Tb(),onClick:d,title:"Copy reporter ID",children:c?" Copied!":`ID: ${n.reporterNodeId||n.inputPath.join(".")}`})]})]}),i?.description&&u.jsx("div",{className:Mb(),children:i.description}),u.jsxs("div",{className:Ff(),children:[u.jsx("label",{className:Jf(),children:"Opcode"}),u.jsx("input",{type:"text",value:n.opcode,readOnly:!0,className:sa()})]}),u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Inputs"}),Object.entries(n.inputs).length===0?u.jsx("p",{className:Vl(),children:"No inputs"}):Object.entries(n.inputs).map(([z,I])=>u.jsx(qb,{name:xs(z,n.opcode,o,n.inputs),originalKey:z,value:I,paramInfo:i?.parameters.find(Y=>Y.name.toUpperCase()===z),onUpdate:g},z))]}),T&&b&&u.jsx("div",{className:ln(),children:u.jsx("button",{className:Yb(),onClick:b,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),i&&i.parameters.length>0&&u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Parameters"}),u.jsx("div",{className:zb(),children:i.parameters.map(z=>u.jsxs("div",{className:Lb(),children:[u.jsxs("span",{className:Vb(),children:[z.name,!z.required&&u.jsx("span",{className:Bb(),children:"?"})]}),u.jsx("span",{className:Ib(),children:z.type})]},z.name))})]}),B&&T&&N&&C&&u.jsxs("div",{className:ln(),children:[u.jsx("h4",{className:Nn(),children:"Arguments"}),_.length===0?u.jsx("p",{className:Vl(),children:"No arguments"}):_.map(z=>u.jsxs("div",{className:kb(),children:[u.jsx("span",{className:Rb(),children:xs(z,n.opcode,o,n.inputs)}),u.jsx("button",{className:Nf(),onClick:()=>C(z),title:`Remove ${z}`,children:""})]},z)),u.jsx("button",{className:jf(),onClick:()=>N("ARG"),children:"+ Add Argument"})]})]}),u.jsxs("div",{className:Hb(),children:[u.jsx("button",{className:Mn(),onClick:y,children:"Find in Source"}),u.jsx("button",{className:Ub(),onClick:p,title:"Detach reporter from slot (replace with null)",children:"Detach"})]})]})}function qb({name:n,originalKey:r,value:i,paramInfo:o,onUpdate:c}){const d=r||n,[h,m]=k.useState(!1),[g,p]=k.useState(""),y=bO(i),b=E=>{switch(E.type){case"literal":return typeof E.value=="string"?E.value:JSON.stringify(E.value);case"variable":return`$${E.name}`;default:return y}},N=()=>{(i.type==="literal"||i.type==="variable")&&(p(b(i)),m(!0))},C=()=>{c&&g!==b(i)&&c(d,g),m(!1)},v=E=>{E.key==="Enter"?C():E.key==="Escape"&&m(!1)},w=i.type==="literal"||i.type==="variable";return u.jsxs("div",{className:Ff(),children:[u.jsxs("label",{className:Jf(),children:[n,o&&u.jsx("span",{className:uO(),children:o.type})]}),h?u.jsx("input",{type:"text",className:di(),value:g,onChange:E=>p(E.target.value),onBlur:C,onKeyDown:v,autoFocus:!0}):u.jsxs("div",{className:D(Sf({editable:w}),"group"),onClick:N,title:w?"Click to edit":void 0,children:[u.jsx("span",{className:fO(),children:i.type}),u.jsx("span",{className:Db(),children:y}),w&&u.jsx("span",{className:dO(),children:"Click to edit"})]})]})}function bO(n){switch(n.type){case"literal":return typeof n.value=="string"?`"${n.value}"`:typeof n.value=="object"&&n.value!==null?JSON.stringify(n.value,null,2):String(n.value);case"variable":return`$${n.name}`;case"reporter":return`${Pf(n.opcode||"")}(...)`;case"workflow_call":return` ${n.name}`;case"branch":return` ${n.target}`;case"dict":return JSON.stringify(n.value,null,2);case"truncated":return n.display||"...";default:return"?"}}function Pf(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function vO(n){return ry(n)}function wO(n){const r=sy(n);return r?`${r.label} Reporter`:"Reporter"}function SO(n,r){if(!n)return null;function i(o){for(const c of o){if(c.id===r)return c;if(c.children)for(const d of c.children){const h=i(d.children);if(h)return h}}return null}for(const o of n.workflows||[]){const c=i(o.children||[]);if(c)return c;const d=i(o.orphans||[]);if(d)return d}return null}const NO=O("flex flex-col h-full"),jO=O("flex items-center justify-between px-4 py-4 border-b border-border-subtle"),EO=O("text-base font-semibold text-text-primary"),CO=O("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),AO=O("px-4 py-3 border-b border-border-subtle"),_O=O("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm focus:outline-none focus:border-accent-blue placeholder:text-text-muted"),OO=O("flex-1 overflow-y-auto py-2"),TO=O("px-4"),MO=O("text-text-muted text-center py-5 italic"),Ko=O("border-b border-border-subtle"),Fo=O("w-full flex items-center gap-2 px-4 py-2.5 bg-transparent border-none cursor-pointer text-left text-text-primary transition-colors hover:bg-surface-2"),Jo=O("text-base"),Po=O("flex-1 text-sm font-medium"),es=O("text-xs text-text-muted px-1.5 py-0.5 bg-border-subtle rounded-sm"),ts=O("text-[0.7rem] text-text-muted"),ns=O("py-1 pb-2 bg-surface-2"),DO=O("mx-2"),kO=O("w-full flex flex-col items-start gap-0.5 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-pointer mb-1 transition-all hover:border-accent-blue hover:translate-x-0.5"),RO=O("text-sm font-medium text-text-primary"),zO=O("text-[0.7rem] text-text-muted font-mono"),LO=O("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),VO=O("text-xs text-text-secondary mb-2 leading-relaxed"),BO=O("flex flex-wrap gap-1.5 items-center"),$b=O("text-[0.7rem] text-text-muted uppercase tracking-wide"),IO=O("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),HO=O("text-text-muted"),UO=O("flex items-center gap-2 px-3 py-2 mx-2 mb-1 bg-surface-1 border border-border-subtle rounded-sm cursor-grab transition-all hover:border-accent-green hover:translate-x-0.5 active:cursor-grabbing"),YO=O("text-sm font-semibold text-accent-green font-mono"),qO=O("text-xs text-text-muted font-mono"),$O=O("text-[0.7rem] text-text-muted ml-auto"),GO=O("px-4 py-3 text-xs text-text-muted italic text-center"),XO=O("mx-2"),WO=O("w-full flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-grab mb-1 transition-all hover:border-accent-violet hover:translate-x-0.5 active:cursor-grabbing"),ZO=O("text-sm font-semibold text-accent-violet font-mono"),QO=O("text-xs text-text-muted ml-auto"),KO=O("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),FO=O("flex flex-col gap-1 mb-2"),JO=O("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),PO=O("text-xs text-text-muted italic mb-2"),eT=O("w-full px-3 py-1.5 text-xs bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),tT=O("px-4 py-3 border-t border-border-subtle"),nT=O("text-xs text-text-muted text-center");function lT({className:n}){const{opcodes:r,tree:i}=rt(),{togglePalette:o,setDraggingVariable:c,setDraggingWorkflowCall:d}=Te(),[h,m]=k.useState(""),[g,p]=k.useState("variables"),y=iy(),b=k.useMemo(()=>_j(i),[i]),N=k.useMemo(()=>{if(!i)return[];const w=[];for(const E of i.workflows)for(const[T,_]of Object.entries(E.variables))w.push({name:T,value:_,workflowName:E.name});return w},[i]),C=k.useMemo(()=>{const w={};for(const E of y)w[E.id]=[];w.other=[];for(const E of r)E.category&&w[E.category]?w[E.category].push(E):w.other.push(E);return w},[r,y]),v=k.useMemo(()=>{if(!h)return null;const w=h.toLowerCase();return r.filter(E=>E.name.toLowerCase().includes(w)||(E.description?.toLowerCase().includes(w)??!1))},[r,h]);return u.jsxs("div",{className:D(NO(),n),children:[u.jsxs("div",{className:jO(),children:[u.jsx("h2",{className:EO(),children:"Node Palette"}),u.jsx("button",{className:CO(),onClick:o,children:""})]}),u.jsx("div",{className:AO(),children:u.jsx("input",{type:"text",placeholder:"Search nodes...",value:h,onChange:w=>m(w.target.value),className:_O()})}),u.jsx("div",{className:OO(),children:v?u.jsx("div",{className:TO(),children:v.length===0?u.jsx("p",{className:MO(),children:"No nodes found"}):v.map(w=>u.jsx(sf,{opcode:w},w.name))}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:Ko(),children:[u.jsxs("button",{className:Fo(),onClick:()=>p(g==="variables"?null:"variables"),style:{"--cat-color":"#22C55E"},children:[u.jsx("span",{className:Jo(),children:"$"}),u.jsx("span",{className:Po(),children:"Variables"}),u.jsx("span",{className:es(),children:N.length}),u.jsx("span",{className:ts(),children:g==="variables"?"":""})]}),g==="variables"&&u.jsx("div",{className:ns(),children:N.length===0?u.jsx("div",{className:GO(),children:"No variables defined. Add variables in the Start Node editor."}):N.map(w=>u.jsx(aT,{name:w.name,value:w.value,workflowName:w.workflowName,onDragStart:c,onDragEnd:()=>c(null)},`${w.workflowName}-${w.name}`))})]}),b.length>0&&u.jsxs("div",{className:Ko(),children:[u.jsxs("button",{className:Fo(),onClick:()=>p(g==="workflows"?null:"workflows"),style:{"--cat-color":"#E91E63"},children:[u.jsx("span",{className:Jo(),children:"fn"}),u.jsx("span",{className:Po(),children:"Workflows"}),u.jsx("span",{className:es(),children:b.length}),u.jsx("span",{className:ts(),children:g==="workflows"?"":""})]}),g==="workflows"&&u.jsx("div",{className:ns(),children:b.map(w=>u.jsx(iT,{name:w.name,params:w.params,onDragStart:d},w.name))})]}),y.map(w=>u.jsxs("div",{className:Ko(),children:[u.jsxs("button",{className:Fo(),onClick:()=>p(g===w.id?null:w.id),style:{"--cat-color":w.color},children:[u.jsx("span",{className:Jo(),children:w.icon}),u.jsx("span",{className:Po(),children:w.label}),u.jsx("span",{className:es(),children:C[w.id].length}),u.jsx("span",{className:ts(),children:g===w.id?"":""})]}),g===w.id&&u.jsx("div",{className:ns(),children:C[w.id].map(E=>u.jsx(sf,{opcode:E},E.name))})]},w.id)),C.other.length>0&&u.jsxs("div",{className:Ko(),children:[u.jsxs("button",{className:Fo(),onClick:()=>p(g==="other"?null:"other"),style:{"--cat-color":"#64748B"},children:[u.jsx("span",{className:Jo(),children:""}),u.jsx("span",{className:Po(),children:"Other"}),u.jsx("span",{className:es(),children:C.other.length}),u.jsx("span",{className:ts(),children:g==="other"?"":""})]}),g==="other"&&u.jsx("div",{className:ns(),children:C.other.map(w=>u.jsx(sf,{opcode:w},w.name))})]})]})}),u.jsx("div",{className:tT(),children:u.jsx("p",{className:nT(),children:"Click to view details  Drag to canvas to add node"})})]})}function sf({opcode:n}){const[r,i]=k.useState(!1),{setDraggingOpcode:o,togglePalette:c}=Te(),d=k.useRef(!1),h=k.useRef({x:0,y:0}),m=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_|async_|pubsub_|gcs_)/,"").split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),g=p=>{h.current={x:p.clientX,y:p.clientY},d.current=!1;const y=N=>{const C=Math.abs(N.clientX-h.current.x),v=Math.abs(N.clientY-h.current.y);!d.current&&(C>5||v>5)&&(d.current=!0,o(n),c())},b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)};return u.jsxs("div",{className:DO(),children:[u.jsxs("button",{className:kO(),onMouseDown:g,onClick:()=>{d.current||i(!r)},children:[u.jsx("span",{className:RO(),children:m}),u.jsx("span",{className:zO(),children:n.name})]}),r&&u.jsxs("div",{className:LO(),children:[n.description&&u.jsx("p",{className:VO(),children:n.description}),n.parameters.length>0&&u.jsxs("div",{className:BO(),children:[u.jsx("span",{className:$b(),children:"Parameters:"}),n.parameters.map(p=>u.jsxs("span",{className:IO(),children:[p.name,!p.required&&"?",u.jsxs("span",{className:HO(),children:[": ",p.type]})]},p.name))]})]})]})}function aT({name:n,value:r,workflowName:i,onDragStart:o,onDragEnd:c}){const{togglePalette:d}=Te(),h=k.useRef(!1),m=k.useRef({x:0,y:0}),g=rT(r),p=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=C=>{C.preventDefault();const v=Math.abs(C.clientX-m.current.x),w=Math.abs(C.clientY-m.current.y);!h.current&&(v>5||w>5)&&(h.current=!0,o({name:n,workflowName:i,fromX:0,fromY:0,toX:0,toY:0}),d())},N=()=>{h.current&&c(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)};return u.jsxs("div",{className:UO(),onMouseDown:p,children:[u.jsxs("span",{className:YO(),children:["$",n]}),u.jsx("span",{className:qO(),children:g}),i!=="main"&&u.jsxs("span",{className:$O(),children:["(",i,")"]})]})}function rT(n){if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="string")return n.length>15?`"${n.slice(0,15)}..."`:`"${n}"`;if(typeof n=="object"){const r=JSON.stringify(n);return r.length>15?r.slice(0,15)+"...":r}return String(n)}function iT({name:n,params:r,onDragStart:i}){const{togglePalette:o}=Te(),[c,d]=k.useState(!1),h=k.useRef(!1),m=k.useRef({x:0,y:0}),g=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=C=>{C.preventDefault();const v=Math.abs(C.clientX-m.current.x),w=Math.abs(C.clientY-m.current.y);!h.current&&(v>5||w>5)&&(h.current=!0,i({workflowName:n,params:r}),o())},N=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)},p=y=>{y.stopPropagation(),window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:n}})),o()};return u.jsxs("div",{className:XO(),children:[u.jsxs("button",{className:WO(),onMouseDown:g,onClick:()=>{h.current||d(!c)},children:[u.jsx("span",{className:ZO(),children:n}),u.jsx("span",{className:QO(),children:r.length===0?"(no params)":`(${r.length} params)`})]}),c&&u.jsxs("div",{className:KO(),children:[r.length>0?u.jsxs("div",{className:FO(),children:[u.jsx("span",{className:$b(),children:"Parameters:"}),r.map((y,b)=>u.jsxs("span",{className:JO(),children:["ARG",b+1,": ",y]},y))]}):u.jsx("p",{className:PO(),children:"This workflow has no input parameters."}),u.jsx("button",{className:eT(),onClick:p,children:"Go to Definition"})]})]})}const bx=O("fixed pointer-events-none z-[10000] flex flex-col gap-1"),vx=O("flex flex-col gap-0.5 px-4 py-3 bg-surface-1 border-2 border-accent-blue rounded-sm shadow-xl min-w-[120px]",{variants:{type:{opcode:"border-accent-blue",workflow:"border-[#E91E63]"}},defaultVariants:{type:"opcode"}}),wx=O("text-sm font-semibold text-text-primary"),Sx=O("text-[0.7rem] text-text-muted font-mono"),Nx=O("text-[0.7rem] text-accent-blue text-center font-medium");function jx(n){const r=document.querySelector("[data-canvas-container] > svg");if(!r)return"main";const{zoom:i,panX:o,panY:c,layoutGroups:d,canvasCenter:h}=Te.getState();if(d.length===0)return"main";const m=r.getBoundingClientRect(),g=m.width,p=m.height,y=n.clientX-m.left,b=n.clientY-m.top,N=(y-o-g/2)/i+h.x,C=(b-c-p/2)/i+h.y;return gb(d,N,C)||"main"}function oT(){const{draggingOpcode:n,setDraggingOpcode:r,draggingWorkflowCall:i,setDraggingWorkflowCall:o,openNodeEditor:c}=Te(),{addNode:d,addWorkflowCallNode:h}=rt(),[m,g]=k.useState({x:0,y:0});if(k.useEffect(()=>{if(!i)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const C=N.target;if((C.closest("svg")!==null||C.closest('[class*="canvas"]')!==null)&&i){const w=jx(N);h(i.workflowName,i.params,w)&&c()}o(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[i,o,h,c]),k.useEffect(()=>{if(!n)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const C=N.target;if((C.closest("svg")!==null||C.closest('[class*="canvas"]')!==null)&&n){const w=jx(N);d(n,w)&&c()}r(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[n,r,d,c]),!n&&!i)return null;if(i)return u.jsxs("div",{className:D(bx()),style:{left:m.x+16,top:m.y+16},children:[u.jsxs("div",{className:D(vx({type:"workflow"})),children:[u.jsx("span",{className:D(wx()),children:i.workflowName}),u.jsx("span",{className:D(Sx()),children:"workflow_call"})]}),u.jsx("div",{className:D(Nx()),children:"Drop on canvas to add"})]});if(!n)return null;const p=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return u.jsxs("div",{className:D(bx()),style:{left:m.x+16,top:m.y+16},children:[u.jsxs("div",{className:D(vx({type:"opcode"})),children:[u.jsx("span",{className:D(wx()),children:p}),u.jsx("span",{className:D(Sx()),children:n.name})]}),u.jsx("div",{className:D(Nx()),children:"Drop on canvas to add"})]})}function sT(){const n=Te(r=>r.confirmDialog);return n?u.jsx(Bw,{isOpen:n.isOpen,title:n.title,message:n.message,confirmLabel:n.confirmLabel,cancelLabel:n.cancelLabel,variant:n.variant,onConfirm:n.onConfirm,onCancel:n.onCancel}):null}function cT(){const n=Te(d=>d.createWorkflowModal),r=Te(d=>d.hideCreateWorkflowModal),i=rt(d=>d.tree),o=rt(d=>d.addWorkflow),c=i?.workflows.map(d=>d.name)??[];return n?u.jsx(Hw,{isOpen:n.isOpen,existingWorkflowNames:c,onConfirm:d=>{o(d.name,d.inputs,d.outputs,d.variables),r()},onCancel:r}):null}function uT(){const n=Te(m=>m.extractWorkflowModal),r=Te(m=>m.hideExtractWorkflowModal),i=rt(m=>m.tree),o=rt(m=>m.extractToWorkflow),c=ll(m=>m.clearMultiSelection),d=Te(m=>m.showConfirmDialog),h=i?.workflows.map(m=>m.name)??[];return n?u.jsx(r2,{isOpen:n.isOpen,existingWorkflowNames:h,nodeIds:n.nodeIds,suggestedInputs:n.suggestedInputs,suggestedOutputs:n.suggestedOutputs,onConfirm:m=>{const g=o(n.nodeIds,n.workflowName,m.name,m.inputs,m.outputs,m.variables);g.success?(c(),r()):d({title:"Extraction Failed",message:g.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}})},onCancel:r}):null}function fT(){const{setExamples:n,setOpcodes:r}=rt(),i=ws();return Hj(),Yj(),k.useEffect(()=>{i.listOpcodes().then(r).catch(console.error),hy(i)&&i.listExamples().then(n).catch(console.error)},[n,r,i]),u.jsxs(u.Fragment,{children:[u.jsx(Ej,{canvas:u.jsx(WC,{}),editor:u.jsx(c_,{}),executionPanel:u.jsx(aO,{}),nodeEditor:u.jsx(xO,{}),palette:u.jsx(lT,{})}),u.jsx(oT,{}),u.jsx(sT,{}),u.jsx(cT,{}),u.jsx(uT,{})]})}function dT(){return{apiBaseUrl:"/api",wsUrl:void 0}}const Ex=dT(),hT=tj({apiBaseUrl:Ex.apiBaseUrl,wsUrl:Ex.wsUrl,supportsExamples:!0,supportsWebSocket:!0});d1.createRoot(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(E2,{children:u.jsx(A2,{provider:hT,children:u.jsx(fT,{})})})}));export{Ab as a,i_ as b,D as c,_b as d,Cb as e,Eb as f,u as j,k as r};
