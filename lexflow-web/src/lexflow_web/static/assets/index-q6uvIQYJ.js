(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function Jv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zu={exports:{}},ai={};var Xp;function Pv(){if(Xp)return ai;Xp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:n,type:o,key:h,ref:c!==void 0?c:null,props:f}}return ai.Fragment=r,ai.jsx=i,ai.jsxs=i,ai}var Wp;function e1(){return Wp||(Wp=1,zu.exports=Pv()),zu.exports}var d=e1(),Lu={exports:{}},Ee={};var Zp;function t1(){if(Zp)return Ee;Zp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function A(C,U,P){this.props=C,this.context=U,this.refs=j,this.updater=P||w}A.prototype.isReactComponent={},A.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},A.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=A.prototype;function X(C,U,P){this.props=C,this.context=U,this.refs=j,this.updater=P||w}var B=X.prototype=new O;B.constructor=X,v(B,A.prototype),B.isPureReactComponent=!0;var V=Array.isArray;function H(){}var $={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function K(C,U,P){var re=P.ref;return{$$typeof:n,type:C,key:U,ref:re!==void 0?re:null,props:P}}function te(C,U){return K(C.type,U,C.props)}function ue(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ie(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(P){return U[P]})}var se=/\/+/g;function Z(C,U){return typeof C=="object"&&C!==null&&C.key!=null?ie(""+C.key):U.toString(36)}function ae(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(H,H):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,U,P,re,xe){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var de=!1;if(C===null)de=!0;else switch(ge){case"bigint":case"string":case"number":de=!0;break;case"object":switch(C.$$typeof){case n:case r:de=!0;break;case y:return de=C._init,D(de(C._payload),U,P,re,xe)}}if(de)return xe=xe(C),de=re===""?"."+Z(C,0):re,V(xe)?(P="",de!=null&&(P=de.replace(se,"$&/")+"/"),D(xe,U,P,"",function(Ne){return Ne})):xe!=null&&(ue(xe)&&(xe=te(xe,P+(xe.key==null||C&&C.key===xe.key?"":(""+xe.key).replace(se,"$&/")+"/")+de)),U.push(xe)),1;de=0;var We=re===""?".":re+":";if(V(C))for(var oe=0;oe<C.length;oe++)re=C[oe],ge=We+Z(re,oe),de+=D(re,U,P,ge,xe);else if(oe=E(C),typeof oe=="function")for(C=oe.call(C),oe=0;!(re=C.next()).done;)re=re.value,ge=We+Z(re,oe++),de+=D(re,U,P,ge,xe);else if(ge==="object"){if(typeof C.then=="function")return D(ae(C),U,P,re,xe);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return de}function M(C,U,P){if(C==null)return C;var re=[],xe=0;return D(C,re,"","",function(ge){return U.call(P,ge,xe++)}),re}function R(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(P){(C._status===0||C._status===-1)&&(C._status=1,C._result=P)},function(P){(C._status===0||C._status===-1)&&(C._status=2,C._result=P)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var le=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},J={map:M,forEach:function(C,U,P){M(C,function(){U.apply(this,arguments)},P)},count:function(C){var U=0;return M(C,function(){U++}),U},toArray:function(C){return M(C,function(U){return U})||[]},only:function(C){if(!ue(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ee.Activity=b,Ee.Children=J,Ee.Component=A,Ee.Fragment=i,Ee.Profiler=c,Ee.PureComponent=X,Ee.StrictMode=o,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(C){return $.H.useMemoCache(C)}},Ee.cache=function(C){return function(){return C.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(C,U,P){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var re=v({},C.props),xe=C.key;if(U!=null)for(ge in U.key!==void 0&&(xe=""+U.key),U)!Y.call(U,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&U.ref===void 0||(re[ge]=U[ge]);var ge=arguments.length-2;if(ge===1)re.children=P;else if(1<ge){for(var de=Array(ge),We=0;We<ge;We++)de[We]=arguments[We+2];re.children=de}return K(C.type,xe,re)},Ee.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Ee.createElement=function(C,U,P){var re,xe={},ge=null;if(U!=null)for(re in U.key!==void 0&&(ge=""+U.key),U)Y.call(U,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(xe[re]=U[re]);var de=arguments.length-2;if(de===1)xe.children=P;else if(1<de){for(var We=Array(de),oe=0;oe<de;oe++)We[oe]=arguments[oe+2];xe.children=We}if(C&&C.defaultProps)for(re in de=C.defaultProps,de)xe[re]===void 0&&(xe[re]=de[re]);return K(C,ge,xe)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(C){return{$$typeof:m,render:C}},Ee.isValidElement=ue,Ee.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:R}},Ee.memo=function(C,U){return{$$typeof:p,type:C,compare:U===void 0?null:U}},Ee.startTransition=function(C){var U=$.T,P={};$.T=P;try{var re=C(),xe=$.S;xe!==null&&xe(P,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(H,le)}catch(ge){le(ge)}finally{U!==null&&P.types!==null&&(U.types=P.types),$.T=U}},Ee.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ee.use=function(C){return $.H.use(C)},Ee.useActionState=function(C,U,P){return $.H.useActionState(C,U,P)},Ee.useCallback=function(C,U){return $.H.useCallback(C,U)},Ee.useContext=function(C){return $.H.useContext(C)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(C,U){return $.H.useDeferredValue(C,U)},Ee.useEffect=function(C,U){return $.H.useEffect(C,U)},Ee.useEffectEvent=function(C){return $.H.useEffectEvent(C)},Ee.useId=function(){return $.H.useId()},Ee.useImperativeHandle=function(C,U,P){return $.H.useImperativeHandle(C,U,P)},Ee.useInsertionEffect=function(C,U){return $.H.useInsertionEffect(C,U)},Ee.useLayoutEffect=function(C,U){return $.H.useLayoutEffect(C,U)},Ee.useMemo=function(C,U){return $.H.useMemo(C,U)},Ee.useOptimistic=function(C,U){return $.H.useOptimistic(C,U)},Ee.useReducer=function(C,U,P){return $.H.useReducer(C,U,P)},Ee.useRef=function(C){return $.H.useRef(C)},Ee.useState=function(C){return $.H.useState(C)},Ee.useSyncExternalStore=function(C,U,P){return $.H.useSyncExternalStore(C,U,P)},Ee.useTransition=function(){return $.H.useTransition()},Ee.version="19.2.3",Ee}var Qp;function Sf(){return Qp||(Qp=1,Lu.exports=t1()),Lu.exports}var z=Sf();const Mn=Jv(z);var Vu={exports:{}},ri={},Bu={exports:{}},Hu={};var Kp;function n1(){return Kp||(Kp=1,(function(n){function r(D,M){var R=D.length;D.push(M);e:for(;0<R;){var le=R-1>>>1,J=D[le];if(0<c(J,M))D[le]=M,D[R]=J,R=le;else break e}}function i(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var M=D[0],R=D.pop();if(R!==M){D[0]=R;e:for(var le=0,J=D.length,C=J>>>1;le<C;){var U=2*(le+1)-1,P=D[U],re=U+1,xe=D[re];if(0>c(P,R))re<J&&0>c(xe,P)?(D[le]=xe,D[re]=R,le=re):(D[le]=P,D[U]=R,le=U);else if(re<J&&0>c(xe,R))D[le]=xe,D[re]=R,le=re;else break e}}return M}function c(D,M){var R=D.sortIndex-M.sortIndex;return R!==0?R:D.id-M.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],y=1,b=null,N=3,E=!1,w=!1,v=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function B(D){for(var M=i(p);M!==null;){if(M.callback===null)o(p);else if(M.startTime<=D)o(p),M.sortIndex=M.expirationTime,r(g,M);else break;M=i(p)}}function V(D){if(v=!1,B(D),!w)if(i(g)!==null)w=!0,H||(H=!0,ie());else{var M=i(p);M!==null&&ae(V,M.startTime-D)}}var H=!1,$=-1,Y=5,K=-1;function te(){return j?!0:!(n.unstable_now()-K<Y)}function ue(){if(j=!1,H){var D=n.unstable_now();K=D;var M=!0;try{e:{w=!1,v&&(v=!1,O($),$=-1),E=!0;var R=N;try{t:{for(B(D),b=i(g);b!==null&&!(b.expirationTime>D&&te());){var le=b.callback;if(typeof le=="function"){b.callback=null,N=b.priorityLevel;var J=le(b.expirationTime<=D);if(D=n.unstable_now(),typeof J=="function"){b.callback=J,B(D),M=!0;break t}b===i(g)&&o(g),B(D)}else o(g);b=i(g)}if(b!==null)M=!0;else{var C=i(p);C!==null&&ae(V,C.startTime-D),M=!1}}break e}finally{b=null,N=R,E=!1}M=void 0}}finally{M?ie():H=!1}}}var ie;if(typeof X=="function")ie=function(){X(ue)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Z=se.port2;se.port1.onmessage=ue,ie=function(){Z.postMessage(null)}}else ie=function(){A(ue,0)};function ae(D,M){$=A(function(){D(n.unstable_now())},M)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(D){switch(N){case 1:case 2:case 3:var M=3;break;default:M=N}var R=N;N=M;try{return D()}finally{N=R}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=N;N=D;try{return M()}finally{N=R}},n.unstable_scheduleCallback=function(D,M,R){var le=n.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?le+R:le):R=le,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=R+J,D={id:y++,callback:M,priorityLevel:D,startTime:R,expirationTime:J,sortIndex:-1},R>le?(D.sortIndex=R,r(p,D),i(g)===null&&D===i(p)&&(v?(O($),$=-1):v=!0,ae(V,R-le))):(D.sortIndex=J,r(g,D),w||E||(w=!0,H||(H=!0,ie()))),D},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(D){var M=N;return function(){var R=N;N=M;try{return D.apply(this,arguments)}finally{N=R}}}})(Hu)),Hu}var Fp;function l1(){return Fp||(Fp=1,Bu.exports=n1()),Bu.exports}var Uu={exports:{}},kt={};var Jp;function a1(){if(Jp)return kt;Jp=1;var n=Sf();function r(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,kt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return f(g,p,null,y)},kt.flushSync=function(g){var p=h.T,y=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=y,o.d.f()}},kt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},kt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},kt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:E}):y==="script"&&o.d.X(g,{crossOrigin:b,integrity:N,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},kt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},kt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);o.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},kt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},kt.requestFormReset=function(g){o.d.r(g)},kt.unstable_batchedUpdates=function(g,p){return g(p)},kt.useFormState=function(g,p,y){return h.H.useFormState(g,p,y)},kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},kt.version="19.2.3",kt}var Pp;function Sx(){if(Pp)return Uu.exports;Pp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Uu.exports=a1(),Uu.exports}var eg;function r1(){if(eg)return ri;eg=1;var n=l1(),r=Sf(),i=Sx();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var u=s.alternate;if(u===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===l)return g(s),e;if(u===a)return g(s),t;u=u.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=u;else{for(var x=!1,S=s.child;S;){if(S===l){x=!0,l=s,a=u;break}if(S===a){x=!0,a=s,l=u;break}S=S.sibling}if(!x){for(S=u.child;S;){if(S===l){x=!0,l=u,a=s;break}if(S===a){x=!0,a=u,l=s;break}S=S.sibling}if(!x)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),X=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case A:return"Profiler";case j:return"StrictMode";case V:return"Suspense";case H:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case X:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:Z(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return Z(e(t))}catch{}}return null}var ae=Array.isArray,D=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},le=[],J=-1;function C(e){return{current:e}}function U(e){0>J||(e.current=le[J],le[J]=null,J--)}function P(e,t){J++,le[J]=e.current,e.current=t}var re=C(null),xe=C(null),ge=C(null),de=C(null);function We(e,t){switch(P(ge,t),P(xe,e),P(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pp(t),e=gp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(re),P(re,e)}function oe(){U(re),U(xe),U(ge)}function Ne(e){e.memoizedState!==null&&P(de,e);var t=re.current,l=gp(t,e.type);t!==l&&(P(xe,e),P(re,l))}function Le(e){xe.current===e&&(U(re),U(xe)),de.current===e&&(U(de),ei._currentValue=R)}var Te,$e;function Tt(e){if(Te===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Te=t&&t[1]||"",$e=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+e+$e}var Mt=!1;function wt(e,t){if(!e||Mt)return"";Mt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var W=Q}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(Q){W=Q}e.call(ne.prototype)}}else{try{throw Error()}catch(Q){W=Q}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&W&&typeof Q.stack=="string")return[Q.stack,W.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),x=u[0],S=u[1];if(x&&S){var T=x.split(`
`),q=S.split(`
`);for(s=a=0;a<T.length&&!T[a].includes("DetermineComponentFrameRoot");)a++;for(;s<q.length&&!q[s].includes("DetermineComponentFrameRoot");)s++;if(a===T.length||s===q.length)for(a=T.length-1,s=q.length-1;1<=a&&0<=s&&T[a]!==q[s];)s--;for(;1<=a&&0<=s;a--,s--)if(T[a]!==q[s]){if(a!==1||s!==1)do if(a--,s--,0>s||T[a]!==q[s]){var F=`
`+T[a].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=a&&0<=s);break}}}finally{Mt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Tt(l):""}function _e(e,t){switch(e.tag){case 26:case 27:case 5:return Tt(e.type);case 16:return Tt("Lazy");case 13:return e.child!==t&&t!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return wt(e.type,!1);case 11:return wt(e.type.render,!1);case 1:return wt(e.type,!0);case 31:return Tt("Activity");default:return""}}function Wt(e){try{var t="",l=null;do t+=_e(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var xn=Object.prototype.hasOwnProperty,Bt=n.unstable_scheduleCallback,Bl=n.unstable_cancelCallback,sa=n.unstable_shouldYield,et=n.unstable_requestPaint,Pe=n.unstable_now,al=n.unstable_getCurrentPriorityLevel,ca=n.unstable_ImmediatePriority,ce=n.unstable_UserBlockingPriority,ve=n.unstable_NormalPriority,Ue=n.unstable_LowPriority,Qe=n.unstable_IdlePriority,at=n.log,En=n.unstable_setDisableYieldValue,yn=null,mt=null;function an(e){if(typeof at=="function"&&En(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(yn,e)}catch{}}var St=Math.clz32?Math.clz32:Ns,fr=Math.log,dr=Math.LN2;function Ns(e){return e>>>=0,e===0?32:31-(fr(e)/dr|0)|0}var Se=256,st=262144,Dt=4194304;function Nt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,u=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=a&134217727;return S!==0?(a=S&~u,a!==0?s=Nt(a):(x&=S,x!==0?s=Nt(x):l||(l=S&~e,l!==0&&(s=Nt(l))))):(S=a&~u,S!==0?s=Nt(S):x!==0?s=Nt(x):l||(l=a&~e,l!==0&&(s=Nt(l)))),s===0?0:t!==0&&t!==s&&(t&u)===0&&(u=s&-s,l=t&-t,u>=l||u===32&&(l&4194048)!==0)?t:s}function bn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ua(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(){var e=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),e}function fa(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function mr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ub(e,t,l,a,s,u){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,T=e.expirationTimes,q=e.hiddenUpdates;for(l=x&~l;0<l;){var F=31-St(l),ne=1<<F;S[F]=0,T[F]=-1;var W=q[F];if(W!==null)for(q[F]=null,F=0;F<W.length;F++){var Q=W[F];Q!==null&&(Q.lane&=-536870913)}l&=~ne}a!==0&&Ff(e,a,0),u!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=u&~(x&~t))}function Ff(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-St(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Jf(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-St(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function Pf(e,t){var l=t&-t;return l=(l&42)!==0?1:Es(l),(l&(e.suspendedLanes|t))!==0?0:l}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ed(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:Hp(e.type))}function td(e,t){var l=M.p;try{return M.p=e,t()}finally{M.p=l}}var rl=Math.random().toString(36).slice(2),Et="__reactFiber$"+rl,Ht="__reactProps$"+rl,da="__reactContainer$"+rl,Cs="__reactEvents$"+rl,Ib="__reactListeners$"+rl,Yb="__reactHandles$"+rl,nd="__reactResources$"+rl,pr="__reactMarker$"+rl;function As(e){delete e[Et],delete e[Ht],delete e[Cs],delete e[Ib],delete e[Yb]}function ha(e){var t=e[Et];if(t)return t;for(var l=e.parentNode;l;){if(t=l[da]||l[Et]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Np(e);e!==null;){if(l=e[Et])return l;e=Np(e)}return t}e=l,l=e.parentNode}return null}function ma(e){if(e=e[Et]||e[da]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function pa(e){var t=e[nd];return t||(t=e[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[pr]=!0}var ld=new Set,ad={};function Hl(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for(ad[e]=t,e=0;e<t.length;e++)ld.add(t[e])}var $b=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rd={},id={};function Gb(e){return xn.call(id,e)?!0:xn.call(rd,e)?!1:$b.test(e)?id[e]=!0:(rd[e]=!0,!1)}function Oi(e,t,l){if(Gb(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Ti(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function zn(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function od(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qb(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(x){l=""+x,u.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){if(!e._valueTracker){var t=od(e)?"checked":"value";e._valueTracker=qb(e,t,""+e[t])}}function sd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=od(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xb=/[\n"\\]/g;function on(e){return e.replace(Xb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Os(e,t,l,a,s,u,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+rn(t)):e.value!==""+rn(t)&&(e.value=""+rn(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Ts(e,x,rn(t)):l!=null?Ts(e,x,rn(l)):a!=null&&e.removeAttribute("value"),s==null&&u!=null&&(e.defaultChecked=!!u),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+rn(S):e.removeAttribute("name")}function cd(e,t,l,a,s,u,x,S){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||l!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){_s(e);return}l=l!=null?""+rn(l):"",t=t!=null?""+rn(t):l,S||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=S?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),_s(e)}function Ts(e,t,l){t==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function xa(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+rn(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ud(e,t,l){if(t!=null&&(t=""+rn(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+rn(l):""}function fd(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(ae(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=rn(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),_s(e)}function ya(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Wb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dd(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Wb.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function hd(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&dd(e,s,a)}else for(var u in t)t.hasOwnProperty(u)&&dd(e,u,t[u])}function Ms(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Di(e){return Qb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var Ds=null;function ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,va=null;function md(e){var t=ma(e);if(t&&(e=t.stateNode)){var l=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Os(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[Ht]||null;if(!s)throw Error(o(90));Os(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&sd(a)}break e;case"textarea":ud(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&xa(e,!!l.multiple,t,!1)}}}var Rs=!1;function pd(e,t,l){if(Rs)return e(t,l);Rs=!0;try{var a=e(t);return a}finally{if(Rs=!1,(ba!==null||va!==null)&&(vo(),ba&&(t=ba,e=va,va=ba=null,md(t),e)))for(t=0;t<e.length;t++)md(e[t])}}function xr(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Ht]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(Vn)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){zs=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{zs=!1}var il=null,Ls=null,ki=null;function gd(){if(ki)return ki;var e,t=Ls,l=t.length,a,s="value"in il?il.value:il.textContent,u=s.length;for(e=0;e<l&&t[e]===s[e];e++);var x=l-e;for(a=1;a<=x&&t[l-a]===s[u-a];a++);return ki=s.slice(e,1<a?1-a:void 0)}function Ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function xd(){return!1}function Ut(e){function t(l,a,s,u,x){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(u):u[S]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?zi:xd,this.isPropagationStopped=xd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Ut(Ul),br=b({},Ul,{view:0,detail:0}),Kb=Ut(br),Vs,Bs,vr,Vi=b({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(Vs=e.screenX-vr.screenX,Bs=e.screenY-vr.screenY):Bs=Vs=0,vr=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),yd=Ut(Vi),Fb=b({},Vi,{dataTransfer:0}),Jb=Ut(Fb),Pb=b({},br,{relatedTarget:0}),Hs=Ut(Pb),e0=b({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),t0=Ut(e0),n0=b({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l0=Ut(n0),a0=b({},Ul,{data:0}),bd=Ut(a0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o0[e])?!!t[e]:!1}function Us(){return s0}var c0=b({},br,{key:function(e){if(e.key){var t=r0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(e){return e.type==="keypress"?Ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u0=Ut(c0),f0=b({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vd=Ut(f0),d0=b({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),h0=Ut(d0),m0=b({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),p0=Ut(m0),g0=b({},Vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=Ut(g0),y0=b({},Ul,{newState:0,oldState:0}),b0=Ut(y0),v0=[9,13,27,32],Is=Vn&&"CompositionEvent"in window,wr=null;Vn&&"documentMode"in document&&(wr=document.documentMode);var w0=Vn&&"TextEvent"in window&&!wr,wd=Vn&&(!Is||wr&&8<wr&&11>=wr),Sd=" ",Nd=!1;function Ed(e,t){switch(e){case"keyup":return v0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function S0(e,t){switch(e){case"compositionend":return jd(t);case"keypress":return t.which!==32?null:(Nd=!0,Sd);case"textInput":return e=t.data,e===Sd&&Nd?null:e;default:return null}}function N0(e,t){if(wa)return e==="compositionend"||!Is&&Ed(e,t)?(e=gd(),ki=Ls=il=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wd&&t.locale!=="ko"?null:t.data;default:return null}}var E0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E0[e.type]:t==="textarea"}function Ad(e,t,l,a){ba?va?va.push(a):va=[a]:ba=a,t=Ao(t,"onChange"),0<t.length&&(l=new Li("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Sr=null,Nr=null;function j0(e){cp(e,0)}function Bi(e){var t=gr(e);if(sd(t))return e}function _d(e,t){if(e==="change")return t}var Od=!1;if(Vn){var Ys;if(Vn){var $s="oninput"in document;if(!$s){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),$s=typeof Td.oninput=="function"}Ys=$s}else Ys=!1;Od=Ys&&(!document.documentMode||9<document.documentMode)}function Md(){Sr&&(Sr.detachEvent("onpropertychange",Dd),Nr=Sr=null)}function Dd(e){if(e.propertyName==="value"&&Bi(Nr)){var t=[];Ad(t,Nr,e,ks(e)),pd(j0,t)}}function C0(e,t,l){e==="focusin"?(Md(),Sr=t,Nr=l,Sr.attachEvent("onpropertychange",Dd)):e==="focusout"&&Md()}function A0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(Nr)}function _0(e,t){if(e==="click")return Bi(t)}function O0(e,t){if(e==="input"||e==="change")return Bi(t)}function T0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:T0;function Er(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!xn.call(t,s)||!Zt(e[s],t[s]))return!1}return!0}function kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,t){var l=kd(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kd(l)}}function zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Mi(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Mi(e.document)}return t}function Gs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var M0=Vn&&"documentMode"in document&&11>=document.documentMode,Sa=null,qs=null,jr=null,Xs=!1;function Vd(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xs||Sa==null||Sa!==Mi(a)||(a=Sa,"selectionStart"in a&&Gs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),jr&&Er(jr,a)||(jr=a,a=Ao(qs,"onSelect"),0<a.length&&(t=new Li("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Sa)))}function Il(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Na={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionrun:Il("Transition","TransitionRun"),transitionstart:Il("Transition","TransitionStart"),transitioncancel:Il("Transition","TransitionCancel"),transitionend:Il("Transition","TransitionEnd")},Ws={},Bd={};Vn&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Yl(e){if(Ws[e])return Ws[e];if(!Na[e])return e;var t=Na[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Bd)return Ws[e]=t[l];return e}var Hd=Yl("animationend"),Ud=Yl("animationiteration"),Id=Yl("animationstart"),D0=Yl("transitionrun"),k0=Yl("transitionstart"),R0=Yl("transitioncancel"),Yd=Yl("transitionend"),$d=new Map,Zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zs.push("scrollEnd");function vn(e,t){$d.set(e,t),Hl(t,[e])}var Hi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sn=[],Ea=0,Qs=0;function Ui(){for(var e=Ea,t=Qs=Ea=0;t<e;){var l=sn[t];sn[t++]=null;var a=sn[t];sn[t++]=null;var s=sn[t];sn[t++]=null;var u=sn[t];if(sn[t++]=null,a!==null&&s!==null){var x=a.pending;x===null?s.next=s:(s.next=x.next,x.next=s),a.pending=s}u!==0&&Gd(l,s,u)}}function Ii(e,t,l,a){sn[Ea++]=e,sn[Ea++]=t,sn[Ea++]=l,sn[Ea++]=a,Qs|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ks(e,t,l,a){return Ii(e,t,l,a),Yi(e)}function $l(e,t){return Ii(e,null,null,t),Yi(e)}function Gd(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,u=e.return;u!==null;)u.childLanes|=l,a=u.alternate,a!==null&&(a.childLanes|=l),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(s=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,s&&t!==null&&(s=31-St(l),e=u.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),u):null}function Yi(e){if(50<Wr)throw Wr=0,ru=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ja={};function z0(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,l,a){return new z0(e,t,l,a)}function Fs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bn(e,t){var l=e.alternate;return l===null?(l=Qt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function qd(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $i(e,t,l,a,s,u){var x=0;if(a=e,typeof e=="function")Fs(e)&&(x=1);else if(typeof e=="string")x=Uv(e,l,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Qt(31,l,t,s),e.elementType=K,e.lanes=u,e;case v:return Gl(l.children,s,u,t);case j:x=8,s|=24;break;case A:return e=Qt(12,l,t,s|2),e.elementType=A,e.lanes=u,e;case V:return e=Qt(13,l,t,s),e.elementType=V,e.lanes=u,e;case H:return e=Qt(19,l,t,s),e.elementType=H,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:x=10;break e;case O:x=9;break e;case B:x=11;break e;case $:x=14;break e;case Y:x=16,a=null;break e}x=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Qt(x,l,t,s),t.elementType=e,t.type=a,t.lanes=u,t}function Gl(e,t,l,a){return e=Qt(7,e,a,t),e.lanes=l,e}function Js(e,t,l){return e=Qt(6,e,null,t),e.lanes=l,e}function Xd(e){var t=Qt(18,null,null,0);return t.stateNode=e,t}function Ps(e,t,l){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wd=new WeakMap;function cn(e,t){if(typeof e=="object"&&e!==null){var l=Wd.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Wt(t)},Wd.set(e,t),t)}return{value:e,source:t,stack:Wt(t)}}var Ca=[],Aa=0,Gi=null,Cr=0,un=[],fn=0,ol=null,Cn=1,An="";function Hn(e,t){Ca[Aa++]=Cr,Ca[Aa++]=Gi,Gi=e,Cr=t}function Zd(e,t,l){un[fn++]=Cn,un[fn++]=An,un[fn++]=ol,ol=e;var a=Cn;e=An;var s=32-St(a)-1;a&=~(1<<s),l+=1;var u=32-St(t)+s;if(30<u){var x=s-s%5;u=(a&(1<<x)-1).toString(32),a>>=x,s-=x,Cn=1<<32-St(t)+s|l<<s|a,An=u+e}else Cn=1<<u|l<<s|a,An=e}function ec(e){e.return!==null&&(Hn(e,1),Zd(e,1,0))}function tc(e){for(;e===Gi;)Gi=Ca[--Aa],Ca[Aa]=null,Cr=Ca[--Aa],Ca[Aa]=null;for(;e===ol;)ol=un[--fn],un[fn]=null,An=un[--fn],un[fn]=null,Cn=un[--fn],un[fn]=null}function Qd(e,t){un[fn++]=Cn,un[fn++]=An,un[fn++]=ol,Cn=t.id,An=t.overflow,ol=e}var jt=null,Ke=null,ze=!1,sl=null,dn=!1,nc=Error(o(519));function cl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ar(cn(t,e)),nc}function Kd(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Et]=e,t[Ht]=a,l){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(l=0;l<Qr.length;l++)De(Qr[l],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),cd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),fd(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||hp(t.textContent,l)?(a.popover!=null&&(De("beforetoggle",t),De("toggle",t)),a.onScroll!=null&&De("scroll",t),a.onScrollEnd!=null&&De("scrollend",t),a.onClick!=null&&(t.onclick=Ln),t=!0):t=!1,t||cl(e,!0)}function Fd(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:jt=jt.return}}function _a(e){if(e!==jt)return!1;if(!ze)return Fd(e),ze=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||vu(e.type,e.memoizedProps)),l=!l),l&&Ke&&cl(e),Fd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=Sp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=Sp(e)}else t===27?(t=Ke,Nl(e.type)?(e=ju,ju=null,Ke=e):Ke=t):Ke=jt?mn(e.stateNode.nextSibling):null;return!0}function ql(){Ke=jt=null,ze=!1}function lc(){var e=sl;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),sl=null),e}function Ar(e){sl===null?sl=[e]:sl.push(e)}var ac=C(null),Xl=null,Un=null;function ul(e,t,l){P(ac,t._currentValue),t._currentValue=l}function In(e){e._currentValue=ac.current,U(ac)}function rc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function ic(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){var x=s.child;u=u.firstContext;e:for(;u!==null;){var S=u;u=s;for(var T=0;T<t.length;T++)if(S.context===t[T]){u.lanes|=l,S=u.alternate,S!==null&&(S.lanes|=l),rc(u.return,l,e),a||(x=null);break e}u=S.next}}else if(s.tag===18){if(x=s.return,x===null)throw Error(o(341));x.lanes|=l,u=x.alternate,u!==null&&(u.lanes|=l),rc(x,l,e),x=null}else x=s.child;if(x!==null)x.return=s;else for(x=s;x!==null;){if(x===e){x=null;break}if(s=x.sibling,s!==null){s.return=x.return,x=s;break}x=x.return}s=x}}function Oa(e,t,l,a){e=null;for(var s=t,u=!1;s!==null;){if(!u){if((s.flags&524288)!==0)u=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var x=s.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var S=s.type;Zt(s.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(s===de.current){if(x=s.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ei):e=[ei])}s=s.return}e!==null&&ic(t,e,l,a),t.flags|=262144}function qi(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wl(e){Xl=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return Jd(Xl,e)}function Xi(e,t){return Xl===null&&Wl(e),Jd(e,t)}function Jd(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Un===null){if(e===null)throw Error(o(308));Un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Un=Un.next=t;return l}var L0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},V0=n.unstable_scheduleCallback,B0=n.unstable_NormalPriority,ct={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new L0,data:new Map,refCount:0}}function _r(e){e.refCount--,e.refCount===0&&V0(B0,function(){e.controller.abort()})}var Or=null,sc=0,Ta=0,Ma=null;function H0(e,t){if(Or===null){var l=Or=[];sc=0,Ta=fu(),Ma={status:"pending",value:void 0,then:function(a){l.push(a)}}}return sc++,t.then(Pd,Pd),t}function Pd(){if(--sc===0&&Or!==null){Ma!==null&&(Ma.status="fulfilled");var e=Or;Or=null,Ta=0,Ma=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function U0(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var eh=D.S;D.S=function(e,t){Vm=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&H0(e,t),eh!==null&&eh(e,t)};var Zl=C(null);function cc(){var e=Zl.current;return e!==null?e:Ze.pooledCache}function Wi(e,t){t===null?P(Zl,Zl.current):P(Zl,t.pool)}function th(){var e=cc();return e===null?null:{parent:ct._currentValue,pool:e}}var Da=Error(o(460)),uc=Error(o(474)),Zi=Error(o(542)),Qi={then:function(){}};function nh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lh(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Ln,Ln),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rh(e),e;default:if(typeof t.status=="string")t.then(Ln,Ln);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rh(e),e}throw Kl=t,Da}}function Ql(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Kl=l,Da):l}}var Kl=null;function ah(){if(Kl===null)throw Error(o(459));var e=Kl;return Kl=null,e}function rh(e){if(e===Da||e===Zi)throw Error(o(483))}var ka=null,Tr=0;function Ki(e){var t=Tr;return Tr+=1,ka===null&&(ka=[]),lh(ka,e,t)}function Mr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fi(e,t){throw t.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ih(e){function t(I,L){if(e){var G=I.deletions;G===null?(I.deletions=[L],I.flags|=16):G.push(L)}}function l(I,L){if(!e)return null;for(;L!==null;)t(I,L),L=L.sibling;return null}function a(I){for(var L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function s(I,L){return I=Bn(I,L),I.index=0,I.sibling=null,I}function u(I,L,G){return I.index=G,e?(G=I.alternate,G!==null?(G=G.index,G<L?(I.flags|=67108866,L):G):(I.flags|=67108866,L)):(I.flags|=1048576,L)}function x(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function S(I,L,G,ee){return L===null||L.tag!==6?(L=Js(G,I.mode,ee),L.return=I,L):(L=s(L,G),L.return=I,L)}function T(I,L,G,ee){var be=G.type;return be===v?F(I,L,G.props.children,ee,G.key):L!==null&&(L.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Y&&Ql(be)===L.type)?(L=s(L,G.props),Mr(L,G),L.return=I,L):(L=$i(G.type,G.key,G.props,null,I.mode,ee),Mr(L,G),L.return=I,L)}function q(I,L,G,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Ps(G,I.mode,ee),L.return=I,L):(L=s(L,G.children||[]),L.return=I,L)}function F(I,L,G,ee,be){return L===null||L.tag!==7?(L=Gl(G,I.mode,ee,be),L.return=I,L):(L=s(L,G),L.return=I,L)}function ne(I,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Js(""+L,I.mode,G),L.return=I,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return G=$i(L.type,L.key,L.props,null,I.mode,G),Mr(G,L),G.return=I,G;case w:return L=Ps(L,I.mode,G),L.return=I,L;case Y:return L=Ql(L),ne(I,L,G)}if(ae(L)||ie(L))return L=Gl(L,I.mode,G,null),L.return=I,L;if(typeof L.then=="function")return ne(I,Ki(L),G);if(L.$$typeof===X)return ne(I,Xi(I,L),G);Fi(I,L)}return null}function W(I,L,G,ee){var be=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:S(I,L,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===be?T(I,L,G,ee):null;case w:return G.key===be?q(I,L,G,ee):null;case Y:return G=Ql(G),W(I,L,G,ee)}if(ae(G)||ie(G))return be!==null?null:F(I,L,G,ee,null);if(typeof G.then=="function")return W(I,L,Ki(G),ee);if(G.$$typeof===X)return W(I,L,Xi(I,G),ee);Fi(I,G)}return null}function Q(I,L,G,ee,be){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return I=I.get(G)||null,S(L,I,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return I=I.get(ee.key===null?G:ee.key)||null,T(L,I,ee,be);case w:return I=I.get(ee.key===null?G:ee.key)||null,q(L,I,ee,be);case Y:return ee=Ql(ee),Q(I,L,G,ee,be)}if(ae(ee)||ie(ee))return I=I.get(G)||null,F(L,I,ee,be,null);if(typeof ee.then=="function")return Q(I,L,G,Ki(ee),be);if(ee.$$typeof===X)return Q(I,L,G,Xi(L,ee),be);Fi(L,ee)}return null}function fe(I,L,G,ee){for(var be=null,Ve=null,pe=L,Ce=L=0,Re=null;pe!==null&&Ce<G.length;Ce++){pe.index>Ce?(Re=pe,pe=null):Re=pe.sibling;var Be=W(I,pe,G[Ce],ee);if(Be===null){pe===null&&(pe=Re);break}e&&pe&&Be.alternate===null&&t(I,pe),L=u(Be,L,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be,pe=Re}if(Ce===G.length)return l(I,pe),ze&&Hn(I,Ce),be;if(pe===null){for(;Ce<G.length;Ce++)pe=ne(I,G[Ce],ee),pe!==null&&(L=u(pe,L,Ce),Ve===null?be=pe:Ve.sibling=pe,Ve=pe);return ze&&Hn(I,Ce),be}for(pe=a(pe);Ce<G.length;Ce++)Re=Q(pe,I,Ce,G[Ce],ee),Re!==null&&(e&&Re.alternate!==null&&pe.delete(Re.key===null?Ce:Re.key),L=u(Re,L,Ce),Ve===null?be=Re:Ve.sibling=Re,Ve=Re);return e&&pe.forEach(function(_l){return t(I,_l)}),ze&&Hn(I,Ce),be}function we(I,L,G,ee){if(G==null)throw Error(o(151));for(var be=null,Ve=null,pe=L,Ce=L=0,Re=null,Be=G.next();pe!==null&&!Be.done;Ce++,Be=G.next()){pe.index>Ce?(Re=pe,pe=null):Re=pe.sibling;var _l=W(I,pe,Be.value,ee);if(_l===null){pe===null&&(pe=Re);break}e&&pe&&_l.alternate===null&&t(I,pe),L=u(_l,L,Ce),Ve===null?be=_l:Ve.sibling=_l,Ve=_l,pe=Re}if(Be.done)return l(I,pe),ze&&Hn(I,Ce),be;if(pe===null){for(;!Be.done;Ce++,Be=G.next())Be=ne(I,Be.value,ee),Be!==null&&(L=u(Be,L,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be);return ze&&Hn(I,Ce),be}for(pe=a(pe);!Be.done;Ce++,Be=G.next())Be=Q(pe,I,Ce,Be.value,ee),Be!==null&&(e&&Be.alternate!==null&&pe.delete(Be.key===null?Ce:Be.key),L=u(Be,L,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be);return e&&pe.forEach(function(Fv){return t(I,Fv)}),ze&&Hn(I,Ce),be}function Xe(I,L,G,ee){if(typeof G=="object"&&G!==null&&G.type===v&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var be=G.key;L!==null;){if(L.key===be){if(be=G.type,be===v){if(L.tag===7){l(I,L.sibling),ee=s(L,G.props.children),ee.return=I,I=ee;break e}}else if(L.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Y&&Ql(be)===L.type){l(I,L.sibling),ee=s(L,G.props),Mr(ee,G),ee.return=I,I=ee;break e}l(I,L);break}else t(I,L);L=L.sibling}G.type===v?(ee=Gl(G.props.children,I.mode,ee,G.key),ee.return=I,I=ee):(ee=$i(G.type,G.key,G.props,null,I.mode,ee),Mr(ee,G),ee.return=I,I=ee)}return x(I);case w:e:{for(be=G.key;L!==null;){if(L.key===be)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){l(I,L.sibling),ee=s(L,G.children||[]),ee.return=I,I=ee;break e}else{l(I,L);break}else t(I,L);L=L.sibling}ee=Ps(G,I.mode,ee),ee.return=I,I=ee}return x(I);case Y:return G=Ql(G),Xe(I,L,G,ee)}if(ae(G))return fe(I,L,G,ee);if(ie(G)){if(be=ie(G),typeof be!="function")throw Error(o(150));return G=be.call(G),we(I,L,G,ee)}if(typeof G.then=="function")return Xe(I,L,Ki(G),ee);if(G.$$typeof===X)return Xe(I,L,Xi(I,G),ee);Fi(I,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(l(I,L.sibling),ee=s(L,G),ee.return=I,I=ee):(l(I,L),ee=Js(G,I.mode,ee),ee.return=I,I=ee),x(I)):l(I,L)}return function(I,L,G,ee){try{Tr=0;var be=Xe(I,L,G,ee);return ka=null,be}catch(pe){if(pe===Da||pe===Zi)throw pe;var Ve=Qt(29,pe,null,I.mode);return Ve.lanes=ee,Ve.return=I,Ve}}}var Fl=ih(!0),oh=ih(!1),fl=!1;function fc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(He&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Yi(e),Gd(e,null,l),t}return Ii(e,a,t,l),Yi(e)}function Dr(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Jf(e,l)}}function hc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,u=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};u===null?s=u=x:u=u.next=x,l=l.next}while(l!==null);u===null?s=u=t:u=u.next=t}else s=u=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var mc=!1;function kr(){if(mc){var e=Ma;if(e!==null)throw e}}function Rr(e,t,l,a){mc=!1;var s=e.updateQueue;fl=!1;var u=s.firstBaseUpdate,x=s.lastBaseUpdate,S=s.shared.pending;if(S!==null){s.shared.pending=null;var T=S,q=T.next;T.next=null,x===null?u=q:x.next=q,x=T;var F=e.alternate;F!==null&&(F=F.updateQueue,S=F.lastBaseUpdate,S!==x&&(S===null?F.firstBaseUpdate=q:S.next=q,F.lastBaseUpdate=T))}if(u!==null){var ne=s.baseState;x=0,F=q=T=null,S=u;do{var W=S.lane&-536870913,Q=W!==S.lane;if(Q?(ke&W)===W:(a&W)===W){W!==0&&W===Ta&&(mc=!0),F!==null&&(F=F.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=e,we=S;W=t;var Xe=l;switch(we.tag){case 1:if(fe=we.payload,typeof fe=="function"){ne=fe.call(Xe,ne,W);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=we.payload,W=typeof fe=="function"?fe.call(Xe,ne,W):fe,W==null)break e;ne=b({},ne,W);break e;case 2:fl=!0}}W=S.callback,W!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=s.callbacks,Q===null?s.callbacks=[W]:Q.push(W))}else Q={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},F===null?(q=F=Q,T=ne):F=F.next=Q,x|=W;if(S=S.next,S===null){if(S=s.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,s.lastBaseUpdate=Q,s.shared.pending=null}}while(!0);F===null&&(T=ne),s.baseState=T,s.firstBaseUpdate=q,s.lastBaseUpdate=F,u===null&&(s.shared.lanes=0),yl|=x,e.lanes=x,e.memoizedState=ne}}function sh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function ch(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)sh(l[e],t)}var Ra=C(null),Ji=C(0);function uh(e,t){e=Kn,P(Ji,e),P(Ra,t),Kn=e|t.baseLanes}function pc(){P(Ji,Kn),P(Ra,Ra.current)}function gc(){Kn=Ji.current,U(Ra),U(Ji)}var Kt=C(null),hn=null;function ml(e){var t=e.alternate;P(rt,rt.current&1),P(Kt,e),hn===null&&(t===null||Ra.current!==null||t.memoizedState!==null)&&(hn=e)}function xc(e){P(rt,rt.current),P(Kt,e),hn===null&&(hn=e)}function fh(e){e.tag===22?(P(rt,rt.current),P(Kt,e),hn===null&&(hn=e)):pl()}function pl(){P(rt,rt.current),P(Kt,Kt.current)}function Ft(e){U(Kt),hn===e&&(hn=null),U(rt)}var rt=C(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Nu(l)||Eu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yn=0,je=null,Ge=null,ut=null,eo=!1,za=!1,Jl=!1,to=0,zr=0,La=null,I0=0;function tt(){throw Error(o(321))}function yc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Zt(e[l],t[l]))return!1;return!0}function bc(e,t,l,a,s,u){return Yn=u,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Zh:Rc,Jl=!1,u=l(a,s),Jl=!1,za&&(u=hh(t,l,a,s)),dh(e),u}function dh(e){D.H=Br;var t=Ge!==null&&Ge.next!==null;if(Yn=0,ut=Ge=je=null,eo=!1,zr=0,La=null,t)throw Error(o(300));e===null||ft||(e=e.dependencies,e!==null&&qi(e)&&(ft=!0))}function hh(e,t,l,a){je=e;var s=0;do{if(za&&(La=null),zr=0,za=!1,25<=s)throw Error(o(301));if(s+=1,ut=Ge=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Qh,u=t(l,a)}while(za);return u}function Y0(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Lr(t):t,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(je.flags|=1024),t}function vc(){var e=to!==0;return to=0,e}function wc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Sc(e){if(eo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}eo=!1}Yn=0,ut=Ge=je=null,za=!1,zr=to=0,La=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?je.memoizedState=ut=e:ut=ut.next=e,ut}function it(){if(Ge===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=ut===null?je.memoizedState:ut.next;if(t!==null)ut=t,Ge=e;else{if(e===null)throw je.alternate===null?Error(o(467)):Error(o(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},ut===null?je.memoizedState=ut=e:ut=ut.next=e}return ut}function no(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lr(e){var t=zr;return zr+=1,La===null&&(La=[]),e=lh(La,e,t),t=je,(ut===null?t.memoizedState:ut.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Zh:Rc),e}function lo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lr(e);if(e.$$typeof===X)return Ct(e)}throw Error(o(438,String(e)))}function Nc(e){var t=null,l=je.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=je.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=no(),je.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=te;return t.index++,l}function $n(e,t){return typeof t=="function"?t(e):t}function ao(e){var t=it();return Ec(t,Ge,e)}function Ec(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,u=a.pending;if(u!==null){if(s!==null){var x=s.next;s.next=u.next,u.next=x}t.baseQueue=s=u,a.pending=null}if(u=e.baseState,s===null)e.memoizedState=u;else{t=s.next;var S=x=null,T=null,q=t,F=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(ke&ne)===ne:(Yn&ne)===ne){var W=q.revertLane;if(W===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===Ta&&(F=!0);else if((Yn&W)===W){q=q.next,W===Ta&&(F=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},T===null?(S=T=ne,x=u):T=T.next=ne,je.lanes|=W,yl|=W;ne=q.action,Jl&&l(u,ne),u=q.hasEagerState?q.eagerState:l(u,ne)}else W={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},T===null?(S=T=W,x=u):T=T.next=W,je.lanes|=ne,yl|=ne;q=q.next}while(q!==null&&q!==t);if(T===null?x=u:T.next=S,!Zt(u,e.memoizedState)&&(ft=!0,F&&(l=Ma,l!==null)))throw l;e.memoizedState=u,e.baseState=x,e.baseQueue=T,a.lastRenderedState=u}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function jc(e){var t=it(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,u=t.memoizedState;if(s!==null){l.pending=null;var x=s=s.next;do u=e(u,x.action),x=x.next;while(x!==s);Zt(u,t.memoizedState)||(ft=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),l.lastRenderedState=u}return[u,a]}function mh(e,t,l){var a=je,s=it(),u=ze;if(u){if(l===void 0)throw Error(o(407));l=l()}else l=t();var x=!Zt((Ge||s).memoizedState,l);if(x&&(s.memoizedState=l,ft=!0),s=s.queue,_c(xh.bind(null,a,s,e),[e]),s.getSnapshot!==t||x||ut!==null&&ut.memoizedState.tag&1){if(a.flags|=2048,Va(9,{destroy:void 0},gh.bind(null,a,s,l,t),null),Ze===null)throw Error(o(349));u||(Yn&127)!==0||ph(a,t,l)}return l}function ph(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=je.updateQueue,t===null?(t=no(),je.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function gh(e,t,l,a){t.value=l,t.getSnapshot=a,yh(t)&&bh(e)}function xh(e,t,l){return l(function(){yh(t)&&bh(e)})}function yh(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Zt(e,l)}catch{return!0}}function bh(e){var t=$l(e,2);t!==null&&qt(t,e,2)}function Cc(e){var t=Lt();if(typeof e=="function"){var l=e;if(e=l(),Jl){an(!0);try{l()}finally{an(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},t}function vh(e,t,l,a){return e.baseState=l,Ec(e,Ge,typeof a=="function"?a:$n)}function $0(e,t,l,a,s){if(oo(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){u.listeners.push(x)}};D.T!==null?l(!0):u.isTransition=!1,a(u),l=t.pending,l===null?(u.next=t.pending=u,wh(t,u)):(u.next=l.next,t.pending=l.next=u)}}function wh(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var u=D.T,x={};D.T=x;try{var S=l(s,a),T=D.S;T!==null&&T(x,S),Sh(e,t,S)}catch(q){Ac(e,t,q)}finally{u!==null&&x.types!==null&&(u.types=x.types),D.T=u}}else try{u=l(s,a),Sh(e,t,u)}catch(q){Ac(e,t,q)}}function Sh(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Nh(e,t,a)},function(a){return Ac(e,t,a)}):Nh(e,t,l)}function Nh(e,t,l){t.status="fulfilled",t.value=l,Eh(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,wh(e,l)))}function Ac(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Eh(t),t=t.next;while(t!==a)}e.action=null}function Eh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function jh(e,t){return t}function Ch(e,t){if(ze){var l=Ze.formState;if(l!==null){e:{var a=je;if(ze){if(Ke){t:{for(var s=Ke,u=dn;s.nodeType!==8;){if(!u){s=null;break t}if(s=mn(s.nextSibling),s===null){s=null;break t}}u=s.data,s=u==="F!"||u==="F"?s:null}if(s){Ke=mn(s.nextSibling),a=s.data==="F!";break e}}cl(a)}a=!1}a&&(t=l[0])}}return l=Lt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:t},l.queue=a,l=qh.bind(null,je,a),a.dispatch=l,a=Cc(!1),u=kc.bind(null,je,!1,a.queue),a=Lt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=$0.bind(null,je,s,u,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function Ah(e){var t=it();return _h(t,Ge,e)}function _h(e,t,l){if(t=Ec(e,t,jh)[0],e=ao($n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Lr(t)}catch(x){throw x===Da?Zi:x}else a=t;t=it();var s=t.queue,u=s.dispatch;return l!==t.memoizedState&&(je.flags|=2048,Va(9,{destroy:void 0},G0.bind(null,s,l),null)),[a,u,e]}function G0(e,t){e.action=t}function Oh(e){var t=it(),l=Ge;if(l!==null)return _h(t,l,e);it(),t=t.memoizedState,l=it();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Va(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=je.updateQueue,t===null&&(t=no(),je.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Th(){return it().memoizedState}function ro(e,t,l,a){var s=Lt();je.flags|=e,s.memoizedState=Va(1|t,{destroy:void 0},l,a===void 0?null:a)}function io(e,t,l,a){var s=it();a=a===void 0?null:a;var u=s.memoizedState.inst;Ge!==null&&a!==null&&yc(a,Ge.memoizedState.deps)?s.memoizedState=Va(t,u,l,a):(je.flags|=e,s.memoizedState=Va(1|t,u,l,a))}function Mh(e,t){ro(8390656,8,e,t)}function _c(e,t){io(2048,8,e,t)}function q0(e){je.flags|=4;var t=je.updateQueue;if(t===null)t=no(),je.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Dh(e){var t=it().memoizedState;return q0({ref:t,nextImpl:e}),function(){if((He&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function kh(e,t){return io(4,2,e,t)}function Rh(e,t){return io(4,4,e,t)}function zh(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lh(e,t,l){l=l!=null?l.concat([e]):null,io(4,4,zh.bind(null,t,e),l)}function Oc(){}function Vh(e,t){var l=it();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&yc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Bh(e,t){var l=it();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&yc(t,a[1]))return a[0];if(a=e(),Jl){an(!0);try{e()}finally{an(!1)}}return l.memoizedState=[a,t],a}function Tc(e,t,l){return l===void 0||(Yn&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Hm(),je.lanes|=e,yl|=e,l)}function Hh(e,t,l,a){return Zt(l,t)?l:Ra.current!==null?(e=Tc(e,l,a),Zt(e,t)||(ft=!0),e):(Yn&42)===0||(Yn&1073741824)!==0&&(ke&261930)===0?(ft=!0,e.memoizedState=l):(e=Hm(),je.lanes|=e,yl|=e,t)}function Uh(e,t,l,a,s){var u=M.p;M.p=u!==0&&8>u?u:8;var x=D.T,S={};D.T=S,kc(e,!1,t,l);try{var T=s(),q=D.S;if(q!==null&&q(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var F=U0(T,a);Vr(e,t,F,en(e))}else Vr(e,t,a,en(e))}catch(ne){Vr(e,t,{then:function(){},status:"rejected",reason:ne},en())}finally{M.p=u,x!==null&&S.types!==null&&(x.types=S.types),D.T=x}}function X0(){}function Mc(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=Ih(e).queue;Uh(e,s,t,R,l===null?X0:function(){return Yh(e),l(a)})}function Ih(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:R},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yh(e){var t=Ih(e);t.next===null&&(t=e.alternate.memoizedState),Vr(e,t.next.queue,{},en())}function Dc(){return Ct(ei)}function $h(){return it().memoizedState}function Gh(){return it().memoizedState}function W0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=en();e=dl(l);var a=hl(t,e,l);a!==null&&(qt(a,t,l),Dr(a,t,l)),t={cache:oc()},e.payload=t;return}t=t.return}}function Z0(e,t,l){var a=en();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oo(e)?Xh(t,l):(l=Ks(e,t,l,a),l!==null&&(qt(l,e,a),Wh(l,t,a)))}function qh(e,t,l){var a=en();Vr(e,t,l,a)}function Vr(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(oo(e))Xh(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var x=t.lastRenderedState,S=u(x,l);if(s.hasEagerState=!0,s.eagerState=S,Zt(S,x))return Ii(e,t,s,0),Ze===null&&Ui(),!1}catch{}if(l=Ks(e,t,s,a),l!==null)return qt(l,e,a),Wh(l,t,a),!0}return!1}function kc(e,t,l,a){if(a={lane:2,revertLane:fu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oo(e)){if(t)throw Error(o(479))}else t=Ks(e,l,a,2),t!==null&&qt(t,e,2)}function oo(e){var t=e.alternate;return e===je||t!==null&&t===je}function Xh(e,t){za=eo=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Wh(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Jf(e,l)}}var Br={readContext:Ct,use:lo,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};Br.useEffectEvent=tt;var Zh={readContext:Ct,use:lo,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Mh,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ro(4194308,4,zh.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){ro(4,2,e,t)},useMemo:function(e,t){var l=Lt();t=t===void 0?null:t;var a=e();if(Jl){an(!0);try{e()}finally{an(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Lt();if(l!==void 0){var s=l(t);if(Jl){an(!0);try{l(t)}finally{an(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Z0.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:function(e){e=Cc(e);var t=e.queue,l=qh.bind(null,je,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Oc,useDeferredValue:function(e,t){var l=Lt();return Tc(l,e,t)},useTransition:function(){var e=Cc(!1);return e=Uh.bind(null,je,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=je,s=Lt();if(ze){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Ze===null)throw Error(o(349));(ke&127)!==0||ph(a,t,l)}s.memoizedState=l;var u={value:l,getSnapshot:t};return s.queue=u,Mh(xh.bind(null,a,u,e),[e]),a.flags|=2048,Va(9,{destroy:void 0},gh.bind(null,a,u,l,t),null),l},useId:function(){var e=Lt(),t=Ze.identifierPrefix;if(ze){var l=An,a=Cn;l=(a&~(1<<32-St(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=to++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=I0++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Dc,useFormState:Ch,useActionState:Ch,useOptimistic:function(e){var t=Lt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=kc.bind(null,je,!0,l),l.dispatch=t,[e,t]},useMemoCache:Nc,useCacheRefresh:function(){return Lt().memoizedState=W0.bind(null,je)},useEffectEvent:function(e){var t=Lt(),l={impl:e};return t.memoizedState=l,function(){if((He&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Rc={readContext:Ct,use:lo,useCallback:Vh,useContext:Ct,useEffect:_c,useImperativeHandle:Lh,useInsertionEffect:kh,useLayoutEffect:Rh,useMemo:Bh,useReducer:ao,useRef:Th,useState:function(){return ao($n)},useDebugValue:Oc,useDeferredValue:function(e,t){var l=it();return Hh(l,Ge.memoizedState,e,t)},useTransition:function(){var e=ao($n)[0],t=it().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:mh,useId:$h,useHostTransitionStatus:Dc,useFormState:Ah,useActionState:Ah,useOptimistic:function(e,t){var l=it();return vh(l,Ge,e,t)},useMemoCache:Nc,useCacheRefresh:Gh};Rc.useEffectEvent=Dh;var Qh={readContext:Ct,use:lo,useCallback:Vh,useContext:Ct,useEffect:_c,useImperativeHandle:Lh,useInsertionEffect:kh,useLayoutEffect:Rh,useMemo:Bh,useReducer:jc,useRef:Th,useState:function(){return jc($n)},useDebugValue:Oc,useDeferredValue:function(e,t){var l=it();return Ge===null?Tc(l,e,t):Hh(l,Ge.memoizedState,e,t)},useTransition:function(){var e=jc($n)[0],t=it().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:mh,useId:$h,useHostTransitionStatus:Dc,useFormState:Oh,useActionState:Oh,useOptimistic:function(e,t){var l=it();return Ge!==null?vh(l,Ge,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Nc,useCacheRefresh:Gh};Qh.useEffectEvent=Dh;function zc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:b({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=en(),s=dl(a);s.payload=t,l!=null&&(s.callback=l),t=hl(e,s,a),t!==null&&(qt(t,e,a),Dr(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=en(),s=dl(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=hl(e,s,a),t!==null&&(qt(t,e,a),Dr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=en(),a=dl(l);a.tag=2,t!=null&&(a.callback=t),t=hl(e,a,l),t!==null&&(qt(t,e,l),Dr(t,e,l))}};function Kh(e,t,l,a,s,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,x):t.prototype&&t.prototype.isPureReactComponent?!Er(l,a)||!Er(s,u):!0}function Fh(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Lc.enqueueReplaceState(t,t.state,null)}function Pl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=b({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function Jh(e){Hi(e)}function Ph(e){console.error(e)}function em(e){Hi(e)}function so(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function tm(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Vc(e,t,l){return l=dl(l),l.tag=3,l.payload={element:null},l.callback=function(){so(e,t)},l}function nm(e){return e=dl(e),e.tag=3,e}function lm(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var u=a.value;e.payload=function(){return s(u)},e.callback=function(){tm(t,l,a)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){tm(t,l,a),typeof s!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function Q0(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Oa(t,l,s,!0),l=Kt.current,l!==null){switch(l.tag){case 31:case 13:return hn===null?wo():l.alternate===null&&nt===0&&(nt=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===Qi?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),su(e,a,s)),!1;case 22:return l.flags|=65536,a===Qi?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),su(e,a,s)),!1}throw Error(o(435,l.tag))}return su(e,a,s),wo(),!1}if(ze)return t=Kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==nc&&(e=Error(o(422),{cause:a}),Ar(cn(e,l)))):(a!==nc&&(t=Error(o(423),{cause:a}),Ar(cn(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=cn(a,l),s=Vc(e.stateNode,a,s),hc(e,s),nt!==4&&(nt=2)),!1;var u=Error(o(520),{cause:a});if(u=cn(u,l),Xr===null?Xr=[u]:Xr.push(u),nt!==4&&(nt=2),t===null)return!0;a=cn(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=Vc(l.stateNode,a,e),hc(l,e),!1;case 1:if(t=l.type,u=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(bl===null||!bl.has(u))))return l.flags|=65536,s&=-s,l.lanes|=s,s=nm(s),lm(s,e,l,a),hc(l,s),!1}l=l.return}while(l!==null);return!1}var Bc=Error(o(461)),ft=!1;function At(e,t,l,a){t.child=e===null?oh(t,null,l,a):Fl(t,e.child,l,a)}function am(e,t,l,a,s){l=l.render;var u=t.ref;if("ref"in a){var x={};for(var S in a)S!=="ref"&&(x[S]=a[S])}else x=a;return Wl(t),a=bc(e,t,l,x,u,s),S=vc(),e!==null&&!ft?(wc(e,t,s),Gn(e,t,s)):(ze&&S&&ec(t),t.flags|=1,At(e,t,a,s),t.child)}function rm(e,t,l,a,s){if(e===null){var u=l.type;return typeof u=="function"&&!Fs(u)&&u.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=u,im(e,t,u,a,s)):(e=$i(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Xc(e,s)){var x=u.memoizedProps;if(l=l.compare,l=l!==null?l:Er,l(x,a)&&e.ref===t.ref)return Gn(e,t,s)}return t.flags|=1,e=Bn(u,a),e.ref=t.ref,e.return=t,t.child=e}function im(e,t,l,a,s){if(e!==null){var u=e.memoizedProps;if(Er(u,a)&&e.ref===t.ref)if(ft=!1,t.pendingProps=a=u,Xc(e,s))(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,Gn(e,t,s)}return Hc(e,t,l,a,s)}function om(e,t,l,a){var s=a.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~u}else a=0,t.child=null;return sm(e,t,u,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wi(t,u!==null?u.cachePool:null),u!==null?uh(t,u):pc(),fh(t);else return a=t.lanes=536870912,sm(e,t,u!==null?u.baseLanes|l:l,l,a)}else u!==null?(Wi(t,u.cachePool),uh(t,u),pl(),t.memoizedState=null):(e!==null&&Wi(t,null),pc(),pl());return At(e,t,s,l),t.child}function Hr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function sm(e,t,l,a,s){var u=cc();return u=u===null?null:{parent:ct._currentValue,pool:u},t.memoizedState={baseLanes:l,cachePool:u},e!==null&&Wi(t,null),pc(),fh(t),e!==null&&Oa(e,t,a,!0),t.childLanes=s,null}function co(e,t){return t=fo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function cm(e,t,l){return Fl(t,e.child,null,l),e=co(t,t.pendingProps),e.flags|=2,Ft(t),t.memoizedState=null,e}function K0(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(a.mode==="hidden")return e=co(t,a),t.lanes=536870912,Hr(null,e);if(xc(t),(e=Ke)?(e=wp(e,dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ol!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Xd(e),l.return=t,t.child=l,jt=t,Ke=null)):e=null,e===null)throw cl(t);return t.lanes=536870912,null}return co(t,a)}var u=e.memoizedState;if(u!==null){var x=u.dehydrated;if(xc(t),s)if(t.flags&256)t.flags&=-257,t=cm(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(ft||Oa(e,t,l,!1),s=(l&e.childLanes)!==0,ft||s){if(a=Ze,a!==null&&(x=Pf(a,l),x!==0&&x!==u.retryLane))throw u.retryLane=x,$l(e,x),qt(a,e,x),Bc;wo(),t=cm(e,t,l)}else e=u.treeContext,Ke=mn(x.nextSibling),jt=t,ze=!0,sl=null,dn=!1,e!==null&&Qd(t,e),t=co(t,a),t.flags|=4096;return t}return e=Bn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function uo(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Hc(e,t,l,a,s){return Wl(t),l=bc(e,t,l,a,void 0,s),a=vc(),e!==null&&!ft?(wc(e,t,s),Gn(e,t,s)):(ze&&a&&ec(t),t.flags|=1,At(e,t,l,s),t.child)}function um(e,t,l,a,s,u){return Wl(t),t.updateQueue=null,l=hh(t,a,l,s),dh(e),a=vc(),e!==null&&!ft?(wc(e,t,u),Gn(e,t,u)):(ze&&a&&ec(t),t.flags|=1,At(e,t,l,u),t.child)}function fm(e,t,l,a,s){if(Wl(t),t.stateNode===null){var u=ja,x=l.contextType;typeof x=="object"&&x!==null&&(u=Ct(x)),u=new l(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},fc(t),x=l.contextType,u.context=typeof x=="object"&&x!==null?Ct(x):ja,u.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(zc(t,l,x,a),u.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(x=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),x!==u.state&&Lc.enqueueReplaceState(u,u.state,null),Rr(t,a,u,s),kr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var S=t.memoizedProps,T=Pl(l,S);u.props=T;var q=u.context,F=l.contextType;x=ja,typeof F=="object"&&F!==null&&(x=Ct(F));var ne=l.getDerivedStateFromProps;F=typeof ne=="function"||typeof u.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,F||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(S||q!==x)&&Fh(t,u,a,x),fl=!1;var W=t.memoizedState;u.state=W,Rr(t,a,u,s),kr(),q=t.memoizedState,S||W!==q||fl?(typeof ne=="function"&&(zc(t,l,ne,a),q=t.memoizedState),(T=fl||Kh(t,l,T,a,W,q,x))?(F||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=q),u.props=a,u.state=q,u.context=x,a=T):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,dc(e,t),x=t.memoizedProps,F=Pl(l,x),u.props=F,ne=t.pendingProps,W=u.context,q=l.contextType,T=ja,typeof q=="object"&&q!==null&&(T=Ct(q)),S=l.getDerivedStateFromProps,(q=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x!==ne||W!==T)&&Fh(t,u,a,T),fl=!1,W=t.memoizedState,u.state=W,Rr(t,a,u,s),kr();var Q=t.memoizedState;x!==ne||W!==Q||fl||e!==null&&e.dependencies!==null&&qi(e.dependencies)?(typeof S=="function"&&(zc(t,l,S,a),Q=t.memoizedState),(F=fl||Kh(t,l,F,a,W,Q,T)||e!==null&&e.dependencies!==null&&qi(e.dependencies))?(q||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,Q,T),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,Q,T)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Q),u.props=a,u.state=Q,u.context=T,a=F):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,uo(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=Fl(t,e.child,null,s),t.child=Fl(t,null,l,s)):At(e,t,l,s),t.memoizedState=u.state,e=t.child):e=Gn(e,t,s),e}function dm(e,t,l,a){return ql(),t.flags|=256,At(e,t,l,a),t.child}var Uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ic(e){return{baseLanes:e,cachePool:th()}}function Yc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Pt),e}function hm(e,t,l){var a=t.pendingProps,s=!1,u=(t.flags&128)!==0,x;if((x=u)||(x=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),x&&(s=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(s?ml(t):pl(),(e=Ke)?(e=wp(e,dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ol!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Xd(e),l.return=t,t.child=l,jt=t,Ke=null)):e=null,e===null)throw cl(t);return Eu(e)?t.lanes=32:t.lanes=536870912,null}var S=a.children;return a=a.fallback,s?(pl(),s=t.mode,S=fo({mode:"hidden",children:S},s),a=Gl(a,s,l,null),S.return=t,a.return=t,S.sibling=a,t.child=S,a=t.child,a.memoizedState=Ic(l),a.childLanes=Yc(e,x,l),t.memoizedState=Uc,Hr(null,a)):(ml(t),$c(t,S))}var T=e.memoizedState;if(T!==null&&(S=T.dehydrated,S!==null)){if(u)t.flags&256?(ml(t),t.flags&=-257,t=Gc(e,t,l)):t.memoizedState!==null?(pl(),t.child=e.child,t.flags|=128,t=null):(pl(),S=a.fallback,s=t.mode,a=fo({mode:"visible",children:a.children},s),S=Gl(S,s,l,null),S.flags|=2,a.return=t,S.return=t,a.sibling=S,t.child=a,Fl(t,e.child,null,l),a=t.child,a.memoizedState=Ic(l),a.childLanes=Yc(e,x,l),t.memoizedState=Uc,t=Hr(null,a));else if(ml(t),Eu(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var q=x.dgst;x=q,a=Error(o(419)),a.stack="",a.digest=x,Ar({value:a,source:null,stack:null}),t=Gc(e,t,l)}else if(ft||Oa(e,t,l,!1),x=(l&e.childLanes)!==0,ft||x){if(x=Ze,x!==null&&(a=Pf(x,l),a!==0&&a!==T.retryLane))throw T.retryLane=a,$l(e,a),qt(x,e,a),Bc;Nu(S)||wo(),t=Gc(e,t,l)}else Nu(S)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ke=mn(S.nextSibling),jt=t,ze=!0,sl=null,dn=!1,e!==null&&Qd(t,e),t=$c(t,a.children),t.flags|=4096);return t}return s?(pl(),S=a.fallback,s=t.mode,T=e.child,q=T.sibling,a=Bn(T,{mode:"hidden",children:a.children}),a.subtreeFlags=T.subtreeFlags&65011712,q!==null?S=Bn(q,S):(S=Gl(S,s,l,null),S.flags|=2),S.return=t,a.return=t,a.sibling=S,t.child=a,Hr(null,a),a=t.child,S=e.child.memoizedState,S===null?S=Ic(l):(s=S.cachePool,s!==null?(T=ct._currentValue,s=s.parent!==T?{parent:T,pool:T}:s):s=th(),S={baseLanes:S.baseLanes|l,cachePool:s}),a.memoizedState=S,a.childLanes=Yc(e,x,l),t.memoizedState=Uc,Hr(e.child,a)):(ml(t),l=e.child,e=l.sibling,l=Bn(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function $c(e,t){return t=fo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fo(e,t){return e=Qt(22,e,null,t),e.lanes=0,e}function Gc(e,t,l){return Fl(t,e.child,null,l),e=$c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mm(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),rc(e.return,t,l)}function qc(e,t,l,a,s,u){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:u}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=a,x.tail=l,x.tailMode=s,x.treeForkCount=u)}function pm(e,t,l){var a=t.pendingProps,s=a.revealOrder,u=a.tail;a=a.children;var x=rt.current,S=(x&2)!==0;if(S?(x=x&1|2,t.flags|=128):x&=1,P(rt,x),At(e,t,a,l),a=ze?Cr:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mm(e,l,t);else if(e.tag===19)mm(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Pi(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),qc(t,!1,s,l,u,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}qc(t,!0,l,null,u,a);break;case"together":qc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Gn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),yl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Oa(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Bn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Bn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Xc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&qi(e)))}function F0(e,t,l){switch(t.tag){case 3:We(t,t.stateNode.containerInfo),ul(t,ct,e.memoizedState.cache),ql();break;case 27:case 5:Ne(t);break;case 4:We(t,t.stateNode.containerInfo);break;case 10:ul(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ml(t),t.flags|=128,null):(l&t.child.childLanes)!==0?hm(e,t,l):(ml(t),e=Gn(e,t,l),e!==null?e.sibling:null);ml(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Oa(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return pm(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),P(rt,rt.current),a)break;return null;case 22:return t.lanes=0,om(e,t,l,t.pendingProps);case 24:ul(t,ct,e.memoizedState.cache)}return Gn(e,t,l)}function gm(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)ft=!0;else{if(!Xc(e,l)&&(t.flags&128)===0)return ft=!1,F0(e,t,l);ft=(e.flags&131072)!==0}else ft=!1,ze&&(t.flags&1048576)!==0&&Zd(t,Cr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ql(t.elementType),t.type=e,typeof e=="function")Fs(e)?(a=Pl(e,a),t.tag=1,t=fm(null,t,e,a,l)):(t.tag=0,t=Hc(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===B){t.tag=11,t=am(null,t,e,a,l);break e}else if(s===$){t.tag=14,t=rm(null,t,e,a,l);break e}}throw t=Z(e)||e,Error(o(306,t,""))}}return t;case 0:return Hc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=Pl(a,t.pendingProps),fm(e,t,a,s,l);case 3:e:{if(We(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var u=t.memoizedState;s=u.element,dc(e,t),Rr(t,a,null,l);var x=t.memoizedState;if(a=x.cache,ul(t,ct,a),a!==u.cache&&ic(t,[ct],l,!0),kr(),a=x.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=dm(e,t,a,l);break e}else if(a!==s){s=cn(Error(o(424)),t),Ar(s),t=dm(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ke=mn(e.firstChild),jt=t,ze=!0,sl=null,dn=!0,l=oh(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ql(),a===s){t=Gn(e,t,l);break e}At(e,t,a,l)}t=t.child}return t;case 26:return uo(e,t),e===null?(l=Ap(t.type,null,t.pendingProps,null))?t.memoizedState=l:ze||(l=t.type,e=t.pendingProps,a=_o(ge.current).createElement(l),a[Et]=t,a[Ht]=e,_t(a,l,e),bt(a),t.stateNode=a):t.memoizedState=Ap(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ne(t),e===null&&ze&&(a=t.stateNode=Ep(t.type,t.pendingProps,ge.current),jt=t,dn=!0,s=Ke,Nl(t.type)?(ju=s,Ke=mn(a.firstChild)):Ke=s),At(e,t,t.pendingProps.children,l),uo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((s=a=Ke)&&(a=Av(a,t.type,t.pendingProps,dn),a!==null?(t.stateNode=a,jt=t,Ke=mn(a.firstChild),dn=!1,s=!0):s=!1),s||cl(t)),Ne(t),s=t.type,u=t.pendingProps,x=e!==null?e.memoizedProps:null,a=u.children,vu(s,u)?a=null:x!==null&&vu(s,x)&&(t.flags|=32),t.memoizedState!==null&&(s=bc(e,t,Y0,null,null,l),ei._currentValue=s),uo(e,t),At(e,t,a,l),t.child;case 6:return e===null&&ze&&((e=l=Ke)&&(l=_v(l,t.pendingProps,dn),l!==null?(t.stateNode=l,jt=t,Ke=null,e=!0):e=!1),e||cl(t)),null;case 13:return hm(e,t,l);case 4:return We(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Fl(t,null,a,l):At(e,t,a,l),t.child;case 11:return am(e,t,t.type,t.pendingProps,l);case 7:return At(e,t,t.pendingProps,l),t.child;case 8:return At(e,t,t.pendingProps.children,l),t.child;case 12:return At(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,ul(t,t.type,a.value),At(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Wl(t),s=Ct(s),a=a(s),t.flags|=1,At(e,t,a,l),t.child;case 14:return rm(e,t,t.type,t.pendingProps,l);case 15:return im(e,t,t.type,t.pendingProps,l);case 19:return pm(e,t,l);case 31:return K0(e,t,l);case 22:return om(e,t,l,t.pendingProps);case 24:return Wl(t),a=Ct(ct),e===null?(s=cc(),s===null&&(s=Ze,u=oc(),s.pooledCache=u,u.refCount++,u!==null&&(s.pooledCacheLanes|=l),s=u),t.memoizedState={parent:a,cache:s},fc(t),ul(t,ct,s)):((e.lanes&l)!==0&&(dc(e,t),Rr(t,null,null,l),kr()),s=e.memoizedState,u=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ul(t,ct,a)):(a=u.cache,ul(t,ct,a),a!==s.cache&&ic(t,[ct],l,!0))),At(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function qn(e){e.flags|=4}function Wc(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if($m())e.flags|=8192;else throw Kl=Qi,uc}else e.flags&=-16777217}function xm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dp(t))if($m())e.flags|=8192;else throw Kl=Qi,uc}function ho(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hr():536870912,e.lanes|=t,Ia|=t)}function Ur(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function J0(e,t,l){var a=t.pendingProps;switch(tc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),In(ct),oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(_a(t)?qn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,lc())),Fe(t),null;case 26:var s=t.type,u=t.memoizedState;return e===null?(qn(t),u!==null?(Fe(t),xm(t,u)):(Fe(t),Wc(t,s,null,a,l))):u?u!==e.memoizedState?(qn(t),Fe(t),xm(t,u)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&qn(t),Fe(t),Wc(t,s,e,a,l)),null;case 27:if(Le(t),l=ge.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&qn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Fe(t),null}e=re.current,_a(t)?Kd(t):(e=Ep(s,a,l),t.stateNode=e,qn(t))}return Fe(t),null;case 5:if(Le(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&qn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Fe(t),null}if(u=re.current,_a(t))Kd(t);else{var x=_o(ge.current);switch(u){case 1:u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":u=x.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?x.createElement("select",{is:a.is}):x.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?x.createElement(s,{is:a.is}):x.createElement(s)}}u[Et]=t,u[Ht]=a;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=u;e:switch(_t(u,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&qn(t)}}return Fe(t),Wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&qn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=ge.current,_a(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=jt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Et]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||hp(e.nodeValue,l)),e||cl(t,!0)}else e=_o(e).createTextNode(a),e[Et]=t,t.stateNode=e}return Fe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=_a(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Et]=t}else ql(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else l=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ft(t),t):(Ft(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Fe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=_a(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[Et]=t}else ql(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),s=!1}else s=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ft(t),t):(Ft(t),null)}return Ft(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),ho(t,t.updateQueue),Fe(t),null);case 4:return oe(),e===null&&pu(t.stateNode.containerInfo),Fe(t),null;case 10:return In(t.type),Fe(t),null;case 19:if(U(rt),a=t.memoizedState,a===null)return Fe(t),null;if(s=(t.flags&128)!==0,u=a.rendering,u===null)if(s)Ur(a,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Pi(e),u!==null){for(t.flags|=128,Ur(a,!1),e=u.updateQueue,t.updateQueue=e,ho(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)qd(l,e),l=l.sibling;return P(rt,rt.current&1|2),ze&&Hn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Pe()>yo&&(t.flags|=128,s=!0,Ur(a,!1),t.lanes=4194304)}else{if(!s)if(e=Pi(u),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ho(t,e),Ur(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!ze)return Fe(t),null}else 2*Pe()-a.renderingStartTime>yo&&l!==536870912&&(t.flags|=128,s=!0,Ur(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(e=a.last,e!==null?e.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pe(),e.sibling=null,l=rt.current,P(rt,s?l&1|2:l&1),ze&&Hn(t,a.treeForkCount),e):(Fe(t),null);case 22:case 23:return Ft(t),gc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),l=t.updateQueue,l!==null&&ho(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&U(Zl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),In(ct),Fe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function P0(e,t){switch(tc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(ct),oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Le(t),null;case 31:if(t.memoizedState!==null){if(Ft(t),t.alternate===null)throw Error(o(340));ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ft(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(rt),null;case 4:return oe(),null;case 10:return In(t.type),null;case 22:case 23:return Ft(t),gc(),e!==null&&U(Zl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return In(ct),null;case 25:return null;default:return null}}function ym(e,t){switch(tc(t),t.tag){case 3:In(ct),oe();break;case 26:case 27:case 5:Le(t);break;case 4:oe();break;case 31:t.memoizedState!==null&&Ft(t);break;case 13:Ft(t);break;case 19:U(rt);break;case 10:In(t.type);break;case 22:case 23:Ft(t),gc(),e!==null&&U(Zl);break;case 24:In(ct)}}function Ir(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var u=l.create,x=l.inst;a=u(),x.destroy=a}l=l.next}while(l!==s)}}catch(S){Ye(t,t.return,S)}}function gl(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){var x=a.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,s=t;var T=l,q=S;try{q()}catch(F){Ye(s,T,F)}}}a=a.next}while(a!==u)}}catch(F){Ye(t,t.return,F)}}function bm(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{ch(t,l)}catch(a){Ye(e,e.return,a)}}}function vm(e,t,l){l.props=Pl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ye(e,t,a)}}function Yr(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){Ye(e,t,s)}}function _n(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){Ye(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){Ye(e,t,s)}else l.current=null}function wm(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){Ye(e,e.return,s)}}function Zc(e,t,l){try{var a=e.stateNode;wv(a,e.type,l,t),a[Ht]=t}catch(s){Ye(e,e.return,s)}}function Sm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nl(e.type)||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Ln));else if(a!==4&&(a===27&&Nl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Kc(e,t,l),e=e.sibling;e!==null;)Kc(e,t,l),e=e.sibling}function mo(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Nl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(mo(e,t,l),e=e.sibling;e!==null;)mo(e,t,l),e=e.sibling}function Nm(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_t(t,a,l),t[Et]=e,t[Ht]=l}catch(u){Ye(e,e.return,u)}}var Xn=!1,dt=!1,Fc=!1,Em=typeof WeakSet=="function"?WeakSet:Set,vt=null;function ev(e,t){if(e=e.containerInfo,yu=zo,e=Ld(e),Gs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var x=0,S=-1,T=-1,q=0,F=0,ne=e,W=null;t:for(;;){for(var Q;ne!==l||s!==0&&ne.nodeType!==3||(S=x+s),ne!==u||a!==0&&ne.nodeType!==3||(T=x+a),ne.nodeType===3&&(x+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)W=ne,ne=Q;for(;;){if(ne===e)break t;if(W===l&&++q===s&&(S=x),W===u&&++F===a&&(T=x),(Q=ne.nextSibling)!==null)break;ne=W,W=ne.parentNode}ne=Q}l=S===-1||T===-1?null:{start:S,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(bu={focusedElem:e,selectionRange:l},zo=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,l=t,s=u.memoizedProps,u=u.memoizedState,a=l.stateNode;try{var fe=Pl(l.type,s);e=a.getSnapshotBeforeUpdate(fe,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(we){Ye(l,l.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Su(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function jm(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Zn(e,l),a&4&&Ir(5,l);break;case 1:if(Zn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){Ye(l,l.return,x)}else{var s=Pl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ye(l,l.return,x)}}a&64&&bm(l),a&512&&Yr(l,l.return);break;case 3:if(Zn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{ch(e,t)}catch(x){Ye(l,l.return,x)}}break;case 27:t===null&&a&4&&Nm(l);case 26:case 5:Zn(e,l),t===null&&a&4&&wm(l),a&512&&Yr(l,l.return);break;case 12:Zn(e,l);break;case 31:Zn(e,l),a&4&&_m(e,l);break;case 13:Zn(e,l),a&4&&Om(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=cv.bind(null,l),Ov(e,l))));break;case 22:if(a=l.memoizedState!==null||Xn,!a){t=t!==null&&t.memoizedState!==null||dt,s=Xn;var u=dt;Xn=a,(dt=t)&&!u?Qn(e,l,(l.subtreeFlags&8772)!==0):Zn(e,l),Xn=s,dt=u}break;case 30:break;default:Zn(e,l)}}function Cm(e){var t=e.alternate;t!==null&&(e.alternate=null,Cm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&As(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,It=!1;function Wn(e,t,l){for(l=l.child;l!==null;)Am(e,t,l),l=l.sibling}function Am(e,t,l){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(yn,l)}catch{}switch(l.tag){case 26:dt||_n(l,t),Wn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:dt||_n(l,t);var a=Je,s=It;Nl(l.type)&&(Je=l.stateNode,It=!1),Wn(e,t,l),Fr(l.stateNode),Je=a,It=s;break;case 5:dt||_n(l,t);case 6:if(a=Je,s=It,Je=null,Wn(e,t,l),Je=a,It=s,Je!==null)if(It)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(u){Ye(l,t,u)}else try{Je.removeChild(l.stateNode)}catch(u){Ye(l,t,u)}break;case 18:Je!==null&&(It?(e=Je,bp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Qa(e)):bp(Je,l.stateNode));break;case 4:a=Je,s=It,Je=l.stateNode.containerInfo,It=!0,Wn(e,t,l),Je=a,It=s;break;case 0:case 11:case 14:case 15:gl(2,l,t),dt||gl(4,l,t),Wn(e,t,l);break;case 1:dt||(_n(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&vm(l,t,a)),Wn(e,t,l);break;case 21:Wn(e,t,l);break;case 22:dt=(a=dt)||l.memoizedState!==null,Wn(e,t,l),dt=a;break;default:Wn(e,t,l)}}function _m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(l){Ye(t,t.return,l)}}}function Om(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(l){Ye(t,t.return,l)}}function tv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Em),t;default:throw Error(o(435,e.tag))}}function po(e,t){var l=tv(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=uv.bind(null,e,a);a.then(s,s)}})}function Yt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],u=e,x=t,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Nl(S.type)){Je=S.stateNode,It=!1;break e}break;case 5:Je=S.stateNode,It=!1;break e;case 3:case 4:Je=S.stateNode.containerInfo,It=!0;break e}S=S.return}if(Je===null)throw Error(o(160));Am(u,x,s),Je=null,It=!1,u=s.alternate,u!==null&&(u.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Tm(t,e),t=t.sibling}var wn=null;function Tm(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yt(t,e),$t(e),a&4&&(gl(3,e,e.return),Ir(3,e),gl(5,e,e.return));break;case 1:Yt(t,e),$t(e),a&512&&(dt||l===null||_n(l,l.return)),a&64&&Xn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=wn;if(Yt(t,e),$t(e),a&512&&(dt||l===null||_n(l,l.return)),a&4){var u=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":u=s.getElementsByTagName("title")[0],(!u||u[pr]||u[Et]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=s.createElement(a),s.head.insertBefore(u,s.querySelector("head > title"))),_t(u,a,l),u[Et]=e,bt(u),a=u;break e;case"link":var x=Tp("link","href",s).get(a+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(u=x[S],u.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&u.getAttribute("rel")===(l.rel==null?null:l.rel)&&u.getAttribute("title")===(l.title==null?null:l.title)&&u.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}u=s.createElement(a),_t(u,a,l),s.head.appendChild(u);break;case"meta":if(x=Tp("meta","content",s).get(a+(l.content||""))){for(S=0;S<x.length;S++)if(u=x[S],u.getAttribute("content")===(l.content==null?null:""+l.content)&&u.getAttribute("name")===(l.name==null?null:l.name)&&u.getAttribute("property")===(l.property==null?null:l.property)&&u.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&u.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}u=s.createElement(a),_t(u,a,l),s.head.appendChild(u);break;default:throw Error(o(468,a))}u[Et]=e,bt(u),a=u}e.stateNode=a}else Mp(s,e.type,e.stateNode);else e.stateNode=Op(s,a,e.memoizedProps);else u!==a?(u===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):u.count--,a===null?Mp(s,e.type,e.stateNode):Op(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Zc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Yt(t,e),$t(e),a&512&&(dt||l===null||_n(l,l.return)),l!==null&&a&4&&Zc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Yt(t,e),$t(e),a&512&&(dt||l===null||_n(l,l.return)),e.flags&32){s=e.stateNode;try{ya(s,"")}catch(fe){Ye(e,e.return,fe)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Zc(e,s,l!==null?l.memoizedProps:s)),a&1024&&(Fc=!0);break;case 6:if(Yt(t,e),$t(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(fe){Ye(e,e.return,fe)}}break;case 3:if(Mo=null,s=wn,wn=Oo(t.containerInfo),Yt(t,e),wn=s,$t(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Qa(t.containerInfo)}catch(fe){Ye(e,e.return,fe)}Fc&&(Fc=!1,Mm(e));break;case 4:a=wn,wn=Oo(e.stateNode.containerInfo),Yt(t,e),$t(e),wn=a;break;case 12:Yt(t,e),$t(e);break;case 31:Yt(t,e),$t(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,po(e,a)));break;case 13:Yt(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xo=Pe()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,po(e,a)));break;case 22:s=e.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,q=Xn,F=dt;if(Xn=q||s,dt=F||T,Yt(t,e),dt=F,Xn=q,$t(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||T||Xn||dt||ea(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){T=l=t;try{if(u=T.stateNode,s)x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=T.stateNode;var ne=T.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(fe){Ye(T,T.return,fe)}}}else if(t.tag===6){if(l===null){T=t;try{T.stateNode.nodeValue=s?"":T.memoizedProps}catch(fe){Ye(T,T.return,fe)}}}else if(t.tag===18){if(l===null){T=t;try{var Q=T.stateNode;s?vp(Q,!0):vp(T.stateNode,!1)}catch(fe){Ye(T,T.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,po(e,l))));break;case 19:Yt(t,e),$t(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,po(e,a)));break;case 30:break;case 21:break;default:Yt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Sm(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,u=Qc(e);mo(e,u,s);break;case 5:var x=l.stateNode;l.flags&32&&(ya(x,""),l.flags&=-33);var S=Qc(e);mo(e,S,x);break;case 3:case 4:var T=l.stateNode.containerInfo,q=Qc(e);Kc(e,q,T);break;default:throw Error(o(161))}}catch(F){Ye(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jm(e,t.alternate,t),t=t.sibling}function ea(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gl(4,t,t.return),ea(t);break;case 1:_n(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&vm(t,t.return,l),ea(t);break;case 27:Fr(t.stateNode);case 26:case 5:_n(t,t.return),ea(t);break;case 22:t.memoizedState===null&&ea(t);break;case 30:ea(t);break;default:ea(t)}e=e.sibling}}function Qn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,u=t,x=u.flags;switch(u.tag){case 0:case 11:case 15:Qn(s,u,l),Ir(4,u);break;case 1:if(Qn(s,u,l),a=u,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(q){Ye(a,a.return,q)}if(a=u,s=a.updateQueue,s!==null){var S=a.stateNode;try{var T=s.shared.hiddenCallbacks;if(T!==null)for(s.shared.hiddenCallbacks=null,s=0;s<T.length;s++)sh(T[s],S)}catch(q){Ye(a,a.return,q)}}l&&x&64&&bm(u),Yr(u,u.return);break;case 27:Nm(u);case 26:case 5:Qn(s,u,l),l&&a===null&&x&4&&wm(u),Yr(u,u.return);break;case 12:Qn(s,u,l);break;case 31:Qn(s,u,l),l&&x&4&&_m(s,u);break;case 13:Qn(s,u,l),l&&x&4&&Om(s,u);break;case 22:u.memoizedState===null&&Qn(s,u,l),Yr(u,u.return);break;case 30:break;default:Qn(s,u,l)}t=t.sibling}}function Jc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&_r(l))}function Pc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_r(e))}function Sn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dm(e,t,l,a),t=t.sibling}function Dm(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Sn(e,t,l,a),s&2048&&Ir(9,t);break;case 1:Sn(e,t,l,a);break;case 3:Sn(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_r(e)));break;case 12:if(s&2048){Sn(e,t,l,a),e=t.stateNode;try{var u=t.memoizedProps,x=u.id,S=u.onPostCommit;typeof S=="function"&&S(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ye(t,t.return,T)}}else Sn(e,t,l,a);break;case 31:Sn(e,t,l,a);break;case 13:Sn(e,t,l,a);break;case 23:break;case 22:u=t.stateNode,x=t.alternate,t.memoizedState!==null?u._visibility&2?Sn(e,t,l,a):$r(e,t):u._visibility&2?Sn(e,t,l,a):(u._visibility|=2,Ba(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Jc(x,t);break;case 24:Sn(e,t,l,a),s&2048&&Pc(t.alternate,t);break;default:Sn(e,t,l,a)}}function Ba(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,x=t,S=l,T=a,q=x.flags;switch(x.tag){case 0:case 11:case 15:Ba(u,x,S,T,s),Ir(8,x);break;case 23:break;case 22:var F=x.stateNode;x.memoizedState!==null?F._visibility&2?Ba(u,x,S,T,s):$r(u,x):(F._visibility|=2,Ba(u,x,S,T,s)),s&&q&2048&&Jc(x.alternate,x);break;case 24:Ba(u,x,S,T,s),s&&q&2048&&Pc(x.alternate,x);break;default:Ba(u,x,S,T,s)}t=t.sibling}}function $r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:$r(l,a),s&2048&&Jc(a.alternate,a);break;case 24:$r(l,a),s&2048&&Pc(a.alternate,a);break;default:$r(l,a)}t=t.sibling}}var Gr=8192;function Ha(e,t,l){if(e.subtreeFlags&Gr)for(e=e.child;e!==null;)km(e,t,l),e=e.sibling}function km(e,t,l){switch(e.tag){case 26:Ha(e,t,l),e.flags&Gr&&e.memoizedState!==null&&Iv(l,wn,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,t,l);break;case 3:case 4:var a=wn;wn=Oo(e.stateNode.containerInfo),Ha(e,t,l),wn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Gr,Gr=16777216,Ha(e,t,l),Gr=a):Ha(e,t,l));break;default:Ha(e,t,l)}}function Rm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Lm(a,e)}Rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zm(e),e=e.sibling}function zm(e){switch(e.tag){case 0:case 11:case 15:qr(e),e.flags&2048&&gl(9,e,e.return);break;case 3:qr(e);break;case 12:qr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,go(e)):qr(e);break;default:qr(e)}}function go(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Lm(a,e)}Rm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:gl(8,t,t.return),go(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,go(t));break;default:go(t)}e=e.sibling}}function Lm(e,t){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:gl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:_r(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,vt=a;else e:for(l=e;vt!==null;){a=vt;var s=a.sibling,u=a.return;if(Cm(a),a===l){vt=null;break e}if(s!==null){s.return=u,vt=s;break e}vt=u}}}var nv={getCacheForType:function(e){var t=Ct(ct),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Ct(ct).controller.signal}},lv=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Me=null,ke=0,Ie=0,Jt=null,xl=!1,Ua=!1,eu=!1,Kn=0,nt=0,yl=0,ta=0,tu=0,Pt=0,Ia=0,Xr=null,Gt=null,nu=!1,xo=0,Vm=0,yo=1/0,bo=null,bl=null,pt=0,vl=null,Ya=null,Fn=0,lu=0,au=null,Bm=null,Wr=0,ru=null;function en(){return(He&2)!==0&&ke!==0?ke&-ke:D.T!==null?fu():ed()}function Hm(){if(Pt===0)if((ke&536870912)===0||ze){var e=st;st<<=1,(st&3932160)===0&&(st=262144),Pt=e}else Pt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Pt}function qt(e,t,l){(e===Ze&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&($a(e,0),wl(e,ke,Pt,!1)),mr(e,l),((He&2)===0||e!==Ze)&&(e===Ze&&((He&2)===0&&(ta|=l),nt===4&&wl(e,ke,Pt,!1)),On(e))}function Um(e,t,l){if((He&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||bn(e,t),s=a?iv(e,t):ou(e,t,!0),u=a;do{if(s===0){Ua&&!a&&wl(e,t,0,!1);break}else{if(l=e.current.alternate,u&&!av(l)){s=ou(e,t,!1),u=!1;continue}if(s===2){if(u=t,e.errorRecoveryDisabledLanes&u)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var S=e;s=Xr;var T=S.current.memoizedState.isDehydrated;if(T&&($a(S,x).flags|=256),x=ou(S,x,!1),x!==2){if(eu&&!T){S.errorRecoveryDisabledLanes|=u,ta|=u,s=4;break e}u=Gt,Gt=s,u!==null&&(Gt===null?Gt=u:Gt.push.apply(Gt,u))}s=x}if(u=!1,s!==2)continue}}if(s===1){$a(e,0),wl(e,t,0,!0);break}e:{switch(a=e,u=s,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:wl(a,t,Pt,!xl);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=xo+300-Pe(),10<s)){if(wl(a,t,Pt,!xl),jn(a,0,!0)!==0)break e;Fn=t,a.timeoutHandle=xp(Im.bind(null,a,l,Gt,bo,nu,t,Pt,ta,Ia,xl,u,"Throttled",-0,0),s);break e}Im(a,l,Gt,bo,nu,t,Pt,ta,Ia,xl,u,null,-0,0)}}break}while(!0);On(e)}function Im(e,t,l,a,s,u,x,S,T,q,F,ne,W,Q){if(e.timeoutHandle=-1,ne=t.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},km(t,u,ne);var fe=(u&62914560)===u?xo-Pe():(u&4194048)===u?Vm-Pe():0;if(fe=Yv(ne,fe),fe!==null){Fn=u,e.cancelPendingCommit=fe(Qm.bind(null,e,t,u,l,a,s,x,S,T,F,ne,null,W,Q)),wl(e,u,x,!q);return}}Qm(e,t,u,l,a,s,x,S,T)}function av(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],u=s.getSnapshot;s=s.value;try{if(!Zt(u(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wl(e,t,l,a){t&=~tu,t&=~ta,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var u=31-St(s),x=1<<u;a[u]=-1,s&=~x}l!==0&&Ff(e,l,t)}function vo(){return(He&6)===0?(Zr(0),!1):!0}function iu(){if(Me!==null){if(Ie===0)var e=Me.return;else e=Me,Un=Xl=null,Sc(e),ka=null,Tr=0,e=Me;for(;e!==null;)ym(e.alternate,e),e=e.return;Me=null}}function $a(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Ev(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Fn=0,iu(),Ze=e,Me=l=Bn(e.current,null),ke=t,Ie=0,Jt=null,xl=!1,Ua=bn(e,t),eu=!1,Ia=Pt=tu=ta=yl=nt=0,Gt=Xr=null,nu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-St(a),u=1<<s;t|=e[s],a&=~u}return Kn=t,Ui(),l}function Ym(e,t){je=null,D.H=Br,t===Da||t===Zi?(t=ah(),Ie=3):t===uc?(t=ah(),Ie=4):Ie=t===Bc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jt=t,Me===null&&(nt=1,so(e,cn(t,e.current)))}function $m(){var e=Kt.current;return e===null?!0:(ke&4194048)===ke?hn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===hn:!1}function Gm(){var e=D.H;return D.H=Br,e===null?Br:e}function qm(){var e=D.A;return D.A=nv,e}function wo(){nt=4,xl||(ke&4194048)!==ke&&Kt.current!==null||(Ua=!0),(yl&134217727)===0&&(ta&134217727)===0||Ze===null||wl(Ze,ke,Pt,!1)}function ou(e,t,l){var a=He;He|=2;var s=Gm(),u=qm();(Ze!==e||ke!==t)&&(bo=null,$a(e,t)),t=!1;var x=nt;e:do try{if(Ie!==0&&Me!==null){var S=Me,T=Jt;switch(Ie){case 8:iu(),x=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var q=Ie;if(Ie=0,Jt=null,Ga(e,S,T,q),l&&Ua){x=0;break e}break;default:q=Ie,Ie=0,Jt=null,Ga(e,S,T,q)}}rv(),x=nt;break}catch(F){Ym(e,F)}while(!0);return t&&e.shellSuspendCounter++,Un=Xl=null,He=a,D.H=s,D.A=u,Me===null&&(Ze=null,ke=0,Ui()),x}function rv(){for(;Me!==null;)Xm(Me)}function iv(e,t){var l=He;He|=2;var a=Gm(),s=qm();Ze!==e||ke!==t?(bo=null,yo=Pe()+500,$a(e,t)):Ua=bn(e,t);e:do try{if(Ie!==0&&Me!==null){t=Me;var u=Jt;t:switch(Ie){case 1:Ie=0,Jt=null,Ga(e,t,u,1);break;case 2:case 9:if(nh(u)){Ie=0,Jt=null,Wm(t);break}t=function(){Ie!==2&&Ie!==9||Ze!==e||(Ie=7),On(e)},u.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:nh(u)?(Ie=0,Jt=null,Wm(t)):(Ie=0,Jt=null,Ga(e,t,u,7));break;case 5:var x=null;switch(Me.tag){case 26:x=Me.memoizedState;case 5:case 27:var S=Me;if(x?Dp(x):S.stateNode.complete){Ie=0,Jt=null;var T=S.sibling;if(T!==null)Me=T;else{var q=S.return;q!==null?(Me=q,So(q)):Me=null}break t}}Ie=0,Jt=null,Ga(e,t,u,5);break;case 6:Ie=0,Jt=null,Ga(e,t,u,6);break;case 8:iu(),nt=6;break e;default:throw Error(o(462))}}ov();break}catch(F){Ym(e,F)}while(!0);return Un=Xl=null,D.H=a,D.A=s,He=l,Me!==null?0:(Ze=null,ke=0,Ui(),nt)}function ov(){for(;Me!==null&&!sa();)Xm(Me)}function Xm(e){var t=gm(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?So(e):Me=t}function Wm(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=um(l,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=um(l,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Sc(t);default:ym(l,t),t=Me=qd(t,Kn),t=gm(l,t,Kn)}e.memoizedProps=e.pendingProps,t===null?So(e):Me=t}function Ga(e,t,l,a){Un=Xl=null,Sc(t),ka=null,Tr=0;var s=t.return;try{if(Q0(e,s,t,l,ke)){nt=1,so(e,cn(l,e.current)),Me=null;return}}catch(u){if(s!==null)throw Me=s,u;nt=1,so(e,cn(l,e.current)),Me=null;return}t.flags&32768?(ze||a===1?e=!0:Ua||(ke&536870912)!==0?e=!1:(xl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Kt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Zm(t,e)):So(t)}function So(e){var t=e;do{if((t.flags&32768)!==0){Zm(t,xl);return}e=t.return;var l=J0(t.alternate,t,Kn);if(l!==null){Me=l;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);nt===0&&(nt=5)}function Zm(e,t){do{var l=P0(e.alternate,e);if(l!==null){l.flags&=32767,Me=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Me=e;return}Me=e=l}while(e!==null);nt=6,Me=null}function Qm(e,t,l,a,s,u,x,S,T){e.cancelPendingCommit=null;do No();while(pt!==0);if((He&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Qs,Ub(e,l,u,x,S,T),e===Ze&&(Me=Ze=null,ke=0),Ya=t,vl=e,Fn=l,lu=u,au=s,Bm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fv(ve,function(){return ep(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null,s=M.p,M.p=2,x=He,He|=4;try{ev(e,t,l)}finally{He=x,M.p=s,D.T=a}}pt=1,Km(),Fm(),Jm()}}function Km(){if(pt===1){pt=0;var e=vl,t=Ya,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var a=M.p;M.p=2;var s=He;He|=4;try{Tm(t,e);var u=bu,x=Ld(e.containerInfo),S=u.focusedElem,T=u.selectionRange;if(x!==S&&S&&S.ownerDocument&&zd(S.ownerDocument.documentElement,S)){if(T!==null&&Gs(S)){var q=T.start,F=T.end;if(F===void 0&&(F=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(F,S.value.length);else{var ne=S.ownerDocument||document,W=ne&&ne.defaultView||window;if(W.getSelection){var Q=W.getSelection(),fe=S.textContent.length,we=Math.min(T.start,fe),Xe=T.end===void 0?we:Math.min(T.end,fe);!Q.extend&&we>Xe&&(x=Xe,Xe=we,we=x);var I=Rd(S,we),L=Rd(S,Xe);if(I&&L&&(Q.rangeCount!==1||Q.anchorNode!==I.node||Q.anchorOffset!==I.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var G=ne.createRange();G.setStart(I.node,I.offset),Q.removeAllRanges(),we>Xe?(Q.addRange(G),Q.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),Q.addRange(G))}}}}for(ne=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var ee=ne[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}zo=!!yu,bu=yu=null}finally{He=s,M.p=a,D.T=l}}e.current=t,pt=2}}function Fm(){if(pt===2){pt=0;var e=vl,t=Ya,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var a=M.p;M.p=2;var s=He;He|=4;try{jm(e,t.alternate,t)}finally{He=s,M.p=a,D.T=l}}pt=3}}function Jm(){if(pt===4||pt===3){pt=0,et();var e=vl,t=Ya,l=Fn,a=Bm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,Ya=vl=null,Pm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(bl=null),js(l),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(yn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=D.T,s=M.p,M.p=2,D.T=null;try{for(var u=e.onRecoverableError,x=0;x<a.length;x++){var S=a[x];u(S.value,{componentStack:S.stack})}}finally{D.T=t,M.p=s}}(Fn&3)!==0&&No(),On(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===ru?Wr++:(Wr=0,ru=e):Wr=0,Zr(0)}}function Pm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_r(t)))}function No(){return Km(),Fm(),Jm(),ep()}function ep(){if(pt!==5)return!1;var e=vl,t=lu;lu=0;var l=js(Fn),a=D.T,s=M.p;try{M.p=32>l?32:l,D.T=null,l=au,au=null;var u=vl,x=Fn;if(pt=0,Ya=vl=null,Fn=0,(He&6)!==0)throw Error(o(331));var S=He;if(He|=4,zm(u.current),Dm(u,u.current,x,l),He=S,Zr(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(yn,u)}catch{}return!0}finally{M.p=s,D.T=a,Pm(e,t)}}function tp(e,t,l){t=cn(l,t),t=Vc(e.stateNode,t,2),e=hl(e,t,2),e!==null&&(mr(e,2),On(e))}function Ye(e,t,l){if(e.tag===3)tp(e,e,l);else for(;t!==null;){if(t.tag===3){tp(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(bl===null||!bl.has(a))){e=cn(l,e),l=nm(2),a=hl(t,l,2),a!==null&&(lm(l,a,t,e),mr(a,2),On(a));break}}t=t.return}}function su(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new lv;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(eu=!0,s.add(l),e=sv.bind(null,e,t,l),t.then(e,e))}function sv(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ze===e&&(ke&l)===l&&(nt===4||nt===3&&(ke&62914560)===ke&&300>Pe()-xo?(He&2)===0&&$a(e,0):tu|=l,Ia===ke&&(Ia=0)),On(e)}function np(e,t){t===0&&(t=hr()),e=$l(e,t),e!==null&&(mr(e,t),On(e))}function cv(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),np(e,l)}function uv(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),np(e,l)}function fv(e,t){return Bt(e,t)}var Eo=null,qa=null,cu=!1,jo=!1,uu=!1,Sl=0;function On(e){e!==qa&&e.next===null&&(qa===null?Eo=qa=e:qa=qa.next=e),jo=!0,cu||(cu=!0,hv())}function Zr(e,t){if(!uu&&jo){uu=!0;do for(var l=!1,a=Eo;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var u=0;else{var x=a.suspendedLanes,S=a.pingedLanes;u=(1<<31-St(42|e)+1)-1,u&=s&~(x&~S),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(l=!0,ip(a,u))}else u=ke,u=jn(a,a===Ze?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||bn(a,u)||(l=!0,ip(a,u));a=a.next}while(l);uu=!1}}function dv(){lp()}function lp(){jo=cu=!1;var e=0;Sl!==0&&Nv()&&(e=Sl);for(var t=Pe(),l=null,a=Eo;a!==null;){var s=a.next,u=ap(a,t);u===0?(a.next=null,l===null?Eo=s:l.next=s,s===null&&(qa=l)):(l=a,(e!==0||(u&3)!==0)&&(jo=!0)),a=s}pt!==0&&pt!==5||Zr(e),Sl!==0&&(Sl=0)}function ap(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var x=31-St(u),S=1<<x,T=s[x];T===-1?((S&l)===0||(S&a)!==0)&&(s[x]=ua(S,t)):T<=t&&(e.expiredLanes|=S),u&=~S}if(t=Ze,l=ke,l=jn(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Bl(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||bn(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Bl(a),js(l)){case 2:case 8:l=ce;break;case 32:l=ve;break;case 268435456:l=Qe;break;default:l=ve}return a=rp.bind(null,e),l=Bt(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Bl(a),e.callbackPriority=2,e.callbackNode=null,2}function rp(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(No()&&e.callbackNode!==l)return null;var a=ke;return a=jn(e,e===Ze?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Um(e,a,t),ap(e,Pe()),e.callbackNode!=null&&e.callbackNode===l?rp.bind(null,e):null)}function ip(e,t){if(No())return null;Um(e,t,!0)}function hv(){jv(function(){(He&6)!==0?Bt(ca,dv):lp()})}function fu(){if(Sl===0){var e=Ta;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Sl=e}return Sl}function op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Di(""+e)}function sp(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function mv(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var u=op((s[Ht]||null).action),x=a.submitter;x&&(t=(t=x[Ht]||null)?op(t.formAction):x.getAttribute("formAction"),t!==null&&(u=t,x=null));var S=new Li("action","action",null,a,s);e.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Sl!==0){var T=x?sp(s,x):new FormData(s);Mc(l,{pending:!0,data:T,method:s.method,action:u},null,T)}}else typeof u=="function"&&(S.preventDefault(),T=x?sp(s,x):new FormData(s),Mc(l,{pending:!0,data:T,method:s.method,action:u},u,T))},currentTarget:s}]})}}for(var du=0;du<Zs.length;du++){var hu=Zs[du],pv=hu.toLowerCase(),gv=hu[0].toUpperCase()+hu.slice(1);vn(pv,"on"+gv)}vn(Hd,"onAnimationEnd"),vn(Ud,"onAnimationIteration"),vn(Id,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(D0,"onTransitionRun"),vn(k0,"onTransitionStart"),vn(R0,"onTransitionCancel"),vn(Yd,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qr));function cp(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var x=a.length-1;0<=x;x--){var S=a[x],T=S.instance,q=S.currentTarget;if(S=S.listener,T!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=q;try{u(s)}catch(F){Hi(F)}s.currentTarget=null,u=T}else for(x=0;x<a.length;x++){if(S=a[x],T=S.instance,q=S.currentTarget,S=S.listener,T!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=q;try{u(s)}catch(F){Hi(F)}s.currentTarget=null,u=T}}}}function De(e,t){var l=t[Cs];l===void 0&&(l=t[Cs]=new Set);var a=e+"__bubble";l.has(a)||(up(t,e,2,!1),l.add(a))}function mu(e,t,l){var a=0;t&&(a|=4),up(l,e,a,t)}var Co="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[Co]){e[Co]=!0,ld.forEach(function(l){l!=="selectionchange"&&(xv.has(l)||mu(l,!1,e),mu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Co]||(t[Co]=!0,mu("selectionchange",!1,t))}}function up(e,t,l,a){switch(Hp(t)){case 2:var s=qv;break;case 8:s=Xv;break;default:s=Tu}l=s.bind(null,t,l,e),s=void 0,!zs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function gu(e,t,l,a,s){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var S=a.stateNode.containerInfo;if(S===s)break;if(x===4)for(x=a.return;x!==null;){var T=x.tag;if((T===3||T===4)&&x.stateNode.containerInfo===s)return;x=x.return}for(;S!==null;){if(x=ha(S),x===null)return;if(T=x.tag,T===5||T===6||T===26||T===27){a=u=x;continue e}S=S.parentNode}}a=a.return}pd(function(){var q=u,F=ks(l),ne=[];e:{var W=$d.get(e);if(W!==void 0){var Q=Li,fe=e;switch(e){case"keypress":if(Ri(l)===0)break e;case"keydown":case"keyup":Q=u0;break;case"focusin":fe="focus",Q=Hs;break;case"focusout":fe="blur",Q=Hs;break;case"beforeblur":case"afterblur":Q=Hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Jb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=h0;break;case Hd:case Ud:case Id:Q=t0;break;case Yd:Q=p0;break;case"scroll":case"scrollend":Q=Kb;break;case"wheel":Q=x0;break;case"copy":case"cut":case"paste":Q=l0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=vd;break;case"toggle":case"beforetoggle":Q=b0}var we=(t&4)!==0,Xe=!we&&(e==="scroll"||e==="scrollend"),I=we?W!==null?W+"Capture":null:W;we=[];for(var L=q,G;L!==null;){var ee=L;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||I===null||(ee=xr(L,I),ee!=null&&we.push(Kr(L,ee,G))),Xe)break;L=L.return}0<we.length&&(W=new Q(W,fe,null,l,F),ne.push({event:W,listeners:we}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",W&&l!==Ds&&(fe=l.relatedTarget||l.fromElement)&&(ha(fe)||fe[da]))break e;if((Q||W)&&(W=F.window===F?F:(W=F.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(fe=l.relatedTarget||l.toElement,Q=q,fe=fe?ha(fe):null,fe!==null&&(Xe=f(fe),we=fe.tag,fe!==Xe||we!==5&&we!==27&&we!==6)&&(fe=null)):(Q=null,fe=q),Q!==fe)){if(we=yd,ee="onMouseLeave",I="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(we=vd,ee="onPointerLeave",I="onPointerEnter",L="pointer"),Xe=Q==null?W:gr(Q),G=fe==null?W:gr(fe),W=new we(ee,L+"leave",Q,l,F),W.target=Xe,W.relatedTarget=G,ee=null,ha(F)===q&&(we=new we(I,L+"enter",fe,l,F),we.target=G,we.relatedTarget=Xe,ee=we),Xe=ee,Q&&fe)t:{for(we=yv,I=Q,L=fe,G=0,ee=I;ee;ee=we(ee))G++;ee=0;for(var be=L;be;be=we(be))ee++;for(;0<G-ee;)I=we(I),G--;for(;0<ee-G;)L=we(L),ee--;for(;G--;){if(I===L||L!==null&&I===L.alternate){we=I;break t}I=we(I),L=we(L)}we=null}else we=null;Q!==null&&fp(ne,W,Q,we,!1),fe!==null&&Xe!==null&&fp(ne,Xe,fe,we,!0)}}e:{if(W=q?gr(q):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var Ve=_d;else if(Cd(W))if(Od)Ve=O0;else{Ve=A0;var pe=C0}else Q=W.nodeName,!Q||Q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&Ms(q.elementType)&&(Ve=_d):Ve=_0;if(Ve&&(Ve=Ve(e,q))){Ad(ne,Ve,l,F);break e}pe&&pe(e,W,q),e==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&Ts(W,"number",W.value)}switch(pe=q?gr(q):window,e){case"focusin":(Cd(pe)||pe.contentEditable==="true")&&(Sa=pe,qs=q,jr=null);break;case"focusout":jr=qs=Sa=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,Vd(ne,l,F);break;case"selectionchange":if(M0)break;case"keydown":case"keyup":Vd(ne,l,F)}var Ce;if(Is)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else wa?Ed(e,l)&&(Re="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(wd&&l.locale!=="ko"&&(wa||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&wa&&(Ce=gd()):(il=F,Ls="value"in il?il.value:il.textContent,wa=!0)),pe=Ao(q,Re),0<pe.length&&(Re=new bd(Re,e,null,l,F),ne.push({event:Re,listeners:pe}),Ce?Re.data=Ce:(Ce=jd(l),Ce!==null&&(Re.data=Ce)))),(Ce=w0?S0(e,l):N0(e,l))&&(Re=Ao(q,"onBeforeInput"),0<Re.length&&(pe=new bd("onBeforeInput","beforeinput",null,l,F),ne.push({event:pe,listeners:Re}),pe.data=Ce)),mv(ne,e,q,l,F)}cp(ne,t)})}function Kr(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ao(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,u=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||u===null||(s=xr(e,l),s!=null&&a.unshift(Kr(e,s,u)),s=xr(e,t),s!=null&&a.push(Kr(e,s,u))),e.tag===3)return a;e=e.return}return[]}function yv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fp(e,t,l,a,s){for(var u=t._reactName,x=[];l!==null&&l!==a;){var S=l,T=S.alternate,q=S.stateNode;if(S=S.tag,T!==null&&T===a)break;S!==5&&S!==26&&S!==27||q===null||(T=q,s?(q=xr(l,u),q!=null&&x.unshift(Kr(l,q,T))):s||(q=xr(l,u),q!=null&&x.push(Kr(l,q,T)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var bv=/\r\n?/g,vv=/\u0000|\uFFFD/g;function dp(e){return(typeof e=="string"?e:""+e).replace(bv,`
`).replace(vv,"")}function hp(e,t){return t=dp(t),dp(e)===t}function qe(e,t,l,a,s,u){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ya(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ya(e,""+a);break;case"className":Ti(e,"class",a);break;case"tabIndex":Ti(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(e,l,a);break;case"style":hd(e,a,u);break;case"data":if(t!=="object"){Ti(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Di(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(l==="formAction"?(t!=="input"&&qe(e,t,"name",s.name,s,null),qe(e,t,"formEncType",s.formEncType,s,null),qe(e,t,"formMethod",s.formMethod,s,null),qe(e,t,"formTarget",s.formTarget,s,null)):(qe(e,t,"encType",s.encType,s,null),qe(e,t,"method",s.method,s,null),qe(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Di(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Ln);break;case"onScroll":a!=null&&De("scroll",e);break;case"onScrollEnd":a!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Di(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":De("beforetoggle",e),De("toggle",e),Oi(e,"popover",a);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Oi(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zb.get(l)||l,Oi(e,l,a))}}function xu(e,t,l,a,s,u){switch(l){case"style":hd(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?ya(e,a):(typeof a=="number"||typeof a=="bigint")&&ya(e,""+a);break;case"onScroll":a!=null&&De("scroll",e);break;case"onScrollEnd":a!=null&&De("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ad.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),u=e[Ht]||null,u=u!=null?u[l]:null,typeof u=="function"&&e.removeEventListener(t,u,s),typeof a=="function")){typeof u!="function"&&u!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Oi(e,l,a)}}}function _t(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var a=!1,s=!1,u;for(u in l)if(l.hasOwnProperty(u)){var x=l[u];if(x!=null)switch(u){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:qe(e,t,u,x,l,null)}}s&&qe(e,t,"srcSet",l.srcSet,l,null),a&&qe(e,t,"src",l.src,l,null);return;case"input":De("invalid",e);var S=u=x=s=null,T=null,q=null;for(a in l)if(l.hasOwnProperty(a)){var F=l[a];if(F!=null)switch(a){case"name":s=F;break;case"type":x=F;break;case"checked":T=F;break;case"defaultChecked":q=F;break;case"value":u=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,t));break;default:qe(e,t,a,F,l,null)}}cd(e,u,S,T,q,x,s,!1);return;case"select":De("invalid",e),a=x=u=null;for(s in l)if(l.hasOwnProperty(s)&&(S=l[s],S!=null))switch(s){case"value":u=S;break;case"defaultValue":x=S;break;case"multiple":a=S;default:qe(e,t,s,S,l,null)}t=u,l=x,e.multiple=!!a,t!=null?xa(e,!!a,t,!1):l!=null&&xa(e,!!a,l,!0);return;case"textarea":De("invalid",e),u=s=a=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":a=S;break;case"defaultValue":s=S;break;case"children":u=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:qe(e,t,x,S,l,null)}fd(e,a,s,u);return;case"option":for(T in l)l.hasOwnProperty(T)&&(a=l[T],a!=null)&&(T==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":qe(e,t,T,a,l,null));return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(a=0;a<Qr.length;a++)De(Qr[a],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(a=l[q],a!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:qe(e,t,q,a,l,null)}return;default:if(Ms(t)){for(F in l)l.hasOwnProperty(F)&&(a=l[F],a!==void 0&&xu(e,t,F,a,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(a=l[S],a!=null&&qe(e,t,S,a,l,null))}function wv(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,u=null,x=null,S=null,T=null,q=null,F=null;for(Q in l){var ne=l[Q];if(l.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":T=ne;default:a.hasOwnProperty(Q)||qe(e,t,Q,null,a,ne)}}for(var W in a){var Q=a[W];if(ne=l[W],a.hasOwnProperty(W)&&(Q!=null||ne!=null))switch(W){case"type":u=Q;break;case"name":s=Q;break;case"checked":q=Q;break;case"defaultChecked":F=Q;break;case"value":x=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:Q!==ne&&qe(e,t,W,Q,a,ne)}}Os(e,x,S,T,q,F,u,s);return;case"select":Q=x=S=W=null;for(u in l)if(T=l[u],l.hasOwnProperty(u)&&T!=null)switch(u){case"value":break;case"multiple":Q=T;default:a.hasOwnProperty(u)||qe(e,t,u,null,a,T)}for(s in a)if(u=a[s],T=l[s],a.hasOwnProperty(s)&&(u!=null||T!=null))switch(s){case"value":W=u;break;case"defaultValue":S=u;break;case"multiple":x=u;default:u!==T&&qe(e,t,s,u,a,T)}t=S,l=x,a=Q,W!=null?xa(e,!!l,W,!1):!!a!=!!l&&(t!=null?xa(e,!!l,t,!0):xa(e,!!l,l?[]:"",!1));return;case"textarea":Q=W=null;for(S in l)if(s=l[S],l.hasOwnProperty(S)&&s!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:qe(e,t,S,null,a,s)}for(x in a)if(s=a[x],u=l[x],a.hasOwnProperty(x)&&(s!=null||u!=null))switch(x){case"value":W=s;break;case"defaultValue":Q=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==u&&qe(e,t,x,s,a,u)}ud(e,W,Q);return;case"option":for(var fe in l)W=l[fe],l.hasOwnProperty(fe)&&W!=null&&!a.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:qe(e,t,fe,null,a,W));for(T in a)W=a[T],Q=l[T],a.hasOwnProperty(T)&&W!==Q&&(W!=null||Q!=null)&&(T==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":qe(e,t,T,W,a,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in l)W=l[we],l.hasOwnProperty(we)&&W!=null&&!a.hasOwnProperty(we)&&qe(e,t,we,null,a,W);for(q in a)if(W=a[q],Q=l[q],a.hasOwnProperty(q)&&W!==Q&&(W!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,t));break;default:qe(e,t,q,W,a,Q)}return;default:if(Ms(t)){for(var Xe in l)W=l[Xe],l.hasOwnProperty(Xe)&&W!==void 0&&!a.hasOwnProperty(Xe)&&xu(e,t,Xe,void 0,a,W);for(F in a)W=a[F],Q=l[F],!a.hasOwnProperty(F)||W===Q||W===void 0&&Q===void 0||xu(e,t,F,W,a,Q);return}}for(var I in l)W=l[I],l.hasOwnProperty(I)&&W!=null&&!a.hasOwnProperty(I)&&qe(e,t,I,null,a,W);for(ne in a)W=a[ne],Q=l[ne],!a.hasOwnProperty(ne)||W===Q||W==null&&Q==null||qe(e,t,ne,W,a,Q)}function mp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],u=s.transferSize,x=s.initiatorType,S=s.duration;if(u&&S&&mp(x)){for(x=0,S=s.responseEnd,a+=1;a<l.length;a++){var T=l[a],q=T.startTime;if(q>S)break;var F=T.transferSize,ne=T.initiatorType;F&&mp(ne)&&(T=T.responseEnd,x+=F*(T<S?1:(S-q)/(T-q)))}if(--a,t+=8*(u+x)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yu=null,bu=null;function _o(e){return e.nodeType===9?e:e.ownerDocument}function pp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=null;function Nv(){var e=window.event;return e&&e.type==="popstate"?e===wu?!1:(wu=e,!0):(wu=null,!1)}var xp=typeof setTimeout=="function"?setTimeout:void 0,Ev=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,jv=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(e){return yp.resolve(null).then(e).catch(Cv)}:xp;function Cv(e){setTimeout(function(){throw e})}function Nl(e){return e==="head"}function bp(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),Qa(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Fr(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Fr(l);for(var u=l.firstChild;u;){var x=u.nextSibling,S=u.nodeName;u[pr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=x}}else l==="body"&&Fr(e.ownerDocument.body);l=s}while(l);Qa(t)}function vp(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Su(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Su(l),As(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Av(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[pr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=mn(e.nextSibling),e===null)break}return null}function _v(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=mn(e.nextSibling),e===null))return null;return e}function wp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=mn(e.nextSibling),e===null))return null;return e}function Nu(e){return e.data==="$?"||e.data==="$~"}function Eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ov(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ju=null;function Sp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return mn(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Np(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Ep(e,t,l){switch(t=_o(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Fr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);As(e)}var pn=new Map,jp=new Set;function Oo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jn=M.d;M.d={f:Tv,r:Mv,D:Dv,C:kv,L:Rv,m:zv,X:Vv,S:Lv,M:Bv};function Tv(){var e=Jn.f(),t=vo();return e||t}function Mv(e){var t=ma(e);t!==null&&t.tag===5&&t.type==="form"?Yh(t):Jn.r(e)}var Xa=typeof document>"u"?null:document;function Cp(e,t,l){var a=Xa;if(a&&typeof t=="string"&&t){var s=on(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),jp.has(s)||(jp.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),_t(t,"link",e),bt(t),a.head.appendChild(t)))}}function Dv(e){Jn.D(e),Cp("dns-prefetch",e,null)}function kv(e,t){Jn.C(e,t),Cp("preconnect",e,t)}function Rv(e,t,l){Jn.L(e,t,l);var a=Xa;if(a&&e&&t){var s='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+on(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+on(l.imageSizes)+'"]')):s+='[href="'+on(e)+'"]';var u=s;switch(t){case"style":u=Wa(e);break;case"script":u=Za(e)}pn.has(u)||(e=b({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),pn.set(u,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Jr(u))||t==="script"&&a.querySelector(Pr(u))||(t=a.createElement("link"),_t(t,"link",e),bt(t),a.head.appendChild(t)))}}function zv(e,t){Jn.m(e,t);var l=Xa;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+on(a)+'"][href="'+on(e)+'"]',u=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Za(e)}if(!pn.has(u)&&(e=b({rel:"modulepreload",href:e},t),pn.set(u,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Pr(u)))return}a=l.createElement("link"),_t(a,"link",e),bt(a),l.head.appendChild(a)}}}function Lv(e,t,l){Jn.S(e,t,l);var a=Xa;if(a&&e){var s=pa(a).hoistableStyles,u=Wa(e);t=t||"default";var x=s.get(u);if(!x){var S={loading:0,preload:null};if(x=a.querySelector(Jr(u)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},l),(l=pn.get(u))&&Cu(e,l);var T=x=a.createElement("link");bt(T),_t(T,"link",e),T._p=new Promise(function(q,F){T.onload=q,T.onerror=F}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,To(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:S},s.set(u,x)}}}function Vv(e,t){Jn.X(e,t);var l=Xa;if(l&&e){var a=pa(l).hoistableScripts,s=Za(e),u=a.get(s);u||(u=l.querySelector(Pr(s)),u||(e=b({src:e,async:!0},t),(t=pn.get(s))&&Au(e,t),u=l.createElement("script"),bt(u),_t(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Bv(e,t){Jn.M(e,t);var l=Xa;if(l&&e){var a=pa(l).hoistableScripts,s=Za(e),u=a.get(s);u||(u=l.querySelector(Pr(s)),u||(e=b({src:e,async:!0,type:"module"},t),(t=pn.get(s))&&Au(e,t),u=l.createElement("script"),bt(u),_t(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Ap(e,t,l,a){var s=(s=ge.current)?Oo(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Wa(l.href),l=pa(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Wa(l.href);var u=pa(s).hoistableStyles,x=u.get(e);if(x||(s=s.ownerDocument||s,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,x),(u=s.querySelector(Jr(e)))&&!u._p&&(x.instance=u,x.state.loading=5),pn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pn.set(e,l),u||Hv(s,e,l,x.state))),t&&a===null)throw Error(o(528,""));return x}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Za(l),l=pa(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Wa(e){return'href="'+on(e)+'"'}function Jr(e){return'link[rel="stylesheet"]['+e+"]"}function _p(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Hv(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),_t(t,"link",l),bt(t),e.head.appendChild(t))}function Za(e){return'[src="'+on(e)+'"]'}function Pr(e){return"script[async]"+e}function Op(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+on(l.href)+'"]');if(a)return t.instance=a,bt(a),a;var s=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),bt(a),_t(a,"style",s),To(a,l.precedence,e),t.instance=a;case"stylesheet":s=Wa(l.href);var u=e.querySelector(Jr(s));if(u)return t.state.loading|=4,t.instance=u,bt(u),u;a=_p(l),(s=pn.get(s))&&Cu(a,s),u=(e.ownerDocument||e).createElement("link"),bt(u);var x=u;return x._p=new Promise(function(S,T){x.onload=S,x.onerror=T}),_t(u,"link",a),t.state.loading|=4,To(u,l.precedence,e),t.instance=u;case"script":return u=Za(l.src),(s=e.querySelector(Pr(u)))?(t.instance=s,bt(s),s):(a=l,(s=pn.get(u))&&(a=b({},l),Au(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),bt(s),_t(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,To(a,l.precedence,e));return t.instance}function To(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,u=s,x=0;x<a.length;x++){var S=a[x];if(S.dataset.precedence===t)u=S;else if(u!==s)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Mo=null;function Tp(e,t,l){if(Mo===null){var a=new Map,s=Mo=new Map;s.set(l,a)}else s=Mo,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var u=l[s];if(!(u[pr]||u[Et]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var x=u.getAttribute(t)||"";x=e+x;var S=a.get(x);S?S.push(u):a.set(x,[u])}}return a}function Mp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Uv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Dp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Iv(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=Wa(a.href),u=t.querySelector(Jr(s));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Do.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=u,bt(u);return}u=t.ownerDocument||t,a=_p(a),(s=pn.get(s))&&Cu(a,s),u=u.createElement("link"),bt(u);var x=u;x._p=new Promise(function(S,T){x.onload=S,x.onerror=T}),_t(u,"link",a),l.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Do.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var _u=0;function Yv(e,t){return e.stylesheets&&e.count===0&&Ro(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Ro(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&_u===0&&(_u=62500*Sv());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ro(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>_u?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Do(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ro(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ko=null;function Ro(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ko=new Map,t.forEach($v,e),ko=null,Do.call(e))}function $v(e,t){if(!(t.state.loading&4)){var l=ko.get(e);if(l)var a=l.get(null);else{l=new Map,ko.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<s.length;u++){var x=s[u];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),a=x)}a&&l.set(null,a)}s=t.instance,x=s.getAttribute("data-precedence"),u=l.get(x)||a,u===a&&l.set(null,s),l.set(x,s),this.count++,a=Do.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),u?u.parentNode.insertBefore(s,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ei={$$typeof:X,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Gv(e,t,l,a,s,u,x,S,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=u,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function kp(e,t,l,a,s,u,x,S,T,q,F,ne){return e=new Gv(e,t,l,x,T,q,F,ne,S),t=1,u===!0&&(t|=24),u=Qt(3,null,null,t),e.current=u,u.stateNode=e,t=oc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:l,cache:t},fc(u),e}function Rp(e){return e?(e=ja,e):ja}function zp(e,t,l,a,s,u){s=Rp(s),a.context===null?a.context=s:a.pendingContext=s,a=dl(t),a.payload={element:l},u=u===void 0?null:u,u!==null&&(a.callback=u),l=hl(e,a,t),l!==null&&(qt(l,e,t),Dr(l,e,t))}function Lp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Ou(e,t){Lp(e,t),(e=e.alternate)&&Lp(e,t)}function Vp(e){if(e.tag===13||e.tag===31){var t=$l(e,67108864);t!==null&&qt(t,e,67108864),Ou(e,67108864)}}function Bp(e){if(e.tag===13||e.tag===31){var t=en();t=Es(t);var l=$l(e,t);l!==null&&qt(l,e,t),Ou(e,t)}}var zo=!0;function qv(e,t,l,a){var s=D.T;D.T=null;var u=M.p;try{M.p=2,Tu(e,t,l,a)}finally{M.p=u,D.T=s}}function Xv(e,t,l,a){var s=D.T;D.T=null;var u=M.p;try{M.p=8,Tu(e,t,l,a)}finally{M.p=u,D.T=s}}function Tu(e,t,l,a){if(zo){var s=Mu(a);if(s===null)gu(e,t,a,Lo,l),Up(e,a);else if(Zv(s,e,t,l,a))a.stopPropagation();else if(Up(e,a),t&4&&-1<Wv.indexOf(e)){for(;s!==null;){var u=ma(s);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var x=Nt(u.pendingLanes);if(x!==0){var S=u;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var T=1<<31-St(x);S.entanglements[1]|=T,x&=~T}On(u),(He&6)===0&&(yo=Pe()+500,Zr(0))}}break;case 31:case 13:S=$l(u,2),S!==null&&qt(S,u,2),vo(),Ou(u,2)}if(u=Mu(a),u===null&&gu(e,t,a,Lo,l),u===s)break;s=u}s!==null&&a.stopPropagation()}else gu(e,t,a,null,l)}}function Mu(e){return e=ks(e),Du(e)}var Lo=null;function Du(e){if(Lo=null,e=ha(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=m(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Lo=e,null}function Hp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(al()){case ca:return 2;case ce:return 8;case ve:case Ue:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var ku=!1,El=null,jl=null,Cl=null,ti=new Map,ni=new Map,Al=[],Wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Up(e,t){switch(e){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(t.pointerId)}}function li(e,t,l,a,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:u,targetContainers:[s]},t!==null&&(t=ma(t),t!==null&&Vp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zv(e,t,l,a,s){switch(t){case"focusin":return El=li(El,e,t,l,a,s),!0;case"dragenter":return jl=li(jl,e,t,l,a,s),!0;case"mouseover":return Cl=li(Cl,e,t,l,a,s),!0;case"pointerover":var u=s.pointerId;return ti.set(u,li(ti.get(u)||null,e,t,l,a,s)),!0;case"gotpointercapture":return u=s.pointerId,ni.set(u,li(ni.get(u)||null,e,t,l,a,s)),!0}return!1}function Ip(e){var t=ha(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,td(e.priority,function(){Bp(l)});return}}else if(t===31){if(t=m(l),t!==null){e.blockedOn=t,td(e.priority,function(){Bp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Mu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ds=a,l.target.dispatchEvent(a),Ds=null}else return t=ma(l),t!==null&&Vp(t),e.blockedOn=l,!1;t.shift()}return!0}function Yp(e,t,l){Vo(e)&&l.delete(t)}function Qv(){ku=!1,El!==null&&Vo(El)&&(El=null),jl!==null&&Vo(jl)&&(jl=null),Cl!==null&&Vo(Cl)&&(Cl=null),ti.forEach(Yp),ni.forEach(Yp)}function Bo(e,t){e.blockedOn===t&&(e.blockedOn=null,ku||(ku=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Qv)))}var Ho=null;function $p(e){Ho!==e&&(Ho=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ho===e&&(Ho=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Du(a||l)===null)continue;break}var u=ma(l);u!==null&&(e.splice(t,3),t-=3,Mc(u,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function Qa(e){function t(T){return Bo(T,e)}El!==null&&Bo(El,e),jl!==null&&Bo(jl,e),Cl!==null&&Bo(Cl,e),ti.forEach(t),ni.forEach(t);for(var l=0;l<Al.length;l++){var a=Al[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Al.length&&(l=Al[0],l.blockedOn===null);)Ip(l),l.blockedOn===null&&Al.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],u=l[a+1],x=s[Ht]||null;if(typeof u=="function")x||$p(l);else if(x){var S=null;if(u&&u.hasAttribute("formAction")){if(s=u,x=u[Ht]||null)S=x.formAction;else if(Du(s)!==null)continue}else S=x.action;typeof S=="function"?l[a+1]=S:(l.splice(a,3),a-=3),$p(l)}}}function Gp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(x){return s=x})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ru(e){this._internalRoot=e}Uo.prototype.render=Ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=en();zp(l,a,e,t,null,null)},Uo.prototype.unmount=Ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zp(e.current,2,null,e,null,null),vo(),t[da]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ed();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Al.length&&t!==0&&t<Al[l].priority;l++);Al.splice(l,0,e),l===0&&Ip(e)}};var qp=r.version;if(qp!=="19.2.3")throw Error(o(527,qp,"19.2.3"));M.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Kv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{yn=Io.inject(Kv),mt=Io}catch{}}return ri.createRoot=function(e,t){if(!c(e))throw Error(o(299));var l=!1,a="",s=Jh,u=Ph,x=em;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=kp(e,1,!1,null,null,l,a,null,s,u,x,Gp),e[da]=t.current,pu(e),new Ru(t)},ri.hydrateRoot=function(e,t,l){if(!c(e))throw Error(o(299));var a=!1,s="",u=Jh,x=Ph,S=em,T=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(u=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(T=l.formState)),t=kp(e,1,!0,t,l??null,a,s,T,u,x,S,Gp),t.context=Rp(null),l=t.current,a=en(),a=Es(a),s=dl(a),s.callback=null,hl(l,s,a),l=a,t.current.lanes=l,mr(t,l),On(t),e[da]=t.current,pu(e),new Uo(t)},ri.version="19.2.3",ri}var tg;function i1(){if(tg)return Vu.exports;tg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Vu.exports=r1(),Vu.exports}var o1=i1();const ng=n=>{let r;const i=new Set,o=(p,y)=>{const b=typeof p=="function"?p(r):p;if(!Object.is(b,r)){const N=r;r=y??(typeof b!="object"||b===null)?b:Object.assign({},r,b),i.forEach(E=>E(r,N))}},c=()=>r,m={setState:o,getState:c,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=r=n(o,c,m);return m},s1=(n=>n?ng(n):ng),c1=n=>n;function u1(n,r=c1){const i=Mn.useSyncExternalStore(n.subscribe,Mn.useCallback(()=>r(n.getState()),[n,r]),Mn.useCallback(()=>r(n.getInitialState()),[n,r]));return Mn.useDebugValue(i),i}const lg=n=>{const r=s1(n),i=o=>u1(r,o);return Object.assign(i,r),i},bs=(n=>n?lg(n):lg);function f1(n,r){let i;try{i=n()}catch{return}return{getItem:c=>{var f;const h=g=>g===null?null:JSON.parse(g,void 0),m=(f=i.getItem(c))!=null?f:null;return m instanceof Promise?m.then(h):h(m)},setItem:(c,f)=>i.setItem(c,JSON.stringify(f,void 0)),removeItem:c=>i.removeItem(c)}}const rf=n=>r=>{try{const i=n(r);return i instanceof Promise?i:{then(o){return rf(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return rf(o)(i)}}}},d1=(n,r)=>(i,o,c)=>{let f={storage:f1(()=>localStorage),partialize:j=>j,version:0,merge:(j,A)=>({...A,...j}),...r},h=!1,m=0;const g=new Set,p=new Set;let y=f.storage;if(!y)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...j)},o,c);const b=()=>{const j=f.partialize({...o()});return y.setItem(f.name,{state:j,version:f.version})},N=c.setState;c.setState=(j,A)=>(N(j,A),b());const E=n((...j)=>(i(...j),b()),o,c);c.getInitialState=()=>E;let w;const v=()=>{var j,A;if(!y)return;const O=++m;h=!1,g.forEach(B=>{var V;return B((V=o())!=null?V:E)});const X=((A=f.onRehydrateStorage)==null?void 0:A.call(f,(j=o())!=null?j:E))||void 0;return rf(y.getItem.bind(y))(f.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==f.version){if(f.migrate){const V=f.migrate(B.state,B.version);return V instanceof Promise?V.then(H=>[!0,H]):[!0,V]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var V;if(O!==m)return;const[H,$]=B;if(w=f.merge($,(V=o())!=null?V:E),i(w,!0),H)return b()}).then(()=>{O===m&&(X?.(w,void 0),w=o(),h=!0,p.forEach(B=>B(w)))}).catch(B=>{O===m&&X?.(void 0,B)})};return c.persist={setOptions:j=>{f={...f,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>v(),hasHydrated:()=>h,onHydrate:j=>(g.add(j),()=>{g.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},f.skipHydration||v(),w||E},h1=d1;function Nf(n){return n===null||n===void 0?"null":typeof n=="string"?n===""||n.includes(":")||n.includes("#")||n.includes(`
`)||n.startsWith(" ")||n.endsWith(" ")||/^[[{}>|*&!%@`]/.test(n)||/^-?\d+(\.\d+)?$/.test(n)||n==="true"||n==="false"||n==="null"?JSON.stringify(n):n:typeof n=="number"||typeof n=="boolean"?String(n):JSON.stringify(n)}function Ef(n,r){const i=n.split(`
`);let o=!1,c=-1,f=-1;for(let h=0;h<i.length;h++){const m=i[h],g=m.match(/^\s*-?\s*name:\s*(\w+)/);if(g&&(o=g[1]===r),o){const p=m.match(/^(\s*)nodes:\s*$/);if(p){c=h,f=p[1].length;let y=h+1;for(;y<i.length;){const b=i[y];if(b.trim()===""||b.trim().startsWith("#")){y++;continue}const N=b.search(/\S/);if(N!==-1&&N<=f)break;y++}return{startLine:c,endLine:y,nodesIndent:f}}}}return null}function ot(n,r,i){const o=n.split(`
`);let c=0,f=o.length;if(i){const p=Ef(n,i);if(!p)return null;c=p.startLine,f=p.endLine}let h=-1,m=-1;for(let p=c;p<f;p++){const b=o[p].match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(b&&b[2]===r){h=p,m=b[1].length;break}}if(h===-1)return null;let g=h+1;for(;g<o.length;){const p=o[g];if(p.trim()===""||p.trim().startsWith("#")){g++;continue}const y=p.search(/\S/);if(y!==-1&&y<=m)break;g++}return{startLine:h,endLine:g,indent:m}}function Nx(n,r){const i=n.split(`
`),o=new Set;for(const h of i){const m=h.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);m&&o.add(m[1])}let c=`${r}_1`,f=1;for(;o.has(c);)f++,c=`${r}_${f}`;return c}function of(n,r){const i=ot(n,r);if(!i)return{source:n,success:!1};const o=n.split(`
`);return{source:[...o.slice(0,i.startLine),...o.slice(i.endLine)].join(`
`),success:!0}}function Ex(n,r,i="main"){const o=n.split(`
`);let c=!1,f=-1,h=-1,m=-1,g=-1;for(let A=0;A<o.length;A++){const O=o[A],X=O.match(/^\s*-?\s*name:\s*(\w+)/);if(X&&(c=X[1]===i),c){const B=O.match(/^(\s*)nodes:\s*$/);if(B){f=A,h=B[1].length;continue}if(f!==-1){const V=O.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(V){const H=V[1].length;if(H===h+2){g=H;let $=A+1;for(;$<o.length;){const Y=o[$];if(Y.trim()===""||Y.trim().startsWith("#")){$++;continue}const K=Y.search(/\S/);if(K!==-1&&K<=H)break;$++}m=$}}}}}if(f===-1)return{source:n,nodeId:null};const p=r.name.split("_")[0],y=Nx(n,p),b=" ".repeat(g!==-1?g:h+2),N=b+"  ",E=N+"  ";let w=`${b}${y}:
`;if(w+=`${N}opcode: ${r.name}
`,w+=`${N}next: null
`,r.parameters.length>0){w+=`${N}inputs:
`;for(const A of r.parameters){const O=A.name.toUpperCase(),X=A.default!==void 0?JSON.stringify(A.default):'""';w+=`${E}${O}: { literal: ${X} }
`}}const v=m!==-1?m:f+1;return{source:[...o.slice(0,v),w.trimEnd(),...o.slice(v)].join(`
`),nodeId:y}}function m1(n,r,i,o="main"){const c=Ex(n,r,o);if(!c.nodeId)return{source:n,nodeId:null,success:!1};const f=di(c.source,i,c.nodeId,o);return f.success?{source:f.source,nodeId:c.nodeId,success:!0}:{source:n,nodeId:null,success:!1}}function p1(n,r){const i=ot(n,r);if(!i)return{source:n,nodeId:null};const o=n.split(`
`),c=o.slice(i.startLine,i.endLine);let f=`${r}_copy`,h=1;const m=new Set;for(const y of o){const b=y.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);b&&m.add(b[1])}for(;m.has(f);)h++,f=`${r}_copy_${h}`;const g=[...c];g[0]=g[0].replace(r+":",f+":");for(let y=1;y<g.length;y++)if(g[y].match(/^\s+next:\s*\S/)){const b=g[y].match(/^(\s+)next:/)?.[1]||"        ";g[y]=`${b}next: null`}return{source:[...o.slice(0,i.endLine),...g,...o.slice(i.endLine)].join(`
`),nodeId:f}}function g1(n,r,i,o){const c=n.split(`
`),f=ot(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let E=f.startLine+1;E<f.endLine;E++){const w=c[E];if(w.match(/^\s+inputs:\s*$/)){h=E;continue}if(h!==-1){const v=w.match(new RegExp(`^(\\s+)(${i}):\\s*(.*)$`));if(v){m=E,g=v[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const E=c[p];if(E.trim()===""||E.trim().startsWith("#")){p++;continue}const w=E.search(/\S/);if(w!==-1&&w<=g)break;p++}let y;if(o.startsWith("$"))y=`{ variable: "${o.slice(1)}" }`;else try{const E=JSON.parse(o);y=`{ literal: ${JSON.stringify(E)} }`}catch{y=`{ literal: "${o}" }`}const b=" ".repeat(g);return{source:[...c.slice(0,m),`${b}${i}: ${y}`,...c.slice(p)].join(`
`),success:!0}}function di(n,r,i,o){const c=n.split(`
`),f=ot(n,r,o);if(!f)return{source:n,success:!1};let h=-1;for(let g=f.startLine+1;g<f.endLine;g++)if(c[g].match(/^\s+next:\s*/)){h=g;break}const m=" ".repeat(f.indent+2);if(h!==-1)c[h]=`${m}next: ${i}`;else{let g=f.startLine+1;for(;g<f.endLine;){const p=c[g];if(p.trim()!==""&&!p.trim().startsWith("#"))break;g++}c.splice(g,0,`${m}next: ${i}`)}return{source:c.join(`
`),success:!0}}function jf(n,r,i){const o=n.split(`
`),c=ot(n,r,i);if(!c)return{source:n,success:!1};for(let f=c.startLine+1;f<c.endLine;f++)if(o[f].match(/^\s+next:\s*/)){const h=o[f].match(/^(\s+)next:/)?.[1]||" ".repeat(c.indent+2);return o[f]=`${h}next: null`,{source:o.join(`
`),success:!0}}return{source:n,success:!0}}function x1(n,r,i,o){const c=n.split(`
`),f=ot(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1;for(let w=f.startLine+1;w<f.endLine;w++){const j=c[w].match(/^(\s+)inputs:\s*$/);if(j){h=w,m=j[1].length;break}}if(h===-1)return{source:n,success:!1};const g=o.startsWith("CATCH"),p=" ".repeat(m+2),y=" ".repeat(m+4);let b=-1,N=-1,E=h+1;for(;E<c.length;){const w=c[E];if(w.trim()===""||w.trim().startsWith("#")){E++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=m&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){b=E;break}const A=w.match(/^\s+([A-Z]+\d*):\s*\{.*\}\s*$/);if(A&&A[1]===o){N=E;break}E++}if(b!==-1){const w=c[b].match(/^(\s*)/)?.[1].length||0;let v=b+1;if(g){let j=-1;for(;v<c.length;){const A=c[v];if(A.trim()===""||A.trim().startsWith("#")){v++;continue}if((A.match(/^(\s*)/)?.[1].length||0)<=w&&A.trim())break;if(A.match(/^\s+body:\s*$/)){j=v;break}v++}if(j!==-1){const A=c[j].match(/^(\s*)/)?.[1].length||0;let O=j+1;for(;O<c.length;){const B=c[O];if(B.trim()===""||B.trim().startsWith("#")){O++;continue}if((B.match(/^(\s*)/)?.[1].length||0)<=A&&B.trim())break;const H=B.match(/^(\s+)branch:\s*/);if(H)return c[O]=`${H[1]}branch: ${i}`,{source:c.join(`
`),success:!0};O++}const X=" ".repeat(A+2);return c.splice(j+1,0,`${X}branch: ${i}`),{source:c.join(`
`),success:!0}}else{const A=" ".repeat(w+2),O=" ".repeat(w+4);let X=b+1;for(;X<c.length;){const B=c[X];if(B.trim()===""||B.trim().startsWith("#")){X++;continue}if((B.match(/^(\s*)/)?.[1].length||0)<=w&&B.trim())break;X++}return c.splice(X,0,`${A}body:`,`${O}branch: ${i}`),{source:c.join(`
`),success:!0}}}else{for(;v<c.length;){const j=c[v];if(j.trim()===""||j.trim().startsWith("#")){v++;continue}if((j.match(/^(\s*)/)?.[1].length||0)<=w&&j.trim())break;const O=j.match(/^(\s+)branch:\s*/);if(O)return c[v]=`${O[1]}branch: ${i}`,{source:c.join(`
`),success:!0};v++}return c.splice(b+1,0,`${y}branch: ${i}`),{source:c.join(`
`),success:!0}}}else if(N!==-1){const w=c[N].match(/^(\s*)/)?.[1].length||0,v=" ".repeat(w+2);if(g){const j=" ".repeat(w+2),A=" ".repeat(w+4);c.splice(N,1,`${" ".repeat(w)}${o}:`,`${j}exception_type: "Exception"`,`${j}body:`,`${A}branch: ${i}`)}else c.splice(N,1,`${" ".repeat(w)}${o}:`,`${v}branch: ${i}`);return{source:c.join(`
`),success:!0}}else{if(g){const w=" ".repeat(m+4),v=" ".repeat(m+6);c.splice(E,0,`${p}${o}:`,`${w}exception_type: "Exception"`,`${w}body:`,`${v}branch: ${i}`)}else c.splice(E,0,`${p}${o}:`,`${y}branch: ${i}`);return{source:c.join(`
`),success:!0}}}function y1(n,r,i,o,c){if(!o)return jf(n,r,c);const f=n.split(`
`),h=ot(n,r,c);if(!h)return{source:n,success:!1};let m=-1,g=-1;for(let w=h.startLine+1;w<h.endLine;w++){const j=f[w].match(/^(\s+)inputs:\s*$/);if(j){m=w,g=j[1].length;break}}if(m===-1)return{source:n,success:!1};const p=o.startsWith("CATCH");let y=-1,b=m+1;for(;b<f.length;){const w=f[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=g&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){y=b;break}b++}if(y===-1)return{source:n,success:!1};const N=f[y].match(/^(\s*)/)?.[1].length||0;let E=y+1;for(;E<f.length;){const w=f[E];if(w.trim()===""||w.trim().startsWith("#")){E++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=N&&w.trim())break;if(p){const j=w.match(/^(\s+)body:\s*$/);if(j){const A=j[1].length;let O=E+1;for(;O<f.length;){const X=f[O];if(X.trim()===""||X.trim().startsWith("#")){O++;continue}if((X.match(/^(\s*)/)?.[1].length||0)<=A&&X.trim())break;const V=X.match(/^(\s+)branch:\s*(\S+)/);if(V&&V[2]===i){const H=V[1];return f[O]=`${H}branch: null`,{source:f.join(`
`),success:!0}}O++}}}else{const j=w.match(/^(\s+)branch:\s*(\S+)/);if(j&&j[2]===i){const A=j[1];return f[E]=`${A}branch: null`,{source:f.join(`
`),success:!0}}}E++}return{source:n,success:!1}}function b1(n,r,i,o){const c=n.split(`
`),f=ot(n,i);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let N=f.startLine+1;N<f.endLine;N++){const E=c[N];if(E.match(/^\s+inputs:\s*$/)){h=N;continue}if(h!==-1){const w=E.match(new RegExp(`^(\\s+)(${o}):\\s*(.*)$`));if(w){m=N,g=w[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const N=c[p];if(N.trim()===""||N.trim().startsWith("#")){p++;continue}const E=N.search(/\S/);if(E!==-1&&E<=g)break;p++}const y=" ".repeat(g);return{source:[...c.slice(0,m),`${y}${o}: { node: "${r}" }`,...c.slice(p)].join(`
`),success:!0}}function v1(n,r,i){if(i.length===0)return{source:n,success:!1};const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=c.startLine,h=c.indent,m=!1;for(let w=c.startLine+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=c.indent)break;if(v.match(/^\s+inputs:\s*$/)){m=!0,f=w,h=j;break}}if(!m)return{source:n,success:!1};for(let w=0;w<i.length-1;w++){const v=i[w];let j=!1;for(let A=f+1;A<o.length;A++){const O=o[A];if(O.trim()===""||O.trim().startsWith("#"))continue;const X=O.search(/\S/);if(X!==-1&&X<=h)break;const B=O.match(new RegExp(`^(\\s+)(${v}):\\s*`));if(B){f=A,h=B[1].length,j=!0;for(let V=A+1;V<o.length;V++){const H=o[V];if(H.trim()===""||H.trim().startsWith("#"))continue;const $=H.search(/\S/);if($!==-1&&$<=h)break;if(H.match(/^\s+inputs:\s*$/)){f=V,h=$;break}}break}}if(!j)return{source:n,success:!1}}const g=i[i.length-1];let p=-1,y=-1;for(let w=f+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=h)break;const A=v.match(new RegExp(`^(\\s+)(${g}):\\s*`));if(A){p=w,y=A[1].length;break}}if(p===-1)return{source:n,success:!1};let b=p+1;for(;b<o.length;){const w=o[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}const v=w.search(/\S/);if(v!==-1&&v<=y)break;b++}const N=" ".repeat(y);return{source:[...o.slice(0,p),`${N}${g}: { literal: null }`,...o.slice(b)].join(`
`),success:!0}}function w1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let v=0;v<c.length;v++){const j=c[v],A=j.match(/^\s*-?\s*name:\s*(\w+)/);if(A&&(f=A[1]===r),f){const O=j.match(/^(\s*)interface:\s*$/);if(O){h=v,g=O[1].length;let X=v+1;for(;X<c.length;){const B=c[X];if(B.trim()===""||B.trim().startsWith("#")){X++;continue}const V=B.search(/\S/);if(V!==-1&&V<=g)break;X++}m=X;break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(g),y=" ".repeat(g+2),b=i.length>0?`[${i.map(v=>`"${v}"`).join(", ")}]`:"[]",N=o.length>0?`[${o.map(v=>`"${v}"`).join(", ")}]`:"[]",E=[`${p}interface:`,`${y}inputs: ${b}`,`${y}outputs: ${N}`];return{source:[...c.slice(0,h),...E,...c.slice(m)].join(`
`),success:!0}}function S1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let b=0;b<c.length;b++){const N=c[b],E=N.match(/^\s*-?\s*name:\s*(\w+)/);if(E&&(f=E[1]===r),f){const w=N.match(/^(\s*)variables:\s*(.*)$/);if(w){h=b,m=w[1].length;const v=w[2].trim();if(v==="{}"||v==="")g=b+1;else{let j=b+1;for(;j<c.length;){const A=c[j];if(A.trim()===""||A.trim().startsWith("#")){j++;continue}const O=A.search(/\S/);if(O!==-1&&O<=m)break;j++}g=j}break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(m+2),y=Nf(o);if(c[h].includes("{}")){const b=" ".repeat(m);return{source:[...c.slice(0,h),`${b}variables:`,`${p}${i}: ${y}`,...c.slice(h+1)].join(`
`),success:!0}}else return{source:[...c.slice(0,g),`${p}${i}: ${y}`,...c.slice(g)].join(`
`),success:!0}}function N1(n,r,i,o,c){const f=n.split(`
`);let h=!1,m=!1,g=-1,p=-1;for(let N=0;N<f.length;N++){const E=f[N],w=E.match(/^\s*-?\s*name:\s*(\w+)/);if(w&&(h=w[1]===r,m=!1),h){const v=E.match(/^(\s*)variables:\s*/);if(v){m=!0,g=v[1].length;continue}if(m){const j=E.search(/\S/);if(E.trim()!==""&&!E.trim().startsWith("#")&&j!==-1&&j<=g){m=!1;continue}if(E.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){p=N;break}}}}if(p===-1)return{source:n,success:!1};const y=f[p].match(/^(\s+)/)?.[1]||"    ",b=Nf(c);return f[p]=`${y}${o}: ${b}`,{source:f.join(`
`),success:!0}}function E1(n,r,i){const o=n.split(`
`);let c=!1,f=!1,h=-1,m=-1;for(let p=0;p<o.length;p++){const y=o[p],b=y.match(/^\s*-?\s*name:\s*(\w+)/);if(b&&(c=b[1]===r,f=!1),c){const N=y.match(/^(\s*)variables:\s*/);if(N){f=!0,h=N[1].length;continue}if(f){const E=y.search(/\S/);if(y.trim()!==""&&!y.trim().startsWith("#")&&E!==-1&&E<=h){f=!1;continue}if(y.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){m=p;break}}}}return m===-1?{source:n,success:!1}:{source:[...o.slice(0,m),...o.slice(m+1)].join(`
`),success:!0}}function jx(n,r,i,o="main"){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1,p=-1;for(let A=0;A<c.length;A++){const O=c[A],X=O.match(/^\s*-?\s*name:\s*(\w+)/);if(X&&(f=X[1]===o),f){const B=O.match(/^(\s*)nodes:\s*$/);if(B){h=A,m=B[1].length;continue}if(h!==-1){const V=O.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(V){const H=V[1].length;if(H===m+2){p=H;let $=A+1;for(;$<c.length;){const Y=c[$];if(Y.trim()===""||Y.trim().startsWith("#")){$++;continue}const K=Y.search(/\S/);if(K!==-1&&K<=H)break;$++}g=$}}}}}if(h===-1)return{source:n,nodeId:null};const y=Nx(n,`call_${r}`),b=" ".repeat(p!==-1?p:m+2),N=b+"  ",E=N+"  ";let w=`${b}${y}:
`;w+=`${N}opcode: workflow_call
`,w+=`${N}next: null
`,w+=`${N}inputs:
`,w+=`${E}WORKFLOW: { literal: "${r}" }
`,i.forEach((A,O)=>{w+=`${E}ARG${O+1}: { literal: null }
`});const v=g!==-1?g:h+1;return{source:[...c.slice(0,v),w.trimEnd(),...c.slice(v)].join(`
`),nodeId:y}}function j1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let v=c.startLine+1;v<c.endLine;v++){const j=o[v],A=j.match(/^(\s+)inputs:\s*$/);if(A){f=v,h=A[1].length;continue}if(f!==-1){const O=j.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));O&&m.push(O[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const v of m){const j=parseInt(v.replace(i,""));j>g&&(g=j)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const v=o[y];if(v.trim()===""||v.trim().startsWith("#")){y++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=h&&v.trim())break;y++}const b=" ".repeat(h+2),N=" ".repeat(h+4);let E;if(i==="CATCH"){const v=" ".repeat(h+6);E=[`${b}${p}:`,`${N}exception_type: "Exception"`,`${N}body:`,`${v}branch: null`]}else E=[`${b}${p}:`,`${N}branch: null`];return{source:[...o.slice(0,y),...E,...o.slice(y)].join(`
`),success:!0}}function C1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function A1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let w=c.startLine+1;w<c.endLine;w++){const v=o[w],j=v.match(/^(\s+)inputs:\s*$/);if(j){f=w,h=j[1].length;continue}if(f!==-1){const A=v.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));A&&m.push(A[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const w of m){const v=parseInt(w.replace(i,""));v>g&&(g=v)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const w=o[y];if(w.trim()===""||w.trim().startsWith("#")){y++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=h&&w.trim())break;y++}const N=`${" ".repeat(h+2)}${p}: { literal: null }`;return{source:[...o.slice(0,y),N,...o.slice(y)].join(`
`),success:!0}}function _1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function Cx(n,r,i=[],o=[],c={}){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return{source:n,success:!1};const f=n.split(`
`);for(const O of f){const X=O.match(/^\s*-?\s*name:\s*(\w+)/);if(X&&X[1]===r)return{source:n,success:!1}}let h=-1,m=!1,g=-1;for(let O=0;O<f.length;O++){const X=f[O],B=X.match(/^(\s*)workflows:\s*$/);if(B){m=!0,g=B[1].length;continue}if(m){const V=X.search(/\S/);if(X.trim()!==""&&V!==-1&&V<=g)break;h=O}}if(!m)return{source:n,success:!1};const p="  ",y="    ",b="      ",N=i.length>0?`[${i.map(O=>`"${O}"`).join(", ")}]`:"[]",E=o.length>0?`[${o.map(O=>`"${O}"`).join(", ")}]`:"[]";let w=`${p}- name: ${r}
`;w+=`${y}interface:
`,w+=`${b}inputs: ${N}
`,w+=`${b}outputs: ${E}
`;const v=Object.entries(c);if(v.length===0)w+=`${y}variables: {}
`;else{w+=`${y}variables:
`;for(const[O,X]of v)w+=`${b}${O}: ${Nf(X)}
`}w+=`${y}nodes:
`,w+=`${b}start:
`,w+=`${b}  next: null`;const j=h+1;return{source:[...f.slice(0,j),w,...f.slice(j)].join(`
`),success:!0}}function O1(n,r){if(r==="main")return{source:n,success:!1};const i=n.split(`
`);let o=-1,c=-1;for(let m=0;m<i.length;m++){const p=i[m].match(/^(\s*)-\s*name:\s*(\w+)/);if(p&&p[2]===r){o=m,c=p[1].length;break}}if(o===-1)return{source:n,success:!1};let f=o+1;for(;f<i.length;){const m=i[f];if(m.trim()===""||m.trim().startsWith("#")){f++;continue}const g=m.search(/\S/),p=m.match(/^(\s*)-\s*name:\s*\w+/);if(p&&p[1].length===c||g!==-1&&g<=c&&!m.trim().startsWith("-"))break;f++}return{source:[...i.slice(0,o),...i.slice(f)].join(`
`),success:!0}}const T1=["control_if","control_for","control_for_each","control_while","control_repeat_until","control_try","control_fork"];function M1(n,r){const i=n.split(`
`);let o=null,c=!1,f=-1;for(const h of i){const m=h.match(/^(\s*)-?\s*name:\s*(\w+)/);if(m&&(o=m[2],f=m[1].length,c=!1),h.match(/^(\s*)nodes:\s*$/)&&o&&(c=!0),c){const p=h.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(p&&p[2]===r)return o;const y=h.search(/\S/);h.trim()&&y!==-1&&y<=f&&(c=!1)}}return null}function Ax(n,r){const i=ot(n,r);if(!i)return null;const o=n.split(`
`);for(let c=i.startLine+1;c<i.endLine;c++){const f=o[c].match(/^\s+opcode:\s*(\S+)/);if(f)return f[1]}return null}function ag(n,r,i){const o=ot(n,r,i);if(!o)return null;const c=n.split(`
`);for(let f=o.startLine+1;f<o.endLine;f++){const h=c[f].match(/^\s+next:\s*(\S+)/);if(h){const m=h[1];return m==="null"?null:m}}return null}function D1(n,r,i){const o=Ef(n,i);if(!o)return null;const c=n.split(`
`);let f=null;for(let h=o.startLine;h<o.endLine;h++){const m=c[h],g=m.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);g&&(f=g[2]);const p=m.match(/^\s+next:\s*(\S+)/);if(p&&p[1]===r&&f)return f}return null}function k1(n,r){const i=[],o=new Set;function c(f){if(o.has(f))return;o.add(f);const h=ot(n,f);if(!h)return;const g=n.split(`
`).slice(h.startLine,h.endLine).join(`
`),p=g.matchAll(/\{\s*node:\s*["']([^"']+)["']\s*\}/g);for(const b of p){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}const y=g.matchAll(/\{\s*node:\s*([a-zA-Z_][a-zA-Z0-9_]*)\s*\}/g);for(const b of y){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}}for(const f of r)c(f);return i}function _x(n,r,i){const o=[];if(r.length<2)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Select at least 2 nodes to extract"]};for(const v of r)M1(n,v)!==i&&o.push(`Node "${v}" is not in workflow "${i}"`);if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};for(const v of r){const j=Ax(n,v);j&&T1.includes(j)&&o.push(`Cannot extract "${v}": branching nodes (${j}) are not supported`)}if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};const c=new Set(r),f={};for(const v of r)f[v]=ag(n,v,i);const h=new Set(Object.values(f).filter(v=>v&&c.has(v))),m=r.filter(v=>!h.has(v));if(m.length!==1)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes do not form a single connected chain"]};const g=[];let p=m[0];const y=new Set;for(;p&&c.has(p)&&!y.has(p);)y.add(p),g.push(p),p=f[p]||null;if(g.length!==r.length)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes are not contiguous (some nodes are disconnected)"]};const b=g[0],N=g[g.length-1],E=D1(n,b,i),w=ag(n,N,i);return{isValid:!0,orderedNodeIds:g,firstNodeId:b,lastNodeId:N,predecessorNodeId:E,successorNodeId:w,errors:[]}}function R1(n,r){const i=new Set,o=new Set;for(const h of r){const m=ot(n,h);if(!m)continue;const p=n.split(`
`).slice(m.startLine,m.endLine).join(`
`),y=p.matchAll(/\{\s*variable:\s*["']([^"']+)["']\s*\}/g);for(const N of y)i.add(N[1]);if(Ax(n,h)==="data_set_variable_to"){const N=p.match(/VARIABLE:\s*\{\s*literal:\s*["']([^"']+)["']\s*\}/);N&&o.add(N[1])}}const c=[...i].filter(h=>!o.has(h)),f=[...o];return{suggestedInputs:c,suggestedOutputs:f}}function z1(n,r,i,o,c,f,h){const m=_x(n,r,i);if(!m.isValid)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:m.errors};const{orderedNodeIds:g,firstNodeId:p,lastNodeId:y,predecessorNodeId:b,successorNodeId:N}=m,E=k1(n,g);let w=n;const v=Cx(w,o,c,f,h);if(!v.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to create workflow "${o}"`]};w=v.source;const j=[],A=[];for(const se of[...g].reverse()){const Z=ot(w,se,i);if(!Z)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find node "${se}"`]};const D=w.split(`
`).slice(Z.startLine,Z.endLine).join(`
`);j.unshift({id:se,yaml:D,indent:Z.indent});const M=of(w,se);if(!M.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to delete node "${se}"`]};w=M.source}for(const se of[...E].reverse()){let Z=ot(w,se,i);if(Z||(Z=ot(w,se)),!Z)continue;const D=w.split(`
`).slice(Z.startLine,Z.endLine).join(`
`);A.unshift({id:se,yaml:D,indent:Z.indent});const M=of(w,se);M.success&&(w=M.source)}const O=[...j,...A];if(!Ef(w,o))return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find nodes section in new workflow "${o}"`]};const B=ot(w,"start",o);if(!B)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Could not find start node in new workflow"]};const V=B.indent,H=[];for(let se=0;se<O.length;se++){const Z=O[se],ae=Z.yaml.split(`
`),D=V-Z.indent,M=ae.map(R=>R.trim()===""?R:D>0?" ".repeat(D)+R:D<0?R.slice(-D):R);H.push(...M)}const $=w.split(`
`),Y=B.endLine;$.splice(Y,0,...H),w=$.join(`
`);const K=di(w,"start",p,o);if(!K.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to connect start to "${p}"`]};w=K.source;const te=jf(w,y,o);if(!te.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to disconnect last node "${y}"`]};w=te.source;const ue=jx(w,o,c,i);if(!ue.nodeId)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to create workflow_call node"]};w=ue.source;const ie=ue.nodeId;if(b){const se=di(w,b==="start"?"start":b,ie,i);if(!se.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect predecessor to workflow_call"]};w=se.source}if(N){const se=di(w,ie,N,i);if(!se.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect workflow_call to successor"]};w=se.source}return{source:w,success:!0,newWorkflowCallNodeId:ie,errors:[]}}const L1=50,rg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`,lt=bs()(h1((n,r)=>({source:rg,setSource:(i,o=!0)=>{const c=r();if(o&&i!==c.source){const f=c.history.slice(0,c.historyIndex+1);f.push(i),f.length>L1&&f.shift(),n({source:i,history:f,historyIndex:f.length-1,canUndo:f.length>1,canRedo:!1})}else n({source:i})},history:[rg],historyIndex:0,canUndo:!1,canRedo:!1,undo:()=>{const i=r();if(i.historyIndex>0){const o=i.historyIndex-1;n({source:i.history[o],historyIndex:o,canUndo:o>0,canRedo:!0})}},redo:()=>{const i=r();if(i.historyIndex<i.history.length-1){const o=i.historyIndex+1;n({source:i.history[o],historyIndex:o,canUndo:!0,canRedo:o<i.history.length-1})}},tree:null,parseError:null,isParsing:!1,setTree:i=>n({tree:i,parseError:null}),setParseError:i=>n({parseError:i,tree:null}),setIsParsing:i=>n({isParsing:i}),deleteNode:i=>{const o=r(),c=of(o.source,i);return c.success&&o.setSource(c.source),c.success},addNode:(i,o="main")=>{const c=r(),f=Ex(c.source,i,o);return f.nodeId&&c.setSource(f.source),f.nodeId},addNodeConnected:(i,o,c="main")=>{const f=r(),h=m1(f.source,i,o,c);return h.success&&h.nodeId?(f.setSource(h.source),h.nodeId):null},addWorkflowCallNode:(i,o,c="main")=>{const f=r(),h=jx(f.source,i,o,c);return h.nodeId&&f.setSource(h.source),h.nodeId},duplicateNode:i=>{const o=r(),c=p1(o.source,i);return c.nodeId&&o.setSource(c.source),c.nodeId},updateNodeInput:(i,o,c)=>{const f=r(),h=g1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectNodes:(i,o,c)=>{const f=r(),h=di(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectBranch:(i,o,c)=>{const f=r(),h=x1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},disconnectNode:(i,o)=>{const c=r(),f=jf(c.source,i,o);return f.success&&c.setSource(f.source),f.success},convertOrphanToReporter:(i,o,c)=>{const f=r(),h=b1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateReporterInput:(i,o,c)=>(console.log("[updateReporterInput] reporterNodeId:",i,"key:",o,"value:",c),i?r().updateNodeInput(i,o,c):(console.warn("[updateReporterInput] No reporter node ID provided"),!1)),deleteReporter:(i,o)=>{const c=r(),f=v1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},updateWorkflowInterface:(i,o,c)=>{const f=r(),h=w1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},addVariable:(i,o,c)=>{const f=r(),h=S1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateVariable:(i,o,c,f)=>{const h=r(),m=N1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},disconnectConnection:(i,o,c,f)=>{const h=r(),m=y1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteVariable:(i,o)=>{const c=r(),f=E1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicBranch:(i,o)=>{const c=r(),f=j1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicBranch:(i,o)=>{const c=r(),f=C1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicInput:(i,o)=>{const c=r(),f=A1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicInput:(i,o)=>{const c=r(),f=_1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addWorkflow:(i,o=[],c=[],f={})=>{const h=r(),m=Cx(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteWorkflow:i=>{const o=r(),c=O1(o.source,i);return c.success&&o.setSource(c.source),c.success},extractToWorkflow:(i,o,c,f,h,m)=>{const g=r(),p=z1(g.source,i,o,c,f,h,m);return p.success&&g.setSource(p.source),{success:p.success,errors:p.errors}},examples:[],setExamples:i=>n({examples:i}),opcodes:[],setOpcodes:i=>n({opcodes:i}),isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,setIsExecuting:i=>n({isExecuting:i}),setExecutionOutput:i=>n({executionOutput:i}),appendExecutionOutput:i=>n(o=>({executionOutput:o.executionOutput+i})),setExecutionResult:i=>n({executionResult:i}),setExecutionError:i=>n({executionError:i}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null}),workflowInputs:{},setWorkflowInput:(i,o)=>n(c=>({workflowInputs:{...c.workflowInputs,[i]:o}})),clearWorkflowInputs:()=>n({workflowInputs:{}})}),{name:"lexflow-workflow",partialize:n=>({source:n.source})})),Ae=bs(n=>({zoom:1,panX:0,panY:0,isDraggingWorkflow:!1,setZoom:r=>n({zoom:Math.max(.25,Math.min(2,r))}),setPan:(r,i)=>n({panX:r,panY:i}),resetView:()=>n({zoom:1,panX:0,panY:0}),setIsDraggingWorkflow:r=>n({isDraggingWorkflow:r}),isEditorOpen:!1,isNodeEditorOpen:!1,isPaletteOpen:!1,isExecutionPanelOpen:!0,toggleEditor:()=>n(r=>({isEditorOpen:!r.isEditorOpen})),toggleNodeEditor:()=>n(r=>({isNodeEditorOpen:!r.isNodeEditorOpen})),togglePalette:()=>n(r=>({isPaletteOpen:!r.isPaletteOpen})),toggleExecutionPanel:()=>n(r=>({isExecutionPanelOpen:!r.isExecutionPanelOpen})),openNodeEditor:()=>n({isNodeEditorOpen:!0}),closeNodeEditor:()=>n({isNodeEditorOpen:!1}),nodeStatus:{},setNodeStatus:(r,i)=>n(o=>({nodeStatus:{...o.nodeStatus,[r]:i}})),clearNodeStatuses:()=>n({nodeStatus:{}}),searchQuery:"",searchResults:[],setSearchQuery:r=>n({searchQuery:r}),setSearchResults:r=>n({searchResults:r}),workflowPositions:{},setWorkflowPosition:(r,i,o)=>n(c=>({workflowPositions:{...c.workflowPositions,[r]:{x:i,y:o}}})),resetWorkflowPositions:()=>n({workflowPositions:{}}),draggingOpcode:null,setDraggingOpcode:r=>n({draggingOpcode:r}),draggingWire:null,setDraggingWire:r=>n({draggingWire:r}),updateDraggingWire:r=>n(i=>({draggingWire:i.draggingWire?{...i.draggingWire,...r}:null})),draggingOrphan:null,setDraggingOrphan:r=>n({draggingOrphan:r}),updateDraggingOrphanEnd:(r,i)=>n(o=>({draggingOrphan:o.draggingOrphan?{...o.draggingOrphan,toX:r,toY:i}:null})),nodePositions:{},setNodePosition:(r,i,o)=>n(c=>({nodePositions:{...c.nodePositions,[r]:{x:i,y:o}}})),resetNodePositions:()=>n({nodePositions:{}}),clearNodePosition:r=>n(i=>{const{[r]:o,...c}=i.nodePositions;return{nodePositions:c}}),layoutMode:"free",setLayoutMode:r=>n({layoutMode:r}),isDraggingNode:!1,setIsDraggingNode:r=>n({isDraggingNode:r}),draggingVariable:null,setDraggingVariable:r=>n({draggingVariable:r}),updateDraggingVariableEnd:(r,i)=>n(o=>({draggingVariable:o.draggingVariable?{...o.draggingVariable,toX:r,toY:i}:null})),draggingWorkflowCall:null,setDraggingWorkflowCall:r=>n({draggingWorkflowCall:r}),slotPositions:{},registerSlotPositions:(r,i)=>n(o=>({slotPositions:{...o.slotPositions,[r]:i}})),unregisterSlotPositions:r=>n(i=>{const{[r]:o,...c}=i.slotPositions;return{slotPositions:c}}),layoutGroups:[],setLayoutGroups:r=>n({layoutGroups:r}),canvasCenter:{x:400,y:300},setCanvasCenter:(r,i)=>n({canvasCenter:{x:r,y:i}}),contextMenu:null,showContextMenu:r=>n({contextMenu:r}),hideContextMenu:()=>n({contextMenu:null}),expandedReporters:{},toggleReportersExpanded:r=>n(i=>({expandedReporters:{...i.expandedReporters,[r]:!i.expandedReporters[r]}})),setReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,[r]:i}})),setMultipleReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,...Object.fromEntries(r.map(c=>[c,i]))}})),confirmDialog:null,showConfirmDialog:r=>n({confirmDialog:{isOpen:!0,title:r.title,message:r.message,confirmLabel:r.confirmLabel,cancelLabel:r.cancelLabel,variant:r.variant,onConfirm:()=>{r.onConfirm(),n({confirmDialog:null})},onCancel:()=>{r.onCancel?.(),n({confirmDialog:null})}}}),hideConfirmDialog:()=>n({confirmDialog:null}),canvasContextMenu:null,showCanvasContextMenu:(r,i,o)=>n({canvasContextMenu:{x:r,y:i,workflowName:o}}),hideCanvasContextMenu:()=>n({canvasContextMenu:null}),createWorkflowModal:null,showCreateWorkflowModal:()=>n({createWorkflowModal:{isOpen:!0}}),hideCreateWorkflowModal:()=>n({createWorkflowModal:null}),extractWorkflowModal:null,showExtractWorkflowModal:(r,i,o=[],c=[])=>n({extractWorkflowModal:{isOpen:!0,nodeIds:r,workflowName:i,suggestedInputs:o,suggestedOutputs:c}}),hideExtractWorkflowModal:()=>n({extractWorkflowModal:null}),addNodeMenu:null,showAddNodeMenu:(r,i,o,c)=>n({addNodeMenu:{x:r,y:i,sourceNodeId:o,workflowName:c}}),hideAddNodeMenu:()=>n({addNodeMenu:null})})),pi=bs(n=>({isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,workflowInputs:{},pendingPrompt:null,renderedContent:[],alerts:[],progress:null,setIsExecuting:r=>n({isExecuting:r}),setExecutionOutput:r=>n({executionOutput:r}),appendExecutionOutput:r=>n(i=>({executionOutput:i.executionOutput+r})),setExecutionResult:r=>n({executionResult:r}),setExecutionError:r=>n({executionError:r}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null,pendingPrompt:null,renderedContent:[],alerts:[],progress:null}),setWorkflowInput:(r,i)=>n(o=>({workflowInputs:{...o.workflowInputs,[r]:i}})),clearWorkflowInputs:()=>n({workflowInputs:{}}),setPendingPrompt:r=>n({pendingPrompt:r}),addRenderedContent:r=>n(i=>({renderedContent:[...i.renderedContent,r]})),clearRenderedContent:()=>n({renderedContent:[]}),addAlert:r=>n(i=>({alerts:[...i.alerts,{...r,id:crypto.randomUUID()}]})),removeAlert:r=>n(i=>({alerts:i.alerts.filter(o=>o.id!==r)})),setProgress:r=>n({progress:r})})),nl=bs(n=>({selectedNodeId:null,selectNode:r=>n({selectedNodeId:r,selectedNodeIds:[]}),selectedNodeIds:[],toggleNodeSelection:r=>n(i=>{const o=i.selectedNodeIds.includes(r)?i.selectedNodeIds.filter(c=>c!==r):[...i.selectedNodeIds,r];return{selectedNodeIds:o,selectedNodeId:o.length>0?o[o.length-1]:null}}),addToSelection:r=>n(i=>({selectedNodeIds:i.selectedNodeIds.includes(r)?i.selectedNodeIds:[...i.selectedNodeIds,r]})),clearMultiSelection:()=>n({selectedNodeIds:[]}),selectedReporter:null,selectReporter:r=>n({selectedReporter:r}),selectedConnection:null,selectConnection:r=>n({selectedConnection:r}),selectedStartNode:null,selectStartNode:r=>n({selectedStartNode:r}),clearSelection:()=>n({selectedNodeId:null,selectedNodeIds:[],selectedReporter:null,selectedConnection:null,selectedStartNode:null})}));function Ox(n){var r,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(r=0;r<c;r++)n[r]&&(i=Ox(n[r]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function Tx(){for(var n,r,i=0,o="",c=arguments.length;i<c;i++)(n=arguments[i])&&(r=Ox(n))&&(o&&(o+=" "),o+=r);return o}const V1=(n,r)=>{const i=new Array(n.length+r.length);for(let o=0;o<n.length;o++)i[o]=n[o];for(let o=0;o<r.length;o++)i[n.length+o]=r[o];return i},B1=(n,r)=>({classGroupId:n,validator:r}),Mx=(n=new Map,r=null,i)=>({nextPart:n,validators:r,classGroupId:i}),as="-",ig=[],H1="arbitrary..",U1=n=>{const r=Y1(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return I1(h);const m=h.split(as),g=m[0]===""&&m.length>1?1:0;return Dx(m,g,r)},getConflictingClassGroupIds:(h,m)=>{if(m){const g=o[h],p=i[h];return g?p?V1(p,g):g:p||ig}return i[h]||ig}}},Dx=(n,r,i)=>{if(n.length-r===0)return i.classGroupId;const c=n[r],f=i.nextPart.get(c);if(f){const p=Dx(n,r+1,f);if(p)return p}const h=i.validators;if(h===null)return;const m=r===0?n.join(as):n.slice(r).join(as),g=h.length;for(let p=0;p<g;p++){const y=h[p];if(y.validator(m))return y.classGroupId}},I1=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=n.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?H1+o:void 0})(),Y1=n=>{const{theme:r,classGroups:i}=n;return $1(i,r)},$1=(n,r)=>{const i=Mx();for(const o in n){const c=n[o];Cf(c,i,o,r)}return i},Cf=(n,r,i,o)=>{const c=n.length;for(let f=0;f<c;f++){const h=n[f];G1(h,r,i,o)}},G1=(n,r,i,o)=>{if(typeof n=="string"){q1(n,r,i);return}if(typeof n=="function"){X1(n,r,i,o);return}W1(n,r,i,o)},q1=(n,r,i)=>{const o=n===""?r:kx(r,n);o.classGroupId=i},X1=(n,r,i,o)=>{if(Z1(n)){Cf(n(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(B1(i,n))},W1=(n,r,i,o)=>{const c=Object.entries(n),f=c.length;for(let h=0;h<f;h++){const[m,g]=c[h];Cf(g,kx(r,m),i,o)}},kx=(n,r)=>{let i=n;const o=r.split(as),c=o.length;for(let f=0;f<c;f++){const h=o[f];let m=i.nextPart.get(h);m||(m=Mx(),i.nextPart.set(h,m)),i=m}return i},Z1=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,Q1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const c=(f,h)=>{i[f]=h,r++,r>n&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return c(f,h),h},set(f,h){f in i?i[f]=h:c(f,h)}}},sf="!",og=":",K1=[],sg=(n,r,i,o,c)=>({modifiers:n,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:c}),F1=n=>{const{prefix:r,experimentalParseClassName:i}=n;let o=c=>{const f=[];let h=0,m=0,g=0,p;const y=c.length;for(let v=0;v<y;v++){const j=c[v];if(h===0&&m===0){if(j===og){f.push(c.slice(g,v)),g=v+1;continue}if(j==="/"){p=v;continue}}j==="["?h++:j==="]"?h--:j==="("?m++:j===")"&&m--}const b=f.length===0?c:c.slice(g);let N=b,E=!1;b.endsWith(sf)?(N=b.slice(0,-1),E=!0):b.startsWith(sf)&&(N=b.slice(1),E=!0);const w=p&&p>g?p-g:void 0;return sg(f,E,N,w)};if(r){const c=r+og,f=o;o=h=>h.startsWith(c)?f(h.slice(c.length)):sg(K1,!1,h,void 0,!0)}if(i){const c=o;o=f=>i({className:f,parseClassName:c})}return o},J1=n=>{const r=new Map;return n.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let c=[];for(let f=0;f<i.length;f++){const h=i[f],m=h[0]==="[",g=r.has(h);m||g?(c.length>0&&(c.sort(),o.push(...c),c=[]),o.push(h)):c.push(h)}return c.length>0&&(c.sort(),o.push(...c)),o}},P1=n=>({cache:Q1(n.cacheSize),parseClassName:F1(n),sortModifiers:J1(n),...U1(n)}),ew=/\s+/,tw=(n,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:f}=r,h=[],m=n.trim().split(ew);let g="";for(let p=m.length-1;p>=0;p-=1){const y=m[p],{isExternal:b,modifiers:N,hasImportantModifier:E,baseClassName:w,maybePostfixModifierPosition:v}=i(y);if(b){g=y+(g.length>0?" "+g:g);continue}let j=!!v,A=o(j?w.substring(0,v):w);if(!A){if(!j){g=y+(g.length>0?" "+g:g);continue}if(A=o(w),!A){g=y+(g.length>0?" "+g:g);continue}j=!1}const O=N.length===0?"":N.length===1?N[0]:f(N).join(":"),X=E?O+sf:O,B=X+A;if(h.indexOf(B)>-1)continue;h.push(B);const V=c(A,j);for(let H=0;H<V.length;++H){const $=V[H];h.push(X+$)}g=y+(g.length>0?" "+g:g)}return g},nw=(...n)=>{let r=0,i,o,c="";for(;r<n.length;)(i=n[r++])&&(o=Rx(i))&&(c&&(c+=" "),c+=o);return c},Rx=n=>{if(typeof n=="string")return n;let r,i="";for(let o=0;o<n.length;o++)n[o]&&(r=Rx(n[o]))&&(i&&(i+=" "),i+=r);return i},lw=(n,...r)=>{let i,o,c,f;const h=g=>{const p=r.reduce((y,b)=>b(y),n());return i=P1(p),o=i.cache.get,c=i.cache.set,f=m,m(g)},m=g=>{const p=o(g);if(p)return p;const y=tw(g,i);return c(g,y),y};return f=h,(...g)=>f(nw(...g))},aw=[],gt=n=>{const r=i=>i[n]||aw;return r.isThemeGetter=!0,r},zx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Lx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rw=/^\d+\/\d+$/,iw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ow=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ka=n=>rw.test(n),Oe=n=>!!n&&!Number.isNaN(Number(n)),Ol=n=>!!n&&Number.isInteger(Number(n)),Iu=n=>n.endsWith("%")&&Oe(n.slice(0,-1)),Pn=n=>iw.test(n),fw=()=>!0,dw=n=>ow.test(n)&&!sw.test(n),Vx=()=>!1,hw=n=>cw.test(n),mw=n=>uw.test(n),pw=n=>!he(n)&&!me(n),gw=n=>cr(n,Ux,Vx),he=n=>zx.test(n),na=n=>cr(n,Ix,dw),Yu=n=>cr(n,ww,Oe),cg=n=>cr(n,Bx,Vx),xw=n=>cr(n,Hx,mw),Yo=n=>cr(n,Yx,hw),me=n=>Lx.test(n),ii=n=>ur(n,Ix),yw=n=>ur(n,Sw),ug=n=>ur(n,Bx),bw=n=>ur(n,Ux),vw=n=>ur(n,Hx),$o=n=>ur(n,Yx,!0),cr=(n,r,i)=>{const o=zx.exec(n);return o?o[1]?r(o[1]):i(o[2]):!1},ur=(n,r,i=!1)=>{const o=Lx.exec(n);return o?o[1]?r(o[1]):i:!1},Bx=n=>n==="position"||n==="percentage",Hx=n=>n==="image"||n==="url",Ux=n=>n==="length"||n==="size"||n==="bg-size",Ix=n=>n==="length",ww=n=>n==="number",Sw=n=>n==="family-name",Yx=n=>n==="shadow",Nw=()=>{const n=gt("color"),r=gt("font"),i=gt("text"),o=gt("font-weight"),c=gt("tracking"),f=gt("leading"),h=gt("breakpoint"),m=gt("container"),g=gt("spacing"),p=gt("radius"),y=gt("shadow"),b=gt("inset-shadow"),N=gt("text-shadow"),E=gt("drop-shadow"),w=gt("blur"),v=gt("perspective"),j=gt("aspect"),A=gt("ease"),O=gt("animate"),X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...B(),me,he],H=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],Y=()=>[me,he,g],K=()=>[Ka,"full","auto",...Y()],te=()=>[Ol,"none","subgrid",me,he],ue=()=>["auto",{span:["full",Ol,me,he]},Ol,me,he],ie=()=>[Ol,"auto",me,he],se=()=>["auto","min","max","fr",me,he],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...Y()],M=()=>[Ka,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Y()],R=()=>[n,me,he],le=()=>[...B(),ug,cg,{position:[me,he]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",bw,gw,{size:[me,he]}],U=()=>[Iu,ii,na],P=()=>["","none","full",p,me,he],re=()=>["",Oe,ii,na],xe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Oe,Iu,ug,cg],We=()=>["","none",w,me,he],oe=()=>["none",Oe,me,he],Ne=()=>["none",Oe,me,he],Le=()=>[Oe,me,he],Te=()=>[Ka,"full",...Y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pn],breakpoint:[Pn],color:[fw],container:[Pn],"drop-shadow":[Pn],ease:["in","out","in-out"],font:[pw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pn],shadow:[Pn],spacing:["px",Oe],text:[Pn],"text-shadow":[Pn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ka,he,me,j]}],container:["container"],columns:[{columns:[Oe,he,me,m]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[Ol,"auto",me,he]}],basis:[{basis:[Ka,"full","auto",m,...Y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,Ka,"auto","initial","none",he]}],grow:[{grow:["",Oe,me,he]}],shrink:[{shrink:["",Oe,me,he]}],order:[{order:[Ol,"first","last","none",me,he]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:ue()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:ue()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:Y()}],"gap-x":[{"gap-x":Y()}],"gap-y":[{"gap-y":Y()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:Y()}],px:[{px:Y()}],py:[{py:Y()}],ps:[{ps:Y()}],pe:[{pe:Y()}],pt:[{pt:Y()}],pr:[{pr:Y()}],pb:[{pb:Y()}],pl:[{pl:Y()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":Y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Y()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[m,"screen",...M()]}],"min-w":[{"min-w":[m,"screen","none",...M()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[h]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",i,ii,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,me,Yu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Iu,he]}],"font-family":[{font:[yw,he,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,me,he]}],"line-clamp":[{"line-clamp":[Oe,"none",me,Yu]}],leading:[{leading:[f,...Y()]}],"list-image":[{"list-image":["none",me,he]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,he]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",me,na]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Oe,"auto",me,he]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ol,me,he],radial:["",me,he],conic:[Ol,me,he]},vw,xw]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,me,he]}],"outline-w":[{outline:["",Oe,ii,na]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",y,$o,Yo]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",b,$o,Yo]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Oe,na]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",N,$o,Yo]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Oe,me,he]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[me,he]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,he]}],filter:[{filter:["","none",me,he]}],blur:[{blur:We()}],brightness:[{brightness:[Oe,me,he]}],contrast:[{contrast:[Oe,me,he]}],"drop-shadow":[{"drop-shadow":["","none",E,$o,Yo]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Oe,me,he]}],"hue-rotate":[{"hue-rotate":[Oe,me,he]}],invert:[{invert:["",Oe,me,he]}],saturate:[{saturate:[Oe,me,he]}],sepia:[{sepia:["",Oe,me,he]}],"backdrop-filter":[{"backdrop-filter":["","none",me,he]}],"backdrop-blur":[{"backdrop-blur":We()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,me,he]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,me,he]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,me,he]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,me,he]}],"backdrop-invert":[{"backdrop-invert":["",Oe,me,he]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,me,he]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,me,he]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,me,he]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Y()}],"border-spacing-x":[{"border-spacing-x":Y()}],"border-spacing-y":[{"border-spacing-y":Y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,he]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",me,he]}],ease:[{ease:["linear","initial",A,me,he]}],delay:[{delay:[Oe,me,he]}],animate:[{animate:["none",O,me,he]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,me,he]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:Ne()}],"scale-x":[{"scale-x":Ne()}],"scale-y":[{"scale-y":Ne()}],"scale-z":[{"scale-z":Ne()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[me,he,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,he]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,he]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Oe,ii,na,Yu]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ew=lw(Nw);function k(...n){return Ew(Tx(n))}const fg=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,dg=Tx,_=(n,r)=>i=>{var o;if(r?.variants==null)return dg(n,i?.class,i?.className);const{variants:c,defaultVariants:f}=r,h=Object.keys(c).map(p=>{const y=i?.[p],b=f?.[p];if(y===null)return null;const N=fg(y)||fg(b);return c[p][N]}),m=i&&Object.entries(i).reduce((p,y)=>{let[b,N]=y;return N===void 0||(p[b]=N),p},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((p,y)=>{let{class:b,className:N,...E}=y;return Object.entries(E).every(w=>{let[v,j]=w;return Array.isArray(j)?j.includes({...f,...m}[v]):{...f,...m}[v]===j})?[...p,b,N]:p},[]);return dg(n,h,g,i?.class,i?.className)},jw=_("inline-flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent-blue disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-text-secondary hover:text-text-primary hover:bg-surface-2",ghost:"text-text-muted hover:text-text-secondary hover:bg-surface-1"},size:{sm:"h-6 w-6 rounded-sm",md:"h-8 w-8 rounded-sm",lg:"h-10 w-10 rounded-sm"}},defaultVariants:{variant:"default",size:"md"}}),Tn=z.forwardRef(({className:n,variant:r,size:i,icon:o,label:c,...f},h)=>d.jsx("button",{ref:h,className:k(jw({variant:r,size:i,className:n})),"aria-label":c,title:c,...f,children:o}));Tn.displayName="IconButton";const Cw=_("w-full bg-surface-2 text-text-secondary border border-border-subtle transition-colors focus:outline-none focus:ring-1 focus:ring-accent-blue focus:border-accent-blue hover:bg-surface-3 hover:text-text-primary disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{size:{sm:"h-7 px-2.5 pr-7 text-xs rounded-sm leading-7",md:"h-8 px-3 pr-8 text-sm rounded-sm leading-8",lg:"h-10 px-4 pr-10 text-sm rounded-sm leading-10"}},defaultVariants:{size:"md"}}),$x=z.forwardRef(({className:n,size:r,children:i,...o},c)=>d.jsxs("div",{className:"relative",children:[d.jsx("select",{ref:c,className:k(Cw({size:r,className:n})),...o,children:i}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:d.jsx("svg",{className:"h-4 w-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}));$x.displayName="Select";var Af=Sx();const _f=_("fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-150"),Aw=_("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[380px] mx-4 animate-in zoom-in-95 duration-150"),_w=_("px-5 py-4 border-b border-border-subtle"),Ow=_("text-base font-semibold text-text-primary"),Tw=_("px-5 py-4"),Mw=_("text-sm text-text-secondary leading-relaxed"),Dw=_("px-5 py-3 border-t border-border-subtle flex justify-end gap-2"),rr=_("px-4 py-2 text-sm font-medium rounded-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1"),Of=_("bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default focus:ring-border-default"),Tf=_("",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/90 focus:ring-accent-blue",danger:"bg-accent-red text-white hover:bg-accent-red/90 focus:ring-accent-red"}},defaultVariants:{variant:"default"}});function kw({isOpen:n,title:r,message:i,confirmLabel:o="OK",cancelLabel:c="Cancel",variant:f="default",onConfirm:h,onCancel:m}){const g=z.useRef(null);return z.useEffect(()=>{if(n){const p=setTimeout(()=>{g.current?.focus()},50);return()=>clearTimeout(p)}},[n]),z.useEffect(()=>{if(!n)return;const p=y=>{y.key==="Escape"?m():y.key==="Enter"&&h()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n,m,h]),n?Af.createPortal(d.jsx("div",{className:k(_f()),onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:d.jsxs("div",{className:k(Aw()),onClick:p=>p.stopPropagation(),children:[d.jsx("div",{className:k(_w()),children:d.jsx("h2",{id:"confirm-dialog-title",className:k(Ow()),children:r})}),d.jsx("div",{className:k(Tw()),children:d.jsx("p",{id:"confirm-dialog-message",className:k(Mw()),children:i})}),d.jsxs("div",{className:k(Dw()),children:[d.jsx("button",{className:k(rr(),Of()),onClick:m,children:c}),d.jsx("button",{ref:g,className:k(rr(),Tf({variant:f})),onClick:h,children:o})]})]})}),document.body):null}const Gx=_("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[480px] mx-4 animate-in zoom-in-95 duration-150 max-h-[90vh] flex flex-col"),qx=_("px-5 py-4 border-b border-border-subtle flex-shrink-0"),Xx=_("text-base font-semibold text-text-primary"),Wx=_("px-5 py-4 overflow-y-auto flex-1"),Zx=_("px-5 py-3 border-t border-border-subtle flex justify-end gap-2 flex-shrink-0"),Ml=_("mb-4 last:mb-0"),Dl=_("block text-sm font-medium text-text-primary mb-1.5"),lr=_("w-full px-3 py-2 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),Qx=_("text-xs text-accent-red mt-1"),rs=_("flex flex-wrap gap-1.5 mb-2"),is=_("inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-surface-3 text-text-primary rounded-sm border border-border-subtle"),os=_("ml-0.5 text-text-muted hover:text-text-primary cursor-pointer"),ss=_("flex gap-2"),ar=_("px-3 py-2 text-sm bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default rounded-sm transition-colors"),Kx=_("flex items-center gap-2 mb-2"),cs=_("flex-1 px-2 py-1.5 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),Fx=_("p-1 text-text-muted hover:text-accent-red transition-colors");function Rw({isOpen:n,existingWorkflowNames:r,onConfirm:i,onCancel:o}){const c=z.useRef(null),[f,h]=z.useState(""),[m,g]=z.useState(null),[p,y]=z.useState([]),[b,N]=z.useState(""),[E,w]=z.useState([]),[v,j]=z.useState(""),[A,O]=z.useState([]);z.useEffect(()=>{n&&(h(""),g(null),y([]),N(""),w([]),j(""),O([]),setTimeout(()=>{c.current?.focus()},50))},[n]),z.useEffect(()=>{if(!n)return;const Z=ae=>{ae.key==="Escape"&&o()};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[n,o]);const X=Z=>Z.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Z)?r.includes(Z)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",B=Z=>{h(Z),m&&g(X(Z))},V=()=>{g(X(f))},H=()=>{const Z=b.trim();Z&&!p.includes(Z)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Z)&&(y([...p,Z]),N(""))},$=Z=>{y(p.filter(ae=>ae!==Z))},Y=()=>{const Z=v.trim();Z&&!E.includes(Z)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Z)&&(w([...E,Z]),j(""))},K=Z=>{w(E.filter(ae=>ae!==Z))},te=()=>{O([...A,{name:"",value:""}])},ue=(Z,ae,D)=>{const M=[...A];M[Z][ae]=D,O(M)},ie=Z=>{O(A.filter((ae,D)=>D!==Z))},se=()=>{const Z=X(f);if(Z){g(Z);return}const ae={};for(const D of A)if(D.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(D.name.trim())){let M=D.value;try{M=JSON.parse(D.value)}catch{}ae[D.name.trim()]=M}i({name:f.trim(),inputs:p,outputs:E,variables:ae})};return n?Af.createPortal(d.jsx("div",{className:k(_f()),onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"new-workflow-dialog-title",children:d.jsxs("div",{className:k(Gx()),onClick:Z=>Z.stopPropagation(),children:[d.jsx("div",{className:k(qx()),children:d.jsx("h2",{id:"new-workflow-dialog-title",className:k(Xx()),children:"Create New Workflow"})}),d.jsxs("div",{className:k(Wx()),children:[d.jsxs("div",{className:k(Ml()),children:[d.jsxs("label",{className:k(Dl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:c,type:"text",className:k(lr()),placeholder:"my_workflow",value:f,onChange:Z=>B(Z.target.value),onBlur:V,onKeyDown:Z=>{Z.key==="Enter"&&se()}}),m&&d.jsx("p",{className:k(Qx()),children:m})]}),d.jsxs("div",{className:k(Ml()),children:[d.jsx("label",{className:k(Dl()),children:"Interface Inputs"}),p.length>0&&d.jsx("div",{className:k(rs()),children:p.map(Z=>d.jsxs("span",{className:k(is()),children:[Z,d.jsx("button",{className:k(os()),onClick:()=>$(Z),"aria-label":`Remove ${Z}`,children:"x"})]},Z))}),d.jsxs("div",{className:k(ss()),children:[d.jsx("input",{type:"text",className:k(lr()),placeholder:"input_name",value:b,onChange:Z=>N(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&(Z.preventDefault(),H())}}),d.jsx("button",{type:"button",className:k(ar()),onClick:H,children:"Add"})]})]}),d.jsxs("div",{className:k(Ml()),children:[d.jsx("label",{className:k(Dl()),children:"Interface Outputs"}),E.length>0&&d.jsx("div",{className:k(rs()),children:E.map(Z=>d.jsxs("span",{className:k(is()),children:[Z,d.jsx("button",{className:k(os()),onClick:()=>K(Z),"aria-label":`Remove ${Z}`,children:"x"})]},Z))}),d.jsxs("div",{className:k(ss()),children:[d.jsx("input",{type:"text",className:k(lr()),placeholder:"output_name",value:v,onChange:Z=>j(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&(Z.preventDefault(),Y())}}),d.jsx("button",{type:"button",className:k(ar()),onClick:Y,children:"Add"})]})]}),d.jsxs("div",{className:k(Ml()),children:[d.jsx("label",{className:k(Dl()),children:"Variables"}),A.map((Z,ae)=>d.jsxs("div",{className:k(Kx()),children:[d.jsx("input",{type:"text",className:k(cs()),placeholder:"name",value:Z.name,onChange:D=>ue(ae,"name",D.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:k(cs()),placeholder:"value",value:Z.value,onChange:D=>ue(ae,"value",D.target.value)}),d.jsx("button",{type:"button",className:k(Fx()),onClick:()=>ie(ae),"aria-label":"Remove variable",children:"x"})]},ae)),d.jsx("button",{type:"button",className:k(ar()),onClick:te,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:k(Zx()),children:[d.jsx("button",{className:k(rr(),Of()),onClick:o,children:"Cancel"}),d.jsx("button",{className:k(rr(),Tf()),onClick:se,children:"Create"})]})]})}),document.body):null}const zw=_("mb-4 p-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-secondary");function Lw({isOpen:n,existingWorkflowNames:r,nodeIds:i,suggestedInputs:o,suggestedOutputs:c,onConfirm:f,onCancel:h}){const m=z.useRef(null),[g,p]=z.useState(""),[y,b]=z.useState(null),[N,E]=z.useState([]),[w,v]=z.useState(""),[j,A]=z.useState([]),[O,X]=z.useState(""),[B,V]=z.useState([]);z.useEffect(()=>{n&&(p(""),b(null),E(o),v(""),A(c),X(""),V([]),setTimeout(()=>{m.current?.focus()},50))},[n,o,c]),z.useEffect(()=>{if(!n)return;const M=R=>{R.key==="Escape"&&h()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[n,h]);const H=M=>M.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(M)?r.includes(M)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",$=M=>{p(M),y&&b(H(M))},Y=()=>{b(H(g))},K=()=>{const M=w.trim();M&&!N.includes(M)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(M)&&(E([...N,M]),v(""))},te=M=>{E(N.filter(R=>R!==M))},ue=()=>{const M=O.trim();M&&!j.includes(M)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(M)&&(A([...j,M]),X(""))},ie=M=>{A(j.filter(R=>R!==M))},se=()=>{V([...B,{name:"",value:""}])},Z=(M,R,le)=>{const J=[...B];J[M][R]=le,V(J)},ae=M=>{V(B.filter((R,le)=>le!==M))},D=()=>{const M=H(g);if(M){b(M);return}const R={};for(const le of B)if(le.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(le.name.trim())){let J=le.value;try{J=JSON.parse(le.value)}catch{}R[le.name.trim()]=J}f({name:g.trim(),inputs:N,outputs:j,variables:R})};return n?Af.createPortal(d.jsx("div",{className:k(_f()),onClick:h,role:"dialog","aria-modal":"true","aria-labelledby":"extract-workflow-dialog-title",children:d.jsxs("div",{className:k(Gx()),onClick:M=>M.stopPropagation(),children:[d.jsx("div",{className:k(qx()),children:d.jsx("h2",{id:"extract-workflow-dialog-title",className:k(Xx()),children:"Extract to Workflow"})}),d.jsxs("div",{className:k(Wx()),children:[d.jsxs("div",{className:k(zw()),children:[d.jsxs("strong",{children:[i.length," nodes"]})," will be extracted into a new workflow. The selected nodes will be replaced with a workflow_call node."]}),d.jsxs("div",{className:k(Ml()),children:[d.jsxs("label",{className:k(Dl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:m,type:"text",className:k(lr()),placeholder:"my_workflow",value:g,onChange:M=>$(M.target.value),onBlur:Y,onKeyDown:M=>{M.key==="Enter"&&D()}}),y&&d.jsx("p",{className:k(Qx()),children:y})]}),d.jsxs("div",{className:k(Ml()),children:[d.jsxs("label",{className:k(Dl()),children:["Interface Inputs",o.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),N.length>0&&d.jsx("div",{className:k(rs()),children:N.map(M=>d.jsxs("span",{className:k(is()),children:[M,d.jsx("button",{className:k(os()),onClick:()=>te(M),"aria-label":`Remove ${M}`,children:"x"})]},M))}),d.jsxs("div",{className:k(ss()),children:[d.jsx("input",{type:"text",className:k(lr()),placeholder:"input_name",value:w,onChange:M=>v(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),K())}}),d.jsx("button",{type:"button",className:k(ar()),onClick:K,children:"Add"})]})]}),d.jsxs("div",{className:k(Ml()),children:[d.jsxs("label",{className:k(Dl()),children:["Interface Outputs",c.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),j.length>0&&d.jsx("div",{className:k(rs()),children:j.map(M=>d.jsxs("span",{className:k(is()),children:[M,d.jsx("button",{className:k(os()),onClick:()=>ie(M),"aria-label":`Remove ${M}`,children:"x"})]},M))}),d.jsxs("div",{className:k(ss()),children:[d.jsx("input",{type:"text",className:k(lr()),placeholder:"output_name",value:O,onChange:M=>X(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),ue())}}),d.jsx("button",{type:"button",className:k(ar()),onClick:ue,children:"Add"})]})]}),d.jsxs("div",{className:k(Ml()),children:[d.jsx("label",{className:k(Dl()),children:"Variables"}),B.map((M,R)=>d.jsxs("div",{className:k(Kx()),children:[d.jsx("input",{type:"text",className:k(cs()),placeholder:"name",value:M.name,onChange:le=>Z(R,"name",le.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:k(cs()),placeholder:"value",value:M.value,onChange:le=>Z(R,"value",le.target.value)}),d.jsx("button",{type:"button",className:k(Fx()),onClick:()=>ae(R),"aria-label":"Remove variable",children:"x"})]},R)),d.jsx("button",{type:"button",className:k(ar()),onClick:se,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:k(Zx()),children:[d.jsx("button",{className:k(rr(),Of()),onClick:h,children:"Cancel"}),d.jsx("button",{className:k(rr(),Tf()),onClick:D,children:"Extract"})]})]})}),document.body):null}function yt(n,r,i=18){const o=({size:c=i,className:f,...h})=>d.jsx("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:f,...h,children:n});return o.displayName=r,o}const Vw=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"FileIcon"),Bw=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"17 8 12 3 7 8"}),d.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"UploadIcon"),Hw=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"DownloadIcon"),Uw=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M3 7v6h6"}),d.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),"UndoIcon"),Iw=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 7v6h-6"}),d.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"})]}),"RedoIcon"),Yw=yt(d.jsx("path",{d:"M12 5v14M5 12h14"}),"PlusIcon",20),$w=yt(d.jsx("path",{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"}),"CodeIcon",20),Gw=yt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),"SunIcon"),qw=yt(d.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}),"MoonIcon"),Xw=yt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomInIcon",16),Ww=yt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomOutIcon",16),Zw=yt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"FitViewIcon",16),Qw=yt(d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"GridIcon",14),Kw=yt(d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"}),"PlayIcon",14),Fw=yt(d.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),"StopIcon",14),Jw=yt(d.jsxs(d.Fragment,{children:[d.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),d.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]}),"StepForwardIcon",14),Pw=yt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"3 6 5 6 21 6"}),d.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"TrashIcon",14),e2=yt(d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"CloseIcon",14),t2=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),d.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"SaveIcon"),Jx=z.createContext(null),hg="lexflow-theme";function n2({children:n}){const[r,i]=z.useState(()=>{if(typeof window>"u")return"dark";const f=localStorage.getItem(hg);return f==="light"||f==="dark"?f:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});z.useEffect(()=>{document.documentElement.classList.toggle("light",r==="light"),localStorage.setItem(hg,r)},[r]);const o=f=>i(f),c=()=>i(f=>f==="dark"?"light":"dark");return z.createElement(Jx.Provider,{value:{theme:r,setTheme:o,toggleTheme:c}},n)}function Px(){const n=z.useContext(Jx);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}function l2({className:n}){const{theme:r,toggleTheme:i}=Px();return d.jsx(Tn,{className:n,icon:r==="dark"?d.jsx(Gw,{}):d.jsx(qw,{}),label:r==="dark"?"Switch to light mode":"Switch to dark mode",onClick:i})}function ey(n){return typeof n.listExamples=="function"&&typeof n.getExample=="function"}const ty=z.createContext(null);function a2({provider:n,children:r}){return d.jsx(ty.Provider,{value:n,children:r})}function vs(){const n=z.useContext(ty);if(!n)throw new Error("useBackendProvider must be used within a BackendProviderWrapper");return n}function ny(n){return typeof n>"u"||n===null}function r2(n){return typeof n=="object"&&n!==null}function i2(n){return Array.isArray(n)?n:ny(n)?[]:[n]}function o2(n,r){var i,o,c,f;if(r)for(f=Object.keys(r),i=0,o=f.length;i<o;i+=1)c=f[i],n[c]=r[c];return n}function s2(n,r){var i="",o;for(o=0;o<r;o+=1)i+=n;return i}function c2(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var u2=ny,f2=r2,d2=i2,h2=s2,m2=c2,p2=o2,xt={isNothing:u2,isObject:f2,toArray:d2,repeat:h2,isNegativeZero:m2,extend:p2};function ly(n,r){var i="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(i+='in "'+n.mark.name+'" '),i+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(i+=`

`+n.mark.snippet),o+" "+i):o}function gi(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=ly(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}gi.prototype=Object.create(Error.prototype);gi.prototype.constructor=gi;gi.prototype.toString=function(r){return this.name+": "+ly(this,r)};var Vt=gi;function $u(n,r,i,o,c){var f="",h="",m=Math.floor(c/2)-1;return o-r>m&&(f=" ... ",r=o-m+f.length),i-o>m&&(h=" ...",i=o+m-h.length),{str:f+n.slice(r,i).replace(/\t/g,"")+h,pos:o-r+f.length}}function Gu(n,r){return xt.repeat(" ",r-n.length)+n}function g2(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,o=[0],c=[],f,h=-1;f=i.exec(n.buffer);)c.push(f.index),o.push(f.index+f[0].length),n.position<=f.index&&h<0&&(h=o.length-2);h<0&&(h=o.length-1);var m="",g,p,y=Math.min(n.line+r.linesAfter,c.length).toString().length,b=r.maxLength-(r.indent+y+3);for(g=1;g<=r.linesBefore&&!(h-g<0);g++)p=$u(n.buffer,o[h-g],c[h-g],n.position-(o[h]-o[h-g]),b),m=xt.repeat(" ",r.indent)+Gu((n.line-g+1).toString(),y)+" | "+p.str+`
`+m;for(p=$u(n.buffer,o[h],c[h],n.position,b),m+=xt.repeat(" ",r.indent)+Gu((n.line+1).toString(),y)+" | "+p.str+`
`,m+=xt.repeat("-",r.indent+y+3+p.pos)+`^
`,g=1;g<=r.linesAfter&&!(h+g>=c.length);g++)p=$u(n.buffer,o[h+g],c[h+g],n.position-(o[h]-o[h+g]),b),m+=xt.repeat(" ",r.indent)+Gu((n.line+g+1).toString(),y)+" | "+p.str+`
`;return m.replace(/\n$/,"")}var x2=g2,y2=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],b2=["scalar","sequence","mapping"];function v2(n){var r={};return n!==null&&Object.keys(n).forEach(function(i){n[i].forEach(function(o){r[String(o)]=i})}),r}function w2(n,r){if(r=r||{},Object.keys(r).forEach(function(i){if(y2.indexOf(i)===-1)throw new Vt('Unknown option "'+i+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=v2(r.styleAliases||null),b2.indexOf(this.kind)===-1)throw new Vt('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var Ot=w2;function mg(n,r){var i=[];return n[r].forEach(function(o){var c=i.length;i.forEach(function(f,h){f.tag===o.tag&&f.kind===o.kind&&f.multi===o.multi&&(c=h)}),i[c]=o}),i}function S2(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function o(c){c.multi?(n.multi[c.kind].push(c),n.multi.fallback.push(c)):n[c.kind][c.tag]=n.fallback[c.tag]=c}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(o);return n}function cf(n){return this.extend(n)}cf.prototype.extend=function(r){var i=[],o=[];if(r instanceof Ot)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new Vt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(f){if(!(f instanceof Ot))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(f.loadKind&&f.loadKind!=="scalar")throw new Vt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(f.multi)throw new Vt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(f){if(!(f instanceof Ot))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(cf.prototype);return c.implicit=(this.implicit||[]).concat(i),c.explicit=(this.explicit||[]).concat(o),c.compiledImplicit=mg(c,"implicit"),c.compiledExplicit=mg(c,"explicit"),c.compiledTypeMap=S2(c.compiledImplicit,c.compiledExplicit),c};var ay=cf,ry=new Ot("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),iy=new Ot("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),oy=new Ot("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),sy=new ay({explicit:[ry,iy,oy]});function N2(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function E2(){return null}function j2(n){return n===null}var cy=new Ot("tag:yaml.org,2002:null",{kind:"scalar",resolve:N2,construct:E2,predicate:j2,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function C2(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function A2(n){return n==="true"||n==="True"||n==="TRUE"}function _2(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var uy=new Ot("tag:yaml.org,2002:bool",{kind:"scalar",resolve:C2,construct:A2,predicate:_2,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function O2(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function T2(n){return 48<=n&&n<=55}function M2(n){return 48<=n&&n<=57}function D2(n){if(n===null)return!1;var r=n.length,i=0,o=!1,c;if(!r)return!1;if(c=n[i],(c==="-"||c==="+")&&(c=n[++i]),c==="0"){if(i+1===r)return!0;if(c=n[++i],c==="b"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(c!=="0"&&c!=="1")return!1;o=!0}return o&&c!=="_"}if(c==="x"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!O2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}if(c==="o"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!T2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}}if(c==="_")return!1;for(;i<r;i++)if(c=n[i],c!=="_"){if(!M2(n.charCodeAt(i)))return!1;o=!0}return!(!o||c==="_")}function k2(n){var r=n,i=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(i=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function R2(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!xt.isNegativeZero(n)}var fy=new Ot("tag:yaml.org,2002:int",{kind:"scalar",resolve:D2,construct:k2,predicate:R2,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),z2=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function L2(n){return!(n===null||!z2.test(n)||n[n.length-1]==="_")}function V2(n){var r,i;return r=n.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var B2=/^[-+]?[0-9]+e/;function H2(n,r){var i;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(xt.isNegativeZero(n))return"-0.0";return i=n.toString(10),B2.test(i)?i.replace("e",".e"):i}function U2(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||xt.isNegativeZero(n))}var dy=new Ot("tag:yaml.org,2002:float",{kind:"scalar",resolve:L2,construct:V2,predicate:U2,represent:H2,defaultStyle:"lowercase"}),hy=sy.extend({implicit:[cy,uy,fy,dy]}),my=hy,py=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),gy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function I2(n){return n===null?!1:py.exec(n)!==null||gy.exec(n)!==null}function Y2(n){var r,i,o,c,f,h,m,g=0,p=null,y,b,N;if(r=py.exec(n),r===null&&(r=gy.exec(n)),r===null)throw new Error("Date resolve error");if(i=+r[1],o=+r[2]-1,c=+r[3],!r[4])return new Date(Date.UTC(i,o,c));if(f=+r[4],h=+r[5],m=+r[6],r[7]){for(g=r[7].slice(0,3);g.length<3;)g+="0";g=+g}return r[9]&&(y=+r[10],b=+(r[11]||0),p=(y*60+b)*6e4,r[9]==="-"&&(p=-p)),N=new Date(Date.UTC(i,o,c,f,h,m,g)),p&&N.setTime(N.getTime()-p),N}function $2(n){return n.toISOString()}var xy=new Ot("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:I2,construct:Y2,instanceOf:Date,represent:$2});function G2(n){return n==="<<"||n===null}var yy=new Ot("tag:yaml.org,2002:merge",{kind:"scalar",resolve:G2}),Mf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function q2(n){if(n===null)return!1;var r,i,o=0,c=n.length,f=Mf;for(i=0;i<c;i++)if(r=f.indexOf(n.charAt(i)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function X2(n){var r,i,o=n.replace(/[\r\n=]/g,""),c=o.length,f=Mf,h=0,m=[];for(r=0;r<c;r++)r%4===0&&r&&(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)),h=h<<6|f.indexOf(o.charAt(r));return i=c%4*6,i===0?(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)):i===18?(m.push(h>>10&255),m.push(h>>2&255)):i===12&&m.push(h>>4&255),new Uint8Array(m)}function W2(n){var r="",i=0,o,c,f=n.length,h=Mf;for(o=0;o<f;o++)o%3===0&&o&&(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]),i=(i<<8)+n[o];return c=f%3,c===0?(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]):c===2?(r+=h[i>>10&63],r+=h[i>>4&63],r+=h[i<<2&63],r+=h[64]):c===1&&(r+=h[i>>2&63],r+=h[i<<4&63],r+=h[64],r+=h[64]),r}function Z2(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var by=new Ot("tag:yaml.org,2002:binary",{kind:"scalar",resolve:q2,construct:X2,predicate:Z2,represent:W2}),Q2=Object.prototype.hasOwnProperty,K2=Object.prototype.toString;function F2(n){if(n===null)return!0;var r=[],i,o,c,f,h,m=n;for(i=0,o=m.length;i<o;i+=1){if(c=m[i],h=!1,K2.call(c)!=="[object Object]")return!1;for(f in c)if(Q2.call(c,f))if(!h)h=!0;else return!1;if(!h)return!1;if(r.indexOf(f)===-1)r.push(f);else return!1}return!0}function J2(n){return n!==null?n:[]}var vy=new Ot("tag:yaml.org,2002:omap",{kind:"sequence",resolve:F2,construct:J2}),P2=Object.prototype.toString;function eS(n){if(n===null)return!0;var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1){if(o=h[r],P2.call(o)!=="[object Object]"||(c=Object.keys(o),c.length!==1))return!1;f[r]=[c[0],o[c[0]]]}return!0}function tS(n){if(n===null)return[];var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1)o=h[r],c=Object.keys(o),f[r]=[c[0],o[c[0]]];return f}var wy=new Ot("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:eS,construct:tS}),nS=Object.prototype.hasOwnProperty;function lS(n){if(n===null)return!0;var r,i=n;for(r in i)if(nS.call(i,r)&&i[r]!==null)return!1;return!0}function aS(n){return n!==null?n:{}}var Sy=new Ot("tag:yaml.org,2002:set",{kind:"mapping",resolve:lS,construct:aS}),Df=my.extend({implicit:[xy,yy],explicit:[by,vy,wy,Sy]}),Vl=Object.prototype.hasOwnProperty,us=1,Ny=2,Ey=3,fs=4,qu=1,rS=2,pg=3,iS=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,oS=/[\x85\u2028\u2029]/,sS=/[,\[\]\{\}]/,jy=/^(?:!|!!|![a-z\-]+!)$/i,Cy=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function gg(n){return Object.prototype.toString.call(n)}function kn(n){return n===10||n===13}function oa(n){return n===9||n===32}function Xt(n){return n===9||n===32||n===10||n===13}function Pa(n){return n===44||n===91||n===93||n===123||n===125}function cS(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function uS(n){return n===120?2:n===117?4:n===85?8:0}function fS(n){return 48<=n&&n<=57?n-48:-1}function xg(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function dS(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function Ay(n,r,i){r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:i}):n[r]=i}var _y=new Array(256),Oy=new Array(256);for(var Fa=0;Fa<256;Fa++)_y[Fa]=xg(Fa)?1:0,Oy[Fa]=xg(Fa);function hS(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||Df,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ty(n,r){var i={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return i.snippet=x2(i),new Vt(r,i)}function ye(n,r){throw Ty(n,r)}function ds(n,r){n.onWarning&&n.onWarning.call(null,Ty(n,r))}var yg={YAML:function(r,i,o){var c,f,h;r.version!==null&&ye(r,"duplication of %YAML directive"),o.length!==1&&ye(r,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),c===null&&ye(r,"ill-formed argument of the YAML directive"),f=parseInt(c[1],10),h=parseInt(c[2],10),f!==1&&ye(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=h<2,h!==1&&h!==2&&ds(r,"unsupported YAML version of the document")},TAG:function(r,i,o){var c,f;o.length!==2&&ye(r,"TAG directive accepts exactly two arguments"),c=o[0],f=o[1],jy.test(c)||ye(r,"ill-formed tag handle (first argument) of the TAG directive"),Vl.call(r.tagMap,c)&&ye(r,'there is a previously declared suffix for "'+c+'" tag handle'),Cy.test(f)||ye(r,"ill-formed tag prefix (second argument) of the TAG directive");try{f=decodeURIComponent(f)}catch{ye(r,"tag prefix is malformed: "+f)}r.tagMap[c]=f}};function Rl(n,r,i,o){var c,f,h,m;if(r<i){if(m=n.input.slice(r,i),o)for(c=0,f=m.length;c<f;c+=1)h=m.charCodeAt(c),h===9||32<=h&&h<=1114111||ye(n,"expected valid JSON character");else iS.test(m)&&ye(n,"the stream contains non-printable characters");n.result+=m}}function bg(n,r,i,o){var c,f,h,m;for(xt.isObject(i)||ye(n,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(i),h=0,m=c.length;h<m;h+=1)f=c[h],Vl.call(r,f)||(Ay(r,f,i[f]),o[f]=!0)}function er(n,r,i,o,c,f,h,m,g){var p,y;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),p=0,y=c.length;p<y;p+=1)Array.isArray(c[p])&&ye(n,"nested arrays are not supported inside keys"),typeof c=="object"&&gg(c[p])==="[object Object]"&&(c[p]="[object Object]");if(typeof c=="object"&&gg(c)==="[object Object]"&&(c="[object Object]"),c=String(c),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(f))for(p=0,y=f.length;p<y;p+=1)bg(n,r,f[p],i);else bg(n,r,f,i);else!n.json&&!Vl.call(i,c)&&Vl.call(r,c)&&(n.line=h||n.line,n.lineStart=m||n.lineStart,n.position=g||n.position,ye(n,"duplicated mapping key")),Ay(r,c,f),delete i[c];return r}function kf(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):ye(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function ht(n,r,i){for(var o=0,c=n.input.charCodeAt(n.position);c!==0;){for(;oa(c);)c===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),c=n.input.charCodeAt(++n.position);if(r&&c===35)do c=n.input.charCodeAt(++n.position);while(c!==10&&c!==13&&c!==0);if(kn(c))for(kf(n),c=n.input.charCodeAt(n.position),o++,n.lineIndent=0;c===32;)n.lineIndent++,c=n.input.charCodeAt(++n.position);else break}return i!==-1&&o!==0&&n.lineIndent<i&&ds(n,"deficient indentation"),o}function ws(n){var r=n.position,i;return i=n.input.charCodeAt(r),!!((i===45||i===46)&&i===n.input.charCodeAt(r+1)&&i===n.input.charCodeAt(r+2)&&(r+=3,i=n.input.charCodeAt(r),i===0||Xt(i)))}function Rf(n,r){r===1?n.result+=" ":r>1&&(n.result+=xt.repeat(`
`,r-1))}function mS(n,r,i){var o,c,f,h,m,g,p,y,b=n.kind,N=n.result,E;if(E=n.input.charCodeAt(n.position),Xt(E)||Pa(E)||E===35||E===38||E===42||E===33||E===124||E===62||E===39||E===34||E===37||E===64||E===96||(E===63||E===45)&&(c=n.input.charCodeAt(n.position+1),Xt(c)||i&&Pa(c)))return!1;for(n.kind="scalar",n.result="",f=h=n.position,m=!1;E!==0;){if(E===58){if(c=n.input.charCodeAt(n.position+1),Xt(c)||i&&Pa(c))break}else if(E===35){if(o=n.input.charCodeAt(n.position-1),Xt(o))break}else{if(n.position===n.lineStart&&ws(n)||i&&Pa(E))break;if(kn(E))if(g=n.line,p=n.lineStart,y=n.lineIndent,ht(n,!1,-1),n.lineIndent>=r){m=!0,E=n.input.charCodeAt(n.position);continue}else{n.position=h,n.line=g,n.lineStart=p,n.lineIndent=y;break}}m&&(Rl(n,f,h,!1),Rf(n,n.line-g),f=h=n.position,m=!1),oa(E)||(h=n.position+1),E=n.input.charCodeAt(++n.position)}return Rl(n,f,h,!1),n.result?!0:(n.kind=b,n.result=N,!1)}function pS(n,r){var i,o,c;if(i=n.input.charCodeAt(n.position),i!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=c=n.position;(i=n.input.charCodeAt(n.position))!==0;)if(i===39)if(Rl(n,o,n.position,!0),i=n.input.charCodeAt(++n.position),i===39)o=n.position,n.position++,c=n.position;else return!0;else kn(i)?(Rl(n,o,c,!0),Rf(n,ht(n,!1,r)),o=c=n.position):n.position===n.lineStart&&ws(n)?ye(n,"unexpected end of the document within a single quoted scalar"):(n.position++,c=n.position);ye(n,"unexpected end of the stream within a single quoted scalar")}function gS(n,r){var i,o,c,f,h,m;if(m=n.input.charCodeAt(n.position),m!==34)return!1;for(n.kind="scalar",n.result="",n.position++,i=o=n.position;(m=n.input.charCodeAt(n.position))!==0;){if(m===34)return Rl(n,i,n.position,!0),n.position++,!0;if(m===92){if(Rl(n,i,n.position,!0),m=n.input.charCodeAt(++n.position),kn(m))ht(n,!1,r);else if(m<256&&_y[m])n.result+=Oy[m],n.position++;else if((h=uS(m))>0){for(c=h,f=0;c>0;c--)m=n.input.charCodeAt(++n.position),(h=cS(m))>=0?f=(f<<4)+h:ye(n,"expected hexadecimal character");n.result+=dS(f),n.position++}else ye(n,"unknown escape sequence");i=o=n.position}else kn(m)?(Rl(n,i,o,!0),Rf(n,ht(n,!1,r)),i=o=n.position):n.position===n.lineStart&&ws(n)?ye(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}ye(n,"unexpected end of the stream within a double quoted scalar")}function xS(n,r){var i=!0,o,c,f,h=n.tag,m,g=n.anchor,p,y,b,N,E,w=Object.create(null),v,j,A,O;if(O=n.input.charCodeAt(n.position),O===91)y=93,E=!1,m=[];else if(O===123)y=125,E=!0,m={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=m),O=n.input.charCodeAt(++n.position);O!==0;){if(ht(n,!0,r),O=n.input.charCodeAt(n.position),O===y)return n.position++,n.tag=h,n.anchor=g,n.kind=E?"mapping":"sequence",n.result=m,!0;i?O===44&&ye(n,"expected the node content, but found ','"):ye(n,"missed comma between flow collection entries"),j=v=A=null,b=N=!1,O===63&&(p=n.input.charCodeAt(n.position+1),Xt(p)&&(b=N=!0,n.position++,ht(n,!0,r))),o=n.line,c=n.lineStart,f=n.position,ir(n,r,us,!1,!0),j=n.tag,v=n.result,ht(n,!0,r),O=n.input.charCodeAt(n.position),(N||n.line===o)&&O===58&&(b=!0,O=n.input.charCodeAt(++n.position),ht(n,!0,r),ir(n,r,us,!1,!0),A=n.result),E?er(n,m,w,j,v,A,o,c,f):b?m.push(er(n,null,w,j,v,A,o,c,f)):m.push(v),ht(n,!0,r),O=n.input.charCodeAt(n.position),O===44?(i=!0,O=n.input.charCodeAt(++n.position)):i=!1}ye(n,"unexpected end of the stream within a flow collection")}function yS(n,r){var i,o,c=qu,f=!1,h=!1,m=r,g=0,p=!1,y,b;if(b=n.input.charCodeAt(n.position),b===124)o=!1;else if(b===62)o=!0;else return!1;for(n.kind="scalar",n.result="";b!==0;)if(b=n.input.charCodeAt(++n.position),b===43||b===45)qu===c?c=b===43?pg:rS:ye(n,"repeat of a chomping mode identifier");else if((y=fS(b))>=0)y===0?ye(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?ye(n,"repeat of an indentation width identifier"):(m=r+y-1,h=!0);else break;if(oa(b)){do b=n.input.charCodeAt(++n.position);while(oa(b));if(b===35)do b=n.input.charCodeAt(++n.position);while(!kn(b)&&b!==0)}for(;b!==0;){for(kf(n),n.lineIndent=0,b=n.input.charCodeAt(n.position);(!h||n.lineIndent<m)&&b===32;)n.lineIndent++,b=n.input.charCodeAt(++n.position);if(!h&&n.lineIndent>m&&(m=n.lineIndent),kn(b)){g++;continue}if(n.lineIndent<m){c===pg?n.result+=xt.repeat(`
`,f?1+g:g):c===qu&&f&&(n.result+=`
`);break}for(o?oa(b)?(p=!0,n.result+=xt.repeat(`
`,f?1+g:g)):p?(p=!1,n.result+=xt.repeat(`
`,g+1)):g===0?f&&(n.result+=" "):n.result+=xt.repeat(`
`,g):n.result+=xt.repeat(`
`,f?1+g:g),f=!0,h=!0,g=0,i=n.position;!kn(b)&&b!==0;)b=n.input.charCodeAt(++n.position);Rl(n,i,n.position,!1)}return!0}function vg(n,r){var i,o=n.tag,c=n.anchor,f=[],h,m=!1,g;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),g=n.input.charCodeAt(n.position);g!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,ye(n,"tab characters must not be used in indentation")),!(g!==45||(h=n.input.charCodeAt(n.position+1),!Xt(h))));){if(m=!0,n.position++,ht(n,!0,-1)&&n.lineIndent<=r){f.push(null),g=n.input.charCodeAt(n.position);continue}if(i=n.line,ir(n,r,Ey,!1,!0),f.push(n.result),ht(n,!0,-1),g=n.input.charCodeAt(n.position),(n.line===i||n.lineIndent>r)&&g!==0)ye(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return m?(n.tag=o,n.anchor=c,n.kind="sequence",n.result=f,!0):!1}function bS(n,r,i){var o,c,f,h,m,g,p=n.tag,y=n.anchor,b={},N=Object.create(null),E=null,w=null,v=null,j=!1,A=!1,O;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=b),O=n.input.charCodeAt(n.position);O!==0;){if(!j&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,ye(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),f=n.line,(O===63||O===58)&&Xt(o))O===63?(j&&(er(n,b,N,E,w,null,h,m,g),E=w=v=null),A=!0,j=!0,c=!0):j?(j=!1,c=!0):ye(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,O=o;else{if(h=n.line,m=n.lineStart,g=n.position,!ir(n,i,Ny,!1,!0))break;if(n.line===f){for(O=n.input.charCodeAt(n.position);oa(O);)O=n.input.charCodeAt(++n.position);if(O===58)O=n.input.charCodeAt(++n.position),Xt(O)||ye(n,"a whitespace character is expected after the key-value separator within a block mapping"),j&&(er(n,b,N,E,w,null,h,m,g),E=w=v=null),A=!0,j=!1,c=!1,E=n.tag,w=n.result;else if(A)ye(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=p,n.anchor=y,!0}else if(A)ye(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=p,n.anchor=y,!0}if((n.line===f||n.lineIndent>r)&&(j&&(h=n.line,m=n.lineStart,g=n.position),ir(n,r,fs,!0,c)&&(j?w=n.result:v=n.result),j||(er(n,b,N,E,w,v,h,m,g),E=w=v=null),ht(n,!0,-1),O=n.input.charCodeAt(n.position)),(n.line===f||n.lineIndent>r)&&O!==0)ye(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return j&&er(n,b,N,E,w,null,h,m,g),A&&(n.tag=p,n.anchor=y,n.kind="mapping",n.result=b),A}function vS(n){var r,i=!1,o=!1,c,f,h;if(h=n.input.charCodeAt(n.position),h!==33)return!1;if(n.tag!==null&&ye(n,"duplication of a tag property"),h=n.input.charCodeAt(++n.position),h===60?(i=!0,h=n.input.charCodeAt(++n.position)):h===33?(o=!0,c="!!",h=n.input.charCodeAt(++n.position)):c="!",r=n.position,i){do h=n.input.charCodeAt(++n.position);while(h!==0&&h!==62);n.position<n.length?(f=n.input.slice(r,n.position),h=n.input.charCodeAt(++n.position)):ye(n,"unexpected end of the stream within a verbatim tag")}else{for(;h!==0&&!Xt(h);)h===33&&(o?ye(n,"tag suffix cannot contain exclamation marks"):(c=n.input.slice(r-1,n.position+1),jy.test(c)||ye(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),h=n.input.charCodeAt(++n.position);f=n.input.slice(r,n.position),sS.test(f)&&ye(n,"tag suffix cannot contain flow indicator characters")}f&&!Cy.test(f)&&ye(n,"tag name cannot contain such characters: "+f);try{f=decodeURIComponent(f)}catch{ye(n,"tag name is malformed: "+f)}return i?n.tag=f:Vl.call(n.tagMap,c)?n.tag=n.tagMap[c]+f:c==="!"?n.tag="!"+f:c==="!!"?n.tag="tag:yaml.org,2002:"+f:ye(n,'undeclared tag handle "'+c+'"'),!0}function wS(n){var r,i;if(i=n.input.charCodeAt(n.position),i!==38)return!1;for(n.anchor!==null&&ye(n,"duplication of an anchor property"),i=n.input.charCodeAt(++n.position),r=n.position;i!==0&&!Xt(i)&&!Pa(i);)i=n.input.charCodeAt(++n.position);return n.position===r&&ye(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function SS(n){var r,i,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Xt(o)&&!Pa(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&ye(n,"name of an alias node must contain at least one character"),i=n.input.slice(r,n.position),Vl.call(n.anchorMap,i)||ye(n,'unidentified alias "'+i+'"'),n.result=n.anchorMap[i],ht(n,!0,-1),!0}function ir(n,r,i,o,c){var f,h,m,g=1,p=!1,y=!1,b,N,E,w,v,j;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,f=h=m=fs===i||Ey===i,o&&ht(n,!0,-1)&&(p=!0,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)),g===1)for(;vS(n)||wS(n);)ht(n,!0,-1)?(p=!0,m=f,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)):m=!1;if(m&&(m=p||c),(g===1||fs===i)&&(us===i||Ny===i?v=r:v=r+1,j=n.position-n.lineStart,g===1?m&&(vg(n,j)||bS(n,j,v))||xS(n,v)?y=!0:(h&&yS(n,v)||pS(n,v)||gS(n,v)?y=!0:SS(n)?(y=!0,(n.tag!==null||n.anchor!==null)&&ye(n,"alias node should not have any properties")):mS(n,v,us===i)&&(y=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):g===0&&(y=m&&vg(n,j))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&ye(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),b=0,N=n.implicitTypes.length;b<N;b+=1)if(w=n.implicitTypes[b],w.resolve(n.result)){n.result=w.construct(n.result),n.tag=w.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Vl.call(n.typeMap[n.kind||"fallback"],n.tag))w=n.typeMap[n.kind||"fallback"][n.tag];else for(w=null,E=n.typeMap.multi[n.kind||"fallback"],b=0,N=E.length;b<N;b+=1)if(n.tag.slice(0,E[b].tag.length)===E[b].tag){w=E[b];break}w||ye(n,"unknown tag !<"+n.tag+">"),n.result!==null&&w.kind!==n.kind&&ye(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+w.kind+'", not "'+n.kind+'"'),w.resolve(n.result,n.tag)?(n.result=w.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):ye(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||y}function NS(n){var r=n.position,i,o,c,f=!1,h;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(h=n.input.charCodeAt(n.position))!==0&&(ht(n,!0,-1),h=n.input.charCodeAt(n.position),!(n.lineIndent>0||h!==37));){for(f=!0,h=n.input.charCodeAt(++n.position),i=n.position;h!==0&&!Xt(h);)h=n.input.charCodeAt(++n.position);for(o=n.input.slice(i,n.position),c=[],o.length<1&&ye(n,"directive name must not be less than one character in length");h!==0;){for(;oa(h);)h=n.input.charCodeAt(++n.position);if(h===35){do h=n.input.charCodeAt(++n.position);while(h!==0&&!kn(h));break}if(kn(h))break;for(i=n.position;h!==0&&!Xt(h);)h=n.input.charCodeAt(++n.position);c.push(n.input.slice(i,n.position))}h!==0&&kf(n),Vl.call(yg,o)?yg[o](n,o,c):ds(n,'unknown document directive "'+o+'"')}if(ht(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,ht(n,!0,-1)):f&&ye(n,"directives end mark is expected"),ir(n,n.lineIndent-1,fs,!1,!0),ht(n,!0,-1),n.checkLineBreaks&&oS.test(n.input.slice(r,n.position))&&ds(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&ws(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,ht(n,!0,-1));return}if(n.position<n.length-1)ye(n,"end of the stream or a document separator is expected");else return}function My(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var i=new hS(n,r),o=n.indexOf("\0");for(o!==-1&&(i.position=o,ye(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)NS(i);return i.documents}function ES(n,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var o=My(n,i);if(typeof r!="function")return o;for(var c=0,f=o.length;c<f;c+=1)r(o[c])}function jS(n,r){var i=My(n,r);if(i.length!==0){if(i.length===1)return i[0];throw new Vt("expected a single document in the stream, but found more")}}var CS=ES,AS=jS,Dy={loadAll:CS,load:AS},ky=Object.prototype.toString,Ry=Object.prototype.hasOwnProperty,zf=65279,_S=9,xi=10,OS=13,TS=32,MS=33,DS=34,uf=35,kS=37,RS=38,zS=39,LS=42,zy=44,VS=45,hs=58,BS=61,HS=62,US=63,IS=64,Ly=91,Vy=93,YS=96,By=123,$S=124,Hy=125,zt={};zt[0]="\\0";zt[7]="\\a";zt[8]="\\b";zt[9]="\\t";zt[10]="\\n";zt[11]="\\v";zt[12]="\\f";zt[13]="\\r";zt[27]="\\e";zt[34]='\\"';zt[92]="\\\\";zt[133]="\\N";zt[160]="\\_";zt[8232]="\\L";zt[8233]="\\P";var GS=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],qS=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function XS(n,r){var i,o,c,f,h,m,g;if(r===null)return{};for(i={},o=Object.keys(r),c=0,f=o.length;c<f;c+=1)h=o[c],m=String(r[h]),h.slice(0,2)==="!!"&&(h="tag:yaml.org,2002:"+h.slice(2)),g=n.compiledTypeMap.fallback[h],g&&Ry.call(g.styleAliases,m)&&(m=g.styleAliases[m]),i[h]=m;return i}function WS(n){var r,i,o;if(r=n.toString(16).toUpperCase(),n<=255)i="x",o=2;else if(n<=65535)i="u",o=4;else if(n<=4294967295)i="U",o=8;else throw new Vt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+xt.repeat("0",o-r.length)+r}var ZS=1,yi=2;function QS(n){this.schema=n.schema||Df,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=xt.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=XS(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?yi:ZS,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function wg(n,r){for(var i=xt.repeat(" ",r),o=0,c=-1,f="",h,m=n.length;o<m;)c=n.indexOf(`
`,o),c===-1?(h=n.slice(o),o=m):(h=n.slice(o,c+1),o=c+1),h.length&&h!==`
`&&(f+=i),f+=h;return f}function ff(n,r){return`
`+xt.repeat(" ",n.indent*r)}function KS(n,r){var i,o,c;for(i=0,o=n.implicitTypes.length;i<o;i+=1)if(c=n.implicitTypes[i],c.resolve(r))return!0;return!1}function ms(n){return n===TS||n===_S}function bi(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==zf||65536<=n&&n<=1114111}function Sg(n){return bi(n)&&n!==zf&&n!==OS&&n!==xi}function Ng(n,r,i){var o=Sg(n),c=o&&!ms(n);return(i?o:o&&n!==zy&&n!==Ly&&n!==Vy&&n!==By&&n!==Hy)&&n!==uf&&!(r===hs&&!c)||Sg(r)&&!ms(r)&&n===uf||r===hs&&c}function FS(n){return bi(n)&&n!==zf&&!ms(n)&&n!==VS&&n!==US&&n!==hs&&n!==zy&&n!==Ly&&n!==Vy&&n!==By&&n!==Hy&&n!==uf&&n!==RS&&n!==LS&&n!==MS&&n!==$S&&n!==BS&&n!==HS&&n!==zS&&n!==DS&&n!==kS&&n!==IS&&n!==YS}function JS(n){return!ms(n)&&n!==hs}function ci(n,r){var i=n.charCodeAt(r),o;return i>=55296&&i<=56319&&r+1<n.length&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function Uy(n){var r=/^\n* /;return r.test(n)}var Iy=1,df=2,Yy=3,$y=4,Ja=5;function PS(n,r,i,o,c,f,h,m){var g,p=0,y=null,b=!1,N=!1,E=o!==-1,w=-1,v=FS(ci(n,0))&&JS(ci(n,n.length-1));if(r||h)for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ci(n,g),!bi(p))return Ja;v=v&&Ng(p,y,m),y=p}else{for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ci(n,g),p===xi)b=!0,E&&(N=N||g-w-1>o&&n[w+1]!==" ",w=g);else if(!bi(p))return Ja;v=v&&Ng(p,y,m),y=p}N=N||E&&g-w-1>o&&n[w+1]!==" "}return!b&&!N?v&&!h&&!c(n)?Iy:f===yi?Ja:df:i>9&&Uy(n)?Ja:h?f===yi?Ja:df:N?$y:Yy}function eN(n,r,i,o,c){n.dump=(function(){if(r.length===0)return n.quotingType===yi?'""':"''";if(!n.noCompatMode&&(GS.indexOf(r)!==-1||qS.test(r)))return n.quotingType===yi?'"'+r+'"':"'"+r+"'";var f=n.indent*Math.max(1,i),h=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-f),m=o||n.flowLevel>-1&&i>=n.flowLevel;function g(p){return KS(n,p)}switch(PS(r,m,n.indent,h,g,n.quotingType,n.forceQuotes&&!o,c)){case Iy:return r;case df:return"'"+r.replace(/'/g,"''")+"'";case Yy:return"|"+Eg(r,n.indent)+jg(wg(r,f));case $y:return">"+Eg(r,n.indent)+jg(wg(tN(r,h),f));case Ja:return'"'+nN(r)+'"';default:throw new Vt("impossible error: invalid scalar style")}})()}function Eg(n,r){var i=Uy(n)?String(r):"",o=n[n.length-1]===`
`,c=o&&(n[n.length-2]===`
`||n===`
`),f=c?"+":o?"":"-";return i+f+`
`}function jg(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function tN(n,r){for(var i=/(\n+)([^\n]*)/g,o=(function(){var p=n.indexOf(`
`);return p=p!==-1?p:n.length,i.lastIndex=p,Cg(n.slice(0,p),r)})(),c=n[0]===`
`||n[0]===" ",f,h;h=i.exec(n);){var m=h[1],g=h[2];f=g[0]===" ",o+=m+(!c&&!f&&g!==""?`
`:"")+Cg(g,r),c=f}return o}function Cg(n,r){if(n===""||n[0]===" ")return n;for(var i=/ [^ ]/g,o,c=0,f,h=0,m=0,g="";o=i.exec(n);)m=o.index,m-c>r&&(f=h>c?h:m,g+=`
`+n.slice(c,f),c=f+1),h=m;return g+=`
`,n.length-c>r&&h>c?g+=n.slice(c,h)+`
`+n.slice(h+1):g+=n.slice(c),g.slice(1)}function nN(n){for(var r="",i=0,o,c=0;c<n.length;i>=65536?c+=2:c++)i=ci(n,c),o=zt[i],!o&&bi(i)?(r+=n[c],i>=65536&&(r+=n[c+1])):r+=o||WS(i);return r}function lN(n,r,i){var o="",c=n.tag,f,h,m;for(f=0,h=i.length;f<h;f+=1)m=i[f],n.replacer&&(m=n.replacer.call(i,String(f),m)),(tl(n,r,m,!1,!1)||typeof m>"u"&&tl(n,r,null,!1,!1))&&(o!==""&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=c,n.dump="["+o+"]"}function Ag(n,r,i,o){var c="",f=n.tag,h,m,g;for(h=0,m=i.length;h<m;h+=1)g=i[h],n.replacer&&(g=n.replacer.call(i,String(h),g)),(tl(n,r+1,g,!0,!0,!1,!0)||typeof g>"u"&&tl(n,r+1,null,!0,!0,!1,!0))&&((!o||c!=="")&&(c+=ff(n,r)),n.dump&&xi===n.dump.charCodeAt(0)?c+="-":c+="- ",c+=n.dump);n.tag=f,n.dump=c||"[]"}function aN(n,r,i){var o="",c=n.tag,f=Object.keys(i),h,m,g,p,y;for(h=0,m=f.length;h<m;h+=1)y="",o!==""&&(y+=", "),n.condenseFlow&&(y+='"'),g=f[h],p=i[g],n.replacer&&(p=n.replacer.call(i,g,p)),tl(n,r,g,!1,!1)&&(n.dump.length>1024&&(y+="? "),y+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),tl(n,r,p,!1,!1)&&(y+=n.dump,o+=y));n.tag=c,n.dump="{"+o+"}"}function rN(n,r,i,o){var c="",f=n.tag,h=Object.keys(i),m,g,p,y,b,N;if(n.sortKeys===!0)h.sort();else if(typeof n.sortKeys=="function")h.sort(n.sortKeys);else if(n.sortKeys)throw new Vt("sortKeys must be a boolean or a function");for(m=0,g=h.length;m<g;m+=1)N="",(!o||c!=="")&&(N+=ff(n,r)),p=h[m],y=i[p],n.replacer&&(y=n.replacer.call(i,p,y)),tl(n,r+1,p,!0,!0,!0)&&(b=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,b&&(n.dump&&xi===n.dump.charCodeAt(0)?N+="?":N+="? "),N+=n.dump,b&&(N+=ff(n,r)),tl(n,r+1,y,!0,b)&&(n.dump&&xi===n.dump.charCodeAt(0)?N+=":":N+=": ",N+=n.dump,c+=N));n.tag=f,n.dump=c||"{}"}function _g(n,r,i){var o,c,f,h,m,g;for(c=i?n.explicitTypes:n.implicitTypes,f=0,h=c.length;f<h;f+=1)if(m=c[f],(m.instanceOf||m.predicate)&&(!m.instanceOf||typeof r=="object"&&r instanceof m.instanceOf)&&(!m.predicate||m.predicate(r))){if(i?m.multi&&m.representName?n.tag=m.representName(r):n.tag=m.tag:n.tag="?",m.represent){if(g=n.styleMap[m.tag]||m.defaultStyle,ky.call(m.represent)==="[object Function]")o=m.represent(r,g);else if(Ry.call(m.represent,g))o=m.represent[g](r,g);else throw new Vt("!<"+m.tag+'> tag resolver accepts not "'+g+'" style');n.dump=o}return!0}return!1}function tl(n,r,i,o,c,f,h){n.tag=null,n.dump=i,_g(n,i,!1)||_g(n,i,!0);var m=ky.call(n.dump),g=o,p;o&&(o=n.flowLevel<0||n.flowLevel>r);var y=m==="[object Object]"||m==="[object Array]",b,N;if(y&&(b=n.duplicates.indexOf(i),N=b!==-1),(n.tag!==null&&n.tag!=="?"||N||n.indent!==2&&r>0)&&(c=!1),N&&n.usedDuplicates[b])n.dump="*ref_"+b;else{if(y&&N&&!n.usedDuplicates[b]&&(n.usedDuplicates[b]=!0),m==="[object Object]")o&&Object.keys(n.dump).length!==0?(rN(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(aN(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object Array]")o&&n.dump.length!==0?(n.noArrayIndent&&!h&&r>0?Ag(n,r-1,n.dump,c):Ag(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(lN(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object String]")n.tag!=="?"&&eN(n,n.dump,r,f,g);else{if(m==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new Vt("unacceptable kind of an object to dump "+m)}n.tag!==null&&n.tag!=="?"&&(p=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",n.dump=p+" "+n.dump)}return!0}function iN(n,r){var i=[],o=[],c,f;for(hf(n,i,o),c=0,f=o.length;c<f;c+=1)r.duplicates.push(i[o[c]]);r.usedDuplicates=new Array(f)}function hf(n,r,i){var o,c,f;if(n!==null&&typeof n=="object")if(c=r.indexOf(n),c!==-1)i.indexOf(c)===-1&&i.push(c);else if(r.push(n),Array.isArray(n))for(c=0,f=n.length;c<f;c+=1)hf(n[c],r,i);else for(o=Object.keys(n),c=0,f=o.length;c<f;c+=1)hf(n[o[c]],r,i)}function oN(n,r){r=r||{};var i=new QS(r);i.noRefs||iN(n,i);var o=n;return i.replacer&&(o=i.replacer.call({"":o},"",o)),tl(i,0,o,!0,!0)?i.dump+`
`:""}var sN=oN,cN={dump:sN};function Lf(n,r){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var uN=Ot,fN=ay,dN=sy,hN=hy,mN=my,pN=Df,gN=Dy.load,xN=Dy.loadAll,yN=cN.dump,bN=Vt,vN={binary:by,float:dy,map:oy,null:cy,pairs:wy,set:Sy,timestamp:xy,bool:uy,int:fy,merge:yy,omap:vy,seq:iy,str:ry},wN=Lf("safeLoad","load"),SN=Lf("safeLoadAll","loadAll"),NN=Lf("safeDump","dump"),ps={Type:uN,Schema:fN,FAILSAFE_SCHEMA:dN,JSON_SCHEMA:hN,CORE_SCHEMA:mN,DEFAULT_SCHEMA:pN,load:gN,loadAll:xN,dump:yN,YAMLException:bN,types:vN,safeLoad:wN,safeLoadAll:SN,safeDump:NN};function EN(n){const r=n.trim();if(!r)return{success:!1,error:"Empty source"};if(r.startsWith("{")||r.startsWith("["))try{return{success:!0,data:JSON.parse(r)}}catch{}try{const i=ps.load(r);return i==null?{success:!1,error:"Empty workflow"}:{success:!0,data:i}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Parse failed"}}}function jN(n,r){return n.constructs.find(i=>i.opcode===r)}function CN(n){return new Set(n.constructs.filter(r=>r.branches&&r.branches.length>0).map(r=>r.opcode))}function AN(n,r){const i=n.branch_colors;return r.startsWith("CATCH")?i.CATCH||i.default||"#9C27B0":r.startsWith("BRANCH")?i.BRANCH||i.default||"#9C27B0":i[r]||i.default||"#9C27B0"}function _N(n,r){const i=n.node_colors;return i[r]||i.opcode||"#64748B"}function ON(n,r){const i=n.reporter_colors;for(const o of n.categories)if(r.startsWith(o.prefix))return i[o.id]||i.default||"#64748B";return i.default||"#64748B"}const TN="1.0",MN=[{id:"control",prefix:"control_",label:"Control Flow",color:"#FF9500",icon:""},{id:"data",prefix:"data_",label:"Data",color:"#4CAF50",icon:""},{id:"io",prefix:"io_",label:"I/O",color:"#22D3EE",icon:""},{id:"operator",prefix:"operator_",label:"Operators",color:"#9C27B0",icon:""},{id:"list",prefix:"list_",label:"Lists",color:"#3B82F6",icon:""},{id:"dict",prefix:"dict_",label:"Dicts",color:"#F59E0B",icon:""},{id:"string",prefix:"string_",label:"Strings",color:"#F472B6",icon:""},{id:"math",prefix:"math_",label:"Math",color:"#8B5CF6",icon:""},{id:"workflow",prefix:"workflow_",label:"Workflow",color:"#E91E63",icon:""},{id:"async",prefix:"async_",label:"Async",color:"#06B6D4",icon:""}],DN=[{opcode:"control_if",display_name:"If",ast_class:"If",category:"control",description:"Execute branch if condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0}]},{opcode:"control_if_else",display_name:"If-Else",ast_class:"If",category:"control",description:"Execute then-branch if condition is true, else-branch otherwise.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0},{name:"ELSE",label:"Else",color:"#EF5350",required:!0}]},{opcode:"control_while",display_name:"While",ast_class:"While",category:"control",description:"Repeat body while condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_for",display_name:"For",ast_class:"For",category:"control",description:"For loop with counter variable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"START",type:"expression",label:"Start",value_type:"int",required:!0},{name:"END",type:"expression",label:"End",value_type:"int",required:!0},{name:"STEP",type:"expression",label:"Step",value_type:"int",required:!1,default:1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_foreach",display_name:"ForEach",ast_class:"ForEach",category:"control",description:"Iterate over each item in a collection.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Iterable",value_type:"list",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_fork",display_name:"Fork",ast_class:"Fork",category:"control",description:"Execute multiple branches concurrently.",inputs:[],branches:[{name:"BRANCH1",label:"Branch 1",color:"#9C27B0",required:!0},{name:"BRANCH2",label:"Branch 2",color:"#9C27B0",required:!1}],dynamic_branches:!0},{opcode:"control_try",display_name:"Try",ast_class:"Try",category:"control",description:"Exception handling with try/catch/finally.",inputs:[],branches:[{name:"TRY",label:"Try",color:"#3B82F6",required:!0},{name:"CATCH1",label:"Catch",color:"#F87171",required:!1,catch_config:{exception_type:"string",var_name:"string"}},{name:"FINALLY",label:"Finally",color:"#FACC15",required:!1}],dynamic_branches:!0},{opcode:"control_throw",display_name:"Throw",ast_class:"Throw",category:"control",description:"Raise an exception with a message.",inputs:[{name:"VALUE",type:"expression",label:"Message",value_type:"string",required:!0}],branches:[]},{opcode:"control_spawn",display_name:"Spawn",ast_class:"Spawn",category:"control",description:"Spawn a background task.",inputs:[{name:"VAR",type:"variable_name",label:"Task Variable",required:!1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_async_foreach",display_name:"Async ForEach",ast_class:"AsyncForEach",category:"control",description:"Async iteration over a stream or async iterable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Async Iterable",value_type:"async_iterable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"async_timeout",display_name:"Timeout",ast_class:"Timeout",category:"async",description:"Execute body with a timeout, with optional fallback.",inputs:[{name:"TIMEOUT",type:"expression",label:"Timeout (seconds)",value_type:"float",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0},{name:"ON_TIMEOUT",label:"On Timeout",color:"#FACC15",required:!1}]},{opcode:"control_with",display_name:"With",ast_class:"With",category:"control",description:"Async context manager (with statement).",inputs:[{name:"RESOURCE",type:"expression",label:"Resource",required:!0},{name:"VAR",type:"variable_name",label:"Variable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"data_set_variable_to",display_name:"Set Variable",ast_class:"Assign",category:"data",description:"Assign a value to a variable.",inputs:[{name:"VARIABLE",type:"variable_name",label:"Variable",required:!0},{name:"VALUE",type:"expression",label:"Value",required:!0}],branches:[]},{opcode:"workflow_return",display_name:"Return",ast_class:"Return",category:"workflow",description:"Return value(s) from workflow.",inputs:[{name:"VALUE",type:"expression",label:"Value",required:!1}],branches:[],dynamic_inputs:!0},{opcode:"workflow_call",display_name:"Call Workflow",ast_class:"ExprStmt",category:"workflow",description:"Call another workflow by name.",inputs:[{name:"WORKFLOW",type:"variable_name",label:"Workflow Name",required:!0}],branches:[],dynamic_inputs:!0},{opcode:"workflow_start",display_name:"Start",ast_class:null,category:"workflow",description:"Entry point for workflow execution.",inputs:[],branches:[]}],kN={THEN:"#34D399",ELSE:"#F87171",BODY:"#22D3EE",TRY:"#3B82F6",CATCH:"#F87171",FINALLY:"#FACC15",ON_TIMEOUT:"#FACC15",BRANCH:"#9C27B0",default:"#9C27B0"},RN={control_flow:"#FF9500",data:"#4CAF50",io:"#22D3EE",operator:"#9C27B0",workflow_op:"#E91E63",opcode:"#64748B"},zN={data:"#4CAF50",operator:"#9C27B0",io:"#22D3EE",workflow:"#E91E63",default:"#64748B"},LN={version:TN,categories:MN,constructs:DN,branch_colors:kN,node_colors:RN,reporter_colors:zN},ll=LN;function VN(){return ll}function Gy(n){return AN(ll,n)}function qy(n){return _N(ll,n)}function Xy(n){return ON(ll,n)}function BN(){return CN(ll)}function Ai(n){return jN(ll,n)}function HN(n,r){const i=Ai(n);if(!i||!i.branches)return[];const o=new Set(r),c=[];if(i.dynamic_branches){const f=[],h=[];for(const m of i.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.find(b=>b.prefix===p)||h.push({prefix:p,minCount:m.required?1:0})}else f.push(m.name)}for(const m of f)c.push({name:m,connected:o.has(m)});for(const m of h){const g=r.filter(N=>N.startsWith(m.prefix)&&/^\d+$/.test(N.slice(m.prefix.length))),p=g.length>0?Math.max(...g.map(N=>parseInt(N.slice(m.prefix.length)))):0,y=Math.max(m.minCount,p),b=y>0?y:1;for(let N=1;N<=b;N++){const E=`${m.prefix}${N}`;c.push({name:E,connected:o.has(E)})}}return c}for(const f of i.branches)c.push({name:f.name,connected:o.has(f.name)});return c}function Wy(){return ll.categories}function Zy(n){for(const r of ll.categories)if(n.startsWith(r.prefix))return r.icon;return""}function Qy(n){for(const r of ll.categories)if(n.startsWith(r.prefix))return r;return null}function UN(n){const r=n.workflows||[];if(r.length===0)return n.nodes?{type:"project",workflows:[Og(n)]}:{error:"No workflows found"};const i=[];let o={inputs:[],outputs:[]};for(const c of r){const f=Og(c);i.push(f),(f.name==="main"||o.inputs.length===0)&&(o=f.interface)}return{type:"project",workflows:i,interface:o}}function Og(n){const r=n.nodes||{},i=n.interface||{},o={type:"workflow",name:n.name||"main",interface:{inputs:i.inputs||[],outputs:i.outputs||[]},variables:n.variables||{},children:[],orphans:[]},c=new Set;let h=(r.start||{}).next;for(;h&&!c.has(h);){c.add(h);const E=r[h];if(!E)break;const w=mf(h,E,r,c);o.children.push(w),h=E.next}const m=new Set(Object.keys(r).filter(E=>E!=="start")),g=new Set([...m].filter(E=>!c.has(E)));for(const E of g){const w=r[E]||{};Bf(w.inputs||{},r,c)}const p=new Set([...m].filter(E=>!c.has(E))),y=new Set;for(const E of p){const v=(r[E]||{}).next;v&&p.has(v)&&y.add(v)}const b=[...p].filter(E=>!y.has(E)).sort(),N=new Set;for(const E of b){let w=E;for(;w&&!N.has(w);){const v=r[w];if(!v)break;if(v.isReporter){N.add(w),w=v.next&&p.has(v.next)?v.next:void 0;continue}N.add(w);const j=mf(w,v,r,c),A=v.next;A&&p.has(A)&&(j.next=A),o.orphans.push(j),w=A&&p.has(A)?A:void 0}}return o}function mf(n,r,i,o){const c=r.opcode||"",f=r.inputs||{},h=r.isReporter||!1;Bf(f,i,o);const m={id:n,type:GN(c),opcode:c,isReporter:h,inputs:qN(f,i,c),children:[]},g=Ai(c);return g&&g.branches.length>0&&(m.config=IN(c,f,i,g),m.children=YN(f,i,o,g)),m}function IN(n,r,i,o){const c={};for(const f of o.inputs){const h=Vf(r,f.name);if(h!==void 0){const m=f.name.toLowerCase();f.type==="variable_name"?c[m]=Xu(h):f.type==="expression"&&(m==="condition"||m==="iterable"||m==="resource"?c[m]=Hf(h,i):c[m]=Xu(h))}}return["control_for","control_foreach","control_spawn","control_async_foreach","control_with"].includes(n)&&(c.var||(c.var=Xu(r.VAR??r.var??"i"))),c}function YN(n,r,i,o){const c=[];if(o.dynamic_branches)return $N(n,r,i,o);for(const f of o.branches){const h=Vf(n,f.name),m=typeof h=="object"&&h!==null?h.branch:void 0;m?c.push(ns(f.name,m,r,i)):h!==void 0&&c.push({type:"branch",name:f.name,children:[]})}return c}function $N(n,r,i,o){const c=[],f=[],h=[];for(const m of o.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.includes(p)||h.push(p)}else f.push(m.name)}for(const m of f){const g=Vf(n,m),p=typeof g=="object"&&g!==null?g.branch:void 0;p?c.push(ns(m,p,r,i)):g!==void 0&&c.push({type:"branch",name:m,children:[]})}for(const m of h){const g=m==="CATCH"?"HANDLERS":m==="BRANCH"?"BRANCHES":null,p=g?n[g]??n[g.toLowerCase()]:null;if(Array.isArray(p)&&p.length>0)p.forEach((y,b)=>{if(typeof y=="object"&&y!==null){const N=y,E=N.branch??N.body?.branch,w=`${m}${b+1}`;if(E){const v=ns(w,E,r,i);m==="CATCH"&&(v.exception_type=N.exception_type||"Exception",v.var_name=N.var_name??N.var),c.push(v)}else{const v={type:"branch",name:w,children:[]};m==="CATCH"&&(v.exception_type=N.exception_type||"Exception",v.var_name=N.var_name??N.var),c.push(v)}}});else{let y=1;for(;;){const b=`${m}${y}`,N=n[b];if(N===void 0)break;if(typeof N=="object"&&N!==null){const E=N,w=E.branch??E.body?.branch??N.branch;if(w){const v=ns(b,w,r,i);m==="CATCH"&&(v.exception_type=E.exception_type||"Exception",v.var_name=E.var_name??E.var),c.push(v)}else{const v={type:"branch",name:b,children:[]};m==="CATCH"&&(v.exception_type=E.exception_type||"Exception",v.var_name=E.var_name??E.var),c.push(v)}}y++}}}return c}function Vf(n,r){return n[r]??n[r.toLowerCase()]}function Bf(n,r,i){for(const o of Object.values(n))if(typeof o=="object"&&o!==null){const c=o;if(c.node){const f=c.node;if(!i.has(f)){i.add(f);const m=(r[f]||{}).inputs||{};Bf(m,r,i)}}}}function GN(n){const r=VN();for(const i of r.categories)if(n.startsWith(i.prefix))switch(i.id){case"control":case"async":return"control_flow";case"data":return"data";case"io":return"io";case"operator":case"math":case"string":case"list":case"dict":return"operator";case"workflow":return"workflow_op";default:return"opcode"}return"opcode"}function qN(n,r,i){const o={},c=Ai(i),f=new Set;if(c)for(const m of c.branches)f.add(m.name),f.add(m.name.toLowerCase());const h=new Set(["BODY","body","THEN","then","ELSE","else","TRY","FINALLY","HANDLERS","handlers","BRANCHES","branches"]);for(const[m,g]of Object.entries(n))f.has(m)||h.has(m)||/^(CATCH|BRANCH)\d+$/.test(m)||(o[m]=Hf(g,r));return o}function Hf(n,r,i=0){if(typeof n=="object"&&n!==null){const o=n;if("literal"in o)return{type:"literal",value:o.literal};if("variable"in o)return{type:"variable",name:o.variable};if("node"in o){const c=o.node,f=r[c]||{},h=f.opcode||"",m=f.inputs||{};return{type:"reporter",id:c,opcode:h,inputs:Object.fromEntries(Object.entries(m).filter(([g])=>!g.startsWith("CATCH")&&!["BODY","THEN","ELSE"].includes(g)).map(([g,p])=>[g,Hf(p,r,i+1)]))}}return"branch"in o?{type:"branch",target:o.branch}:"workflow_call"in o?{type:"workflow_call",name:o.workflow_call}:{type:"dict",value:n}}return{type:"literal",value:n}}function Xu(n){return typeof n=="object"&&n!==null&&"literal"in n?n.literal:n}function ns(n,r,i,o){const c={type:"branch",name:n,children:[]};let f=r;for(;f&&!o.has(f);){o.add(f);const h=i[f];if(!h)break;c.children.push(mf(f,h,i,o)),f=h.next}return c}function XN(n){if(!Array.isArray(n))throw new Error(`opcodeAdapter must return an array.
Received: ${typeof n}

Expected format:
[
  {
    name: "io_print",
    description: "Print to output",
    parameters: [{ name: "MESSAGE", type: "any", required: true }],
    return_type: "void"
  }
]`);for(let r=0;r<n.length;r++){const i=n[r];if(!i||typeof i!="object")throw new Error(`opcodeAdapter[${r}] must be an object`);if(typeof i.name!="string")throw new Error(`opcodeAdapter[${r}].name must be a string`);if(!Array.isArray(i.parameters))throw new Error(`opcodeAdapter[${r}].parameters must be an array`)}return n}async function oi(n,r){const i=await fetch(n,{headers:{"Content-Type":"application/json"},...r});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return i.json()}function WN(n){const{apiBaseUrl:r}=n;return{name:"lexflow",config:n,async listOpcodes(){const i=n.opcodesUrl??`${r}/opcodes`,o=await oi(i);if(n.opcodeAdapter){const c=n.opcodeAdapter(o);return XN(c)}return o},async executeWorkflow(i,o,c){return oi(`${r}/execute`,{method:"POST",body:JSON.stringify({workflow:i,inputs:o,include_metrics:c})})},getWebSocketUrl(){if(n.supportsWebSocket===!1)return null;if(n.wsUrl)return`${n.wsUrl}/execute`;const i=new URL(r,window.location.href);return`${i.protocol==="https:"?"wss:":"ws:"}//${i.host}/ws/execute`},async parseWorkflow(i){const o=EN(i);if(!o.success||!o.data)return{success:!1,error:o.error||"Parse failed"};const c=UN(o.data);if("error"in c)return{success:!1,error:c.error};const f=c;return{success:!0,tree:f,interface:f.interface}},async validateWorkflow(i){return oi(`${r}/validate`,{method:"POST",body:JSON.stringify({workflow:i})})},async listExamples(){return n.supportsExamples===!1?[]:oi(`${r}/examples`)},async getExample(i){return oi(`${r}/examples/${i}`)}}}const ZN=z.createContext(null);function QN(){return z.useContext(ZN)}function KN({className:n}){const{examples:r,setSource:i}=lt(),o=vs();if(r.length===0)return null;const c=async h=>{const m=h.target.value;if(m){try{if(ey(o)){const g=await o.getExample(m);i(g.content)}}catch(g){console.error("Failed to load example:",g)}h.target.value=""}},f=r.reduce((h,m)=>(h[m.category]||(h[m.category]=[]),h[m.category].push(m),h),{});return d.jsxs($x,{className:n,onChange:c,defaultValue:"",children:[d.jsx("option",{value:"",children:"Load Example..."}),Object.entries(f).map(([h,m])=>d.jsx("optgroup",{label:h,children:m.map(g=>d.jsx("option",{value:g.path,children:g.name},g.path))},h))]})}const FN=_("flex items-center h-12 pl-5 pr-4 bg-surface-1 border-b border-border-subtle shrink-0"),JN=_("text-base font-semibold text-text-primary tracking-tight ml-2"),Wu=_("w-px h-6 mx-2 bg-border-subtle"),Tg=_("flex items-center gap-1.5"),PN="1.0";function eE(n){try{const r=ps.load(n);if(!r?.metadata?.editor)return null;const i=r.metadata.editor;return typeof i.version!="string"||!i.layout||!i.viewport?null:i}catch{return null}}function tE(n,r){try{const i=ps.load(n);return i?(i.metadata={...i.metadata,editor:r},ps.dump(i,{indent:2,lineWidth:-1,noRefs:!0,sortKeys:(o,c)=>o==="metadata"?1:c==="metadata"?-1:0})):n}catch{return n}}function Mg(n,r,i,o,c,f){return{version:PN,layout:{mode:n,nodePositions:{...r},workflowPositions:{...i}},viewport:{zoom:o,panX:c,panY:f}}}const Dg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`;function nE({className:n,onSave:r,showSaveButton:i,saveButtonLabel:o="Save",showExamples:c}){const{source:f,setSource:h,undo:m,redo:g,canUndo:p,canRedo:y}=lt(),{togglePalette:b,toggleEditor:N,isEditorOpen:E}=Ae(),w=z.useRef(null),[v,j]=z.useState(!1),A=async()=>{if(!(!r||v)){j(!0);try{const{nodePositions:$,workflowPositions:Y,layoutMode:K,zoom:te,panX:ue,panY:ie}=Ae.getState(),se=Mg(K,$,Y,te,ue,ie);await r(f,se)}finally{j(!1)}}},O=i??!!r,X=()=>{f!==Dg&&Ae.getState().showConfirmDialog({title:"New Workflow",message:"Create a new workflow? Unsaved changes will be lost.",confirmLabel:"Create",variant:"default",onConfirm:()=>h(Dg)})},B=async()=>{const{nodePositions:$,workflowPositions:Y,layoutMode:K,zoom:te,panX:ue,panY:ie}=Ae.getState(),se=Mg(K,$,Y,te,ue,ie),Z=tE(f,se),ae=new Blob([Z],{type:"text/yaml"});if("showSaveFilePicker"in window)try{const le=await(await window.showSaveFilePicker({suggestedName:"workflow.yaml",types:[{description:"YAML files",accept:{"text/yaml":[".yaml",".yml"]}}]})).createWritable();await le.write(ae),await le.close();return}catch(R){if(R.name==="AbortError")return}const D=URL.createObjectURL(ae),M=document.createElement("a");M.href=D,M.download="workflow.yaml",M.click(),URL.revokeObjectURL(D)},V=()=>{w.current?.click()},H=$=>{const Y=$.target.files?.[0];if(!Y)return;const K=new FileReader;K.onload=te=>{const ue=te.target?.result,ie=eE(ue);if(h(ue),ie){const se=Ae.getState();se.resetNodePositions(),se.resetWorkflowPositions(),se.setLayoutMode(ie.layout.mode);for(const[Z,ae]of Object.entries(ie.layout.nodePositions))se.setNodePosition(Z,ae.x,ae.y);for(const[Z,ae]of Object.entries(ie.layout.workflowPositions))se.setWorkflowPosition(Z,ae.x,ae.y);se.setZoom(ie.viewport.zoom),se.setPan(ie.viewport.panX,ie.viewport.panY)}},K.readAsText(Y),$.target.value=""};return d.jsxs("header",{className:k(FN(),n),children:[d.jsxs("div",{className:k(Tg(),"flex-1"),children:[d.jsx("h1",{className:JN(),style:{marginLeft:"8px"},children:"LexFlow"}),d.jsx("div",{className:Wu()}),d.jsx(Tn,{icon:d.jsx(Vw,{}),label:"New Workflow",onClick:X}),d.jsx(Tn,{icon:d.jsx(Bw,{}),label:"Import Workflow",onClick:V}),d.jsx(Tn,{icon:d.jsx(Hw,{}),label:"Export Workflow",onClick:B}),O&&r&&d.jsx(Tn,{icon:d.jsx(t2,{}),label:o,onClick:A,disabled:v}),d.jsx("div",{className:Wu()}),d.jsx(Tn,{icon:d.jsx(Uw,{}),label:"Undo (Ctrl+Z)",onClick:m,disabled:!p}),d.jsx(Tn,{icon:d.jsx(Iw,{}),label:"Redo (Ctrl+Y)",onClick:g,disabled:!y}),d.jsx("div",{className:Wu()}),d.jsx(Tn,{icon:d.jsx(Yw,{}),label:"Node Palette (Ctrl+P)",onClick:b}),d.jsx("input",{ref:w,type:"file",accept:".yaml,.yml,.json",onChange:H,className:"hidden"})]}),d.jsx("div",{className:"flex items-center justify-center",children:c!==!1&&d.jsx(KN,{})}),d.jsxs("div",{className:k(Tg(),"flex-1 justify-end"),children:[d.jsx(l2,{}),d.jsx(Tn,{icon:d.jsx($w,{}),label:"Toggle Editor (Ctrl+B)",onClick:N,className:E?"bg-surface-3":""})]})]})}const lE=_("absolute bg-transparent transition-colors hover:bg-accent-blue/50 z-10",{variants:{orientation:{horizontal:"cursor-col-resize w-1 -right-0.5 top-0 bottom-0",vertical:"cursor-row-resize h-1 -top-0.5 left-0 right-0"},isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{orientation:"horizontal",isResizing:!1}});function aE({orientation:n,isResizing:r=!1,onMouseDown:i,className:o}){return d.jsx("div",{className:k(lE({orientation:n,isResizing:r}),o),onMouseDown:i})}function rE({orientation:n,minSize:r,maxSize:i,defaultSize:o}){const[c,f]=z.useState(o),[h,m]=z.useState(!1),g=z.useRef(null),p=z.useCallback(y=>{y.preventDefault(),g.current=y.target.parentElement,m(!0)},[]);return z.useEffect(()=>{if(!h)return;const y=N=>{if(!g.current)return;const E=g.current.getBoundingClientRect();let w;w=N.clientX-E.left,f(Math.min(i,Math.max(r,w)))},b=()=>{m(!1)};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)}},[h,n,r,i]),{size:c,isResizing:h,handleMouseDown:p}}const iE=_("flex flex-col h-full overflow-hidden"),oE=_("flex flex-1 overflow-hidden relative"),sE=_("relative bg-surface-1 border-r border-border-subtle flex flex-col shrink-0"),cE=_("flex-1 flex flex-col relative overflow-hidden bg-surface-0"),uE=_("bg-surface-1 border-t border-border-subtle shrink-0 overflow-visible"),fE=_("absolute right-0 top-0 bottom-0 w-80 bg-surface-1 border-l border-border-subtle z-[100] shadow-lg transition-transform duration-200",{variants:{isOpen:{true:"translate-x-0",false:"translate-x-full"}},defaultVariants:{isOpen:!1}}),dE=_("fixed inset-0 bg-black/50 z-[200] flex justify-start"),hE=_("w-[300px] h-full bg-surface-1 border-r border-border-subtle animate-slide-in"),mE=240,pE=480,gE=320;function xE({canvas:n,editor:r,nodeEditor:i,executionPanel:o,palette:c,className:f,onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}){const{isEditorOpen:y,isNodeEditorOpen:b,isPaletteOpen:N,isExecutionPanelOpen:E,togglePalette:w}=Ae(),{size:v,isResizing:j,handleMouseDown:A}=rE({orientation:"horizontal",minSize:mE,maxSize:pE,defaultSize:gE});return d.jsxs("div",{className:k(iE(),f),children:[d.jsx(nE,{onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}),d.jsxs("div",{className:oE(),children:[y&&r&&d.jsxs("aside",{className:sE(),style:{width:`${v}px`},children:[r,d.jsx(aE,{orientation:"horizontal",isResizing:j,onMouseDown:A})]}),d.jsxs("div",{className:cE(),children:[n,E&&o&&d.jsx("div",{className:uE(),children:o})]}),d.jsx("aside",{className:fE({isOpen:b}),children:i})]}),N&&c&&d.jsx("div",{className:dE(),onClick:w,children:d.jsx("div",{className:hE(),onClick:O=>O.stopPropagation(),children:c})})]})}const kg=new Set(["int","float","number","Integer","Float","Number"]),Rg=new Set(["str","string","String"]),zg=new Set(["bool","boolean","Boolean"]);function pf(n,r){if(!n||!r)return null;const i=n.toLowerCase().trim(),o=r.toLowerCase().trim();if(i==="any"||o==="any"||i===o||kg.has(i)&&kg.has(o)||Rg.has(i)&&Rg.has(o)||zg.has(i)&&zg.has(o))return!0;const c=o.match(/^optional\[(.+)\]$/);return c?pf(n,c[1]):o.includes("|")?o.split("|").map(h=>h.trim()).some(h=>pf(n,h)===!0):!1}function yE(n){return n===!0?"#34D399":n===!1?"#F87171":"#94A3B8"}function bE(n,r){if(!n)return{};const i=n.workflows.find(c=>c.name===r);if(!i)return{};const o={};return i.interface.inputs.forEach((c,f)=>{o[`ARG${f+1}`]=c}),o}function gs(n,r,i,o){if(r!=="workflow_call")return n;const c=o.WORKFLOW;if(!c||c.type!=="literal")return n;const f=c.value;if(!f)return n;const h=bE(i,f);return n.startsWith("ARG")&&h[n]?h[n]:n}function vE(n){return n?n.workflows.filter(r=>r.name!=="main").map(r=>({name:r.name,params:r.interface.inputs})):[]}const wE=25,SE=180;function kl(n){if(n.startsWith("start-"))return"start";const r=n.indexOf("::");return r!==-1?n.slice(r+2):n}function xs(n){if(n.startsWith("start-"))return n.slice(6);const r=n.indexOf("::");if(r!==-1)return n.slice(0,r)}function NE(n,r,i,o){return Math.sqrt((i-n)**2+(o-r)**2)}function EE(n,r,i){const o=i[n];return o?r==="input"?o.input:r==="output"?o.output:o.branches[r]||null:null}function jE(n,r,i,o,c){const f=o==="output"?"input":"output";let h=null,m=wE;for(const[g,p]of Object.entries(c)){if(g===i)continue;const y=f==="input"?p.input:p.output,b=NE(n,r,y.x,y.y);b<m&&(m=b,h={nodeId:g,port:f,x:y.x,y:y.y})}return h}const CE={pointerEvents:"all"};function AE(n,r,i){return n?r===!0?{fill:"rgba(52, 211, 153, 0.15)",stroke:"var(--color-accent-green)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease",animation:"pulse-slot 0.6s ease infinite alternate"}:r===!1?{fill:"rgba(248, 113, 113, 0.15)",stroke:"var(--color-accent-red)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"rgba(148, 163, 184, 0.1)",stroke:i,strokeWidth:1,strokeDasharray:"4 2",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"transparent",stroke:"transparent",strokeWidth:1,transition:"fill 0.15s ease, stroke 0.15s ease"}}const _E={fontSize:"9px",fontWeight:500,fill:"var(--color-text-muted)",textTransform:"lowercase"},OE={fontSize:"9px",fontFamily:"'JetBrains Mono', monospace",fill:"var(--color-text-secondary)"},TE={fontSize:"7px",fill:"var(--color-text-muted)",fontStyle:"italic",textTransform:"uppercase",letterSpacing:"0.3px"};function Ky({nodeId:n,inputKey:r,value:i,paramInfo:o,opcode:c,allInputs:f,x:h,y:m,width:g}){const{draggingOrphan:p,setDraggingOrphan:y,draggingVariable:b,setDraggingVariable:N}=Ae(),{convertOrphanToReporter:E,updateNodeInput:w,tree:v}=lt(),j=ME(i),A=gs(r,c,v,f),O=p!==null,X=b!==null,B=O||X,V=O?pf(p.returnType,o?.type):null,H=te=>{if(te.stopPropagation(),p){const ue=kl(p.nodeId);if(V===!1){Ae.getState().showConfirmDialog({title:"Type Mismatch",message:`The orphan node's return type may not be compatible with the input "${r}". Continue anyway?`,confirmLabel:"Continue",variant:"default",onConfirm:()=>{E(ue,n,r),y(null)},onCancel:()=>{y(null)}});return}E(ue,n,r),y(null)}else b&&(w(n,r,`$${b.name}`),N(null))},$=te=>{te.stopPropagation()},Y=X?"#22C55E":yE(V);return d.jsxs("g",{style:CE,transform:`translate(${h}, ${m})`,onMouseUp:H,onMouseEnter:$,children:[d.jsx("rect",{x:0,y:0,width:g,height:20,rx:3,style:AE(B,V,Y)}),d.jsxs("text",{x:6,y:13,style:_E,children:[A,":"]}),d.jsx("text",{x:6+(A.length+1)*5,y:13,style:OE,children:j}),B&&o?.type&&d.jsx("text",{x:g-6,y:13,textAnchor:"end",style:TE,children:o.type})]})}function ME(n){switch(n.type){case"literal":{const r=n.value;if(typeof r=="string")return`"${r.length>10?r.slice(0,10)+"...":r}"`;if(typeof r=="object"&&r!==null){const i=JSON.stringify(r);return i.length>20?i.slice(0,17)+"...":i}return String(r)}case"variable":return`$${n.name}`;case"reporter":return"[reporter]";case"workflow_call":return`-> ${n.name}`;default:return""}}function DE(){const{closeNodeEditor:n,isNodeEditorOpen:r,isPaletteOpen:i,togglePalette:o,toggleEditor:c,toggleExecutionPanel:f}=Ae(),{undo:h,redo:m,canUndo:g,canRedo:p,deleteNode:y,duplicateNode:b}=lt(),{selectNode:N,selectedNodeId:E,clearSelection:w}=nl();z.useEffect(()=>{const v=j=>{const A=j.target,O=A.tagName==="INPUT"||A.tagName==="TEXTAREA";if(O&&j.key==="Escape"){A.blur();return}if(j.ctrlKey||j.metaKey){switch(j.key.toLowerCase()){case"z":!O&&!Lg(A)&&(j.preventDefault(),j.shiftKey?p&&m():g&&h());break;case"y":!O&&!Lg(A)&&(j.preventDefault(),p&&m());break;case"b":O||(j.preventDefault(),c());break;case"e":O||(j.preventDefault(),f());break;case"p":O||(j.preventDefault(),o());break;case"0":O||(j.preventDefault(),Ae.getState().resetView());break;case"d":!O&&E&&E!=="start"&&(j.preventDefault(),b(E));break}return}if(!O){if(j.key==="Escape"){r?(n(),w()):i?o():E&&w();return}(j.key==="Delete"||j.key==="Backspace")&&E&&E!=="start"&&Ae.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${E}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{y(E),w(),n()}})}};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[n,r,i,o,c,f,N,E,w,h,m,g,p,y,b])}function Lg(n){return n.closest(".monaco-editor")!==null}function kE(){const n=z.useRef(null),r=vs(),i=QN(),{setIsExecuting:o,appendExecutionOutput:c,setExecutionResult:f,setExecutionError:h,clearExecution:m,setPendingPrompt:g,addRenderedContent:p,clearRenderedContent:y,addAlert:b,setProgress:N}=pi(),E=z.useCallback(j=>{const A=n.current,{pendingPrompt:O}=pi.getState();!A||!O||(A.send(JSON.stringify({type:`${O.type}_response`,value:j})),g(null))},[g]),w=z.useCallback(async(j,A,O)=>{if(n.current&&n.current.close(),m(),o(!0),i){try{const V=await i(j,A);V.output&&c(V.output),V.success?f(V.result):h(V.error||"Execution failed")}catch(V){h(V instanceof Error?V.message:"Execution failed")}finally{o(!1)}return}const X=r.getWebSocketUrl();if(!X){try{const V=await r.executeWorkflow(j,A,O);V.success?(V.output&&c(V.output),f(V.result)):h(V.error||"Execution failed")}catch(V){h(V instanceof Error?V.message:"Execution failed")}finally{o(!1)}return}const B=new WebSocket(X);n.current=B,B.onopen=()=>{const V={type:"start",workflow:j,inputs:A,include_metrics:O};B.send(JSON.stringify(V))},B.onmessage=V=>{try{const H=JSON.parse(V.data);switch(H.type){case"output":c(H.line+`
`);break;case"complete":f(H.result),o(!1),B.close();break;case"error":h(H.message),o(!1),B.close();break;case"input_request":g({type:"input",prompt:H.prompt});break;case"select_request":g({type:"select",prompt:H.prompt,options:H.options});break;case"confirm_request":g({type:"confirm",prompt:H.message,message:H.message});break;case"button_request":g({type:"button",prompt:H.label,label:H.label});break;case"render_html":p({type:"html",content:H.html});break;case"render_markdown":p({type:"markdown",content:H.content});break;case"render_table":p({type:"table",content:H.data});break;case"render_image":p({type:"image",content:{src:H.src,alt:H.alt}});break;case"progress":N({value:H.value,max:H.max,label:H.label});break;case"alert":b({message:H.message,variant:H.variant});break;case"clear_content":y();break}}catch(H){console.error("Failed to parse WebSocket message:",H)}},B.onerror=()=>{h("WebSocket connection failed"),o(!1)},B.onclose=()=>{n.current=null}},[i,r,m,o,c,f,h,g,p,y,b,N]),v=z.useCallback(()=>{n.current&&(n.current.close(),n.current=null,o(!1),g(null))},[o,g]);return{execute:w,cancel:v,respondToPrompt:E}}function RE(){const{source:n,setTree:r,setParseError:i,setIsParsing:o}=lt(),c=vs(),f=z.useRef(null);z.useEffect(()=>(f.current&&clearTimeout(f.current),f.current=setTimeout(async()=>{o(!0);try{const h=await c.parseWorkflow(n);h.success&&h.tree?r(h.tree):i(h.error||"Parse failed")}catch(h){i(h instanceof Error?h.message:"Parse failed")}finally{o(!1)}},500),()=>{f.current&&clearTimeout(f.current)}),[n,r,i,o,c])}const Fy={WIDTH:110,HEIGHT:70},Uf={HORIZONTAL:60,VERTICAL:40,WORKFLOW:80},zE={control_flow:"Control Flow",data:"Data",io:"I/O",operator:"Operator",workflow_op:"Workflow",opcode:"Opcode"};function LE({svgRef:n,centerX:r,centerY:i}){const{zoom:o,panX:c,panY:f,setZoom:h,setPan:m,isDraggingWorkflow:g,isDraggingNode:p,draggingWire:y,setDraggingWire:b,updateDraggingWire:N,draggingOrphan:E,setDraggingOrphan:w,updateDraggingOrphanEnd:v,draggingVariable:j,setDraggingVariable:A,updateDraggingVariableEnd:O,slotPositions:X}=Ae(),{connectNodes:B,connectBranch:V}=lt(),{selectNode:H,selectStartNode:$,selectConnection:Y}=nl(),[K,te]=z.useState(!1),[ue,ie]=z.useState({x:0,y:0}),se=z.useCallback((R,le)=>{if(!n.current)return{x:0,y:0};const J=n.current.getBoundingClientRect();return{x:(R-J.left-c-J.width/2)/o+r,y:(le-J.top-f-J.height/2)/o+i}},[n,c,f,o,r,i]),Z=z.useCallback(R=>{if(R.ctrlKey||R.metaKey){R.preventDefault();const le=R.deltaY>0?-.1:.1;h(o+le)}},[o,h]),ae=z.useCallback(R=>{if(g||p)return;const le=R.target;(le===n.current||le.classList.contains("background")||le.tagName==="rect")&&(te(!0),ie({x:R.clientX-c,y:R.clientY-f}),H(null),$(null),Y(null))},[c,f,H,$,Y,g,p,n]),D=z.useCallback(R=>{if(y){const{x:le,y:J}=se(R.clientX,R.clientY),C=jE(le,J,y.sourceNodeId,y.sourcePort,X);N({dragX:le,dragY:J,nearbyPort:C});return}if(E){const{x:le,y:J}=se(R.clientX,R.clientY);v(le,J);return}if(j){const{x:le,y:J}=se(R.clientX,R.clientY);O(le,J);return}g||p||K&&m(R.clientX-ue.x,R.clientY-ue.y)},[K,ue,m,g,p,y,N,E,v,j,O,se,X]),M=z.useCallback(()=>{if(te(!1),y){if(y.nearbyPort){const R=kl(y.sourceNodeId),le=kl(y.nearbyPort.nodeId),J=xs(y.sourceNodeId),C=xs(y.nearbyPort.nodeId);y.branchLabel?V(R,le,y.branchLabel):y.sourcePort==="output"?B(R,le,J):B(le,R,C)}b(null)}E&&w(null),j&&A(null)},[y,b,E,w,j,A,B,V]);return{handleWheel:Z,handleMouseDown:ae,handleMouseMove:D,handleMouseUp:M,isDragging:K}}function VE({nodeId:n,slotId:r,x:i,y:o}){const{draggingWire:c,setDraggingWire:f}=Ae(),{connectNodes:h}=lt(),m=z.useCallback(j=>{j.stopPropagation(),j.preventDefault();const A=i+SE,O=o+30;f({sourceNodeId:r,sourcePort:"output",sourceX:A,sourceY:O,dragX:A,dragY:O,nearbyPort:null})},[r,i,o,f]),g=z.useCallback((j,A,O,X)=>{j.stopPropagation(),j.preventDefault();const B=i+O,V=o+X;f({sourceNodeId:r,sourcePort:"output",sourceX:B,sourceY:V,dragX:B,dragY:V,nearbyPort:null,branchLabel:A})},[r,i,o,f]),p=z.useCallback(j=>{j.stopPropagation(),j.preventDefault();const A=i,O=o+30;f({sourceNodeId:r,sourcePort:"input",sourceX:A,sourceY:O,dragX:A,dragY:O,nearbyPort:null})},[r,i,o,f]),y=z.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="input"&&c.sourceNodeId!==n&&(h(n,c.sourceNodeId),f(null))},[n,c,h,f]),b=z.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="output"&&c.sourceNodeId!==n&&(h(c.sourceNodeId,n),f(null))},[n,c,h,f]),N=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="input",E=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="output",w=!!c&&c.sourcePort==="output"&&c.sourceNodeId!==r,v=!!c&&c.sourcePort==="input"&&c.sourceNodeId!==r;return{handleOutputPortMouseDown:m,handleInputPortMouseDown:p,handleOutputPortMouseUp:y,handleInputPortMouseUp:b,handleBranchPortMouseDown:g,isInputPortHighlighted:N,isOutputPortHighlighted:E,isValidDropTarget:w,isValidOutputDropTarget:v}}const gn=110,Rt=70,Vg=30,Bg={control_flow:"",data:"",io:"",operator:"",workflow_op:"",opcode:""};function BE(n,r,i,o,c,f,h,m=!1){let g="transparent",p=1.5,y="none",b=1;o&&(g="var(--color-accent-amber)",y="6 3",b=.9),c&&!r&&!m&&(g=n,p=1.5,b=1),i&&!r&&!m&&(g="#facc15",p=2,y="none"),m&&(g="#22d3ee",p=2.5,y="none",b=1),r&&(g="var(--color-accent-blue)",p=2,y="none",b=1),f==="success"?g="var(--color-accent-green)":f==="error"&&(g="var(--color-accent-red)");let N="drop-shadow(0 1px 3px rgba(0, 0, 0, 0.2))";return c&&!r&&!m&&(N="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.25))"),m&&!r&&(N="drop-shadow(0 0 10px rgba(34, 211, 238, 0.5))"),r&&(N="drop-shadow(0 0 8px rgba(59, 130, 246, 0.3))"),{fill:"var(--color-surface-1)",stroke:g,strokeWidth:p,strokeDasharray:y,opacity:b,filter:N,transition:"all 0.15s ease",animation:f==="running"?"pulse 1.5s ease-in-out infinite":"none"}}function HE(n){return{fill:n,pointerEvents:"none"}}function UE(n,r){return{fill:r?n:`${n}20`,transition:"fill 0.15s ease"}}const IE={fontSize:"14px",fill:"var(--color-text-primary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"},YE={fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",letterSpacing:"-0.01em"},$E={fontSize:"9px",fill:"var(--color-text-muted)",fontFamily:"'JetBrains Mono', monospace"};function Hg(n,r,i){return{fill:r?"var(--color-accent-green)":"var(--color-surface-2)",stroke:r?"var(--color-accent-green)":n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1.5,r:r?6:5,transition:"all 0.12s ease",filter:r?"drop-shadow(0 0 6px var(--color-accent-green))":"none",cursor:i?"pointer":"crosshair"}}function Jy(n,r){return{fill:r?"var(--color-accent-blue)":"var(--color-surface-3)",stroke:"var(--color-border-subtle)",strokeWidth:1,cursor:n?"pointer":"default",transition:"fill 0.15s ease",opacity:n?1:0,pointerEvents:n?"all":"none"}}const Py={fontSize:"8px",fontWeight:600,fill:"var(--color-text-secondary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function GE(n){const r={running:"var(--color-accent-amber)",success:"var(--color-accent-green)",error:"var(--color-accent-red)"};return{fill:r[n]||"transparent",filter:n!=="idle"?`drop-shadow(0 0 4px ${r[n]})`:"none",transition:"all 0.15s ease"}}const qE={cursor:"grab",pointerEvents:"all"},XE={fill:"var(--color-accent-amber)",transition:"filter 0.15s ease"},WE={fontSize:"9px",fill:"var(--color-surface-0)",fontWeight:600,pointerEvents:"none",textAnchor:"middle",dominantBaseline:"central"},ZE={cursor:"grab",pointerEvents:"all",fill:"transparent"};function QE(n,r){return{fill:n?r:"transparent",stroke:r,strokeWidth:1.5,cursor:"crosshair",transition:"all 0.12s ease"}}const KE={fontSize:"8px",fontWeight:500,textAnchor:"middle",pointerEvents:"none",userSelect:"none",textTransform:"uppercase",letterSpacing:"0.3px"};function FE(n){return{fill:"var(--color-accent-primary)",transition:"all 0.15s ease",opacity:n?1:.9,transform:n?"scale(1.1)":"scale(1)",filter:n?"drop-shadow(0 2px 6px rgba(59, 130, 246, 0.4))":"none"}}const JE={fontSize:"14px",fontWeight:"bold",fill:"white",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function PE(n,r){const i=r.filter(f=>f.children.length>0).map(f=>f.name),o=r.map(f=>f.name),c=HN(n,i);for(const f of o)c.find(h=>h.name===f)||c.push({name:f,connected:i.includes(f)});return c}function ej(n,r){const i=Zy(n);return i&&i!==""?i:Bg[r]||Bg.opcode}function eb(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function If(n){let r=0;for(const i of Object.values(n))i.type==="reporter"&&i.opcode&&(r+=1,i.inputs&&(r+=If(i.inputs)));return r}const Dn=12,vi=8,or=16,tb=28,tj=2e3;function sr(n,r,i,o){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const c=`${o}::${n.id||""}`,f=i[c]??!1;if(!f&&!r)return{width:gn,height:Rt};const h=[];let m=0;if(n.inputs)for(const[y,b]of Object.entries(n.inputs))b.type==="reporter"&&b.opcode?h.push({key:y,value:b}):m++;let g=gn,p=Rt;if(f||r){if(h.length>0){let y=0,b=0;for(const N of h){const E=sr(N.value,r,i,o);y+=or+E.height+vi,b=Math.max(b,E.width)}g=Math.max(g,b+Dn*2),p=Rt+y}m>0&&(p+=m*tb+vi),(h.length>0||m>0)&&(p+=Dn)}return{width:g,height:p}}function nj(n,r,i,o){let c=0;for(const{value:f}of n){const h=sr(f,r,i,o);c+=or+h.height+vi}return c}function lj(n,r,i,o){let c=gn;for(const{value:f}of n){const h=sr(f,r,i,o);c=Math.max(c,h.width)}return c}const aj=z.memo(function({node:r,x:i,y:o,isOrphan:c,zoom:f=1,onDrag:h,workflowName:m}){const{opcodes:g}=lt(),{openNodeEditor:p,nodeStatus:y,searchResults:b,draggingWire:N,draggingOrphan:E,setDraggingOrphan:w,draggingVariable:v,layoutMode:j,setIsDraggingNode:A,registerSlotPositions:O,unregisterSlotPositions:X,showContextMenu:B,expandedReporters:V,showAddNodeMenu:H}=Ae(),{selectedNodeId:$,selectNode:Y,selectedNodeIds:K,toggleNodeSelection:te,clearMultiSelection:ue,selectedReporter:ie,selectReporter:se}=nl(),[Z,ae]=z.useState(!1),[D,M]=z.useState(!1),[R,le]=z.useState(!1),J=z.useRef(null);z.useEffect(()=>(Z||D?(J.current&&(clearTimeout(J.current),J.current=null),le(!0)):J.current=setTimeout(()=>{le(!1)},tj),()=>{J.current&&clearTimeout(J.current)}),[Z,D]);const C=`${m}::${r.id}`,U=V[C]??!1,P=g.find(Se=>Se.name===r.opcode),re=qy(r.type),xe=ej(r.opcode,r.type),ge=$===C&&!ie,de=K.includes(C),We=b.includes(r.id),oe=y[r.id]||"idle",Ne=eb(r.opcode),Le=z.useRef(!1),Te=[],$e=[];for(const[Se,st]of Object.entries(r.inputs))st.type==="reporter"&&st.opcode?Te.push({key:Se,value:st}):$e.push({key:Se,value:st});const Tt=If(r.inputs),Mt=!!(v||E&&E.nodeId!==C),wt=$e.map(Se=>Se.key).slice(0,4),_e=PE(r.opcode,r.children),Wt=_e.length>0?20:0,xn=Mt?wt.length*Vg:0,Bt=U||Mt,Bl=Bt&&Te.length>0?nj(Te,Mt,V,m):0,sa=Bt&&Te.length>0?lj(Te,Mt,V,m)+Dn*2:0,et=Math.max(gn,sa),Pe=Rt+xn+Bl+Wt,al=C,{handleOutputPortMouseDown:ca,handleInputPortMouseDown:ce,handleOutputPortMouseUp:ve,handleInputPortMouseUp:Ue,handleBranchPortMouseDown:Qe,isInputPortHighlighted:at,isOutputPortHighlighted:En,isValidDropTarget:yn,isValidOutputDropTarget:mt}=VE({nodeId:r.id,slotId:al,x:i,y:o}),an=Se=>{if(Se.stopPropagation(),Le.current){Le.current=!1;return}if(Se.ctrlKey||Se.metaKey){te(C),se(null);return}ue(),Y(C),se(null),p()},St=Se=>{Se.preventDefault(),Se.stopPropagation(),K.includes(C)||(ue(),Y(C)),B({nodeId:C,x:Se.clientX,y:Se.clientY,hasReporters:Tt>0,reportersExpanded:U,isOrphan:c??!1})},fr=Se=>{if(!c)return;Se.stopPropagation(),Se.preventDefault();const st=i+et-14,Dt=o;w({nodeId:C,opcode:r.opcode,returnType:P?.return_type,fromX:st,fromY:Dt,toX:st,toY:Dt})},dr=Se=>{if(j!=="free"||!h)return;Se.stopPropagation(),Se.preventDefault(),A(!0);const st=Se.clientX,Dt=Se.clientY;let Nt=!1;const jn=ua=>{const hr=(ua.clientX-st)/f,fa=(ua.clientY-Dt)/f;(Math.abs(hr)>3||Math.abs(fa)>3)&&(Nt=!0,h(hr,fa))},bn=()=>{A(!1),Nt&&(Le.current=!0),window.removeEventListener("mousemove",jn),window.removeEventListener("mouseup",bn)};window.addEventListener("mousemove",jn),window.addEventListener("mouseup",bn)},Ns=Se=>{Se.stopPropagation(),H(Se.clientX,Se.clientY,r.id,m)};return z.useEffect(()=>{const Se={input:{x:i,y:o+Rt/2},output:{x:i+et,y:o+Rt/2},branches:{}};return _e.forEach((st,Dt)=>{const Nt=et/_e.length;Se.branches[st.name]={x:i+Nt*Dt+Nt/2,y:o+Pe}}),O(al,Se),()=>X(al)},[i,o,et,Pe,_e.length,al,O,X]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${i}, ${o})`,onClick:an,onContextMenu:St,onMouseEnter:()=>ae(!0),onMouseLeave:()=>ae(!1),children:[d.jsx("rect",{x:0,y:0,width:et+30,height:Pe,fill:"transparent",style:{pointerEvents:"all"}}),d.jsx("rect",{width:et,height:Pe,rx:8,style:BE(re,ge,We,c??!1,Z,oe,Mt,de)}),d.jsx("rect",{x:0,y:0,width:3,height:Pe,rx:1.5,style:HE(re)}),d.jsx("circle",{cx:gn/2,cy:22,r:14,style:UE(re,Z)}),d.jsx("text",{x:gn/2,y:22,style:IE,children:xe}),d.jsx("text",{x:gn/2,y:46,textAnchor:"middle",style:YE,children:Ne.length>10?Ne.slice(0,10)+"":Ne}),(Z||ge)&&d.jsx("text",{x:gn/2,y:60,textAnchor:"middle",style:$E,children:r.id.length>12?r.id.slice(0,12)+"":r.id}),Mt&&wt.map((Se,st)=>d.jsx(Ky,{nodeId:r.id,inputKey:Se,value:r.inputs[Se],paramInfo:P?.parameters.find(Dt=>Dt.name.toUpperCase()===Se),opcode:r.opcode,allInputs:r.inputs,x:Dn,y:Rt+st*Vg,width:et-Dn*2},Se)),Bt&&Te.length>0&&d.jsx(rj,{reporterInputs:Te,parentNodeId:r.id,baseY:Rt+xn,selectedReporter:ie,selectReporter:se,openNodeEditor:p,showInputSlots:Mt,opcodes:g,expandedReporters:V,showContextMenu:B,workflowName:m}),Tt>0&&!Bt&&d.jsxs("g",{transform:`translate(${et-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Jy(!0,!1)}),d.jsx("text",{x:7,y:7,style:Py,children:Tt})]}),yn&&d.jsx("circle",{cx:0,cy:Rt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Ue}),mt&&d.jsx("circle",{cx:et,cy:Rt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:ve}),d.jsx("circle",{cx:0,cy:Rt/2,r:5,style:Hg(Z,at,!!N),onMouseDown:ce,onMouseUp:Ue}),d.jsx("circle",{cx:et,cy:Rt/2,r:5,style:Hg(Z,En,!!N),onMouseDown:ca,onMouseUp:ve}),R&&r.opcode!=="workflow_start"&&d.jsxs("g",{className:"add-node-button",onClick:Ns,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),style:{cursor:"pointer"},children:[d.jsx("circle",{cx:et+16,cy:Rt/2,r:10,style:FE(D)}),d.jsx("text",{x:et+16,y:Rt/2,style:JE,children:"+"})]}),_e.length>0&&d.jsx("g",{children:_e.map((Se,st)=>{const Dt=et/_e.length,Nt=Dt*st+Dt/2,jn=Pe,bn=Gy(Se.name);return d.jsxs("g",{children:[d.jsx("text",{x:Nt,y:Pe-8,fill:bn,style:KE,children:Se.name}),d.jsx("circle",{cx:Nt,cy:jn,r:4,style:QE(Se.connected,bn),onMouseDown:ua=>Qe(ua,Se.name,Nt,jn)})]},Se.name)})}),oe!=="idle"&&d.jsx("circle",{cx:et-8,cy:12,r:4,style:GE(oe)}),c&&d.jsxs("g",{style:qE,onMouseDown:fr,children:[d.jsx("rect",{x:et-28,y:-8,width:28,height:16,rx:3,style:XE}),d.jsx("text",{x:et-14,y:0,style:WE,children:""}),d.jsx("title",{children:"Drag to slot as reporter"})]}),j==="free"&&h&&d.jsx("rect",{x:4,y:0,width:c?et-32:et-8,height:Rt,style:ZE,onMouseDown:dr})]})});function nb({inputKey:n,value:r,parentNodeId:i,x:o,y:c,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:y,expandedReporters:b,showContextMenu:N,workflowName:E}){const w=Xy(r.opcode||""),v=eb(r.opcode||""),j=Zy(r.opcode||"")||"",A=[...y,n],O=p.find(R=>R.name===r.opcode),X=r.id||"",B=`${E}::${X}`,V=b[B]??!1,H=f&&f.parentNodeId===i&&f.inputPath.join(".")===A.join("."),$=[],Y=[];if(r.inputs)for(const[R,le]of Object.entries(r.inputs))le.type==="reporter"&&le.opcode?$.push({key:R,value:le}):Y.push({key:R,value:le});const K=If(r.inputs||{}),te=V||g,ue=sr(r,g,b,E),ie=ue.width,se=ue.height,Z=[];let ae=Rt;if(te)for(const R of $){const le=sr(R.value,g,b,E);Z.push({key:R.key,value:R.value,y:ae,height:le.height}),ae+=or+le.height+vi}const D=ae,M=R=>{R.preventDefault(),R.stopPropagation(),h({parentNodeId:i,inputPath:A,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),N({nodeId:X,x:R.clientX,y:R.clientY,hasReporters:K>0,reportersExpanded:V,isOrphan:!1})};return d.jsxs("g",{transform:`translate(${o}, ${c})`,children:[d.jsx("rect",{x:0,y:0,width:ie,height:se,rx:8,fill:"var(--color-surface-1)",stroke:H?"var(--color-accent-blue)":w,strokeWidth:H?2:1.5,style:{cursor:"pointer"},onClick:R=>{R.stopPropagation(),h({parentNodeId:i,inputPath:A,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),m()},onContextMenu:M}),d.jsx("rect",{x:0,y:0,width:4,height:se,rx:2,fill:w,style:{pointerEvents:"none"}}),d.jsx("circle",{cx:gn/2,cy:22,r:14,fill:`${w}30`,style:{pointerEvents:"none"}}),d.jsx("text",{x:gn/2,y:22,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"14px",fill:"var(--color-text-primary)",pointerEvents:"none"},children:j}),d.jsx("text",{x:gn/2,y:46,textAnchor:"middle",style:{fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",pointerEvents:"none"},children:v.length>10?v.slice(0,10)+"":v}),K>0&&!te&&d.jsxs("g",{transform:`translate(${gn-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Jy(!0,!1)}),d.jsx("text",{x:7,y:7,style:Py,children:K})]}),te&&Z.map(R=>d.jsxs("g",{children:[d.jsx("text",{x:Dn,y:R.y+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:R.key}),d.jsx(nb,{inputKey:R.key,value:R.value,parentNodeId:i,x:Dn,y:R.y+or,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:A,expandedReporters:b,showContextMenu:N,workflowName:E})]},R.key)),te&&Y.map((R,le)=>d.jsxs("g",{transform:`translate(${Dn}, ${D+le*tb})`,children:[d.jsx("text",{x:0,y:10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:R.key}),d.jsx(Ky,{nodeId:r.id||i,inputKey:R.key,value:R.value,paramInfo:O?.parameters.find(J=>J.name.toUpperCase()===R.key),opcode:r.opcode||"",allInputs:r.inputs||{},x:0,y:12,width:ie-Dn*2})]},R.key))]})}function rj({reporterInputs:n,parentNodeId:r,baseY:i,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,expandedReporters:g,showContextMenu:p,workflowName:y}){const b=[];let N=0;for(const{key:E,value:w}of n){b.push({key:E,value:w,y:N});const v=sr(w,h,g,y);N+=or+v.height+vi}return d.jsx("g",{transform:`translate(${Dn}, ${i})`,children:b.map(({key:E,value:w,y:v})=>d.jsxs("g",{children:[d.jsx("text",{x:0,y:v+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:E}),d.jsx(nb,{inputKey:E,value:w,parentNodeId:r,x:0,y:v+or,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,inputPath:[],expandedReporters:g,showContextMenu:p,workflowName:y})]},E))})}const el=160,lb=80,hi="#22c55e",ab="#4ade80";function ij(n,r){return{fill:"var(--color-surface-1)",stroke:n?"var(--color-accent-blue)":hi,strokeWidth:n||r?2.5:2,transition:"stroke 0.15s ease, stroke-width 0.15s ease, filter 0.15s ease",filter:n?"drop-shadow(0 0 8px rgba(34, 211, 238, 0.4))":r?"drop-shadow(0 4px 8px rgba(34, 197, 94, 0.3))":"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))"}}const oj={fill:hi,pointerEvents:"none"},sj={fontSize:"14px"},cj={fontSize:"13px",fontWeight:700,fill:"var(--color-text-primary)"},uj={fontSize:"9px",fill:"var(--color-text-secondary)",fontFamily:"'JetBrains Mono', monospace"},fj={fontSize:"10px",fontFamily:"'JetBrains Mono', monospace",fill:ab},dj={fontSize:"9px",fill:"var(--color-text-muted)",fontStyle:"italic"};function hj(n,r=!1){return{fill:n?hi:"var(--color-surface-2)",stroke:n?ab:hi,strokeWidth:2,transition:"all 0.15s ease",filter:n?`drop-shadow(0 0 4px ${hi})`:"none",cursor:r?"pointer":"crosshair",pointerEvents:"all"}}const mj={cursor:"grab",pointerEvents:"all"},pj=z.memo(function({workflowName:r,workflowInterface:i,variables:o,x:c,y:f,zoom:h=1,onDrag:m}){const{openNodeEditor:g,layoutMode:p,setIsDraggingNode:y,registerSlotPositions:b,unregisterSlotPositions:N,draggingWire:E,setDraggingWire:w}=Ae(),{selectedStartNode:v,selectStartNode:j,selectNode:A}=nl(),{connectNodes:O}=lt(),[X,B]=z.useState(!1),V=`start-${r}`,H=v===r,$=z.useRef(!1),Y=U=>{if(U.stopPropagation(),$.current){$.current=!1;return}A(null),j(r),g()},K=U=>{if(p!=="free"||!m)return;U.stopPropagation(),U.preventDefault(),y(!0);const P=U.clientX,re=U.clientY;let xe=!1;const ge=We=>{const oe=(We.clientX-P)/h,Ne=(We.clientY-re)/h;(Math.abs(oe)>3||Math.abs(Ne)>3)&&(xe=!0,m(oe,Ne))},de=()=>{y(!1),xe&&($.current=!0),window.removeEventListener("mousemove",ge),window.removeEventListener("mouseup",de)};window.addEventListener("mousemove",ge),window.addEventListener("mouseup",de)},te=z.useCallback(U=>{U.stopPropagation(),U.preventDefault();const P=c+el,re=f+30;w({sourceNodeId:V,sourcePort:"output",sourceX:P,sourceY:re,dragX:P,dragY:re,nearbyPort:null})},[c,f,V,w]),ue=z.useCallback(U=>{U.stopPropagation(),U.preventDefault(),E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-")&&(O("start",E.sourceNodeId,r),w(null))},[E,r,O,w]),ie=E?.nearbyPort?.nodeId===V&&E?.nearbyPort?.port==="output",se=!!E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-"),Z=Object.entries(o).slice(0,3),ae=Object.keys(o).length>3,D=i.inputs||[],M=i.outputs||[],R=50,le=D.length>0||M.length>0?18:0,J=Z.length*14+(ae?12:0),C=Math.max(lb,R+le+J+10);return z.useEffect(()=>{const U={input:{x:c,y:f+30},output:{x:c+el,y:f+30},branches:{}};return b(V,U),()=>N(V)},[c,f,V,b,N]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${c}, ${f})`,onClick:Y,onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),children:[d.jsx("rect",{width:el,height:C,rx:8,style:ij(H,X)}),d.jsx("rect",{width:4,height:C,rx:2,style:oj}),d.jsx("text",{x:16,y:24,style:sj,children:""}),d.jsx("text",{x:38,y:24,style:cj,children:r}),(D.length>0||M.length>0)&&d.jsx("g",{transform:"translate(12, 38)",children:d.jsxs("text",{x:0,y:0,style:uj,children:[D.length>0&&`In: ${D.join(", ")}`,D.length>0&&M.length>0&&" | ",M.length>0&&`Out: ${M.join(", ")}`]})}),Z.length>0&&d.jsxs("g",{transform:`translate(12, ${R+le-4})`,children:[Z.map(([U,P],re)=>d.jsxs("text",{x:0,y:re*14+10,style:fj,children:["$",U," = ",gj(P)]},U)),ae&&d.jsxs("text",{x:0,y:Z.length*14+10,style:dj,children:["+",Object.keys(o).length-3," more..."]})]}),se&&d.jsx("circle",{cx:el,cy:30,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:ue}),d.jsx("circle",{cx:el,cy:30,r:6,style:hj(X||ie,!!E),onMouseDown:te,onMouseUp:ue}),p==="free"&&m&&d.jsx("rect",{x:4,y:0,width:el-8,height:40,fill:"transparent",style:mj,onMouseDown:K})]})});function gj(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?n.length>12?`"${n.slice(0,12)}..."`:`"${n}"`:typeof n=="object"?JSON.stringify(n).slice(0,15)+"...":String(n)}function xj(n,r,i,o){const c=i-n,f=Math.abs(o-r),h=Math.abs(c);if(f>h*.5&&o>r){const g=Math.min(f/2,60);return`M ${n} ${r} C ${n} ${r+g}, ${i} ${o-g}, ${i} ${o}`}else if(c>=0){const g=Math.min(h/2,80);return`M ${n} ${r} C ${n+g} ${r}, ${i-g} ${o}, ${i} ${o}`}else{const g=Math.max(50,h/2),p=Math.max(40,f/2+20);return`M ${n} ${r} C ${n+g} ${r}, ${n+g} ${r+p}, ${(n+i)/2} ${r+p} S ${i-g} ${o}, ${i} ${o}`}}const yj={fill:"none",stroke:"transparent",strokeWidth:16,strokeLinecap:"round",pointerEvents:"stroke"};function bj(n,r){return{fill:"none",stroke:r?"#22d3ee":n,strokeWidth:6,strokeLinecap:"round",opacity:r?.3:.2,pointerEvents:"none"}}function vj(n,r,i){return{fill:"none",stroke:r?"#22D3EE":n,strokeWidth:r?3:i?1.5:2,strokeLinecap:"round",strokeDasharray:i?"6 4":"none",pointerEvents:"none",transition:"stroke-width 0.15s ease, stroke 0.15s ease",filter:r?"drop-shadow(0 0 6px rgba(34, 211, 238, 0.5))":"none"}}const wj={opacity:.6,pointerEvents:"none"},Sj={fontSize:"10px",fill:"var(--color-text-muted)",textAnchor:"middle",fontWeight:500,pointerEvents:"none"},Nj={cursor:"pointer",pointerEvents:"all"};function Ej(){return{fill:"var(--color-accent-red)",stroke:"var(--color-surface-0)",strokeWidth:2,transition:"transform 0.15s ease, filter 0.15s ease"}}const jj={fontSize:"16px",fontWeight:"bold",fill:"white",pointerEvents:"none"},rb=z.memo(function({fromNodeId:r,toNodeId:i,fromPort:o="output",toPort:c="input",x1:f,y1:h,x2:m,y2:g,color:p="#475569",label:y,isDotted:b,isSelected:N,onSelect:E,onDelete:w}){const v=Ae(K=>K.slotPositions);let j,A,O,X;if(f!==void 0&&h!==void 0&&m!==void 0&&g!==void 0)j=f,A=h,O=m,X=g;else{const K=v[r],te=v[i];if(!K||!te)return null;const ue=o==="output"?K.output:o==="input"?K.input:K.branches[o],ie=c==="input"?te.input:te.output;if(!ue||!ie)return null;j=ue.x,A=ue.y,O=ie.x,X=ie.y}if(!Number.isFinite(j)||!Number.isFinite(A)||!Number.isFinite(O)||!Number.isFinite(X)||j===0&&A===0&&O===0&&X===0||j===O&&A===X)return null;const B=xj(j,A,O,X),V=(j+O)/2,H=(A+X)/2,$=K=>{K.stopPropagation(),E?.()},Y=K=>{K.stopPropagation(),w?.()};return d.jsxs("g",{style:{cursor:"pointer"},children:[d.jsx("path",{style:yj,d:B,onClick:$}),d.jsx("path",{style:bj(p,N??!1),d:B}),d.jsx("path",{style:vj(p,N??!1,b??!1),d:B}),!b&&!N&&d.jsx("circle",{style:wj,r:3,fill:p,children:d.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:B})}),y&&d.jsx("text",{style:Sj,x:V,y:(A+X)/2-8,children:y}),N&&w&&d.jsxs("g",{style:Nj,transform:`translate(${V}, ${H})`,onClick:Y,children:[d.jsx("circle",{cx:0,cy:0,r:12,style:Ej()}),d.jsx("text",{x:0,y:4,textAnchor:"middle",style:jj,children:""})]})]})});function Cj(){const{draggingWire:n,slotPositions:r}=Ae();if(!n)return null;const i=n.branchLabel||n.sourcePort,o=EE(n.sourceNodeId,i,r),c=o?.x??n.sourceX,f=o?.y??n.sourceY,h=n.nearbyPort?.x??n.dragX,m=n.nearbyPort?.y??n.dragY,g=n.sourcePort==="input",p=g?h:c,y=g?m:f,b=g?c:h,N=g?f:m;if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b)||!Number.isFinite(N))return null;const E=n.nearbyPort?"#22C55E":"#22D3EE";return d.jsx(rb,{fromNodeId:n.sourceNodeId,toNodeId:"",x1:p,y1:y,x2:b,y2:N,color:E,isDotted:!n.nearbyPort})}const Aj={pointerEvents:"none"},_j={fill:"#FACC15"},Oj={filter:"drop-shadow(0 2px 4px rgba(250, 204, 21, 0.3))"},Tj={fill:"rgba(250, 204, 21, 0.2)",stroke:"#FACC15",strokeWidth:1.5,strokeDasharray:"4 2"},Mj={fontSize:"9px",fontWeight:600,fill:"#facc15"},Dj={fill:"rgba(250, 204, 21, 0.3)",stroke:"#FACC15",strokeWidth:2},kj={pointerEvents:"none"},Rj={fill:"rgba(34, 197, 94, 0.25)",stroke:"#22C55E",strokeWidth:2},zj={fill:"#4ADE80",fontSize:"12px",fontWeight:600,fontFamily:"'JetBrains Mono', monospace"},Lj={fill:"#22C55E"};function Vj(){const{draggingOrphan:n}=Ae();if(!n)return null;const{fromX:r,fromY:i,toX:o,toY:c,opcode:f}=n;if(!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)||!Number.isFinite(c))return null;const h=o-r,m=c-i,g=Math.sqrt(h*h+m*m),p=f.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("g",{style:Aj,children:[d.jsx("path",{d:`M ${r} ${i} L ${o} ${c}`,fill:"none",stroke:"#FACC15",strokeWidth:2,strokeDasharray:"8 4",style:{animation:"dash-flow 0.5s linear infinite"}}),d.jsx("circle",{cx:r,cy:i,r:4,style:_j}),g>30&&d.jsxs("g",{transform:`translate(${o-40}, ${c-15})`,style:Oj,children:[d.jsx("rect",{width:80,height:30,rx:6,style:Tj}),d.jsx("text",{x:40,y:18,textAnchor:"middle",style:Mj,children:p.length>10?p.slice(0,10)+"...":p})]}),d.jsx("circle",{cx:o,cy:c,r:6,style:Dj})]})}function Bj(){const{draggingVariable:n}=Ae();if(!n)return null;const{toX:r,toY:i,name:o}=n;return d.jsxs("g",{style:kj,children:[d.jsxs("g",{transform:`translate(${r-40}, ${i-14})`,children:[d.jsx("rect",{width:80,height:28,rx:14,style:Rj}),d.jsxs("text",{x:40,y:18,textAnchor:"middle",style:zj,children:["$",o.length>8?o.slice(0,8)+"..":o]})]}),d.jsx("circle",{cx:r,cy:i,r:4,style:Lj})]})}const Go=160,qo=120,si=180,Zu=80,Qu=60,Ug=40,Hj=80,Uj=_("absolute bottom-4 left-6 rounded-sm border border-border-subtle overflow-hidden z-10 shadow-md cursor-pointer transition-colors hover:border-border-strong"),Ij={pointerEvents:"none"};function Ig(n){switch(n){case"control_flow":return"#FF9500";case"data":return"#4CAF50";case"io":return"#22D3EE";case"operator":return"#9C27B0";case"workflow_op":return"#E91E63";default:return"#64748B"}}function Yj({workflows:n,bounds:r,zoom:i,panX:o,panY:c,canvasWidth:f,canvasHeight:h,onNavigate:m}){const g=r.maxX-r.minX,p=r.maxY-r.minY,y=Math.min((Go-10)/Math.max(g,100),(qo-10)/Math.max(p,100)),b=z.useMemo(()=>{const w=(r.maxX+r.minX)/2,v=(r.maxY+r.minY)/2,j=f/i,A=h/i,O=w-o/i,X=v-c/i,B=(O-r.minX-j/2)*y+5,V=(X-r.minY-A/2)*y+5,H=j*y,$=A*y;return{x:B,y:V,width:H,height:$}},[r,i,o,c,f,h,y]),N=z.useCallback(w=>{const j=w.currentTarget.getBoundingClientRect(),A=w.clientX-j.left,O=w.clientY-j.top,X=(A-5)/y+r.minX,B=(O-5)/y+r.minY,V=(r.maxX+r.minX)/2,H=(r.maxY+r.minY)/2,$=(V-X)*i,Y=(H-B)*i;m($,Y)},[r,y,i,m]),E=z.useMemo(()=>{if(!n||n.length===0)return[];const w=[];let v=0;for(const j of n){let A=function(B,V,H){const $=Zu+Math.min(Object.keys(B.inputs).length,2)*18;w.push({x:(V-r.minX)*y+5,y:(H-r.minY)*y+5,width:si*y,height:$*y,color:Ig(B.type)}),X=Math.max(X,H+$);let Y=V+si+Qu,K=H+$+Ug;for(const te of B.children){let ue=V+si+Qu;for(const ie of te.children){const se=Zu+Math.min(Object.keys(ie.inputs).length,2)*18;w.push({x:(ue-r.minX)*y+5,y:(K-r.minY)*y+5,width:si*y,height:se*y,color:Ig(ie.type)}),X=Math.max(X,K+se),ue+=si+Qu,Y=Math.max(Y,ue)}K+=Zu+Ug*2}return Y},O=0,X=v;for(const B of j.children)O=A(B,O,v);v=X+Hj}return w},[n,r,y]);return!n||n.length===0||E.length===0?null:d.jsx("div",{className:k(Uj()),"aria-label":"Canvas minimap navigation",children:d.jsxs("svg",{width:Go,height:qo,onClick:N,style:{display:"block",cursor:"pointer"},role:"img","aria-label":"Minimap showing workflow overview. Click to navigate.",children:[d.jsx("rect",{x:0,y:0,width:Go,height:qo,fill:"var(--color-surface-2)",rx:4}),E.map((w,v)=>d.jsx("rect",{x:w.x,y:w.y,width:Math.max(w.width,2),height:Math.max(w.height,2),fill:w.color,opacity:.7,rx:1},v)),d.jsx("rect",{x:Math.max(0,b.x),y:Math.max(0,b.y),width:Math.min(b.width,Go),height:Math.min(b.height,qo),fill:"rgba(59, 130, 246, 0.15)",stroke:"var(--color-accent-blue)",strokeWidth:1.5,rx:2,style:Ij})]})})}const $j=_("absolute top-4 left-6 w-9 h-9 flex items-center justify-center bg-surface-1 border border-border-subtle rounded-sm text-text-secondary cursor-pointer z-10 shadow-md transition-colors hover:bg-surface-2 hover:border-border-strong hover:text-text-primary"),Gj=_("absolute top-4 left-6 flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm z-10 shadow-md text-text-secondary focus-within:border-accent-blue"),qj=_("bg-transparent border-none outline-none text-text-primary text-sm w-[180px] placeholder:text-text-muted"),Xj=_("text-xs text-text-muted whitespace-nowrap min-w-[60px] text-center"),Wj=_("flex gap-0.5"),Yg=_("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm transition-colors hover:bg-surface-2 hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent"),Zj=_("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm ml-1 transition-colors hover:bg-surface-2 hover:text-text-primary");function Qj(){const{tree:n}=lt(),{searchQuery:r,setSearchQuery:i,searchResults:o,setSearchResults:c}=Ae(),{selectNode:f}=nl(),[h,m]=z.useState(!1),[g,p]=z.useState(0),y=z.useRef(null);z.useEffect(()=>{if(!n||!r.trim()){c([]),p(0);return}const A=r.toLowerCase(),O=[];for(const X of n.workflows){const B=V=>{for(const H of V){const $=H.id.toLowerCase().includes(A),Y=H.opcode?.toLowerCase().includes(A),K=H.type.toLowerCase().includes(A);($||Y||K)&&O.push(H.id);for(const te of H.children)B(te.children)}};B(X.children)}c(O),p(0)},[r,n,c]),z.useEffect(()=>{const A=O=>{(O.ctrlKey||O.metaKey)&&O.key.toLowerCase()==="f"&&(O.target.closest(".monaco-editor")||(O.preventDefault(),m(!0),setTimeout(()=>y.current?.focus(),50))),O.key==="Escape"&&h&&b()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[h]);const b=z.useCallback(()=>{m(!1),i(""),c([]),p(0)},[i,c]),N=z.useCallback(A=>{i(A.target.value)},[i]),E=z.useCallback(A=>{if(o.length>0){const O=o[A];f(O),p(A)}},[o,f]),w=z.useCallback(()=>{if(o.length>0){const A=g>0?g-1:o.length-1;E(A)}},[g,o.length,E]),v=z.useCallback(()=>{if(o.length>0){const A=g<o.length-1?g+1:0;E(A)}},[g,o.length,E]),j=z.useCallback(A=>{A.key==="Enter"&&(A.shiftKey?w():v())},[w,v]);return h?d.jsxs("div",{className:k(Gj()),role:"search","aria-label":"Search nodes",children:[d.jsx($g,{}),d.jsx("input",{ref:y,type:"text",value:r,onChange:N,onKeyDown:j,placeholder:"Search nodes...",className:k(qj()),autoFocus:!0,"aria-label":"Search query","aria-describedby":r?"search-result-count":void 0}),r&&d.jsx("span",{id:"search-result-count",className:k(Xj()),"aria-live":"polite",children:o.length>0?`${g+1}/${o.length}`:"No results"}),d.jsxs("div",{className:k(Wj()),role:"group","aria-label":"Navigate results",children:[d.jsx("button",{onClick:w,disabled:o.length===0,"aria-label":"Previous result (Shift+Enter)",className:k(Yg()),children:d.jsx(Kj,{})}),d.jsx("button",{onClick:v,disabled:o.length===0,"aria-label":"Next result (Enter)",className:k(Yg()),children:d.jsx(Fj,{})})]}),d.jsx("button",{onClick:b,className:k(Zj()),"aria-label":"Close search (Escape)",children:d.jsx(Jj,{})})]}):d.jsx("button",{className:k($j()),onClick:()=>{m(!0),setTimeout(()=>y.current?.focus(),50)},"aria-label":"Search nodes (Ctrl+F)",children:d.jsx($g,{})})}function $g(){return d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"M21 21l-4.35-4.35"})]})}function Kj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 15l-6-6-6 6"})})}function Fj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M6 9l6 6 6-6"})})}function Jj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}const tn=24,la=28;function Pj(n,r,i,o){return{padding:tn,labelHeight:la,rect:{x:n-tn,y:r-tn-la,width:i+tn*2,height:o+tn*2+la},header:{x:n-tn,y:r-tn-la,width:i+tn*2,height:la+tn},label:{x:n-tn+12,y:r-tn-la+8},dragIcon:{x:n+i+tn-24,y:r-tn-la+10}}}function eC(n){return{fill:"transparent",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:2,strokeDasharray:"8 4",opacity:n?.4:.6}}function tC(n){return{fill:n?"rgba(59, 130, 246, 0.1)":"var(--color-surface-2)",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1}}function nC(n){return{fontSize:"11px",fontWeight:600,fill:n?"var(--color-accent-blue)":"var(--color-text-secondary)",fontFamily:"'Inter', sans-serif"}}const lC={cursor:"grab",pointerEvents:"all"},aC={pointerEvents:"none",color:"var(--color-text-muted)"};function rC({name:n,x:r,y:i,width:o,height:c,isMain:f,zoom:h,onDrag:m}){const g=z.useRef(!1),p=z.useRef({x:0,y:0}),y=Ae(v=>v.setIsDraggingWorkflow),b=Pj(r,i,o,c),N=z.useCallback(v=>{if(!m)return;v.stopPropagation(),v.preventDefault(),g.current=!0,p.current={x:v.clientX,y:v.clientY},y(!0);const j=O=>{if(!g.current)return;O.preventDefault();const X=(O.clientX-p.current.x)/h,B=(O.clientY-p.current.y)/h;p.current={x:O.clientX,y:O.clientY},m(X,B)},A=()=>{g.current=!1,y(!1),window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",A)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",A)},[m,h,y]),E=f&&n!=="main"?`${n} (main)`:n,w=E.length*7+24;return d.jsxs("g",{style:{pointerEvents:"none"},"data-workflow-group":n,children:[d.jsx("rect",{x:b.rect.x,y:b.rect.y,width:b.rect.width,height:b.rect.height,rx:12,style:eC(f??!1)}),d.jsx("rect",{x:b.header.x,y:b.header.y,width:b.header.width,height:b.header.height,fill:"transparent",style:lC,onMouseDown:N}),d.jsxs("g",{transform:`translate(${b.label.x}, ${b.label.y})`,children:[d.jsx("rect",{x:0,y:0,width:w,height:20,rx:4,style:tC(f??!1)}),d.jsx("text",{x:12,y:14,style:nC(f??!1),children:E})]}),d.jsxs("g",{transform:`translate(${b.dragIcon.x}, ${b.dragIcon.y})`,style:aC,children:[d.jsx("rect",{x:0,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:0,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4})]})]})}const ib=_("min-w-[160px] py-1 bg-surface-1 border border-border-subtle rounded-md shadow-lg animate-scale-in"),aa=_("w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm text-text-primary bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2",{variants:{variant:{default:"",danger:"text-accent-red hover:bg-accent-red/10"}},defaultVariants:{variant:"default"}}),ls=_("h-px my-1 mx-2 bg-border-subtle"),ra=_("w-4 text-center text-xs text-text-muted"),ia=_("flex-1"),Gg=_("text-xs text-text-muted");function iC({x:n,y:r,nodeId:i,hasReporters:o,reportersExpanded:c,isOrphan:f,onExpandReporters:h,onCollapseReporters:m,onDelete:g,onDuplicate:p,onClose:y,selectedNodeIds:b,onExtractToWorkflow:N}){const E=z.useRef(null);z.useEffect(()=>{const j=O=>{E.current&&!E.current.contains(O.target)&&y()},A=O=>{O.key==="Escape"&&y()};return document.addEventListener("mousedown",j),document.addEventListener("keydown",A),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",A)}},[y]);const w=Math.min(n,window.innerWidth-180),v=Math.min(r,window.innerHeight-200);return d.jsxs("div",{ref:E,className:k(ib()),style:{position:"fixed",left:w,top:v,zIndex:1e3},role:"menu","aria-label":"Node actions",children:[o&&d.jsxs(d.Fragment,{children:[c?d.jsxs("button",{className:k(aa()),onClick:()=>{m(),y()},role:"menuitem",children:[d.jsx("span",{className:k(ra()),children:""}),d.jsx("span",{className:k(ia()),children:"Collapse Reporters"})]}):d.jsxs("button",{className:k(aa()),onClick:()=>{h(),y()},role:"menuitem",children:[d.jsx("span",{className:k(ra()),children:""}),d.jsx("span",{className:k(ia()),children:"Expand Reporters"})]}),d.jsx("div",{className:k(ls()),role:"separator"})]}),d.jsxs("button",{className:k(aa()),onClick:()=>{p(),y()},role:"menuitem",children:[d.jsx("span",{className:k(ra()),children:""}),d.jsx("span",{className:k(ia()),children:"Duplicate"}),d.jsx("span",{className:k(Gg()),children:"Ctrl+D"})]}),d.jsx("div",{className:k(ls()),role:"separator"}),d.jsxs("button",{className:k(aa({variant:"danger"})),onClick:()=>{g(),y()},role:"menuitem",children:[d.jsx("span",{className:k(ra()),children:""}),d.jsx("span",{className:k(ia()),children:"Delete"}),d.jsx("span",{className:k(Gg()),children:"Del"})]}),b&&b.length>=2&&N&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:k(ls()),role:"separator"}),d.jsxs("button",{className:k(aa()),onClick:()=>{N(),y()},role:"menuitem",children:[d.jsx("span",{className:k(ra()),children:""}),d.jsx("span",{className:k(ia()),children:"Extract to Workflow"})]})]})]})}function oC({x:n,y:r,workflowName:i,onCreateWorkflow:o,onDeleteWorkflow:c,onClose:f}){const h=z.useRef(null);z.useEffect(()=>{const y=N=>{h.current&&!h.current.contains(N.target)&&f()},b=N=>{N.key==="Escape"&&f()};return document.addEventListener("mousedown",y),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",b)}},[f]);const m=Math.min(n,window.innerWidth-220),g=Math.min(r,window.innerHeight-120),p=i&&i!=="main";return d.jsxs("div",{ref:h,className:k(ib()),style:{position:"fixed",left:m,top:g,zIndex:1e3},role:"menu","aria-label":"Canvas actions",children:[d.jsxs("button",{className:k(aa()),onClick:()=>{o(),f()},role:"menuitem",children:[d.jsx("span",{className:k(ra()),children:"+"}),d.jsx("span",{className:k(ia()),children:"Create New Workflow"})]}),p&&c&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:k(ls()),role:"separator"}),d.jsxs("button",{className:k(aa({variant:"danger"})),onClick:()=>{c(i),f()},role:"menuitem",children:[d.jsx("span",{className:k(ra()),children:""}),d.jsxs("span",{className:k(ia()),children:['Delete "',i,'"']})]})]})]})}const sC=_("w-[320px] max-h-[480px] bg-surface-1 border border-border-subtle rounded-md shadow-lg flex flex-col animate-scale-in"),cC=_("p-2 border-b border-border-subtle"),uC=_("w-full px-3 py-1.5 text-sm bg-surface-2 border border-border-subtle rounded text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent-blue"),fC=_("flex-1 overflow-y-auto overflow-x-hidden"),dC=_("px-4 py-8 text-sm text-text-muted text-center"),hC=_("border-b border-border-subtle last:border-b-0"),mC=_("w-full flex items-center gap-2 px-3 py-2 text-left bg-surface-1 border-none cursor-pointer transition-colors hover:bg-surface-2 sticky top-0 z-10"),qg=_("w-5 h-5 flex items-center justify-center text-xs font-bold rounded transition-colors text-[var(--cat-color)] bg-[var(--cat-color)]/10"),pC=_("flex-1 text-sm font-medium text-text-primary"),gC=_("text-xs text-text-muted"),xC=_("w-4 text-xs text-text-muted transition-transform"),yC=_("bg-surface-0"),bC=_("w-full flex flex-col items-start gap-1 px-4 py-2 text-left bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2 border-b border-border-subtle last:border-b-0"),Xg=_("text-sm font-medium text-text-primary"),Wg=_("text-xs font-mono text-text-muted"),Zg=_("text-xs text-text-secondary line-clamp-2"),vC=_("w-full flex flex-col items-start gap-1 px-4 py-2.5 text-left bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2 border-b border-border-subtle last:border-b-0"),wC=_("font-semibold text-accent-blue"),SC=340,NC=500;function EC({x:n,y:r,opcodes:i,onSelect:o,onClose:c}){const f=z.useRef(null),h=z.useRef(null),[m,g]=z.useState(""),[p,y]=z.useState(null),b=Wy();z.useEffect(()=>{h.current?.focus()},[]),z.useEffect(()=>{const B=H=>{f.current&&!f.current.contains(H.target)&&c()},V=H=>{H.key==="Escape"&&c()};return document.addEventListener("mousedown",B),document.addEventListener("keydown",V),()=>{document.removeEventListener("mousedown",B),document.removeEventListener("keydown",V)}},[c]);const N=z.useMemo(()=>{const B={};for(const V of b)B[V.id]=[];B.other=[];for(const V of i){let H=!1;for(const $ of b)if(V.name.startsWith($.prefix)){B[$.id].push(V),H=!0;break}H||B.other.push(V)}return B},[i,b]),E=z.useMemo(()=>{if(!m)return null;const B=m.toLowerCase();return i.filter(V=>V.name.toLowerCase().includes(B)||(V.description?.toLowerCase().includes(B)??!1))},[i,m]),w=Math.min(n,window.innerWidth-SC),v=Math.min(r,window.innerHeight-NC),j=B=>{o(B),c()},A=z.useMemo(()=>{const B=b.map(H=>H.prefix).join("|"),V=new RegExp(`^(${B}|workflow_)`);return H=>H.replace(V,"").split("_").map($=>$.charAt(0).toUpperCase()+$.slice(1)).join(" ")},[b]),O=(B,V)=>{if(!V)return d.jsx(d.Fragment,{children:B});const H=B.toLowerCase(),$=V.toLowerCase(),Y=H.indexOf($);return Y===-1?d.jsx(d.Fragment,{children:B}):d.jsxs(d.Fragment,{children:[B.slice(0,Y),d.jsx("span",{className:k(wC()),children:B.slice(Y,Y+V.length)}),B.slice(Y+V.length)]})},X=(B,V,H,$,Y)=>{if(Y.length===0)return null;const K=p===B;return d.jsxs("div",{className:k(hC()),children:[d.jsxs("button",{className:k(mC()),onClick:()=>y(K?null:B),style:{"--cat-color":$},children:[d.jsx("span",{className:k(qg()),children:H}),d.jsx("span",{className:k(pC()),children:V}),d.jsx("span",{className:k(gC()),children:Y.length}),d.jsx("span",{className:k(xC()),style:{transform:K?"rotate(90deg)":"rotate(0deg)"},children:""})]}),K&&d.jsx("div",{className:k(yC()),children:Y.map(te=>d.jsxs("button",{className:k(bC()),onClick:()=>j(te),role:"menuitem",children:[d.jsx("span",{className:k(Xg()),children:A(te.name)}),d.jsx("span",{className:k(Wg()),children:te.name}),te.description&&d.jsx("span",{className:k(Zg()),children:te.description})]},te.name))})]},B)};return d.jsxs("div",{ref:f,className:k(sC()),style:{position:"fixed",left:w,top:v,zIndex:1e3},role:"menu","aria-label":"Add node menu",children:[d.jsx("div",{className:k(cC()),children:d.jsx("input",{ref:h,type:"text",placeholder:"Search opcodes...",value:m,onChange:B=>g(B.target.value),className:k(uC())})}),d.jsx("div",{className:k(fC()),children:E?d.jsx(d.Fragment,{children:E.length===0?d.jsx("p",{className:k(dC()),children:"No opcodes found"}):E.map(B=>{const V=Qy(B.name);return d.jsxs("button",{className:k(vC()),onClick:()=>j(B),role:"menuitem",style:V?{"--cat-color":V.color}:void 0,children:[d.jsxs("div",{className:"flex items-center gap-2 w-full",children:[V&&d.jsx("span",{className:k(qg()),children:V.icon}),d.jsx("span",{className:k(Xg()),children:O(A(B.name),m)})]}),d.jsx("span",{className:k(Wg()),children:O(B.name,m)}),B.description&&d.jsx("span",{className:k(Zg()),children:O(B.description,m)})]},B.name)})}):d.jsxs(d.Fragment,{children:[b.map(B=>X(B.id,B.label,B.icon,B.color,N[B.id])),X("other","Other","","#64748B",N.other)]})})]})}const wi=Fy.WIDTH,Rn=Fy.HEIGHT,Xo=Uf.HORIZONTAL,ui=Uf.VERTICAL,ob=Uf.WORKFLOW,jC=40;function CC(n,r){const o=n.inputs||[],c=n.outputs||[],f=o.length>0||c.length>0?18:0,h=Object.entries(r).slice(0,3),m=Object.keys(r).length>3,g=h.length*14+(m?12:0);return Math.max(lb,50+f+g+10)}const gf=12,xf=8,sb=16,AC=28;function cb(n,r,i){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const o=n.id||"",c=i?`${i}::${o}`:o;if(!(r[c]??!1))return{width:wi,height:Rn};const h=[];let m=0;if(n.inputs)for(const y of Object.values(n.inputs))y.type==="reporter"&&y.opcode?h.push(y):m++;let g=wi,p=Rn;if(h.length>0){let y=0,b=0;for(const N of h){const E=cb(N,r,i);y+=sb+E.height+xf,b=Math.max(b,E.width)}g=Math.max(g,b+gf*2),p=Rn+y}return m>0&&(p+=m*AC+xf),(h.length>0||m>0)&&(p+=gf),{width:g,height:p}}function _C(n,r,i){let o=0,c=wi;for(const f of Object.values(n))if(f.type==="reporter"&&f.opcode){const h=cb(f,r,i);o+=sb+h.height+xf,c=Math.max(c,h.width)}return{width:c,height:o}}function Ku(n,r,i,o,c){const f=c?`${c}::${n}`:n,h=o[f]??!1,m=BN(),p=i&&m.has(i)?20:0;if(!h)return{width:wi,height:Rn+p};const y=_C(r,o,c),b=y.width+gf*2,N=y.height;return{width:Math.max(wi,b),height:Rn+N+p}}function Qg(n){return Gy(n)}function Kg(n,r,i={},o={}){const c=[],f=[],h=[],m=[];let g=0;const p={};for(const y of n){p[y.name]={x:0,y:g};const b=Math.max(y.children.length*(Rn+ui),Rn+100);g+=b+ob}for(const y of n){const b=p[y.name],N=r[y.name]||{x:0,y:0},E={x:b.x+N.x,y:b.y+N.y},{nodes:w,connections:v,bounds:j,startNode:A}=OC(y,E.x,E.y,i,o);c.push(...w),f.push(...v),A&&m.push(A),h.push({name:y.name,x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY,isMain:y.name==="main"})}return{nodes:c,connections:f,groups:h,startNodes:m}}function OC(n,r,i,o={},c={}){const f=[],h=[],m=new Map,g=r,p=i,y={workflowName:n.name,workflowInterface:n.interface,variables:n.variables,x:g,y:p},b=r+el+jC;let N=1/0,E=1/0,w=-1/0,v=-1/0;function j(Y,K,te,ue){N=Math.min(N,Y),E=Math.min(E,K),w=Math.max(w,Y+te),v=Math.max(v,K+ue)}function A(Y,K,te,ue=!1){const ie=Ku(Y.id,Y.inputs,Y.opcode,c,n.name);f.push({node:Y,x:K,y:te,width:ie.width,height:ie.height,isOrphan:ue,workflowName:n.name}),m.set(Y.id,{x:K,y:te,width:ie.width,height:ie.height}),j(K,te,ie.width,ie.height);let se=K+ie.width+Xo;if(Y.children.length>0){let Z=te+ie.height+ui;const ae=Y.children.length;for(let D=0;D<ae;D++){const M=Y.children[D],R=Qg(M.name);let le=K+ie.width+Xo,J=Y.id,C=!0;for(const U of M.children){const P=Ku(U.id,U.inputs,U.opcode,c,n.name);f.push({node:U,x:le,y:Z,width:P.width,height:P.height,workflowName:n.name}),m.set(U.id,{x:le,y:Z,width:P.width,height:P.height}),j(le,Z,P.width,P.height),h.push({from:`${n.name}::${J}`,to:`${n.name}::${U.id}`,fromPort:C?M.name:"output",toPort:"input",color:R,label:C?M.name:void 0}),J=U.id,C=!1,le+=P.width+Xo,U.children.length>0&&(le=Math.max(le,O(U,le,Z)))}se=Math.max(se,le),Z+=Rn+ui*2}}return se}function O(Y,K,te){let ue=K;const se=m.get(Y.id)?.height||Rn;let Z=te+se+ui;const ae=Y.children.length;for(let D=0;D<ae;D++){const M=Y.children[D],R=Qg(M.name);let le=K,J=Y.id,C=!0;for(const U of M.children){const P=Ku(U.id,U.inputs,U.opcode,c,n.name);f.push({node:U,x:le,y:Z,width:P.width,height:P.height,workflowName:n.name}),m.set(U.id,{x:le,y:Z,width:P.width,height:P.height}),j(le,Z,P.width,P.height),h.push({from:`${n.name}::${J}`,to:`${n.name}::${U.id}`,fromPort:C?M.name:"output",toPort:"input",color:R,label:C?M.name:void 0}),J=U.id,C=!1,le+=P.width+Xo}ue=Math.max(ue,le),Z+=Rn+ui}return ue}const X=CC(n.interface,n.variables);j(g,p,el,X);let B=b,V=null,H=!0;for(const Y of n.children){const te=A(Y,B,i);H&&(h.push({from:`start-${n.name}`,to:`${n.name}::${Y.id}`,fromPort:"output",toPort:"input",color:"#22C55E"}),H=!1),V&&h.push({from:`${n.name}::${V.id}`,to:`${n.name}::${Y.id}`,fromPort:"output",toPort:"input",color:"#475569"}),V=Y,B=te}n.children.length===0&&(N=Math.min(N,g),E=Math.min(E,p),w=Math.max(w,g+el+20),v=Math.max(v,p+X));const $=n.orphans||[];if($.length>0){const Y=v+ob;let K=g;for(const te of $)K=A(te,K,Y,!0);for(const te of $)te.next&&h.push({from:`${n.name}::${te.id}`,to:`${n.name}::${te.next}`,fromPort:"output",toPort:"input",color:"#6B7280"})}for(const Y of f){const K=`${Y.workflowName}::${Y.node.id}`,te=o[K];te&&(Y.x+=te.x,Y.y+=te.y,j(Y.x,Y.y,Y.width,Y.height))}return{nodes:f,connections:h,bounds:{minX:N,minY:E,maxX:w,maxY:v},startNode:y}}function ub(n,r,i){const f=[...n].sort((h,m)=>m.y-h.y);for(const h of f)if(r>=h.x-16&&r<=h.x+h.width+16&&i>=h.y-28-16&&i<=h.y+h.height+16)return h.name;return null}const TC=_("flex-1 relative overflow-hidden"),MC=_("w-full h-full block"),DC=_("absolute bottom-4 right-4 flex items-center gap-1 bg-surface-1 p-1 rounded-sm border border-border-subtle z-10 shadow-md"),Fu=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm hover:bg-surface-2 hover:text-text-primary"),kC=_("w-px h-5 bg-border-subtle mx-1"),RC=_("min-w-10 text-center text-xs text-text-muted"),Fg=_("h-7 px-2.5 flex items-center justify-center gap-1.5 bg-transparent border-none text-text-secondary cursor-pointer rounded-sm text-xs font-medium transition-colors hover:bg-surface-2 hover:text-text-primary",{variants:{active:{true:"bg-surface-3 text-text-primary",false:""}},defaultVariants:{active:!1}}),zC=_("absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-3 px-5 py-3 bg-accent-red/15 border border-accent-red rounded-sm text-accent-red z-10 max-w-[80%]"),LC=_("text-lg"),VC=_("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-text-muted pointer-events-none"),BC=_("text-lg mb-2 text-text-secondary"),HC=_("text-sm");function yf(n,r,i=new Set){for(const o of Object.values(n))if(o.type==="reporter"&&o.id){const c=`${r}::${o.id}`;i.add(c),o.inputs&&yf(o.inputs,r,i)}return Array.from(i)}function Jg(n,r){const[i,o]=r.split("::"),c=n.find(m=>m.name===i);if(!c)return null;const f=m=>{for(const g of m){if(g.id===o)return g;for(const p of g.children){const y=f(p.children);if(y)return y}}return null},h=f(c.children);if(h)return{node:h,workflowName:i};if(c.orphans){const m=f(c.orphans);if(m)return{node:m,workflowName:i}}return null}function UC(){const{zoom:n,panX:r,panY:i,setZoom:o,setPan:c,resetView:f,workflowPositions:h,setWorkflowPosition:m,nodePositions:g,setNodePosition:p,layoutMode:y,setLayoutMode:b,setLayoutGroups:N,setCanvasCenter:E,contextMenu:w,hideContextMenu:v,setReportersExpanded:j,setMultipleReportersExpanded:A,expandedReporters:O,canvasContextMenu:X,showCanvasContextMenu:B,hideCanvasContextMenu:V,showCreateWorkflowModal:H,showConfirmDialog:$,showExtractWorkflowModal:Y,addNodeMenu:K,hideAddNodeMenu:te,openNodeEditor:ue}=Ae(),{tree:ie,parseError:se,source:Z,disconnectConnection:ae,deleteNode:D,duplicateNode:M,deleteWorkflow:R,addNodeConnected:le,opcodes:J}=lt(),{selectedConnection:C,selectConnection:U,selectedNodeIds:P,clearMultiSelection:re,selectNode:xe}=nl(),ge=z.useRef(null),[de,We]=z.useState({width:800,height:600});z.useEffect(()=>{const ce=()=>{ge.current&&We({width:ge.current.clientWidth,height:ge.current.clientHeight})};return ce(),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]);const{nodes:oe,connections:Ne,groups:Le,startNodes:Te}=ie?Kg(ie.workflows,h,g,O):{nodes:[],connections:[],groups:[],startNodes:[]},$e=24,Tt=28,Mt=Le.length>0?Le.reduce((ce,ve)=>({minX:Math.min(ce.minX,ve.x-$e),minY:Math.min(ce.minY,ve.y-$e-Tt),maxX:Math.max(ce.maxX,ve.x+ve.width+$e),maxY:Math.max(ce.maxY,ve.y+ve.height+$e)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}):{minX:0,minY:0,maxX:800,maxY:600},{centerX:wt,centerY:_e}=z.useMemo(()=>{if(!ie)return{centerX:400,centerY:300};const ve=Kg(ie.workflows,{}).groups.reduce((Ue,Qe)=>({minX:Math.min(Ue.minX,Qe.x-$e),minY:Math.min(Ue.minY,Qe.y-$e-Tt),maxX:Math.max(Ue.maxX,Qe.x+Qe.width+$e),maxY:Math.max(Ue.maxY,Qe.y+Qe.height+$e)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return{centerX:(ve.maxX+ve.minX)/2,centerY:(ve.maxY+ve.minY)/2}},[ie]),Wt=JSON.stringify(Le);z.useEffect(()=>{N(Le)},[Wt,N]),z.useEffect(()=>{E(wt,_e)},[wt,_e,E]),z.useEffect(()=>{const ce=ve=>{const Qe=ve.detail.workflowName,at=Le.find(dr=>dr.name===Qe);if(!at)return;const En=de.width/2,yn=de.height/2,mt=at.x+at.width/2,an=at.y+at.height/2,St=En-mt*n-(de.width/2-wt*n),fr=yn-an*n-(de.height/2-_e*n);c(St,fr)};return window.addEventListener("lexflow:goto-workflow",ce),()=>window.removeEventListener("lexflow:goto-workflow",ce)},[Le,n,c,de,wt,_e]);const{handleWheel:xn,handleMouseDown:Bt,handleMouseMove:Bl,handleMouseUp:sa,isDragging:et}=LE({svgRef:ge,centerX:wt,centerY:_e}),Pe=z.useCallback(ce=>{const ve=ce.target,Ue=ve.tagName==="svg"||ve.tagName==="rect"&&ve.getAttribute("fill")==="transparent",Qe=ve.closest("[data-workflow-group]")!==null;if(Ue||Qe)if(ce.preventDefault(),ge.current){const at=ge.current.getBoundingClientRect(),En=(ce.clientX-at.left-r-at.width/2)/n+wt,yn=(ce.clientY-at.top-i-at.height/2)/n+_e,mt=ub(Le,En,yn);B(ce.clientX,ce.clientY,mt||void 0)}else B(ce.clientX,ce.clientY)},[B,ge,r,i,n,wt,_e,Le]),al=z.useCallback((ce,ve)=>{c(ce,ve)},[c]),ca=z.useCallback(ce=>{if(!K)return;const ve=le(ce,K.sourceNodeId,K.workflowName);ve&&(xe(ve),ue()),te()},[K,le,xe,ue,te]);return d.jsxs("div",{className:k(TC()),"data-canvas-container":!0,children:[d.jsx(Qj,{}),d.jsxs("div",{className:k(DC()),role:"toolbar","aria-label":"Canvas controls",children:[d.jsx("button",{className:k(Fu()),onClick:()=>o(n-.1),"aria-label":"Zoom out",children:d.jsx(Ww,{})}),d.jsxs("span",{className:k(RC()),"aria-live":"polite",children:[Math.round(n*100),"%"]}),d.jsx("button",{className:k(Fu()),onClick:()=>o(n+.1),"aria-label":"Zoom in",children:d.jsx(Xw,{})}),d.jsx("button",{className:k(Fu()),onClick:f,"aria-label":"Fit to view",children:d.jsx(Zw,{})}),d.jsx("div",{className:k(kC())}),d.jsxs("button",{className:k(Fg({active:y==="auto"})),onClick:()=>b("auto"),"aria-label":"Auto layout","aria-pressed":y==="auto",children:[d.jsx(Qw,{}),"Auto"]}),d.jsx("button",{className:k(Fg({active:y==="free"})),onClick:()=>b("free"),"aria-label":"Free layout","aria-pressed":y==="free",children:"Free"})]}),ie&&d.jsx(Yj,{workflows:ie.workflows,bounds:Mt,zoom:n,panX:r,panY:i,canvasWidth:de.width,canvasHeight:de.height,onNavigate:al}),se&&d.jsxs("div",{className:k(zC()),children:[d.jsx("span",{className:k(LC()),children:""}),d.jsx("span",{children:se})]}),d.jsxs("svg",{ref:ge,className:k(MC()),onWheel:xn,onMouseDown:Bt,onMouseMove:Bl,onMouseUp:sa,onMouseLeave:sa,onContextMenu:Pe,style:{cursor:et?"grabbing":"grab"},role:"application","aria-label":"Workflow canvas. Use mouse to pan and scroll to zoom.",children:[d.jsx("rect",{width:"100%",height:"100%",fill:"transparent",style:{cursor:"inherit"}}),d.jsxs("g",{transform:`translate(${r+(ge.current?.clientWidth||800)/2-wt*n}, ${i+(ge.current?.clientHeight||600)/2-_e*n}) scale(${n})`,children:[Le.map(ce=>d.jsx(rC,{name:ce.name,x:ce.x,y:ce.y,width:ce.width,height:ce.height,isMain:ce.isMain,zoom:n,onDrag:(ve,Ue)=>{const Qe=Ae.getState().workflowPositions[ce.name]||{x:0,y:0};m(ce.name,Qe.x+ve,Qe.y+Ue)}},ce.name)),Ne.map((ce,ve)=>d.jsx(rb,{fromNodeId:ce.from,toNodeId:ce.to,fromPort:ce.fromPort,toPort:ce.toPort,color:ce.color,label:ce.label,isSelected:C?.fromNodeId===ce.from&&C?.toNodeId===ce.to,onSelect:()=>U({fromNodeId:ce.from,toNodeId:ce.to,label:ce.label}),onDelete:()=>{const Ue=xs(ce.from);ae(kl(ce.from),kl(ce.to),ce.label,Ue),U(null)}},`${ce.from}-${ce.to}-${ve}`)),Te.map(ce=>d.jsx(pj,{workflowName:ce.workflowName,workflowInterface:ce.workflowInterface,variables:ce.variables,x:ce.x,y:ce.y,zoom:n,onDrag:y==="free"?(ve,Ue)=>{const Qe=h[ce.workflowName]||{x:0,y:0};m(ce.workflowName,Qe.x+ve,Qe.y+Ue)}:void 0},`start-${ce.workflowName}`)),oe.map(ce=>{const ve=`${ce.workflowName}::${ce.node.id}`;return d.jsx(aj,{node:ce.node,x:ce.x,y:ce.y,isOrphan:ce.isOrphan,zoom:n,workflowName:ce.workflowName,onDrag:y==="free"?(Ue,Qe)=>{const at=g[ve]||{x:0,y:0};p(ve,at.x+Ue,at.y+Qe)}:void 0},ve)}),d.jsx(Cj,{}),d.jsx(Vj,{}),d.jsx(Bj,{})]})]}),!se&&!ie&&d.jsxs("div",{className:k(VC()),children:[d.jsx("h2",{className:k(BC()),children:"No Workflow"}),d.jsx("p",{className:k(HC()),children:"Edit YAML in the editor or load an example"})]}),w&&(()=>{const ce=kl(w.nodeId);return d.jsx(iC,{x:w.x,y:w.y,nodeId:ce,hasReporters:w.hasReporters,reportersExpanded:w.reportersExpanded,isOrphan:w.isOrphan,onExpandReporters:()=>{if(j(w.nodeId,!0),ie){const ve=Jg(ie.workflows,w.nodeId);if(ve){const Ue=yf(ve.node.inputs,ve.workflowName);Ue.length>0&&A(Ue,!0)}}},onCollapseReporters:()=>{if(j(w.nodeId,!1),ie){const ve=Jg(ie.workflows,w.nodeId);if(ve){const Ue=yf(ve.node.inputs,ve.workflowName);Ue.length>0&&A(Ue,!1)}}},onDelete:()=>{D(ce),re()},onDuplicate:()=>M(ce),onClose:v,selectedNodeIds:P,onExtractToWorkflow:()=>{const ve=P.length>0?P:[w.nodeId],Ue=ve.map(kl);if(Ue.length<2)return;let Qe=xs(ve[0])||"main";const at=_x(Z,Ue,Qe);if(!at.isValid){$({title:"Cannot Extract",message:at.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}});return}const En=R1(Z,Ue);Y(at.orderedNodeIds,Qe,En.suggestedInputs,En.suggestedOutputs)}})})(),X&&d.jsx(oC,{x:X.x,y:X.y,workflowName:X.workflowName,onCreateWorkflow:H,onDeleteWorkflow:ce=>{$({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${ce}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>R(ce)})},onClose:V}),K&&d.jsx(EC,{x:K.x,y:K.y,opcodes:J,onSelect:ca,onClose:te})]})}const IC="modulepreload",YC=function(n){return"/static/"+n},Pg={},$C=function(r,i,o){let c=Promise.resolve();if(i&&i.length>0){let g=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");c=g(i.map(p=>{if(p=YC(p),p in Pg)return;Pg[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const N=document.createElement("link");if(N.rel=y?"stylesheet":IC,y||(N.as="script"),N.crossOrigin="",N.href=p,m&&N.setAttribute("nonce",m),document.head.appendChild(N),y)return new Promise((E,w)=>{N.addEventListener("load",E),N.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return c.then(h=>{for(const m of h||[])m.status==="rejected"&&f(m.reason);return r().catch(f)})};function ex(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,o=Array(r);i<r;i++)o[i]=n[i];return o}function GC(n){if(Array.isArray(n))return n}function qC(n,r,i){return(r=JC(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function XC(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,f,h,m=[],g=!0,p=!1;try{if(f=(i=i.call(n)).next,r!==0)for(;!(g=(o=f.call(i)).done)&&(m.push(o.value),m.length!==r);g=!0);}catch(y){p=!0,c=y}finally{try{if(!g&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(p)throw c}}return m}}function WC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tx(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function nx(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?tx(Object(i),!0).forEach(function(o){qC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):tx(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function ZC(n,r){if(n==null)return{};var i,o,c=QC(n,r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);for(o=0;o<f.length;o++)i=f[o],r.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(c[i]=n[i])}return c}function QC(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}function KC(n,r){return GC(n)||XC(n,r)||PC(n,r)||WC()}function FC(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function JC(n){var r=FC(n,"string");return typeof r=="symbol"?r:r+""}function PC(n,r){if(n){if(typeof n=="string")return ex(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ex(n,r):void 0}}function eA(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function lx(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function ax(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?lx(Object(i),!0).forEach(function(o){eA(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):lx(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function tA(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(o){return r.reduceRight(function(c,f){return f(c)},o)}}function fi(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function ys(n){return{}.toString.call(n).includes("Object")}function nA(n){return!Object.keys(n).length}function Si(n){return typeof n=="function"}function lA(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function aA(n,r){return ys(r)||zl("changeType"),Object.keys(r).some(function(i){return!lA(n,i)})&&zl("changeField"),r}function rA(n){Si(n)||zl("selectorType")}function iA(n){Si(n)||ys(n)||zl("handlerType"),ys(n)&&Object.values(n).some(function(r){return!Si(r)})&&zl("handlersType")}function oA(n){n||zl("initialIsRequired"),ys(n)||zl("initialType"),nA(n)&&zl("initialContent")}function sA(n,r){throw new Error(n[r]||n.default)}var cA={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},zl=fi(sA)(cA),Wo={changes:aA,selector:rA,handler:iA,initial:oA};function uA(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wo.initial(n),Wo.handler(r);var i={current:n},o=fi(hA)(i,r),c=fi(dA)(i),f=fi(Wo.changes)(n),h=fi(fA)(i);function m(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return Wo.selector(p),p(i.current)}function g(p){tA(o,c,f,h)(p)}return[m,g]}function fA(n,r){return Si(r)?r(n.current):r}function dA(n,r){return n.current=ax(ax({},n.current),r),r}function hA(n,r,i){return Si(r)?r(n.current):Object.keys(i).forEach(function(o){var c;return(c=r[o])===null||c===void 0?void 0:c.call(r,n.current[o])}),i}var mA={create:uA},pA={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function gA(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function xA(n){return{}.toString.call(n).includes("Object")}function yA(n){return n||rx("configIsRequired"),xA(n)||rx("configType"),n.urls?(bA(),{paths:{vs:n.urls.monacoBase}}):n}function bA(){console.warn(fb.deprecation)}function vA(n,r){throw new Error(n[r]||n.default)}var fb={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},rx=gA(vA)(fb),wA={config:yA},SA=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(c){return i.reduceRight(function(f,h){return h(f)},c)}};function db(n,r){return Object.keys(r).forEach(function(i){r[i]instanceof Object&&n[i]&&Object.assign(r[i],db(n[i],r[i]))}),nx(nx({},n),r)}var NA={type:"cancelation",msg:"operation is manually canceled"};function Ju(n){var r=!1,i=new Promise(function(o,c){n.then(function(f){return r?c(NA):o(f)}),n.catch(c)});return i.cancel=function(){return r=!0},i}var EA=["monaco"],jA=mA.create({config:pA,isInitialized:!1,resolve:null,reject:null,monaco:null}),hb=KC(jA,2),_i=hb[0],Ss=hb[1];function CA(n){var r=wA.config(n),i=r.monaco,o=ZC(r,EA);Ss(function(c){return{config:db(c.config,o),monaco:i}})}function AA(){var n=_i(function(r){var i=r.monaco,o=r.isInitialized,c=r.resolve;return{monaco:i,isInitialized:o,resolve:c}});if(!n.isInitialized){if(Ss({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Ju(Pu);if(window.monaco&&window.monaco.editor)return mb(window.monaco),n.resolve(window.monaco),Ju(Pu);SA(_A,TA)(MA)}return Ju(Pu)}function _A(n){return document.body.appendChild(n)}function OA(n){var r=document.createElement("script");return n&&(r.src=n),r}function TA(n){var r=_i(function(o){var c=o.config,f=o.reject;return{config:c,reject:f}}),i=OA("".concat(r.config.paths.vs,"/loader.js"));return i.onload=function(){return n()},i.onerror=r.reject,i}function MA(){var n=_i(function(i){var o=i.config,c=i.resolve,f=i.reject;return{config:o,resolve:c,reject:f}}),r=window.require;r.config(n.config),r(["vs/editor/editor.main"],function(i){var o=i.m||i;mb(o),n.resolve(o)},function(i){n.reject(i)})}function mb(n){_i().monaco||Ss({monaco:n})}function DA(){return _i(function(n){var r=n.monaco;return r})}var Pu=new Promise(function(n,r){return Ss({resolve:n,reject:r})}),pb={config:CA,init:AA,__getMonacoInstance:DA},kA={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},ef=kA,RA={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},zA=RA;function LA({children:n}){return Mn.createElement("div",{style:zA.container},n)}var VA=LA,BA=VA;function HA({width:n,height:r,isEditorReady:i,loading:o,_ref:c,className:f,wrapperProps:h}){return Mn.createElement("section",{style:{...ef.wrapper,width:n,height:r},...h},!i&&Mn.createElement(BA,null,o),Mn.createElement("div",{ref:c,style:{...ef.fullWidth,...!i&&ef.hide},className:f}))}var UA=HA,gb=z.memo(UA);function IA(n){z.useEffect(n,[])}var xb=IA;function YA(n,r,i=!0){let o=z.useRef(!0);z.useEffect(o.current||!i?()=>{o.current=!1}:n,r)}var nn=YA;function mi(){}function tr(n,r,i,o){return $A(n,o)||GA(n,r,i,o)}function $A(n,r){return n.editor.getModel(yb(n,r))}function GA(n,r,i,o){return n.editor.createModel(r,i,o?yb(n,o):void 0)}function yb(n,r){return n.Uri.parse(r)}function qA({original:n,modified:r,language:i,originalLanguage:o,modifiedLanguage:c,originalModelPath:f,modifiedModelPath:h,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:g=!1,theme:p="light",loading:y="Loading...",options:b={},height:N="100%",width:E="100%",className:w,wrapperProps:v={},beforeMount:j=mi,onMount:A=mi}){let[O,X]=z.useState(!1),[B,V]=z.useState(!0),H=z.useRef(null),$=z.useRef(null),Y=z.useRef(null),K=z.useRef(A),te=z.useRef(j),ue=z.useRef(!1);xb(()=>{let ae=pb.init();return ae.then(D=>($.current=D)&&V(!1)).catch(D=>D?.type!=="cancelation"&&console.error("Monaco initialization: error:",D)),()=>H.current?Z():ae.cancel()}),nn(()=>{if(H.current&&$.current){let ae=H.current.getOriginalEditor(),D=tr($.current,n||"",o||i||"text",f||"");D!==ae.getModel()&&ae.setModel(D)}},[f],O),nn(()=>{if(H.current&&$.current){let ae=H.current.getModifiedEditor(),D=tr($.current,r||"",c||i||"text",h||"");D!==ae.getModel()&&ae.setModel(D)}},[h],O),nn(()=>{let ae=H.current.getModifiedEditor();ae.getOption($.current.editor.EditorOption.readOnly)?ae.setValue(r||""):r!==ae.getValue()&&(ae.executeEdits("",[{range:ae.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),ae.pushUndoStop())},[r],O),nn(()=>{H.current?.getModel()?.original.setValue(n||"")},[n],O),nn(()=>{let{original:ae,modified:D}=H.current.getModel();$.current.editor.setModelLanguage(ae,o||i||"text"),$.current.editor.setModelLanguage(D,c||i||"text")},[i,o,c],O),nn(()=>{$.current?.editor.setTheme(p)},[p],O),nn(()=>{H.current?.updateOptions(b)},[b],O);let ie=z.useCallback(()=>{if(!$.current)return;te.current($.current);let ae=tr($.current,n||"",o||i||"text",f||""),D=tr($.current,r||"",c||i||"text",h||"");H.current?.setModel({original:ae,modified:D})},[i,r,c,n,o,f,h]),se=z.useCallback(()=>{!ue.current&&Y.current&&(H.current=$.current.editor.createDiffEditor(Y.current,{automaticLayout:!0,...b}),ie(),$.current?.editor.setTheme(p),X(!0),ue.current=!0)},[b,p,ie]);z.useEffect(()=>{O&&K.current(H.current,$.current)},[O]),z.useEffect(()=>{!B&&!O&&se()},[B,O,se]);function Z(){let ae=H.current?.getModel();m||ae?.original?.dispose(),g||ae?.modified?.dispose(),H.current?.dispose()}return Mn.createElement(gb,{width:E,height:N,isEditorReady:O,loading:y,_ref:Y,className:w,wrapperProps:v})}var XA=qA;z.memo(XA);function WA(n){let r=z.useRef();return z.useEffect(()=>{r.current=n},[n]),r.current}var ZA=WA,Zo=new Map;function QA({defaultValue:n,defaultLanguage:r,defaultPath:i,value:o,language:c,path:f,theme:h="light",line:m,loading:g="Loading...",options:p={},overrideServices:y={},saveViewState:b=!0,keepCurrentModel:N=!1,width:E="100%",height:w="100%",className:v,wrapperProps:j={},beforeMount:A=mi,onMount:O=mi,onChange:X,onValidate:B=mi}){let[V,H]=z.useState(!1),[$,Y]=z.useState(!0),K=z.useRef(null),te=z.useRef(null),ue=z.useRef(null),ie=z.useRef(O),se=z.useRef(A),Z=z.useRef(),ae=z.useRef(o),D=ZA(f),M=z.useRef(!1),R=z.useRef(!1);xb(()=>{let C=pb.init();return C.then(U=>(K.current=U)&&Y(!1)).catch(U=>U?.type!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>te.current?J():C.cancel()}),nn(()=>{let C=tr(K.current,n||o||"",r||c||"",f||i||"");C!==te.current?.getModel()&&(b&&Zo.set(D,te.current?.saveViewState()),te.current?.setModel(C),b&&te.current?.restoreViewState(Zo.get(f)))},[f],V),nn(()=>{te.current?.updateOptions(p)},[p],V),nn(()=>{!te.current||o===void 0||(te.current.getOption(K.current.editor.EditorOption.readOnly)?te.current.setValue(o):o!==te.current.getValue()&&(R.current=!0,te.current.executeEdits("",[{range:te.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),te.current.pushUndoStop(),R.current=!1))},[o],V),nn(()=>{let C=te.current?.getModel();C&&c&&K.current?.editor.setModelLanguage(C,c)},[c],V),nn(()=>{m!==void 0&&te.current?.revealLine(m)},[m],V),nn(()=>{K.current?.editor.setTheme(h)},[h],V);let le=z.useCallback(()=>{if(!(!ue.current||!K.current)&&!M.current){se.current(K.current);let C=f||i,U=tr(K.current,o||n||"",r||c||"",C||"");te.current=K.current?.editor.create(ue.current,{model:U,automaticLayout:!0,...p},y),b&&te.current.restoreViewState(Zo.get(C)),K.current.editor.setTheme(h),m!==void 0&&te.current.revealLine(m),H(!0),M.current=!0}},[n,r,i,o,c,f,p,y,b,h,m]);z.useEffect(()=>{V&&ie.current(te.current,K.current)},[V]),z.useEffect(()=>{!$&&!V&&le()},[$,V,le]),ae.current=o,z.useEffect(()=>{V&&X&&(Z.current?.dispose(),Z.current=te.current?.onDidChangeModelContent(C=>{R.current||X(te.current.getValue(),C)}))},[V,X]),z.useEffect(()=>{if(V){let C=K.current.editor.onDidChangeMarkers(U=>{let P=te.current.getModel()?.uri;if(P&&U.find(re=>re.path===P.path)){let re=K.current.editor.getModelMarkers({resource:P});B?.(re)}});return()=>{C?.dispose()}}return()=>{}},[V,B]);function J(){Z.current?.dispose(),N?b&&Zo.set(f,te.current.saveViewState()):te.current.getModel()?.dispose(),te.current.dispose()}return Mn.createElement(gb,{width:E,height:w,isEditorReady:V,loading:g,_ref:ue,className:v,wrapperProps:j})}var KA=QA,FA=z.memo(KA),JA=FA;const bb=_("flex flex-col h-full"),vb=_("flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-surface-2"),wb=_("text-sm font-medium text-text-secondary"),PA=_("text-xs text-accent-blue animate-pulse"),Sb=_("flex-1 overflow-hidden"),e_=z.lazy(()=>$C(()=>import("./LiteEditor-Dnz8f8Uv.js"),[]).then(n=>({default:n.LiteEditor})));function t_(){return d.jsxs("div",{className:k(bb()),children:[d.jsx("div",{className:vb(),children:d.jsx("span",{className:wb(),children:"Editor"})}),d.jsx("div",{className:k(Sb(),"flex items-center justify-center"),children:d.jsx("span",{className:"text-text-muted text-sm",children:"Loading editor..."})})]})}function n_({className:n,lite:r=!1}){const{source:i,setSource:o,isParsing:c}=lt(),{theme:f}=Px();if(r)return d.jsx(z.Suspense,{fallback:d.jsx(t_,{}),children:d.jsx(e_,{className:n,value:i,onChange:o,isParsing:c})});const h=z.useRef(null),m=z.useRef(null);z.useEffect(()=>{const p=y=>{const b=h.current;if(b){const N=y.detail.line;b.revealLineInCenter(N),b.setPosition({lineNumber:N,column:1}),b.focus(),b.deltaDecorations([],[{range:{startLineNumber:N,startColumn:1,endLineNumber:N,endColumn:1},options:{isWholeLine:!0,className:"highlighted-line",glyphMarginClassName:"highlighted-glyph"}}])}};return window.addEventListener("lexflow:goto-line",p),()=>{window.removeEventListener("lexflow:goto-line",p)}},[]),z.useEffect(()=>{if(m.current&&h.current){const p=m.current,y=f==="light"?"lexflow-light":"lexflow-dark";p.editor.setTheme(y)}},[f]);const g=(p,y)=>{h.current=p,m.current=y,y.editor.defineTheme("lexflow-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1e1e1e","editor.lineHighlightBackground":"#2d2d2d"}}),y.editor.defineTheme("lexflow-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#fafafa","editor.lineHighlightBackground":"#f0f0f0"}});const b=f==="light"?"lexflow-light":"lexflow-dark";y.editor.setTheme(b)};return d.jsxs("div",{className:k(bb(),n),children:[d.jsxs("div",{className:vb(),children:[d.jsx("span",{className:wb(),children:"Editor"}),c&&d.jsx("span",{className:PA(),children:"Parsing..."})]}),d.jsx("div",{className:Sb(),children:d.jsx(JA,{height:"100%",language:"yaml",theme:f==="light"?"lexflow-light":"lexflow-dark",value:i,onChange:p=>o(p||""),onMount:g,options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0}})})]})}const l_=_("absolute inset-0 flex items-center justify-center bg-black/60 z-[100] backdrop-blur-sm"),a_=_("bg-surface-1 border border-border-default rounded-sm p-6 min-w-[300px] max-w-[400px] shadow-xl"),tf=_("block text-sm text-text-primary mb-4 leading-relaxed"),r_=_("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 transition-colors focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue/20"),i_=_("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 cursor-pointer transition-colors focus:outline-none focus:border-accent-blue"),nf=_("flex gap-3 justify-end"),lf=_("px-5 py-2.5 bg-accent-blue border-none rounded-sm text-surface-0 font-medium text-sm cursor-pointer transition-all hover:brightness-110 focus:outline-none focus:ring-1 focus:ring-accent-blue/30"),o_=_("px-5 py-2.5 bg-transparent border border-border-default rounded-sm text-text-secondary font-medium text-sm cursor-pointer transition-colors hover:bg-surface-2 hover:text-text-primary"),s_=_("flex justify-center"),c_=_("px-8 py-3 bg-accent-blue border-none rounded-sm text-white font-semibold text-base cursor-pointer transition-all shadow-lg hover:brightness-110 hover:-translate-y-px focus:outline-none focus:ring-1 focus:ring-accent-blue/30");function u_({prompt:n,onSubmit:r}){const[i,o]=z.useState(""),[c,f]=z.useState(n.options?.[0]||""),h=z.useRef(null);z.useEffect(()=>{n.type==="input"&&h.current&&h.current.focus()},[n.type]),z.useEffect(()=>{o(""),n.options?.length&&f(n.options[0])},[n]);const m=b=>{b.preventDefault(),r(i)},g=b=>{b.preventDefault(),r(c)},p=b=>{r(b)},y=b=>{b.key==="Escape"&&n.type==="confirm"&&r(!1)};return d.jsx("div",{className:k(l_()),onKeyDown:y,role:"presentation",children:d.jsxs("div",{className:k(a_()),role:"dialog","aria-modal":"true","aria-labelledby":"prompt-label",children:[n.type==="input"&&d.jsxs("form",{onSubmit:m,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-input",className:k(tf()),children:n.prompt||"Enter a value:"}),d.jsx("input",{ref:h,id:"prompt-input",type:"text",value:i,onChange:b=>o(b.target.value),className:k(r_()),placeholder:"Type here..."}),d.jsx("div",{className:k(nf()),children:d.jsx("button",{type:"submit",className:k(lf()),children:"Submit"})})]}),n.type==="select"&&d.jsxs("form",{onSubmit:g,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-select",className:k(tf()),children:n.prompt||"Select an option:"}),d.jsx("select",{id:"prompt-select",value:c,onChange:b=>f(b.target.value),className:k(i_()),children:n.options?.map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx("div",{className:k(nf()),children:d.jsx("button",{type:"submit",className:k(lf()),children:"Select"})})]}),n.type==="confirm"&&d.jsxs("div",{children:[d.jsx("p",{id:"prompt-label",className:k(tf()),children:n.message||n.prompt||"Are you sure?"}),d.jsxs("div",{className:k(nf()),children:[d.jsx("button",{className:k(o_()),onClick:()=>p(!1),children:"No"}),d.jsx("button",{className:k(lf()),onClick:()=>p(!0),autoFocus:!0,children:"Yes"})]})]}),n.type==="button"&&d.jsx("div",{className:k(s_()),children:d.jsx("button",{id:"prompt-label",className:k(c_()),onClick:()=>r(!0),autoFocus:!0,children:n.label||"Click"})})]})})}const f_=_("flex flex-col relative min-h-[100px] max-h-[600px]"),d_=_("absolute top-0 left-0 right-0 h-1.5 cursor-ns-resize bg-transparent z-10 transition-colors hover:bg-accent-blue/50",{variants:{isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{isResizing:!1}}),h_=_("flex items-center justify-between px-3 py-1.5 border-b border-border-subtle bg-surface-1"),m_=_("flex items-center gap-2"),p_=_("text-sm font-medium text-text-secondary"),g_=_("w-1.5 h-1.5 rounded-full",{variants:{status:{idle:"bg-text-muted",running:"bg-accent-green animate-pulse",error:"bg-accent-red"}},defaultVariants:{status:"idle"}}),x_=_("flex items-center gap-1"),ix=_("w-px h-5 bg-border-subtle mx-1"),ox=_("h-7 px-2.5 bg-transparent border border-border-subtle rounded-sm text-text-muted text-xs font-medium cursor-pointer transition-colors hover:text-text-primary hover:border-text-muted",{variants:{active:{true:"bg-surface-3 text-text-primary border-border-default",false:""}},defaultVariants:{active:!1}}),y_=_("h-7 px-3 flex items-center gap-1.5 bg-accent-green border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110 disabled:opacity-60 disabled:cursor-not-allowed"),b_=_("h-7 px-3 flex items-center gap-1.5 bg-accent-red border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110"),sx=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),v_=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),w_=_("flex items-center gap-3 px-4 py-2 border-b border-border-subtle shrink-0"),S_=_("text-xs text-text-muted"),N_=_("flex items-center gap-1.5"),E_=_("text-xs text-text-secondary"),j_=_("px-2.5 py-1.5 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm w-30 focus:outline-none focus:border-accent-blue"),C_=_("flex items-center gap-2.5 px-4 py-2 border-b border-border-subtle shrink-0"),A_=_("flex-1 h-1.5 bg-surface-3 rounded-none overflow-hidden"),__=_("h-full bg-accent-blue transition-[width] duration-200"),O_=_("text-xs text-text-muted whitespace-nowrap"),T_=_("flex-1 flex overflow-hidden"),cx=_("flex-1 flex flex-col overflow-hidden min-w-[200px]"),ux=_("flex items-center px-4 py-1.5 bg-surface-2 border-b border-border-subtle text-xs font-medium text-text-muted uppercase tracking-wide"),fx=_("flex-1 p-4 overflow-auto"),M_=_("w-px bg-border-subtle cursor-col-resize shrink-0 hover:bg-accent-blue"),D_=_("flex-1 flex items-center justify-center text-text-muted text-sm"),dx=_("text-text-muted text-sm italic"),k_=_("font-mono text-sm text-text-secondary whitespace-pre-wrap break-words"),R_=_("text-accent-red text-sm"),z_=_("flex gap-2 mt-2 pt-2 border-t border-border-subtle"),L_=_("text-xs text-text-muted"),V_=_("font-mono text-sm text-accent-green"),B_=_("text-accent-blue animate-blink"),H_=_("absolute bottom-3 right-3 flex flex-col gap-2 max-w-[300px] z-50"),U_=_("flex items-center justify-between gap-3 px-4 py-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-primary shadow-lg animate-slide-in-right",{variants:{variant:{info:"border-l-[3px] border-l-accent-blue",success:"border-l-[3px] border-l-accent-green",warning:"border-l-[3px] border-l-accent-amber",error:"border-l-[3px] border-l-accent-red"}},defaultVariants:{variant:"info"}}),I_=_("bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary"),Y_=_("p-3 bg-surface-2 rounded-sm text-sm text-text-primary"),$_=_("p-2 text-sm text-text-primary [&_h1]:text-xl [&_h1]:mb-2 [&_h2]:text-lg [&_h2]:mb-1.5 [&_h3]:text-base [&_h3]:mb-1 [&_p]:mb-2 [&_p]:leading-relaxed [&_code]:bg-surface-3 [&_code]:px-1 [&_code]:rounded [&_code]:font-mono [&_code]:text-[0.85em] [&_strong]:text-text-primary"),G_=_("overflow-x-auto"),q_=_("w-full border-collapse text-sm"),X_=_("px-3 py-2 text-left border-b border-border-subtle bg-surface-2 text-text-secondary font-medium"),W_=_("px-3 py-2 text-left border-b border-border-subtle text-text-primary"),Z_=_("max-w-full"),Q_=_("max-w-full h-auto rounded-sm"),K_=100,F_=600,J_=250;function P_({className:n}){const{source:r,tree:i}=lt(),{isExecuting:o,executionOutput:c,executionResult:f,executionError:h,workflowInputs:m,pendingPrompt:g,renderedContent:p,alerts:y,progress:b,removeAlert:N,clearWorkflowInputs:E}=pi(),{toggleExecutionPanel:w}=Ae(),{execute:v,cancel:j,respondToPrompt:A}=kE(),O=z.useRef(null),X=z.useRef(null),[B,V]=z.useState(J_),[H,$]=z.useState(!1),[Y,K]=z.useState(!0),[te,ue]=z.useState(!0),ie=i?.interface?.inputs||[],se=JSON.stringify(ie);z.useEffect(()=>{E()},[se,E]),z.useEffect(()=>{O.current&&(O.current.scrollTop=O.current.scrollHeight)},[c]),z.useEffect(()=>{if(y.length>0){const M=setTimeout(()=>{N(y[0].id)},5e3);return()=>clearTimeout(M)}},[y,N]);const Z=z.useCallback(M=>{M.preventDefault(),$(!0)},[]);z.useEffect(()=>{if(!H)return;const M=le=>{if(!X.current)return;const J=X.current.parentElement;if(!J)return;const U=J.getBoundingClientRect().bottom-le.clientY;V(Math.min(F_,Math.max(K_,U)))},R=()=>{$(!1)};return document.addEventListener("mousemove",M),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",R)}},[H]);const ae=()=>{const M={};for(const R of ie)R in m&&(M[R]=m[R]);v(r,Object.keys(M).length>0?M:void 0)},D=()=>{j()};return d.jsxs("div",{ref:X,className:k(f_(),n),style:{height:`${B}px`},children:[d.jsx("div",{className:d_({isResizing:H}),onMouseDown:Z}),d.jsxs("div",{className:h_(),children:[d.jsxs("div",{className:m_(),children:[d.jsx("span",{className:p_(),children:"Execution"}),d.jsx("span",{className:g_({status:o?"running":h?"error":"idle"})})]}),d.jsxs("div",{className:x_(),children:[d.jsx("button",{className:ox({active:Y}),onClick:()=>K(!Y),title:"Toggle Preview",children:"Preview"}),d.jsx("button",{className:ox({active:te}),onClick:()=>ue(!te),title:"Toggle Console",children:"Console"}),d.jsx("div",{className:ix()}),o?d.jsxs("button",{className:b_(),onClick:D,children:[d.jsx(Fw,{}),"Stop"]}):d.jsxs("button",{className:y_(),onClick:ae,children:[d.jsx(Kw,{}),"Run"]}),d.jsx("button",{className:sx(),title:"Step forward (coming soon)",disabled:!0,children:d.jsx(Jw,{})}),d.jsx("button",{className:sx(),onClick:()=>pi.getState().clearExecution(),title:"Clear output",children:d.jsx(Pw,{})}),d.jsx("div",{className:ix()}),d.jsx("button",{className:v_(),onClick:w,title:"Close panel",children:d.jsx(e2,{})})]})]}),ie.length>0&&d.jsxs("div",{className:w_(),children:[d.jsx("span",{className:S_(),children:"Inputs:"}),ie.map(M=>d.jsx(eO,{name:M},M))]}),b&&d.jsxs("div",{className:C_(),children:[d.jsx("div",{className:A_(),children:d.jsx("div",{className:__(),style:{width:`${b.value/b.max*100}%`}})}),b.label&&d.jsx("span",{className:O_(),children:b.label})]}),d.jsxs("div",{className:T_(),children:[Y&&d.jsxs("div",{className:cx(),children:[d.jsx("div",{className:ux(),children:d.jsx("span",{children:"Preview"})}),d.jsx("div",{className:fx(),children:p.length>0?p.map((M,R)=>d.jsx(tO,{item:M},R)):d.jsx("div",{className:dx(),children:"No preview content"})})]}),Y&&te&&d.jsx("div",{className:M_()}),te&&d.jsxs("div",{className:cx(),children:[d.jsx("div",{className:ux(),children:d.jsx("span",{children:"Console"})}),d.jsx("div",{className:fx(),children:h?d.jsx("div",{className:R_(),children:h}):d.jsxs(d.Fragment,{children:[c&&d.jsxs("pre",{ref:O,className:k_(),children:[c,o&&d.jsx("span",{className:B_(),children:"|"})]}),f!==null&&!o&&d.jsxs("div",{className:z_(),children:[d.jsx("span",{className:L_(),children:"Result:"}),d.jsx("code",{className:V_(),children:JSON.stringify(f,null,2)})]}),!c&&!f&&!o&&d.jsx("div",{className:dx(),children:'Click "Run" to execute the workflow'})]})})]}),!Y&&!te&&d.jsx("div",{className:D_(),children:"Toggle Preview or Console to view execution output"})]}),y.length>0&&d.jsx("div",{className:H_(),children:y.map(M=>d.jsx(lO,{alert:M,onDismiss:()=>N(M.id)},M.id))}),g&&d.jsx(u_,{prompt:g,onSubmit:A})]})}function eO({name:n}){const{workflowInputs:r,setWorkflowInput:i}=pi(),o=r[n]??"";return d.jsxs("div",{className:N_(),children:[d.jsxs("label",{className:E_(),children:[n,":"]}),d.jsx("input",{type:"text",value:String(o),onChange:c=>{const f=c.target.value;try{i(n,JSON.parse(f))}catch{i(n,f)}},placeholder:`Enter ${n}`,className:j_()})]})}function tO({item:n}){switch(n.type){case"html":return d.jsx("div",{className:Y_(),dangerouslySetInnerHTML:{__html:n.content}});case"markdown":return d.jsx("div",{className:$_(),children:d.jsx(nO,{content:n.content})});case"table":const r=n.content;if(!r.length)return null;const i=Object.keys(r[0]);return d.jsx("div",{className:G_(),children:d.jsxs("table",{className:q_(),children:[d.jsx("thead",{children:d.jsx("tr",{children:i.map(c=>d.jsx("th",{className:X_(),children:c},c))})}),d.jsx("tbody",{children:r.map((c,f)=>d.jsx("tr",{className:"hover:bg-surface-2",children:i.map(h=>d.jsx("td",{className:W_(),children:String(c[h]??"")},h))},f))})]})});case"image":const o=n.content;return d.jsx("div",{className:Z_(),children:d.jsx("img",{src:o.src,alt:o.alt,className:Q_()})});default:return null}}function nO({content:n}){const r=n.split(`
`),i=[];for(let o=0;o<r.length;o++){const c=r[o];if(c.startsWith("### "))i.push(d.jsx("h3",{children:c.slice(4)},o));else if(c.startsWith("## "))i.push(d.jsx("h2",{children:c.slice(3)},o));else if(c.startsWith("# "))i.push(d.jsx("h1",{children:c.slice(2)},o));else if(c.trim()){const f=c.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,"<code>$1</code>");i.push(d.jsx("p",{dangerouslySetInnerHTML:{__html:f}},o))}else i.push(d.jsx("br",{},o))}return d.jsx(d.Fragment,{children:i})}function lO({alert:n,onDismiss:r}){return d.jsxs("div",{className:U_({variant:n.variant}),children:[d.jsx("span",{children:n.message}),d.jsx("button",{className:I_(),onClick:r,children:""})]})}const Ni=_("flex flex-col h-full bg-surface-1"),Ei=_("flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-surface-2"),ji=_("text-sm font-semibold text-text-primary"),Ci=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-3"),Yf=_("flex-1 overflow-y-auto p-4"),aO=_("flex items-center gap-1.5 px-3 py-2 mb-4 bg-surface-2 border border-border-subtle rounded-sm text-accent-blue text-sm cursor-pointer transition-colors w-full hover:bg-surface-3 hover:border-accent-blue"),Nb=_("flex items-center justify-center h-full text-text-muted"),$f=_("flex gap-3 mb-5 p-3 bg-surface-2 rounded-sm"),Gf=_("w-1 rounded-sm shrink-0"),qf=_("flex-1"),Xf=_("text-[0.7rem] uppercase tracking-wide text-text-muted"),Wf=_("text-base font-semibold text-text-primary my-1"),Eb=_("text-xs text-text-muted font-mono bg-transparent border-none cursor-pointer px-1 py-0.5 -mx-1 rounded-sm transition-colors hover:bg-border-subtle hover:text-text-primary"),jb=_("text-sm text-text-secondary leading-relaxed p-3 bg-surface-2 rounded-sm mb-4"),Zf=_("mb-3"),Qf=_("block text-xs font-medium text-text-secondary mb-1 uppercase tracking-wide"),rO=_("text-[0.65rem] text-text-muted ml-1.5 px-1.5 py-0.5 bg-border-subtle rounded-sm"),nr=_("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm font-mono focus:outline-none focus:border-accent-blue read-only:opacity-70 read-only:cursor-not-allowed"),Cb=_("flex gap-2 px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-sm",{variants:{editable:{true:"cursor-pointer transition-colors hover:border-accent-blue hover:bg-surface-2",false:""}},defaultVariants:{editable:!1}}),iO=_("px-1.5 py-0.5 bg-border-subtle rounded-sm text-[0.7rem] text-text-muted font-medium shrink-0"),Ab=_("text-text-primary font-mono overflow-hidden text-ellipsis whitespace-nowrap"),oO=_("text-[0.65rem] text-text-muted ml-auto opacity-0 transition-opacity group-hover:opacity-100"),bf=_("w-full px-3 py-2 bg-surface-3 border-2 border-accent-blue rounded-sm text-text-primary text-sm font-mono focus:outline-none"),ln=_("mt-5"),Nn=_("text-xs font-semibold text-text-secondary mb-2.5 uppercase tracking-wide"),Ll=_("text-text-muted italic text-sm"),sO=_("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),cO=_("font-medium text-text-primary text-sm"),uO=_("text-text-muted text-xs flex-1"),vf=_("w-5 h-5 flex items-center justify-center bg-transparent border border-accent-red rounded-sm text-accent-red cursor-pointer text-sm font-bold opacity-60 transition-opacity hover:opacity-100 hover:bg-accent-red/10"),wf=_("w-full px-3 py-2 mt-2 bg-transparent border border-dashed border-border-subtle rounded-sm text-text-secondary text-sm cursor-pointer transition-colors hover:border-accent-blue hover:text-accent-blue hover:bg-accent-blue/5"),_b=_("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),Ob=_("flex-1 font-medium text-text-primary text-sm font-mono"),Tb=_("flex flex-wrap gap-1.5"),Mb=_("flex items-center gap-1 px-2 py-1 bg-surface-2 rounded-sm text-xs"),Db=_("text-text-primary font-medium"),kb=_("text-text-muted"),Rb=_("text-text-muted text-[0.7rem]"),zb=_("flex gap-2 px-4 py-3 border-t border-border-subtle"),Tl=_("flex-1 px-4 py-2 bg-surface-2 border border-border-subtle rounded-sm text-text-primary text-sm cursor-pointer transition-colors hover:bg-surface-3 hover:border-accent-blue disabled:opacity-50 disabled:cursor-not-allowed"),Lb=_("flex-1 px-4 py-2 bg-transparent border border-accent-red rounded-sm text-accent-red text-sm cursor-pointer transition-colors hover:bg-accent-red/10 disabled:opacity-50 disabled:cursor-not-allowed"),Vb=_("w-full px-4 py-2 text-sm bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10");function fO({workflowName:n,onClose:r}){const{tree:i,addVariable:o,updateVariable:c,deleteVariable:f,updateWorkflowInterface:h,deleteWorkflow:m}=lt(),{selectStartNode:g}=nl(),p=i?.workflows.find(J=>J.name===n),[y,b]=z.useState(""),[N,E]=z.useState(""),[w,v]=z.useState(null),[j,A]=z.useState(""),[O,X]=z.useState(""),[B,V]=z.useState(""),[H,$]=z.useState("");if(!p)return d.jsxs("div",{className:Ni(),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Start Node"}),d.jsx("button",{className:Ci(),onClick:r,children:""})]}),d.jsx("div",{className:Nb(),children:d.jsx("p",{children:"Workflow not found"})})]});const Y=()=>{g(null),r()},K=()=>{if(!y.trim())return;const J=mx(N);o(n,y.trim(),J)&&(b(""),E(""))},te=(J,C)=>{v(J),A(J),X(hx(C))},ue=()=>{if(!w||!j.trim())return;const J=mx(O);c(n,w,j.trim(),J)&&(v(null),A(""),X(""))},ie=()=>{v(null),A(""),X("")},se=J=>{Ae.getState().showConfirmDialog({title:"Delete Variable",message:`Delete variable "$${J}"?`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>f(n,J)})},Z=()=>{Ae.getState().showConfirmDialog({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${n}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{m(n),Y()}})},ae=()=>{if(!B.trim())return;const J=[...p.interface.inputs,B.trim()];h(n,J,p.interface.outputs)&&V("")},D=J=>{const C=p.interface.inputs.filter(U=>U!==J);h(n,C,p.interface.outputs)},M=()=>{if(!H.trim())return;const J=[...p.interface.outputs,H.trim()];h(n,p.interface.inputs,J)&&$("")},R=J=>{const C=p.interface.outputs.filter(U=>U!==J);h(n,p.interface.inputs,C)},le=Object.entries(p.variables);return d.jsxs("div",{className:Ni(),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Start Node"}),d.jsx("button",{className:Ci(),onClick:Y,children:""})]}),d.jsxs("div",{className:Yf(),children:[d.jsxs("div",{className:$f(),children:[d.jsx("div",{className:Gf(),style:{backgroundColor:"#22C55E"}}),d.jsxs("div",{className:qf(),children:[d.jsx("span",{className:Xf(),children:"Workflow"}),d.jsx("h3",{className:Wf(),children:n})]})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Interface Inputs"}),p.interface.inputs.length===0?d.jsx("p",{className:Ll(),children:"No inputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.inputs.map(J=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-blue",children:[J,d.jsx("button",{onClick:()=>D(J),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove input",children:""})]},J))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:k(nr(),"flex-1"),placeholder:"New input name",value:B,onChange:J=>V(J.target.value),onKeyDown:J=>J.key==="Enter"&&ae()}),d.jsx("button",{className:k(Tl(),"flex-none w-auto"),onClick:ae,children:"Add"})]})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Interface Outputs"}),p.interface.outputs.length===0?d.jsx("p",{className:Ll(),children:"No outputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.outputs.map(J=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-violet",children:[J,d.jsx("button",{onClick:()=>R(J),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove output",children:""})]},J))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:k(nr(),"flex-1"),placeholder:"New output name",value:H,onChange:J=>$(J.target.value),onKeyDown:J=>J.key==="Enter"&&M()}),d.jsx("button",{className:k(Tl(),"flex-none w-auto"),onClick:M,children:"Add"})]})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Variables"}),le.length===0?d.jsx("p",{className:Ll(),children:"No variables defined"}):d.jsx("div",{className:"mb-2.5",children:le.map(([J,C])=>d.jsx("div",{className:"mb-2",children:w===J?d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("input",{type:"text",className:bf(),placeholder:"Variable name",value:j,onChange:U=>A(U.target.value)}),d.jsx("input",{type:"text",className:bf(),placeholder:"Default value",value:O,onChange:U=>X(U.target.value),onKeyDown:U=>U.key==="Enter"&&ue()}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("button",{className:k(Tl(),"flex-1"),onClick:ue,children:"Save"}),d.jsx("button",{className:k(Tl(),"flex-1"),onClick:ie,children:"Cancel"})]})]}):d.jsxs("div",{className:k(Cb({editable:!0}),"cursor-pointer"),onClick:()=>te(J,C),children:[d.jsxs("span",{className:"text-accent-green font-mono font-medium",children:["$",J]}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("span",{className:Ab(),children:hx(C)}),d.jsx("button",{onClick:U=>{U.stopPropagation(),se(J)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Delete variable",children:""})]})},J))}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:k(nr(),"flex-1"),placeholder:"Variable name",value:y,onChange:J=>b(J.target.value)}),d.jsx("input",{type:"text",className:k(nr(),"flex-1"),placeholder:"Default value",value:N,onChange:J=>E(J.target.value),onKeyDown:J=>J.key==="Enter"&&K()})]}),d.jsx("button",{className:Tl(),onClick:K,children:"Add Variable"})]})]}),n!=="main"&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Danger Zone"}),d.jsx("button",{className:"w-full px-3 py-2 text-sm font-medium bg-accent-red/10 text-accent-red border border-accent-red/30 rounded hover:bg-accent-red/20 transition-colors",onClick:Z,children:"Delete Workflow"})]})]})]})}function hx(n){return n===null?"null":n===void 0?"":typeof n=="string"?n:JSON.stringify(n)}function mx(n){if(!n||n==="")return"";if(n==="null")return null;if(n==="true")return!0;if(n==="false")return!1;try{return JSON.parse(n)}catch{return n}}function dO({className:n}){const{tree:r,source:i,opcodes:o,deleteNode:c,duplicateNode:f,updateNodeInput:h,updateReporterInput:m,deleteReporter:g,addDynamicBranch:p,removeDynamicBranch:y,addDynamicInput:b,removeDynamicInput:N}=lt(),{closeNodeEditor:E}=Ae(),{selectedNodeId:w,selectedReporter:v,selectReporter:j,selectedStartNode:A,selectStartNode:O,clearSelection:X}=nl(),[B,V]=z.useState(!1);if(A)return d.jsx(fO,{workflowName:A,onClose:()=>{O(null),E()}});const H=w?kl(w):null,$=H?xO(r,H):null,Y=v?o.find(oe=>oe.name===v.opcode):$?o.find(oe=>oe.name===$.opcode):null,K=()=>{E(),X()},te=()=>{H&&(navigator.clipboard.writeText(H),V(!0),setTimeout(()=>V(!1),2e3))},ue=()=>{if(v){const oe=`${v.parentNodeId}.${v.inputPath.join(".")}`;navigator.clipboard.writeText(oe),V(!0),setTimeout(()=>V(!1),2e3)}},ie=()=>{if(H){const oe=i.split(`
`);for(let Ne=0;Ne<oe.length;Ne++)if(oe[Ne].includes(H+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Ne+1}}));break}}},se=()=>{if($?.opcode==="workflow_call"){const oe=$.inputs.WORKFLOW;if(oe&&oe.type==="literal"){const Ne=oe.value;Ne&&(window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:Ne}})),E())}}},Z=()=>{H&&H!=="start"&&Ae.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${H}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{c(H),E()}})},ae=()=>{H&&H!=="start"&&f(H)},D=()=>{j(null)},M=(oe,Ne)=>{if(v&&v.reporterNodeId&&m(v.reporterNodeId,oe,Ne)){const Te={...v.inputs};if(Ne.startsWith("$"))Te[oe]={type:"variable",name:Ne.slice(1)};else try{const $e=JSON.parse(Ne);Te[oe]={type:"literal",value:$e}}catch{Te[oe]={type:"literal",value:Ne}}j({...v,inputs:Te})}},R=()=>{v&&Ae.getState().showConfirmDialog({title:"Detach Reporter",message:"Detach this reporter from its slot? The slot will be set to null. This action can be undone with Ctrl+Z.",confirmLabel:"Detach",variant:"danger",onConfirm:()=>{g(v.parentNodeId,v.inputPath),j(null)}})},le=()=>{if(v){const oe=i.split(`
`);if(v.reporterNodeId){for(let Te=0;Te<oe.length;Te++)if(oe[Te].match(new RegExp(`^\\s+${v.reporterNodeId}:\\s*$`))){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Te+1}}));return}}const Ne=v.inputPath[v.inputPath.length-1];let Le=!1;for(let Te=0;Te<oe.length;Te++){const $e=oe[Te];if($e.includes(v.parentNodeId+":")&&(Le=!0),Le&&$e.includes(Ne+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Te+1}}));break}}}},J=oe=>{H&&p(H,oe)},C=oe=>{H&&y(H,oe)},U=oe=>{H&&b(H,oe)},P=oe=>{H&&N(H,oe)},re=()=>{if(v&&v.opcode==="workflow_call"){const oe=v.inputs.WORKFLOW;if(oe&&oe.type==="literal"&&typeof oe.value=="string"){const Ne=oe.value;window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:Ne}})),E()}}},xe=oe=>{v?.reporterNodeId&&b(v.reporterNodeId,oe)},ge=oe=>{v?.reporterNodeId&&N(v.reporterNodeId,oe)};if(v)return d.jsx(hO,{reporter:v,parentNode:$,opcodeInfo:Y,tree:r,copied:B,onCopyPath:ue,onBackToNode:D,onClose:K,onUpdateInput:M,onDetach:R,onFindInSource:le,onGoToDefinition:v.opcode==="workflow_call"?re:void 0,onAddDynamicInput:v.reporterNodeId?xe:void 0,onRemoveDynamicInput:v.reporterNodeId?ge:void 0,className:n});if(!$)return d.jsxs("div",{className:k(Ni(),n),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Node Editor"}),d.jsx("button",{className:Ci(),onClick:K,children:""})]}),d.jsx("div",{className:Nb(),children:d.jsx("p",{children:"Select a node to edit"})})]});const de=qy($.type),We=zE[$.type]||"Node";return d.jsxs("div",{className:k(Ni(),n),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Node Editor"}),d.jsx("button",{className:Ci(),onClick:K,children:""})]}),d.jsxs("div",{className:Yf(),children:[d.jsxs("div",{className:$f(),children:[d.jsx("div",{className:Gf(),style:{backgroundColor:de}}),d.jsxs("div",{className:qf(),children:[d.jsx("span",{className:Xf(),children:We}),d.jsx("h3",{className:Wf(),children:Kf($.opcode)}),d.jsx("button",{className:Eb(),onClick:te,title:"Copy node ID",children:B?" Copied!":`ID: ${$.id}`})]})]}),Y?.description&&d.jsx("div",{className:jb(),children:Y.description}),d.jsxs("div",{className:Zf(),children:[d.jsx("label",{className:Qf(),children:"Opcode"}),d.jsx("input",{type:"text",value:$.opcode,readOnly:!0,className:nr()})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Inputs"}),Object.entries($.inputs).length===0?d.jsx("p",{className:Ll(),children:"No inputs"}):Object.entries($.inputs).map(([oe,Ne])=>d.jsx(Bb,{name:gs(oe,$.opcode,r,$.inputs),originalKey:oe,value:Ne,paramInfo:Y?.parameters.find(Le=>Le.name.toUpperCase()===oe),onUpdate:(Le,Te)=>h(H,Le,Te)},oe))]}),$.opcode==="workflow_call"&&d.jsx("div",{className:ln(),children:d.jsx("button",{className:Vb(),onClick:se,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),Y&&Y.parameters.length>0&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Parameters"}),d.jsx("div",{className:Tb(),children:Y.parameters.map(oe=>d.jsxs("div",{className:Mb(),children:[d.jsxs("span",{className:Db(),children:[oe.name,!oe.required&&d.jsx("span",{className:kb(),children:"?"})]}),d.jsx("span",{className:Rb(),children:oe.type})]},oe.name))})]}),(()=>{const oe=Ai($.opcode),Ne=oe?.dynamic_branches,Le=oe?.dynamic_inputs,Te=oe?.branches&&oe.branches.length>0;let $e=null;if(Ne&&oe?.branches)for(const _e of oe.branches){const Wt=_e.name.match(/^([A-Z]+)\d+$/);if(Wt){$e=Wt[1];break}}const Tt=$.children.filter(_e=>$e&&_e.name.startsWith($e)).map(_e=>_e.name),Mt=Object.keys($.inputs).filter(_e=>/^ARG\d+$/.test(_e)).sort((_e,Wt)=>{const xn=parseInt(_e.replace("ARG","")),Bt=parseInt(Wt.replace("ARG",""));return xn-Bt}),wt=$.children.length>0||Ne;return d.jsxs(d.Fragment,{children:[wt&&Te&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Branches"}),$.children.length===0&&Ne?d.jsx("p",{className:Ll(),children:"No branches connected"}):$.children.map((_e,Wt)=>{const Bt=$e&&_e.name.startsWith($e)&&Tt.length>1;return d.jsxs("div",{className:sO(),children:[d.jsx("span",{className:cO(),children:_e.name}),d.jsxs("span",{className:uO(),children:[_e.children.length," node(s)"]}),Bt&&d.jsx("button",{className:vf(),onClick:()=>C(_e.name),title:`Remove ${_e.name}`,children:""})]},Wt)}),Ne&&$e&&d.jsxs("button",{className:wf(),onClick:()=>J($e),children:["+ Add ",$e==="CATCH"?"Catch Handler":"Branch"]})]}),Le&&$.opcode==="workflow_call"&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Arguments"}),Mt.length===0?d.jsx("p",{className:Ll(),children:"No arguments"}):Mt.map(_e=>d.jsxs("div",{className:_b(),children:[d.jsx("span",{className:Ob(),children:_e}),d.jsx("button",{className:vf(),onClick:()=>P(_e),title:`Remove ${_e}`,children:""})]},_e)),d.jsx("button",{className:wf(),onClick:()=>U("ARG"),children:"+ Add Argument"})]})]})})()]}),d.jsxs("div",{className:zb(),children:[d.jsx("button",{className:Tl(),onClick:ie,children:"Find in Source"}),d.jsx("button",{className:Tl(),onClick:ae,disabled:H==="start",title:H==="start"?"Cannot duplicate start node":"Duplicate node (Ctrl+D)",children:"Duplicate"}),d.jsx("button",{className:Lb(),onClick:Z,disabled:H==="start",title:H==="start"?"Cannot delete start node":"Delete node (Del)",children:"Delete"})]})]})}function hO({reporter:n,parentNode:r,opcodeInfo:i,tree:o,copied:c,onCopyPath:f,onBackToNode:h,onClose:m,onUpdateInput:g,onDetach:p,onFindInSource:y,onGoToDefinition:b,onAddDynamicInput:N,onRemoveDynamicInput:E,className:w}){const v=pO(n.opcode),j=gO(n.opcode),A=n.opcode==="workflow_call",O=Object.keys(n.inputs).filter(V=>/^ARG\d+$/.test(V)).sort((V,H)=>{const $=parseInt(V.replace("ARG","")),Y=parseInt(H.replace("ARG",""));return $-Y}),B=Ai(n.opcode)?.dynamic_inputs;return d.jsxs("div",{className:k(Ni(),w),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Node Editor"}),d.jsx("button",{className:Ci(),onClick:m,children:""})]}),d.jsxs("div",{className:Yf(),children:[r&&d.jsxs("button",{className:aO(),onClick:h,children:[" Back to ",r.id]}),d.jsxs("div",{className:$f(),children:[d.jsx("div",{className:Gf(),style:{backgroundColor:v}}),d.jsxs("div",{className:qf(),children:[d.jsx("span",{className:Xf(),children:j}),d.jsx("h3",{className:Wf(),children:Kf(n.opcode)}),d.jsx("button",{className:Eb(),onClick:f,title:"Copy reporter ID",children:c?" Copied!":`ID: ${n.reporterNodeId||n.inputPath.join(".")}`})]})]}),i?.description&&d.jsx("div",{className:jb(),children:i.description}),d.jsxs("div",{className:Zf(),children:[d.jsx("label",{className:Qf(),children:"Opcode"}),d.jsx("input",{type:"text",value:n.opcode,readOnly:!0,className:nr()})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Inputs"}),Object.entries(n.inputs).length===0?d.jsx("p",{className:Ll(),children:"No inputs"}):Object.entries(n.inputs).map(([V,H])=>d.jsx(Bb,{name:gs(V,n.opcode,o,n.inputs),originalKey:V,value:H,paramInfo:i?.parameters.find($=>$.name.toUpperCase()===V),onUpdate:g},V))]}),A&&b&&d.jsx("div",{className:ln(),children:d.jsx("button",{className:Vb(),onClick:b,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),i&&i.parameters.length>0&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Parameters"}),d.jsx("div",{className:Tb(),children:i.parameters.map(V=>d.jsxs("div",{className:Mb(),children:[d.jsxs("span",{className:Db(),children:[V.name,!V.required&&d.jsx("span",{className:kb(),children:"?"})]}),d.jsx("span",{className:Rb(),children:V.type})]},V.name))})]}),B&&A&&N&&E&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Arguments"}),O.length===0?d.jsx("p",{className:Ll(),children:"No arguments"}):O.map(V=>d.jsxs("div",{className:_b(),children:[d.jsx("span",{className:Ob(),children:gs(V,n.opcode,o,n.inputs)}),d.jsx("button",{className:vf(),onClick:()=>E(V),title:`Remove ${V}`,children:""})]},V)),d.jsx("button",{className:wf(),onClick:()=>N("ARG"),children:"+ Add Argument"})]})]}),d.jsxs("div",{className:zb(),children:[d.jsx("button",{className:Tl(),onClick:y,children:"Find in Source"}),d.jsx("button",{className:Lb(),onClick:p,title:"Detach reporter from slot (replace with null)",children:"Detach"})]})]})}function Bb({name:n,originalKey:r,value:i,paramInfo:o,onUpdate:c}){const f=r||n,[h,m]=z.useState(!1),[g,p]=z.useState(""),y=mO(i),b=j=>{switch(j.type){case"literal":return typeof j.value=="string"?j.value:JSON.stringify(j.value);case"variable":return`$${j.name}`;default:return y}},N=()=>{(i.type==="literal"||i.type==="variable")&&(p(b(i)),m(!0))},E=()=>{c&&g!==b(i)&&c(f,g),m(!1)},w=j=>{j.key==="Enter"?E():j.key==="Escape"&&m(!1)},v=i.type==="literal"||i.type==="variable";return d.jsxs("div",{className:Zf(),children:[d.jsxs("label",{className:Qf(),children:[n,o&&d.jsx("span",{className:rO(),children:o.type})]}),h?d.jsx("input",{type:"text",className:bf(),value:g,onChange:j=>p(j.target.value),onBlur:E,onKeyDown:w,autoFocus:!0}):d.jsxs("div",{className:k(Cb({editable:v}),"group"),onClick:N,title:v?"Click to edit":void 0,children:[d.jsx("span",{className:iO(),children:i.type}),d.jsx("span",{className:Ab(),children:y}),v&&d.jsx("span",{className:oO(),children:"Click to edit"})]})]})}function mO(n){switch(n.type){case"literal":return typeof n.value=="string"?`"${n.value}"`:typeof n.value=="object"&&n.value!==null?JSON.stringify(n.value,null,2):String(n.value);case"variable":return`$${n.name}`;case"reporter":return`${Kf(n.opcode||"")}(...)`;case"workflow_call":return` ${n.name}`;case"branch":return` ${n.target}`;case"dict":return JSON.stringify(n.value,null,2);case"truncated":return n.display||"...";default:return"?"}}function Kf(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function pO(n){return Xy(n)}function gO(n){const r=Qy(n);return r?`${r.label} Reporter`:"Reporter"}function xO(n,r){if(!n)return null;function i(o){for(const c of o){if(c.id===r)return c;if(c.children)for(const f of c.children){const h=i(f.children);if(h)return h}}return null}for(const o of n.workflows||[]){const c=i(o.children||[]);if(c)return c;const f=i(o.orphans||[]);if(f)return f}return null}const yO=_("flex flex-col h-full"),bO=_("flex items-center justify-between px-4 py-4 border-b border-border-subtle"),vO=_("text-base font-semibold text-text-primary"),wO=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),SO=_("px-4 py-3 border-b border-border-subtle"),NO=_("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm focus:outline-none focus:border-accent-blue placeholder:text-text-muted"),EO=_("flex-1 overflow-y-auto py-2"),jO=_("px-4"),CO=_("text-text-muted text-center py-5 italic"),Qo=_("border-b border-border-subtle"),Ko=_("w-full flex items-center gap-2 px-4 py-2.5 bg-transparent border-none cursor-pointer text-left text-text-primary transition-colors hover:bg-surface-2"),Fo=_("text-base"),Jo=_("flex-1 text-sm font-medium"),Po=_("text-xs text-text-muted px-1.5 py-0.5 bg-border-subtle rounded-sm"),es=_("text-[0.7rem] text-text-muted"),ts=_("py-1 pb-2 bg-surface-2"),AO=_("mx-2"),_O=_("w-full flex flex-col items-start gap-0.5 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-pointer mb-1 transition-all hover:border-accent-blue hover:translate-x-0.5"),OO=_("text-sm font-medium text-text-primary"),TO=_("text-[0.7rem] text-text-muted font-mono"),MO=_("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),DO=_("text-xs text-text-secondary mb-2 leading-relaxed"),kO=_("flex flex-wrap gap-1.5 items-center"),Hb=_("text-[0.7rem] text-text-muted uppercase tracking-wide"),RO=_("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),zO=_("text-text-muted"),LO=_("flex items-center gap-2 px-3 py-2 mx-2 mb-1 bg-surface-1 border border-border-subtle rounded-sm cursor-grab transition-all hover:border-accent-green hover:translate-x-0.5 active:cursor-grabbing"),VO=_("text-sm font-semibold text-accent-green font-mono"),BO=_("text-xs text-text-muted font-mono"),HO=_("text-[0.7rem] text-text-muted ml-auto"),UO=_("px-4 py-3 text-xs text-text-muted italic text-center"),IO=_("mx-2"),YO=_("w-full flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-grab mb-1 transition-all hover:border-accent-violet hover:translate-x-0.5 active:cursor-grabbing"),$O=_("text-sm font-semibold text-accent-violet font-mono"),GO=_("text-xs text-text-muted ml-auto"),qO=_("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),XO=_("flex flex-col gap-1 mb-2"),WO=_("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),ZO=_("text-xs text-text-muted italic mb-2"),QO=_("w-full px-3 py-1.5 text-xs bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),KO=_("px-4 py-3 border-t border-border-subtle"),FO=_("text-xs text-text-muted text-center");function JO({className:n}){const{opcodes:r,tree:i}=lt(),{togglePalette:o,setDraggingVariable:c,setDraggingWorkflowCall:f}=Ae(),[h,m]=z.useState(""),[g,p]=z.useState("variables"),y=Wy(),b=z.useMemo(()=>vE(i),[i]),N=z.useMemo(()=>{if(!i)return[];const v=[];for(const j of i.workflows)for(const[A,O]of Object.entries(j.variables))v.push({name:A,value:O,workflowName:j.name});return v},[i]),E=z.useMemo(()=>{const v={};for(const j of y)v[j.id]=[];v.other=[];for(const j of r){let A=!1;for(const O of y)if(j.name.startsWith(O.prefix)){v[O.id].push(j),A=!0;break}A||v.other.push(j)}return v},[r,y]),w=z.useMemo(()=>{if(!h)return null;const v=h.toLowerCase();return r.filter(j=>j.name.toLowerCase().includes(v)||(j.description?.toLowerCase().includes(v)??!1))},[r,h]);return d.jsxs("div",{className:k(yO(),n),children:[d.jsxs("div",{className:bO(),children:[d.jsx("h2",{className:vO(),children:"Node Palette"}),d.jsx("button",{className:wO(),onClick:o,children:""})]}),d.jsx("div",{className:SO(),children:d.jsx("input",{type:"text",placeholder:"Search nodes...",value:h,onChange:v=>m(v.target.value),className:NO()})}),d.jsx("div",{className:EO(),children:w?d.jsx("div",{className:jO(),children:w.length===0?d.jsx("p",{className:CO(),children:"No nodes found"}):w.map(v=>d.jsx(af,{opcode:v},v.name))}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:Qo(),children:[d.jsxs("button",{className:Ko(),onClick:()=>p(g==="variables"?null:"variables"),style:{"--cat-color":"#22C55E"},children:[d.jsx("span",{className:Fo(),children:"$"}),d.jsx("span",{className:Jo(),children:"Variables"}),d.jsx("span",{className:Po(),children:N.length}),d.jsx("span",{className:es(),children:g==="variables"?"":""})]}),g==="variables"&&d.jsx("div",{className:ts(),children:N.length===0?d.jsx("div",{className:UO(),children:"No variables defined. Add variables in the Start Node editor."}):N.map(v=>d.jsx(PO,{name:v.name,value:v.value,workflowName:v.workflowName,onDragStart:c,onDragEnd:()=>c(null)},`${v.workflowName}-${v.name}`))})]}),b.length>0&&d.jsxs("div",{className:Qo(),children:[d.jsxs("button",{className:Ko(),onClick:()=>p(g==="workflows"?null:"workflows"),style:{"--cat-color":"#E91E63"},children:[d.jsx("span",{className:Fo(),children:"fn"}),d.jsx("span",{className:Jo(),children:"Workflows"}),d.jsx("span",{className:Po(),children:b.length}),d.jsx("span",{className:es(),children:g==="workflows"?"":""})]}),g==="workflows"&&d.jsx("div",{className:ts(),children:b.map(v=>d.jsx(tT,{name:v.name,params:v.params,onDragStart:f},v.name))})]}),y.map(v=>d.jsxs("div",{className:Qo(),children:[d.jsxs("button",{className:Ko(),onClick:()=>p(g===v.id?null:v.id),style:{"--cat-color":v.color},children:[d.jsx("span",{className:Fo(),children:v.icon}),d.jsx("span",{className:Jo(),children:v.label}),d.jsx("span",{className:Po(),children:E[v.id].length}),d.jsx("span",{className:es(),children:g===v.id?"":""})]}),g===v.id&&d.jsx("div",{className:ts(),children:E[v.id].map(j=>d.jsx(af,{opcode:j},j.name))})]},v.id)),E.other.length>0&&d.jsxs("div",{className:Qo(),children:[d.jsxs("button",{className:Ko(),onClick:()=>p(g==="other"?null:"other"),style:{"--cat-color":"#64748B"},children:[d.jsx("span",{className:Fo(),children:""}),d.jsx("span",{className:Jo(),children:"Other"}),d.jsx("span",{className:Po(),children:E.other.length}),d.jsx("span",{className:es(),children:g==="other"?"":""})]}),g==="other"&&d.jsx("div",{className:ts(),children:E.other.map(v=>d.jsx(af,{opcode:v},v.name))})]})]})}),d.jsx("div",{className:KO(),children:d.jsx("p",{className:FO(),children:"Click to view details  Drag to canvas to add node"})})]})}function af({opcode:n}){const[r,i]=z.useState(!1),{setDraggingOpcode:o,togglePalette:c}=Ae(),f=z.useRef(!1),h=z.useRef({x:0,y:0}),m=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),g=p=>{h.current={x:p.clientX,y:p.clientY},f.current=!1;const y=N=>{const E=Math.abs(N.clientX-h.current.x),w=Math.abs(N.clientY-h.current.y);!f.current&&(E>5||w>5)&&(f.current=!0,o(n),c())},b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)};return d.jsxs("div",{className:AO(),children:[d.jsxs("button",{className:_O(),onMouseDown:g,onClick:()=>{f.current||i(!r)},children:[d.jsx("span",{className:OO(),children:m}),d.jsx("span",{className:TO(),children:n.name})]}),r&&d.jsxs("div",{className:MO(),children:[n.description&&d.jsx("p",{className:DO(),children:n.description}),n.parameters.length>0&&d.jsxs("div",{className:kO(),children:[d.jsx("span",{className:Hb(),children:"Parameters:"}),n.parameters.map(p=>d.jsxs("span",{className:RO(),children:[p.name,!p.required&&"?",d.jsxs("span",{className:zO(),children:[": ",p.type]})]},p.name))]})]})]})}function PO({name:n,value:r,workflowName:i,onDragStart:o,onDragEnd:c}){const{togglePalette:f}=Ae(),h=z.useRef(!1),m=z.useRef({x:0,y:0}),g=eT(r),p=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const w=Math.abs(E.clientX-m.current.x),v=Math.abs(E.clientY-m.current.y);!h.current&&(w>5||v>5)&&(h.current=!0,o({name:n,workflowName:i,fromX:0,fromY:0,toX:0,toY:0}),f())},N=()=>{h.current&&c(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)};return d.jsxs("div",{className:LO(),onMouseDown:p,children:[d.jsxs("span",{className:VO(),children:["$",n]}),d.jsx("span",{className:BO(),children:g}),i!=="main"&&d.jsxs("span",{className:HO(),children:["(",i,")"]})]})}function eT(n){if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="string")return n.length>15?`"${n.slice(0,15)}..."`:`"${n}"`;if(typeof n=="object"){const r=JSON.stringify(n);return r.length>15?r.slice(0,15)+"...":r}return String(n)}function tT({name:n,params:r,onDragStart:i}){const{togglePalette:o}=Ae(),[c,f]=z.useState(!1),h=z.useRef(!1),m=z.useRef({x:0,y:0}),g=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const w=Math.abs(E.clientX-m.current.x),v=Math.abs(E.clientY-m.current.y);!h.current&&(w>5||v>5)&&(h.current=!0,i({workflowName:n,params:r}),o())},N=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)},p=y=>{y.stopPropagation(),window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:n}})),o()};return d.jsxs("div",{className:IO(),children:[d.jsxs("button",{className:YO(),onMouseDown:g,onClick:()=>{h.current||f(!c)},children:[d.jsx("span",{className:$O(),children:n}),d.jsx("span",{className:GO(),children:r.length===0?"(no params)":`(${r.length} params)`})]}),c&&d.jsxs("div",{className:qO(),children:[r.length>0?d.jsxs("div",{className:XO(),children:[d.jsx("span",{className:Hb(),children:"Parameters:"}),r.map((y,b)=>d.jsxs("span",{className:WO(),children:["ARG",b+1,": ",y]},y))]}):d.jsx("p",{className:ZO(),children:"This workflow has no input parameters."}),d.jsx("button",{className:QO(),onClick:p,children:"Go to Definition"})]})]})}const px=_("fixed pointer-events-none z-[10000] flex flex-col gap-1"),gx=_("flex flex-col gap-0.5 px-4 py-3 bg-surface-1 border-2 border-accent-blue rounded-sm shadow-xl min-w-[120px]",{variants:{type:{opcode:"border-accent-blue",workflow:"border-[#E91E63]"}},defaultVariants:{type:"opcode"}}),xx=_("text-sm font-semibold text-text-primary"),yx=_("text-[0.7rem] text-text-muted font-mono"),bx=_("text-[0.7rem] text-accent-blue text-center font-medium");function vx(n){const r=document.querySelector("[data-canvas-container] > svg");if(!r)return"main";const{zoom:i,panX:o,panY:c,layoutGroups:f,canvasCenter:h}=Ae.getState();if(f.length===0)return"main";const m=r.getBoundingClientRect(),g=m.width,p=m.height,y=n.clientX-m.left,b=n.clientY-m.top,N=(y-o-g/2)/i+h.x,E=(b-c-p/2)/i+h.y;return ub(f,N,E)||"main"}function nT(){const{draggingOpcode:n,setDraggingOpcode:r,draggingWorkflowCall:i,setDraggingWorkflowCall:o,openNodeEditor:c}=Ae(),{addNode:f,addWorkflowCallNode:h}=lt(),[m,g]=z.useState({x:0,y:0});if(z.useEffect(()=>{if(!i)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const E=N.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&i){const v=vx(N);h(i.workflowName,i.params,v)&&c()}o(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[i,o,h,c]),z.useEffect(()=>{if(!n)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const E=N.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&n){const v=vx(N);f(n,v)&&c()}r(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[n,r,f,c]),!n&&!i)return null;if(i)return d.jsxs("div",{className:k(px()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:k(gx({type:"workflow"})),children:[d.jsx("span",{className:k(xx()),children:i.workflowName}),d.jsx("span",{className:k(yx()),children:"workflow_call"})]}),d.jsx("div",{className:k(bx()),children:"Drop on canvas to add"})]});if(!n)return null;const p=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("div",{className:k(px()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:k(gx({type:"opcode"})),children:[d.jsx("span",{className:k(xx()),children:p}),d.jsx("span",{className:k(yx()),children:n.name})]}),d.jsx("div",{className:k(bx()),children:"Drop on canvas to add"})]})}function lT(){const n=Ae(r=>r.confirmDialog);return n?d.jsx(kw,{isOpen:n.isOpen,title:n.title,message:n.message,confirmLabel:n.confirmLabel,cancelLabel:n.cancelLabel,variant:n.variant,onConfirm:n.onConfirm,onCancel:n.onCancel}):null}function aT(){const n=Ae(f=>f.createWorkflowModal),r=Ae(f=>f.hideCreateWorkflowModal),i=lt(f=>f.tree),o=lt(f=>f.addWorkflow),c=i?.workflows.map(f=>f.name)??[];return n?d.jsx(Rw,{isOpen:n.isOpen,existingWorkflowNames:c,onConfirm:f=>{o(f.name,f.inputs,f.outputs,f.variables),r()},onCancel:r}):null}function rT(){const n=Ae(m=>m.extractWorkflowModal),r=Ae(m=>m.hideExtractWorkflowModal),i=lt(m=>m.tree),o=lt(m=>m.extractToWorkflow),c=nl(m=>m.clearMultiSelection),f=Ae(m=>m.showConfirmDialog),h=i?.workflows.map(m=>m.name)??[];return n?d.jsx(Lw,{isOpen:n.isOpen,existingWorkflowNames:h,nodeIds:n.nodeIds,suggestedInputs:n.suggestedInputs,suggestedOutputs:n.suggestedOutputs,onConfirm:m=>{const g=o(n.nodeIds,n.workflowName,m.name,m.inputs,m.outputs,m.variables);g.success?(c(),r()):f({title:"Extraction Failed",message:g.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}})},onCancel:r}):null}function iT(){const{setExamples:n,setOpcodes:r}=lt(),i=vs();return DE(),RE(),z.useEffect(()=>{i.listOpcodes().then(r).catch(console.error),ey(i)&&i.listExamples().then(n).catch(console.error)},[n,r,i]),d.jsxs(d.Fragment,{children:[d.jsx(xE,{canvas:d.jsx(UC,{}),editor:d.jsx(n_,{}),executionPanel:d.jsx(P_,{}),nodeEditor:d.jsx(dO,{}),palette:d.jsx(JO,{})}),d.jsx(nT,{}),d.jsx(lT,{}),d.jsx(aT,{}),d.jsx(rT,{})]})}function oT(){return{apiBaseUrl:"/api",wsUrl:void 0}}const wx=oT(),sT=WN({apiBaseUrl:wx.apiBaseUrl,wsUrl:wx.wsUrl,supportsExamples:!0,supportsWebSocket:!0});o1.createRoot(document.getElementById("root")).render(d.jsx(z.StrictMode,{children:d.jsx(n2,{children:d.jsx(a2,{provider:sT,children:d.jsx(iT,{})})})}));export{wb as a,PA as b,k as c,Sb as d,vb as e,bb as f,d as j,z as r};
