(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function Kv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ru={exports:{}},Pr={};var Zp;function Fv(){if(Zp)return Pr;Zp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:n,type:o,key:h,ref:c!==void 0?c:null,props:f}}return Pr.Fragment=r,Pr.jsx=i,Pr.jsxs=i,Pr}var Qp;function Jv(){return Qp||(Qp=1,Ru.exports=Fv()),Ru.exports}var d=Jv(),zu={exports:{}},je={};var Kp;function Pv(){if(Kp)return je;Kp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=N&&E[N]||E["@@iterator"],typeof E=="function"?E:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function O(E,z,Z){this.props=E,this.context=z,this.refs=j,this.updater=Z||v}O.prototype.isReactComponent={},O.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},O.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function _(){}_.prototype=O.prototype;function W(E,z,Z){this.props=E,this.context=z,this.refs=j,this.updater=Z||v}var $=W.prototype=new _;$.constructor=W,w($,O.prototype),$.isPureReactComponent=!0;var B=Array.isArray;function H(){}var I={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function K(E,z,Z){var ne=Z.ref;return{$$typeof:n,type:E,key:z,ref:ne!==void 0?ne:null,props:Z}}function ee(E,z){return K(E.type,z,E.props)}function ue(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function oe(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Z){return z[Z]})}var ie=/\/+/g;function fe(E,z){return typeof E=="object"&&E!==null&&E.key!=null?oe(""+E.key):z.toString(36)}function ae(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(H,H):(E.status="pending",E.then(function(z){E.status==="pending"&&(E.status="fulfilled",E.value=z)},function(z){E.status==="pending"&&(E.status="rejected",E.reason=z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function R(E,z,Z,ne,he){var ye=typeof E;(ye==="undefined"||ye==="boolean")&&(E=null);var de=!1;if(E===null)de=!0;else switch(ye){case"bigint":case"string":case"number":de=!0;break;case"object":switch(E.$$typeof){case n:case r:de=!0;break;case y:return de=E._init,R(de(E._payload),z,Z,ne,he)}}if(de)return he=he(E),de=ne===""?"."+fe(E,0):ne,B(he)?(Z="",de!=null&&(Z=de.replace(ie,"$&/")+"/"),R(he,z,Z,"",function(Se){return Se})):he!=null&&(ue(he)&&(he=ee(he,Z+(he.key==null||E&&E.key===he.key?"":(""+he.key).replace(ie,"$&/")+"/")+de)),z.push(he)),1;de=0;var Ue=ne===""?".":ne+":";if(B(E))for(var le=0;le<E.length;le++)ne=E[le],ye=Ue+fe(ne,le),de+=R(ne,z,Z,ye,he);else if(le=C(E),typeof le=="function")for(E=le.call(E),le=0;!(ne=E.next()).done;)ne=ne.value,ye=Ue+fe(ne,le++),de+=R(ne,z,Z,ye,he);else if(ye==="object"){if(typeof E.then=="function")return R(ae(E),z,Z,ne,he);throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return de}function G(E,z,Z){if(E==null)return E;var ne=[],he=0;return R(E,ne,"","",function(ye){return z.call(Z,ye,he++)}),ne}function A(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(Z){(E._status===0||E._status===-1)&&(E._status=1,E._result=Z)},function(Z){(E._status===0||E._status===-1)&&(E._status=2,E._result=Z)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var P=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},re={map:G,forEach:function(E,z,Z){G(E,function(){z.apply(this,arguments)},Z)},count:function(E){var z=0;return G(E,function(){z++}),z},toArray:function(E){return G(E,function(z){return z})||[]},only:function(E){if(!ue(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return je.Activity=b,je.Children=re,je.Component=O,je.Fragment=i,je.Profiler=c,je.PureComponent=W,je.StrictMode=o,je.Suspense=g,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,je.__COMPILER_RUNTIME={__proto__:null,c:function(E){return I.H.useMemoCache(E)}},je.cache=function(E){return function(){return E.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(E,z,Z){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ne=w({},E.props),he=E.key;if(z!=null)for(ye in z.key!==void 0&&(he=""+z.key),z)!U.call(z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&z.ref===void 0||(ne[ye]=z[ye]);var ye=arguments.length-2;if(ye===1)ne.children=Z;else if(1<ye){for(var de=Array(ye),Ue=0;Ue<ye;Ue++)de[Ue]=arguments[Ue+2];ne.children=de}return K(E.type,he,ne)},je.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},je.createElement=function(E,z,Z){var ne,he={},ye=null;if(z!=null)for(ne in z.key!==void 0&&(ye=""+z.key),z)U.call(z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(he[ne]=z[ne]);var de=arguments.length-2;if(de===1)he.children=Z;else if(1<de){for(var Ue=Array(de),le=0;le<de;le++)Ue[le]=arguments[le+2];he.children=Ue}if(E&&E.defaultProps)for(ne in de=E.defaultProps,de)he[ne]===void 0&&(he[ne]=de[ne]);return K(E,ye,he)},je.createRef=function(){return{current:null}},je.forwardRef=function(E){return{$$typeof:m,render:E}},je.isValidElement=ue,je.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:A}},je.memo=function(E,z){return{$$typeof:p,type:E,compare:z===void 0?null:z}},je.startTransition=function(E){var z=I.T,Z={};I.T=Z;try{var ne=E(),he=I.S;he!==null&&he(Z,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(H,P)}catch(ye){P(ye)}finally{z!==null&&Z.types!==null&&(z.types=Z.types),I.T=z}},je.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},je.use=function(E){return I.H.use(E)},je.useActionState=function(E,z,Z){return I.H.useActionState(E,z,Z)},je.useCallback=function(E,z){return I.H.useCallback(E,z)},je.useContext=function(E){return I.H.useContext(E)},je.useDebugValue=function(){},je.useDeferredValue=function(E,z){return I.H.useDeferredValue(E,z)},je.useEffect=function(E,z){return I.H.useEffect(E,z)},je.useEffectEvent=function(E){return I.H.useEffectEvent(E)},je.useId=function(){return I.H.useId()},je.useImperativeHandle=function(E,z,Z){return I.H.useImperativeHandle(E,z,Z)},je.useInsertionEffect=function(E,z){return I.H.useInsertionEffect(E,z)},je.useLayoutEffect=function(E,z){return I.H.useLayoutEffect(E,z)},je.useMemo=function(E,z){return I.H.useMemo(E,z)},je.useOptimistic=function(E,z){return I.H.useOptimistic(E,z)},je.useReducer=function(E,z,Z){return I.H.useReducer(E,z,Z)},je.useRef=function(E){return I.H.useRef(E)},je.useState=function(E){return I.H.useState(E)},je.useSyncExternalStore=function(E,z,Z){return I.H.useSyncExternalStore(E,z,Z)},je.useTransition=function(){return I.H.useTransition()},je.version="19.2.3",je}var Fp;function Nf(){return Fp||(Fp=1,zu.exports=Pv()),zu.exports}var k=Nf();const Nn=Kv(k);var Lu={exports:{}},ei={},Vu={exports:{}},Bu={};var Jp;function e1(){return Jp||(Jp=1,(function(n){function r(R,G){var A=R.length;R.push(G);e:for(;0<A;){var P=A-1>>>1,re=R[P];if(0<c(re,G))R[P]=G,R[A]=re,A=P;else break e}}function i(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var G=R[0],A=R.pop();if(A!==G){R[0]=A;e:for(var P=0,re=R.length,E=re>>>1;P<E;){var z=2*(P+1)-1,Z=R[z],ne=z+1,he=R[ne];if(0>c(Z,A))ne<re&&0>c(he,Z)?(R[P]=he,R[ne]=A,P=ne):(R[P]=Z,R[z]=A,P=z);else if(ne<re&&0>c(he,A))R[P]=he,R[ne]=A,P=ne;else break e}}return G}function c(R,G){var A=R.sortIndex-G.sortIndex;return A!==0?A:R.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],y=1,b=null,N=3,C=!1,v=!1,w=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function $(R){for(var G=i(p);G!==null;){if(G.callback===null)o(p);else if(G.startTime<=R)o(p),G.sortIndex=G.expirationTime,r(g,G);else break;G=i(p)}}function B(R){if(w=!1,$(R),!v)if(i(g)!==null)v=!0,H||(H=!0,oe());else{var G=i(p);G!==null&&ae(B,G.startTime-R)}}var H=!1,I=-1,U=5,K=-1;function ee(){return j?!0:!(n.unstable_now()-K<U)}function ue(){if(j=!1,H){var R=n.unstable_now();K=R;var G=!0;try{e:{v=!1,w&&(w=!1,_(I),I=-1),C=!0;var A=N;try{t:{for($(R),b=i(g);b!==null&&!(b.expirationTime>R&&ee());){var P=b.callback;if(typeof P=="function"){b.callback=null,N=b.priorityLevel;var re=P(b.expirationTime<=R);if(R=n.unstable_now(),typeof re=="function"){b.callback=re,$(R),G=!0;break t}b===i(g)&&o(g),$(R)}else o(g);b=i(g)}if(b!==null)G=!0;else{var E=i(p);E!==null&&ae(B,E.startTime-R),G=!1}}break e}finally{b=null,N=A,C=!1}G=void 0}}finally{G?oe():H=!1}}}var oe;if(typeof W=="function")oe=function(){W(ue)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,fe=ie.port2;ie.port1.onmessage=ue,oe=function(){fe.postMessage(null)}}else oe=function(){O(ue,0)};function ae(R,G){I=O(function(){R(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(R){switch(N){case 1:case 2:case 3:var G=3;break;default:G=N}var A=N;N=G;try{return R()}finally{N=A}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var A=N;N=R;try{return G()}finally{N=A}},n.unstable_scheduleCallback=function(R,G,A){var P=n.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?P+A:P):A=P,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=A+re,R={id:y++,callback:G,priorityLevel:R,startTime:A,expirationTime:re,sortIndex:-1},A>P?(R.sortIndex=A,r(p,R),i(g)===null&&R===i(p)&&(w?(_(I),I=-1):w=!0,ae(B,A-P))):(R.sortIndex=re,r(g,R),v||C||(v=!0,H||(H=!0,oe()))),R},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function(R){var G=N;return function(){var A=N;N=G;try{return R.apply(this,arguments)}finally{N=A}}}})(Bu)),Bu}var Pp;function t1(){return Pp||(Pp=1,Vu.exports=e1()),Vu.exports}var Hu={exports:{}},Tt={};var eg;function n1(){if(eg)return Tt;eg=1;var n=Nf();function r(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Tt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return f(g,p,null,y)},Tt.flushSync=function(g){var p=h.T,y=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=y,o.d.f()}},Tt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},Tt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Tt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:C}):y==="script"&&o.d.X(g,{crossOrigin:b,integrity:N,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},Tt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);o.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},Tt.requestFormReset=function(g){o.d.r(g)},Tt.unstable_batchedUpdates=function(g,p){return g(p)},Tt.useFormState=function(g,p,y){return h.H.useFormState(g,p,y)},Tt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Tt.version="19.2.3",Tt}var tg;function wx(){if(tg)return Hu.exports;tg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Hu.exports=n1(),Hu.exports}var ng;function l1(){if(ng)return ei;ng=1;var n=t1(),r=Nf(),i=wx();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var u=s.alternate;if(u===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===l)return g(s),e;if(u===a)return g(s),t;u=u.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=u;else{for(var x=!1,S=s.child;S;){if(S===l){x=!0,l=s,a=u;break}if(S===a){x=!0,a=s,l=u;break}S=S.sibling}if(!x){for(S=u.child;S;){if(S===l){x=!0,l=u,a=s;break}if(S===a){x=!0,a=u,l=s;break}S=S.sibling}if(!x)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),W=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case B:return"Suspense";case H:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case W:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}var ae=Array.isArray,R=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},P=[],re=-1;function E(e){return{current:e}}function z(e){0>re||(e.current=P[re],P[re]=null,re--)}function Z(e,t){re++,P[re]=e.current,e.current=t}var ne=E(null),he=E(null),ye=E(null),de=E(null);function Ue(e,t){switch(Z(ye,t),Z(he,e),Z(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xp(t),e=yp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(ne),Z(ne,e)}function le(){z(ne),z(he),z(ye)}function Se(e){e.memoizedState!==null&&Z(de,e);var t=ne.current,l=yp(t,e.type);t!==l&&(Z(he,e),Z(ne,l))}function Me(e){he.current===e&&(z(ne),z(he)),de.current===e&&(z(de),Qr._currentValue=A)}var Be,nt;function gt(e){if(Be===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Be=t&&t[1]||"",nt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+e+nt}var ce=!1;function Re(e,t){if(!e||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var X=Q}Reflect.construct(e,[],te)}else{try{te.call()}catch(Q){X=Q}e.call(te.prototype)}}else{try{throw Error()}catch(Q){X=Q}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),x=u[0],S=u[1];if(x&&S){var T=x.split(`
`),q=S.split(`
`);for(s=a=0;a<T.length&&!T[a].includes("DetermineComponentFrameRoot");)a++;for(;s<q.length&&!q[s].includes("DetermineComponentFrameRoot");)s++;if(a===T.length||s===q.length)for(a=T.length-1,s=q.length-1;1<=a&&0<=s&&T[a]!==q[s];)s--;for(;1<=a&&0<=s;a--,s--)if(T[a]!==q[s]){if(a!==1||s!==1)do if(a--,s--,0>s||T[a]!==q[s]){var F=`
`+T[a].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=a&&0<=s);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?gt(l):""}function we(e,t){switch(e.tag){case 26:case 27:case 5:return gt(e.type);case 16:return gt("Lazy");case 13:return e.child!==t&&t!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return Re(e.type,!1);case 11:return Re(e.type.render,!1);case 1:return Re(e.type,!0);case 31:return gt("Activity");default:return""}}function wt(e){try{var t="",l=null;do t+=we(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var qt=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,Ee=n.unstable_cancelCallback,Ge=n.unstable_shouldYield,Je=n.unstable_requestPaint,He=n.unstable_now,gn=n.unstable_getCurrentPriorityLevel,Kn=n.unstable_ImmediatePriority,Fn=n.unstable_UserBlockingPriority,Jn=n.unstable_NormalPriority,ir=n.unstable_LowPriority,oa=n.unstable_IdlePriority,or=n.log,ws=n.unstable_setDisableYieldValue,Ce=null,Xe=null;function ut(e){if(typeof or=="function"&&ws(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Ce,e)}catch{}}var lt=Math.clz32?Math.clz32:sa,Dl=Math.log,kl=Math.LN2;function sa(e){return e>>>=0,e===0?32:31-(Dl(e)/kl|0)|0}var Rl=256,zl=262144,Ei=4194304;function Ll(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ji(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,u=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=a&134217727;return S!==0?(a=S&~u,a!==0?s=Ll(a):(x&=S,x!==0?s=Ll(x):l||(l=S&~e,l!==0&&(s=Ll(l))))):(S=a&~u,S!==0?s=Ll(S):x!==0?s=Ll(x):l||(l=a&~e,l!==0&&(s=Ll(l)))),s===0?0:t!==0&&t!==s&&(t&u)===0&&(u=s&-s,l=t&-t,u>=l||u===32&&(l&4194048)!==0)?t:s}function sr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Vb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(){var e=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),e}function Ss(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function cr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bb(e,t,l,a,s,u){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,T=e.expirationTimes,q=e.hiddenUpdates;for(l=x&~l;0<l;){var F=31-lt(l),te=1<<F;S[F]=0,T[F]=-1;var X=q[F];if(X!==null)for(q[F]=null,F=0;F<X.length;F++){var Q=X[F];Q!==null&&(Q.lane&=-536870913)}l&=~te}a!==0&&Pf(e,a,0),u!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=u&~(x&~t))}function Pf(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-lt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function ed(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-lt(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function td(e,t){var l=t&-t;return l=(l&42)!==0?1:Ns(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ns(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Es(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nd(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Ip(e.type))}function ld(e,t){var l=G.p;try{return G.p=e,t()}finally{G.p=l}}var Pn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Pn,Rt="__reactProps$"+Pn,ca="__reactContainer$"+Pn,js="__reactEvents$"+Pn,Hb="__reactListeners$"+Pn,Ub="__reactHandles$"+Pn,ad="__reactResources$"+Pn,ur="__reactMarker$"+Pn;function Cs(e){delete e[Et],delete e[Rt],delete e[js],delete e[Hb],delete e[Ub]}function ua(e){var t=e[Et];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ca]||l[Et]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=jp(e);e!==null;){if(l=e[Et])return l;e=jp(e)}return t}e=l,l=e.parentNode}return null}function fa(e){if(e=e[Et]||e[ca]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function da(e){var t=e[ad];return t||(t=e[ad]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[ur]=!0}var rd=new Set,id={};function Vl(e,t){ha(e,t),ha(e+"Capture",t)}function ha(e,t){for(id[e]=t,e=0;e<t.length;e++)rd.add(t[e])}var Ib=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),od={},sd={};function Yb(e){return qt.call(sd,e)?!0:qt.call(od,e)?!1:Ib.test(e)?sd[e]=!0:(od[e]=!0,!1)}function Ci(e,t,l){if(Yb(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Ai(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function An(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qb(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(x){l=""+x,u.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function As(e){if(!e._valueTracker){var t=cd(e)?"checked":"value";e._valueTracker=qb(e,t,""+e[t])}}function ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=cd(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gb=/[\n"\\]/g;function tn(e){return e.replace(Gb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _s(e,t,l,a,s,u,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Os(e,x,en(t)):l!=null?Os(e,x,en(l)):a!=null&&e.removeAttribute("value"),s==null&&u!=null&&(e.defaultChecked=!!u),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+en(S):e.removeAttribute("name")}function fd(e,t,l,a,s,u,x,S){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||l!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){As(e);return}l=l!=null?""+en(l):"",t=t!=null?""+en(t):l,S||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=S?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),As(e)}function Os(e,t,l){t==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ma(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+en(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function dd(e,t,l){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+en(l):""}function hd(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(ae(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=en(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),As(e)}function pa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Xb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Xb.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function pd(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&md(e,s,a)}else for(var u in t)t.hasOwnProperty(u)&&md(e,u,t[u])}function Ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $b=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(e){return Wb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var Ms=null;function Ds(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ga=null,xa=null;function gd(e){var t=fa(e);if(t&&(e=t.stateNode)){var l=e[Rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(_s(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+tn(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[Rt]||null;if(!s)throw Error(o(90));_s(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&ud(a)}break e;case"textarea":dd(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ma(e,!!l.multiple,t,!1)}}}var ks=!1;function xd(e,t,l){if(ks)return e(t,l);ks=!0;try{var a=e(t);return a}finally{if(ks=!1,(ga!==null||xa!==null)&&(xo(),ga&&(t=ga,e=xa,xa=ga=null,gd(t),e)))for(t=0;t<e.length;t++)gd(e[t])}}function dr(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Rt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rs=!1;if(On)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Rs=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Rs=!1}var el=null,zs=null,Ti=null;function yd(){if(Ti)return Ti;var e,t=zs,l=t.length,a,s="value"in el?el.value:el.textContent,u=s.length;for(e=0;e<l&&t[e]===s[e];e++);var x=l-e;for(a=1;a<=x&&t[l-a]===s[u-a];a++);return Ti=s.slice(e,1<a?1-a:void 0)}function Mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function bd(){return!1}function zt(e){function t(l,a,s,u,x){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(u):u[S]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Di:bd,this.isPropagationStopped=bd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),t}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=zt(Bl),mr=b({},Bl,{view:0,detail:0}),Zb=zt(mr),Ls,Vs,pr,Ri=b({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(Ls=e.screenX-pr.screenX,Vs=e.screenY-pr.screenY):Vs=Ls=0,pr=e),Ls)},movementY:function(e){return"movementY"in e?e.movementY:Vs}}),vd=zt(Ri),Qb=b({},Ri,{dataTransfer:0}),Kb=zt(Qb),Fb=b({},mr,{relatedTarget:0}),Bs=zt(Fb),Jb=b({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),Pb=zt(Jb),e0=b({},Bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t0=zt(e0),n0=b({},Bl,{data:0}),wd=zt(n0),l0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r0[e])?!!t[e]:!1}function Hs(){return i0}var o0=b({},mr,{key:function(e){if(e.key){var t=l0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s0=zt(o0),c0=b({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=zt(c0),u0=b({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),f0=zt(u0),d0=b({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),h0=zt(d0),m0=b({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p0=zt(m0),g0=b({},Bl,{newState:0,oldState:0}),x0=zt(g0),y0=[9,13,27,32],Us=On&&"CompositionEvent"in window,gr=null;On&&"documentMode"in document&&(gr=document.documentMode);var b0=On&&"TextEvent"in window&&!gr,Nd=On&&(!Us||gr&&8<gr&&11>=gr),Ed=" ",jd=!1;function Cd(e,t){switch(e){case"keyup":return y0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function v0(e,t){switch(e){case"compositionend":return Ad(t);case"keypress":return t.which!==32?null:(jd=!0,Ed);case"textInput":return e=t.data,e===Ed&&jd?null:e;default:return null}}function w0(e,t){if(ya)return e==="compositionend"||!Us&&Cd(e,t)?(e=yd(),Ti=zs=el=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nd&&t.locale!=="ko"?null:t.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S0[e.type]:t==="textarea"}function Od(e,t,l,a){ga?xa?xa.push(a):xa=[a]:ga=a,t=Eo(t,"onChange"),0<t.length&&(l=new ki("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var xr=null,yr=null;function N0(e){fp(e,0)}function zi(e){var t=fr(e);if(ud(t))return e}function Td(e,t){if(e==="change")return t}var Md=!1;if(On){var Is;if(On){var Ys="oninput"in document;if(!Ys){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Ys=typeof Dd.oninput=="function"}Is=Ys}else Is=!1;Md=Is&&(!document.documentMode||9<document.documentMode)}function kd(){xr&&(xr.detachEvent("onpropertychange",Rd),yr=xr=null)}function Rd(e){if(e.propertyName==="value"&&zi(yr)){var t=[];Od(t,yr,e,Ds(e)),xd(N0,t)}}function E0(e,t,l){e==="focusin"?(kd(),xr=t,yr=l,xr.attachEvent("onpropertychange",Rd)):e==="focusout"&&kd()}function j0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(yr)}function C0(e,t){if(e==="click")return zi(t)}function A0(e,t){if(e==="input"||e==="change")return zi(t)}function _0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:_0;function br(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!qt.call(t,s)||!Gt(e[s],t[s]))return!1}return!0}function zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ld(e,t){var l=zd(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zd(l)}}function Vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_i(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=_i(e.document)}return t}function qs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var O0=On&&"documentMode"in document&&11>=document.documentMode,ba=null,Gs=null,vr=null,Xs=!1;function Hd(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xs||ba==null||ba!==_i(a)||(a=ba,"selectionStart"in a&&qs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),vr&&br(vr,a)||(vr=a,a=Eo(Gs,"onSelect"),0<a.length&&(t=new ki("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=ba)))}function Hl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var va={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionrun:Hl("Transition","TransitionRun"),transitionstart:Hl("Transition","TransitionStart"),transitioncancel:Hl("Transition","TransitionCancel"),transitionend:Hl("Transition","TransitionEnd")},$s={},Ud={};On&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Ul(e){if($s[e])return $s[e];if(!va[e])return e;var t=va[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Ud)return $s[e]=t[l];return e}var Id=Ul("animationend"),Yd=Ul("animationiteration"),qd=Ul("animationstart"),T0=Ul("transitionrun"),M0=Ul("transitionstart"),D0=Ul("transitioncancel"),Gd=Ul("transitionend"),Xd=new Map,Ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ws.push("scrollEnd");function dn(e,t){Xd.set(e,t),Vl(t,[e])}var Li=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],wa=0,Zs=0;function Vi(){for(var e=wa,t=Zs=wa=0;t<e;){var l=nn[t];nn[t++]=null;var a=nn[t];nn[t++]=null;var s=nn[t];nn[t++]=null;var u=nn[t];if(nn[t++]=null,a!==null&&s!==null){var x=a.pending;x===null?s.next=s:(s.next=x.next,x.next=s),a.pending=s}u!==0&&$d(l,s,u)}}function Bi(e,t,l,a){nn[wa++]=e,nn[wa++]=t,nn[wa++]=l,nn[wa++]=a,Zs|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Qs(e,t,l,a){return Bi(e,t,l,a),Hi(e)}function Il(e,t){return Bi(e,null,null,t),Hi(e)}function $d(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,u=e.return;u!==null;)u.childLanes|=l,a=u.alternate,a!==null&&(a.childLanes|=l),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(s=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,s&&t!==null&&(s=31-lt(l),e=u.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),u):null}function Hi(e){if(50<Yr)throw Yr=0,au=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Sa={};function k0(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,l,a){return new k0(e,t,l,a)}function Ks(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,t){var l=e.alternate;return l===null?(l=Xt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Wd(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ui(e,t,l,a,s,u){var x=0;if(a=e,typeof e=="function")Ks(e)&&(x=1);else if(typeof e=="string")x=Bv(e,l,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Xt(31,l,t,s),e.elementType=K,e.lanes=u,e;case w:return Yl(l.children,s,u,t);case j:x=8,s|=24;break;case O:return e=Xt(12,l,t,s|2),e.elementType=O,e.lanes=u,e;case B:return e=Xt(13,l,t,s),e.elementType=B,e.lanes=u,e;case H:return e=Xt(19,l,t,s),e.elementType=H,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:x=10;break e;case _:x=9;break e;case $:x=11;break e;case I:x=14;break e;case U:x=16,a=null;break e}x=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Xt(x,l,t,s),t.elementType=e,t.type=a,t.lanes=u,t}function Yl(e,t,l,a){return e=Xt(7,e,a,t),e.lanes=l,e}function Fs(e,t,l){return e=Xt(6,e,null,t),e.lanes=l,e}function Zd(e){var t=Xt(18,null,null,0);return t.stateNode=e,t}function Js(e,t,l){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qd=new WeakMap;function ln(e,t){if(typeof e=="object"&&e!==null){var l=Qd.get(e);return l!==void 0?l:(t={value:e,source:t,stack:wt(t)},Qd.set(e,t),t)}return{value:e,source:t,stack:wt(t)}}var Na=[],Ea=0,Ii=null,wr=0,an=[],rn=0,tl=null,xn=1,yn="";function Mn(e,t){Na[Ea++]=wr,Na[Ea++]=Ii,Ii=e,wr=t}function Kd(e,t,l){an[rn++]=xn,an[rn++]=yn,an[rn++]=tl,tl=e;var a=xn;e=yn;var s=32-lt(a)-1;a&=~(1<<s),l+=1;var u=32-lt(t)+s;if(30<u){var x=s-s%5;u=(a&(1<<x)-1).toString(32),a>>=x,s-=x,xn=1<<32-lt(t)+s|l<<s|a,yn=u+e}else xn=1<<u|l<<s|a,yn=e}function Ps(e){e.return!==null&&(Mn(e,1),Kd(e,1,0))}function ec(e){for(;e===Ii;)Ii=Na[--Ea],Na[Ea]=null,wr=Na[--Ea],Na[Ea]=null;for(;e===tl;)tl=an[--rn],an[rn]=null,yn=an[--rn],an[rn]=null,xn=an[--rn],an[rn]=null}function Fd(e,t){an[rn++]=xn,an[rn++]=yn,an[rn++]=tl,xn=t.id,yn=t.overflow,tl=e}var jt=null,Pe=null,Ve=!1,nl=null,on=!1,tc=Error(o(519));function ll(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sr(ln(t,e)),tc}function Jd(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Et]=e,t[Rt]=a,l){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(l=0;l<Gr.length;l++)ke(Gr[l],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),fd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),hd(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||pp(t.textContent,l)?(a.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),a.onScroll!=null&&ke("scroll",t),a.onScrollEnd!=null&&ke("scrollend",t),a.onClick!=null&&(t.onclick=_n),t=!0):t=!1,t||ll(e,!0)}function Pd(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:jt=jt.return}}function ja(e){if(e!==jt)return!1;if(!Ve)return Pd(e),Ve=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||bu(e.type,e.memoizedProps)),l=!l),l&&Pe&&ll(e),Pd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Pe=Ep(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Pe=Ep(e)}else t===27?(t=Pe,xl(e.type)?(e=Eu,Eu=null,Pe=e):Pe=t):Pe=jt?cn(e.stateNode.nextSibling):null;return!0}function ql(){Pe=jt=null,Ve=!1}function nc(){var e=nl;return e!==null&&(Ht===null?Ht=e:Ht.push.apply(Ht,e),nl=null),e}function Sr(e){nl===null?nl=[e]:nl.push(e)}var lc=E(null),Gl=null,Dn=null;function al(e,t,l){Z(lc,t._currentValue),t._currentValue=l}function kn(e){e._currentValue=lc.current,z(lc)}function ac(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function rc(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){var x=s.child;u=u.firstContext;e:for(;u!==null;){var S=u;u=s;for(var T=0;T<t.length;T++)if(S.context===t[T]){u.lanes|=l,S=u.alternate,S!==null&&(S.lanes|=l),ac(u.return,l,e),a||(x=null);break e}u=S.next}}else if(s.tag===18){if(x=s.return,x===null)throw Error(o(341));x.lanes|=l,u=x.alternate,u!==null&&(u.lanes|=l),ac(x,l,e),x=null}else x=s.child;if(x!==null)x.return=s;else for(x=s;x!==null;){if(x===e){x=null;break}if(s=x.sibling,s!==null){s.return=x.return,x=s;break}x=x.return}s=x}}function Ca(e,t,l,a){e=null;for(var s=t,u=!1;s!==null;){if(!u){if((s.flags&524288)!==0)u=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var x=s.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var S=s.type;Gt(s.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(s===de.current){if(x=s.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Qr):e=[Qr])}s=s.return}e!==null&&rc(t,e,l,a),t.flags|=262144}function Yi(e){for(e=e.firstContext;e!==null;){if(!Gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xl(e){Gl=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return eh(Gl,e)}function qi(e,t){return Gl===null&&Xl(e),eh(e,t)}function eh(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Dn===null){if(e===null)throw Error(o(308));Dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Dn=Dn.next=t;return l}var R0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},z0=n.unstable_scheduleCallback,L0=n.unstable_NormalPriority,ft={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ic(){return{controller:new R0,data:new Map,refCount:0}}function Nr(e){e.refCount--,e.refCount===0&&z0(L0,function(){e.controller.abort()})}var Er=null,oc=0,Aa=0,_a=null;function V0(e,t){if(Er===null){var l=Er=[];oc=0,Aa=uu(),_a={status:"pending",value:void 0,then:function(a){l.push(a)}}}return oc++,t.then(th,th),t}function th(){if(--oc===0&&Er!==null){_a!==null&&(_a.status="fulfilled");var e=Er;Er=null,Aa=0,_a=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function B0(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var nh=R.S;R.S=function(e,t){Hm=He(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&V0(e,t),nh!==null&&nh(e,t)};var $l=E(null);function sc(){var e=$l.current;return e!==null?e:Fe.pooledCache}function Gi(e,t){t===null?Z($l,$l.current):Z($l,t.pool)}function lh(){var e=sc();return e===null?null:{parent:ft._currentValue,pool:e}}var Oa=Error(o(460)),cc=Error(o(474)),Xi=Error(o(542)),$i={then:function(){}};function ah(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rh(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(_n,_n),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,oh(e),e;default:if(typeof t.status=="string")t.then(_n,_n);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,oh(e),e}throw Zl=t,Oa}}function Wl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Zl=l,Oa):l}}var Zl=null;function ih(){if(Zl===null)throw Error(o(459));var e=Zl;return Zl=null,e}function oh(e){if(e===Oa||e===Xi)throw Error(o(483))}var Ta=null,jr=0;function Wi(e){var t=jr;return jr+=1,Ta===null&&(Ta=[]),rh(Ta,e,t)}function Cr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zi(e,t){throw t.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function sh(e){function t(V,D){if(e){var Y=V.deletions;Y===null?(V.deletions=[D],V.flags|=16):Y.push(D)}}function l(V,D){if(!e)return null;for(;D!==null;)t(V,D),D=D.sibling;return null}function a(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function s(V,D){return V=Tn(V,D),V.index=0,V.sibling=null,V}function u(V,D,Y){return V.index=Y,e?(Y=V.alternate,Y!==null?(Y=Y.index,Y<D?(V.flags|=67108866,D):Y):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function x(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function S(V,D,Y,J){return D===null||D.tag!==6?(D=Fs(Y,V.mode,J),D.return=V,D):(D=s(D,Y),D.return=V,D)}function T(V,D,Y,J){var ve=Y.type;return ve===w?F(V,D,Y.props.children,J,Y.key):D!==null&&(D.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===U&&Wl(ve)===D.type)?(D=s(D,Y.props),Cr(D,Y),D.return=V,D):(D=Ui(Y.type,Y.key,Y.props,null,V.mode,J),Cr(D,Y),D.return=V,D)}function q(V,D,Y,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==Y.containerInfo||D.stateNode.implementation!==Y.implementation?(D=Js(Y,V.mode,J),D.return=V,D):(D=s(D,Y.children||[]),D.return=V,D)}function F(V,D,Y,J,ve){return D===null||D.tag!==7?(D=Yl(Y,V.mode,J,ve),D.return=V,D):(D=s(D,Y),D.return=V,D)}function te(V,D,Y){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fs(""+D,V.mode,Y),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return Y=Ui(D.type,D.key,D.props,null,V.mode,Y),Cr(Y,D),Y.return=V,Y;case v:return D=Js(D,V.mode,Y),D.return=V,D;case U:return D=Wl(D),te(V,D,Y)}if(ae(D)||oe(D))return D=Yl(D,V.mode,Y,null),D.return=V,D;if(typeof D.then=="function")return te(V,Wi(D),Y);if(D.$$typeof===W)return te(V,qi(V,D),Y);Zi(V,D)}return null}function X(V,D,Y,J){var ve=D!==null?D.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:S(V,D,""+Y,J);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return Y.key===ve?T(V,D,Y,J):null;case v:return Y.key===ve?q(V,D,Y,J):null;case U:return Y=Wl(Y),X(V,D,Y,J)}if(ae(Y)||oe(Y))return ve!==null?null:F(V,D,Y,J,null);if(typeof Y.then=="function")return X(V,D,Wi(Y),J);if(Y.$$typeof===W)return X(V,D,qi(V,Y),J);Zi(V,Y)}return null}function Q(V,D,Y,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return V=V.get(Y)||null,S(D,V,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return V=V.get(J.key===null?Y:J.key)||null,T(D,V,J,ve);case v:return V=V.get(J.key===null?Y:J.key)||null,q(D,V,J,ve);case U:return J=Wl(J),Q(V,D,Y,J,ve)}if(ae(J)||oe(J))return V=V.get(Y)||null,F(D,V,J,ve,null);if(typeof J.then=="function")return Q(V,D,Y,Wi(J),ve);if(J.$$typeof===W)return Q(V,D,Y,qi(D,J),ve);Zi(D,J)}return null}function me(V,D,Y,J){for(var ve=null,Ie=null,xe=D,_e=D=0,Le=null;xe!==null&&_e<Y.length;_e++){xe.index>_e?(Le=xe,xe=null):Le=xe.sibling;var Ye=X(V,xe,Y[_e],J);if(Ye===null){xe===null&&(xe=Le);break}e&&xe&&Ye.alternate===null&&t(V,xe),D=u(Ye,D,_e),Ie===null?ve=Ye:Ie.sibling=Ye,Ie=Ye,xe=Le}if(_e===Y.length)return l(V,xe),Ve&&Mn(V,_e),ve;if(xe===null){for(;_e<Y.length;_e++)xe=te(V,Y[_e],J),xe!==null&&(D=u(xe,D,_e),Ie===null?ve=xe:Ie.sibling=xe,Ie=xe);return Ve&&Mn(V,_e),ve}for(xe=a(xe);_e<Y.length;_e++)Le=Q(xe,V,_e,Y[_e],J),Le!==null&&(e&&Le.alternate!==null&&xe.delete(Le.key===null?_e:Le.key),D=u(Le,D,_e),Ie===null?ve=Le:Ie.sibling=Le,Ie=Le);return e&&xe.forEach(function(Sl){return t(V,Sl)}),Ve&&Mn(V,_e),ve}function Ne(V,D,Y,J){if(Y==null)throw Error(o(151));for(var ve=null,Ie=null,xe=D,_e=D=0,Le=null,Ye=Y.next();xe!==null&&!Ye.done;_e++,Ye=Y.next()){xe.index>_e?(Le=xe,xe=null):Le=xe.sibling;var Sl=X(V,xe,Ye.value,J);if(Sl===null){xe===null&&(xe=Le);break}e&&xe&&Sl.alternate===null&&t(V,xe),D=u(Sl,D,_e),Ie===null?ve=Sl:Ie.sibling=Sl,Ie=Sl,xe=Le}if(Ye.done)return l(V,xe),Ve&&Mn(V,_e),ve;if(xe===null){for(;!Ye.done;_e++,Ye=Y.next())Ye=te(V,Ye.value,J),Ye!==null&&(D=u(Ye,D,_e),Ie===null?ve=Ye:Ie.sibling=Ye,Ie=Ye);return Ve&&Mn(V,_e),ve}for(xe=a(xe);!Ye.done;_e++,Ye=Y.next())Ye=Q(xe,V,_e,Ye.value,J),Ye!==null&&(e&&Ye.alternate!==null&&xe.delete(Ye.key===null?_e:Ye.key),D=u(Ye,D,_e),Ie===null?ve=Ye:Ie.sibling=Ye,Ie=Ye);return e&&xe.forEach(function(Qv){return t(V,Qv)}),Ve&&Mn(V,_e),ve}function Ke(V,D,Y,J){if(typeof Y=="object"&&Y!==null&&Y.type===w&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:e:{for(var ve=Y.key;D!==null;){if(D.key===ve){if(ve=Y.type,ve===w){if(D.tag===7){l(V,D.sibling),J=s(D,Y.props.children),J.return=V,V=J;break e}}else if(D.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===U&&Wl(ve)===D.type){l(V,D.sibling),J=s(D,Y.props),Cr(J,Y),J.return=V,V=J;break e}l(V,D);break}else t(V,D);D=D.sibling}Y.type===w?(J=Yl(Y.props.children,V.mode,J,Y.key),J.return=V,V=J):(J=Ui(Y.type,Y.key,Y.props,null,V.mode,J),Cr(J,Y),J.return=V,V=J)}return x(V);case v:e:{for(ve=Y.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===Y.containerInfo&&D.stateNode.implementation===Y.implementation){l(V,D.sibling),J=s(D,Y.children||[]),J.return=V,V=J;break e}else{l(V,D);break}else t(V,D);D=D.sibling}J=Js(Y,V.mode,J),J.return=V,V=J}return x(V);case U:return Y=Wl(Y),Ke(V,D,Y,J)}if(ae(Y))return me(V,D,Y,J);if(oe(Y)){if(ve=oe(Y),typeof ve!="function")throw Error(o(150));return Y=ve.call(Y),Ne(V,D,Y,J)}if(typeof Y.then=="function")return Ke(V,D,Wi(Y),J);if(Y.$$typeof===W)return Ke(V,D,qi(V,Y),J);Zi(V,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,D!==null&&D.tag===6?(l(V,D.sibling),J=s(D,Y),J.return=V,V=J):(l(V,D),J=Fs(Y,V.mode,J),J.return=V,V=J),x(V)):l(V,D)}return function(V,D,Y,J){try{jr=0;var ve=Ke(V,D,Y,J);return Ta=null,ve}catch(xe){if(xe===Oa||xe===Xi)throw xe;var Ie=Xt(29,xe,null,V.mode);return Ie.lanes=J,Ie.return=V,Ie}}}var Ql=sh(!0),ch=sh(!1),rl=!1;function uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function il(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ol(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(qe&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Hi(e),$d(e,null,l),t}return Bi(e,a,t,l),Hi(e)}function Ar(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ed(e,l)}}function dc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,u=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};u===null?s=u=x:u=u.next=x,l=l.next}while(l!==null);u===null?s=u=t:u=u.next=t}else s=u=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var hc=!1;function _r(){if(hc){var e=_a;if(e!==null)throw e}}function Or(e,t,l,a){hc=!1;var s=e.updateQueue;rl=!1;var u=s.firstBaseUpdate,x=s.lastBaseUpdate,S=s.shared.pending;if(S!==null){s.shared.pending=null;var T=S,q=T.next;T.next=null,x===null?u=q:x.next=q,x=T;var F=e.alternate;F!==null&&(F=F.updateQueue,S=F.lastBaseUpdate,S!==x&&(S===null?F.firstBaseUpdate=q:S.next=q,F.lastBaseUpdate=T))}if(u!==null){var te=s.baseState;x=0,F=q=T=null,S=u;do{var X=S.lane&-536870913,Q=X!==S.lane;if(Q?(ze&X)===X:(a&X)===X){X!==0&&X===Aa&&(hc=!0),F!==null&&(F=F.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=e,Ne=S;X=t;var Ke=l;switch(Ne.tag){case 1:if(me=Ne.payload,typeof me=="function"){te=me.call(Ke,te,X);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ne.payload,X=typeof me=="function"?me.call(Ke,te,X):me,X==null)break e;te=b({},te,X);break e;case 2:rl=!0}}X=S.callback,X!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=s.callbacks,Q===null?s.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},F===null?(q=F=Q,T=te):F=F.next=Q,x|=X;if(S=S.next,S===null){if(S=s.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,s.lastBaseUpdate=Q,s.shared.pending=null}}while(!0);F===null&&(T=te),s.baseState=T,s.firstBaseUpdate=q,s.lastBaseUpdate=F,u===null&&(s.shared.lanes=0),dl|=x,e.lanes=x,e.memoizedState=te}}function uh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function fh(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)uh(l[e],t)}var Ma=E(null),Qi=E(0);function dh(e,t){e=Yn,Z(Qi,e),Z(Ma,t),Yn=e|t.baseLanes}function mc(){Z(Qi,Yn),Z(Ma,Ma.current)}function pc(){Yn=Qi.current,z(Ma),z(Qi)}var $t=E(null),sn=null;function sl(e){var t=e.alternate;Z(ot,ot.current&1),Z($t,e),sn===null&&(t===null||Ma.current!==null||t.memoizedState!==null)&&(sn=e)}function gc(e){Z(ot,ot.current),Z($t,e),sn===null&&(sn=e)}function hh(e){e.tag===22?(Z(ot,ot.current),Z($t,e),sn===null&&(sn=e)):cl()}function cl(){Z(ot,ot.current),Z($t,$t.current)}function Wt(e){z($t),sn===e&&(sn=null),z(ot)}var ot=E(0);function Ki(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Su(l)||Nu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rn=0,Ae=null,Ze=null,dt=null,Fi=!1,Da=!1,Kl=!1,Ji=0,Tr=0,ka=null,H0=0;function at(){throw Error(o(321))}function xc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Gt(e[l],t[l]))return!1;return!0}function yc(e,t,l,a,s,u){return Rn=u,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?Kh:kc,Kl=!1,u=l(a,s),Kl=!1,Da&&(u=ph(t,l,a,s)),mh(e),u}function mh(e){R.H=kr;var t=Ze!==null&&Ze.next!==null;if(Rn=0,dt=Ze=Ae=null,Fi=!1,Tr=0,ka=null,t)throw Error(o(300));e===null||ht||(e=e.dependencies,e!==null&&Yi(e)&&(ht=!0))}function ph(e,t,l,a){Ae=e;var s=0;do{if(Da&&(ka=null),Tr=0,Da=!1,25<=s)throw Error(o(301));if(s+=1,dt=Ze=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=Fh,u=t(l,a)}while(Da);return u}function U0(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Mr(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Ae.flags|=1024),t}function bc(){var e=Ji!==0;return Ji=0,e}function vc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function wc(e){if(Fi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fi=!1}Rn=0,dt=Ze=Ae=null,Da=!1,Tr=Ji=0,ka=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ae.memoizedState=dt=e:dt=dt.next=e,dt}function st(){if(Ze===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=dt===null?Ae.memoizedState:dt.next;if(t!==null)dt=t,Ze=e;else{if(e===null)throw Ae.alternate===null?Error(o(467)):Error(o(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},dt===null?Ae.memoizedState=dt=e:dt=dt.next=e}return dt}function Pi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mr(e){var t=Tr;return Tr+=1,ka===null&&(ka=[]),e=rh(ka,e,t),t=Ae,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?Kh:kc),e}function eo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mr(e);if(e.$$typeof===W)return Ct(e)}throw Error(o(438,String(e)))}function Sc(e){var t=null,l=Ae.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ae.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Pi(),Ae.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=ee;return t.index++,l}function zn(e,t){return typeof t=="function"?t(e):t}function to(e){var t=st();return Nc(t,Ze,e)}function Nc(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,u=a.pending;if(u!==null){if(s!==null){var x=s.next;s.next=u.next,u.next=x}t.baseQueue=s=u,a.pending=null}if(u=e.baseState,s===null)e.memoizedState=u;else{t=s.next;var S=x=null,T=null,q=t,F=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(ze&te)===te:(Rn&te)===te){var X=q.revertLane;if(X===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===Aa&&(F=!0);else if((Rn&X)===X){q=q.next,X===Aa&&(F=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},T===null?(S=T=te,x=u):T=T.next=te,Ae.lanes|=X,dl|=X;te=q.action,Kl&&l(u,te),u=q.hasEagerState?q.eagerState:l(u,te)}else X={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},T===null?(S=T=X,x=u):T=T.next=X,Ae.lanes|=te,dl|=te;q=q.next}while(q!==null&&q!==t);if(T===null?x=u:T.next=S,!Gt(u,e.memoizedState)&&(ht=!0,F&&(l=_a,l!==null)))throw l;e.memoizedState=u,e.baseState=x,e.baseQueue=T,a.lastRenderedState=u}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ec(e){var t=st(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,u=t.memoizedState;if(s!==null){l.pending=null;var x=s=s.next;do u=e(u,x.action),x=x.next;while(x!==s);Gt(u,t.memoizedState)||(ht=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),l.lastRenderedState=u}return[u,a]}function gh(e,t,l){var a=Ae,s=st(),u=Ve;if(u){if(l===void 0)throw Error(o(407));l=l()}else l=t();var x=!Gt((Ze||s).memoizedState,l);if(x&&(s.memoizedState=l,ht=!0),s=s.queue,Ac(bh.bind(null,a,s,e),[e]),s.getSnapshot!==t||x||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,Ra(9,{destroy:void 0},yh.bind(null,a,s,l,t),null),Fe===null)throw Error(o(349));u||(Rn&127)!==0||xh(a,t,l)}return l}function xh(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ae.updateQueue,t===null?(t=Pi(),Ae.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function yh(e,t,l,a){t.value=l,t.getSnapshot=a,vh(t)&&wh(e)}function bh(e,t,l){return l(function(){vh(t)&&wh(e)})}function vh(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Gt(e,l)}catch{return!0}}function wh(e){var t=Il(e,2);t!==null&&Ut(t,e,2)}function jc(e){var t=Dt();if(typeof e=="function"){var l=e;if(e=l(),Kl){ut(!0);try{l()}finally{ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},t}function Sh(e,t,l,a){return e.baseState=l,Nc(e,Ze,typeof a=="function"?a:zn)}function I0(e,t,l,a,s){if(ao(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){u.listeners.push(x)}};R.T!==null?l(!0):u.isTransition=!1,a(u),l=t.pending,l===null?(u.next=t.pending=u,Nh(t,u)):(u.next=l.next,t.pending=l.next=u)}}function Nh(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var u=R.T,x={};R.T=x;try{var S=l(s,a),T=R.S;T!==null&&T(x,S),Eh(e,t,S)}catch(q){Cc(e,t,q)}finally{u!==null&&x.types!==null&&(u.types=x.types),R.T=u}}else try{u=l(s,a),Eh(e,t,u)}catch(q){Cc(e,t,q)}}function Eh(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){jh(e,t,a)},function(a){return Cc(e,t,a)}):jh(e,t,l)}function jh(e,t,l){t.status="fulfilled",t.value=l,Ch(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Nh(e,l)))}function Cc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Ch(t),t=t.next;while(t!==a)}e.action=null}function Ch(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ah(e,t){return t}function _h(e,t){if(Ve){var l=Fe.formState;if(l!==null){e:{var a=Ae;if(Ve){if(Pe){t:{for(var s=Pe,u=on;s.nodeType!==8;){if(!u){s=null;break t}if(s=cn(s.nextSibling),s===null){s=null;break t}}u=s.data,s=u==="F!"||u==="F"?s:null}if(s){Pe=cn(s.nextSibling),a=s.data==="F!";break e}}ll(a)}a=!1}a&&(t=l[0])}}return l=Dt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:t},l.queue=a,l=Wh.bind(null,Ae,a),a.dispatch=l,a=jc(!1),u=Dc.bind(null,Ae,!1,a.queue),a=Dt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=I0.bind(null,Ae,s,u,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function Oh(e){var t=st();return Th(t,Ze,e)}function Th(e,t,l){if(t=Nc(e,t,Ah)[0],e=to(zn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Mr(t)}catch(x){throw x===Oa?Xi:x}else a=t;t=st();var s=t.queue,u=s.dispatch;return l!==t.memoizedState&&(Ae.flags|=2048,Ra(9,{destroy:void 0},Y0.bind(null,s,l),null)),[a,u,e]}function Y0(e,t){e.action=t}function Mh(e){var t=st(),l=Ze;if(l!==null)return Th(t,l,e);st(),t=t.memoizedState,l=st();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ra(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=Pi(),Ae.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Dh(){return st().memoizedState}function no(e,t,l,a){var s=Dt();Ae.flags|=e,s.memoizedState=Ra(1|t,{destroy:void 0},l,a===void 0?null:a)}function lo(e,t,l,a){var s=st();a=a===void 0?null:a;var u=s.memoizedState.inst;Ze!==null&&a!==null&&xc(a,Ze.memoizedState.deps)?s.memoizedState=Ra(t,u,l,a):(Ae.flags|=e,s.memoizedState=Ra(1|t,u,l,a))}function kh(e,t){no(8390656,8,e,t)}function Ac(e,t){lo(2048,8,e,t)}function q0(e){Ae.flags|=4;var t=Ae.updateQueue;if(t===null)t=Pi(),Ae.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Rh(e){var t=st().memoizedState;return q0({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function zh(e,t){return lo(4,2,e,t)}function Lh(e,t){return lo(4,4,e,t)}function Vh(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bh(e,t,l){l=l!=null?l.concat([e]):null,lo(4,4,Vh.bind(null,t,e),l)}function _c(){}function Hh(e,t){var l=st();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&xc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Uh(e,t){var l=st();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&xc(t,a[1]))return a[0];if(a=e(),Kl){ut(!0);try{e()}finally{ut(!1)}}return l.memoizedState=[a,t],a}function Oc(e,t,l){return l===void 0||(Rn&1073741824)!==0&&(ze&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Im(),Ae.lanes|=e,dl|=e,l)}function Ih(e,t,l,a){return Gt(l,t)?l:Ma.current!==null?(e=Oc(e,l,a),Gt(e,t)||(ht=!0),e):(Rn&42)===0||(Rn&1073741824)!==0&&(ze&261930)===0?(ht=!0,e.memoizedState=l):(e=Im(),Ae.lanes|=e,dl|=e,t)}function Yh(e,t,l,a,s){var u=G.p;G.p=u!==0&&8>u?u:8;var x=R.T,S={};R.T=S,Dc(e,!1,t,l);try{var T=s(),q=R.S;if(q!==null&&q(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var F=B0(T,a);Dr(e,t,F,Kt(e))}else Dr(e,t,a,Kt(e))}catch(te){Dr(e,t,{then:function(){},status:"rejected",reason:te},Kt())}finally{G.p=u,x!==null&&S.types!==null&&(x.types=S.types),R.T=x}}function G0(){}function Tc(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=qh(e).queue;Yh(e,s,t,A,l===null?G0:function(){return Gh(e),l(a)})}function qh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:A},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gh(e){var t=qh(e);t.next===null&&(t=e.alternate.memoizedState),Dr(e,t.next.queue,{},Kt())}function Mc(){return Ct(Qr)}function Xh(){return st().memoizedState}function $h(){return st().memoizedState}function X0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Kt();e=il(l);var a=ol(t,e,l);a!==null&&(Ut(a,t,l),Ar(a,t,l)),t={cache:ic()},e.payload=t;return}t=t.return}}function $0(e,t,l){var a=Kt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ao(e)?Zh(t,l):(l=Qs(e,t,l,a),l!==null&&(Ut(l,e,a),Qh(l,t,a)))}function Wh(e,t,l){var a=Kt();Dr(e,t,l,a)}function Dr(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ao(e))Zh(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var x=t.lastRenderedState,S=u(x,l);if(s.hasEagerState=!0,s.eagerState=S,Gt(S,x))return Bi(e,t,s,0),Fe===null&&Vi(),!1}catch{}if(l=Qs(e,t,s,a),l!==null)return Ut(l,e,a),Qh(l,t,a),!0}return!1}function Dc(e,t,l,a){if(a={lane:2,revertLane:uu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ao(e)){if(t)throw Error(o(479))}else t=Qs(e,l,a,2),t!==null&&Ut(t,e,2)}function ao(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Zh(e,t){Da=Fi=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Qh(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ed(e,l)}}var kr={readContext:Ct,use:eo,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};kr.useEffectEvent=at;var Kh={readContext:Ct,use:eo,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:kh,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,no(4194308,4,Vh.bind(null,t,e),l)},useLayoutEffect:function(e,t){return no(4194308,4,e,t)},useInsertionEffect:function(e,t){no(4,2,e,t)},useMemo:function(e,t){var l=Dt();t=t===void 0?null:t;var a=e();if(Kl){ut(!0);try{e()}finally{ut(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Dt();if(l!==void 0){var s=l(t);if(Kl){ut(!0);try{l(t)}finally{ut(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=$0.bind(null,Ae,e),[a.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=jc(e);var t=e.queue,l=Wh.bind(null,Ae,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:_c,useDeferredValue:function(e,t){var l=Dt();return Oc(l,e,t)},useTransition:function(){var e=jc(!1);return e=Yh.bind(null,Ae,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ae,s=Dt();if(Ve){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Fe===null)throw Error(o(349));(ze&127)!==0||xh(a,t,l)}s.memoizedState=l;var u={value:l,getSnapshot:t};return s.queue=u,kh(bh.bind(null,a,u,e),[e]),a.flags|=2048,Ra(9,{destroy:void 0},yh.bind(null,a,u,l,t),null),l},useId:function(){var e=Dt(),t=Fe.identifierPrefix;if(Ve){var l=yn,a=xn;l=(a&~(1<<32-lt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Ji++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=H0++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Mc,useFormState:_h,useActionState:_h,useOptimistic:function(e){var t=Dt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Dc.bind(null,Ae,!0,l),l.dispatch=t,[e,t]},useMemoCache:Sc,useCacheRefresh:function(){return Dt().memoizedState=X0.bind(null,Ae)},useEffectEvent:function(e){var t=Dt(),l={impl:e};return t.memoizedState=l,function(){if((qe&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},kc={readContext:Ct,use:eo,useCallback:Hh,useContext:Ct,useEffect:Ac,useImperativeHandle:Bh,useInsertionEffect:zh,useLayoutEffect:Lh,useMemo:Uh,useReducer:to,useRef:Dh,useState:function(){return to(zn)},useDebugValue:_c,useDeferredValue:function(e,t){var l=st();return Ih(l,Ze.memoizedState,e,t)},useTransition:function(){var e=to(zn)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Mr(e),t]},useSyncExternalStore:gh,useId:Xh,useHostTransitionStatus:Mc,useFormState:Oh,useActionState:Oh,useOptimistic:function(e,t){var l=st();return Sh(l,Ze,e,t)},useMemoCache:Sc,useCacheRefresh:$h};kc.useEffectEvent=Rh;var Fh={readContext:Ct,use:eo,useCallback:Hh,useContext:Ct,useEffect:Ac,useImperativeHandle:Bh,useInsertionEffect:zh,useLayoutEffect:Lh,useMemo:Uh,useReducer:Ec,useRef:Dh,useState:function(){return Ec(zn)},useDebugValue:_c,useDeferredValue:function(e,t){var l=st();return Ze===null?Oc(l,e,t):Ih(l,Ze.memoizedState,e,t)},useTransition:function(){var e=Ec(zn)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Mr(e),t]},useSyncExternalStore:gh,useId:Xh,useHostTransitionStatus:Mc,useFormState:Mh,useActionState:Mh,useOptimistic:function(e,t){var l=st();return Ze!==null?Sh(l,Ze,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Sc,useCacheRefresh:$h};Fh.useEffectEvent=Rh;function Rc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:b({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var zc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Kt(),s=il(a);s.payload=t,l!=null&&(s.callback=l),t=ol(e,s,a),t!==null&&(Ut(t,e,a),Ar(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Kt(),s=il(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=ol(e,s,a),t!==null&&(Ut(t,e,a),Ar(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Kt(),a=il(l);a.tag=2,t!=null&&(a.callback=t),t=ol(e,a,l),t!==null&&(Ut(t,e,l),Ar(t,e,l))}};function Jh(e,t,l,a,s,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,x):t.prototype&&t.prototype.isPureReactComponent?!br(l,a)||!br(s,u):!0}function Ph(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&zc.enqueueReplaceState(t,t.state,null)}function Fl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=b({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function em(e){Li(e)}function tm(e){console.error(e)}function nm(e){Li(e)}function ro(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function lm(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Lc(e,t,l){return l=il(l),l.tag=3,l.payload={element:null},l.callback=function(){ro(e,t)},l}function am(e){return e=il(e),e.tag=3,e}function rm(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var u=a.value;e.payload=function(){return s(u)},e.callback=function(){lm(t,l,a)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){lm(t,l,a),typeof s!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function W0(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ca(t,l,s,!0),l=$t.current,l!==null){switch(l.tag){case 31:case 13:return sn===null?yo():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===$i?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),ou(e,a,s)),!1;case 22:return l.flags|=65536,a===$i?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),ou(e,a,s)),!1}throw Error(o(435,l.tag))}return ou(e,a,s),yo(),!1}if(Ve)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==tc&&(e=Error(o(422),{cause:a}),Sr(ln(e,l)))):(a!==tc&&(t=Error(o(423),{cause:a}),Sr(ln(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=ln(a,l),s=Lc(e.stateNode,a,s),dc(e,s),rt!==4&&(rt=2)),!1;var u=Error(o(520),{cause:a});if(u=ln(u,l),Ir===null?Ir=[u]:Ir.push(u),rt!==4&&(rt=2),t===null)return!0;a=ln(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=Lc(l.stateNode,a,e),dc(l,e),!1;case 1:if(t=l.type,u=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(hl===null||!hl.has(u))))return l.flags|=65536,s&=-s,l.lanes|=s,s=am(s),rm(s,e,l,a),dc(l,s),!1}l=l.return}while(l!==null);return!1}var Vc=Error(o(461)),ht=!1;function At(e,t,l,a){t.child=e===null?ch(t,null,l,a):Ql(t,e.child,l,a)}function im(e,t,l,a,s){l=l.render;var u=t.ref;if("ref"in a){var x={};for(var S in a)S!=="ref"&&(x[S]=a[S])}else x=a;return Xl(t),a=yc(e,t,l,x,u,s),S=bc(),e!==null&&!ht?(vc(e,t,s),Ln(e,t,s)):(Ve&&S&&Ps(t),t.flags|=1,At(e,t,a,s),t.child)}function om(e,t,l,a,s){if(e===null){var u=l.type;return typeof u=="function"&&!Ks(u)&&u.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=u,sm(e,t,u,a,s)):(e=Ui(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Xc(e,s)){var x=u.memoizedProps;if(l=l.compare,l=l!==null?l:br,l(x,a)&&e.ref===t.ref)return Ln(e,t,s)}return t.flags|=1,e=Tn(u,a),e.ref=t.ref,e.return=t,t.child=e}function sm(e,t,l,a,s){if(e!==null){var u=e.memoizedProps;if(br(u,a)&&e.ref===t.ref)if(ht=!1,t.pendingProps=a=u,Xc(e,s))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,Ln(e,t,s)}return Bc(e,t,l,a,s)}function cm(e,t,l,a){var s=a.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~u}else a=0,t.child=null;return um(e,t,u,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gi(t,u!==null?u.cachePool:null),u!==null?dh(t,u):mc(),hh(t);else return a=t.lanes=536870912,um(e,t,u!==null?u.baseLanes|l:l,l,a)}else u!==null?(Gi(t,u.cachePool),dh(t,u),cl(),t.memoizedState=null):(e!==null&&Gi(t,null),mc(),cl());return At(e,t,s,l),t.child}function Rr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function um(e,t,l,a,s){var u=sc();return u=u===null?null:{parent:ft._currentValue,pool:u},t.memoizedState={baseLanes:l,cachePool:u},e!==null&&Gi(t,null),mc(),hh(t),e!==null&&Ca(e,t,a,!0),t.childLanes=s,null}function io(e,t){return t=so({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fm(e,t,l){return Ql(t,e.child,null,l),e=io(t,t.pendingProps),e.flags|=2,Wt(t),t.memoizedState=null,e}function Z0(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ve){if(a.mode==="hidden")return e=io(t,a),t.lanes=536870912,Rr(null,e);if(gc(t),(e=Pe)?(e=Np(e,on),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:tl!==null?{id:xn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},l=Zd(e),l.return=t,t.child=l,jt=t,Pe=null)):e=null,e===null)throw ll(t);return t.lanes=536870912,null}return io(t,a)}var u=e.memoizedState;if(u!==null){var x=u.dehydrated;if(gc(t),s)if(t.flags&256)t.flags&=-257,t=fm(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(ht||Ca(e,t,l,!1),s=(l&e.childLanes)!==0,ht||s){if(a=Fe,a!==null&&(x=td(a,l),x!==0&&x!==u.retryLane))throw u.retryLane=x,Il(e,x),Ut(a,e,x),Vc;yo(),t=fm(e,t,l)}else e=u.treeContext,Pe=cn(x.nextSibling),jt=t,Ve=!0,nl=null,on=!1,e!==null&&Fd(t,e),t=io(t,a),t.flags|=4096;return t}return e=Tn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function oo(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Bc(e,t,l,a,s){return Xl(t),l=yc(e,t,l,a,void 0,s),a=bc(),e!==null&&!ht?(vc(e,t,s),Ln(e,t,s)):(Ve&&a&&Ps(t),t.flags|=1,At(e,t,l,s),t.child)}function dm(e,t,l,a,s,u){return Xl(t),t.updateQueue=null,l=ph(t,a,l,s),mh(e),a=bc(),e!==null&&!ht?(vc(e,t,u),Ln(e,t,u)):(Ve&&a&&Ps(t),t.flags|=1,At(e,t,l,u),t.child)}function hm(e,t,l,a,s){if(Xl(t),t.stateNode===null){var u=Sa,x=l.contextType;typeof x=="object"&&x!==null&&(u=Ct(x)),u=new l(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=zc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},uc(t),x=l.contextType,u.context=typeof x=="object"&&x!==null?Ct(x):Sa,u.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Rc(t,l,x,a),u.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(x=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),x!==u.state&&zc.enqueueReplaceState(u,u.state,null),Or(t,a,u,s),_r(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var S=t.memoizedProps,T=Fl(l,S);u.props=T;var q=u.context,F=l.contextType;x=Sa,typeof F=="object"&&F!==null&&(x=Ct(F));var te=l.getDerivedStateFromProps;F=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,F||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(S||q!==x)&&Ph(t,u,a,x),rl=!1;var X=t.memoizedState;u.state=X,Or(t,a,u,s),_r(),q=t.memoizedState,S||X!==q||rl?(typeof te=="function"&&(Rc(t,l,te,a),q=t.memoizedState),(T=rl||Jh(t,l,T,a,X,q,x))?(F||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=q),u.props=a,u.state=q,u.context=x,a=T):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,fc(e,t),x=t.memoizedProps,F=Fl(l,x),u.props=F,te=t.pendingProps,X=u.context,q=l.contextType,T=Sa,typeof q=="object"&&q!==null&&(T=Ct(q)),S=l.getDerivedStateFromProps,(q=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x!==te||X!==T)&&Ph(t,u,a,T),rl=!1,X=t.memoizedState,u.state=X,Or(t,a,u,s),_r();var Q=t.memoizedState;x!==te||X!==Q||rl||e!==null&&e.dependencies!==null&&Yi(e.dependencies)?(typeof S=="function"&&(Rc(t,l,S,a),Q=t.memoizedState),(F=rl||Jh(t,l,F,a,X,Q,T)||e!==null&&e.dependencies!==null&&Yi(e.dependencies))?(q||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,Q,T),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,Q,T)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Q),u.props=a,u.state=Q,u.context=T,a=F):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,oo(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=Ql(t,e.child,null,s),t.child=Ql(t,null,l,s)):At(e,t,l,s),t.memoizedState=u.state,e=t.child):e=Ln(e,t,s),e}function mm(e,t,l,a){return ql(),t.flags|=256,At(e,t,l,a),t.child}var Hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uc(e){return{baseLanes:e,cachePool:lh()}}function Ic(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Qt),e}function pm(e,t,l){var a=t.pendingProps,s=!1,u=(t.flags&128)!==0,x;if((x=u)||(x=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),x&&(s=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ve){if(s?sl(t):cl(),(e=Pe)?(e=Np(e,on),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:tl!==null?{id:xn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},l=Zd(e),l.return=t,t.child=l,jt=t,Pe=null)):e=null,e===null)throw ll(t);return Nu(e)?t.lanes=32:t.lanes=536870912,null}var S=a.children;return a=a.fallback,s?(cl(),s=t.mode,S=so({mode:"hidden",children:S},s),a=Yl(a,s,l,null),S.return=t,a.return=t,S.sibling=a,t.child=S,a=t.child,a.memoizedState=Uc(l),a.childLanes=Ic(e,x,l),t.memoizedState=Hc,Rr(null,a)):(sl(t),Yc(t,S))}var T=e.memoizedState;if(T!==null&&(S=T.dehydrated,S!==null)){if(u)t.flags&256?(sl(t),t.flags&=-257,t=qc(e,t,l)):t.memoizedState!==null?(cl(),t.child=e.child,t.flags|=128,t=null):(cl(),S=a.fallback,s=t.mode,a=so({mode:"visible",children:a.children},s),S=Yl(S,s,l,null),S.flags|=2,a.return=t,S.return=t,a.sibling=S,t.child=a,Ql(t,e.child,null,l),a=t.child,a.memoizedState=Uc(l),a.childLanes=Ic(e,x,l),t.memoizedState=Hc,t=Rr(null,a));else if(sl(t),Nu(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var q=x.dgst;x=q,a=Error(o(419)),a.stack="",a.digest=x,Sr({value:a,source:null,stack:null}),t=qc(e,t,l)}else if(ht||Ca(e,t,l,!1),x=(l&e.childLanes)!==0,ht||x){if(x=Fe,x!==null&&(a=td(x,l),a!==0&&a!==T.retryLane))throw T.retryLane=a,Il(e,a),Ut(x,e,a),Vc;Su(S)||yo(),t=qc(e,t,l)}else Su(S)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Pe=cn(S.nextSibling),jt=t,Ve=!0,nl=null,on=!1,e!==null&&Fd(t,e),t=Yc(t,a.children),t.flags|=4096);return t}return s?(cl(),S=a.fallback,s=t.mode,T=e.child,q=T.sibling,a=Tn(T,{mode:"hidden",children:a.children}),a.subtreeFlags=T.subtreeFlags&65011712,q!==null?S=Tn(q,S):(S=Yl(S,s,l,null),S.flags|=2),S.return=t,a.return=t,a.sibling=S,t.child=a,Rr(null,a),a=t.child,S=e.child.memoizedState,S===null?S=Uc(l):(s=S.cachePool,s!==null?(T=ft._currentValue,s=s.parent!==T?{parent:T,pool:T}:s):s=lh(),S={baseLanes:S.baseLanes|l,cachePool:s}),a.memoizedState=S,a.childLanes=Ic(e,x,l),t.memoizedState=Hc,Rr(e.child,a)):(sl(t),l=e.child,e=l.sibling,l=Tn(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function Yc(e,t){return t=so({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function so(e,t){return e=Xt(22,e,null,t),e.lanes=0,e}function qc(e,t,l){return Ql(t,e.child,null,l),e=Yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gm(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ac(e.return,t,l)}function Gc(e,t,l,a,s,u){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:u}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=a,x.tail=l,x.tailMode=s,x.treeForkCount=u)}function xm(e,t,l){var a=t.pendingProps,s=a.revealOrder,u=a.tail;a=a.children;var x=ot.current,S=(x&2)!==0;if(S?(x=x&1|2,t.flags|=128):x&=1,Z(ot,x),At(e,t,a,l),a=Ve?wr:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gm(e,l,t);else if(e.tag===19)gm(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Ki(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),Gc(t,!1,s,l,u,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ki(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}Gc(t,!0,l,null,u,a);break;case"together":Gc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Ln(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),dl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ca(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Tn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Tn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Xc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Yi(e)))}function Q0(e,t,l){switch(t.tag){case 3:Ue(t,t.stateNode.containerInfo),al(t,ft,e.memoizedState.cache),ql();break;case 27:case 5:Se(t);break;case 4:Ue(t,t.stateNode.containerInfo);break;case 10:al(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,gc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(sl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?pm(e,t,l):(sl(t),e=Ln(e,t,l),e!==null?e.sibling:null);sl(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ca(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return xm(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ot,ot.current),a)break;return null;case 22:return t.lanes=0,cm(e,t,l,t.pendingProps);case 24:al(t,ft,e.memoizedState.cache)}return Ln(e,t,l)}function ym(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!Xc(e,l)&&(t.flags&128)===0)return ht=!1,Q0(e,t,l);ht=(e.flags&131072)!==0}else ht=!1,Ve&&(t.flags&1048576)!==0&&Kd(t,wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Wl(t.elementType),t.type=e,typeof e=="function")Ks(e)?(a=Fl(e,a),t.tag=1,t=hm(null,t,e,a,l)):(t.tag=0,t=Bc(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===$){t.tag=11,t=im(null,t,e,a,l);break e}else if(s===I){t.tag=14,t=om(null,t,e,a,l);break e}}throw t=fe(e)||e,Error(o(306,t,""))}}return t;case 0:return Bc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=Fl(a,t.pendingProps),hm(e,t,a,s,l);case 3:e:{if(Ue(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var u=t.memoizedState;s=u.element,fc(e,t),Or(t,a,null,l);var x=t.memoizedState;if(a=x.cache,al(t,ft,a),a!==u.cache&&rc(t,[ft],l,!0),_r(),a=x.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=mm(e,t,a,l);break e}else if(a!==s){s=ln(Error(o(424)),t),Sr(s),t=mm(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Pe=cn(e.firstChild),jt=t,Ve=!0,nl=null,on=!0,l=ch(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ql(),a===s){t=Ln(e,t,l);break e}At(e,t,a,l)}t=t.child}return t;case 26:return oo(e,t),e===null?(l=Op(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ve||(l=t.type,e=t.pendingProps,a=jo(ye.current).createElement(l),a[Et]=t,a[Rt]=e,_t(a,l,e),St(a),t.stateNode=a):t.memoizedState=Op(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Se(t),e===null&&Ve&&(a=t.stateNode=Cp(t.type,t.pendingProps,ye.current),jt=t,on=!0,s=Pe,xl(t.type)?(Eu=s,Pe=cn(a.firstChild)):Pe=s),At(e,t,t.pendingProps.children,l),oo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ve&&((s=a=Pe)&&(a=jv(a,t.type,t.pendingProps,on),a!==null?(t.stateNode=a,jt=t,Pe=cn(a.firstChild),on=!1,s=!0):s=!1),s||ll(t)),Se(t),s=t.type,u=t.pendingProps,x=e!==null?e.memoizedProps:null,a=u.children,bu(s,u)?a=null:x!==null&&bu(s,x)&&(t.flags|=32),t.memoizedState!==null&&(s=yc(e,t,U0,null,null,l),Qr._currentValue=s),oo(e,t),At(e,t,a,l),t.child;case 6:return e===null&&Ve&&((e=l=Pe)&&(l=Cv(l,t.pendingProps,on),l!==null?(t.stateNode=l,jt=t,Pe=null,e=!0):e=!1),e||ll(t)),null;case 13:return pm(e,t,l);case 4:return Ue(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ql(t,null,a,l):At(e,t,a,l),t.child;case 11:return im(e,t,t.type,t.pendingProps,l);case 7:return At(e,t,t.pendingProps,l),t.child;case 8:return At(e,t,t.pendingProps.children,l),t.child;case 12:return At(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,al(t,t.type,a.value),At(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Xl(t),s=Ct(s),a=a(s),t.flags|=1,At(e,t,a,l),t.child;case 14:return om(e,t,t.type,t.pendingProps,l);case 15:return sm(e,t,t.type,t.pendingProps,l);case 19:return xm(e,t,l);case 31:return Z0(e,t,l);case 22:return cm(e,t,l,t.pendingProps);case 24:return Xl(t),a=Ct(ft),e===null?(s=sc(),s===null&&(s=Fe,u=ic(),s.pooledCache=u,u.refCount++,u!==null&&(s.pooledCacheLanes|=l),s=u),t.memoizedState={parent:a,cache:s},uc(t),al(t,ft,s)):((e.lanes&l)!==0&&(fc(e,t),Or(t,null,null,l),_r()),s=e.memoizedState,u=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),al(t,ft,a)):(a=u.cache,al(t,ft,a),a!==s.cache&&rc(t,[ft],l,!0))),At(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Vn(e){e.flags|=4}function $c(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Xm())e.flags|=8192;else throw Zl=$i,cc}else e.flags&=-16777217}function bm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rp(t))if(Xm())e.flags|=8192;else throw Zl=$i,cc}function co(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Jf():536870912,e.lanes|=t,Ba|=t)}function zr(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function K0(e,t,l){var a=t.pendingProps;switch(ec(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return et(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),kn(ft),le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ja(t)?Vn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,nc())),et(t),null;case 26:var s=t.type,u=t.memoizedState;return e===null?(Vn(t),u!==null?(et(t),bm(t,u)):(et(t),$c(t,s,null,a,l))):u?u!==e.memoizedState?(Vn(t),et(t),bm(t,u)):(et(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Vn(t),et(t),$c(t,s,e,a,l)),null;case 27:if(Me(t),l=ye.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Vn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return et(t),null}e=ne.current,ja(t)?Jd(t):(e=Cp(s,a,l),t.stateNode=e,Vn(t))}return et(t),null;case 5:if(Me(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Vn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return et(t),null}if(u=ne.current,ja(t))Jd(t);else{var x=jo(ye.current);switch(u){case 1:u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":u=x.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?x.createElement("select",{is:a.is}):x.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?x.createElement(s,{is:a.is}):x.createElement(s)}}u[Et]=t,u[Rt]=a;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=u;e:switch(_t(u,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Vn(t)}}return et(t),$c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Vn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=ye.current,ja(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=jt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Et]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||pp(e.nodeValue,l)),e||ll(t,!0)}else e=jo(e).createTextNode(a),e[Et]=t,t.stateNode=e}return et(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=ja(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Et]=t}else ql(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),e=!1}else l=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Wt(t),t):(Wt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return et(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ja(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[Et]=t}else ql(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),s=!1}else s=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Wt(t),t):(Wt(t),null)}return Wt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),co(t,t.updateQueue),et(t),null);case 4:return le(),e===null&&mu(t.stateNode.containerInfo),et(t),null;case 10:return kn(t.type),et(t),null;case 19:if(z(ot),a=t.memoizedState,a===null)return et(t),null;if(s=(t.flags&128)!==0,u=a.rendering,u===null)if(s)zr(a,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ki(e),u!==null){for(t.flags|=128,zr(a,!1),e=u.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Wd(l,e),l=l.sibling;return Z(ot,ot.current&1|2),Ve&&Mn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&He()>po&&(t.flags|=128,s=!0,zr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ki(u),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),zr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Ve)return et(t),null}else 2*He()-a.renderingStartTime>po&&l!==536870912&&(t.flags|=128,s=!0,zr(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(e=a.last,e!==null?e.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=He(),e.sibling=null,l=ot.current,Z(ot,s?l&1|2:l&1),Ve&&Mn(t,a.treeForkCount),e):(et(t),null);case 22:case 23:return Wt(t),pc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),l=t.updateQueue,l!==null&&co(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&z($l),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),kn(ft),et(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function F0(e,t){switch(ec(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(ft),le(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Me(t),null;case 31:if(t.memoizedState!==null){if(Wt(t),t.alternate===null)throw Error(o(340));ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(ot),null;case 4:return le(),null;case 10:return kn(t.type),null;case 22:case 23:return Wt(t),pc(),e!==null&&z($l),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kn(ft),null;case 25:return null;default:return null}}function vm(e,t){switch(ec(t),t.tag){case 3:kn(ft),le();break;case 26:case 27:case 5:Me(t);break;case 4:le();break;case 31:t.memoizedState!==null&&Wt(t);break;case 13:Wt(t);break;case 19:z(ot);break;case 10:kn(t.type);break;case 22:case 23:Wt(t),pc(),e!==null&&z($l);break;case 24:kn(ft)}}function Lr(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var u=l.create,x=l.inst;a=u(),x.destroy=a}l=l.next}while(l!==s)}}catch(S){We(t,t.return,S)}}function ul(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){var x=a.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,s=t;var T=l,q=S;try{q()}catch(F){We(s,T,F)}}}a=a.next}while(a!==u)}}catch(F){We(t,t.return,F)}}function wm(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{fh(t,l)}catch(a){We(e,e.return,a)}}}function Sm(e,t,l){l.props=Fl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){We(e,t,a)}}function Vr(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){We(e,t,s)}}function bn(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){We(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){We(e,t,s)}else l.current=null}function Nm(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){We(e,e.return,s)}}function Wc(e,t,l){try{var a=e.stateNode;bv(a,e.type,l,t),a[Rt]=t}catch(s){We(e,e.return,s)}}function Em(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xl(e.type)||e.tag===4}function Zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=_n));else if(a!==4&&(a===27&&xl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Qc(e,t,l),e=e.sibling;e!==null;)Qc(e,t,l),e=e.sibling}function uo(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&xl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(uo(e,t,l),e=e.sibling;e!==null;)uo(e,t,l),e=e.sibling}function jm(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_t(t,a,l),t[Et]=e,t[Rt]=l}catch(u){We(e,e.return,u)}}var Bn=!1,mt=!1,Kc=!1,Cm=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function J0(e,t){if(e=e.containerInfo,xu=Do,e=Bd(e),qs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var x=0,S=-1,T=-1,q=0,F=0,te=e,X=null;t:for(;;){for(var Q;te!==l||s!==0&&te.nodeType!==3||(S=x+s),te!==u||a!==0&&te.nodeType!==3||(T=x+a),te.nodeType===3&&(x+=te.nodeValue.length),(Q=te.firstChild)!==null;)X=te,te=Q;for(;;){if(te===e)break t;if(X===l&&++q===s&&(S=x),X===u&&++F===a&&(T=x),(Q=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=Q}l=S===-1||T===-1?null:{start:S,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(yu={focusedElem:e,selectionRange:l},Do=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,l=t,s=u.memoizedProps,u=u.memoizedState,a=l.stateNode;try{var me=Fl(l.type,s);e=a.getSnapshotBeforeUpdate(me,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){We(l,l.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)wu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}}function Am(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Un(e,l),a&4&&Lr(5,l);break;case 1:if(Un(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){We(l,l.return,x)}else{var s=Fl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){We(l,l.return,x)}}a&64&&wm(l),a&512&&Vr(l,l.return);break;case 3:if(Un(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{fh(e,t)}catch(x){We(l,l.return,x)}}break;case 27:t===null&&a&4&&jm(l);case 26:case 5:Un(e,l),t===null&&a&4&&Nm(l),a&512&&Vr(l,l.return);break;case 12:Un(e,l);break;case 31:Un(e,l),a&4&&Tm(e,l);break;case 13:Un(e,l),a&4&&Mm(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=ov.bind(null,l),Av(e,l))));break;case 22:if(a=l.memoizedState!==null||Bn,!a){t=t!==null&&t.memoizedState!==null||mt,s=Bn;var u=mt;Bn=a,(mt=t)&&!u?In(e,l,(l.subtreeFlags&8772)!==0):Un(e,l),Bn=s,mt=u}break;case 30:break;default:Un(e,l)}}function _m(e){var t=e.alternate;t!==null&&(e.alternate=null,_m(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Cs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Lt=!1;function Hn(e,t,l){for(l=l.child;l!==null;)Om(e,t,l),l=l.sibling}function Om(e,t,l){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Ce,l)}catch{}switch(l.tag){case 26:mt||bn(l,t),Hn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||bn(l,t);var a=tt,s=Lt;xl(l.type)&&(tt=l.stateNode,Lt=!1),Hn(e,t,l),$r(l.stateNode),tt=a,Lt=s;break;case 5:mt||bn(l,t);case 6:if(a=tt,s=Lt,tt=null,Hn(e,t,l),tt=a,Lt=s,tt!==null)if(Lt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(l.stateNode)}catch(u){We(l,t,u)}else try{tt.removeChild(l.stateNode)}catch(u){We(l,t,u)}break;case 18:tt!==null&&(Lt?(e=tt,wp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),$a(e)):wp(tt,l.stateNode));break;case 4:a=tt,s=Lt,tt=l.stateNode.containerInfo,Lt=!0,Hn(e,t,l),tt=a,Lt=s;break;case 0:case 11:case 14:case 15:ul(2,l,t),mt||ul(4,l,t),Hn(e,t,l);break;case 1:mt||(bn(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Sm(l,t,a)),Hn(e,t,l);break;case 21:Hn(e,t,l);break;case 22:mt=(a=mt)||l.memoizedState!==null,Hn(e,t,l),mt=a;break;default:Hn(e,t,l)}}function Tm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$a(e)}catch(l){We(t,t.return,l)}}}function Mm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$a(e)}catch(l){We(t,t.return,l)}}function P0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cm),t;default:throw Error(o(435,e.tag))}}function fo(e,t){var l=P0(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=sv.bind(null,e,a);a.then(s,s)}})}function Vt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],u=e,x=t,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(xl(S.type)){tt=S.stateNode,Lt=!1;break e}break;case 5:tt=S.stateNode,Lt=!1;break e;case 3:case 4:tt=S.stateNode.containerInfo,Lt=!0;break e}S=S.return}if(tt===null)throw Error(o(160));Om(u,x,s),tt=null,Lt=!1,u=s.alternate,u!==null&&(u.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Dm(t,e),t=t.sibling}var hn=null;function Dm(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(t,e),Bt(e),a&4&&(ul(3,e,e.return),Lr(3,e),ul(5,e,e.return));break;case 1:Vt(t,e),Bt(e),a&512&&(mt||l===null||bn(l,l.return)),a&64&&Bn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=hn;if(Vt(t,e),Bt(e),a&512&&(mt||l===null||bn(l,l.return)),a&4){var u=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":u=s.getElementsByTagName("title")[0],(!u||u[ur]||u[Et]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=s.createElement(a),s.head.insertBefore(u,s.querySelector("head > title"))),_t(u,a,l),u[Et]=e,St(u),a=u;break e;case"link":var x=Dp("link","href",s).get(a+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(u=x[S],u.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&u.getAttribute("rel")===(l.rel==null?null:l.rel)&&u.getAttribute("title")===(l.title==null?null:l.title)&&u.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}u=s.createElement(a),_t(u,a,l),s.head.appendChild(u);break;case"meta":if(x=Dp("meta","content",s).get(a+(l.content||""))){for(S=0;S<x.length;S++)if(u=x[S],u.getAttribute("content")===(l.content==null?null:""+l.content)&&u.getAttribute("name")===(l.name==null?null:l.name)&&u.getAttribute("property")===(l.property==null?null:l.property)&&u.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&u.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}u=s.createElement(a),_t(u,a,l),s.head.appendChild(u);break;default:throw Error(o(468,a))}u[Et]=e,St(u),a=u}e.stateNode=a}else kp(s,e.type,e.stateNode);else e.stateNode=Mp(s,a,e.memoizedProps);else u!==a?(u===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):u.count--,a===null?kp(s,e.type,e.stateNode):Mp(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Vt(t,e),Bt(e),a&512&&(mt||l===null||bn(l,l.return)),l!==null&&a&4&&Wc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Vt(t,e),Bt(e),a&512&&(mt||l===null||bn(l,l.return)),e.flags&32){s=e.stateNode;try{pa(s,"")}catch(me){We(e,e.return,me)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Wc(e,s,l!==null?l.memoizedProps:s)),a&1024&&(Kc=!0);break;case 6:if(Vt(t,e),Bt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(me){We(e,e.return,me)}}break;case 3:if(_o=null,s=hn,hn=Co(t.containerInfo),Vt(t,e),hn=s,Bt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{$a(t.containerInfo)}catch(me){We(e,e.return,me)}Kc&&(Kc=!1,km(e));break;case 4:a=hn,hn=Co(e.stateNode.containerInfo),Vt(t,e),Bt(e),hn=a;break;case 12:Vt(t,e),Bt(e);break;case 31:Vt(t,e),Bt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,fo(e,a)));break;case 13:Vt(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(mo=He()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,fo(e,a)));break;case 22:s=e.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,q=Bn,F=mt;if(Bn=q||s,mt=F||T,Vt(t,e),mt=F,Bn=q,Bt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||T||Bn||mt||Jl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){T=l=t;try{if(u=T.stateNode,s)x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=T.stateNode;var te=T.memoizedProps.style,X=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(me){We(T,T.return,me)}}}else if(t.tag===6){if(l===null){T=t;try{T.stateNode.nodeValue=s?"":T.memoizedProps}catch(me){We(T,T.return,me)}}}else if(t.tag===18){if(l===null){T=t;try{var Q=T.stateNode;s?Sp(Q,!0):Sp(T.stateNode,!1)}catch(me){We(T,T.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,fo(e,l))));break;case 19:Vt(t,e),Bt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,fo(e,a)));break;case 30:break;case 21:break;default:Vt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Em(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,u=Zc(e);uo(e,u,s);break;case 5:var x=l.stateNode;l.flags&32&&(pa(x,""),l.flags&=-33);var S=Zc(e);uo(e,S,x);break;case 3:case 4:var T=l.stateNode.containerInfo,q=Zc(e);Qc(e,q,T);break;default:throw Error(o(161))}}catch(F){We(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function km(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;km(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Am(e,t.alternate,t),t=t.sibling}function Jl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ul(4,t,t.return),Jl(t);break;case 1:bn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Sm(t,t.return,l),Jl(t);break;case 27:$r(t.stateNode);case 26:case 5:bn(t,t.return),Jl(t);break;case 22:t.memoizedState===null&&Jl(t);break;case 30:Jl(t);break;default:Jl(t)}e=e.sibling}}function In(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,u=t,x=u.flags;switch(u.tag){case 0:case 11:case 15:In(s,u,l),Lr(4,u);break;case 1:if(In(s,u,l),a=u,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(q){We(a,a.return,q)}if(a=u,s=a.updateQueue,s!==null){var S=a.stateNode;try{var T=s.shared.hiddenCallbacks;if(T!==null)for(s.shared.hiddenCallbacks=null,s=0;s<T.length;s++)uh(T[s],S)}catch(q){We(a,a.return,q)}}l&&x&64&&wm(u),Vr(u,u.return);break;case 27:jm(u);case 26:case 5:In(s,u,l),l&&a===null&&x&4&&Nm(u),Vr(u,u.return);break;case 12:In(s,u,l);break;case 31:In(s,u,l),l&&x&4&&Tm(s,u);break;case 13:In(s,u,l),l&&x&4&&Mm(s,u);break;case 22:u.memoizedState===null&&In(s,u,l),Vr(u,u.return);break;case 30:break;default:In(s,u,l)}t=t.sibling}}function Fc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Nr(l))}function Jc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nr(e))}function mn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rm(e,t,l,a),t=t.sibling}function Rm(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:mn(e,t,l,a),s&2048&&Lr(9,t);break;case 1:mn(e,t,l,a);break;case 3:mn(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nr(e)));break;case 12:if(s&2048){mn(e,t,l,a),e=t.stateNode;try{var u=t.memoizedProps,x=u.id,S=u.onPostCommit;typeof S=="function"&&S(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){We(t,t.return,T)}}else mn(e,t,l,a);break;case 31:mn(e,t,l,a);break;case 13:mn(e,t,l,a);break;case 23:break;case 22:u=t.stateNode,x=t.alternate,t.memoizedState!==null?u._visibility&2?mn(e,t,l,a):Br(e,t):u._visibility&2?mn(e,t,l,a):(u._visibility|=2,za(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Fc(x,t);break;case 24:mn(e,t,l,a),s&2048&&Jc(t.alternate,t);break;default:mn(e,t,l,a)}}function za(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,x=t,S=l,T=a,q=x.flags;switch(x.tag){case 0:case 11:case 15:za(u,x,S,T,s),Lr(8,x);break;case 23:break;case 22:var F=x.stateNode;x.memoizedState!==null?F._visibility&2?za(u,x,S,T,s):Br(u,x):(F._visibility|=2,za(u,x,S,T,s)),s&&q&2048&&Fc(x.alternate,x);break;case 24:za(u,x,S,T,s),s&&q&2048&&Jc(x.alternate,x);break;default:za(u,x,S,T,s)}t=t.sibling}}function Br(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:Br(l,a),s&2048&&Fc(a.alternate,a);break;case 24:Br(l,a),s&2048&&Jc(a.alternate,a);break;default:Br(l,a)}t=t.sibling}}var Hr=8192;function La(e,t,l){if(e.subtreeFlags&Hr)for(e=e.child;e!==null;)zm(e,t,l),e=e.sibling}function zm(e,t,l){switch(e.tag){case 26:La(e,t,l),e.flags&Hr&&e.memoizedState!==null&&Hv(l,hn,e.memoizedState,e.memoizedProps);break;case 5:La(e,t,l);break;case 3:case 4:var a=hn;hn=Co(e.stateNode.containerInfo),La(e,t,l),hn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Hr,Hr=16777216,La(e,t,l),Hr=a):La(e,t,l));break;default:La(e,t,l)}}function Lm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ur(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Nt=a,Bm(a,e)}Lm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vm(e),e=e.sibling}function Vm(e){switch(e.tag){case 0:case 11:case 15:Ur(e),e.flags&2048&&ul(9,e,e.return);break;case 3:Ur(e);break;case 12:Ur(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ho(e)):Ur(e);break;default:Ur(e)}}function ho(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Nt=a,Bm(a,e)}Lm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ul(8,t,t.return),ho(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,ho(t));break;default:ho(t)}e=e.sibling}}function Bm(e,t){for(;Nt!==null;){var l=Nt;switch(l.tag){case 0:case 11:case 15:ul(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Nr(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Nt=a;else e:for(l=e;Nt!==null;){a=Nt;var s=a.sibling,u=a.return;if(_m(a),a===l){Nt=null;break e}if(s!==null){s.return=u,Nt=s;break e}Nt=u}}}var ev={getCacheForType:function(e){var t=Ct(ft),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Ct(ft).controller.signal}},tv=typeof WeakMap=="function"?WeakMap:Map,qe=0,Fe=null,De=null,ze=0,$e=0,Zt=null,fl=!1,Va=!1,Pc=!1,Yn=0,rt=0,dl=0,Pl=0,eu=0,Qt=0,Ba=0,Ir=null,Ht=null,tu=!1,mo=0,Hm=0,po=1/0,go=null,hl=null,xt=0,ml=null,Ha=null,qn=0,nu=0,lu=null,Um=null,Yr=0,au=null;function Kt(){return(qe&2)!==0&&ze!==0?ze&-ze:R.T!==null?uu():nd()}function Im(){if(Qt===0)if((ze&536870912)===0||Ve){var e=zl;zl<<=1,(zl&3932160)===0&&(zl=262144),Qt=e}else Qt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Qt}function Ut(e,t,l){(e===Fe&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),pl(e,ze,Qt,!1)),cr(e,l),((qe&2)===0||e!==Fe)&&(e===Fe&&((qe&2)===0&&(Pl|=l),rt===4&&pl(e,ze,Qt,!1)),vn(e))}function Ym(e,t,l){if((qe&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||sr(e,t),s=a?av(e,t):iu(e,t,!0),u=a;do{if(s===0){Va&&!a&&pl(e,t,0,!1);break}else{if(l=e.current.alternate,u&&!nv(l)){s=iu(e,t,!1),u=!1;continue}if(s===2){if(u=t,e.errorRecoveryDisabledLanes&u)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var S=e;s=Ir;var T=S.current.memoizedState.isDehydrated;if(T&&(Ua(S,x).flags|=256),x=iu(S,x,!1),x!==2){if(Pc&&!T){S.errorRecoveryDisabledLanes|=u,Pl|=u,s=4;break e}u=Ht,Ht=s,u!==null&&(Ht===null?Ht=u:Ht.push.apply(Ht,u))}s=x}if(u=!1,s!==2)continue}}if(s===1){Ua(e,0),pl(e,t,0,!0);break}e:{switch(a=e,u=s,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:pl(a,t,Qt,!fl);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=mo+300-He(),10<s)){if(pl(a,t,Qt,!fl),ji(a,0,!0)!==0)break e;qn=t,a.timeoutHandle=bp(qm.bind(null,a,l,Ht,go,tu,t,Qt,Pl,Ba,fl,u,"Throttled",-0,0),s);break e}qm(a,l,Ht,go,tu,t,Qt,Pl,Ba,fl,u,null,-0,0)}}break}while(!0);vn(e)}function qm(e,t,l,a,s,u,x,S,T,q,F,te,X,Q){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},zm(t,u,te);var me=(u&62914560)===u?mo-He():(u&4194048)===u?Hm-He():0;if(me=Uv(te,me),me!==null){qn=u,e.cancelPendingCommit=me(Fm.bind(null,e,t,u,l,a,s,x,S,T,F,te,null,X,Q)),pl(e,u,x,!q);return}}Fm(e,t,u,l,a,s,x,S,T)}function nv(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],u=s.getSnapshot;s=s.value;try{if(!Gt(u(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pl(e,t,l,a){t&=~eu,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var u=31-lt(s),x=1<<u;a[u]=-1,s&=~x}l!==0&&Pf(e,l,t)}function xo(){return(qe&6)===0?(qr(0),!1):!0}function ru(){if(De!==null){if($e===0)var e=De.return;else e=De,Dn=Gl=null,wc(e),Ta=null,jr=0,e=De;for(;e!==null;)vm(e.alternate,e),e=e.return;De=null}}function Ua(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Sv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),qn=0,ru(),Fe=e,De=l=Tn(e.current,null),ze=t,$e=0,Zt=null,fl=!1,Va=sr(e,t),Pc=!1,Ba=Qt=eu=Pl=dl=rt=0,Ht=Ir=null,tu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-lt(a),u=1<<s;t|=e[s],a&=~u}return Yn=t,Vi(),l}function Gm(e,t){Ae=null,R.H=kr,t===Oa||t===Xi?(t=ih(),$e=3):t===cc?(t=ih(),$e=4):$e=t===Vc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Zt=t,De===null&&(rt=1,ro(e,ln(t,e.current)))}function Xm(){var e=$t.current;return e===null?!0:(ze&4194048)===ze?sn===null:(ze&62914560)===ze||(ze&536870912)!==0?e===sn:!1}function $m(){var e=R.H;return R.H=kr,e===null?kr:e}function Wm(){var e=R.A;return R.A=ev,e}function yo(){rt=4,fl||(ze&4194048)!==ze&&$t.current!==null||(Va=!0),(dl&134217727)===0&&(Pl&134217727)===0||Fe===null||pl(Fe,ze,Qt,!1)}function iu(e,t,l){var a=qe;qe|=2;var s=$m(),u=Wm();(Fe!==e||ze!==t)&&(go=null,Ua(e,t)),t=!1;var x=rt;e:do try{if($e!==0&&De!==null){var S=De,T=Zt;switch($e){case 8:ru(),x=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var q=$e;if($e=0,Zt=null,Ia(e,S,T,q),l&&Va){x=0;break e}break;default:q=$e,$e=0,Zt=null,Ia(e,S,T,q)}}lv(),x=rt;break}catch(F){Gm(e,F)}while(!0);return t&&e.shellSuspendCounter++,Dn=Gl=null,qe=a,R.H=s,R.A=u,De===null&&(Fe=null,ze=0,Vi()),x}function lv(){for(;De!==null;)Zm(De)}function av(e,t){var l=qe;qe|=2;var a=$m(),s=Wm();Fe!==e||ze!==t?(go=null,po=He()+500,Ua(e,t)):Va=sr(e,t);e:do try{if($e!==0&&De!==null){t=De;var u=Zt;t:switch($e){case 1:$e=0,Zt=null,Ia(e,t,u,1);break;case 2:case 9:if(ah(u)){$e=0,Zt=null,Qm(t);break}t=function(){$e!==2&&$e!==9||Fe!==e||($e=7),vn(e)},u.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:ah(u)?($e=0,Zt=null,Qm(t)):($e=0,Zt=null,Ia(e,t,u,7));break;case 5:var x=null;switch(De.tag){case 26:x=De.memoizedState;case 5:case 27:var S=De;if(x?Rp(x):S.stateNode.complete){$e=0,Zt=null;var T=S.sibling;if(T!==null)De=T;else{var q=S.return;q!==null?(De=q,bo(q)):De=null}break t}}$e=0,Zt=null,Ia(e,t,u,5);break;case 6:$e=0,Zt=null,Ia(e,t,u,6);break;case 8:ru(),rt=6;break e;default:throw Error(o(462))}}rv();break}catch(F){Gm(e,F)}while(!0);return Dn=Gl=null,R.H=a,R.A=s,qe=l,De!==null?0:(Fe=null,ze=0,Vi(),rt)}function rv(){for(;De!==null&&!Ge();)Zm(De)}function Zm(e){var t=ym(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?bo(e):De=t}function Qm(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=dm(l,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=dm(l,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:wc(t);default:vm(l,t),t=De=Wd(t,Yn),t=ym(l,t,Yn)}e.memoizedProps=e.pendingProps,t===null?bo(e):De=t}function Ia(e,t,l,a){Dn=Gl=null,wc(t),Ta=null,jr=0;var s=t.return;try{if(W0(e,s,t,l,ze)){rt=1,ro(e,ln(l,e.current)),De=null;return}}catch(u){if(s!==null)throw De=s,u;rt=1,ro(e,ln(l,e.current)),De=null;return}t.flags&32768?(Ve||a===1?e=!0:Va||(ze&536870912)!==0?e=!1:(fl=e=!0,(a===2||a===9||a===3||a===6)&&(a=$t.current,a!==null&&a.tag===13&&(a.flags|=16384))),Km(t,e)):bo(t)}function bo(e){var t=e;do{if((t.flags&32768)!==0){Km(t,fl);return}e=t.return;var l=K0(t.alternate,t,Yn);if(l!==null){De=l;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);rt===0&&(rt=5)}function Km(e,t){do{var l=F0(e.alternate,e);if(l!==null){l.flags&=32767,De=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){De=e;return}De=e=l}while(e!==null);rt=6,De=null}function Fm(e,t,l,a,s,u,x,S,T){e.cancelPendingCommit=null;do vo();while(xt!==0);if((qe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Zs,Bb(e,l,u,x,S,T),e===Fe&&(De=Fe=null,ze=0),Ha=t,ml=e,qn=l,nu=u,lu=s,Um=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cv(Jn,function(){return np(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null,s=G.p,G.p=2,x=qe,qe|=4;try{J0(e,t,l)}finally{qe=x,G.p=s,R.T=a}}xt=1,Jm(),Pm(),ep()}}function Jm(){if(xt===1){xt=0;var e=ml,t=Ha,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=R.T,R.T=null;var a=G.p;G.p=2;var s=qe;qe|=4;try{Dm(t,e);var u=yu,x=Bd(e.containerInfo),S=u.focusedElem,T=u.selectionRange;if(x!==S&&S&&S.ownerDocument&&Vd(S.ownerDocument.documentElement,S)){if(T!==null&&qs(S)){var q=T.start,F=T.end;if(F===void 0&&(F=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(F,S.value.length);else{var te=S.ownerDocument||document,X=te&&te.defaultView||window;if(X.getSelection){var Q=X.getSelection(),me=S.textContent.length,Ne=Math.min(T.start,me),Ke=T.end===void 0?Ne:Math.min(T.end,me);!Q.extend&&Ne>Ke&&(x=Ke,Ke=Ne,Ne=x);var V=Ld(S,Ne),D=Ld(S,Ke);if(V&&D&&(Q.rangeCount!==1||Q.anchorNode!==V.node||Q.anchorOffset!==V.offset||Q.focusNode!==D.node||Q.focusOffset!==D.offset)){var Y=te.createRange();Y.setStart(V.node,V.offset),Q.removeAllRanges(),Ne>Ke?(Q.addRange(Y),Q.extend(D.node,D.offset)):(Y.setEnd(D.node,D.offset),Q.addRange(Y))}}}}for(te=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var J=te[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Do=!!xu,yu=xu=null}finally{qe=s,G.p=a,R.T=l}}e.current=t,xt=2}}function Pm(){if(xt===2){xt=0;var e=ml,t=Ha,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=R.T,R.T=null;var a=G.p;G.p=2;var s=qe;qe|=4;try{Am(e,t.alternate,t)}finally{qe=s,G.p=a,R.T=l}}xt=3}}function ep(){if(xt===4||xt===3){xt=0,Je();var e=ml,t=Ha,l=qn,a=Um;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?xt=5:(xt=0,Ha=ml=null,tp(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(hl=null),Es(l),t=t.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Ce,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=R.T,s=G.p,G.p=2,R.T=null;try{for(var u=e.onRecoverableError,x=0;x<a.length;x++){var S=a[x];u(S.value,{componentStack:S.stack})}}finally{R.T=t,G.p=s}}(qn&3)!==0&&vo(),vn(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===au?Yr++:(Yr=0,au=e):Yr=0,qr(0)}}function tp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Nr(t)))}function vo(){return Jm(),Pm(),ep(),np()}function np(){if(xt!==5)return!1;var e=ml,t=nu;nu=0;var l=Es(qn),a=R.T,s=G.p;try{G.p=32>l?32:l,R.T=null,l=lu,lu=null;var u=ml,x=qn;if(xt=0,Ha=ml=null,qn=0,(qe&6)!==0)throw Error(o(331));var S=qe;if(qe|=4,Vm(u.current),Rm(u,u.current,x,l),qe=S,qr(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Ce,u)}catch{}return!0}finally{G.p=s,R.T=a,tp(e,t)}}function lp(e,t,l){t=ln(l,t),t=Lc(e.stateNode,t,2),e=ol(e,t,2),e!==null&&(cr(e,2),vn(e))}function We(e,t,l){if(e.tag===3)lp(e,e,l);else for(;t!==null;){if(t.tag===3){lp(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(hl===null||!hl.has(a))){e=ln(l,e),l=am(2),a=ol(t,l,2),a!==null&&(rm(l,a,t,e),cr(a,2),vn(a));break}}t=t.return}}function ou(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new tv;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(Pc=!0,s.add(l),e=iv.bind(null,e,t,l),t.then(e,e))}function iv(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Fe===e&&(ze&l)===l&&(rt===4||rt===3&&(ze&62914560)===ze&&300>He()-mo?(qe&2)===0&&Ua(e,0):eu|=l,Ba===ze&&(Ba=0)),vn(e)}function ap(e,t){t===0&&(t=Jf()),e=Il(e,t),e!==null&&(cr(e,t),vn(e))}function ov(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ap(e,l)}function sv(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),ap(e,l)}function cv(e,t){return se(e,t)}var wo=null,Ya=null,su=!1,So=!1,cu=!1,gl=0;function vn(e){e!==Ya&&e.next===null&&(Ya===null?wo=Ya=e:Ya=Ya.next=e),So=!0,su||(su=!0,fv())}function qr(e,t){if(!cu&&So){cu=!0;do for(var l=!1,a=wo;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var u=0;else{var x=a.suspendedLanes,S=a.pingedLanes;u=(1<<31-lt(42|e)+1)-1,u&=s&~(x&~S),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(l=!0,sp(a,u))}else u=ze,u=ji(a,a===Fe?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||sr(a,u)||(l=!0,sp(a,u));a=a.next}while(l);cu=!1}}function uv(){rp()}function rp(){So=su=!1;var e=0;gl!==0&&wv()&&(e=gl);for(var t=He(),l=null,a=wo;a!==null;){var s=a.next,u=ip(a,t);u===0?(a.next=null,l===null?wo=s:l.next=s,s===null&&(Ya=l)):(l=a,(e!==0||(u&3)!==0)&&(So=!0)),a=s}xt!==0&&xt!==5||qr(e),gl!==0&&(gl=0)}function ip(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var x=31-lt(u),S=1<<x,T=s[x];T===-1?((S&l)===0||(S&a)!==0)&&(s[x]=Vb(S,t)):T<=t&&(e.expiredLanes|=S),u&=~S}if(t=Fe,l=ze,l=ji(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ee(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||sr(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Ee(a),Es(l)){case 2:case 8:l=Fn;break;case 32:l=Jn;break;case 268435456:l=oa;break;default:l=Jn}return a=op.bind(null,e),l=se(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Ee(a),e.callbackPriority=2,e.callbackNode=null,2}function op(e,t){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(vo()&&e.callbackNode!==l)return null;var a=ze;return a=ji(e,e===Fe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Ym(e,a,t),ip(e,He()),e.callbackNode!=null&&e.callbackNode===l?op.bind(null,e):null)}function sp(e,t){if(vo())return null;Ym(e,t,!0)}function fv(){Nv(function(){(qe&6)!==0?se(Kn,uv):rp()})}function uu(){if(gl===0){var e=Aa;e===0&&(e=Rl,Rl<<=1,(Rl&261888)===0&&(Rl=256)),gl=e}return gl}function cp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oi(""+e)}function up(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function dv(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var u=cp((s[Rt]||null).action),x=a.submitter;x&&(t=(t=x[Rt]||null)?cp(t.formAction):x.getAttribute("formAction"),t!==null&&(u=t,x=null));var S=new ki("action","action",null,a,s);e.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(gl!==0){var T=x?up(s,x):new FormData(s);Tc(l,{pending:!0,data:T,method:s.method,action:u},null,T)}}else typeof u=="function"&&(S.preventDefault(),T=x?up(s,x):new FormData(s),Tc(l,{pending:!0,data:T,method:s.method,action:u},u,T))},currentTarget:s}]})}}for(var fu=0;fu<Ws.length;fu++){var du=Ws[fu],hv=du.toLowerCase(),mv=du[0].toUpperCase()+du.slice(1);dn(hv,"on"+mv)}dn(Id,"onAnimationEnd"),dn(Yd,"onAnimationIteration"),dn(qd,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(T0,"onTransitionRun"),dn(M0,"onTransitionStart"),dn(D0,"onTransitionCancel"),dn(Gd,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),Vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gr));function fp(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var x=a.length-1;0<=x;x--){var S=a[x],T=S.instance,q=S.currentTarget;if(S=S.listener,T!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=q;try{u(s)}catch(F){Li(F)}s.currentTarget=null,u=T}else for(x=0;x<a.length;x++){if(S=a[x],T=S.instance,q=S.currentTarget,S=S.listener,T!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=q;try{u(s)}catch(F){Li(F)}s.currentTarget=null,u=T}}}}function ke(e,t){var l=t[js];l===void 0&&(l=t[js]=new Set);var a=e+"__bubble";l.has(a)||(dp(t,e,2,!1),l.add(a))}function hu(e,t,l){var a=0;t&&(a|=4),dp(l,e,a,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function mu(e){if(!e[No]){e[No]=!0,rd.forEach(function(l){l!=="selectionchange"&&(pv.has(l)||hu(l,!1,e),hu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,hu("selectionchange",!1,t))}}function dp(e,t,l,a){switch(Ip(t)){case 2:var s=qv;break;case 8:s=Gv;break;default:s=Ou}l=s.bind(null,t,l,e),s=void 0,!Rs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function pu(e,t,l,a,s){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var S=a.stateNode.containerInfo;if(S===s)break;if(x===4)for(x=a.return;x!==null;){var T=x.tag;if((T===3||T===4)&&x.stateNode.containerInfo===s)return;x=x.return}for(;S!==null;){if(x=ua(S),x===null)return;if(T=x.tag,T===5||T===6||T===26||T===27){a=u=x;continue e}S=S.parentNode}}a=a.return}xd(function(){var q=u,F=Ds(l),te=[];e:{var X=Xd.get(e);if(X!==void 0){var Q=ki,me=e;switch(e){case"keypress":if(Mi(l)===0)break e;case"keydown":case"keyup":Q=s0;break;case"focusin":me="focus",Q=Bs;break;case"focusout":me="blur",Q=Bs;break;case"beforeblur":case"afterblur":Q=Bs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Kb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=f0;break;case Id:case Yd:case qd:Q=Pb;break;case Gd:Q=h0;break;case"scroll":case"scrollend":Q=Zb;break;case"wheel":Q=p0;break;case"copy":case"cut":case"paste":Q=t0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Sd;break;case"toggle":case"beforetoggle":Q=x0}var Ne=(t&4)!==0,Ke=!Ne&&(e==="scroll"||e==="scrollend"),V=Ne?X!==null?X+"Capture":null:X;Ne=[];for(var D=q,Y;D!==null;){var J=D;if(Y=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||Y===null||V===null||(J=dr(D,V),J!=null&&Ne.push(Xr(D,J,Y))),Ke)break;D=D.return}0<Ne.length&&(X=new Q(X,me,null,l,F),te.push({event:X,listeners:Ne}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",X&&l!==Ms&&(me=l.relatedTarget||l.fromElement)&&(ua(me)||me[ca]))break e;if((Q||X)&&(X=F.window===F?F:(X=F.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(me=l.relatedTarget||l.toElement,Q=q,me=me?ua(me):null,me!==null&&(Ke=f(me),Ne=me.tag,me!==Ke||Ne!==5&&Ne!==27&&Ne!==6)&&(me=null)):(Q=null,me=q),Q!==me)){if(Ne=vd,J="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=Sd,J="onPointerLeave",V="onPointerEnter",D="pointer"),Ke=Q==null?X:fr(Q),Y=me==null?X:fr(me),X=new Ne(J,D+"leave",Q,l,F),X.target=Ke,X.relatedTarget=Y,J=null,ua(F)===q&&(Ne=new Ne(V,D+"enter",me,l,F),Ne.target=Y,Ne.relatedTarget=Ke,J=Ne),Ke=J,Q&&me)t:{for(Ne=gv,V=Q,D=me,Y=0,J=V;J;J=Ne(J))Y++;J=0;for(var ve=D;ve;ve=Ne(ve))J++;for(;0<Y-J;)V=Ne(V),Y--;for(;0<J-Y;)D=Ne(D),J--;for(;Y--;){if(V===D||D!==null&&V===D.alternate){Ne=V;break t}V=Ne(V),D=Ne(D)}Ne=null}else Ne=null;Q!==null&&hp(te,X,Q,Ne,!1),me!==null&&Ke!==null&&hp(te,Ke,me,Ne,!0)}}e:{if(X=q?fr(q):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var Ie=Td;else if(_d(X))if(Md)Ie=A0;else{Ie=j0;var xe=E0}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?q&&Ts(q.elementType)&&(Ie=Td):Ie=C0;if(Ie&&(Ie=Ie(e,q))){Od(te,Ie,l,F);break e}xe&&xe(e,X,q),e==="focusout"&&q&&X.type==="number"&&q.memoizedProps.value!=null&&Os(X,"number",X.value)}switch(xe=q?fr(q):window,e){case"focusin":(_d(xe)||xe.contentEditable==="true")&&(ba=xe,Gs=q,vr=null);break;case"focusout":vr=Gs=ba=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,Hd(te,l,F);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":Hd(te,l,F)}var _e;if(Us)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ya?Cd(e,l)&&(Le="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(Nd&&l.locale!=="ko"&&(ya||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ya&&(_e=yd()):(el=F,zs="value"in el?el.value:el.textContent,ya=!0)),xe=Eo(q,Le),0<xe.length&&(Le=new wd(Le,e,null,l,F),te.push({event:Le,listeners:xe}),_e?Le.data=_e:(_e=Ad(l),_e!==null&&(Le.data=_e)))),(_e=b0?v0(e,l):w0(e,l))&&(Le=Eo(q,"onBeforeInput"),0<Le.length&&(xe=new wd("onBeforeInput","beforeinput",null,l,F),te.push({event:xe,listeners:Le}),xe.data=_e)),dv(te,e,q,l,F)}fp(te,t)})}function Xr(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Eo(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,u=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||u===null||(s=dr(e,l),s!=null&&a.unshift(Xr(e,s,u)),s=dr(e,t),s!=null&&a.push(Xr(e,s,u))),e.tag===3)return a;e=e.return}return[]}function gv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hp(e,t,l,a,s){for(var u=t._reactName,x=[];l!==null&&l!==a;){var S=l,T=S.alternate,q=S.stateNode;if(S=S.tag,T!==null&&T===a)break;S!==5&&S!==26&&S!==27||q===null||(T=q,s?(q=dr(l,u),q!=null&&x.unshift(Xr(l,q,T))):s||(q=dr(l,u),q!=null&&x.push(Xr(l,q,T)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var xv=/\r\n?/g,yv=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(xv,`
`).replace(yv,"")}function pp(e,t){return t=mp(t),mp(e)===t}function Qe(e,t,l,a,s,u){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||pa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&pa(e,""+a);break;case"className":Ai(e,"class",a);break;case"tabIndex":Ai(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ai(e,l,a);break;case"style":pd(e,a,u);break;case"data":if(t!=="object"){Ai(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Oi(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(l==="formAction"?(t!=="input"&&Qe(e,t,"name",s.name,s,null),Qe(e,t,"formEncType",s.formEncType,s,null),Qe(e,t,"formMethod",s.formMethod,s,null),Qe(e,t,"formTarget",s.formTarget,s,null)):(Qe(e,t,"encType",s.encType,s,null),Qe(e,t,"method",s.method,s,null),Qe(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Oi(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=_n);break;case"onScroll":a!=null&&ke("scroll",e);break;case"onScrollEnd":a!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Oi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Ci(e,"popover",a);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ci(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=$b.get(l)||l,Ci(e,l,a))}}function gu(e,t,l,a,s,u){switch(l){case"style":pd(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?pa(e,a):(typeof a=="number"||typeof a=="bigint")&&pa(e,""+a);break;case"onScroll":a!=null&&ke("scroll",e);break;case"onScrollEnd":a!=null&&ke("scrollend",e);break;case"onClick":a!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!id.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),u=e[Rt]||null,u=u!=null?u[l]:null,typeof u=="function"&&e.removeEventListener(t,u,s),typeof a=="function")){typeof u!="function"&&u!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Ci(e,l,a)}}}function _t(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var a=!1,s=!1,u;for(u in l)if(l.hasOwnProperty(u)){var x=l[u];if(x!=null)switch(u){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Qe(e,t,u,x,l,null)}}s&&Qe(e,t,"srcSet",l.srcSet,l,null),a&&Qe(e,t,"src",l.src,l,null);return;case"input":ke("invalid",e);var S=u=x=s=null,T=null,q=null;for(a in l)if(l.hasOwnProperty(a)){var F=l[a];if(F!=null)switch(a){case"name":s=F;break;case"type":x=F;break;case"checked":T=F;break;case"defaultChecked":q=F;break;case"value":u=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,t));break;default:Qe(e,t,a,F,l,null)}}fd(e,u,S,T,q,x,s,!1);return;case"select":ke("invalid",e),a=x=u=null;for(s in l)if(l.hasOwnProperty(s)&&(S=l[s],S!=null))switch(s){case"value":u=S;break;case"defaultValue":x=S;break;case"multiple":a=S;default:Qe(e,t,s,S,l,null)}t=u,l=x,e.multiple=!!a,t!=null?ma(e,!!a,t,!1):l!=null&&ma(e,!!a,l,!0);return;case"textarea":ke("invalid",e),u=s=a=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":a=S;break;case"defaultValue":s=S;break;case"children":u=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:Qe(e,t,x,S,l,null)}hd(e,a,s,u);return;case"option":for(T in l)l.hasOwnProperty(T)&&(a=l[T],a!=null)&&(T==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Qe(e,t,T,a,l,null));return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(a=0;a<Gr.length;a++)ke(Gr[a],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(a=l[q],a!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Qe(e,t,q,a,l,null)}return;default:if(Ts(t)){for(F in l)l.hasOwnProperty(F)&&(a=l[F],a!==void 0&&gu(e,t,F,a,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(a=l[S],a!=null&&Qe(e,t,S,a,l,null))}function bv(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,u=null,x=null,S=null,T=null,q=null,F=null;for(Q in l){var te=l[Q];if(l.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":T=te;default:a.hasOwnProperty(Q)||Qe(e,t,Q,null,a,te)}}for(var X in a){var Q=a[X];if(te=l[X],a.hasOwnProperty(X)&&(Q!=null||te!=null))switch(X){case"type":u=Q;break;case"name":s=Q;break;case"checked":q=Q;break;case"defaultChecked":F=Q;break;case"value":x=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:Q!==te&&Qe(e,t,X,Q,a,te)}}_s(e,x,S,T,q,F,u,s);return;case"select":Q=x=S=X=null;for(u in l)if(T=l[u],l.hasOwnProperty(u)&&T!=null)switch(u){case"value":break;case"multiple":Q=T;default:a.hasOwnProperty(u)||Qe(e,t,u,null,a,T)}for(s in a)if(u=a[s],T=l[s],a.hasOwnProperty(s)&&(u!=null||T!=null))switch(s){case"value":X=u;break;case"defaultValue":S=u;break;case"multiple":x=u;default:u!==T&&Qe(e,t,s,u,a,T)}t=S,l=x,a=Q,X!=null?ma(e,!!l,X,!1):!!a!=!!l&&(t!=null?ma(e,!!l,t,!0):ma(e,!!l,l?[]:"",!1));return;case"textarea":Q=X=null;for(S in l)if(s=l[S],l.hasOwnProperty(S)&&s!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Qe(e,t,S,null,a,s)}for(x in a)if(s=a[x],u=l[x],a.hasOwnProperty(x)&&(s!=null||u!=null))switch(x){case"value":X=s;break;case"defaultValue":Q=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==u&&Qe(e,t,x,s,a,u)}dd(e,X,Q);return;case"option":for(var me in l)X=l[me],l.hasOwnProperty(me)&&X!=null&&!a.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:Qe(e,t,me,null,a,X));for(T in a)X=a[T],Q=l[T],a.hasOwnProperty(T)&&X!==Q&&(X!=null||Q!=null)&&(T==="selected"?e.selected=X&&typeof X!="function"&&typeof X!="symbol":Qe(e,t,T,X,a,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)X=l[Ne],l.hasOwnProperty(Ne)&&X!=null&&!a.hasOwnProperty(Ne)&&Qe(e,t,Ne,null,a,X);for(q in a)if(X=a[q],Q=l[q],a.hasOwnProperty(q)&&X!==Q&&(X!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,t));break;default:Qe(e,t,q,X,a,Q)}return;default:if(Ts(t)){for(var Ke in l)X=l[Ke],l.hasOwnProperty(Ke)&&X!==void 0&&!a.hasOwnProperty(Ke)&&gu(e,t,Ke,void 0,a,X);for(F in a)X=a[F],Q=l[F],!a.hasOwnProperty(F)||X===Q||X===void 0&&Q===void 0||gu(e,t,F,X,a,Q);return}}for(var V in l)X=l[V],l.hasOwnProperty(V)&&X!=null&&!a.hasOwnProperty(V)&&Qe(e,t,V,null,a,X);for(te in a)X=a[te],Q=l[te],!a.hasOwnProperty(te)||X===Q||X==null&&Q==null||Qe(e,t,te,X,a,Q)}function gp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],u=s.transferSize,x=s.initiatorType,S=s.duration;if(u&&S&&gp(x)){for(x=0,S=s.responseEnd,a+=1;a<l.length;a++){var T=l[a],q=T.startTime;if(q>S)break;var F=T.transferSize,te=T.initiatorType;F&&gp(te)&&(T=T.responseEnd,x+=F*(T<S?1:(S-q)/(T-q)))}if(--a,t+=8*(u+x)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xu=null,yu=null;function jo(e){return e.nodeType===9?e:e.ownerDocument}function xp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vu=null;function wv(){var e=window.event;return e&&e.type==="popstate"?e===vu?!1:(vu=e,!0):(vu=null,!1)}var bp=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,Nv=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(e){return vp.resolve(null).then(e).catch(Ev)}:bp;function Ev(e){setTimeout(function(){throw e})}function xl(e){return e==="head"}function wp(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),$a(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")$r(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,$r(l);for(var u=l.firstChild;u;){var x=u.nextSibling,S=u.nodeName;u[ur]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=x}}else l==="body"&&$r(e.ownerDocument.body);l=s}while(l);$a(t)}function Sp(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":wu(l),Cs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function jv(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ur])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function Cv(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=cn(e.nextSibling),e===null))return null;return e}function Np(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=cn(e.nextSibling),e===null))return null;return e}function Su(e){return e.data==="$?"||e.data==="$~"}function Nu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Av(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Eu=null;function Ep(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return cn(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function jp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Cp(e,t,l){switch(t=jo(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function $r(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Cs(e)}var un=new Map,Ap=new Set;function Co(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gn=G.d;G.d={f:_v,r:Ov,D:Tv,C:Mv,L:Dv,m:kv,X:zv,S:Rv,M:Lv};function _v(){var e=Gn.f(),t=xo();return e||t}function Ov(e){var t=fa(e);t!==null&&t.tag===5&&t.type==="form"?Gh(t):Gn.r(e)}var qa=typeof document>"u"?null:document;function _p(e,t,l){var a=qa;if(a&&typeof t=="string"&&t){var s=tn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),Ap.has(s)||(Ap.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),_t(t,"link",e),St(t),a.head.appendChild(t)))}}function Tv(e){Gn.D(e),_p("dns-prefetch",e,null)}function Mv(e,t){Gn.C(e,t),_p("preconnect",e,t)}function Dv(e,t,l){Gn.L(e,t,l);var a=qa;if(a&&e&&t){var s='link[rel="preload"][as="'+tn(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+tn(l.imageSizes)+'"]')):s+='[href="'+tn(e)+'"]';var u=s;switch(t){case"style":u=Ga(e);break;case"script":u=Xa(e)}un.has(u)||(e=b({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),un.set(u,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Wr(u))||t==="script"&&a.querySelector(Zr(u))||(t=a.createElement("link"),_t(t,"link",e),St(t),a.head.appendChild(t)))}}function kv(e,t){Gn.m(e,t);var l=qa;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+tn(a)+'"][href="'+tn(e)+'"]',u=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Xa(e)}if(!un.has(u)&&(e=b({rel:"modulepreload",href:e},t),un.set(u,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zr(u)))return}a=l.createElement("link"),_t(a,"link",e),St(a),l.head.appendChild(a)}}}function Rv(e,t,l){Gn.S(e,t,l);var a=qa;if(a&&e){var s=da(a).hoistableStyles,u=Ga(e);t=t||"default";var x=s.get(u);if(!x){var S={loading:0,preload:null};if(x=a.querySelector(Wr(u)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},l),(l=un.get(u))&&ju(e,l);var T=x=a.createElement("link");St(T),_t(T,"link",e),T._p=new Promise(function(q,F){T.onload=q,T.onerror=F}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ao(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:S},s.set(u,x)}}}function zv(e,t){Gn.X(e,t);var l=qa;if(l&&e){var a=da(l).hoistableScripts,s=Xa(e),u=a.get(s);u||(u=l.querySelector(Zr(s)),u||(e=b({src:e,async:!0},t),(t=un.get(s))&&Cu(e,t),u=l.createElement("script"),St(u),_t(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Lv(e,t){Gn.M(e,t);var l=qa;if(l&&e){var a=da(l).hoistableScripts,s=Xa(e),u=a.get(s);u||(u=l.querySelector(Zr(s)),u||(e=b({src:e,async:!0,type:"module"},t),(t=un.get(s))&&Cu(e,t),u=l.createElement("script"),St(u),_t(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Op(e,t,l,a){var s=(s=ye.current)?Co(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ga(l.href),l=da(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ga(l.href);var u=da(s).hoistableStyles,x=u.get(e);if(x||(s=s.ownerDocument||s,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,x),(u=s.querySelector(Wr(e)))&&!u._p&&(x.instance=u,x.state.loading=5),un.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},un.set(e,l),u||Vv(s,e,l,x.state))),t&&a===null)throw Error(o(528,""));return x}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xa(l),l=da(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ga(e){return'href="'+tn(e)+'"'}function Wr(e){return'link[rel="stylesheet"]['+e+"]"}function Tp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Vv(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),_t(t,"link",l),St(t),e.head.appendChild(t))}function Xa(e){return'[src="'+tn(e)+'"]'}function Zr(e){return"script[async]"+e}function Mp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+tn(l.href)+'"]');if(a)return t.instance=a,St(a),a;var s=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),St(a),_t(a,"style",s),Ao(a,l.precedence,e),t.instance=a;case"stylesheet":s=Ga(l.href);var u=e.querySelector(Wr(s));if(u)return t.state.loading|=4,t.instance=u,St(u),u;a=Tp(l),(s=un.get(s))&&ju(a,s),u=(e.ownerDocument||e).createElement("link"),St(u);var x=u;return x._p=new Promise(function(S,T){x.onload=S,x.onerror=T}),_t(u,"link",a),t.state.loading|=4,Ao(u,l.precedence,e),t.instance=u;case"script":return u=Xa(l.src),(s=e.querySelector(Zr(u)))?(t.instance=s,St(s),s):(a=l,(s=un.get(u))&&(a=b({},l),Cu(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),St(s),_t(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ao(a,l.precedence,e));return t.instance}function Ao(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,u=s,x=0;x<a.length;x++){var S=a[x];if(S.dataset.precedence===t)u=S;else if(u!==s)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _o=null;function Dp(e,t,l){if(_o===null){var a=new Map,s=_o=new Map;s.set(l,a)}else s=_o,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var u=l[s];if(!(u[ur]||u[Et]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var x=u.getAttribute(t)||"";x=e+x;var S=a.get(x);S?S.push(u):a.set(x,[u])}}return a}function kp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Bv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hv(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=Ga(a.href),u=t.querySelector(Wr(s));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Oo.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=u,St(u);return}u=t.ownerDocument||t,a=Tp(a),(s=un.get(s))&&ju(a,s),u=u.createElement("link"),St(u);var x=u;x._p=new Promise(function(S,T){x.onload=S,x.onerror=T}),_t(u,"link",a),l.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Oo.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Au=0;function Uv(e,t){return e.stylesheets&&e.count===0&&Mo(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Au===0&&(Au=62500*vv());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Au?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var To=null;function Mo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,To=new Map,t.forEach(Iv,e),To=null,Oo.call(e))}function Iv(e,t){if(!(t.state.loading&4)){var l=To.get(e);if(l)var a=l.get(null);else{l=new Map,To.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<s.length;u++){var x=s[u];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),a=x)}a&&l.set(null,a)}s=t.instance,x=s.getAttribute("data-precedence"),u=l.get(x)||a,u===a&&l.set(null,s),l.set(x,s),this.count++,a=Oo.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),u?u.parentNode.insertBefore(s,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Qr={$$typeof:W,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function Yv(e,t,l,a,s,u,x,S,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=u,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function zp(e,t,l,a,s,u,x,S,T,q,F,te){return e=new Yv(e,t,l,x,T,q,F,te,S),t=1,u===!0&&(t|=24),u=Xt(3,null,null,t),e.current=u,u.stateNode=e,t=ic(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:l,cache:t},uc(u),e}function Lp(e){return e?(e=Sa,e):Sa}function Vp(e,t,l,a,s,u){s=Lp(s),a.context===null?a.context=s:a.pendingContext=s,a=il(t),a.payload={element:l},u=u===void 0?null:u,u!==null&&(a.callback=u),l=ol(e,a,t),l!==null&&(Ut(l,e,t),Ar(l,e,t))}function Bp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function _u(e,t){Bp(e,t),(e=e.alternate)&&Bp(e,t)}function Hp(e){if(e.tag===13||e.tag===31){var t=Il(e,67108864);t!==null&&Ut(t,e,67108864),_u(e,67108864)}}function Up(e){if(e.tag===13||e.tag===31){var t=Kt();t=Ns(t);var l=Il(e,t);l!==null&&Ut(l,e,t),_u(e,t)}}var Do=!0;function qv(e,t,l,a){var s=R.T;R.T=null;var u=G.p;try{G.p=2,Ou(e,t,l,a)}finally{G.p=u,R.T=s}}function Gv(e,t,l,a){var s=R.T;R.T=null;var u=G.p;try{G.p=8,Ou(e,t,l,a)}finally{G.p=u,R.T=s}}function Ou(e,t,l,a){if(Do){var s=Tu(a);if(s===null)pu(e,t,a,ko,l),Yp(e,a);else if($v(s,e,t,l,a))a.stopPropagation();else if(Yp(e,a),t&4&&-1<Xv.indexOf(e)){for(;s!==null;){var u=fa(s);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var x=Ll(u.pendingLanes);if(x!==0){var S=u;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var T=1<<31-lt(x);S.entanglements[1]|=T,x&=~T}vn(u),(qe&6)===0&&(po=He()+500,qr(0))}}break;case 31:case 13:S=Il(u,2),S!==null&&Ut(S,u,2),xo(),_u(u,2)}if(u=Tu(a),u===null&&pu(e,t,a,ko,l),u===s)break;s=u}s!==null&&a.stopPropagation()}else pu(e,t,a,null,l)}}function Tu(e){return e=Ds(e),Mu(e)}var ko=null;function Mu(e){if(ko=null,e=ua(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=m(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ko=e,null}function Ip(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case Kn:return 2;case Fn:return 8;case Jn:case ir:return 32;case oa:return 268435456;default:return 32}default:return 32}}var Du=!1,yl=null,bl=null,vl=null,Kr=new Map,Fr=new Map,wl=[],Xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yp(e,t){switch(e){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":Kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function Jr(e,t,l,a,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:u,targetContainers:[s]},t!==null&&(t=fa(t),t!==null&&Hp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function $v(e,t,l,a,s){switch(t){case"focusin":return yl=Jr(yl,e,t,l,a,s),!0;case"dragenter":return bl=Jr(bl,e,t,l,a,s),!0;case"mouseover":return vl=Jr(vl,e,t,l,a,s),!0;case"pointerover":var u=s.pointerId;return Kr.set(u,Jr(Kr.get(u)||null,e,t,l,a,s)),!0;case"gotpointercapture":return u=s.pointerId,Fr.set(u,Jr(Fr.get(u)||null,e,t,l,a,s)),!0}return!1}function qp(e){var t=ua(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,ld(e.priority,function(){Up(l)});return}}else if(t===31){if(t=m(l),t!==null){e.blockedOn=t,ld(e.priority,function(){Up(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ro(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Tu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ms=a,l.target.dispatchEvent(a),Ms=null}else return t=fa(l),t!==null&&Hp(t),e.blockedOn=l,!1;t.shift()}return!0}function Gp(e,t,l){Ro(e)&&l.delete(t)}function Wv(){Du=!1,yl!==null&&Ro(yl)&&(yl=null),bl!==null&&Ro(bl)&&(bl=null),vl!==null&&Ro(vl)&&(vl=null),Kr.forEach(Gp),Fr.forEach(Gp)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,Du||(Du=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Wv)))}var Lo=null;function Xp(e){Lo!==e&&(Lo=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lo===e&&(Lo=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Mu(a||l)===null)continue;break}var u=fa(l);u!==null&&(e.splice(t,3),t-=3,Tc(u,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function $a(e){function t(T){return zo(T,e)}yl!==null&&zo(yl,e),bl!==null&&zo(bl,e),vl!==null&&zo(vl,e),Kr.forEach(t),Fr.forEach(t);for(var l=0;l<wl.length;l++){var a=wl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<wl.length&&(l=wl[0],l.blockedOn===null);)qp(l),l.blockedOn===null&&wl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],u=l[a+1],x=s[Rt]||null;if(typeof u=="function")x||Xp(l);else if(x){var S=null;if(u&&u.hasAttribute("formAction")){if(s=u,x=u[Rt]||null)S=x.formAction;else if(Mu(s)!==null)continue}else S=x.action;typeof S=="function"?l[a+1]=S:(l.splice(a,3),a-=3),Xp(l)}}}function $p(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(x){return s=x})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function ku(e){this._internalRoot=e}Vo.prototype.render=ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Kt();Vp(l,a,e,t,null,null)},Vo.prototype.unmount=ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vp(e.current,2,null,e,null,null),xo(),t[ca]=null}};function Vo(e){this._internalRoot=e}Vo.prototype.unstable_scheduleHydration=function(e){if(e){var t=nd();e={blockedOn:null,target:e,priority:t};for(var l=0;l<wl.length&&t!==0&&t<wl[l].priority;l++);wl.splice(l,0,e),l===0&&qp(e)}};var Wp=r.version;if(Wp!=="19.2.3")throw Error(o(527,Wp,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Zv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{Ce=Bo.inject(Zv),Xe=Bo}catch{}}return ei.createRoot=function(e,t){if(!c(e))throw Error(o(299));var l=!1,a="",s=em,u=tm,x=nm;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=zp(e,1,!1,null,null,l,a,null,s,u,x,$p),e[ca]=t.current,mu(e),new ku(t)},ei.hydrateRoot=function(e,t,l){if(!c(e))throw Error(o(299));var a=!1,s="",u=em,x=tm,S=nm,T=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(u=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(T=l.formState)),t=zp(e,1,!0,t,l??null,a,s,T,u,x,S,$p),t.context=Lp(null),l=t.current,a=Kt(),a=Ns(a),s=il(a),s.callback=null,ol(l,s,a),l=a,t.current.lanes=l,cr(t,l),vn(t),e[ca]=t.current,mu(e),new Vo(t)},ei.version="19.2.3",ei}var lg;function a1(){if(lg)return Lu.exports;lg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Lu.exports=l1(),Lu.exports}var r1=a1();const ag=n=>{let r;const i=new Set,o=(p,y)=>{const b=typeof p=="function"?p(r):p;if(!Object.is(b,r)){const N=r;r=y??(typeof b!="object"||b===null)?b:Object.assign({},r,b),i.forEach(C=>C(r,N))}},c=()=>r,m={setState:o,getState:c,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=r=n(o,c,m);return m},i1=(n=>n?ag(n):ag),o1=n=>n;function s1(n,r=o1){const i=Nn.useSyncExternalStore(n.subscribe,Nn.useCallback(()=>r(n.getState()),[n,r]),Nn.useCallback(()=>r(n.getInitialState()),[n,r]));return Nn.useDebugValue(i),i}const rg=n=>{const r=i1(n),i=o=>s1(r,o);return Object.assign(i,r),i},xs=(n=>n?rg(n):rg);function c1(n,r){let i;try{i=n()}catch{return}return{getItem:c=>{var f;const h=g=>g===null?null:JSON.parse(g,void 0),m=(f=i.getItem(c))!=null?f:null;return m instanceof Promise?m.then(h):h(m)},setItem:(c,f)=>i.setItem(c,JSON.stringify(f,void 0)),removeItem:c=>i.removeItem(c)}}const of=n=>r=>{try{const i=n(r);return i instanceof Promise?i:{then(o){return of(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return of(o)(i)}}}},u1=(n,r)=>(i,o,c)=>{let f={storage:c1(()=>localStorage),partialize:j=>j,version:0,merge:(j,O)=>({...O,...j}),...r},h=!1,m=0;const g=new Set,p=new Set;let y=f.storage;if(!y)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...j)},o,c);const b=()=>{const j=f.partialize({...o()});return y.setItem(f.name,{state:j,version:f.version})},N=c.setState;c.setState=(j,O)=>(N(j,O),b());const C=n((...j)=>(i(...j),b()),o,c);c.getInitialState=()=>C;let v;const w=()=>{var j,O;if(!y)return;const _=++m;h=!1,g.forEach($=>{var B;return $((B=o())!=null?B:C)});const W=((O=f.onRehydrateStorage)==null?void 0:O.call(f,(j=o())!=null?j:C))||void 0;return of(y.getItem.bind(y))(f.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==f.version){if(f.migrate){const B=f.migrate($.state,$.version);return B instanceof Promise?B.then(H=>[!0,H]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var B;if(_!==m)return;const[H,I]=$;if(v=f.merge(I,(B=o())!=null?B:C),i(v,!0),H)return b()}).then(()=>{_===m&&(W?.(v,void 0),v=o(),h=!0,p.forEach($=>$(v)))}).catch($=>{_===m&&W?.(void 0,$)})};return c.persist={setOptions:j=>{f={...f,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>w(),hasHydrated:()=>h,onHydrate:j=>(g.add(j),()=>{g.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},f.skipHydration||w(),v||C},f1=u1;function Ef(n){return n===null||n===void 0?"null":typeof n=="string"?n===""||n.includes(":")||n.includes("#")||n.includes(`
`)||n.startsWith(" ")||n.endsWith(" ")||/^[[{}>|*&!%@`]/.test(n)||/^-?\d+(\.\d+)?$/.test(n)||n==="true"||n==="false"||n==="null"?JSON.stringify(n):n:typeof n=="number"||typeof n=="boolean"?String(n):JSON.stringify(n)}function jf(n,r){const i=n.split(`
`);let o=!1,c=-1,f=-1;for(let h=0;h<i.length;h++){const m=i[h],g=m.match(/^\s*-?\s*name:\s*(\w+)/);if(g&&(o=g[1]===r),o){const p=m.match(/^(\s*)nodes:\s*$/);if(p){c=h,f=p[1].length;let y=h+1;for(;y<i.length;){const b=i[y];if(b.trim()===""||b.trim().startsWith("#")){y++;continue}const N=b.search(/\S/);if(N!==-1&&N<=f)break;y++}return{startLine:c,endLine:y,nodesIndent:f}}}}return null}function ct(n,r,i){const o=n.split(`
`);let c=0,f=o.length;if(i){const p=jf(n,i);if(!p)return null;c=p.startLine,f=p.endLine}let h=-1,m=-1;for(let p=c;p<f;p++){const b=o[p].match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(b&&b[2]===r){h=p,m=b[1].length;break}}if(h===-1)return null;let g=h+1;for(;g<o.length;){const p=o[g];if(p.trim()===""||p.trim().startsWith("#")){g++;continue}const y=p.search(/\S/);if(y!==-1&&y<=m)break;g++}return{startLine:h,endLine:g,indent:m}}function Sx(n,r){const i=n.split(`
`),o=new Set;for(const h of i){const m=h.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);m&&o.add(m[1])}let c=`${r}_1`,f=1;for(;o.has(c);)f++,c=`${r}_${f}`;return c}function sf(n,r){const i=ct(n,r);if(!i)return{source:n,success:!1};const o=n.split(`
`);return{source:[...o.slice(0,i.startLine),...o.slice(i.endLine)].join(`
`),success:!0}}function d1(n,r,i="main"){const o=n.split(`
`);let c=!1,f=-1,h=-1,m=-1,g=-1;for(let O=0;O<o.length;O++){const _=o[O],W=_.match(/^\s*-?\s*name:\s*(\w+)/);if(W&&(c=W[1]===i),c){const $=_.match(/^(\s*)nodes:\s*$/);if($){f=O,h=$[1].length;continue}if(f!==-1){const B=_.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(B){const H=B[1].length;if(H===h+2){g=H;let I=O+1;for(;I<o.length;){const U=o[I];if(U.trim()===""||U.trim().startsWith("#")){I++;continue}const K=U.search(/\S/);if(K!==-1&&K<=H)break;I++}m=I}}}}}if(f===-1)return{source:n,nodeId:null};const p=r.name.split("_")[0],y=Sx(n,p),b=" ".repeat(g!==-1?g:h+2),N=b+"  ",C=N+"  ";let v=`${b}${y}:
`;if(v+=`${N}opcode: ${r.name}
`,v+=`${N}next: null
`,r.parameters.length>0){v+=`${N}inputs:
`;for(const O of r.parameters){const _=O.name.toUpperCase(),W=O.default!==void 0?JSON.stringify(O.default):'""';v+=`${C}${_}: { literal: ${W} }
`}}const w=m!==-1?m:f+1;return{source:[...o.slice(0,w),v.trimEnd(),...o.slice(w)].join(`
`),nodeId:y}}function h1(n,r){const i=ct(n,r);if(!i)return{source:n,nodeId:null};const o=n.split(`
`),c=o.slice(i.startLine,i.endLine);let f=`${r}_copy`,h=1;const m=new Set;for(const y of o){const b=y.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);b&&m.add(b[1])}for(;m.has(f);)h++,f=`${r}_copy_${h}`;const g=[...c];g[0]=g[0].replace(r+":",f+":");for(let y=1;y<g.length;y++)if(g[y].match(/^\s+next:\s*\S/)){const b=g[y].match(/^(\s+)next:/)?.[1]||"        ";g[y]=`${b}next: null`}return{source:[...o.slice(0,i.endLine),...g,...o.slice(i.endLine)].join(`
`),nodeId:f}}function m1(n,r,i,o){const c=n.split(`
`),f=ct(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let C=f.startLine+1;C<f.endLine;C++){const v=c[C];if(v.match(/^\s+inputs:\s*$/)){h=C;continue}if(h!==-1){const w=v.match(new RegExp(`^(\\s+)(${i}):\\s*(.*)$`));if(w){m=C,g=w[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const C=c[p];if(C.trim()===""||C.trim().startsWith("#")){p++;continue}const v=C.search(/\S/);if(v!==-1&&v<=g)break;p++}let y;if(o.startsWith("$"))y=`{ variable: "${o.slice(1)}" }`;else try{const C=JSON.parse(o);y=`{ literal: ${JSON.stringify(C)} }`}catch{y=`{ literal: "${o}" }`}const b=" ".repeat(g);return{source:[...c.slice(0,m),`${b}${i}: ${y}`,...c.slice(p)].join(`
`),success:!0}}function Po(n,r,i,o){const c=n.split(`
`),f=ct(n,r,o);if(!f)return{source:n,success:!1};let h=-1;for(let g=f.startLine+1;g<f.endLine;g++)if(c[g].match(/^\s+next:\s*/)){h=g;break}const m=" ".repeat(f.indent+2);if(h!==-1)c[h]=`${m}next: ${i}`;else{let g=f.startLine+1;for(;g<f.endLine;){const p=c[g];if(p.trim()!==""&&!p.trim().startsWith("#"))break;g++}c.splice(g,0,`${m}next: ${i}`)}return{source:c.join(`
`),success:!0}}function Cf(n,r,i){const o=n.split(`
`),c=ct(n,r,i);if(!c)return{source:n,success:!1};for(let f=c.startLine+1;f<c.endLine;f++)if(o[f].match(/^\s+next:\s*/)){const h=o[f].match(/^(\s+)next:/)?.[1]||" ".repeat(c.indent+2);return o[f]=`${h}next: null`,{source:o.join(`
`),success:!0}}return{source:n,success:!0}}function p1(n,r,i,o){const c=n.split(`
`),f=ct(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1;for(let v=f.startLine+1;v<f.endLine;v++){const j=c[v].match(/^(\s+)inputs:\s*$/);if(j){h=v,m=j[1].length;break}}if(h===-1)return{source:n,success:!1};const g=o.startsWith("CATCH"),p=" ".repeat(m+2),y=" ".repeat(m+4);let b=-1,N=-1,C=h+1;for(;C<c.length;){const v=c[C];if(v.trim()===""||v.trim().startsWith("#")){C++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=m&&v.trim())break;const j=v.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){b=C;break}const O=v.match(/^\s+([A-Z]+\d*):\s*\{.*\}\s*$/);if(O&&O[1]===o){N=C;break}C++}if(b!==-1){const v=c[b].match(/^(\s*)/)?.[1].length||0;let w=b+1;if(g){let j=-1;for(;w<c.length;){const O=c[w];if(O.trim()===""||O.trim().startsWith("#")){w++;continue}if((O.match(/^(\s*)/)?.[1].length||0)<=v&&O.trim())break;if(O.match(/^\s+body:\s*$/)){j=w;break}w++}if(j!==-1){const O=c[j].match(/^(\s*)/)?.[1].length||0;let _=j+1;for(;_<c.length;){const $=c[_];if($.trim()===""||$.trim().startsWith("#")){_++;continue}if(($.match(/^(\s*)/)?.[1].length||0)<=O&&$.trim())break;const H=$.match(/^(\s+)branch:\s*/);if(H)return c[_]=`${H[1]}branch: ${i}`,{source:c.join(`
`),success:!0};_++}const W=" ".repeat(O+2);return c.splice(j+1,0,`${W}branch: ${i}`),{source:c.join(`
`),success:!0}}else{const O=" ".repeat(v+2),_=" ".repeat(v+4);let W=b+1;for(;W<c.length;){const $=c[W];if($.trim()===""||$.trim().startsWith("#")){W++;continue}if(($.match(/^(\s*)/)?.[1].length||0)<=v&&$.trim())break;W++}return c.splice(W,0,`${O}body:`,`${_}branch: ${i}`),{source:c.join(`
`),success:!0}}}else{for(;w<c.length;){const j=c[w];if(j.trim()===""||j.trim().startsWith("#")){w++;continue}if((j.match(/^(\s*)/)?.[1].length||0)<=v&&j.trim())break;const _=j.match(/^(\s+)branch:\s*/);if(_)return c[w]=`${_[1]}branch: ${i}`,{source:c.join(`
`),success:!0};w++}return c.splice(b+1,0,`${y}branch: ${i}`),{source:c.join(`
`),success:!0}}}else if(N!==-1){const v=c[N].match(/^(\s*)/)?.[1].length||0,w=" ".repeat(v+2);if(g){const j=" ".repeat(v+2),O=" ".repeat(v+4);c.splice(N,1,`${" ".repeat(v)}${o}:`,`${j}exception_type: "Exception"`,`${j}body:`,`${O}branch: ${i}`)}else c.splice(N,1,`${" ".repeat(v)}${o}:`,`${w}branch: ${i}`);return{source:c.join(`
`),success:!0}}else{if(g){const v=" ".repeat(m+4),w=" ".repeat(m+6);c.splice(C,0,`${p}${o}:`,`${v}exception_type: "Exception"`,`${v}body:`,`${w}branch: ${i}`)}else c.splice(C,0,`${p}${o}:`,`${y}branch: ${i}`);return{source:c.join(`
`),success:!0}}}function g1(n,r,i,o,c){if(!o)return Cf(n,r,c);const f=n.split(`
`),h=ct(n,r,c);if(!h)return{source:n,success:!1};let m=-1,g=-1;for(let v=h.startLine+1;v<h.endLine;v++){const j=f[v].match(/^(\s+)inputs:\s*$/);if(j){m=v,g=j[1].length;break}}if(m===-1)return{source:n,success:!1};const p=o.startsWith("CATCH");let y=-1,b=m+1;for(;b<f.length;){const v=f[b];if(v.trim()===""||v.trim().startsWith("#")){b++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=g&&v.trim())break;const j=v.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){y=b;break}b++}if(y===-1)return{source:n,success:!1};const N=f[y].match(/^(\s*)/)?.[1].length||0;let C=y+1;for(;C<f.length;){const v=f[C];if(v.trim()===""||v.trim().startsWith("#")){C++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=N&&v.trim())break;if(p){const j=v.match(/^(\s+)body:\s*$/);if(j){const O=j[1].length;let _=C+1;for(;_<f.length;){const W=f[_];if(W.trim()===""||W.trim().startsWith("#")){_++;continue}if((W.match(/^(\s*)/)?.[1].length||0)<=O&&W.trim())break;const B=W.match(/^(\s+)branch:\s*(\S+)/);if(B&&B[2]===i){const H=B[1];return f[_]=`${H}branch: null`,{source:f.join(`
`),success:!0}}_++}}}else{const j=v.match(/^(\s+)branch:\s*(\S+)/);if(j&&j[2]===i){const O=j[1];return f[C]=`${O}branch: null`,{source:f.join(`
`),success:!0}}}C++}return{source:n,success:!1}}function x1(n,r,i,o){const c=n.split(`
`),f=ct(n,i);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let N=f.startLine+1;N<f.endLine;N++){const C=c[N];if(C.match(/^\s+inputs:\s*$/)){h=N;continue}if(h!==-1){const v=C.match(new RegExp(`^(\\s+)(${o}):\\s*(.*)$`));if(v){m=N,g=v[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const N=c[p];if(N.trim()===""||N.trim().startsWith("#")){p++;continue}const C=N.search(/\S/);if(C!==-1&&C<=g)break;p++}const y=" ".repeat(g);return{source:[...c.slice(0,m),`${y}${o}: { node: "${r}" }`,...c.slice(p)].join(`
`),success:!0}}function y1(n,r,i){if(i.length===0)return{source:n,success:!1};const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let f=c.startLine,h=c.indent,m=!1;for(let v=c.startLine+1;v<o.length;v++){const w=o[v];if(w.trim()===""||w.trim().startsWith("#"))continue;const j=w.search(/\S/);if(j!==-1&&j<=c.indent)break;if(w.match(/^\s+inputs:\s*$/)){m=!0,f=v,h=j;break}}if(!m)return{source:n,success:!1};for(let v=0;v<i.length-1;v++){const w=i[v];let j=!1;for(let O=f+1;O<o.length;O++){const _=o[O];if(_.trim()===""||_.trim().startsWith("#"))continue;const W=_.search(/\S/);if(W!==-1&&W<=h)break;const $=_.match(new RegExp(`^(\\s+)(${w}):\\s*`));if($){f=O,h=$[1].length,j=!0;for(let B=O+1;B<o.length;B++){const H=o[B];if(H.trim()===""||H.trim().startsWith("#"))continue;const I=H.search(/\S/);if(I!==-1&&I<=h)break;if(H.match(/^\s+inputs:\s*$/)){f=B,h=I;break}}break}}if(!j)return{source:n,success:!1}}const g=i[i.length-1];let p=-1,y=-1;for(let v=f+1;v<o.length;v++){const w=o[v];if(w.trim()===""||w.trim().startsWith("#"))continue;const j=w.search(/\S/);if(j!==-1&&j<=h)break;const O=w.match(new RegExp(`^(\\s+)(${g}):\\s*`));if(O){p=v,y=O[1].length;break}}if(p===-1)return{source:n,success:!1};let b=p+1;for(;b<o.length;){const v=o[b];if(v.trim()===""||v.trim().startsWith("#")){b++;continue}const w=v.search(/\S/);if(w!==-1&&w<=y)break;b++}const N=" ".repeat(y);return{source:[...o.slice(0,p),`${N}${g}: { literal: null }`,...o.slice(b)].join(`
`),success:!0}}function Nx(n,r){if(n.length===0)return[`${r}inputs: []`];const i=[`${r}inputs:`],o=r+"  ";for(const c of n)i.push(`${o}- name: "${c.name}"`),i.push(`${o}  type: "${c.type}"`),i.push(`${o}  required: ${c.required}`);return i}function b1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let v=0;v<c.length;v++){const w=c[v],j=w.match(/^\s*-?\s*name:\s*(\w+)/);if(j&&(f=j[1]===r),f){const O=w.match(/^(\s*)interface:\s*$/);if(O){h=v,g=O[1].length;let _=v+1;for(;_<c.length;){const W=c[_];if(W.trim()===""||W.trim().startsWith("#")){_++;continue}const $=W.search(/\S/);if($!==-1&&$<=g)break;_++}m=_;break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(g),y=" ".repeat(g+2),b=o.length>0?`[${o.map(v=>`"${v}"`).join(", ")}]`:"[]",N=[`${p}interface:`,...Nx(i,y),`${y}outputs: ${b}`];return{source:[...c.slice(0,h),...N,...c.slice(m)].join(`
`),success:!0}}function v1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let b=0;b<c.length;b++){const N=c[b],C=N.match(/^\s*-?\s*name:\s*(\w+)/);if(C&&(f=C[1]===r),f){const v=N.match(/^(\s*)variables:\s*(.*)$/);if(v){h=b,m=v[1].length;const w=v[2].trim();if(w==="{}"||w==="")g=b+1;else{let j=b+1;for(;j<c.length;){const O=c[j];if(O.trim()===""||O.trim().startsWith("#")){j++;continue}const _=O.search(/\S/);if(_!==-1&&_<=m)break;j++}g=j}break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(m+2),y=Ef(o);if(c[h].includes("{}")){const b=" ".repeat(m);return{source:[...c.slice(0,h),`${b}variables:`,`${p}${i}: ${y}`,...c.slice(h+1)].join(`
`),success:!0}}else return{source:[...c.slice(0,g),`${p}${i}: ${y}`,...c.slice(g)].join(`
`),success:!0}}function w1(n,r,i,o,c){const f=n.split(`
`);let h=!1,m=!1,g=-1,p=-1;for(let N=0;N<f.length;N++){const C=f[N],v=C.match(/^\s*-?\s*name:\s*(\w+)/);if(v&&(h=v[1]===r,m=!1),h){const w=C.match(/^(\s*)variables:\s*/);if(w){m=!0,g=w[1].length;continue}if(m){const j=C.search(/\S/);if(C.trim()!==""&&!C.trim().startsWith("#")&&j!==-1&&j<=g){m=!1;continue}if(C.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){p=N;break}}}}if(p===-1)return{source:n,success:!1};const y=f[p].match(/^(\s+)/)?.[1]||"    ",b=Ef(c);return f[p]=`${y}${o}: ${b}`,{source:f.join(`
`),success:!0}}function S1(n,r,i){const o=n.split(`
`);let c=!1,f=!1,h=-1,m=-1;for(let p=0;p<o.length;p++){const y=o[p],b=y.match(/^\s*-?\s*name:\s*(\w+)/);if(b&&(c=b[1]===r,f=!1),c){const N=y.match(/^(\s*)variables:\s*/);if(N){f=!0,h=N[1].length;continue}if(f){const C=y.search(/\S/);if(y.trim()!==""&&!y.trim().startsWith("#")&&C!==-1&&C<=h){f=!1;continue}if(y.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){m=p;break}}}}return m===-1?{source:n,success:!1}:{source:[...o.slice(0,m),...o.slice(m+1)].join(`
`),success:!0}}function Ex(n,r,i,o="main"){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1,p=-1;for(let O=0;O<c.length;O++){const _=c[O],W=_.match(/^\s*-?\s*name:\s*(\w+)/);if(W&&(f=W[1]===o),f){const $=_.match(/^(\s*)nodes:\s*$/);if($){h=O,m=$[1].length;continue}if(h!==-1){const B=_.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(B){const H=B[1].length;if(H===m+2){p=H;let I=O+1;for(;I<c.length;){const U=c[I];if(U.trim()===""||U.trim().startsWith("#")){I++;continue}const K=U.search(/\S/);if(K!==-1&&K<=H)break;I++}g=I}}}}}if(h===-1)return{source:n,nodeId:null};const y=Sx(n,`call_${r}`),b=" ".repeat(p!==-1?p:m+2),N=b+"  ",C=N+"  ";let v=`${b}${y}:
`;v+=`${N}opcode: workflow_call
`,v+=`${N}next: null
`,v+=`${N}inputs:
`,v+=`${C}WORKFLOW: { literal: "${r}" }
`,i.forEach((O,_)=>{v+=`${C}ARG${_+1}: { literal: null }
`});const w=g!==-1?g:h+1;return{source:[...c.slice(0,w),v.trimEnd(),...c.slice(w)].join(`
`),nodeId:y}}function N1(n,r,i){const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let w=c.startLine+1;w<c.endLine;w++){const j=o[w],O=j.match(/^(\s+)inputs:\s*$/);if(O){f=w,h=O[1].length;continue}if(f!==-1){const _=j.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));_&&m.push(_[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const w of m){const j=parseInt(w.replace(i,""));j>g&&(g=j)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const w=o[y];if(w.trim()===""||w.trim().startsWith("#")){y++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=h&&w.trim())break;y++}const b=" ".repeat(h+2),N=" ".repeat(h+4);let C;if(i==="CATCH"){const w=" ".repeat(h+6);C=[`${b}${p}:`,`${N}exception_type: "Exception"`,`${N}body:`,`${w}branch: null`]}else C=[`${b}${p}:`,`${N}branch: null`];return{source:[...o.slice(0,y),...C,...o.slice(y)].join(`
`),success:!0}}function E1(n,r,i){const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function j1(n,r,i){const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let v=c.startLine+1;v<c.endLine;v++){const w=o[v],j=w.match(/^(\s+)inputs:\s*$/);if(j){f=v,h=j[1].length;continue}if(f!==-1){const O=w.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));O&&m.push(O[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const v of m){const w=parseInt(v.replace(i,""));w>g&&(g=w)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const v=o[y];if(v.trim()===""||v.trim().startsWith("#")){y++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=h&&v.trim())break;y++}const N=`${" ".repeat(h+2)}${p}: { literal: null }`;return{source:[...o.slice(0,y),N,...o.slice(y)].join(`
`),success:!0}}function C1(n,r,i){const o=n.split(`
`),c=ct(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function jx(n,r,i=[],o=[],c={}){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return{source:n,success:!1};const f=n.split(`
`);for(const _ of f){const W=_.match(/^\s*-?\s*name:\s*(\w+)/);if(W&&W[1]===r)return{source:n,success:!1}}let h=-1,m=!1,g=-1;for(let _=0;_<f.length;_++){const W=f[_],$=W.match(/^(\s*)workflows:\s*$/);if($){m=!0,g=$[1].length;continue}if(m){const B=W.search(/\S/);if(W.trim()!==""&&B!==-1&&B<=g)break;h=_}}if(!m)return{source:n,success:!1};const p="  ",y="    ",b="      ",N=o.length>0?`[${o.map(_=>`"${_}"`).join(", ")}]`:"[]",C=Nx(i,b);let v=`${p}- name: ${r}
`;v+=`${y}interface:
`,v+=C.map(_=>_+`
`).join(""),v+=`${b}outputs: ${N}
`;const w=Object.entries(c);if(w.length===0)v+=`${y}variables: {}
`;else{v+=`${y}variables:
`;for(const[_,W]of w)v+=`${b}${_}: ${Ef(W)}
`}v+=`${y}nodes:
`,v+=`${b}start:
`,v+=`${b}  next: null`;const j=h+1;return{source:[...f.slice(0,j),v,...f.slice(j)].join(`
`),success:!0}}function A1(n,r){if(r==="main")return{source:n,success:!1};const i=n.split(`
`);let o=-1,c=-1;for(let m=0;m<i.length;m++){const p=i[m].match(/^(\s*)-\s*name:\s*(\w+)/);if(p&&p[2]===r){o=m,c=p[1].length;break}}if(o===-1)return{source:n,success:!1};let f=o+1;for(;f<i.length;){const m=i[f];if(m.trim()===""||m.trim().startsWith("#")){f++;continue}const g=m.search(/\S/),p=m.match(/^(\s*)-\s*name:\s*\w+/);if(p&&p[1].length===c||g!==-1&&g<=c&&!m.trim().startsWith("-"))break;f++}return{source:[...i.slice(0,o),...i.slice(f)].join(`
`),success:!0}}const _1=["control_if","control_for","control_for_each","control_while","control_repeat_until","control_try","control_fork"];function O1(n,r){const i=n.split(`
`);let o=null,c=!1,f=-1;for(const h of i){const m=h.match(/^(\s*)-?\s*name:\s*(\w+)/);if(m&&(o=m[2],f=m[1].length,c=!1),h.match(/^(\s*)nodes:\s*$/)&&o&&(c=!0),c){const p=h.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(p&&p[2]===r)return o;const y=h.search(/\S/);h.trim()&&y!==-1&&y<=f&&(c=!1)}}return null}function Cx(n,r){const i=ct(n,r);if(!i)return null;const o=n.split(`
`);for(let c=i.startLine+1;c<i.endLine;c++){const f=o[c].match(/^\s+opcode:\s*(\S+)/);if(f)return f[1]}return null}function ig(n,r,i){const o=ct(n,r,i);if(!o)return null;const c=n.split(`
`);for(let f=o.startLine+1;f<o.endLine;f++){const h=c[f].match(/^\s+next:\s*(\S+)/);if(h){const m=h[1];return m==="null"?null:m}}return null}function T1(n,r,i){const o=jf(n,i);if(!o)return null;const c=n.split(`
`);let f=null;for(let h=o.startLine;h<o.endLine;h++){const m=c[h],g=m.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);g&&(f=g[2]);const p=m.match(/^\s+next:\s*(\S+)/);if(p&&p[1]===r&&f)return f}return null}function M1(n,r){const i=[],o=new Set;function c(f){if(o.has(f))return;o.add(f);const h=ct(n,f);if(!h)return;const g=n.split(`
`).slice(h.startLine,h.endLine).join(`
`),p=g.matchAll(/\{\s*node:\s*["']([^"']+)["']\s*\}/g);for(const b of p){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}const y=g.matchAll(/\{\s*node:\s*([a-zA-Z_][a-zA-Z0-9_]*)\s*\}/g);for(const b of y){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}}for(const f of r)c(f);return i}function Ax(n,r,i){const o=[];if(r.length<2)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Select at least 2 nodes to extract"]};for(const w of r)O1(n,w)!==i&&o.push(`Node "${w}" is not in workflow "${i}"`);if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};for(const w of r){const j=Cx(n,w);j&&_1.includes(j)&&o.push(`Cannot extract "${w}": branching nodes (${j}) are not supported`)}if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};const c=new Set(r),f={};for(const w of r)f[w]=ig(n,w,i);const h=new Set(Object.values(f).filter(w=>w&&c.has(w))),m=r.filter(w=>!h.has(w));if(m.length!==1)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes do not form a single connected chain"]};const g=[];let p=m[0];const y=new Set;for(;p&&c.has(p)&&!y.has(p);)y.add(p),g.push(p),p=f[p]||null;if(g.length!==r.length)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes are not contiguous (some nodes are disconnected)"]};const b=g[0],N=g[g.length-1],C=T1(n,b,i),v=ig(n,N,i);return{isValid:!0,orderedNodeIds:g,firstNodeId:b,lastNodeId:N,predecessorNodeId:C,successorNodeId:v,errors:[]}}function D1(n,r){const i=new Set,o=new Set;for(const h of r){const m=ct(n,h);if(!m)continue;const p=n.split(`
`).slice(m.startLine,m.endLine).join(`
`),y=p.matchAll(/\{\s*variable:\s*["']([^"']+)["']\s*\}/g);for(const N of y)i.add(N[1]);if(Cx(n,h)==="data_set_variable_to"){const N=p.match(/VARIABLE:\s*\{\s*literal:\s*["']([^"']+)["']\s*\}/);N&&o.add(N[1])}}const c=[...i].filter(h=>!o.has(h)),f=[...o];return{suggestedInputs:c,suggestedOutputs:f}}function k1(n,r,i,o,c,f,h){const m=Ax(n,r,i);if(!m.isValid)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:m.errors};const{orderedNodeIds:g,firstNodeId:p,lastNodeId:y,predecessorNodeId:b,successorNodeId:N}=m,C=M1(n,g);let v=n;const w=jx(v,o,c,f,h);if(!w.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to create workflow "${o}"`]};v=w.source;const j=[],O=[];for(const ie of[...g].reverse()){const fe=ct(v,ie,i);if(!fe)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find node "${ie}"`]};const R=v.split(`
`).slice(fe.startLine,fe.endLine).join(`
`);j.unshift({id:ie,yaml:R,indent:fe.indent});const G=sf(v,ie);if(!G.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to delete node "${ie}"`]};v=G.source}for(const ie of[...C].reverse()){let fe=ct(v,ie,i);if(fe||(fe=ct(v,ie)),!fe)continue;const R=v.split(`
`).slice(fe.startLine,fe.endLine).join(`
`);O.unshift({id:ie,yaml:R,indent:fe.indent});const G=sf(v,ie);G.success&&(v=G.source)}const _=[...j,...O];if(!jf(v,o))return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find nodes section in new workflow "${o}"`]};const $=ct(v,"start",o);if(!$)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Could not find start node in new workflow"]};const B=$.indent,H=[];for(let ie=0;ie<_.length;ie++){const fe=_[ie],ae=fe.yaml.split(`
`),R=B-fe.indent,G=ae.map(A=>A.trim()===""?A:R>0?" ".repeat(R)+A:R<0?A.slice(-R):A);H.push(...G)}const I=v.split(`
`),U=$.endLine;I.splice(U,0,...H),v=I.join(`
`);const K=Po(v,"start",p,o);if(!K.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to connect start to "${p}"`]};v=K.source;const ee=Cf(v,y,o);if(!ee.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to disconnect last node "${y}"`]};v=ee.source;const ue=Ex(v,o,c.map(ie=>ie.name),i);if(!ue.nodeId)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to create workflow_call node"]};v=ue.source;const oe=ue.nodeId;if(b){const ie=Po(v,b==="start"?"start":b,oe,i);if(!ie.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect predecessor to workflow_call"]};v=ie.source}if(N){const ie=Po(v,oe,N,i);if(!ie.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect workflow_call to successor"]};v=ie.source}return{source:v,success:!0,newWorkflowCallNodeId:oe,errors:[]}}const R1=50,og=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`,it=xs()(f1((n,r)=>({source:og,setSource:(i,o=!0)=>{const c=r();if(o&&i!==c.source){const f=c.history.slice(0,c.historyIndex+1);f.push(i),f.length>R1&&f.shift(),n({source:i,history:f,historyIndex:f.length-1,canUndo:f.length>1,canRedo:!1})}else n({source:i})},history:[og],historyIndex:0,canUndo:!1,canRedo:!1,undo:()=>{const i=r();if(i.historyIndex>0){const o=i.historyIndex-1;n({source:i.history[o],historyIndex:o,canUndo:o>0,canRedo:!0})}},redo:()=>{const i=r();if(i.historyIndex<i.history.length-1){const o=i.historyIndex+1;n({source:i.history[o],historyIndex:o,canUndo:!0,canRedo:o<i.history.length-1})}},tree:null,parseError:null,isParsing:!1,setTree:i=>n({tree:i,parseError:null}),setParseError:i=>n({parseError:i,tree:null}),setIsParsing:i=>n({isParsing:i}),deleteNode:i=>{const o=r(),c=sf(o.source,i);return c.success&&o.setSource(c.source),c.success},addNode:(i,o="main")=>{const c=r(),f=d1(c.source,i,o);return f.nodeId&&c.setSource(f.source),f.nodeId},addWorkflowCallNode:(i,o,c="main")=>{const f=r(),h=Ex(f.source,i,o,c);return h.nodeId&&f.setSource(h.source),h.nodeId},duplicateNode:i=>{const o=r(),c=h1(o.source,i);return c.nodeId&&o.setSource(c.source),c.nodeId},updateNodeInput:(i,o,c)=>{const f=r(),h=m1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectNodes:(i,o,c)=>{const f=r(),h=Po(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectBranch:(i,o,c)=>{const f=r(),h=p1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},disconnectNode:(i,o)=>{const c=r(),f=Cf(c.source,i,o);return f.success&&c.setSource(f.source),f.success},convertOrphanToReporter:(i,o,c)=>{const f=r(),h=x1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateReporterInput:(i,o,c)=>(console.log("[updateReporterInput] reporterNodeId:",i,"key:",o,"value:",c),i?r().updateNodeInput(i,o,c):(console.warn("[updateReporterInput] No reporter node ID provided"),!1)),deleteReporter:(i,o)=>{const c=r(),f=y1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},updateWorkflowInterface:(i,o,c)=>{const f=r(),h=b1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},addVariable:(i,o,c)=>{const f=r(),h=v1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateVariable:(i,o,c,f)=>{const h=r(),m=w1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},disconnectConnection:(i,o,c,f)=>{const h=r(),m=g1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteVariable:(i,o)=>{const c=r(),f=S1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicBranch:(i,o)=>{const c=r(),f=N1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicBranch:(i,o)=>{const c=r(),f=E1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicInput:(i,o)=>{const c=r(),f=j1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicInput:(i,o)=>{const c=r(),f=C1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addWorkflow:(i,o=[],c=[],f={})=>{const h=r(),m=jx(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteWorkflow:i=>{const o=r(),c=A1(o.source,i);return c.success&&o.setSource(c.source),c.success},extractToWorkflow:(i,o,c,f,h,m)=>{const g=r(),p=k1(g.source,i,o,c,f,h,m);return p.success&&g.setSource(p.source),{success:p.success,errors:p.errors}},examples:[],setExamples:i=>n({examples:i}),opcodes:[],setOpcodes:i=>n({opcodes:i}),isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,setIsExecuting:i=>n({isExecuting:i}),setExecutionOutput:i=>n({executionOutput:i}),appendExecutionOutput:i=>n(o=>({executionOutput:o.executionOutput+i})),setExecutionResult:i=>n({executionResult:i}),setExecutionError:i=>n({executionError:i}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null}),workflowInputs:{},setWorkflowInput:(i,o)=>n(c=>({workflowInputs:{...c.workflowInputs,[i]:o}})),clearWorkflowInputs:()=>n({workflowInputs:{}})}),{name:"lexflow-workflow",partialize:n=>({source:n.source})})),Oe=xs(n=>({zoom:1,panX:0,panY:0,isDraggingWorkflow:!1,setZoom:r=>n({zoom:Math.max(.25,Math.min(2,r))}),setPan:(r,i)=>n({panX:r,panY:i}),resetView:()=>n({zoom:1,panX:0,panY:0}),setIsDraggingWorkflow:r=>n({isDraggingWorkflow:r}),isEditorOpen:!1,isNodeEditorOpen:!1,isPaletteOpen:!1,isExecutionPanelOpen:!0,toggleEditor:()=>n(r=>({isEditorOpen:!r.isEditorOpen})),toggleNodeEditor:()=>n(r=>({isNodeEditorOpen:!r.isNodeEditorOpen})),togglePalette:()=>n(r=>({isPaletteOpen:!r.isPaletteOpen})),toggleExecutionPanel:()=>n(r=>({isExecutionPanelOpen:!r.isExecutionPanelOpen})),openNodeEditor:()=>n({isNodeEditorOpen:!0}),closeNodeEditor:()=>n({isNodeEditorOpen:!1}),nodeStatus:{},setNodeStatus:(r,i)=>n(o=>({nodeStatus:{...o.nodeStatus,[r]:i}})),clearNodeStatuses:()=>n({nodeStatus:{}}),searchQuery:"",searchResults:[],setSearchQuery:r=>n({searchQuery:r}),setSearchResults:r=>n({searchResults:r}),workflowPositions:{},setWorkflowPosition:(r,i,o)=>n(c=>({workflowPositions:{...c.workflowPositions,[r]:{x:i,y:o}}})),resetWorkflowPositions:()=>n({workflowPositions:{}}),draggingOpcode:null,setDraggingOpcode:r=>n({draggingOpcode:r}),draggingWire:null,setDraggingWire:r=>n({draggingWire:r}),updateDraggingWire:r=>n(i=>({draggingWire:i.draggingWire?{...i.draggingWire,...r}:null})),draggingOrphan:null,setDraggingOrphan:r=>n({draggingOrphan:r}),updateDraggingOrphanEnd:(r,i)=>n(o=>({draggingOrphan:o.draggingOrphan?{...o.draggingOrphan,toX:r,toY:i}:null})),nodePositions:{},setNodePosition:(r,i,o)=>n(c=>({nodePositions:{...c.nodePositions,[r]:{x:i,y:o}}})),resetNodePositions:()=>n({nodePositions:{}}),clearNodePosition:r=>n(i=>{const{[r]:o,...c}=i.nodePositions;return{nodePositions:c}}),layoutMode:"free",setLayoutMode:r=>n({layoutMode:r}),isDraggingNode:!1,setIsDraggingNode:r=>n({isDraggingNode:r}),draggingVariable:null,setDraggingVariable:r=>n({draggingVariable:r}),updateDraggingVariableEnd:(r,i)=>n(o=>({draggingVariable:o.draggingVariable?{...o.draggingVariable,toX:r,toY:i}:null})),draggingWorkflowCall:null,setDraggingWorkflowCall:r=>n({draggingWorkflowCall:r}),slotPositions:{},registerSlotPositions:(r,i)=>n(o=>({slotPositions:{...o.slotPositions,[r]:i}})),unregisterSlotPositions:r=>n(i=>{const{[r]:o,...c}=i.slotPositions;return{slotPositions:c}}),layoutGroups:[],setLayoutGroups:r=>n({layoutGroups:r}),canvasCenter:{x:400,y:300},setCanvasCenter:(r,i)=>n({canvasCenter:{x:r,y:i}}),contextMenu:null,showContextMenu:r=>n({contextMenu:r}),hideContextMenu:()=>n({contextMenu:null}),expandedReporters:{},toggleReportersExpanded:r=>n(i=>({expandedReporters:{...i.expandedReporters,[r]:!i.expandedReporters[r]}})),setReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,[r]:i}})),setMultipleReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,...Object.fromEntries(r.map(c=>[c,i]))}})),confirmDialog:null,showConfirmDialog:r=>n({confirmDialog:{isOpen:!0,title:r.title,message:r.message,confirmLabel:r.confirmLabel,cancelLabel:r.cancelLabel,variant:r.variant,onConfirm:()=>{r.onConfirm(),n({confirmDialog:null})},onCancel:()=>{r.onCancel?.(),n({confirmDialog:null})}}}),hideConfirmDialog:()=>n({confirmDialog:null}),canvasContextMenu:null,showCanvasContextMenu:(r,i,o)=>n({canvasContextMenu:{x:r,y:i,workflowName:o}}),hideCanvasContextMenu:()=>n({canvasContextMenu:null}),createWorkflowModal:null,showCreateWorkflowModal:()=>n({createWorkflowModal:{isOpen:!0}}),hideCreateWorkflowModal:()=>n({createWorkflowModal:null}),extractWorkflowModal:null,showExtractWorkflowModal:(r,i,o=[],c=[])=>n({extractWorkflowModal:{isOpen:!0,nodeIds:r,workflowName:i,suggestedInputs:o,suggestedOutputs:c}}),hideExtractWorkflowModal:()=>n({extractWorkflowModal:null})})),ui=xs(n=>({isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,workflowInputs:{},pendingPrompt:null,renderedContent:[],alerts:[],progress:null,setIsExecuting:r=>n({isExecuting:r}),setExecutionOutput:r=>n({executionOutput:r}),appendExecutionOutput:r=>n(i=>({executionOutput:i.executionOutput+r})),setExecutionResult:r=>n({executionResult:r}),setExecutionError:r=>n({executionError:r}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null,pendingPrompt:null,renderedContent:[],alerts:[],progress:null}),setWorkflowInput:(r,i)=>n(o=>({workflowInputs:{...o.workflowInputs,[r]:i}})),clearWorkflowInputs:()=>n({workflowInputs:{}}),setPendingPrompt:r=>n({pendingPrompt:r}),addRenderedContent:r=>n(i=>({renderedContent:[...i.renderedContent,r]})),clearRenderedContent:()=>n({renderedContent:[]}),addAlert:r=>n(i=>({alerts:[...i.alerts,{...r,id:crypto.randomUUID()}]})),removeAlert:r=>n(i=>({alerts:i.alerts.filter(o=>o.id!==r)})),setProgress:r=>n({progress:r})})),Zn=xs(n=>({selectedNodeId:null,selectNode:r=>n({selectedNodeId:r,selectedNodeIds:[]}),selectedNodeIds:[],toggleNodeSelection:r=>n(i=>{const o=i.selectedNodeIds.includes(r)?i.selectedNodeIds.filter(c=>c!==r):[...i.selectedNodeIds,r];return{selectedNodeIds:o,selectedNodeId:o.length>0?o[o.length-1]:null}}),addToSelection:r=>n(i=>({selectedNodeIds:i.selectedNodeIds.includes(r)?i.selectedNodeIds:[...i.selectedNodeIds,r]})),clearMultiSelection:()=>n({selectedNodeIds:[]}),selectedReporter:null,selectReporter:r=>n({selectedReporter:r}),selectedConnection:null,selectConnection:r=>n({selectedConnection:r}),selectedStartNode:null,selectStartNode:r=>n({selectedStartNode:r}),clearSelection:()=>n({selectedNodeId:null,selectedNodeIds:[],selectedReporter:null,selectedConnection:null,selectedStartNode:null})}));function _x(n){var r,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(r=0;r<c;r++)n[r]&&(i=_x(n[r]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function Ox(){for(var n,r,i=0,o="",c=arguments.length;i<c;i++)(n=arguments[i])&&(r=_x(n))&&(o&&(o+=" "),o+=r);return o}const z1=(n,r)=>{const i=new Array(n.length+r.length);for(let o=0;o<n.length;o++)i[o]=n[o];for(let o=0;o<r.length;o++)i[n.length+o]=r[o];return i},L1=(n,r)=>({classGroupId:n,validator:r}),Tx=(n=new Map,r=null,i)=>({nextPart:n,validators:r,classGroupId:i}),ns="-",sg=[],V1="arbitrary..",B1=n=>{const r=U1(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return H1(h);const m=h.split(ns),g=m[0]===""&&m.length>1?1:0;return Mx(m,g,r)},getConflictingClassGroupIds:(h,m)=>{if(m){const g=o[h],p=i[h];return g?p?z1(p,g):g:p||sg}return i[h]||sg}}},Mx=(n,r,i)=>{if(n.length-r===0)return i.classGroupId;const c=n[r],f=i.nextPart.get(c);if(f){const p=Mx(n,r+1,f);if(p)return p}const h=i.validators;if(h===null)return;const m=r===0?n.join(ns):n.slice(r).join(ns),g=h.length;for(let p=0;p<g;p++){const y=h[p];if(y.validator(m))return y.classGroupId}},H1=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=n.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?V1+o:void 0})(),U1=n=>{const{theme:r,classGroups:i}=n;return I1(i,r)},I1=(n,r)=>{const i=Tx();for(const o in n){const c=n[o];Af(c,i,o,r)}return i},Af=(n,r,i,o)=>{const c=n.length;for(let f=0;f<c;f++){const h=n[f];Y1(h,r,i,o)}},Y1=(n,r,i,o)=>{if(typeof n=="string"){q1(n,r,i);return}if(typeof n=="function"){G1(n,r,i,o);return}X1(n,r,i,o)},q1=(n,r,i)=>{const o=n===""?r:Dx(r,n);o.classGroupId=i},G1=(n,r,i,o)=>{if($1(n)){Af(n(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(L1(i,n))},X1=(n,r,i,o)=>{const c=Object.entries(n),f=c.length;for(let h=0;h<f;h++){const[m,g]=c[h];Af(g,Dx(r,m),i,o)}},Dx=(n,r)=>{let i=n;const o=r.split(ns),c=o.length;for(let f=0;f<c;f++){const h=o[f];let m=i.nextPart.get(h);m||(m=Tx(),i.nextPart.set(h,m)),i=m}return i},$1=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,W1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const c=(f,h)=>{i[f]=h,r++,r>n&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return c(f,h),h},set(f,h){f in i?i[f]=h:c(f,h)}}},cf="!",cg=":",Z1=[],ug=(n,r,i,o,c)=>({modifiers:n,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:c}),Q1=n=>{const{prefix:r,experimentalParseClassName:i}=n;let o=c=>{const f=[];let h=0,m=0,g=0,p;const y=c.length;for(let w=0;w<y;w++){const j=c[w];if(h===0&&m===0){if(j===cg){f.push(c.slice(g,w)),g=w+1;continue}if(j==="/"){p=w;continue}}j==="["?h++:j==="]"?h--:j==="("?m++:j===")"&&m--}const b=f.length===0?c:c.slice(g);let N=b,C=!1;b.endsWith(cf)?(N=b.slice(0,-1),C=!0):b.startsWith(cf)&&(N=b.slice(1),C=!0);const v=p&&p>g?p-g:void 0;return ug(f,C,N,v)};if(r){const c=r+cg,f=o;o=h=>h.startsWith(c)?f(h.slice(c.length)):ug(Z1,!1,h,void 0,!0)}if(i){const c=o;o=f=>i({className:f,parseClassName:c})}return o},K1=n=>{const r=new Map;return n.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let c=[];for(let f=0;f<i.length;f++){const h=i[f],m=h[0]==="[",g=r.has(h);m||g?(c.length>0&&(c.sort(),o.push(...c),c=[]),o.push(h)):c.push(h)}return c.length>0&&(c.sort(),o.push(...c)),o}},F1=n=>({cache:W1(n.cacheSize),parseClassName:Q1(n),sortModifiers:K1(n),...B1(n)}),J1=/\s+/,P1=(n,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:f}=r,h=[],m=n.trim().split(J1);let g="";for(let p=m.length-1;p>=0;p-=1){const y=m[p],{isExternal:b,modifiers:N,hasImportantModifier:C,baseClassName:v,maybePostfixModifierPosition:w}=i(y);if(b){g=y+(g.length>0?" "+g:g);continue}let j=!!w,O=o(j?v.substring(0,w):v);if(!O){if(!j){g=y+(g.length>0?" "+g:g);continue}if(O=o(v),!O){g=y+(g.length>0?" "+g:g);continue}j=!1}const _=N.length===0?"":N.length===1?N[0]:f(N).join(":"),W=C?_+cf:_,$=W+O;if(h.indexOf($)>-1)continue;h.push($);const B=c(O,j);for(let H=0;H<B.length;++H){const I=B[H];h.push(W+I)}g=y+(g.length>0?" "+g:g)}return g},ew=(...n)=>{let r=0,i,o,c="";for(;r<n.length;)(i=n[r++])&&(o=kx(i))&&(c&&(c+=" "),c+=o);return c},kx=n=>{if(typeof n=="string")return n;let r,i="";for(let o=0;o<n.length;o++)n[o]&&(r=kx(n[o]))&&(i&&(i+=" "),i+=r);return i},tw=(n,...r)=>{let i,o,c,f;const h=g=>{const p=r.reduce((y,b)=>b(y),n());return i=F1(p),o=i.cache.get,c=i.cache.set,f=m,m(g)},m=g=>{const p=o(g);if(p)return p;const y=P1(g,i);return c(g,y),y};return f=h,(...g)=>f(ew(...g))},nw=[],yt=n=>{const r=i=>i[n]||nw;return r.isThemeGetter=!0,r},Rx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lw=/^\d+\/\d+$/,aw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ow=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wa=n=>lw.test(n),Te=n=>!!n&&!Number.isNaN(Number(n)),Nl=n=>!!n&&Number.isInteger(Number(n)),Uu=n=>n.endsWith("%")&&Te(n.slice(0,-1)),Xn=n=>aw.test(n),cw=()=>!0,uw=n=>rw.test(n)&&!iw.test(n),Lx=()=>!1,fw=n=>ow.test(n),dw=n=>sw.test(n),hw=n=>!pe(n)&&!ge(n),mw=n=>ar(n,Hx,Lx),pe=n=>Rx.test(n),ea=n=>ar(n,Ux,uw),Iu=n=>ar(n,bw,Te),fg=n=>ar(n,Vx,Lx),pw=n=>ar(n,Bx,dw),Ho=n=>ar(n,Ix,fw),ge=n=>zx.test(n),ti=n=>rr(n,Ux),gw=n=>rr(n,vw),dg=n=>rr(n,Vx),xw=n=>rr(n,Hx),yw=n=>rr(n,Bx),Uo=n=>rr(n,Ix,!0),ar=(n,r,i)=>{const o=Rx.exec(n);return o?o[1]?r(o[1]):i(o[2]):!1},rr=(n,r,i=!1)=>{const o=zx.exec(n);return o?o[1]?r(o[1]):i:!1},Vx=n=>n==="position"||n==="percentage",Bx=n=>n==="image"||n==="url",Hx=n=>n==="length"||n==="size"||n==="bg-size",Ux=n=>n==="length",bw=n=>n==="number",vw=n=>n==="family-name",Ix=n=>n==="shadow",ww=()=>{const n=yt("color"),r=yt("font"),i=yt("text"),o=yt("font-weight"),c=yt("tracking"),f=yt("leading"),h=yt("breakpoint"),m=yt("container"),g=yt("spacing"),p=yt("radius"),y=yt("shadow"),b=yt("inset-shadow"),N=yt("text-shadow"),C=yt("drop-shadow"),v=yt("blur"),w=yt("perspective"),j=yt("aspect"),O=yt("ease"),_=yt("animate"),W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...$(),ge,pe],H=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],U=()=>[ge,pe,g],K=()=>[Wa,"full","auto",...U()],ee=()=>[Nl,"none","subgrid",ge,pe],ue=()=>["auto",{span:["full",Nl,ge,pe]},Nl,ge,pe],oe=()=>[Nl,"auto",ge,pe],ie=()=>["auto","min","max","fr",ge,pe],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...U()],G=()=>[Wa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],A=()=>[n,ge,pe],P=()=>[...$(),dg,fg,{position:[ge,pe]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],E=()=>["auto","cover","contain",xw,mw,{size:[ge,pe]}],z=()=>[Uu,ti,ea],Z=()=>["","none","full",p,ge,pe],ne=()=>["",Te,ti,ea],he=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Te,Uu,dg,fg],Ue=()=>["","none",v,ge,pe],le=()=>["none",Te,ge,pe],Se=()=>["none",Te,ge,pe],Me=()=>[Te,ge,pe],Be=()=>[Wa,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xn],breakpoint:[Xn],color:[cw],container:[Xn],"drop-shadow":[Xn],ease:["in","out","in-out"],font:[hw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xn],shadow:[Xn],spacing:["px",Te],text:[Xn],"text-shadow":[Xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wa,pe,ge,j]}],container:["container"],columns:[{columns:[Te,pe,ge,m]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[Nl,"auto",ge,pe]}],basis:[{basis:[Wa,"full","auto",m,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Te,Wa,"auto","initial","none",pe]}],grow:[{grow:["",Te,ge,pe]}],shrink:[{shrink:["",Te,ge,pe]}],order:[{order:[Nl,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:ue()}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:ue()}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[m,"screen",...G()]}],"min-w":[{"min-w":[m,"screen","none",...G()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[h]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",i,ti,ea]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ge,Iu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uu,pe]}],"font-family":[{font:[gw,pe,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,ge,pe]}],"line-clamp":[{"line-clamp":[Te,"none",ge,Iu]}],leading:[{leading:[f,...U()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Te,"from-font","auto",ge,ea]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[Te,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:E()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nl,ge,pe],radial:["",ge,pe],conic:[Nl,ge,pe]},yw,pw]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Te,ge,pe]}],"outline-w":[{outline:["",Te,ti,ea]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",y,Uo,Ho]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",b,Uo,Ho]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[Te,ea]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",N,Uo,Ho]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[Te,ge,pe]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Te]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[ge,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Te]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:E()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,pe]}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:Ue()}],brightness:[{brightness:[Te,ge,pe]}],contrast:[{contrast:[Te,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",C,Uo,Ho]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",Te,ge,pe]}],"hue-rotate":[{"hue-rotate":[Te,ge,pe]}],invert:[{invert:["",Te,ge,pe]}],saturate:[{saturate:[Te,ge,pe]}],sepia:[{sepia:["",Te,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[Te,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Te,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Te,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Te,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Te,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Te,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Te,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Te,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Te,"initial",ge,pe]}],ease:[{ease:["linear","initial",O,ge,pe]}],delay:[{delay:[Te,ge,pe]}],animate:[{animate:["none",_,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,ge,pe]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:le()}],"rotate-x":[{"rotate-x":le()}],"rotate-y":[{"rotate-y":le()}],"rotate-z":[{"rotate-z":le()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[Te,ti,ea,Iu]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Sw=tw(ww);function L(...n){return Sw(Ox(n))}const hg=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,mg=Ox,M=(n,r)=>i=>{var o;if(r?.variants==null)return mg(n,i?.class,i?.className);const{variants:c,defaultVariants:f}=r,h=Object.keys(c).map(p=>{const y=i?.[p],b=f?.[p];if(y===null)return null;const N=hg(y)||hg(b);return c[p][N]}),m=i&&Object.entries(i).reduce((p,y)=>{let[b,N]=y;return N===void 0||(p[b]=N),p},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((p,y)=>{let{class:b,className:N,...C}=y;return Object.entries(C).every(v=>{let[w,j]=v;return Array.isArray(j)?j.includes({...f,...m}[w]):{...f,...m}[w]===j})?[...p,b,N]:p},[]);return mg(n,h,g,i?.class,i?.className)},Nw=M("inline-flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent-blue disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-text-secondary hover:text-text-primary hover:bg-surface-2",ghost:"text-text-muted hover:text-text-secondary hover:bg-surface-1"},size:{sm:"h-6 w-6 rounded-sm",md:"h-8 w-8 rounded-sm",lg:"h-10 w-10 rounded-sm"}},defaultVariants:{variant:"default",size:"md"}}),wn=k.forwardRef(({className:n,variant:r,size:i,icon:o,label:c,...f},h)=>d.jsx("button",{ref:h,className:L(Nw({variant:r,size:i,className:n})),"aria-label":c,title:c,...f,children:o}));wn.displayName="IconButton";const Ew=M("w-full bg-surface-2 text-text-secondary border border-border-subtle transition-colors focus:outline-none focus:ring-1 focus:ring-accent-blue focus:border-accent-blue hover:bg-surface-3 hover:text-text-primary disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{size:{sm:"h-7 px-2.5 pr-7 text-xs rounded-sm leading-7",md:"h-8 px-3 pr-8 text-sm rounded-sm leading-8",lg:"h-10 px-4 pr-10 text-sm rounded-sm leading-10"}},defaultVariants:{size:"md"}}),Yx=k.forwardRef(({className:n,size:r,children:i,...o},c)=>d.jsxs("div",{className:"relative",children:[d.jsx("select",{ref:c,className:L(Ew({size:r,className:n})),...o,children:i}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:d.jsx("svg",{className:"h-4 w-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}));Yx.displayName="Select";var _f=wx();const Of=M("fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-150"),jw=M("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[380px] mx-4 animate-in zoom-in-95 duration-150"),Cw=M("px-5 py-4 border-b border-border-subtle"),Aw=M("text-base font-semibold text-text-primary"),_w=M("px-5 py-4"),Ow=M("text-sm text-text-secondary leading-relaxed"),Tw=M("px-5 py-3 border-t border-border-subtle flex justify-end gap-2"),er=M("px-4 py-2 text-sm font-medium rounded-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1"),Tf=M("bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default focus:ring-border-default"),Mf=M("",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/90 focus:ring-accent-blue",danger:"bg-accent-red text-white hover:bg-accent-red/90 focus:ring-accent-red"}},defaultVariants:{variant:"default"}});function Mw({isOpen:n,title:r,message:i,confirmLabel:o="OK",cancelLabel:c="Cancel",variant:f="default",onConfirm:h,onCancel:m}){const g=k.useRef(null);return k.useEffect(()=>{if(n){const p=setTimeout(()=>{g.current?.focus()},50);return()=>clearTimeout(p)}},[n]),k.useEffect(()=>{if(!n)return;const p=y=>{y.key==="Escape"?m():y.key==="Enter"&&h()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n,m,h]),n?_f.createPortal(d.jsx("div",{className:L(Of()),onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:d.jsxs("div",{className:L(jw()),onClick:p=>p.stopPropagation(),children:[d.jsx("div",{className:L(Cw()),children:d.jsx("h2",{id:"confirm-dialog-title",className:L(Aw()),children:r})}),d.jsx("div",{className:L(_w()),children:d.jsx("p",{id:"confirm-dialog-message",className:L(Ow()),children:i})}),d.jsxs("div",{className:L(Tw()),children:[d.jsx("button",{className:L(er(),Tf()),onClick:m,children:c}),d.jsx("button",{ref:g,className:L(er(),Mf({variant:f})),onClick:h,children:o})]})]})}),document.body):null}const qx=M("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[480px] mx-4 animate-in zoom-in-95 duration-150 max-h-[90vh] flex flex-col"),Gx=M("px-5 py-4 border-b border-border-subtle flex-shrink-0"),Xx=M("text-base font-semibold text-text-primary"),$x=M("px-5 py-4 overflow-y-auto flex-1"),Wx=M("px-5 py-3 border-t border-border-subtle flex justify-end gap-2 flex-shrink-0"),El=M("mb-4 last:mb-0"),jl=M("block text-sm font-medium text-text-primary mb-1.5"),Cl=M("w-full px-3 py-2 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),Zx=M("text-xs text-accent-red mt-1"),ls=M("flex flex-wrap gap-1.5 mb-2"),as=M("inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-surface-3 text-text-primary rounded-sm border border-border-subtle"),rs=M("ml-0.5 text-text-muted hover:text-text-primary cursor-pointer"),is=M("flex gap-2"),Pa=M("px-3 py-2 text-sm bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default rounded-sm transition-colors"),Qx=M("flex items-center gap-2 mb-2"),os=M("flex-1 px-2 py-1.5 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),Kx=M("p-1 text-text-muted hover:text-accent-red transition-colors"),Dw=["string","number","boolean","list","dict","any"];function kw({isOpen:n,existingWorkflowNames:r,onConfirm:i,onCancel:o}){const c=k.useRef(null),[f,h]=k.useState(""),[m,g]=k.useState(null),[p,y]=k.useState([]),[b,N]=k.useState(""),[C,v]=k.useState("string"),[w,j]=k.useState(!1),[O,_]=k.useState([]),[W,$]=k.useState(""),[B,H]=k.useState([]);k.useEffect(()=>{n&&(h(""),g(null),y([]),N(""),v("string"),j(!1),_([]),$(""),H([]),setTimeout(()=>{c.current?.focus()},50))},[n]),k.useEffect(()=>{if(!n)return;const A=P=>{P.key==="Escape"&&o()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[n,o]);const I=A=>A.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(A)?r.includes(A)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",U=A=>{h(A),m&&g(I(A))},K=()=>{g(I(f))},ee=()=>{const A=b.trim();A&&!p.some(P=>P.name===A)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(A)&&(y([...p,{name:A,type:C,required:w}]),N(""),v("string"),j(!1))},ue=A=>{y(p.filter(P=>P.name!==A))},oe=()=>{const A=W.trim();A&&!O.includes(A)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(A)&&(_([...O,A]),$(""))},ie=A=>{_(O.filter(P=>P!==A))},fe=()=>{H([...B,{name:"",value:""}])},ae=(A,P,re)=>{const E=[...B];E[A][P]=re,H(E)},R=A=>{H(B.filter((P,re)=>re!==A))},G=()=>{const A=I(f);if(A){g(A);return}const P={};for(const re of B)if(re.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(re.name.trim())){let E=re.value;try{E=JSON.parse(re.value)}catch{}P[re.name.trim()]=E}i({name:f.trim(),inputs:p,outputs:O,variables:P})};return n?_f.createPortal(d.jsx("div",{className:L(Of()),onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"new-workflow-dialog-title",children:d.jsxs("div",{className:L(qx()),onClick:A=>A.stopPropagation(),children:[d.jsx("div",{className:L(Gx()),children:d.jsx("h2",{id:"new-workflow-dialog-title",className:L(Xx()),children:"Create New Workflow"})}),d.jsxs("div",{className:L($x()),children:[d.jsxs("div",{className:L(El()),children:[d.jsxs("label",{className:L(jl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:c,type:"text",className:L(Cl()),placeholder:"my_workflow",value:f,onChange:A=>U(A.target.value),onBlur:K,onKeyDown:A=>{A.key==="Enter"&&G()}}),m&&d.jsx("p",{className:L(Zx()),children:m})]}),d.jsxs("div",{className:L(El()),children:[d.jsx("label",{className:L(jl()),children:"Interface Inputs"}),p.length>0&&d.jsx("div",{className:L(ls()),children:p.map(A=>d.jsxs("span",{className:L(as()),children:[A.name,d.jsx("span",{className:"text-[10px] opacity-70 ml-0.5",children:A.type}),A.required&&d.jsx("span",{className:"text-accent-red text-[10px]",children:"*"}),d.jsx("button",{className:L(rs()),onClick:()=>ue(A.name),"aria-label":`Remove ${A.name}`,children:"x"})]},A.name))}),d.jsxs("div",{className:L(is()),children:[d.jsx("input",{type:"text",className:L(Cl()),placeholder:"input_name",value:b,onChange:A=>N(A.target.value),onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),ee())}}),d.jsx("select",{className:L(Cl(),"w-24"),value:C,onChange:A=>v(A.target.value),children:Dw.map(A=>d.jsx("option",{value:A,children:A},A))}),d.jsxs("label",{className:"flex items-center gap-1 text-xs text-text-secondary whitespace-nowrap",children:[d.jsx("input",{type:"checkbox",checked:w,onChange:A=>j(A.target.checked)}),"Req"]}),d.jsx("button",{type:"button",className:L(Pa()),onClick:ee,children:"Add"})]})]}),d.jsxs("div",{className:L(El()),children:[d.jsx("label",{className:L(jl()),children:"Interface Outputs"}),O.length>0&&d.jsx("div",{className:L(ls()),children:O.map(A=>d.jsxs("span",{className:L(as()),children:[A,d.jsx("button",{className:L(rs()),onClick:()=>ie(A),"aria-label":`Remove ${A}`,children:"x"})]},A))}),d.jsxs("div",{className:L(is()),children:[d.jsx("input",{type:"text",className:L(Cl()),placeholder:"output_name",value:W,onChange:A=>$(A.target.value),onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),oe())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:oe,children:"Add"})]})]}),d.jsxs("div",{className:L(El()),children:[d.jsx("label",{className:L(jl()),children:"Variables"}),B.map((A,P)=>d.jsxs("div",{className:L(Qx()),children:[d.jsx("input",{type:"text",className:L(os()),placeholder:"name",value:A.name,onChange:re=>ae(P,"name",re.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:L(os()),placeholder:"value",value:A.value,onChange:re=>ae(P,"value",re.target.value)}),d.jsx("button",{type:"button",className:L(Kx()),onClick:()=>R(P),"aria-label":"Remove variable",children:"x"})]},P)),d.jsx("button",{type:"button",className:L(Pa()),onClick:fe,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:L(Wx()),children:[d.jsx("button",{className:L(er(),Tf()),onClick:o,children:"Cancel"}),d.jsx("button",{className:L(er(),Mf()),onClick:G,children:"Create"})]})]})}),document.body):null}function Rw(n,r){return n.constructs.find(i=>i.opcode===r)}function zw(n){return new Set(n.constructs.filter(r=>r.branches&&r.branches.length>0).map(r=>r.opcode))}function Lw(n,r){const i=n.branch_colors;return r.startsWith("CATCH")?i.CATCH||i.default||"#9C27B0":r.startsWith("BRANCH")?i.BRANCH||i.default||"#9C27B0":i[r]||i.default||"#9C27B0"}function Vw(n,r){const i=n.node_colors;return i[r]||i.opcode||"#64748B"}function Bw(n,r){const i=n.reporter_colors;for(const o of n.categories)if(r.startsWith(o.prefix))return i[o.id]||i.default||"#64748B";return i.default||"#64748B"}const Hw="1.0",Uw=[{id:"io",label:"I/O Operations",prefix:"io_",color:"#22D3EE",icon:""},{id:"operator",label:"Operators",prefix:"operator_",color:"#9C27B0",icon:""},{id:"math",label:"Math Operations",prefix:"math_",color:"#8B5CF6",icon:""},{id:"string",label:"String Operations",prefix:"string_",color:"#F472B6",icon:""},{id:"list",label:"List Operations",prefix:"list_",color:"#3B82F6",icon:""},{id:"dict",label:"Dictionary Operations",prefix:"dict_",color:"#F59E0B",icon:""},{id:"object",label:"Object Operations",prefix:"object_",color:"#10B981",icon:""},{id:"type",label:"Type Conversions",prefix:"type_",color:"#6B7280",icon:""},{id:"throw",label:"Exception Operations",prefix:"throw_",color:"#EF4444",icon:""},{id:"assert",label:"Assertion Operations",prefix:"assert_",color:"#F97316",icon:""},{id:"workflow",label:"Workflow Operations",prefix:"workflow_",color:"#E91E63",icon:""},{id:"data",label:"Data Operations",prefix:"data_",color:"#4CAF50",icon:""},{id:"control",label:"Control Flow",prefix:"control_",color:"#FF9500",icon:""},{id:"async",label:"Async Operations",prefix:"async_",color:"#06B6D4",icon:""},{id:"pydantic_ai",label:"AI Operations (Pydantic AI)",prefix:"pydantic_ai_",color:"#10B981",icon:"",requires:"ai"},{id:"http",label:"HTTP Operations",prefix:"http_",color:"#3B82F6",icon:"",requires:"http"},{id:"html",label:"HTML Operations",prefix:"html_",color:"#E34F26",icon:"",requires:"http"},{id:"json",label:"JSON Operations",prefix:"json_",color:"#F59E0B",icon:""},{id:"pygame",label:"Pygame Operations",prefix:"pygame_",color:"#00D86A",icon:"",requires:"pygame"},{id:"rag",label:"RAG Operations",prefix:"rag_",color:"#8B5CF6",icon:"",requires:"rag"},{id:"chat",label:"Chat Operations",prefix:"chat_",color:"#6366F1",icon:""},{id:"cli",label:"CLI Operations",prefix:"cli_",color:"#EC4899",icon:""},{id:"github",label:"GitHub Operations",prefix:"github_",color:"#24292F",icon:""},{id:"task",label:"Task Operations",prefix:"task_",color:"#0EA5E9",icon:""},{id:"channel",label:"Channel Operations",prefix:"channel_",color:"#14B8A6",icon:""},{id:"sync",label:"Sync Primitives",prefix:"sync_",color:"#A855F7",icon:""}],Iw=[{opcode:"control_if",display_name:"If",ast_class:"If",category:"control",description:"Execute branch if condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0}]},{opcode:"control_if_else",display_name:"If-Else",ast_class:"If",category:"control",description:"Execute then-branch if condition is true, else-branch otherwise.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0},{name:"ELSE",label:"Else",color:"#EF5350",required:!0}]},{opcode:"control_while",display_name:"While",ast_class:"While",category:"control",description:"Repeat body while condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_for",display_name:"For",ast_class:"For",category:"control",description:"For loop with counter variable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"START",type:"expression",label:"Start",value_type:"int",required:!0},{name:"END",type:"expression",label:"End",value_type:"int",required:!0},{name:"STEP",type:"expression",label:"Step",value_type:"int",required:!1,default:1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_foreach",display_name:"ForEach",ast_class:"ForEach",category:"control",description:"Iterate over each item in a collection.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Iterable",value_type:"list",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_fork",display_name:"Fork",ast_class:"Fork",category:"control",description:"Execute multiple branches concurrently.",inputs:[],branches:[{name:"BRANCH1",label:"Branch 1",color:"#9C27B0",required:!0},{name:"BRANCH2",label:"Branch 2",color:"#9C27B0",required:!1}],dynamic_branches:!0},{opcode:"control_try",display_name:"Try",ast_class:"Try",category:"control",description:"Exception handling with try/catch/finally.",inputs:[],branches:[{name:"TRY",label:"Try",color:"#3B82F6",required:!0},{name:"CATCH1",label:"Catch",color:"#F87171",required:!1,catch_config:{exception_type:"string",var_name:"string"}},{name:"FINALLY",label:"Finally",color:"#FACC15",required:!1}],dynamic_branches:!0},{opcode:"control_throw",display_name:"Throw",ast_class:"Throw",category:"control",description:"Raise an exception with a message.",inputs:[{name:"VALUE",type:"expression",label:"Message",value_type:"string",required:!0}],branches:[]},{opcode:"control_spawn",display_name:"Spawn",ast_class:"Spawn",category:"control",description:"Spawn a background task.",inputs:[{name:"VAR",type:"variable_name",label:"Task Variable",required:!1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_async_foreach",display_name:"Async ForEach",ast_class:"AsyncForEach",category:"control",description:"Async iteration over a stream or async iterable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Async Iterable",value_type:"async_iterable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"async_timeout",display_name:"Timeout",ast_class:"Timeout",category:"async",description:"Execute body with a timeout, with optional fallback.",inputs:[{name:"TIMEOUT",type:"expression",label:"Timeout (seconds)",value_type:"float",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0},{name:"ON_TIMEOUT",label:"On Timeout",color:"#FACC15",required:!1}]},{opcode:"control_with",display_name:"With",ast_class:"With",category:"control",description:"Async context manager (with statement).",inputs:[{name:"RESOURCE",type:"expression",label:"Resource",required:!0},{name:"VAR",type:"variable_name",label:"Variable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"data_set_variable_to",display_name:"Set Variable",ast_class:"Assign",category:"data",description:"Assign a value to a variable.",inputs:[{name:"VARIABLE",type:"variable_name",label:"Variable",required:!0},{name:"VALUE",type:"expression",label:"Value",required:!0}],branches:[]},{opcode:"workflow_return",display_name:"Return",ast_class:"Return",category:"workflow",description:"Return value(s) from workflow.",inputs:[{name:"VALUE",type:"expression",label:"Value",required:!1}],branches:[],dynamic_inputs:!0},{opcode:"workflow_call",display_name:"Call Workflow",ast_class:"ExprStmt",category:"workflow",description:"Call another workflow by name.",inputs:[{name:"WORKFLOW",type:"variable_name",label:"Workflow Name",required:!0}],branches:[],dynamic_inputs:!0},{opcode:"workflow_start",display_name:"Start",ast_class:null,category:"workflow",description:"Entry point for workflow execution.",inputs:[],branches:[]}],Yw={THEN:"#34D399",ELSE:"#F87171",BODY:"#22D3EE",TRY:"#3B82F6",CATCH:"#F87171",FINALLY:"#FACC15",ON_TIMEOUT:"#FACC15",BRANCH:"#9C27B0",default:"#9C27B0"},qw={control_flow:"#FF9500",data:"#4CAF50",io:"#22D3EE",operator:"#9C27B0",workflow_op:"#E91E63",opcode:"#64748B"},Gw={data:"#4CAF50",operator:"#9C27B0",io:"#22D3EE",workflow:"#E91E63",default:"#64748B"},Xw={version:Hw,categories:Uw,constructs:Iw,branch_colors:Yw,node_colors:qw,reporter_colors:Gw},Qn=Xw;function $w(){return Qn}function Fx(n){return Lw(Qn,n)}function Jx(n){return Vw(Qn,n)}function Px(n){return Bw(Qn,n)}function Ww(){return zw(Qn)}function Si(n){return Rw(Qn,n)}function Zw(n,r){const i=Si(n);if(!i||!i.branches)return[];const o=new Set(r),c=[];if(i.dynamic_branches){const f=[],h=[];for(const m of i.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.find(b=>b.prefix===p)||h.push({prefix:p,minCount:m.required?1:0})}else f.push(m.name)}for(const m of f)c.push({name:m,connected:o.has(m)});for(const m of h){const g=r.filter(N=>N.startsWith(m.prefix)&&/^\d+$/.test(N.slice(m.prefix.length))),p=g.length>0?Math.max(...g.map(N=>parseInt(N.slice(m.prefix.length)))):0,y=Math.max(m.minCount,p),b=y>0?y:1;for(let N=1;N<=b;N++){const C=`${m.prefix}${N}`;c.push({name:C,connected:o.has(C)})}}return c}for(const f of i.branches)c.push({name:f.name,connected:o.has(f.name)});return c}function Qw(){return Qn.categories}function ey(n){for(const r of Qn.categories)if(n.startsWith(r.prefix))return r.icon;return""}function Kw(n){for(const r of Qn.categories)if(n.startsWith(r.prefix))return r;return null}const ty={WIDTH:110,HEIGHT:70},Df={HORIZONTAL:60,VERTICAL:40,WORKFLOW:80},Fw={control_flow:"Control Flow",data:"Data",io:"I/O",operator:"Operator",workflow_op:"Workflow",opcode:"Opcode"};function ny(n){return typeof n=="string"?{name:n,type:"string",required:!1}:{name:n.name,type:n.type||"string",required:n.required??!1}}const Jw=M("mb-4 p-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-secondary"),Pw=["string","number","boolean","list","dict","any"];function e2({isOpen:n,existingWorkflowNames:r,nodeIds:i,suggestedInputs:o,suggestedOutputs:c,onConfirm:f,onCancel:h}){const m=k.useRef(null),[g,p]=k.useState(""),[y,b]=k.useState(null),[N,C]=k.useState([]),[v,w]=k.useState(""),[j,O]=k.useState("string"),[_,W]=k.useState(!1),[$,B]=k.useState([]),[H,I]=k.useState(""),[U,K]=k.useState([]);k.useEffect(()=>{n&&(p(""),b(null),C(o.map(ny)),w(""),O("string"),W(!1),B(c),I(""),K([]),setTimeout(()=>{m.current?.focus()},50))},[n,o,c]),k.useEffect(()=>{if(!n)return;const E=z=>{z.key==="Escape"&&h()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[n,h]);const ee=E=>E.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(E)?r.includes(E)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",ue=E=>{p(E),y&&b(ee(E))},oe=()=>{b(ee(g))},ie=()=>{const E=v.trim();E&&!N.some(z=>z.name===E)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(E)&&(C([...N,{name:E,type:j,required:_}]),w(""),O("string"),W(!1))},fe=E=>{C(N.filter(z=>z.name!==E))},ae=()=>{const E=H.trim();E&&!$.includes(E)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(E)&&(B([...$,E]),I(""))},R=E=>{B($.filter(z=>z!==E))},G=()=>{K([...U,{name:"",value:""}])},A=(E,z,Z)=>{const ne=[...U];ne[E][z]=Z,K(ne)},P=E=>{K(U.filter((z,Z)=>Z!==E))},re=()=>{const E=ee(g);if(E){b(E);return}const z={};for(const Z of U)if(Z.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Z.name.trim())){let ne=Z.value;try{ne=JSON.parse(Z.value)}catch{}z[Z.name.trim()]=ne}f({name:g.trim(),inputs:N,outputs:$,variables:z})};return n?_f.createPortal(d.jsx("div",{className:L(Of()),onClick:h,role:"dialog","aria-modal":"true","aria-labelledby":"extract-workflow-dialog-title",children:d.jsxs("div",{className:L(qx()),onClick:E=>E.stopPropagation(),children:[d.jsx("div",{className:L(Gx()),children:d.jsx("h2",{id:"extract-workflow-dialog-title",className:L(Xx()),children:"Extract to Workflow"})}),d.jsxs("div",{className:L($x()),children:[d.jsxs("div",{className:L(Jw()),children:[d.jsxs("strong",{children:[i.length," nodes"]})," will be extracted into a new workflow. The selected nodes will be replaced with a workflow_call node."]}),d.jsxs("div",{className:L(El()),children:[d.jsxs("label",{className:L(jl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:m,type:"text",className:L(Cl()),placeholder:"my_workflow",value:g,onChange:E=>ue(E.target.value),onBlur:oe,onKeyDown:E=>{E.key==="Enter"&&re()}}),y&&d.jsx("p",{className:L(Zx()),children:y})]}),d.jsxs("div",{className:L(El()),children:[d.jsxs("label",{className:L(jl()),children:["Interface Inputs",o.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),N.length>0&&d.jsx("div",{className:L(ls()),children:N.map(E=>d.jsxs("span",{className:L(as()),children:[E.name,d.jsx("span",{className:"text-[10px] opacity-70 ml-0.5",children:E.type}),E.required&&d.jsx("span",{className:"text-accent-red text-[10px]",children:"*"}),d.jsx("button",{className:L(rs()),onClick:()=>fe(E.name),"aria-label":`Remove ${E.name}`,children:"x"})]},E.name))}),d.jsxs("div",{className:L(is()),children:[d.jsx("input",{type:"text",className:L(Cl()),placeholder:"input_name",value:v,onChange:E=>w(E.target.value),onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),ie())}}),d.jsx("select",{className:L(Cl(),"w-24"),value:j,onChange:E=>O(E.target.value),children:Pw.map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsxs("label",{className:"flex items-center gap-1 text-xs text-text-secondary whitespace-nowrap",children:[d.jsx("input",{type:"checkbox",checked:_,onChange:E=>W(E.target.checked)}),"Req"]}),d.jsx("button",{type:"button",className:L(Pa()),onClick:ie,children:"Add"})]})]}),d.jsxs("div",{className:L(El()),children:[d.jsxs("label",{className:L(jl()),children:["Interface Outputs",c.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),$.length>0&&d.jsx("div",{className:L(ls()),children:$.map(E=>d.jsxs("span",{className:L(as()),children:[E,d.jsx("button",{className:L(rs()),onClick:()=>R(E),"aria-label":`Remove ${E}`,children:"x"})]},E))}),d.jsxs("div",{className:L(is()),children:[d.jsx("input",{type:"text",className:L(Cl()),placeholder:"output_name",value:H,onChange:E=>I(E.target.value),onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),ae())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:ae,children:"Add"})]})]}),d.jsxs("div",{className:L(El()),children:[d.jsx("label",{className:L(jl()),children:"Variables"}),U.map((E,z)=>d.jsxs("div",{className:L(Qx()),children:[d.jsx("input",{type:"text",className:L(os()),placeholder:"name",value:E.name,onChange:Z=>A(z,"name",Z.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:L(os()),placeholder:"value",value:E.value,onChange:Z=>A(z,"value",Z.target.value)}),d.jsx("button",{type:"button",className:L(Kx()),onClick:()=>P(z),"aria-label":"Remove variable",children:"x"})]},z)),d.jsx("button",{type:"button",className:L(Pa()),onClick:G,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:L(Wx()),children:[d.jsx("button",{className:L(er(),Tf()),onClick:h,children:"Cancel"}),d.jsx("button",{className:L(er(),Mf()),onClick:re,children:"Extract"})]})]})}),document.body):null}function vt(n,r,i=18){const o=({size:c=i,className:f,...h})=>d.jsx("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:f,...h,children:n});return o.displayName=r,o}const t2=vt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"FileIcon"),n2=vt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"17 8 12 3 7 8"}),d.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"UploadIcon"),l2=vt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"DownloadIcon"),a2=vt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M3 7v6h6"}),d.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),"UndoIcon"),r2=vt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 7v6h-6"}),d.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"})]}),"RedoIcon"),i2=vt(d.jsx("path",{d:"M12 5v14M5 12h14"}),"PlusIcon",20),o2=vt(d.jsx("path",{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"}),"CodeIcon",20),s2=vt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),"SunIcon"),c2=vt(d.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}),"MoonIcon"),u2=vt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomInIcon",16),f2=vt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomOutIcon",16),d2=vt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"FitViewIcon",16),h2=vt(d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"GridIcon",14),m2=vt(d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"}),"PlayIcon",14),p2=vt(d.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),"StopIcon",14),g2=vt(d.jsxs(d.Fragment,{children:[d.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),d.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]}),"StepForwardIcon",14),x2=vt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"3 6 5 6 21 6"}),d.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"TrashIcon",14),y2=vt(d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"CloseIcon",14),b2=vt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),d.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"SaveIcon"),ly=k.createContext(null),pg="lexflow-theme";function v2({children:n}){const[r,i]=k.useState(()=>{if(typeof window>"u")return"dark";const f=localStorage.getItem(pg);return f==="light"||f==="dark"?f:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});k.useEffect(()=>{document.documentElement.classList.toggle("light",r==="light"),localStorage.setItem(pg,r)},[r]);const o=f=>i(f),c=()=>i(f=>f==="dark"?"light":"dark");return k.createElement(ly.Provider,{value:{theme:r,setTheme:o,toggleTheme:c}},n)}function ay(){const n=k.useContext(ly);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}function w2({className:n}){const{theme:r,toggleTheme:i}=ay();return d.jsx(wn,{className:n,icon:r==="dark"?d.jsx(s2,{}):d.jsx(c2,{}),label:r==="dark"?"Switch to light mode":"Switch to dark mode",onClick:i})}function ry(n){return typeof n.listExamples=="function"&&typeof n.getExample=="function"}const iy=k.createContext(null);function S2({provider:n,children:r}){return d.jsx(iy.Provider,{value:n,children:r})}function ys(){const n=k.useContext(iy);if(!n)throw new Error("useBackendProvider must be used within a BackendProviderWrapper");return n}function oy(n){return typeof n>"u"||n===null}function N2(n){return typeof n=="object"&&n!==null}function E2(n){return Array.isArray(n)?n:oy(n)?[]:[n]}function j2(n,r){var i,o,c,f;if(r)for(f=Object.keys(r),i=0,o=f.length;i<o;i+=1)c=f[i],n[c]=r[c];return n}function C2(n,r){var i="",o;for(o=0;o<r;o+=1)i+=n;return i}function A2(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var _2=oy,O2=N2,T2=E2,M2=C2,D2=A2,k2=j2,bt={isNothing:_2,isObject:O2,toArray:T2,repeat:M2,isNegativeZero:D2,extend:k2};function sy(n,r){var i="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(i+='in "'+n.mark.name+'" '),i+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(i+=`

`+n.mark.snippet),o+" "+i):o}function fi(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=sy(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}fi.prototype=Object.create(Error.prototype);fi.prototype.constructor=fi;fi.prototype.toString=function(r){return this.name+": "+sy(this,r)};var kt=fi;function Yu(n,r,i,o,c){var f="",h="",m=Math.floor(c/2)-1;return o-r>m&&(f=" ... ",r=o-m+f.length),i-o>m&&(h=" ...",i=o+m-h.length),{str:f+n.slice(r,i).replace(/\t/g,"")+h,pos:o-r+f.length}}function qu(n,r){return bt.repeat(" ",r-n.length)+n}function R2(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,o=[0],c=[],f,h=-1;f=i.exec(n.buffer);)c.push(f.index),o.push(f.index+f[0].length),n.position<=f.index&&h<0&&(h=o.length-2);h<0&&(h=o.length-1);var m="",g,p,y=Math.min(n.line+r.linesAfter,c.length).toString().length,b=r.maxLength-(r.indent+y+3);for(g=1;g<=r.linesBefore&&!(h-g<0);g++)p=Yu(n.buffer,o[h-g],c[h-g],n.position-(o[h]-o[h-g]),b),m=bt.repeat(" ",r.indent)+qu((n.line-g+1).toString(),y)+" | "+p.str+`
`+m;for(p=Yu(n.buffer,o[h],c[h],n.position,b),m+=bt.repeat(" ",r.indent)+qu((n.line+1).toString(),y)+" | "+p.str+`
`,m+=bt.repeat("-",r.indent+y+3+p.pos)+`^
`,g=1;g<=r.linesAfter&&!(h+g>=c.length);g++)p=Yu(n.buffer,o[h+g],c[h+g],n.position-(o[h]-o[h+g]),b),m+=bt.repeat(" ",r.indent)+qu((n.line+g+1).toString(),y)+" | "+p.str+`
`;return m.replace(/\n$/,"")}var z2=R2,L2=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],V2=["scalar","sequence","mapping"];function B2(n){var r={};return n!==null&&Object.keys(n).forEach(function(i){n[i].forEach(function(o){r[String(o)]=i})}),r}function H2(n,r){if(r=r||{},Object.keys(r).forEach(function(i){if(L2.indexOf(i)===-1)throw new kt('Unknown option "'+i+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=B2(r.styleAliases||null),V2.indexOf(this.kind)===-1)throw new kt('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var Ot=H2;function gg(n,r){var i=[];return n[r].forEach(function(o){var c=i.length;i.forEach(function(f,h){f.tag===o.tag&&f.kind===o.kind&&f.multi===o.multi&&(c=h)}),i[c]=o}),i}function U2(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function o(c){c.multi?(n.multi[c.kind].push(c),n.multi.fallback.push(c)):n[c.kind][c.tag]=n.fallback[c.tag]=c}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(o);return n}function uf(n){return this.extend(n)}uf.prototype.extend=function(r){var i=[],o=[];if(r instanceof Ot)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new kt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(f){if(!(f instanceof Ot))throw new kt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(f.loadKind&&f.loadKind!=="scalar")throw new kt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(f.multi)throw new kt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(f){if(!(f instanceof Ot))throw new kt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(uf.prototype);return c.implicit=(this.implicit||[]).concat(i),c.explicit=(this.explicit||[]).concat(o),c.compiledImplicit=gg(c,"implicit"),c.compiledExplicit=gg(c,"explicit"),c.compiledTypeMap=U2(c.compiledImplicit,c.compiledExplicit),c};var cy=uf,uy=new Ot("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),fy=new Ot("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),dy=new Ot("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),hy=new cy({explicit:[uy,fy,dy]});function I2(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function Y2(){return null}function q2(n){return n===null}var my=new Ot("tag:yaml.org,2002:null",{kind:"scalar",resolve:I2,construct:Y2,predicate:q2,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function G2(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function X2(n){return n==="true"||n==="True"||n==="TRUE"}function $2(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var py=new Ot("tag:yaml.org,2002:bool",{kind:"scalar",resolve:G2,construct:X2,predicate:$2,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function W2(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function Z2(n){return 48<=n&&n<=55}function Q2(n){return 48<=n&&n<=57}function K2(n){if(n===null)return!1;var r=n.length,i=0,o=!1,c;if(!r)return!1;if(c=n[i],(c==="-"||c==="+")&&(c=n[++i]),c==="0"){if(i+1===r)return!0;if(c=n[++i],c==="b"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(c!=="0"&&c!=="1")return!1;o=!0}return o&&c!=="_"}if(c==="x"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!W2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}if(c==="o"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!Z2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}}if(c==="_")return!1;for(;i<r;i++)if(c=n[i],c!=="_"){if(!Q2(n.charCodeAt(i)))return!1;o=!0}return!(!o||c==="_")}function F2(n){var r=n,i=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(i=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function J2(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!bt.isNegativeZero(n)}var gy=new Ot("tag:yaml.org,2002:int",{kind:"scalar",resolve:K2,construct:F2,predicate:J2,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),P2=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function eS(n){return!(n===null||!P2.test(n)||n[n.length-1]==="_")}function tS(n){var r,i;return r=n.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var nS=/^[-+]?[0-9]+e/;function lS(n,r){var i;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(bt.isNegativeZero(n))return"-0.0";return i=n.toString(10),nS.test(i)?i.replace("e",".e"):i}function aS(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||bt.isNegativeZero(n))}var xy=new Ot("tag:yaml.org,2002:float",{kind:"scalar",resolve:eS,construct:tS,predicate:aS,represent:lS,defaultStyle:"lowercase"}),yy=hy.extend({implicit:[my,py,gy,xy]}),by=yy,vy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),wy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function rS(n){return n===null?!1:vy.exec(n)!==null||wy.exec(n)!==null}function iS(n){var r,i,o,c,f,h,m,g=0,p=null,y,b,N;if(r=vy.exec(n),r===null&&(r=wy.exec(n)),r===null)throw new Error("Date resolve error");if(i=+r[1],o=+r[2]-1,c=+r[3],!r[4])return new Date(Date.UTC(i,o,c));if(f=+r[4],h=+r[5],m=+r[6],r[7]){for(g=r[7].slice(0,3);g.length<3;)g+="0";g=+g}return r[9]&&(y=+r[10],b=+(r[11]||0),p=(y*60+b)*6e4,r[9]==="-"&&(p=-p)),N=new Date(Date.UTC(i,o,c,f,h,m,g)),p&&N.setTime(N.getTime()-p),N}function oS(n){return n.toISOString()}var Sy=new Ot("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:rS,construct:iS,instanceOf:Date,represent:oS});function sS(n){return n==="<<"||n===null}var Ny=new Ot("tag:yaml.org,2002:merge",{kind:"scalar",resolve:sS}),kf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function cS(n){if(n===null)return!1;var r,i,o=0,c=n.length,f=kf;for(i=0;i<c;i++)if(r=f.indexOf(n.charAt(i)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function uS(n){var r,i,o=n.replace(/[\r\n=]/g,""),c=o.length,f=kf,h=0,m=[];for(r=0;r<c;r++)r%4===0&&r&&(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)),h=h<<6|f.indexOf(o.charAt(r));return i=c%4*6,i===0?(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)):i===18?(m.push(h>>10&255),m.push(h>>2&255)):i===12&&m.push(h>>4&255),new Uint8Array(m)}function fS(n){var r="",i=0,o,c,f=n.length,h=kf;for(o=0;o<f;o++)o%3===0&&o&&(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]),i=(i<<8)+n[o];return c=f%3,c===0?(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]):c===2?(r+=h[i>>10&63],r+=h[i>>4&63],r+=h[i<<2&63],r+=h[64]):c===1&&(r+=h[i>>2&63],r+=h[i<<4&63],r+=h[64],r+=h[64]),r}function dS(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var Ey=new Ot("tag:yaml.org,2002:binary",{kind:"scalar",resolve:cS,construct:uS,predicate:dS,represent:fS}),hS=Object.prototype.hasOwnProperty,mS=Object.prototype.toString;function pS(n){if(n===null)return!0;var r=[],i,o,c,f,h,m=n;for(i=0,o=m.length;i<o;i+=1){if(c=m[i],h=!1,mS.call(c)!=="[object Object]")return!1;for(f in c)if(hS.call(c,f))if(!h)h=!0;else return!1;if(!h)return!1;if(r.indexOf(f)===-1)r.push(f);else return!1}return!0}function gS(n){return n!==null?n:[]}var jy=new Ot("tag:yaml.org,2002:omap",{kind:"sequence",resolve:pS,construct:gS}),xS=Object.prototype.toString;function yS(n){if(n===null)return!0;var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1){if(o=h[r],xS.call(o)!=="[object Object]"||(c=Object.keys(o),c.length!==1))return!1;f[r]=[c[0],o[c[0]]]}return!0}function bS(n){if(n===null)return[];var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1)o=h[r],c=Object.keys(o),f[r]=[c[0],o[c[0]]];return f}var Cy=new Ot("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:yS,construct:bS}),vS=Object.prototype.hasOwnProperty;function wS(n){if(n===null)return!0;var r,i=n;for(r in i)if(vS.call(i,r)&&i[r]!==null)return!1;return!0}function SS(n){return n!==null?n:{}}var Ay=new Ot("tag:yaml.org,2002:set",{kind:"mapping",resolve:wS,construct:SS}),Rf=by.extend({implicit:[Sy,Ny],explicit:[Ey,jy,Cy,Ay]}),Ml=Object.prototype.hasOwnProperty,ss=1,_y=2,Oy=3,cs=4,Gu=1,NS=2,xg=3,ES=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,jS=/[\x85\u2028\u2029]/,CS=/[,\[\]\{\}]/,Ty=/^(?:!|!!|![a-z\-]+!)$/i,My=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function yg(n){return Object.prototype.toString.call(n)}function jn(n){return n===10||n===13}function ia(n){return n===9||n===32}function Yt(n){return n===9||n===32||n===10||n===13}function Ka(n){return n===44||n===91||n===93||n===123||n===125}function AS(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function _S(n){return n===120?2:n===117?4:n===85?8:0}function OS(n){return 48<=n&&n<=57?n-48:-1}function bg(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function TS(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function Dy(n,r,i){r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:i}):n[r]=i}var ky=new Array(256),Ry=new Array(256);for(var Za=0;Za<256;Za++)ky[Za]=bg(Za)?1:0,Ry[Za]=bg(Za);function MS(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||Rf,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function zy(n,r){var i={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return i.snippet=z2(i),new kt(r,i)}function be(n,r){throw zy(n,r)}function us(n,r){n.onWarning&&n.onWarning.call(null,zy(n,r))}var vg={YAML:function(r,i,o){var c,f,h;r.version!==null&&be(r,"duplication of %YAML directive"),o.length!==1&&be(r,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),c===null&&be(r,"ill-formed argument of the YAML directive"),f=parseInt(c[1],10),h=parseInt(c[2],10),f!==1&&be(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=h<2,h!==1&&h!==2&&us(r,"unsupported YAML version of the document")},TAG:function(r,i,o){var c,f;o.length!==2&&be(r,"TAG directive accepts exactly two arguments"),c=o[0],f=o[1],Ty.test(c)||be(r,"ill-formed tag handle (first argument) of the TAG directive"),Ml.call(r.tagMap,c)&&be(r,'there is a previously declared suffix for "'+c+'" tag handle'),My.test(f)||be(r,"ill-formed tag prefix (second argument) of the TAG directive");try{f=decodeURIComponent(f)}catch{be(r,"tag prefix is malformed: "+f)}r.tagMap[c]=f}};function _l(n,r,i,o){var c,f,h,m;if(r<i){if(m=n.input.slice(r,i),o)for(c=0,f=m.length;c<f;c+=1)h=m.charCodeAt(c),h===9||32<=h&&h<=1114111||be(n,"expected valid JSON character");else ES.test(m)&&be(n,"the stream contains non-printable characters");n.result+=m}}function wg(n,r,i,o){var c,f,h,m;for(bt.isObject(i)||be(n,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(i),h=0,m=c.length;h<m;h+=1)f=c[h],Ml.call(r,f)||(Dy(r,f,i[f]),o[f]=!0)}function Fa(n,r,i,o,c,f,h,m,g){var p,y;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),p=0,y=c.length;p<y;p+=1)Array.isArray(c[p])&&be(n,"nested arrays are not supported inside keys"),typeof c=="object"&&yg(c[p])==="[object Object]"&&(c[p]="[object Object]");if(typeof c=="object"&&yg(c)==="[object Object]"&&(c="[object Object]"),c=String(c),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(f))for(p=0,y=f.length;p<y;p+=1)wg(n,r,f[p],i);else wg(n,r,f,i);else!n.json&&!Ml.call(i,c)&&Ml.call(r,c)&&(n.line=h||n.line,n.lineStart=m||n.lineStart,n.position=g||n.position,be(n,"duplicated mapping key")),Dy(r,c,f),delete i[c];return r}function zf(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):be(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function pt(n,r,i){for(var o=0,c=n.input.charCodeAt(n.position);c!==0;){for(;ia(c);)c===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),c=n.input.charCodeAt(++n.position);if(r&&c===35)do c=n.input.charCodeAt(++n.position);while(c!==10&&c!==13&&c!==0);if(jn(c))for(zf(n),c=n.input.charCodeAt(n.position),o++,n.lineIndent=0;c===32;)n.lineIndent++,c=n.input.charCodeAt(++n.position);else break}return i!==-1&&o!==0&&n.lineIndent<i&&us(n,"deficient indentation"),o}function bs(n){var r=n.position,i;return i=n.input.charCodeAt(r),!!((i===45||i===46)&&i===n.input.charCodeAt(r+1)&&i===n.input.charCodeAt(r+2)&&(r+=3,i=n.input.charCodeAt(r),i===0||Yt(i)))}function Lf(n,r){r===1?n.result+=" ":r>1&&(n.result+=bt.repeat(`
`,r-1))}function DS(n,r,i){var o,c,f,h,m,g,p,y,b=n.kind,N=n.result,C;if(C=n.input.charCodeAt(n.position),Yt(C)||Ka(C)||C===35||C===38||C===42||C===33||C===124||C===62||C===39||C===34||C===37||C===64||C===96||(C===63||C===45)&&(c=n.input.charCodeAt(n.position+1),Yt(c)||i&&Ka(c)))return!1;for(n.kind="scalar",n.result="",f=h=n.position,m=!1;C!==0;){if(C===58){if(c=n.input.charCodeAt(n.position+1),Yt(c)||i&&Ka(c))break}else if(C===35){if(o=n.input.charCodeAt(n.position-1),Yt(o))break}else{if(n.position===n.lineStart&&bs(n)||i&&Ka(C))break;if(jn(C))if(g=n.line,p=n.lineStart,y=n.lineIndent,pt(n,!1,-1),n.lineIndent>=r){m=!0,C=n.input.charCodeAt(n.position);continue}else{n.position=h,n.line=g,n.lineStart=p,n.lineIndent=y;break}}m&&(_l(n,f,h,!1),Lf(n,n.line-g),f=h=n.position,m=!1),ia(C)||(h=n.position+1),C=n.input.charCodeAt(++n.position)}return _l(n,f,h,!1),n.result?!0:(n.kind=b,n.result=N,!1)}function kS(n,r){var i,o,c;if(i=n.input.charCodeAt(n.position),i!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=c=n.position;(i=n.input.charCodeAt(n.position))!==0;)if(i===39)if(_l(n,o,n.position,!0),i=n.input.charCodeAt(++n.position),i===39)o=n.position,n.position++,c=n.position;else return!0;else jn(i)?(_l(n,o,c,!0),Lf(n,pt(n,!1,r)),o=c=n.position):n.position===n.lineStart&&bs(n)?be(n,"unexpected end of the document within a single quoted scalar"):(n.position++,c=n.position);be(n,"unexpected end of the stream within a single quoted scalar")}function RS(n,r){var i,o,c,f,h,m;if(m=n.input.charCodeAt(n.position),m!==34)return!1;for(n.kind="scalar",n.result="",n.position++,i=o=n.position;(m=n.input.charCodeAt(n.position))!==0;){if(m===34)return _l(n,i,n.position,!0),n.position++,!0;if(m===92){if(_l(n,i,n.position,!0),m=n.input.charCodeAt(++n.position),jn(m))pt(n,!1,r);else if(m<256&&ky[m])n.result+=Ry[m],n.position++;else if((h=_S(m))>0){for(c=h,f=0;c>0;c--)m=n.input.charCodeAt(++n.position),(h=AS(m))>=0?f=(f<<4)+h:be(n,"expected hexadecimal character");n.result+=TS(f),n.position++}else be(n,"unknown escape sequence");i=o=n.position}else jn(m)?(_l(n,i,o,!0),Lf(n,pt(n,!1,r)),i=o=n.position):n.position===n.lineStart&&bs(n)?be(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}be(n,"unexpected end of the stream within a double quoted scalar")}function zS(n,r){var i=!0,o,c,f,h=n.tag,m,g=n.anchor,p,y,b,N,C,v=Object.create(null),w,j,O,_;if(_=n.input.charCodeAt(n.position),_===91)y=93,C=!1,m=[];else if(_===123)y=125,C=!0,m={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=m),_=n.input.charCodeAt(++n.position);_!==0;){if(pt(n,!0,r),_=n.input.charCodeAt(n.position),_===y)return n.position++,n.tag=h,n.anchor=g,n.kind=C?"mapping":"sequence",n.result=m,!0;i?_===44&&be(n,"expected the node content, but found ','"):be(n,"missed comma between flow collection entries"),j=w=O=null,b=N=!1,_===63&&(p=n.input.charCodeAt(n.position+1),Yt(p)&&(b=N=!0,n.position++,pt(n,!0,r))),o=n.line,c=n.lineStart,f=n.position,tr(n,r,ss,!1,!0),j=n.tag,w=n.result,pt(n,!0,r),_=n.input.charCodeAt(n.position),(N||n.line===o)&&_===58&&(b=!0,_=n.input.charCodeAt(++n.position),pt(n,!0,r),tr(n,r,ss,!1,!0),O=n.result),C?Fa(n,m,v,j,w,O,o,c,f):b?m.push(Fa(n,null,v,j,w,O,o,c,f)):m.push(w),pt(n,!0,r),_=n.input.charCodeAt(n.position),_===44?(i=!0,_=n.input.charCodeAt(++n.position)):i=!1}be(n,"unexpected end of the stream within a flow collection")}function LS(n,r){var i,o,c=Gu,f=!1,h=!1,m=r,g=0,p=!1,y,b;if(b=n.input.charCodeAt(n.position),b===124)o=!1;else if(b===62)o=!0;else return!1;for(n.kind="scalar",n.result="";b!==0;)if(b=n.input.charCodeAt(++n.position),b===43||b===45)Gu===c?c=b===43?xg:NS:be(n,"repeat of a chomping mode identifier");else if((y=OS(b))>=0)y===0?be(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?be(n,"repeat of an indentation width identifier"):(m=r+y-1,h=!0);else break;if(ia(b)){do b=n.input.charCodeAt(++n.position);while(ia(b));if(b===35)do b=n.input.charCodeAt(++n.position);while(!jn(b)&&b!==0)}for(;b!==0;){for(zf(n),n.lineIndent=0,b=n.input.charCodeAt(n.position);(!h||n.lineIndent<m)&&b===32;)n.lineIndent++,b=n.input.charCodeAt(++n.position);if(!h&&n.lineIndent>m&&(m=n.lineIndent),jn(b)){g++;continue}if(n.lineIndent<m){c===xg?n.result+=bt.repeat(`
`,f?1+g:g):c===Gu&&f&&(n.result+=`
`);break}for(o?ia(b)?(p=!0,n.result+=bt.repeat(`
`,f?1+g:g)):p?(p=!1,n.result+=bt.repeat(`
`,g+1)):g===0?f&&(n.result+=" "):n.result+=bt.repeat(`
`,g):n.result+=bt.repeat(`
`,f?1+g:g),f=!0,h=!0,g=0,i=n.position;!jn(b)&&b!==0;)b=n.input.charCodeAt(++n.position);_l(n,i,n.position,!1)}return!0}function Sg(n,r){var i,o=n.tag,c=n.anchor,f=[],h,m=!1,g;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),g=n.input.charCodeAt(n.position);g!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,be(n,"tab characters must not be used in indentation")),!(g!==45||(h=n.input.charCodeAt(n.position+1),!Yt(h))));){if(m=!0,n.position++,pt(n,!0,-1)&&n.lineIndent<=r){f.push(null),g=n.input.charCodeAt(n.position);continue}if(i=n.line,tr(n,r,Oy,!1,!0),f.push(n.result),pt(n,!0,-1),g=n.input.charCodeAt(n.position),(n.line===i||n.lineIndent>r)&&g!==0)be(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return m?(n.tag=o,n.anchor=c,n.kind="sequence",n.result=f,!0):!1}function VS(n,r,i){var o,c,f,h,m,g,p=n.tag,y=n.anchor,b={},N=Object.create(null),C=null,v=null,w=null,j=!1,O=!1,_;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=b),_=n.input.charCodeAt(n.position);_!==0;){if(!j&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,be(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),f=n.line,(_===63||_===58)&&Yt(o))_===63?(j&&(Fa(n,b,N,C,v,null,h,m,g),C=v=w=null),O=!0,j=!0,c=!0):j?(j=!1,c=!0):be(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,_=o;else{if(h=n.line,m=n.lineStart,g=n.position,!tr(n,i,_y,!1,!0))break;if(n.line===f){for(_=n.input.charCodeAt(n.position);ia(_);)_=n.input.charCodeAt(++n.position);if(_===58)_=n.input.charCodeAt(++n.position),Yt(_)||be(n,"a whitespace character is expected after the key-value separator within a block mapping"),j&&(Fa(n,b,N,C,v,null,h,m,g),C=v=w=null),O=!0,j=!1,c=!1,C=n.tag,v=n.result;else if(O)be(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=p,n.anchor=y,!0}else if(O)be(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=p,n.anchor=y,!0}if((n.line===f||n.lineIndent>r)&&(j&&(h=n.line,m=n.lineStart,g=n.position),tr(n,r,cs,!0,c)&&(j?v=n.result:w=n.result),j||(Fa(n,b,N,C,v,w,h,m,g),C=v=w=null),pt(n,!0,-1),_=n.input.charCodeAt(n.position)),(n.line===f||n.lineIndent>r)&&_!==0)be(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return j&&Fa(n,b,N,C,v,null,h,m,g),O&&(n.tag=p,n.anchor=y,n.kind="mapping",n.result=b),O}function BS(n){var r,i=!1,o=!1,c,f,h;if(h=n.input.charCodeAt(n.position),h!==33)return!1;if(n.tag!==null&&be(n,"duplication of a tag property"),h=n.input.charCodeAt(++n.position),h===60?(i=!0,h=n.input.charCodeAt(++n.position)):h===33?(o=!0,c="!!",h=n.input.charCodeAt(++n.position)):c="!",r=n.position,i){do h=n.input.charCodeAt(++n.position);while(h!==0&&h!==62);n.position<n.length?(f=n.input.slice(r,n.position),h=n.input.charCodeAt(++n.position)):be(n,"unexpected end of the stream within a verbatim tag")}else{for(;h!==0&&!Yt(h);)h===33&&(o?be(n,"tag suffix cannot contain exclamation marks"):(c=n.input.slice(r-1,n.position+1),Ty.test(c)||be(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),h=n.input.charCodeAt(++n.position);f=n.input.slice(r,n.position),CS.test(f)&&be(n,"tag suffix cannot contain flow indicator characters")}f&&!My.test(f)&&be(n,"tag name cannot contain such characters: "+f);try{f=decodeURIComponent(f)}catch{be(n,"tag name is malformed: "+f)}return i?n.tag=f:Ml.call(n.tagMap,c)?n.tag=n.tagMap[c]+f:c==="!"?n.tag="!"+f:c==="!!"?n.tag="tag:yaml.org,2002:"+f:be(n,'undeclared tag handle "'+c+'"'),!0}function HS(n){var r,i;if(i=n.input.charCodeAt(n.position),i!==38)return!1;for(n.anchor!==null&&be(n,"duplication of an anchor property"),i=n.input.charCodeAt(++n.position),r=n.position;i!==0&&!Yt(i)&&!Ka(i);)i=n.input.charCodeAt(++n.position);return n.position===r&&be(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function US(n){var r,i,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Yt(o)&&!Ka(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&be(n,"name of an alias node must contain at least one character"),i=n.input.slice(r,n.position),Ml.call(n.anchorMap,i)||be(n,'unidentified alias "'+i+'"'),n.result=n.anchorMap[i],pt(n,!0,-1),!0}function tr(n,r,i,o,c){var f,h,m,g=1,p=!1,y=!1,b,N,C,v,w,j;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,f=h=m=cs===i||Oy===i,o&&pt(n,!0,-1)&&(p=!0,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)),g===1)for(;BS(n)||HS(n);)pt(n,!0,-1)?(p=!0,m=f,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)):m=!1;if(m&&(m=p||c),(g===1||cs===i)&&(ss===i||_y===i?w=r:w=r+1,j=n.position-n.lineStart,g===1?m&&(Sg(n,j)||VS(n,j,w))||zS(n,w)?y=!0:(h&&LS(n,w)||kS(n,w)||RS(n,w)?y=!0:US(n)?(y=!0,(n.tag!==null||n.anchor!==null)&&be(n,"alias node should not have any properties")):DS(n,w,ss===i)&&(y=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):g===0&&(y=m&&Sg(n,j))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&be(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),b=0,N=n.implicitTypes.length;b<N;b+=1)if(v=n.implicitTypes[b],v.resolve(n.result)){n.result=v.construct(n.result),n.tag=v.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Ml.call(n.typeMap[n.kind||"fallback"],n.tag))v=n.typeMap[n.kind||"fallback"][n.tag];else for(v=null,C=n.typeMap.multi[n.kind||"fallback"],b=0,N=C.length;b<N;b+=1)if(n.tag.slice(0,C[b].tag.length)===C[b].tag){v=C[b];break}v||be(n,"unknown tag !<"+n.tag+">"),n.result!==null&&v.kind!==n.kind&&be(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+v.kind+'", not "'+n.kind+'"'),v.resolve(n.result,n.tag)?(n.result=v.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):be(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||y}function IS(n){var r=n.position,i,o,c,f=!1,h;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(h=n.input.charCodeAt(n.position))!==0&&(pt(n,!0,-1),h=n.input.charCodeAt(n.position),!(n.lineIndent>0||h!==37));){for(f=!0,h=n.input.charCodeAt(++n.position),i=n.position;h!==0&&!Yt(h);)h=n.input.charCodeAt(++n.position);for(o=n.input.slice(i,n.position),c=[],o.length<1&&be(n,"directive name must not be less than one character in length");h!==0;){for(;ia(h);)h=n.input.charCodeAt(++n.position);if(h===35){do h=n.input.charCodeAt(++n.position);while(h!==0&&!jn(h));break}if(jn(h))break;for(i=n.position;h!==0&&!Yt(h);)h=n.input.charCodeAt(++n.position);c.push(n.input.slice(i,n.position))}h!==0&&zf(n),Ml.call(vg,o)?vg[o](n,o,c):us(n,'unknown document directive "'+o+'"')}if(pt(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,pt(n,!0,-1)):f&&be(n,"directives end mark is expected"),tr(n,n.lineIndent-1,cs,!1,!0),pt(n,!0,-1),n.checkLineBreaks&&jS.test(n.input.slice(r,n.position))&&us(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&bs(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,pt(n,!0,-1));return}if(n.position<n.length-1)be(n,"end of the stream or a document separator is expected");else return}function Ly(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var i=new MS(n,r),o=n.indexOf("\0");for(o!==-1&&(i.position=o,be(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)IS(i);return i.documents}function YS(n,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var o=Ly(n,i);if(typeof r!="function")return o;for(var c=0,f=o.length;c<f;c+=1)r(o[c])}function qS(n,r){var i=Ly(n,r);if(i.length!==0){if(i.length===1)return i[0];throw new kt("expected a single document in the stream, but found more")}}var GS=YS,XS=qS,Vy={loadAll:GS,load:XS},By=Object.prototype.toString,Hy=Object.prototype.hasOwnProperty,Vf=65279,$S=9,di=10,WS=13,ZS=32,QS=33,KS=34,ff=35,FS=37,JS=38,PS=39,eN=42,Uy=44,tN=45,fs=58,nN=61,lN=62,aN=63,rN=64,Iy=91,Yy=93,iN=96,qy=123,oN=124,Gy=125,Mt={};Mt[0]="\\0";Mt[7]="\\a";Mt[8]="\\b";Mt[9]="\\t";Mt[10]="\\n";Mt[11]="\\v";Mt[12]="\\f";Mt[13]="\\r";Mt[27]="\\e";Mt[34]='\\"';Mt[92]="\\\\";Mt[133]="\\N";Mt[160]="\\_";Mt[8232]="\\L";Mt[8233]="\\P";var sN=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],cN=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function uN(n,r){var i,o,c,f,h,m,g;if(r===null)return{};for(i={},o=Object.keys(r),c=0,f=o.length;c<f;c+=1)h=o[c],m=String(r[h]),h.slice(0,2)==="!!"&&(h="tag:yaml.org,2002:"+h.slice(2)),g=n.compiledTypeMap.fallback[h],g&&Hy.call(g.styleAliases,m)&&(m=g.styleAliases[m]),i[h]=m;return i}function fN(n){var r,i,o;if(r=n.toString(16).toUpperCase(),n<=255)i="x",o=2;else if(n<=65535)i="u",o=4;else if(n<=4294967295)i="U",o=8;else throw new kt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+bt.repeat("0",o-r.length)+r}var dN=1,hi=2;function hN(n){this.schema=n.schema||Rf,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=bt.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=uN(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?hi:dN,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ng(n,r){for(var i=bt.repeat(" ",r),o=0,c=-1,f="",h,m=n.length;o<m;)c=n.indexOf(`
`,o),c===-1?(h=n.slice(o),o=m):(h=n.slice(o,c+1),o=c+1),h.length&&h!==`
`&&(f+=i),f+=h;return f}function df(n,r){return`
`+bt.repeat(" ",n.indent*r)}function mN(n,r){var i,o,c;for(i=0,o=n.implicitTypes.length;i<o;i+=1)if(c=n.implicitTypes[i],c.resolve(r))return!0;return!1}function ds(n){return n===ZS||n===$S}function mi(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==Vf||65536<=n&&n<=1114111}function Eg(n){return mi(n)&&n!==Vf&&n!==WS&&n!==di}function jg(n,r,i){var o=Eg(n),c=o&&!ds(n);return(i?o:o&&n!==Uy&&n!==Iy&&n!==Yy&&n!==qy&&n!==Gy)&&n!==ff&&!(r===fs&&!c)||Eg(r)&&!ds(r)&&n===ff||r===fs&&c}function pN(n){return mi(n)&&n!==Vf&&!ds(n)&&n!==tN&&n!==aN&&n!==fs&&n!==Uy&&n!==Iy&&n!==Yy&&n!==qy&&n!==Gy&&n!==ff&&n!==JS&&n!==eN&&n!==QS&&n!==oN&&n!==nN&&n!==lN&&n!==PS&&n!==KS&&n!==FS&&n!==rN&&n!==iN}function gN(n){return!ds(n)&&n!==fs}function ai(n,r){var i=n.charCodeAt(r),o;return i>=55296&&i<=56319&&r+1<n.length&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function Xy(n){var r=/^\n* /;return r.test(n)}var $y=1,hf=2,Wy=3,Zy=4,Qa=5;function xN(n,r,i,o,c,f,h,m){var g,p=0,y=null,b=!1,N=!1,C=o!==-1,v=-1,w=pN(ai(n,0))&&gN(ai(n,n.length-1));if(r||h)for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ai(n,g),!mi(p))return Qa;w=w&&jg(p,y,m),y=p}else{for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ai(n,g),p===di)b=!0,C&&(N=N||g-v-1>o&&n[v+1]!==" ",v=g);else if(!mi(p))return Qa;w=w&&jg(p,y,m),y=p}N=N||C&&g-v-1>o&&n[v+1]!==" "}return!b&&!N?w&&!h&&!c(n)?$y:f===hi?Qa:hf:i>9&&Xy(n)?Qa:h?f===hi?Qa:hf:N?Zy:Wy}function yN(n,r,i,o,c){n.dump=(function(){if(r.length===0)return n.quotingType===hi?'""':"''";if(!n.noCompatMode&&(sN.indexOf(r)!==-1||cN.test(r)))return n.quotingType===hi?'"'+r+'"':"'"+r+"'";var f=n.indent*Math.max(1,i),h=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-f),m=o||n.flowLevel>-1&&i>=n.flowLevel;function g(p){return mN(n,p)}switch(xN(r,m,n.indent,h,g,n.quotingType,n.forceQuotes&&!o,c)){case $y:return r;case hf:return"'"+r.replace(/'/g,"''")+"'";case Wy:return"|"+Cg(r,n.indent)+Ag(Ng(r,f));case Zy:return">"+Cg(r,n.indent)+Ag(Ng(bN(r,h),f));case Qa:return'"'+vN(r)+'"';default:throw new kt("impossible error: invalid scalar style")}})()}function Cg(n,r){var i=Xy(n)?String(r):"",o=n[n.length-1]===`
`,c=o&&(n[n.length-2]===`
`||n===`
`),f=c?"+":o?"":"-";return i+f+`
`}function Ag(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function bN(n,r){for(var i=/(\n+)([^\n]*)/g,o=(function(){var p=n.indexOf(`
`);return p=p!==-1?p:n.length,i.lastIndex=p,_g(n.slice(0,p),r)})(),c=n[0]===`
`||n[0]===" ",f,h;h=i.exec(n);){var m=h[1],g=h[2];f=g[0]===" ",o+=m+(!c&&!f&&g!==""?`
`:"")+_g(g,r),c=f}return o}function _g(n,r){if(n===""||n[0]===" ")return n;for(var i=/ [^ ]/g,o,c=0,f,h=0,m=0,g="";o=i.exec(n);)m=o.index,m-c>r&&(f=h>c?h:m,g+=`
`+n.slice(c,f),c=f+1),h=m;return g+=`
`,n.length-c>r&&h>c?g+=n.slice(c,h)+`
`+n.slice(h+1):g+=n.slice(c),g.slice(1)}function vN(n){for(var r="",i=0,o,c=0;c<n.length;i>=65536?c+=2:c++)i=ai(n,c),o=Mt[i],!o&&mi(i)?(r+=n[c],i>=65536&&(r+=n[c+1])):r+=o||fN(i);return r}function wN(n,r,i){var o="",c=n.tag,f,h,m;for(f=0,h=i.length;f<h;f+=1)m=i[f],n.replacer&&(m=n.replacer.call(i,String(f),m)),(Wn(n,r,m,!1,!1)||typeof m>"u"&&Wn(n,r,null,!1,!1))&&(o!==""&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=c,n.dump="["+o+"]"}function Og(n,r,i,o){var c="",f=n.tag,h,m,g;for(h=0,m=i.length;h<m;h+=1)g=i[h],n.replacer&&(g=n.replacer.call(i,String(h),g)),(Wn(n,r+1,g,!0,!0,!1,!0)||typeof g>"u"&&Wn(n,r+1,null,!0,!0,!1,!0))&&((!o||c!=="")&&(c+=df(n,r)),n.dump&&di===n.dump.charCodeAt(0)?c+="-":c+="- ",c+=n.dump);n.tag=f,n.dump=c||"[]"}function SN(n,r,i){var o="",c=n.tag,f=Object.keys(i),h,m,g,p,y;for(h=0,m=f.length;h<m;h+=1)y="",o!==""&&(y+=", "),n.condenseFlow&&(y+='"'),g=f[h],p=i[g],n.replacer&&(p=n.replacer.call(i,g,p)),Wn(n,r,g,!1,!1)&&(n.dump.length>1024&&(y+="? "),y+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),Wn(n,r,p,!1,!1)&&(y+=n.dump,o+=y));n.tag=c,n.dump="{"+o+"}"}function NN(n,r,i,o){var c="",f=n.tag,h=Object.keys(i),m,g,p,y,b,N;if(n.sortKeys===!0)h.sort();else if(typeof n.sortKeys=="function")h.sort(n.sortKeys);else if(n.sortKeys)throw new kt("sortKeys must be a boolean or a function");for(m=0,g=h.length;m<g;m+=1)N="",(!o||c!=="")&&(N+=df(n,r)),p=h[m],y=i[p],n.replacer&&(y=n.replacer.call(i,p,y)),Wn(n,r+1,p,!0,!0,!0)&&(b=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,b&&(n.dump&&di===n.dump.charCodeAt(0)?N+="?":N+="? "),N+=n.dump,b&&(N+=df(n,r)),Wn(n,r+1,y,!0,b)&&(n.dump&&di===n.dump.charCodeAt(0)?N+=":":N+=": ",N+=n.dump,c+=N));n.tag=f,n.dump=c||"{}"}function Tg(n,r,i){var o,c,f,h,m,g;for(c=i?n.explicitTypes:n.implicitTypes,f=0,h=c.length;f<h;f+=1)if(m=c[f],(m.instanceOf||m.predicate)&&(!m.instanceOf||typeof r=="object"&&r instanceof m.instanceOf)&&(!m.predicate||m.predicate(r))){if(i?m.multi&&m.representName?n.tag=m.representName(r):n.tag=m.tag:n.tag="?",m.represent){if(g=n.styleMap[m.tag]||m.defaultStyle,By.call(m.represent)==="[object Function]")o=m.represent(r,g);else if(Hy.call(m.represent,g))o=m.represent[g](r,g);else throw new kt("!<"+m.tag+'> tag resolver accepts not "'+g+'" style');n.dump=o}return!0}return!1}function Wn(n,r,i,o,c,f,h){n.tag=null,n.dump=i,Tg(n,i,!1)||Tg(n,i,!0);var m=By.call(n.dump),g=o,p;o&&(o=n.flowLevel<0||n.flowLevel>r);var y=m==="[object Object]"||m==="[object Array]",b,N;if(y&&(b=n.duplicates.indexOf(i),N=b!==-1),(n.tag!==null&&n.tag!=="?"||N||n.indent!==2&&r>0)&&(c=!1),N&&n.usedDuplicates[b])n.dump="*ref_"+b;else{if(y&&N&&!n.usedDuplicates[b]&&(n.usedDuplicates[b]=!0),m==="[object Object]")o&&Object.keys(n.dump).length!==0?(NN(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(SN(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object Array]")o&&n.dump.length!==0?(n.noArrayIndent&&!h&&r>0?Og(n,r-1,n.dump,c):Og(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(wN(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object String]")n.tag!=="?"&&yN(n,n.dump,r,f,g);else{if(m==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new kt("unacceptable kind of an object to dump "+m)}n.tag!==null&&n.tag!=="?"&&(p=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",n.dump=p+" "+n.dump)}return!0}function EN(n,r){var i=[],o=[],c,f;for(mf(n,i,o),c=0,f=o.length;c<f;c+=1)r.duplicates.push(i[o[c]]);r.usedDuplicates=new Array(f)}function mf(n,r,i){var o,c,f;if(n!==null&&typeof n=="object")if(c=r.indexOf(n),c!==-1)i.indexOf(c)===-1&&i.push(c);else if(r.push(n),Array.isArray(n))for(c=0,f=n.length;c<f;c+=1)mf(n[c],r,i);else for(o=Object.keys(n),c=0,f=o.length;c<f;c+=1)mf(n[o[c]],r,i)}function jN(n,r){r=r||{};var i=new hN(r);i.noRefs||EN(n,i);var o=n;return i.replacer&&(o=i.replacer.call({"":o},"",o)),Wn(i,0,o,!0,!0)?i.dump+`
`:""}var CN=jN,AN={dump:CN};function Bf(n,r){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var _N=Ot,ON=cy,TN=hy,MN=yy,DN=by,kN=Rf,RN=Vy.load,zN=Vy.loadAll,LN=AN.dump,VN=kt,BN={binary:Ey,float:xy,map:dy,null:my,pairs:Cy,set:Ay,timestamp:Sy,bool:py,int:gy,merge:Ny,omap:jy,seq:fy,str:uy},HN=Bf("safeLoad","load"),UN=Bf("safeLoadAll","loadAll"),IN=Bf("safeDump","dump"),hs={Type:_N,Schema:ON,FAILSAFE_SCHEMA:TN,JSON_SCHEMA:MN,CORE_SCHEMA:DN,DEFAULT_SCHEMA:kN,load:RN,loadAll:zN,dump:LN,YAMLException:VN,types:BN,safeLoad:HN,safeLoadAll:UN,safeDump:IN};function YN(n){const r=n.trim();if(!r)return{success:!1,error:"Empty source"};if(r.startsWith("{")||r.startsWith("["))try{return{success:!0,data:JSON.parse(r)}}catch{}try{const i=hs.load(r);return i==null?{success:!1,error:"Empty workflow"}:{success:!0,data:i}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Parse failed"}}}function qN(n){const r=n.workflows||[];if(r.length===0)return n.nodes?{type:"project",workflows:[Mg(n)]}:{error:"No workflows found"};const i=[];let o={inputs:[],outputs:[]};for(const c of r){const f=Mg(c);i.push(f),(f.name==="main"||o.inputs.length===0)&&(o=f.interface)}return{type:"project",workflows:i,interface:o}}function Mg(n){const r=n.nodes||{},i=n.interface||{},o=i.inputs||[],c={type:"workflow",name:n.name||"main",interface:{inputs:o.map(ny),outputs:i.outputs||[]},variables:n.variables||{},children:[],orphans:[]},f=new Set;let m=(r.start||{}).next;for(;m&&!f.has(m);){f.add(m);const v=r[m];if(!v)break;const w=pf(m,v,r,f);c.children.push(w),m=v.next}const g=new Set(Object.keys(r).filter(v=>v!=="start")),p=new Set([...g].filter(v=>!f.has(v)));for(const v of p){const w=r[v]||{};Uf(w.inputs||{},r,f)}const y=new Set([...g].filter(v=>!f.has(v))),b=new Set;for(const v of y){const j=(r[v]||{}).next;j&&y.has(j)&&b.add(j)}const N=[...y].filter(v=>!b.has(v)).sort(),C=new Set;for(const v of N){let w=v;for(;w&&!C.has(w);){const j=r[w];if(!j)break;if(j.isReporter){C.add(w),w=j.next&&y.has(j.next)?j.next:void 0;continue}C.add(w);const O=pf(w,j,r,f),_=j.next;_&&y.has(_)&&(O.next=_),c.orphans.push(O),w=_&&y.has(_)?_:void 0}}return c}function pf(n,r,i,o){const c=r.opcode||"",f=r.inputs||{},h=r.isReporter||!1;Uf(f,i,o);const m={id:n,type:WN(c),opcode:c,isReporter:h,inputs:ZN(f,i,c),children:[]},g=Si(c);return g&&g.branches.length>0&&(m.config=GN(c,f,i,g),m.children=XN(f,i,o,g)),m}function GN(n,r,i,o){const c={};for(const f of o.inputs){const h=Hf(r,f.name);if(h!==void 0){const m=f.name.toLowerCase();f.type==="variable_name"?c[m]=Xu(h):f.type==="expression"&&(m==="condition"||m==="iterable"||m==="resource"?c[m]=If(h,i):c[m]=Xu(h))}}return["control_for","control_foreach","control_spawn","control_async_foreach","control_with"].includes(n)&&(c.var||(c.var=Xu(r.VAR??r.var??"i"))),c}function XN(n,r,i,o){const c=[];if(o.dynamic_branches)return $N(n,r,i,o);for(const f of o.branches){const h=Hf(n,f.name),m=typeof h=="object"&&h!==null?h.branch:void 0;m?c.push(es(f.name,m,r,i)):h!==void 0&&c.push({type:"branch",name:f.name,children:[]})}return c}function $N(n,r,i,o){const c=[],f=[],h=[];for(const m of o.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.includes(p)||h.push(p)}else f.push(m.name)}for(const m of f){const g=Hf(n,m),p=typeof g=="object"&&g!==null?g.branch:void 0;p?c.push(es(m,p,r,i)):g!==void 0&&c.push({type:"branch",name:m,children:[]})}for(const m of h){const g=m==="CATCH"?"HANDLERS":m==="BRANCH"?"BRANCHES":null,p=g?n[g]??n[g.toLowerCase()]:null;if(Array.isArray(p)&&p.length>0)p.forEach((y,b)=>{if(typeof y=="object"&&y!==null){const N=y,C=N.branch??N.body?.branch,v=`${m}${b+1}`;if(C){const w=es(v,C,r,i);m==="CATCH"&&(w.exception_type=N.exception_type||"Exception",w.var_name=N.var_name??N.var),c.push(w)}else{const w={type:"branch",name:v,children:[]};m==="CATCH"&&(w.exception_type=N.exception_type||"Exception",w.var_name=N.var_name??N.var),c.push(w)}}});else{let y=1;for(;;){const b=`${m}${y}`,N=n[b];if(N===void 0)break;if(typeof N=="object"&&N!==null){const C=N,v=C.branch??C.body?.branch??N.branch;if(v){const w=es(b,v,r,i);m==="CATCH"&&(w.exception_type=C.exception_type||"Exception",w.var_name=C.var_name??C.var),c.push(w)}else{const w={type:"branch",name:b,children:[]};m==="CATCH"&&(w.exception_type=C.exception_type||"Exception",w.var_name=C.var_name??C.var),c.push(w)}}y++}}}return c}function Hf(n,r){return n[r]??n[r.toLowerCase()]}function Uf(n,r,i){for(const o of Object.values(n))if(typeof o=="object"&&o!==null){const c=o;if(c.node){const f=c.node;if(!i.has(f)){i.add(f);const m=(r[f]||{}).inputs||{};Uf(m,r,i)}}}}function WN(n){const r=$w();for(const i of r.categories)if(n.startsWith(i.prefix))switch(i.id){case"control":case"async":return"control_flow";case"data":return"data";case"io":return"io";case"operator":case"math":case"string":case"list":case"dict":return"operator";case"workflow":return"workflow_op";default:return"opcode"}return"opcode"}function ZN(n,r,i){const o={},c=Si(i),f=new Set;if(c)for(const m of c.branches)f.add(m.name),f.add(m.name.toLowerCase());const h=new Set(["BODY","body","THEN","then","ELSE","else","TRY","FINALLY","HANDLERS","handlers","BRANCHES","branches"]);for(const[m,g]of Object.entries(n))f.has(m)||h.has(m)||/^(CATCH|BRANCH)\d+$/.test(m)||(o[m]=If(g,r));return o}function If(n,r,i=0){if(typeof n=="object"&&n!==null){const o=n;if("literal"in o)return{type:"literal",value:o.literal};if("variable"in o)return{type:"variable",name:o.variable};if("node"in o){const c=o.node,f=r[c]||{},h=f.opcode||"",m=f.inputs||{};return{type:"reporter",id:c,opcode:h,inputs:Object.fromEntries(Object.entries(m).filter(([g])=>!g.startsWith("CATCH")&&!["BODY","THEN","ELSE"].includes(g)).map(([g,p])=>[g,If(p,r,i+1)]))}}return"branch"in o?{type:"branch",target:o.branch}:"workflow_call"in o?{type:"workflow_call",name:o.workflow_call}:{type:"dict",value:n}}return{type:"literal",value:n}}function Xu(n){return typeof n=="object"&&n!==null&&"literal"in n?n.literal:n}function es(n,r,i,o){const c={type:"branch",name:n,children:[]};let f=r;for(;f&&!o.has(f);){o.add(f);const h=i[f];if(!h)break;c.children.push(pf(f,h,i,o)),f=h.next}return c}function QN(n){if(!Array.isArray(n))throw new Error(`opcodeAdapter must return an array.
Received: ${typeof n}

Expected format:
[
  {
    name: "io_print",
    description: "Print to output",
    parameters: [{ name: "MESSAGE", type: "any", required: true }],
    return_type: "void"
  }
]`);for(let r=0;r<n.length;r++){const i=n[r];if(!i||typeof i!="object")throw new Error(`opcodeAdapter[${r}] must be an object`);if(typeof i.name!="string")throw new Error(`opcodeAdapter[${r}].name must be a string`);if(!Array.isArray(i.parameters))throw new Error(`opcodeAdapter[${r}].parameters must be an array`)}return n}async function ni(n,r){const i=await fetch(n,{headers:{"Content-Type":"application/json"},...r});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return i.json()}function KN(n){const{apiBaseUrl:r}=n;return{name:"lexflow",config:n,async listOpcodes(){const i=n.opcodesUrl??`${r}/opcodes`,o=await ni(i);if(n.opcodeAdapter){const c=n.opcodeAdapter(o);return QN(c)}return o},async executeWorkflow(i,o,c){return ni(`${r}/execute`,{method:"POST",body:JSON.stringify({workflow:i,inputs:o,include_metrics:c})})},getWebSocketUrl(){if(n.supportsWebSocket===!1)return null;if(n.wsUrl)return`${n.wsUrl}/execute`;const i=new URL(r,window.location.href);return`${i.protocol==="https:"?"wss:":"ws:"}//${i.host}/ws/execute`},async parseWorkflow(i){const o=YN(i);if(!o.success||!o.data)return{success:!1,error:o.error||"Parse failed"};const c=qN(o.data);if("error"in c)return{success:!1,error:c.error};const f=c;return{success:!0,tree:f,interface:f.interface}},async validateWorkflow(i){return ni(`${r}/validate`,{method:"POST",body:JSON.stringify({workflow:i})})},async listExamples(){return n.supportsExamples===!1?[]:ni(`${r}/examples`)},async getExample(i){return ni(`${r}/examples/${i}`)}}}const FN=k.createContext(null);function JN(){return k.useContext(FN)}function PN({className:n}){const{examples:r,setSource:i}=it(),o=ys();if(r.length===0)return null;const c=async h=>{const m=h.target.value;if(m){try{if(ry(o)){const g=await o.getExample(m);i(g.content)}}catch(g){console.error("Failed to load example:",g)}h.target.value=""}},f=r.reduce((h,m)=>(h[m.category]||(h[m.category]=[]),h[m.category].push(m),h),{});return d.jsxs(Yx,{className:n,onChange:c,defaultValue:"",children:[d.jsx("option",{value:"",children:"Load Example..."}),Object.entries(f).map(([h,m])=>d.jsx("optgroup",{label:h,children:m.map(g=>d.jsx("option",{value:g.path,children:g.name},g.path))},h))]})}const eE=M("flex items-center h-12 pl-5 pr-4 bg-surface-1 border-b border-border-subtle shrink-0"),tE=M("text-base font-semibold text-text-primary tracking-tight ml-2"),$u=M("w-px h-6 mx-2 bg-border-subtle"),Dg=M("flex items-center gap-1.5"),nE="1.0";function lE(n){try{const r=hs.load(n);if(!r?.metadata?.editor)return null;const i=r.metadata.editor;return typeof i.version!="string"||!i.layout||!i.viewport?null:i}catch{return null}}function aE(n,r){try{const i=hs.load(n);return i?(i.metadata={...i.metadata,editor:r},hs.dump(i,{indent:2,lineWidth:-1,noRefs:!0,sortKeys:(o,c)=>o==="metadata"?1:c==="metadata"?-1:0})):n}catch{return n}}function kg(n,r,i,o,c,f){return{version:nE,layout:{mode:n,nodePositions:{...r},workflowPositions:{...i}},viewport:{zoom:o,panX:c,panY:f}}}const Rg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`;function rE({className:n,onSave:r,showSaveButton:i,saveButtonLabel:o="Save",showExamples:c}){const{source:f,setSource:h,undo:m,redo:g,canUndo:p,canRedo:y}=it(),{togglePalette:b,toggleEditor:N,isEditorOpen:C}=Oe(),v=k.useRef(null),[w,j]=k.useState(!1),O=async()=>{if(!(!r||w)){j(!0);try{const{nodePositions:I,workflowPositions:U,layoutMode:K,zoom:ee,panX:ue,panY:oe}=Oe.getState(),ie=kg(K,I,U,ee,ue,oe);await r(f,ie)}finally{j(!1)}}},_=i??!!r,W=()=>{f!==Rg&&Oe.getState().showConfirmDialog({title:"New Workflow",message:"Create a new workflow? Unsaved changes will be lost.",confirmLabel:"Create",variant:"default",onConfirm:()=>h(Rg)})},$=async()=>{const{nodePositions:I,workflowPositions:U,layoutMode:K,zoom:ee,panX:ue,panY:oe}=Oe.getState(),ie=kg(K,I,U,ee,ue,oe),fe=aE(f,ie),ae=new Blob([fe],{type:"text/yaml"});if("showSaveFilePicker"in window)try{const P=await(await window.showSaveFilePicker({suggestedName:"workflow.yaml",types:[{description:"YAML files",accept:{"text/yaml":[".yaml",".yml"]}}]})).createWritable();await P.write(ae),await P.close();return}catch(A){if(A.name==="AbortError")return}const R=URL.createObjectURL(ae),G=document.createElement("a");G.href=R,G.download="workflow.yaml",G.click(),URL.revokeObjectURL(R)},B=()=>{v.current?.click()},H=I=>{const U=I.target.files?.[0];if(!U)return;const K=new FileReader;K.onload=ee=>{const ue=ee.target?.result,oe=lE(ue);if(h(ue),oe){const ie=Oe.getState();ie.resetNodePositions(),ie.resetWorkflowPositions(),ie.setLayoutMode(oe.layout.mode);for(const[fe,ae]of Object.entries(oe.layout.nodePositions))ie.setNodePosition(fe,ae.x,ae.y);for(const[fe,ae]of Object.entries(oe.layout.workflowPositions))ie.setWorkflowPosition(fe,ae.x,ae.y);ie.setZoom(oe.viewport.zoom),ie.setPan(oe.viewport.panX,oe.viewport.panY)}},K.readAsText(U),I.target.value=""};return d.jsxs("header",{className:L(eE(),n),children:[d.jsxs("div",{className:L(Dg(),"flex-1"),children:[d.jsx("h1",{className:tE(),style:{marginLeft:"8px"},children:"LexFlow"}),d.jsx("div",{className:$u()}),d.jsx(wn,{icon:d.jsx(t2,{}),label:"New Workflow",onClick:W}),d.jsx(wn,{icon:d.jsx(n2,{}),label:"Import Workflow",onClick:B}),d.jsx(wn,{icon:d.jsx(l2,{}),label:"Export Workflow",onClick:$}),_&&r&&d.jsx(wn,{icon:d.jsx(b2,{}),label:o,onClick:O,disabled:w}),d.jsx("div",{className:$u()}),d.jsx(wn,{icon:d.jsx(a2,{}),label:"Undo (Ctrl+Z)",onClick:m,disabled:!p}),d.jsx(wn,{icon:d.jsx(r2,{}),label:"Redo (Ctrl+Y)",onClick:g,disabled:!y}),d.jsx("div",{className:$u()}),d.jsx(wn,{icon:d.jsx(i2,{}),label:"Node Palette (Ctrl+P)",onClick:b}),d.jsx("input",{ref:v,type:"file",accept:".yaml,.yml,.json",onChange:H,className:"hidden"})]}),d.jsx("div",{className:"flex items-center justify-center",children:c!==!1&&d.jsx(PN,{})}),d.jsxs("div",{className:L(Dg(),"flex-1 justify-end"),children:[d.jsx(w2,{}),d.jsx(wn,{icon:d.jsx(o2,{}),label:"Toggle Editor (Ctrl+B)",onClick:N,className:C?"bg-surface-3":""})]})]})}const iE=M("absolute bg-transparent transition-colors hover:bg-accent-blue/50 z-10",{variants:{orientation:{horizontal:"cursor-col-resize w-1 -right-0.5 top-0 bottom-0",vertical:"cursor-row-resize h-1 -top-0.5 left-0 right-0"},isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{orientation:"horizontal",isResizing:!1}});function oE({orientation:n,isResizing:r=!1,onMouseDown:i,className:o}){return d.jsx("div",{className:L(iE({orientation:n,isResizing:r}),o),onMouseDown:i})}function sE({orientation:n,minSize:r,maxSize:i,defaultSize:o}){const[c,f]=k.useState(o),[h,m]=k.useState(!1),g=k.useRef(null),p=k.useCallback(y=>{y.preventDefault(),g.current=y.target.parentElement,m(!0)},[]);return k.useEffect(()=>{if(!h)return;const y=N=>{if(!g.current)return;const C=g.current.getBoundingClientRect();let v;v=N.clientX-C.left,f(Math.min(i,Math.max(r,v)))},b=()=>{m(!1)};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)}},[h,n,r,i]),{size:c,isResizing:h,handleMouseDown:p}}const cE=M("flex flex-col h-full overflow-hidden"),uE=M("flex flex-1 overflow-hidden relative"),fE=M("relative bg-surface-1 border-r border-border-subtle flex flex-col shrink-0"),dE=M("flex-1 flex flex-col relative overflow-hidden bg-surface-0"),hE=M("bg-surface-1 border-t border-border-subtle shrink-0 overflow-visible"),mE=M("absolute right-0 top-0 bottom-0 w-80 bg-surface-1 border-l border-border-subtle z-[100] shadow-lg transition-transform duration-200",{variants:{isOpen:{true:"translate-x-0",false:"translate-x-full"}},defaultVariants:{isOpen:!1}}),pE=M("fixed inset-0 bg-black/50 z-[200] flex justify-start"),gE=M("w-[300px] h-full bg-surface-1 border-r border-border-subtle animate-slide-in"),xE=240,yE=480,bE=320;function vE({canvas:n,editor:r,nodeEditor:i,executionPanel:o,palette:c,className:f,onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}){const{isEditorOpen:y,isNodeEditorOpen:b,isPaletteOpen:N,isExecutionPanelOpen:C,togglePalette:v}=Oe(),{size:w,isResizing:j,handleMouseDown:O}=sE({orientation:"horizontal",minSize:xE,maxSize:yE,defaultSize:bE});return d.jsxs("div",{className:L(cE(),f),children:[d.jsx(rE,{onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}),d.jsxs("div",{className:uE(),children:[y&&r&&d.jsxs("aside",{className:fE(),style:{width:`${w}px`},children:[r,d.jsx(oE,{orientation:"horizontal",isResizing:j,onMouseDown:O})]}),d.jsxs("div",{className:dE(),children:[n,C&&o&&d.jsx("div",{className:hE(),children:o})]}),d.jsx("aside",{className:mE({isOpen:b}),children:i})]}),N&&c&&d.jsx("div",{className:pE(),onClick:v,children:d.jsx("div",{className:gE(),onClick:_=>_.stopPropagation(),children:c})})]})}const zg=new Set(["int","float","number","Integer","Float","Number"]),Lg=new Set(["str","string","String"]),Vg=new Set(["bool","boolean","Boolean"]);function gf(n,r){if(!n||!r)return null;const i=n.toLowerCase().trim(),o=r.toLowerCase().trim();if(i==="any"||o==="any"||i===o||zg.has(i)&&zg.has(o)||Lg.has(i)&&Lg.has(o)||Vg.has(i)&&Vg.has(o))return!0;const c=o.match(/^optional\[(.+)\]$/);return c?gf(n,c[1]):o.includes("|")?o.split("|").map(h=>h.trim()).some(h=>gf(n,h)===!0):!1}function wE(n){return n===!0?"#34D399":n===!1?"#F87171":"#94A3B8"}function SE(n,r){if(!n)return{};const i=n.workflows.find(c=>c.name===r);if(!i)return{};const o={};return i.interface.inputs.forEach((c,f)=>{o[`ARG${f+1}`]=c.name}),o}function ms(n,r,i,o){if(r!=="workflow_call")return n;const c=o.WORKFLOW;if(!c||c.type!=="literal")return n;const f=c.value;if(!f)return n;const h=SE(i,f);return n.startsWith("ARG")&&h[n]?h[n]:n}function NE(n){return n?n.workflows.filter(r=>r.name!=="main").map(r=>({name:r.name,params:r.interface.inputs.map(i=>i.name)})):[]}const EE=25,jE=180;function Al(n){if(n.startsWith("start-"))return"start";const r=n.indexOf("::");return r!==-1?n.slice(r+2):n}function ps(n){if(n.startsWith("start-"))return n.slice(6);const r=n.indexOf("::");if(r!==-1)return n.slice(0,r)}function CE(n,r,i,o){return Math.sqrt((i-n)**2+(o-r)**2)}function AE(n,r,i){const o=i[n];return o?r==="input"?o.input:r==="output"?o.output:o.branches[r]||null:null}function _E(n,r,i,o,c){const f=o==="output"?"input":"output";let h=null,m=EE;for(const[g,p]of Object.entries(c)){if(g===i)continue;const y=f==="input"?p.input:p.output,b=CE(n,r,y.x,y.y);b<m&&(m=b,h={nodeId:g,port:f,x:y.x,y:y.y})}return h}const OE={pointerEvents:"all"};function TE(n,r,i){return n?r===!0?{fill:"rgba(52, 211, 153, 0.15)",stroke:"var(--color-accent-green)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease",animation:"pulse-slot 0.6s ease infinite alternate"}:r===!1?{fill:"rgba(248, 113, 113, 0.15)",stroke:"var(--color-accent-red)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"rgba(148, 163, 184, 0.1)",stroke:i,strokeWidth:1,strokeDasharray:"4 2",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"transparent",stroke:"transparent",strokeWidth:1,transition:"fill 0.15s ease, stroke 0.15s ease"}}const ME={fontSize:"9px",fontWeight:500,fill:"var(--color-text-muted)",textTransform:"lowercase"},DE={fontSize:"9px",fontFamily:"'JetBrains Mono', monospace",fill:"var(--color-text-secondary)"},kE={fontSize:"7px",fill:"var(--color-text-muted)",fontStyle:"italic",textTransform:"uppercase",letterSpacing:"0.3px"};function Qy({nodeId:n,inputKey:r,value:i,paramInfo:o,opcode:c,allInputs:f,x:h,y:m,width:g}){const{draggingOrphan:p,setDraggingOrphan:y,draggingVariable:b,setDraggingVariable:N}=Oe(),{convertOrphanToReporter:C,updateNodeInput:v,tree:w}=it(),j=RE(i),O=ms(r,c,w,f),_=p!==null,W=b!==null,$=_||W,B=_?gf(p.returnType,o?.type):null,H=ee=>{if(ee.stopPropagation(),p){const ue=Al(p.nodeId);if(B===!1){Oe.getState().showConfirmDialog({title:"Type Mismatch",message:`The orphan node's return type may not be compatible with the input "${r}". Continue anyway?`,confirmLabel:"Continue",variant:"default",onConfirm:()=>{C(ue,n,r),y(null)},onCancel:()=>{y(null)}});return}C(ue,n,r),y(null)}else b&&(v(n,r,`$${b.name}`),N(null))},I=ee=>{ee.stopPropagation()},U=W?"#22C55E":wE(B);return d.jsxs("g",{style:OE,transform:`translate(${h}, ${m})`,onMouseUp:H,onMouseEnter:I,children:[d.jsx("rect",{x:0,y:0,width:g,height:20,rx:3,style:TE($,B,U)}),d.jsxs("text",{x:6,y:13,style:ME,children:[O,":"]}),d.jsx("text",{x:6+(O.length+1)*5,y:13,style:DE,children:j}),$&&o?.type&&d.jsx("text",{x:g-6,y:13,textAnchor:"end",style:kE,children:o.type})]})}function RE(n){switch(n.type){case"literal":{const r=n.value;if(typeof r=="string")return`"${r.length>10?r.slice(0,10)+"...":r}"`;if(typeof r=="object"&&r!==null){const i=JSON.stringify(r);return i.length>20?i.slice(0,17)+"...":i}return String(r)}case"variable":return`$${n.name}`;case"reporter":return"[reporter]";case"workflow_call":return`-> ${n.name}`;default:return""}}function zE(){const{closeNodeEditor:n,isNodeEditorOpen:r,isPaletteOpen:i,togglePalette:o,toggleEditor:c,toggleExecutionPanel:f}=Oe(),{undo:h,redo:m,canUndo:g,canRedo:p,deleteNode:y,duplicateNode:b}=it(),{selectNode:N,selectedNodeId:C,clearSelection:v}=Zn();k.useEffect(()=>{const w=j=>{const O=j.target,_=O.tagName==="INPUT"||O.tagName==="TEXTAREA";if(_&&j.key==="Escape"){O.blur();return}if(j.ctrlKey||j.metaKey){switch(j.key.toLowerCase()){case"z":!_&&!Bg(O)&&(j.preventDefault(),j.shiftKey?p&&m():g&&h());break;case"y":!_&&!Bg(O)&&(j.preventDefault(),p&&m());break;case"b":_||(j.preventDefault(),c());break;case"e":_||(j.preventDefault(),f());break;case"p":_||(j.preventDefault(),o());break;case"0":_||(j.preventDefault(),Oe.getState().resetView());break;case"d":!_&&C&&C!=="start"&&(j.preventDefault(),b(C));break}return}if(!_){if(j.key==="Escape"){r?(n(),v()):i?o():C&&v();return}(j.key==="Delete"||j.key==="Backspace")&&C&&C!=="start"&&Oe.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${C}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{y(C),v(),n()}})}};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[n,r,i,o,c,f,N,C,v,h,m,g,p,y,b])}function Bg(n){return n.closest(".monaco-editor")!==null}function LE(){const n=k.useRef(null),r=ys(),i=JN(),{setIsExecuting:o,appendExecutionOutput:c,setExecutionResult:f,setExecutionError:h,clearExecution:m,setPendingPrompt:g,addRenderedContent:p,clearRenderedContent:y,addAlert:b,setProgress:N}=ui(),C=k.useCallback(j=>{const O=n.current,{pendingPrompt:_}=ui.getState();!O||!_||(O.send(JSON.stringify({type:`${_.type}_response`,value:j})),g(null))},[g]),v=k.useCallback(async(j,O,_)=>{if(n.current&&n.current.close(),m(),o(!0),i){try{const B=await i(j,O);B.output&&c(B.output),B.success?f(B.result):h(B.error||"Execution failed")}catch(B){h(B instanceof Error?B.message:"Execution failed")}finally{o(!1)}return}const W=r.getWebSocketUrl();if(!W){try{const B=await r.executeWorkflow(j,O,_);B.success?(B.output&&c(B.output),f(B.result)):h(B.error||"Execution failed")}catch(B){h(B instanceof Error?B.message:"Execution failed")}finally{o(!1)}return}const $=new WebSocket(W);n.current=$,$.onopen=()=>{const B={type:"start",workflow:j,inputs:O,include_metrics:_};$.send(JSON.stringify(B))},$.onmessage=B=>{try{const H=JSON.parse(B.data);switch(H.type){case"output":c(H.line+`
`);break;case"complete":f(H.result),o(!1),$.close();break;case"error":h(H.message),o(!1),$.close();break;case"input_request":g({type:"input",prompt:H.prompt});break;case"select_request":g({type:"select",prompt:H.prompt,options:H.options});break;case"confirm_request":g({type:"confirm",prompt:H.message,message:H.message});break;case"button_request":g({type:"button",prompt:H.label,label:H.label});break;case"render_html":p({type:"html",content:H.html});break;case"render_markdown":p({type:"markdown",content:H.content});break;case"render_table":p({type:"table",content:H.data});break;case"render_image":p({type:"image",content:{src:H.src,alt:H.alt}});break;case"progress":N({value:H.value,max:H.max,label:H.label});break;case"alert":b({message:H.message,variant:H.variant});break;case"clear_content":y();break}}catch(H){console.error("Failed to parse WebSocket message:",H)}},$.onerror=()=>{h("WebSocket connection failed"),o(!1)},$.onclose=()=>{n.current=null}},[i,r,m,o,c,f,h,g,p,y,b,N]),w=k.useCallback(()=>{n.current&&(n.current.close(),n.current=null,o(!1),g(null))},[o,g]);return{execute:v,cancel:w,respondToPrompt:C}}function VE(){const{source:n,setTree:r,setParseError:i,setIsParsing:o}=it(),c=ys(),f=k.useRef(null);k.useEffect(()=>(f.current&&clearTimeout(f.current),f.current=setTimeout(async()=>{o(!0);try{const h=await c.parseWorkflow(n);h.success&&h.tree?r(h.tree):i(h.error||"Parse failed")}catch(h){i(h instanceof Error?h.message:"Parse failed")}finally{o(!1)}},500),()=>{f.current&&clearTimeout(f.current)}),[n,r,i,o,c])}function BE({svgRef:n,centerX:r,centerY:i}){const{zoom:o,panX:c,panY:f,setZoom:h,setPan:m,isDraggingWorkflow:g,isDraggingNode:p,draggingWire:y,setDraggingWire:b,updateDraggingWire:N,draggingOrphan:C,setDraggingOrphan:v,updateDraggingOrphanEnd:w,draggingVariable:j,setDraggingVariable:O,updateDraggingVariableEnd:_,slotPositions:W}=Oe(),{connectNodes:$,connectBranch:B}=it(),{selectNode:H,selectStartNode:I,selectConnection:U}=Zn(),[K,ee]=k.useState(!1),[ue,oe]=k.useState({x:0,y:0}),ie=k.useCallback((A,P)=>{if(!n.current)return{x:0,y:0};const re=n.current.getBoundingClientRect();return{x:(A-re.left-c-re.width/2)/o+r,y:(P-re.top-f-re.height/2)/o+i}},[n,c,f,o,r,i]),fe=k.useCallback(A=>{if(A.ctrlKey||A.metaKey){A.preventDefault();const P=A.deltaY>0?-.1:.1;h(o+P)}},[o,h]),ae=k.useCallback(A=>{if(g||p)return;const P=A.target;(P===n.current||P.classList.contains("background")||P.tagName==="rect")&&(ee(!0),oe({x:A.clientX-c,y:A.clientY-f}),H(null),I(null),U(null))},[c,f,H,I,U,g,p,n]),R=k.useCallback(A=>{if(y){const{x:P,y:re}=ie(A.clientX,A.clientY),E=_E(P,re,y.sourceNodeId,y.sourcePort,W);N({dragX:P,dragY:re,nearbyPort:E});return}if(C){const{x:P,y:re}=ie(A.clientX,A.clientY);w(P,re);return}if(j){const{x:P,y:re}=ie(A.clientX,A.clientY);_(P,re);return}g||p||K&&m(A.clientX-ue.x,A.clientY-ue.y)},[K,ue,m,g,p,y,N,C,w,j,_,ie,W]),G=k.useCallback(()=>{if(ee(!1),y){if(y.nearbyPort){const A=Al(y.sourceNodeId),P=Al(y.nearbyPort.nodeId),re=ps(y.sourceNodeId),E=ps(y.nearbyPort.nodeId);y.branchLabel?B(A,P,y.branchLabel):y.sourcePort==="output"?$(A,P,re):$(P,A,E)}b(null)}C&&v(null),j&&O(null)},[y,b,C,v,j,O,$,B]);return{handleWheel:fe,handleMouseDown:ae,handleMouseMove:R,handleMouseUp:G,isDragging:K}}function HE({nodeId:n,slotId:r,x:i,y:o}){const{draggingWire:c,setDraggingWire:f}=Oe(),{connectNodes:h}=it(),m=k.useCallback(j=>{j.stopPropagation(),j.preventDefault();const O=i+jE,_=o+30;f({sourceNodeId:r,sourcePort:"output",sourceX:O,sourceY:_,dragX:O,dragY:_,nearbyPort:null})},[r,i,o,f]),g=k.useCallback((j,O,_,W)=>{j.stopPropagation(),j.preventDefault();const $=i+_,B=o+W;f({sourceNodeId:r,sourcePort:"output",sourceX:$,sourceY:B,dragX:$,dragY:B,nearbyPort:null,branchLabel:O})},[r,i,o,f]),p=k.useCallback(j=>{j.stopPropagation(),j.preventDefault();const O=i,_=o+30;f({sourceNodeId:r,sourcePort:"input",sourceX:O,sourceY:_,dragX:O,dragY:_,nearbyPort:null})},[r,i,o,f]),y=k.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="input"&&c.sourceNodeId!==n&&(h(n,c.sourceNodeId),f(null))},[n,c,h,f]),b=k.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="output"&&c.sourceNodeId!==n&&(h(c.sourceNodeId,n),f(null))},[n,c,h,f]),N=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="input",C=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="output",v=!!c&&c.sourcePort==="output"&&c.sourceNodeId!==r,w=!!c&&c.sourcePort==="input"&&c.sourceNodeId!==r;return{handleOutputPortMouseDown:m,handleInputPortMouseDown:p,handleOutputPortMouseUp:y,handleInputPortMouseUp:b,handleBranchPortMouseDown:g,isInputPortHighlighted:N,isOutputPortHighlighted:C,isValidDropTarget:v,isValidOutputDropTarget:w}}const fn=110,It=70,Hg=30,Ug={control_flow:"",data:"",io:"",operator:"",workflow_op:"",opcode:""};function UE(n,r,i,o,c,f,h,m=!1){let g="transparent",p=1.5,y="none",b=1;o&&(g="var(--color-accent-amber)",y="6 3",b=.9),c&&!r&&!m&&(g=n,p=1.5,b=1),i&&!r&&!m&&(g="#facc15",p=2,y="none"),m&&(g="#22d3ee",p=2.5,y="none",b=1),r&&(g="var(--color-accent-blue)",p=2,y="none",b=1),f==="success"?g="var(--color-accent-green)":f==="error"&&(g="var(--color-accent-red)");let N="drop-shadow(0 1px 3px rgba(0, 0, 0, 0.2))";return c&&!r&&!m&&(N="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.25))"),m&&!r&&(N="drop-shadow(0 0 10px rgba(34, 211, 238, 0.5))"),r&&(N="drop-shadow(0 0 8px rgba(59, 130, 246, 0.3))"),{fill:"var(--color-surface-1)",stroke:g,strokeWidth:p,strokeDasharray:y,opacity:b,filter:N,transition:"all 0.15s ease",animation:f==="running"?"pulse 1.5s ease-in-out infinite":"none"}}function IE(n){return{fill:n,pointerEvents:"none"}}function YE(n,r){return{fill:r?n:`${n}20`,transition:"fill 0.15s ease"}}const qE={fontSize:"14px",fill:"var(--color-text-primary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"},GE={fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",letterSpacing:"-0.01em"},XE={fontSize:"9px",fill:"var(--color-text-muted)",fontFamily:"'JetBrains Mono', monospace"};function Ig(n,r,i){return{fill:r?"var(--color-accent-green)":"var(--color-surface-2)",stroke:r?"var(--color-accent-green)":n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1.5,r:r?6:5,transition:"all 0.12s ease",filter:r?"drop-shadow(0 0 6px var(--color-accent-green))":"none",cursor:i?"pointer":"crosshair"}}function Ky(n,r){return{fill:r?"var(--color-accent-blue)":"var(--color-surface-3)",stroke:"var(--color-border-subtle)",strokeWidth:1,cursor:n?"pointer":"default",transition:"fill 0.15s ease",opacity:n?1:0,pointerEvents:n?"all":"none"}}const Fy={fontSize:"8px",fontWeight:600,fill:"var(--color-text-secondary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function $E(n){const r={running:"var(--color-accent-amber)",success:"var(--color-accent-green)",error:"var(--color-accent-red)"};return{fill:r[n]||"transparent",filter:n!=="idle"?`drop-shadow(0 0 4px ${r[n]})`:"none",transition:"all 0.15s ease"}}const WE={cursor:"grab",pointerEvents:"all"},ZE={fill:"var(--color-accent-amber)",transition:"filter 0.15s ease"},QE={fontSize:"9px",fill:"var(--color-surface-0)",fontWeight:600,pointerEvents:"none",textAnchor:"middle",dominantBaseline:"central"},KE={cursor:"grab",pointerEvents:"all",fill:"transparent"};function FE(n,r){return{fill:n?r:"transparent",stroke:r,strokeWidth:1.5,cursor:"crosshair",transition:"all 0.12s ease"}}const JE={fontSize:"8px",fontWeight:500,textAnchor:"middle",pointerEvents:"none",userSelect:"none",textTransform:"uppercase",letterSpacing:"0.3px"};function PE(n,r){const i=r.filter(f=>f.children.length>0).map(f=>f.name),o=r.map(f=>f.name),c=Zw(n,i);for(const f of o)c.find(h=>h.name===f)||c.push({name:f,connected:i.includes(f)});return c}function ej(n,r){const i=ey(n);return i&&i!==""?i:Ug[r]||Ug.opcode}function Jy(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function Yf(n){let r=0;for(const i of Object.values(n))i.type==="reporter"&&i.opcode&&(r+=1,i.inputs&&(r+=Yf(i.inputs)));return r}const En=12,pi=8,nr=16,Py=28;function lr(n,r,i,o){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const c=`${o}::${n.id||""}`,f=i[c]??!1;if(!f&&!r)return{width:fn,height:It};const h=[];let m=0;if(n.inputs)for(const[y,b]of Object.entries(n.inputs))b.type==="reporter"&&b.opcode?h.push({key:y,value:b}):m++;let g=fn,p=It;if(f||r){if(h.length>0){let y=0,b=0;for(const N of h){const C=lr(N.value,r,i,o);y+=nr+C.height+pi,b=Math.max(b,C.width)}g=Math.max(g,b+En*2),p=It+y}m>0&&(p+=m*Py+pi),(h.length>0||m>0)&&(p+=En)}return{width:g,height:p}}function tj(n,r,i,o){let c=0;for(const{value:f}of n){const h=lr(f,r,i,o);c+=nr+h.height+pi}return c}function nj(n,r,i,o){let c=fn;for(const{value:f}of n){const h=lr(f,r,i,o);c=Math.max(c,h.width)}return c}const lj=k.memo(function({node:r,x:i,y:o,isOrphan:c,zoom:f=1,onDrag:h,workflowName:m}){const{opcodes:g}=it(),{openNodeEditor:p,nodeStatus:y,searchResults:b,draggingWire:N,draggingOrphan:C,setDraggingOrphan:v,draggingVariable:w,layoutMode:j,setIsDraggingNode:O,registerSlotPositions:_,unregisterSlotPositions:W,showContextMenu:$,expandedReporters:B}=Oe(),{selectedNodeId:H,selectNode:I,selectedNodeIds:U,toggleNodeSelection:K,clearMultiSelection:ee,selectedReporter:ue,selectReporter:oe}=Zn(),[ie,fe]=k.useState(!1),ae=`${m}::${r.id}`,R=B[ae]??!1,G=g.find(Ce=>Ce.name===r.opcode),A=Jx(r.type),P=ej(r.opcode,r.type),re=H===ae&&!ue,E=U.includes(ae),z=b.includes(r.id),Z=y[r.id]||"idle",ne=Jy(r.opcode),he=k.useRef(!1),ye=[],de=[];for(const[Ce,Xe]of Object.entries(r.inputs))Xe.type==="reporter"&&Xe.opcode?ye.push({key:Ce,value:Xe}):de.push({key:Ce,value:Xe});const Ue=Yf(r.inputs),le=!!(w||C&&C.nodeId!==ae),Se=de.map(Ce=>Ce.key).slice(0,4),Me=PE(r.opcode,r.children),Be=Me.length>0?20:0,nt=le?Se.length*Hg:0,gt=R||le,ce=gt&&ye.length>0?tj(ye,le,B,m):0,Re=gt&&ye.length>0?nj(ye,le,B,m)+En*2:0,we=Math.max(fn,Re),wt=It+nt+ce+Be,qt=ae,{handleOutputPortMouseDown:se,handleInputPortMouseDown:Ee,handleOutputPortMouseUp:Ge,handleInputPortMouseUp:Je,handleBranchPortMouseDown:He,isInputPortHighlighted:gn,isOutputPortHighlighted:Kn,isValidDropTarget:Fn,isValidOutputDropTarget:Jn}=HE({nodeId:r.id,slotId:qt,x:i,y:o}),ir=Ce=>{if(Ce.stopPropagation(),he.current){he.current=!1;return}if(Ce.ctrlKey||Ce.metaKey){K(ae),oe(null);return}ee(),I(ae),oe(null),p()},oa=Ce=>{Ce.preventDefault(),Ce.stopPropagation(),U.includes(ae)||(ee(),I(ae)),$({nodeId:ae,x:Ce.clientX,y:Ce.clientY,hasReporters:Ue>0,reportersExpanded:R,isOrphan:c??!1})},or=Ce=>{if(!c)return;Ce.stopPropagation(),Ce.preventDefault();const Xe=i+we-14,ut=o;v({nodeId:ae,opcode:r.opcode,returnType:G?.return_type,fromX:Xe,fromY:ut,toX:Xe,toY:ut})},ws=Ce=>{if(j!=="free"||!h)return;Ce.stopPropagation(),Ce.preventDefault(),O(!0);const Xe=Ce.clientX,ut=Ce.clientY;let lt=!1;const Dl=sa=>{const Rl=(sa.clientX-Xe)/f,zl=(sa.clientY-ut)/f;(Math.abs(Rl)>3||Math.abs(zl)>3)&&(lt=!0,h(Rl,zl))},kl=()=>{O(!1),lt&&(he.current=!0),window.removeEventListener("mousemove",Dl),window.removeEventListener("mouseup",kl)};window.addEventListener("mousemove",Dl),window.addEventListener("mouseup",kl)};return k.useEffect(()=>{const Ce={input:{x:i,y:o+It/2},output:{x:i+we,y:o+It/2},branches:{}};return Me.forEach((Xe,ut)=>{const lt=we/Me.length;Ce.branches[Xe.name]={x:i+lt*ut+lt/2,y:o+wt}}),_(qt,Ce),()=>W(qt)},[i,o,we,wt,Me.length,qt,_,W]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${i}, ${o})`,onClick:ir,onContextMenu:oa,onMouseEnter:()=>fe(!0),onMouseLeave:()=>fe(!1),children:[d.jsx("rect",{width:we,height:wt,rx:8,style:UE(A,re,z,c??!1,ie,Z,le,E)}),d.jsx("rect",{x:0,y:0,width:3,height:wt,rx:1.5,style:IE(A)}),d.jsx("circle",{cx:fn/2,cy:22,r:14,style:YE(A,ie)}),d.jsx("text",{x:fn/2,y:22,style:qE,children:P}),d.jsx("text",{x:fn/2,y:46,textAnchor:"middle",style:GE,children:ne.length>10?ne.slice(0,10)+"":ne}),(ie||re)&&d.jsx("text",{x:fn/2,y:60,textAnchor:"middle",style:XE,children:r.id.length>12?r.id.slice(0,12)+"":r.id}),le&&Se.map((Ce,Xe)=>d.jsx(Qy,{nodeId:r.id,inputKey:Ce,value:r.inputs[Ce],paramInfo:G?.parameters.find(ut=>ut.name.toUpperCase()===Ce),opcode:r.opcode,allInputs:r.inputs,x:En,y:It+Xe*Hg,width:we-En*2},Ce)),gt&&ye.length>0&&d.jsx(aj,{reporterInputs:ye,parentNodeId:r.id,baseY:It+nt,selectedReporter:ue,selectReporter:oe,openNodeEditor:p,showInputSlots:le,opcodes:g,expandedReporters:B,showContextMenu:$,workflowName:m}),Ue>0&&!gt&&d.jsxs("g",{transform:`translate(${we-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Ky(!0,!1)}),d.jsx("text",{x:7,y:7,style:Fy,children:Ue})]}),Fn&&d.jsx("circle",{cx:0,cy:It/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Je}),Jn&&d.jsx("circle",{cx:we,cy:It/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Ge}),d.jsx("circle",{cx:0,cy:It/2,r:5,style:Ig(ie,gn,!!N),onMouseDown:Ee,onMouseUp:Je}),d.jsx("circle",{cx:we,cy:It/2,r:5,style:Ig(ie,Kn,!!N),onMouseDown:se,onMouseUp:Ge}),Me.length>0&&d.jsx("g",{children:Me.map((Ce,Xe)=>{const ut=we/Me.length,lt=ut*Xe+ut/2,Dl=wt,kl=Fx(Ce.name);return d.jsxs("g",{children:[d.jsx("text",{x:lt,y:wt-8,fill:kl,style:JE,children:Ce.name}),d.jsx("circle",{cx:lt,cy:Dl,r:4,style:FE(Ce.connected,kl),onMouseDown:sa=>He(sa,Ce.name,lt,Dl)})]},Ce.name)})}),Z!=="idle"&&d.jsx("circle",{cx:we-8,cy:12,r:4,style:$E(Z)}),c&&d.jsxs("g",{style:WE,onMouseDown:or,children:[d.jsx("rect",{x:we-28,y:-8,width:28,height:16,rx:3,style:ZE}),d.jsx("text",{x:we-14,y:0,style:QE,children:""}),d.jsx("title",{children:"Drag to slot as reporter"})]}),j==="free"&&h&&d.jsx("rect",{x:4,y:0,width:c?we-32:we-8,height:It,style:KE,onMouseDown:ws})]})});function eb({inputKey:n,value:r,parentNodeId:i,x:o,y:c,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:y,expandedReporters:b,showContextMenu:N,workflowName:C}){const v=Px(r.opcode||""),w=Jy(r.opcode||""),j=ey(r.opcode||"")||"",O=[...y,n],_=p.find(A=>A.name===r.opcode),W=r.id||"",$=`${C}::${W}`,B=b[$]??!1,H=f&&f.parentNodeId===i&&f.inputPath.join(".")===O.join("."),I=[],U=[];if(r.inputs)for(const[A,P]of Object.entries(r.inputs))P.type==="reporter"&&P.opcode?I.push({key:A,value:P}):U.push({key:A,value:P});const K=Yf(r.inputs||{}),ee=B||g,ue=lr(r,g,b,C),oe=ue.width,ie=ue.height,fe=[];let ae=It;if(ee)for(const A of I){const P=lr(A.value,g,b,C);fe.push({key:A.key,value:A.value,y:ae,height:P.height}),ae+=nr+P.height+pi}const R=ae,G=A=>{A.preventDefault(),A.stopPropagation(),h({parentNodeId:i,inputPath:O,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),N({nodeId:W,x:A.clientX,y:A.clientY,hasReporters:K>0,reportersExpanded:B,isOrphan:!1})};return d.jsxs("g",{transform:`translate(${o}, ${c})`,children:[d.jsx("rect",{x:0,y:0,width:oe,height:ie,rx:8,fill:"var(--color-surface-1)",stroke:H?"var(--color-accent-blue)":v,strokeWidth:H?2:1.5,style:{cursor:"pointer"},onClick:A=>{A.stopPropagation(),h({parentNodeId:i,inputPath:O,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),m()},onContextMenu:G}),d.jsx("rect",{x:0,y:0,width:4,height:ie,rx:2,fill:v,style:{pointerEvents:"none"}}),d.jsx("circle",{cx:fn/2,cy:22,r:14,fill:`${v}30`,style:{pointerEvents:"none"}}),d.jsx("text",{x:fn/2,y:22,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"14px",fill:"var(--color-text-primary)",pointerEvents:"none"},children:j}),d.jsx("text",{x:fn/2,y:46,textAnchor:"middle",style:{fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",pointerEvents:"none"},children:w.length>10?w.slice(0,10)+"":w}),K>0&&!ee&&d.jsxs("g",{transform:`translate(${fn-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Ky(!0,!1)}),d.jsx("text",{x:7,y:7,style:Fy,children:K})]}),ee&&fe.map(A=>d.jsxs("g",{children:[d.jsx("text",{x:En,y:A.y+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:A.key}),d.jsx(eb,{inputKey:A.key,value:A.value,parentNodeId:i,x:En,y:A.y+nr,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:O,expandedReporters:b,showContextMenu:N,workflowName:C})]},A.key)),ee&&U.map((A,P)=>d.jsxs("g",{transform:`translate(${En}, ${R+P*Py})`,children:[d.jsx("text",{x:0,y:10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:A.key}),d.jsx(Qy,{nodeId:r.id||i,inputKey:A.key,value:A.value,paramInfo:_?.parameters.find(re=>re.name.toUpperCase()===A.key),opcode:r.opcode||"",allInputs:r.inputs||{},x:0,y:12,width:oe-En*2})]},A.key))]})}function aj({reporterInputs:n,parentNodeId:r,baseY:i,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,expandedReporters:g,showContextMenu:p,workflowName:y}){const b=[];let N=0;for(const{key:C,value:v}of n){b.push({key:C,value:v,y:N});const w=lr(v,h,g,y);N+=nr+w.height+pi}return d.jsx("g",{transform:`translate(${En}, ${i})`,children:b.map(({key:C,value:v,y:w})=>d.jsxs("g",{children:[d.jsx("text",{x:0,y:w+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:C}),d.jsx(eb,{inputKey:C,value:v,parentNodeId:r,x:0,y:w+nr,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,inputPath:[],expandedReporters:g,showContextMenu:p,workflowName:y})]},C))})}const $n=160,tb=80,si="#22c55e",nb="#4ade80";function rj(n,r){return{fill:"var(--color-surface-1)",stroke:n?"var(--color-accent-blue)":si,strokeWidth:n||r?2.5:2,transition:"stroke 0.15s ease, stroke-width 0.15s ease, filter 0.15s ease",filter:n?"drop-shadow(0 0 8px rgba(34, 211, 238, 0.4))":r?"drop-shadow(0 4px 8px rgba(34, 197, 94, 0.3))":"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))"}}const ij={fill:si,pointerEvents:"none"},oj={fontSize:"14px"},sj={fontSize:"13px",fontWeight:700,fill:"var(--color-text-primary)"},cj={fontSize:"9px",fill:"var(--color-text-secondary)",fontFamily:"'JetBrains Mono', monospace"},uj={fontSize:"10px",fontFamily:"'JetBrains Mono', monospace",fill:nb},fj={fontSize:"9px",fill:"var(--color-text-muted)",fontStyle:"italic"};function dj(n,r=!1){return{fill:n?si:"var(--color-surface-2)",stroke:n?nb:si,strokeWidth:2,transition:"all 0.15s ease",filter:n?`drop-shadow(0 0 4px ${si})`:"none",cursor:r?"pointer":"crosshair",pointerEvents:"all"}}const hj={cursor:"grab",pointerEvents:"all"},mj=k.memo(function({workflowName:r,workflowInterface:i,variables:o,x:c,y:f,zoom:h=1,onDrag:m}){const{openNodeEditor:g,layoutMode:p,setIsDraggingNode:y,registerSlotPositions:b,unregisterSlotPositions:N,draggingWire:C,setDraggingWire:v}=Oe(),{selectedStartNode:w,selectStartNode:j,selectNode:O}=Zn(),{connectNodes:_}=it(),[W,$]=k.useState(!1),B=`start-${r}`,H=w===r,I=k.useRef(!1),U=z=>{if(z.stopPropagation(),I.current){I.current=!1;return}O(null),j(r),g()},K=z=>{if(p!=="free"||!m)return;z.stopPropagation(),z.preventDefault(),y(!0);const Z=z.clientX,ne=z.clientY;let he=!1;const ye=Ue=>{const le=(Ue.clientX-Z)/h,Se=(Ue.clientY-ne)/h;(Math.abs(le)>3||Math.abs(Se)>3)&&(he=!0,m(le,Se))},de=()=>{y(!1),he&&(I.current=!0),window.removeEventListener("mousemove",ye),window.removeEventListener("mouseup",de)};window.addEventListener("mousemove",ye),window.addEventListener("mouseup",de)},ee=k.useCallback(z=>{z.stopPropagation(),z.preventDefault();const Z=c+$n,ne=f+30;v({sourceNodeId:B,sourcePort:"output",sourceX:Z,sourceY:ne,dragX:Z,dragY:ne,nearbyPort:null})},[c,f,B,v]),ue=k.useCallback(z=>{z.stopPropagation(),z.preventDefault(),C&&C.sourcePort==="input"&&!C.sourceNodeId.startsWith("start-")&&(_("start",C.sourceNodeId,r),v(null))},[C,r,_,v]),oe=C?.nearbyPort?.nodeId===B&&C?.nearbyPort?.port==="output",ie=!!C&&C.sourcePort==="input"&&!C.sourceNodeId.startsWith("start-"),fe=Object.entries(o).slice(0,3),ae=Object.keys(o).length>3,R=i.inputs||[],G=i.outputs||[],A=50,P=R.length>0||G.length>0?18:0,re=fe.length*14+(ae?12:0),E=Math.max(tb,A+P+re+10);return k.useEffect(()=>{const z={input:{x:c,y:f+30},output:{x:c+$n,y:f+30},branches:{}};return b(B,z),()=>N(B)},[c,f,B,b,N]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${c}, ${f})`,onClick:U,onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),children:[d.jsx("rect",{width:$n,height:E,rx:8,style:rj(H,W)}),d.jsx("rect",{width:4,height:E,rx:2,style:ij}),d.jsx("text",{x:16,y:24,style:oj,children:""}),d.jsx("text",{x:38,y:24,style:sj,children:r}),(R.length>0||G.length>0)&&d.jsx("g",{transform:"translate(12, 38)",children:d.jsxs("text",{x:0,y:0,style:cj,children:[R.length>0&&`In: ${R.map(z=>z.name).join(", ")}`,R.length>0&&G.length>0&&" | ",G.length>0&&`Out: ${G.join(", ")}`]})}),fe.length>0&&d.jsxs("g",{transform:`translate(12, ${A+P-4})`,children:[fe.map(([z,Z],ne)=>d.jsxs("text",{x:0,y:ne*14+10,style:uj,children:["$",z," = ",pj(Z)]},z)),ae&&d.jsxs("text",{x:0,y:fe.length*14+10,style:fj,children:["+",Object.keys(o).length-3," more..."]})]}),ie&&d.jsx("circle",{cx:$n,cy:30,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:ue}),d.jsx("circle",{cx:$n,cy:30,r:6,style:dj(W||oe,!!C),onMouseDown:ee,onMouseUp:ue}),p==="free"&&m&&d.jsx("rect",{x:4,y:0,width:$n-8,height:40,fill:"transparent",style:hj,onMouseDown:K})]})});function pj(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?n.length>12?`"${n.slice(0,12)}..."`:`"${n}"`:typeof n=="object"?JSON.stringify(n).slice(0,15)+"...":String(n)}function gj(n,r,i,o){const c=Math.abs(i-n),f=Math.abs(o-r);if(f>c*.5&&o>r){const m=Math.min(f/2,60);return`M ${n} ${r} C ${n} ${r+m}, ${i} ${o-m}, ${i} ${o}`}else{const m=Math.min(c/2,80);return`M ${n} ${r} C ${n+m} ${r}, ${i-m} ${o}, ${i} ${o}`}}const xj={fill:"none",stroke:"transparent",strokeWidth:16,strokeLinecap:"round",pointerEvents:"stroke"};function yj(n,r){return{fill:"none",stroke:r?"#22d3ee":n,strokeWidth:6,strokeLinecap:"round",opacity:r?.3:.2,pointerEvents:"none"}}function bj(n,r,i){return{fill:"none",stroke:r?"#22D3EE":n,strokeWidth:r?3:i?1.5:2,strokeLinecap:"round",strokeDasharray:i?"6 4":"none",pointerEvents:"none",transition:"stroke-width 0.15s ease, stroke 0.15s ease",filter:r?"drop-shadow(0 0 6px rgba(34, 211, 238, 0.5))":"none"}}const vj={opacity:.6,pointerEvents:"none"},wj={fontSize:"10px",fill:"var(--color-text-muted)",textAnchor:"middle",fontWeight:500,pointerEvents:"none"},Sj={cursor:"pointer",pointerEvents:"all"};function Nj(){return{fill:"var(--color-accent-red)",stroke:"var(--color-surface-0)",strokeWidth:2,transition:"transform 0.15s ease, filter 0.15s ease"}}const Ej={fontSize:"16px",fontWeight:"bold",fill:"white",pointerEvents:"none"},lb=k.memo(function({fromNodeId:r,toNodeId:i,fromPort:o="output",toPort:c="input",x1:f,y1:h,x2:m,y2:g,color:p="#475569",label:y,isDotted:b,isSelected:N,onSelect:C,onDelete:v}){const w=Oe(K=>K.slotPositions);let j,O,_,W;if(f!==void 0&&h!==void 0&&m!==void 0&&g!==void 0)j=f,O=h,_=m,W=g;else{const K=w[r],ee=w[i];if(!K||!ee)return null;const ue=o==="output"?K.output:o==="input"?K.input:K.branches[o],oe=c==="input"?ee.input:ee.output;if(!ue||!oe)return null;j=ue.x,O=ue.y,_=oe.x,W=oe.y}if(!Number.isFinite(j)||!Number.isFinite(O)||!Number.isFinite(_)||!Number.isFinite(W))return null;const $=gj(j,O,_,W),B=(j+_)/2,H=(O+W)/2,I=K=>{K.stopPropagation(),C?.()},U=K=>{K.stopPropagation(),v?.()};return d.jsxs("g",{style:{cursor:"pointer"},children:[d.jsx("path",{style:xj,d:$,onClick:I}),d.jsx("path",{style:yj(p,N??!1),d:$}),d.jsx("path",{style:bj(p,N??!1,b??!1),d:$}),!b&&!N&&d.jsx("circle",{style:vj,r:3,fill:p,children:d.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:$})}),y&&d.jsx("text",{style:wj,x:B,y:(O+W)/2-8,children:y}),N&&v&&d.jsxs("g",{style:Sj,transform:`translate(${B}, ${H})`,onClick:U,children:[d.jsx("circle",{cx:0,cy:0,r:12,style:Nj()}),d.jsx("text",{x:0,y:4,textAnchor:"middle",style:Ej,children:""})]})]})});function jj(){const{draggingWire:n,slotPositions:r}=Oe();if(!n)return null;const i=n.branchLabel||n.sourcePort,o=AE(n.sourceNodeId,i,r),c=o?.x??n.sourceX,f=o?.y??n.sourceY,h=n.nearbyPort?.x??n.dragX,m=n.nearbyPort?.y??n.dragY,g=n.sourcePort==="input",p=g?h:c,y=g?m:f,b=g?c:h,N=g?f:m;if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b)||!Number.isFinite(N))return null;const C=n.nearbyPort?"#22C55E":"#22D3EE";return d.jsx(lb,{fromNodeId:n.sourceNodeId,toNodeId:"",x1:p,y1:y,x2:b,y2:N,color:C,isDotted:!n.nearbyPort})}const Cj={pointerEvents:"none"},Aj={fill:"#FACC15"},_j={filter:"drop-shadow(0 2px 4px rgba(250, 204, 21, 0.3))"},Oj={fill:"rgba(250, 204, 21, 0.2)",stroke:"#FACC15",strokeWidth:1.5,strokeDasharray:"4 2"},Tj={fontSize:"9px",fontWeight:600,fill:"#facc15"},Mj={fill:"rgba(250, 204, 21, 0.3)",stroke:"#FACC15",strokeWidth:2},Dj={pointerEvents:"none"},kj={fill:"rgba(34, 197, 94, 0.25)",stroke:"#22C55E",strokeWidth:2},Rj={fill:"#4ADE80",fontSize:"12px",fontWeight:600,fontFamily:"'JetBrains Mono', monospace"},zj={fill:"#22C55E"};function Lj(){const{draggingOrphan:n}=Oe();if(!n)return null;const{fromX:r,fromY:i,toX:o,toY:c,opcode:f}=n;if(!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)||!Number.isFinite(c))return null;const h=o-r,m=c-i,g=Math.sqrt(h*h+m*m),p=f.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("g",{style:Cj,children:[d.jsx("path",{d:`M ${r} ${i} L ${o} ${c}`,fill:"none",stroke:"#FACC15",strokeWidth:2,strokeDasharray:"8 4",style:{animation:"dash-flow 0.5s linear infinite"}}),d.jsx("circle",{cx:r,cy:i,r:4,style:Aj}),g>30&&d.jsxs("g",{transform:`translate(${o-40}, ${c-15})`,style:_j,children:[d.jsx("rect",{width:80,height:30,rx:6,style:Oj}),d.jsx("text",{x:40,y:18,textAnchor:"middle",style:Tj,children:p.length>10?p.slice(0,10)+"...":p})]}),d.jsx("circle",{cx:o,cy:c,r:6,style:Mj})]})}function Vj(){const{draggingVariable:n}=Oe();if(!n)return null;const{toX:r,toY:i,name:o}=n;return d.jsxs("g",{style:Dj,children:[d.jsxs("g",{transform:`translate(${r-40}, ${i-14})`,children:[d.jsx("rect",{width:80,height:28,rx:14,style:kj}),d.jsxs("text",{x:40,y:18,textAnchor:"middle",style:Rj,children:["$",o.length>8?o.slice(0,8)+"..":o]})]}),d.jsx("circle",{cx:r,cy:i,r:4,style:zj})]})}const Io=160,Yo=120,li=180,Wu=80,Zu=60,Yg=40,Bj=80,Hj=M("absolute bottom-4 left-6 rounded-sm border border-border-subtle overflow-hidden z-10 shadow-md cursor-pointer transition-colors hover:border-border-strong"),Uj={pointerEvents:"none"};function qg(n){switch(n){case"control_flow":return"#FF9500";case"data":return"#4CAF50";case"io":return"#22D3EE";case"operator":return"#9C27B0";case"workflow_op":return"#E91E63";default:return"#64748B"}}function Ij({workflows:n,bounds:r,zoom:i,panX:o,panY:c,canvasWidth:f,canvasHeight:h,onNavigate:m}){const g=r.maxX-r.minX,p=r.maxY-r.minY,y=Math.min((Io-10)/Math.max(g,100),(Yo-10)/Math.max(p,100)),b=k.useMemo(()=>{const v=(r.maxX+r.minX)/2,w=(r.maxY+r.minY)/2,j=f/i,O=h/i,_=v-o/i,W=w-c/i,$=(_-r.minX-j/2)*y+5,B=(W-r.minY-O/2)*y+5,H=j*y,I=O*y;return{x:$,y:B,width:H,height:I}},[r,i,o,c,f,h,y]),N=k.useCallback(v=>{const j=v.currentTarget.getBoundingClientRect(),O=v.clientX-j.left,_=v.clientY-j.top,W=(O-5)/y+r.minX,$=(_-5)/y+r.minY,B=(r.maxX+r.minX)/2,H=(r.maxY+r.minY)/2,I=(B-W)*i,U=(H-$)*i;m(I,U)},[r,y,i,m]),C=k.useMemo(()=>{if(!n||n.length===0)return[];const v=[];let w=0;for(const j of n){let O=function($,B,H){const I=Wu+Math.min(Object.keys($.inputs).length,2)*18;v.push({x:(B-r.minX)*y+5,y:(H-r.minY)*y+5,width:li*y,height:I*y,color:qg($.type)}),W=Math.max(W,H+I);let U=B+li+Zu,K=H+I+Yg;for(const ee of $.children){let ue=B+li+Zu;for(const oe of ee.children){const ie=Wu+Math.min(Object.keys(oe.inputs).length,2)*18;v.push({x:(ue-r.minX)*y+5,y:(K-r.minY)*y+5,width:li*y,height:ie*y,color:qg(oe.type)}),W=Math.max(W,K+ie),ue+=li+Zu,U=Math.max(U,ue)}K+=Wu+Yg*2}return U},_=0,W=w;for(const $ of j.children)_=O($,_,w);w=W+Bj}return v},[n,r,y]);return!n||n.length===0||C.length===0?null:d.jsx("div",{className:L(Hj()),"aria-label":"Canvas minimap navigation",children:d.jsxs("svg",{width:Io,height:Yo,onClick:N,style:{display:"block",cursor:"pointer"},role:"img","aria-label":"Minimap showing workflow overview. Click to navigate.",children:[d.jsx("rect",{x:0,y:0,width:Io,height:Yo,fill:"var(--color-surface-2)",rx:4}),C.map((v,w)=>d.jsx("rect",{x:v.x,y:v.y,width:Math.max(v.width,2),height:Math.max(v.height,2),fill:v.color,opacity:.7,rx:1},w)),d.jsx("rect",{x:Math.max(0,b.x),y:Math.max(0,b.y),width:Math.min(b.width,Io),height:Math.min(b.height,Yo),fill:"rgba(59, 130, 246, 0.15)",stroke:"var(--color-accent-blue)",strokeWidth:1.5,rx:2,style:Uj})]})})}const Yj=M("absolute top-4 left-6 w-9 h-9 flex items-center justify-center bg-surface-1 border border-border-subtle rounded-sm text-text-secondary cursor-pointer z-10 shadow-md transition-colors hover:bg-surface-2 hover:border-border-strong hover:text-text-primary"),qj=M("absolute top-4 left-6 flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm z-10 shadow-md text-text-secondary focus-within:border-accent-blue"),Gj=M("bg-transparent border-none outline-none text-text-primary text-sm w-[180px] placeholder:text-text-muted"),Xj=M("text-xs text-text-muted whitespace-nowrap min-w-[60px] text-center"),$j=M("flex gap-0.5"),Gg=M("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm transition-colors hover:bg-surface-2 hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent"),Wj=M("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm ml-1 transition-colors hover:bg-surface-2 hover:text-text-primary");function Zj(){const{tree:n}=it(),{searchQuery:r,setSearchQuery:i,searchResults:o,setSearchResults:c}=Oe(),{selectNode:f}=Zn(),[h,m]=k.useState(!1),[g,p]=k.useState(0),y=k.useRef(null);k.useEffect(()=>{if(!n||!r.trim()){c([]),p(0);return}const O=r.toLowerCase(),_=[];for(const W of n.workflows){const $=B=>{for(const H of B){const I=H.id.toLowerCase().includes(O),U=H.opcode?.toLowerCase().includes(O),K=H.type.toLowerCase().includes(O);(I||U||K)&&_.push(H.id);for(const ee of H.children)$(ee.children)}};$(W.children)}c(_),p(0)},[r,n,c]),k.useEffect(()=>{const O=_=>{(_.ctrlKey||_.metaKey)&&_.key.toLowerCase()==="f"&&(_.target.closest(".monaco-editor")||(_.preventDefault(),m(!0),setTimeout(()=>y.current?.focus(),50))),_.key==="Escape"&&h&&b()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[h]);const b=k.useCallback(()=>{m(!1),i(""),c([]),p(0)},[i,c]),N=k.useCallback(O=>{i(O.target.value)},[i]),C=k.useCallback(O=>{if(o.length>0){const _=o[O];f(_),p(O)}},[o,f]),v=k.useCallback(()=>{if(o.length>0){const O=g>0?g-1:o.length-1;C(O)}},[g,o.length,C]),w=k.useCallback(()=>{if(o.length>0){const O=g<o.length-1?g+1:0;C(O)}},[g,o.length,C]),j=k.useCallback(O=>{O.key==="Enter"&&(O.shiftKey?v():w())},[v,w]);return h?d.jsxs("div",{className:L(qj()),role:"search","aria-label":"Search nodes",children:[d.jsx(Xg,{}),d.jsx("input",{ref:y,type:"text",value:r,onChange:N,onKeyDown:j,placeholder:"Search nodes...",className:L(Gj()),autoFocus:!0,"aria-label":"Search query","aria-describedby":r?"search-result-count":void 0}),r&&d.jsx("span",{id:"search-result-count",className:L(Xj()),"aria-live":"polite",children:o.length>0?`${g+1}/${o.length}`:"No results"}),d.jsxs("div",{className:L($j()),role:"group","aria-label":"Navigate results",children:[d.jsx("button",{onClick:v,disabled:o.length===0,"aria-label":"Previous result (Shift+Enter)",className:L(Gg()),children:d.jsx(Qj,{})}),d.jsx("button",{onClick:w,disabled:o.length===0,"aria-label":"Next result (Enter)",className:L(Gg()),children:d.jsx(Kj,{})})]}),d.jsx("button",{onClick:b,className:L(Wj()),"aria-label":"Close search (Escape)",children:d.jsx(Fj,{})})]}):d.jsx("button",{className:L(Yj()),onClick:()=>{m(!0),setTimeout(()=>y.current?.focus(),50)},"aria-label":"Search nodes (Ctrl+F)",children:d.jsx(Xg,{})})}function Xg(){return d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"M21 21l-4.35-4.35"})]})}function Qj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 15l-6-6-6 6"})})}function Kj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M6 9l6 6 6-6"})})}function Fj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}const Ft=24,ta=28;function Jj(n,r,i,o){return{padding:Ft,labelHeight:ta,rect:{x:n-Ft,y:r-Ft-ta,width:i+Ft*2,height:o+Ft*2+ta},header:{x:n-Ft,y:r-Ft-ta,width:i+Ft*2,height:ta+Ft},label:{x:n-Ft+12,y:r-Ft-ta+8},dragIcon:{x:n+i+Ft-24,y:r-Ft-ta+10}}}function Pj(n){return{fill:"transparent",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:2,strokeDasharray:"8 4",opacity:n?.4:.6}}function eC(n){return{fill:n?"rgba(59, 130, 246, 0.1)":"var(--color-surface-2)",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1}}function tC(n){return{fontSize:"11px",fontWeight:600,fill:n?"var(--color-accent-blue)":"var(--color-text-secondary)",fontFamily:"'Inter', sans-serif"}}const nC={cursor:"grab",pointerEvents:"all"},lC={pointerEvents:"none",color:"var(--color-text-muted)"};function aC({name:n,x:r,y:i,width:o,height:c,isMain:f,zoom:h,onDrag:m}){const g=k.useRef(!1),p=k.useRef({x:0,y:0}),y=Oe(w=>w.setIsDraggingWorkflow),b=Jj(r,i,o,c),N=k.useCallback(w=>{if(!m)return;w.stopPropagation(),w.preventDefault(),g.current=!0,p.current={x:w.clientX,y:w.clientY},y(!0);const j=_=>{if(!g.current)return;_.preventDefault();const W=(_.clientX-p.current.x)/h,$=(_.clientY-p.current.y)/h;p.current={x:_.clientX,y:_.clientY},m(W,$)},O=()=>{g.current=!1,y(!1),window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",O)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",O)},[m,h,y]),C=f&&n!=="main"?`${n} (main)`:n,v=C.length*7+24;return d.jsxs("g",{style:{pointerEvents:"none"},"data-workflow-group":n,children:[d.jsx("rect",{x:b.rect.x,y:b.rect.y,width:b.rect.width,height:b.rect.height,rx:12,style:Pj(f??!1)}),d.jsx("rect",{x:b.header.x,y:b.header.y,width:b.header.width,height:b.header.height,fill:"transparent",style:nC,onMouseDown:N}),d.jsxs("g",{transform:`translate(${b.label.x}, ${b.label.y})`,children:[d.jsx("rect",{x:0,y:0,width:v,height:20,rx:4,style:eC(f??!1)}),d.jsx("text",{x:12,y:14,style:tC(f??!1),children:C})]}),d.jsxs("g",{transform:`translate(${b.dragIcon.x}, ${b.dragIcon.y})`,style:lC,children:[d.jsx("rect",{x:0,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:0,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4})]})]})}const ab=M("min-w-[160px] py-1 bg-surface-1 border border-border-subtle rounded-md shadow-lg animate-scale-in"),na=M("w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm text-text-primary bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2",{variants:{variant:{default:"",danger:"text-accent-red hover:bg-accent-red/10"}},defaultVariants:{variant:"default"}}),ts=M("h-px my-1 mx-2 bg-border-subtle"),la=M("w-4 text-center text-xs text-text-muted"),aa=M("flex-1"),$g=M("text-xs text-text-muted");function rC({x:n,y:r,nodeId:i,hasReporters:o,reportersExpanded:c,isOrphan:f,onExpandReporters:h,onCollapseReporters:m,onDelete:g,onDuplicate:p,onClose:y,selectedNodeIds:b,onExtractToWorkflow:N}){const C=k.useRef(null);k.useEffect(()=>{const j=_=>{C.current&&!C.current.contains(_.target)&&y()},O=_=>{_.key==="Escape"&&y()};return document.addEventListener("mousedown",j),document.addEventListener("keydown",O),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",O)}},[y]);const v=Math.min(n,window.innerWidth-180),w=Math.min(r,window.innerHeight-200);return d.jsxs("div",{ref:C,className:L(ab()),style:{position:"fixed",left:v,top:w,zIndex:1e3},role:"menu","aria-label":"Node actions",children:[o&&d.jsxs(d.Fragment,{children:[c?d.jsxs("button",{className:L(na()),onClick:()=>{m(),y()},role:"menuitem",children:[d.jsx("span",{className:L(la()),children:""}),d.jsx("span",{className:L(aa()),children:"Collapse Reporters"})]}):d.jsxs("button",{className:L(na()),onClick:()=>{h(),y()},role:"menuitem",children:[d.jsx("span",{className:L(la()),children:""}),d.jsx("span",{className:L(aa()),children:"Expand Reporters"})]}),d.jsx("div",{className:L(ts()),role:"separator"})]}),d.jsxs("button",{className:L(na()),onClick:()=>{p(),y()},role:"menuitem",children:[d.jsx("span",{className:L(la()),children:""}),d.jsx("span",{className:L(aa()),children:"Duplicate"}),d.jsx("span",{className:L($g()),children:"Ctrl+D"})]}),d.jsx("div",{className:L(ts()),role:"separator"}),d.jsxs("button",{className:L(na({variant:"danger"})),onClick:()=>{g(),y()},role:"menuitem",children:[d.jsx("span",{className:L(la()),children:""}),d.jsx("span",{className:L(aa()),children:"Delete"}),d.jsx("span",{className:L($g()),children:"Del"})]}),b&&b.length>=2&&N&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:L(ts()),role:"separator"}),d.jsxs("button",{className:L(na()),onClick:()=>{N(),y()},role:"menuitem",children:[d.jsx("span",{className:L(la()),children:""}),d.jsx("span",{className:L(aa()),children:"Extract to Workflow"})]})]})]})}function iC({x:n,y:r,workflowName:i,onCreateWorkflow:o,onDeleteWorkflow:c,onClose:f}){const h=k.useRef(null);k.useEffect(()=>{const y=N=>{h.current&&!h.current.contains(N.target)&&f()},b=N=>{N.key==="Escape"&&f()};return document.addEventListener("mousedown",y),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",b)}},[f]);const m=Math.min(n,window.innerWidth-220),g=Math.min(r,window.innerHeight-120),p=i&&i!=="main";return d.jsxs("div",{ref:h,className:L(ab()),style:{position:"fixed",left:m,top:g,zIndex:1e3},role:"menu","aria-label":"Canvas actions",children:[d.jsxs("button",{className:L(na()),onClick:()=>{o(),f()},role:"menuitem",children:[d.jsx("span",{className:L(la()),children:"+"}),d.jsx("span",{className:L(aa()),children:"Create New Workflow"})]}),p&&c&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:L(ts()),role:"separator"}),d.jsxs("button",{className:L(na({variant:"danger"})),onClick:()=>{c(i),f()},role:"menuitem",children:[d.jsx("span",{className:L(la()),children:""}),d.jsxs("span",{className:L(aa()),children:['Delete "',i,'"']})]})]})]})}const gi=ty.WIDTH,Cn=ty.HEIGHT,qo=Df.HORIZONTAL,ri=Df.VERTICAL,rb=Df.WORKFLOW,oC=40;function sC(n,r){const o=n.inputs||[],c=n.outputs||[],f=o.length>0||c.length>0?18:0,h=Object.entries(r).slice(0,3),m=Object.keys(r).length>3,g=h.length*14+(m?12:0);return Math.max(tb,50+f+g+10)}const xf=12,yf=8,ib=16,cC=28;function ob(n,r,i){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const o=n.id||"",c=i?`${i}::${o}`:o;if(!(r[c]??!1))return{width:gi,height:Cn};const h=[];let m=0;if(n.inputs)for(const y of Object.values(n.inputs))y.type==="reporter"&&y.opcode?h.push(y):m++;let g=gi,p=Cn;if(h.length>0){let y=0,b=0;for(const N of h){const C=ob(N,r,i);y+=ib+C.height+yf,b=Math.max(b,C.width)}g=Math.max(g,b+xf*2),p=Cn+y}return m>0&&(p+=m*cC+yf),(h.length>0||m>0)&&(p+=xf),{width:g,height:p}}function uC(n,r,i){let o=0,c=gi;for(const f of Object.values(n))if(f.type==="reporter"&&f.opcode){const h=ob(f,r,i);o+=ib+h.height+yf,c=Math.max(c,h.width)}return{width:c,height:o}}function Qu(n,r,i,o,c){const f=c?`${c}::${n}`:n,h=o[f]??!1,m=Ww(),p=i&&m.has(i)?20:0;if(!h)return{width:gi,height:Cn+p};const y=uC(r,o,c),b=y.width+xf*2,N=y.height;return{width:Math.max(gi,b),height:Cn+N+p}}function Wg(n){return Fx(n)}function Zg(n,r,i={},o={}){const c=[],f=[],h=[],m=[];let g=0;const p={};for(const y of n){p[y.name]={x:0,y:g};const b=Math.max(y.children.length*(Cn+ri),Cn+100);g+=b+rb}for(const y of n){const b=p[y.name],N=r[y.name]||{x:0,y:0},C={x:b.x+N.x,y:b.y+N.y},{nodes:v,connections:w,bounds:j,startNode:O}=fC(y,C.x,C.y,i,o);c.push(...v),f.push(...w),O&&m.push(O),h.push({name:y.name,x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY,isMain:y.name==="main"})}return{nodes:c,connections:f,groups:h,startNodes:m}}function fC(n,r,i,o={},c={}){const f=[],h=[],m=new Map,g=r,p=i,y={workflowName:n.name,workflowInterface:n.interface,variables:n.variables,x:g,y:p},b=r+$n+oC;let N=1/0,C=1/0,v=-1/0,w=-1/0;function j(U,K,ee,ue){N=Math.min(N,U),C=Math.min(C,K),v=Math.max(v,U+ee),w=Math.max(w,K+ue)}function O(U,K,ee,ue=!1){const oe=Qu(U.id,U.inputs,U.opcode,c,n.name);f.push({node:U,x:K,y:ee,width:oe.width,height:oe.height,isOrphan:ue,workflowName:n.name}),m.set(U.id,{x:K,y:ee,width:oe.width,height:oe.height}),j(K,ee,oe.width,oe.height);let ie=K+oe.width+qo;if(U.children.length>0){let fe=ee+oe.height+ri;const ae=U.children.length;for(let R=0;R<ae;R++){const G=U.children[R],A=Wg(G.name);let P=K+oe.width+qo,re=U.id,E=!0;for(const z of G.children){const Z=Qu(z.id,z.inputs,z.opcode,c,n.name);f.push({node:z,x:P,y:fe,width:Z.width,height:Z.height,workflowName:n.name}),m.set(z.id,{x:P,y:fe,width:Z.width,height:Z.height}),j(P,fe,Z.width,Z.height),h.push({from:`${n.name}::${re}`,to:`${n.name}::${z.id}`,fromPort:E?G.name:"output",toPort:"input",color:A,label:E?G.name:void 0}),re=z.id,E=!1,P+=Z.width+qo,z.children.length>0&&(P=Math.max(P,_(z,P,fe)))}ie=Math.max(ie,P),fe+=Cn+ri*2}}return ie}function _(U,K,ee){let ue=K;const ie=m.get(U.id)?.height||Cn;let fe=ee+ie+ri;const ae=U.children.length;for(let R=0;R<ae;R++){const G=U.children[R],A=Wg(G.name);let P=K,re=U.id,E=!0;for(const z of G.children){const Z=Qu(z.id,z.inputs,z.opcode,c,n.name);f.push({node:z,x:P,y:fe,width:Z.width,height:Z.height,workflowName:n.name}),m.set(z.id,{x:P,y:fe,width:Z.width,height:Z.height}),j(P,fe,Z.width,Z.height),h.push({from:`${n.name}::${re}`,to:`${n.name}::${z.id}`,fromPort:E?G.name:"output",toPort:"input",color:A,label:E?G.name:void 0}),re=z.id,E=!1,P+=Z.width+qo}ue=Math.max(ue,P),fe+=Cn+ri}return ue}const W=sC(n.interface,n.variables);j(g,p,$n,W);let $=b,B=null,H=!0;for(const U of n.children){const ee=O(U,$,i);H&&(h.push({from:`start-${n.name}`,to:`${n.name}::${U.id}`,fromPort:"output",toPort:"input",color:"#22C55E"}),H=!1),B&&h.push({from:`${n.name}::${B.id}`,to:`${n.name}::${U.id}`,fromPort:"output",toPort:"input",color:"#475569"}),B=U,$=ee}n.children.length===0&&(N=Math.min(N,g),C=Math.min(C,p),v=Math.max(v,g+$n+20),w=Math.max(w,p+W));const I=n.orphans||[];if(I.length>0){const U=w+rb;let K=g;for(const ee of I)K=O(ee,K,U,!0);for(const ee of I)ee.next&&h.push({from:`${n.name}::${ee.id}`,to:`${n.name}::${ee.next}`,fromPort:"output",toPort:"input",color:"#6B7280"})}for(const U of f){const K=`${U.workflowName}::${U.node.id}`,ee=o[K];ee&&(U.x+=ee.x,U.y+=ee.y,j(U.x,U.y,U.width,U.height))}return{nodes:f,connections:h,bounds:{minX:N,minY:C,maxX:v,maxY:w},startNode:y}}function sb(n,r,i){const f=[...n].sort((h,m)=>m.y-h.y);for(const h of f)if(r>=h.x-16&&r<=h.x+h.width+16&&i>=h.y-28-16&&i<=h.y+h.height+16)return h.name;return null}const dC=M("flex-1 relative overflow-hidden"),hC=M("w-full h-full block"),mC=M("absolute bottom-4 right-4 flex items-center gap-1 bg-surface-1 p-1 rounded-sm border border-border-subtle z-10 shadow-md"),Ku=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm hover:bg-surface-2 hover:text-text-primary"),pC=M("w-px h-5 bg-border-subtle mx-1"),gC=M("min-w-10 text-center text-xs text-text-muted"),Qg=M("h-7 px-2.5 flex items-center justify-center gap-1.5 bg-transparent border-none text-text-secondary cursor-pointer rounded-sm text-xs font-medium transition-colors hover:bg-surface-2 hover:text-text-primary",{variants:{active:{true:"bg-surface-3 text-text-primary",false:""}},defaultVariants:{active:!1}}),xC=M("absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-3 px-5 py-3 bg-accent-red/15 border border-accent-red rounded-sm text-accent-red z-10 max-w-[80%]"),yC=M("text-lg"),bC=M("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-text-muted pointer-events-none"),vC=M("text-lg mb-2 text-text-secondary"),wC=M("text-sm");function bf(n,r,i=new Set){for(const o of Object.values(n))if(o.type==="reporter"&&o.id){const c=`${r}::${o.id}`;i.add(c),o.inputs&&bf(o.inputs,r,i)}return Array.from(i)}function Kg(n,r){const[i,o]=r.split("::"),c=n.find(m=>m.name===i);if(!c)return null;const f=m=>{for(const g of m){if(g.id===o)return g;for(const p of g.children){const y=f(p.children);if(y)return y}}return null},h=f(c.children);if(h)return{node:h,workflowName:i};if(c.orphans){const m=f(c.orphans);if(m)return{node:m,workflowName:i}}return null}function SC(){const{zoom:n,panX:r,panY:i,setZoom:o,setPan:c,resetView:f,workflowPositions:h,setWorkflowPosition:m,nodePositions:g,setNodePosition:p,layoutMode:y,setLayoutMode:b,setLayoutGroups:N,setCanvasCenter:C,contextMenu:v,hideContextMenu:w,setReportersExpanded:j,setMultipleReportersExpanded:O,expandedReporters:_,canvasContextMenu:W,showCanvasContextMenu:$,hideCanvasContextMenu:B,showCreateWorkflowModal:H,showConfirmDialog:I,showExtractWorkflowModal:U}=Oe(),{tree:K,parseError:ee,source:ue,disconnectConnection:oe,deleteNode:ie,duplicateNode:fe,deleteWorkflow:ae}=it(),{selectedConnection:R,selectConnection:G,selectedNodeIds:A,clearMultiSelection:P}=Zn(),re=k.useRef(null),[E,z]=k.useState({width:800,height:600});k.useEffect(()=>{const se=()=>{re.current&&z({width:re.current.clientWidth,height:re.current.clientHeight})};return se(),window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]);const{nodes:Z,connections:ne,groups:he,startNodes:ye}=K?Zg(K.workflows,h,g,_):{nodes:[],connections:[],groups:[],startNodes:[]},de=24,Ue=28,le=he.length>0?he.reduce((se,Ee)=>({minX:Math.min(se.minX,Ee.x-de),minY:Math.min(se.minY,Ee.y-de-Ue),maxX:Math.max(se.maxX,Ee.x+Ee.width+de),maxY:Math.max(se.maxY,Ee.y+Ee.height+de)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}):{minX:0,minY:0,maxX:800,maxY:600},{centerX:Se,centerY:Me}=k.useMemo(()=>{if(!K)return{centerX:400,centerY:300};const Ee=Zg(K.workflows,{}).groups.reduce((Ge,Je)=>({minX:Math.min(Ge.minX,Je.x-de),minY:Math.min(Ge.minY,Je.y-de-Ue),maxX:Math.max(Ge.maxX,Je.x+Je.width+de),maxY:Math.max(Ge.maxY,Je.y+Je.height+de)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return{centerX:(Ee.maxX+Ee.minX)/2,centerY:(Ee.maxY+Ee.minY)/2}},[K]),Be=JSON.stringify(he);k.useEffect(()=>{N(he)},[Be,N]),k.useEffect(()=>{C(Se,Me)},[Se,Me,C]),k.useEffect(()=>{const se=Ee=>{const Je=Ee.detail.workflowName,He=he.find(or=>or.name===Je);if(!He)return;const gn=E.width/2,Kn=E.height/2,Fn=He.x+He.width/2,Jn=He.y+He.height/2,ir=gn-Fn*n-(E.width/2-Se*n),oa=Kn-Jn*n-(E.height/2-Me*n);c(ir,oa)};return window.addEventListener("lexflow:goto-workflow",se),()=>window.removeEventListener("lexflow:goto-workflow",se)},[he,n,c,E,Se,Me]);const{handleWheel:nt,handleMouseDown:gt,handleMouseMove:ce,handleMouseUp:Re,isDragging:we}=BE({svgRef:re,centerX:Se,centerY:Me}),wt=k.useCallback(se=>{const Ee=se.target,Ge=Ee.tagName==="svg"||Ee.tagName==="rect"&&Ee.getAttribute("fill")==="transparent",Je=Ee.closest("[data-workflow-group]")!==null;if(Ge||Je)if(se.preventDefault(),re.current){const He=re.current.getBoundingClientRect(),gn=(se.clientX-He.left-r-He.width/2)/n+Se,Kn=(se.clientY-He.top-i-He.height/2)/n+Me,Fn=sb(he,gn,Kn);$(se.clientX,se.clientY,Fn||void 0)}else $(se.clientX,se.clientY)},[$,re,r,i,n,Se,Me,he]),qt=k.useCallback((se,Ee)=>{c(se,Ee)},[c]);return d.jsxs("div",{className:L(dC()),"data-canvas-container":!0,children:[d.jsx(Zj,{}),d.jsxs("div",{className:L(mC()),role:"toolbar","aria-label":"Canvas controls",children:[d.jsx("button",{className:L(Ku()),onClick:()=>o(n-.1),"aria-label":"Zoom out",children:d.jsx(f2,{})}),d.jsxs("span",{className:L(gC()),"aria-live":"polite",children:[Math.round(n*100),"%"]}),d.jsx("button",{className:L(Ku()),onClick:()=>o(n+.1),"aria-label":"Zoom in",children:d.jsx(u2,{})}),d.jsx("button",{className:L(Ku()),onClick:f,"aria-label":"Fit to view",children:d.jsx(d2,{})}),d.jsx("div",{className:L(pC())}),d.jsxs("button",{className:L(Qg({active:y==="auto"})),onClick:()=>b("auto"),"aria-label":"Auto layout","aria-pressed":y==="auto",children:[d.jsx(h2,{}),"Auto"]}),d.jsx("button",{className:L(Qg({active:y==="free"})),onClick:()=>b("free"),"aria-label":"Free layout","aria-pressed":y==="free",children:"Free"})]}),K&&d.jsx(Ij,{workflows:K.workflows,bounds:le,zoom:n,panX:r,panY:i,canvasWidth:E.width,canvasHeight:E.height,onNavigate:qt}),ee&&d.jsxs("div",{className:L(xC()),children:[d.jsx("span",{className:L(yC()),children:""}),d.jsx("span",{children:ee})]}),d.jsxs("svg",{ref:re,className:L(hC()),onWheel:nt,onMouseDown:gt,onMouseMove:ce,onMouseUp:Re,onMouseLeave:Re,onContextMenu:wt,style:{cursor:we?"grabbing":"grab"},role:"application","aria-label":"Workflow canvas. Use mouse to pan and scroll to zoom.",children:[d.jsx("rect",{width:"100%",height:"100%",fill:"transparent",style:{cursor:"inherit"}}),d.jsxs("g",{transform:`translate(${r+(re.current?.clientWidth||800)/2-Se*n}, ${i+(re.current?.clientHeight||600)/2-Me*n}) scale(${n})`,children:[he.map(se=>d.jsx(aC,{name:se.name,x:se.x,y:se.y,width:se.width,height:se.height,isMain:se.isMain,zoom:n,onDrag:(Ee,Ge)=>{const Je=Oe.getState().workflowPositions[se.name]||{x:0,y:0};m(se.name,Je.x+Ee,Je.y+Ge)}},se.name)),ne.map((se,Ee)=>d.jsx(lb,{fromNodeId:se.from,toNodeId:se.to,fromPort:se.fromPort,toPort:se.toPort,color:se.color,label:se.label,isSelected:R?.fromNodeId===se.from&&R?.toNodeId===se.to,onSelect:()=>G({fromNodeId:se.from,toNodeId:se.to,label:se.label}),onDelete:()=>{const Ge=ps(se.from);oe(Al(se.from),Al(se.to),se.label,Ge),G(null)}},`${se.from}-${se.to}-${Ee}`)),ye.map(se=>d.jsx(mj,{workflowName:se.workflowName,workflowInterface:se.workflowInterface,variables:se.variables,x:se.x,y:se.y,zoom:n,onDrag:y==="free"?(Ee,Ge)=>{const Je=h[se.workflowName]||{x:0,y:0};m(se.workflowName,Je.x+Ee,Je.y+Ge)}:void 0},`start-${se.workflowName}`)),Z.map(se=>{const Ee=`${se.workflowName}::${se.node.id}`;return d.jsx(lj,{node:se.node,x:se.x,y:se.y,isOrphan:se.isOrphan,zoom:n,workflowName:se.workflowName,onDrag:y==="free"?(Ge,Je)=>{const He=g[Ee]||{x:0,y:0};p(Ee,He.x+Ge,He.y+Je)}:void 0},Ee)}),d.jsx(jj,{}),d.jsx(Lj,{}),d.jsx(Vj,{})]})]}),!ee&&!K&&d.jsxs("div",{className:L(bC()),children:[d.jsx("h2",{className:L(vC()),children:"No Workflow"}),d.jsx("p",{className:L(wC()),children:"Edit YAML in the editor or load an example"})]}),v&&(()=>{const se=Al(v.nodeId);return d.jsx(rC,{x:v.x,y:v.y,nodeId:se,hasReporters:v.hasReporters,reportersExpanded:v.reportersExpanded,isOrphan:v.isOrphan,onExpandReporters:()=>{if(j(v.nodeId,!0),K){const Ee=Kg(K.workflows,v.nodeId);if(Ee){const Ge=bf(Ee.node.inputs,Ee.workflowName);Ge.length>0&&O(Ge,!0)}}},onCollapseReporters:()=>{if(j(v.nodeId,!1),K){const Ee=Kg(K.workflows,v.nodeId);if(Ee){const Ge=bf(Ee.node.inputs,Ee.workflowName);Ge.length>0&&O(Ge,!1)}}},onDelete:()=>{ie(se),P()},onDuplicate:()=>fe(se),onClose:w,selectedNodeIds:A,onExtractToWorkflow:()=>{const Ee=A.length>0?A:[v.nodeId],Ge=Ee.map(Al);if(Ge.length<2)return;let Je=ps(Ee[0])||"main";const He=Ax(ue,Ge,Je);if(!He.isValid){I({title:"Cannot Extract",message:He.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}});return}const gn=D1(ue,Ge);U(He.orderedNodeIds,Je,gn.suggestedInputs,gn.suggestedOutputs)}})})(),W&&d.jsx(iC,{x:W.x,y:W.y,workflowName:W.workflowName,onCreateWorkflow:H,onDeleteWorkflow:se=>{I({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${se}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>ae(se)})},onClose:B})]})}const NC="modulepreload",EC=function(n){return"/static/"+n},Fg={},jC=function(r,i,o){let c=Promise.resolve();if(i&&i.length>0){let g=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");c=g(i.map(p=>{if(p=EC(p),p in Fg)return;Fg[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const N=document.createElement("link");if(N.rel=y?"stylesheet":NC,y||(N.as="script"),N.crossOrigin="",N.href=p,m&&N.setAttribute("nonce",m),document.head.appendChild(N),y)return new Promise((C,v)=>{N.addEventListener("load",C),N.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return c.then(h=>{for(const m of h||[])m.status==="rejected"&&f(m.reason);return r().catch(f)})};function Jg(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,o=Array(r);i<r;i++)o[i]=n[i];return o}function CC(n){if(Array.isArray(n))return n}function AC(n,r,i){return(r=RC(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function _C(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,f,h,m=[],g=!0,p=!1;try{if(f=(i=i.call(n)).next,r!==0)for(;!(g=(o=f.call(i)).done)&&(m.push(o.value),m.length!==r);g=!0);}catch(y){p=!0,c=y}finally{try{if(!g&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(p)throw c}}return m}}function OC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pg(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function ex(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Pg(Object(i),!0).forEach(function(o){AC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Pg(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function TC(n,r){if(n==null)return{};var i,o,c=MC(n,r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);for(o=0;o<f.length;o++)i=f[o],r.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(c[i]=n[i])}return c}function MC(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}function DC(n,r){return CC(n)||_C(n,r)||zC(n,r)||OC()}function kC(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function RC(n){var r=kC(n,"string");return typeof r=="symbol"?r:r+""}function zC(n,r){if(n){if(typeof n=="string")return Jg(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Jg(n,r):void 0}}function LC(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function tx(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function nx(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?tx(Object(i),!0).forEach(function(o){LC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):tx(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function VC(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(o){return r.reduceRight(function(c,f){return f(c)},o)}}function ii(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function gs(n){return{}.toString.call(n).includes("Object")}function BC(n){return!Object.keys(n).length}function xi(n){return typeof n=="function"}function HC(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function UC(n,r){return gs(r)||Ol("changeType"),Object.keys(r).some(function(i){return!HC(n,i)})&&Ol("changeField"),r}function IC(n){xi(n)||Ol("selectorType")}function YC(n){xi(n)||gs(n)||Ol("handlerType"),gs(n)&&Object.values(n).some(function(r){return!xi(r)})&&Ol("handlersType")}function qC(n){n||Ol("initialIsRequired"),gs(n)||Ol("initialType"),BC(n)&&Ol("initialContent")}function GC(n,r){throw new Error(n[r]||n.default)}var XC={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ol=ii(GC)(XC),Go={changes:UC,selector:IC,handler:YC,initial:qC};function $C(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Go.initial(n),Go.handler(r);var i={current:n},o=ii(QC)(i,r),c=ii(ZC)(i),f=ii(Go.changes)(n),h=ii(WC)(i);function m(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return Go.selector(p),p(i.current)}function g(p){VC(o,c,f,h)(p)}return[m,g]}function WC(n,r){return xi(r)?r(n.current):r}function ZC(n,r){return n.current=nx(nx({},n.current),r),r}function QC(n,r,i){return xi(r)?r(n.current):Object.keys(i).forEach(function(o){var c;return(c=r[o])===null||c===void 0?void 0:c.call(r,n.current[o])}),i}var KC={create:$C},FC={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function JC(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function PC(n){return{}.toString.call(n).includes("Object")}function eA(n){return n||lx("configIsRequired"),PC(n)||lx("configType"),n.urls?(tA(),{paths:{vs:n.urls.monacoBase}}):n}function tA(){console.warn(cb.deprecation)}function nA(n,r){throw new Error(n[r]||n.default)}var cb={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},lx=JC(nA)(cb),lA={config:eA},aA=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(c){return i.reduceRight(function(f,h){return h(f)},c)}};function ub(n,r){return Object.keys(r).forEach(function(i){r[i]instanceof Object&&n[i]&&Object.assign(r[i],ub(n[i],r[i]))}),ex(ex({},n),r)}var rA={type:"cancelation",msg:"operation is manually canceled"};function Fu(n){var r=!1,i=new Promise(function(o,c){n.then(function(f){return r?c(rA):o(f)}),n.catch(c)});return i.cancel=function(){return r=!0},i}var iA=["monaco"],oA=KC.create({config:FC,isInitialized:!1,resolve:null,reject:null,monaco:null}),fb=DC(oA,2),Ni=fb[0],vs=fb[1];function sA(n){var r=lA.config(n),i=r.monaco,o=TC(r,iA);vs(function(c){return{config:ub(c.config,o),monaco:i}})}function cA(){var n=Ni(function(r){var i=r.monaco,o=r.isInitialized,c=r.resolve;return{monaco:i,isInitialized:o,resolve:c}});if(!n.isInitialized){if(vs({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Fu(Ju);if(window.monaco&&window.monaco.editor)return db(window.monaco),n.resolve(window.monaco),Fu(Ju);aA(uA,dA)(hA)}return Fu(Ju)}function uA(n){return document.body.appendChild(n)}function fA(n){var r=document.createElement("script");return n&&(r.src=n),r}function dA(n){var r=Ni(function(o){var c=o.config,f=o.reject;return{config:c,reject:f}}),i=fA("".concat(r.config.paths.vs,"/loader.js"));return i.onload=function(){return n()},i.onerror=r.reject,i}function hA(){var n=Ni(function(i){var o=i.config,c=i.resolve,f=i.reject;return{config:o,resolve:c,reject:f}}),r=window.require;r.config(n.config),r(["vs/editor/editor.main"],function(i){var o=i.m||i;db(o),n.resolve(o)},function(i){n.reject(i)})}function db(n){Ni().monaco||vs({monaco:n})}function mA(){return Ni(function(n){var r=n.monaco;return r})}var Ju=new Promise(function(n,r){return vs({resolve:n,reject:r})}),hb={config:sA,init:cA,__getMonacoInstance:mA},pA={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Pu=pA,gA={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},xA=gA;function yA({children:n}){return Nn.createElement("div",{style:xA.container},n)}var bA=yA,vA=bA;function wA({width:n,height:r,isEditorReady:i,loading:o,_ref:c,className:f,wrapperProps:h}){return Nn.createElement("section",{style:{...Pu.wrapper,width:n,height:r},...h},!i&&Nn.createElement(vA,null,o),Nn.createElement("div",{ref:c,style:{...Pu.fullWidth,...!i&&Pu.hide},className:f}))}var SA=wA,mb=k.memo(SA);function NA(n){k.useEffect(n,[])}var pb=NA;function EA(n,r,i=!0){let o=k.useRef(!0);k.useEffect(o.current||!i?()=>{o.current=!1}:n,r)}var Jt=EA;function ci(){}function Ja(n,r,i,o){return jA(n,o)||CA(n,r,i,o)}function jA(n,r){return n.editor.getModel(gb(n,r))}function CA(n,r,i,o){return n.editor.createModel(r,i,o?gb(n,o):void 0)}function gb(n,r){return n.Uri.parse(r)}function AA({original:n,modified:r,language:i,originalLanguage:o,modifiedLanguage:c,originalModelPath:f,modifiedModelPath:h,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:g=!1,theme:p="light",loading:y="Loading...",options:b={},height:N="100%",width:C="100%",className:v,wrapperProps:w={},beforeMount:j=ci,onMount:O=ci}){let[_,W]=k.useState(!1),[$,B]=k.useState(!0),H=k.useRef(null),I=k.useRef(null),U=k.useRef(null),K=k.useRef(O),ee=k.useRef(j),ue=k.useRef(!1);pb(()=>{let ae=hb.init();return ae.then(R=>(I.current=R)&&B(!1)).catch(R=>R?.type!=="cancelation"&&console.error("Monaco initialization: error:",R)),()=>H.current?fe():ae.cancel()}),Jt(()=>{if(H.current&&I.current){let ae=H.current.getOriginalEditor(),R=Ja(I.current,n||"",o||i||"text",f||"");R!==ae.getModel()&&ae.setModel(R)}},[f],_),Jt(()=>{if(H.current&&I.current){let ae=H.current.getModifiedEditor(),R=Ja(I.current,r||"",c||i||"text",h||"");R!==ae.getModel()&&ae.setModel(R)}},[h],_),Jt(()=>{let ae=H.current.getModifiedEditor();ae.getOption(I.current.editor.EditorOption.readOnly)?ae.setValue(r||""):r!==ae.getValue()&&(ae.executeEdits("",[{range:ae.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),ae.pushUndoStop())},[r],_),Jt(()=>{H.current?.getModel()?.original.setValue(n||"")},[n],_),Jt(()=>{let{original:ae,modified:R}=H.current.getModel();I.current.editor.setModelLanguage(ae,o||i||"text"),I.current.editor.setModelLanguage(R,c||i||"text")},[i,o,c],_),Jt(()=>{I.current?.editor.setTheme(p)},[p],_),Jt(()=>{H.current?.updateOptions(b)},[b],_);let oe=k.useCallback(()=>{if(!I.current)return;ee.current(I.current);let ae=Ja(I.current,n||"",o||i||"text",f||""),R=Ja(I.current,r||"",c||i||"text",h||"");H.current?.setModel({original:ae,modified:R})},[i,r,c,n,o,f,h]),ie=k.useCallback(()=>{!ue.current&&U.current&&(H.current=I.current.editor.createDiffEditor(U.current,{automaticLayout:!0,...b}),oe(),I.current?.editor.setTheme(p),W(!0),ue.current=!0)},[b,p,oe]);k.useEffect(()=>{_&&K.current(H.current,I.current)},[_]),k.useEffect(()=>{!$&&!_&&ie()},[$,_,ie]);function fe(){let ae=H.current?.getModel();m||ae?.original?.dispose(),g||ae?.modified?.dispose(),H.current?.dispose()}return Nn.createElement(mb,{width:C,height:N,isEditorReady:_,loading:y,_ref:U,className:v,wrapperProps:w})}var _A=AA;k.memo(_A);function OA(n){let r=k.useRef();return k.useEffect(()=>{r.current=n},[n]),r.current}var TA=OA,Xo=new Map;function MA({defaultValue:n,defaultLanguage:r,defaultPath:i,value:o,language:c,path:f,theme:h="light",line:m,loading:g="Loading...",options:p={},overrideServices:y={},saveViewState:b=!0,keepCurrentModel:N=!1,width:C="100%",height:v="100%",className:w,wrapperProps:j={},beforeMount:O=ci,onMount:_=ci,onChange:W,onValidate:$=ci}){let[B,H]=k.useState(!1),[I,U]=k.useState(!0),K=k.useRef(null),ee=k.useRef(null),ue=k.useRef(null),oe=k.useRef(_),ie=k.useRef(O),fe=k.useRef(),ae=k.useRef(o),R=TA(f),G=k.useRef(!1),A=k.useRef(!1);pb(()=>{let E=hb.init();return E.then(z=>(K.current=z)&&U(!1)).catch(z=>z?.type!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>ee.current?re():E.cancel()}),Jt(()=>{let E=Ja(K.current,n||o||"",r||c||"",f||i||"");E!==ee.current?.getModel()&&(b&&Xo.set(R,ee.current?.saveViewState()),ee.current?.setModel(E),b&&ee.current?.restoreViewState(Xo.get(f)))},[f],B),Jt(()=>{ee.current?.updateOptions(p)},[p],B),Jt(()=>{!ee.current||o===void 0||(ee.current.getOption(K.current.editor.EditorOption.readOnly)?ee.current.setValue(o):o!==ee.current.getValue()&&(A.current=!0,ee.current.executeEdits("",[{range:ee.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),ee.current.pushUndoStop(),A.current=!1))},[o],B),Jt(()=>{let E=ee.current?.getModel();E&&c&&K.current?.editor.setModelLanguage(E,c)},[c],B),Jt(()=>{m!==void 0&&ee.current?.revealLine(m)},[m],B),Jt(()=>{K.current?.editor.setTheme(h)},[h],B);let P=k.useCallback(()=>{if(!(!ue.current||!K.current)&&!G.current){ie.current(K.current);let E=f||i,z=Ja(K.current,o||n||"",r||c||"",E||"");ee.current=K.current?.editor.create(ue.current,{model:z,automaticLayout:!0,...p},y),b&&ee.current.restoreViewState(Xo.get(E)),K.current.editor.setTheme(h),m!==void 0&&ee.current.revealLine(m),H(!0),G.current=!0}},[n,r,i,o,c,f,p,y,b,h,m]);k.useEffect(()=>{B&&oe.current(ee.current,K.current)},[B]),k.useEffect(()=>{!I&&!B&&P()},[I,B,P]),ae.current=o,k.useEffect(()=>{B&&W&&(fe.current?.dispose(),fe.current=ee.current?.onDidChangeModelContent(E=>{A.current||W(ee.current.getValue(),E)}))},[B,W]),k.useEffect(()=>{if(B){let E=K.current.editor.onDidChangeMarkers(z=>{let Z=ee.current.getModel()?.uri;if(Z&&z.find(ne=>ne.path===Z.path)){let ne=K.current.editor.getModelMarkers({resource:Z});$?.(ne)}});return()=>{E?.dispose()}}return()=>{}},[B,$]);function re(){fe.current?.dispose(),N?b&&Xo.set(f,ee.current.saveViewState()):ee.current.getModel()?.dispose(),ee.current.dispose()}return Nn.createElement(mb,{width:C,height:v,isEditorReady:B,loading:g,_ref:ue,className:w,wrapperProps:j})}var DA=MA,kA=k.memo(DA),RA=kA;const xb=M("flex flex-col h-full"),yb=M("flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-surface-2"),bb=M("text-sm font-medium text-text-secondary"),zA=M("text-xs text-accent-blue animate-pulse"),vb=M("flex-1 overflow-hidden"),LA=k.lazy(()=>jC(()=>import("./LiteEditor-j7XGOS58.js"),[]).then(n=>({default:n.LiteEditor})));function VA(){return d.jsxs("div",{className:L(xb()),children:[d.jsx("div",{className:yb(),children:d.jsx("span",{className:bb(),children:"Editor"})}),d.jsx("div",{className:L(vb(),"flex items-center justify-center"),children:d.jsx("span",{className:"text-text-muted text-sm",children:"Loading editor..."})})]})}function BA({className:n,lite:r=!1}){const{source:i,setSource:o,isParsing:c}=it(),{theme:f}=ay();if(r)return d.jsx(k.Suspense,{fallback:d.jsx(VA,{}),children:d.jsx(LA,{className:n,value:i,onChange:o,isParsing:c})});const h=k.useRef(null),m=k.useRef(null);k.useEffect(()=>{const p=y=>{const b=h.current;if(b){const N=y.detail.line;b.revealLineInCenter(N),b.setPosition({lineNumber:N,column:1}),b.focus(),b.deltaDecorations([],[{range:{startLineNumber:N,startColumn:1,endLineNumber:N,endColumn:1},options:{isWholeLine:!0,className:"highlighted-line",glyphMarginClassName:"highlighted-glyph"}}])}};return window.addEventListener("lexflow:goto-line",p),()=>{window.removeEventListener("lexflow:goto-line",p)}},[]),k.useEffect(()=>{if(m.current&&h.current){const p=m.current,y=f==="light"?"lexflow-light":"lexflow-dark";p.editor.setTheme(y)}},[f]);const g=(p,y)=>{h.current=p,m.current=y,y.editor.defineTheme("lexflow-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1e1e1e","editor.lineHighlightBackground":"#2d2d2d"}}),y.editor.defineTheme("lexflow-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#fafafa","editor.lineHighlightBackground":"#f0f0f0"}});const b=f==="light"?"lexflow-light":"lexflow-dark";y.editor.setTheme(b)};return d.jsxs("div",{className:L(xb(),n),children:[d.jsxs("div",{className:yb(),children:[d.jsx("span",{className:bb(),children:"Editor"}),c&&d.jsx("span",{className:zA(),children:"Parsing..."})]}),d.jsx("div",{className:vb(),children:d.jsx(RA,{height:"100%",language:"yaml",theme:f==="light"?"lexflow-light":"lexflow-dark",value:i,onChange:p=>o(p||""),onMount:g,options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0}})})]})}const HA=M("absolute inset-0 flex items-center justify-center bg-black/60 z-[100] backdrop-blur-sm"),UA=M("bg-surface-1 border border-border-default rounded-sm p-6 min-w-[300px] max-w-[400px] shadow-xl"),ef=M("block text-sm text-text-primary mb-4 leading-relaxed"),IA=M("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 transition-colors focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue/20"),YA=M("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 cursor-pointer transition-colors focus:outline-none focus:border-accent-blue"),tf=M("flex gap-3 justify-end"),nf=M("px-5 py-2.5 bg-accent-blue border-none rounded-sm text-surface-0 font-medium text-sm cursor-pointer transition-all hover:brightness-110 focus:outline-none focus:ring-1 focus:ring-accent-blue/30"),qA=M("px-5 py-2.5 bg-transparent border border-border-default rounded-sm text-text-secondary font-medium text-sm cursor-pointer transition-colors hover:bg-surface-2 hover:text-text-primary"),GA=M("flex justify-center"),XA=M("px-8 py-3 bg-accent-blue border-none rounded-sm text-white font-semibold text-base cursor-pointer transition-all shadow-lg hover:brightness-110 hover:-translate-y-px focus:outline-none focus:ring-1 focus:ring-accent-blue/30");function $A({prompt:n,onSubmit:r}){const[i,o]=k.useState(""),[c,f]=k.useState(n.options?.[0]||""),h=k.useRef(null);k.useEffect(()=>{n.type==="input"&&h.current&&h.current.focus()},[n.type]),k.useEffect(()=>{o(""),n.options?.length&&f(n.options[0])},[n]);const m=b=>{b.preventDefault(),r(i)},g=b=>{b.preventDefault(),r(c)},p=b=>{r(b)},y=b=>{b.key==="Escape"&&n.type==="confirm"&&r(!1)};return d.jsx("div",{className:L(HA()),onKeyDown:y,role:"presentation",children:d.jsxs("div",{className:L(UA()),role:"dialog","aria-modal":"true","aria-labelledby":"prompt-label",children:[n.type==="input"&&d.jsxs("form",{onSubmit:m,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-input",className:L(ef()),children:n.prompt||"Enter a value:"}),d.jsx("input",{ref:h,id:"prompt-input",type:"text",value:i,onChange:b=>o(b.target.value),className:L(IA()),placeholder:"Type here..."}),d.jsx("div",{className:L(tf()),children:d.jsx("button",{type:"submit",className:L(nf()),children:"Submit"})})]}),n.type==="select"&&d.jsxs("form",{onSubmit:g,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-select",className:L(ef()),children:n.prompt||"Select an option:"}),d.jsx("select",{id:"prompt-select",value:c,onChange:b=>f(b.target.value),className:L(YA()),children:n.options?.map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx("div",{className:L(tf()),children:d.jsx("button",{type:"submit",className:L(nf()),children:"Select"})})]}),n.type==="confirm"&&d.jsxs("div",{children:[d.jsx("p",{id:"prompt-label",className:L(ef()),children:n.message||n.prompt||"Are you sure?"}),d.jsxs("div",{className:L(tf()),children:[d.jsx("button",{className:L(qA()),onClick:()=>p(!1),children:"No"}),d.jsx("button",{className:L(nf()),onClick:()=>p(!0),autoFocus:!0,children:"Yes"})]})]}),n.type==="button"&&d.jsx("div",{className:L(GA()),children:d.jsx("button",{id:"prompt-label",className:L(XA()),onClick:()=>r(!0),autoFocus:!0,children:n.label||"Click"})})]})})}const WA=M("flex flex-col relative min-h-[100px] max-h-[600px]"),ZA=M("absolute top-0 left-0 right-0 h-1.5 cursor-ns-resize bg-transparent z-10 transition-colors hover:bg-accent-blue/50",{variants:{isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{isResizing:!1}}),QA=M("flex items-center justify-between px-3 py-1.5 border-b border-border-subtle bg-surface-1"),KA=M("flex items-center gap-2"),FA=M("text-sm font-medium text-text-secondary"),JA=M("w-1.5 h-1.5 rounded-full",{variants:{status:{idle:"bg-text-muted",running:"bg-accent-green animate-pulse",error:"bg-accent-red"}},defaultVariants:{status:"idle"}}),PA=M("flex items-center gap-1"),ax=M("w-px h-5 bg-border-subtle mx-1"),rx=M("h-7 px-2.5 bg-transparent border border-border-subtle rounded-sm text-text-muted text-xs font-medium cursor-pointer transition-colors hover:text-text-primary hover:border-text-muted",{variants:{active:{true:"bg-surface-3 text-text-primary border-border-default",false:""}},defaultVariants:{active:!1}}),e_=M("h-7 px-3 flex items-center gap-1.5 bg-accent-green border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110 disabled:opacity-60 disabled:cursor-not-allowed"),t_=M("h-7 px-3 flex items-center gap-1.5 bg-accent-red border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110"),ix=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),n_=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),l_=M("flex items-center gap-3 px-4 py-2 border-b border-border-subtle shrink-0"),a_=M("text-xs text-text-muted"),lf=M("flex items-center gap-1.5"),r_=M("text-xs text-text-secondary"),af=M("px-2.5 py-1.5 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm w-30 focus:outline-none focus:border-accent-blue"),i_=M("flex items-center gap-2.5 px-4 py-2 border-b border-border-subtle shrink-0"),o_=M("flex-1 h-1.5 bg-surface-3 rounded-none overflow-hidden"),s_=M("h-full bg-accent-blue transition-[width] duration-200"),c_=M("text-xs text-text-muted whitespace-nowrap"),u_=M("flex-1 flex overflow-hidden"),ox=M("flex-1 flex flex-col overflow-hidden min-w-[200px]"),sx=M("flex items-center px-4 py-1.5 bg-surface-2 border-b border-border-subtle text-xs font-medium text-text-muted uppercase tracking-wide"),cx=M("flex-1 p-4 overflow-auto"),f_=M("w-px bg-border-subtle cursor-col-resize shrink-0 hover:bg-accent-blue"),d_=M("flex-1 flex items-center justify-center text-text-muted text-sm"),ux=M("text-text-muted text-sm italic"),h_=M("font-mono text-sm text-text-secondary whitespace-pre-wrap break-words"),m_=M("text-accent-red text-sm"),p_=M("flex gap-2 mt-2 pt-2 border-t border-border-subtle"),g_=M("text-xs text-text-muted"),x_=M("font-mono text-sm text-accent-green"),y_=M("text-accent-blue animate-blink"),b_=M("absolute bottom-3 right-3 flex flex-col gap-2 max-w-[300px] z-50"),v_=M("flex items-center justify-between gap-3 px-4 py-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-primary shadow-lg animate-slide-in-right",{variants:{variant:{info:"border-l-[3px] border-l-accent-blue",success:"border-l-[3px] border-l-accent-green",warning:"border-l-[3px] border-l-accent-amber",error:"border-l-[3px] border-l-accent-red"}},defaultVariants:{variant:"info"}}),w_=M("bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary"),S_=M("p-3 bg-surface-2 rounded-sm text-sm text-text-primary"),N_=M("p-2 text-sm text-text-primary [&_h1]:text-xl [&_h1]:mb-2 [&_h2]:text-lg [&_h2]:mb-1.5 [&_h3]:text-base [&_h3]:mb-1 [&_p]:mb-2 [&_p]:leading-relaxed [&_code]:bg-surface-3 [&_code]:px-1 [&_code]:rounded [&_code]:font-mono [&_code]:text-[0.85em] [&_strong]:text-text-primary"),E_=M("overflow-x-auto"),j_=M("w-full border-collapse text-sm"),C_=M("px-3 py-2 text-left border-b border-border-subtle bg-surface-2 text-text-secondary font-medium"),A_=M("px-3 py-2 text-left border-b border-border-subtle text-text-primary"),__=M("max-w-full"),O_=M("max-w-full h-auto rounded-sm"),T_=100,M_=600,D_=250;function k_({className:n}){const{source:r,tree:i}=it(),{isExecuting:o,executionOutput:c,executionResult:f,executionError:h,workflowInputs:m,pendingPrompt:g,renderedContent:p,alerts:y,progress:b,removeAlert:N,clearWorkflowInputs:C}=ui(),{toggleExecutionPanel:v}=Oe(),{execute:w,cancel:j,respondToPrompt:O}=LE(),_=k.useRef(null),W=k.useRef(null),[$,B]=k.useState(D_),[H,I]=k.useState(!1),[U,K]=k.useState(!0),[ee,ue]=k.useState(!0),oe=i?.interface?.inputs||[],ie=JSON.stringify(oe.map(G=>G.name));k.useEffect(()=>{C()},[ie,C]),k.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[c]),k.useEffect(()=>{if(y.length>0){const G=setTimeout(()=>{N(y[0].id)},5e3);return()=>clearTimeout(G)}},[y,N]);const fe=k.useCallback(G=>{G.preventDefault(),I(!0)},[]);k.useEffect(()=>{if(!H)return;const G=P=>{if(!W.current)return;const re=W.current.parentElement;if(!re)return;const z=re.getBoundingClientRect().bottom-P.clientY;B(Math.min(M_,Math.max(T_,z)))},A=()=>{I(!1)};return document.addEventListener("mousemove",G),document.addEventListener("mouseup",A),()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",A)}},[H]);const ae=()=>{const G={};for(const A of oe)A.name in m&&(G[A.name]=m[A.name]);w(r,Object.keys(G).length>0?G:void 0)},R=()=>{j()};return d.jsxs("div",{ref:W,className:L(WA(),n),style:{height:`${$}px`},children:[d.jsx("div",{className:ZA({isResizing:H}),onMouseDown:fe}),d.jsxs("div",{className:QA(),children:[d.jsxs("div",{className:KA(),children:[d.jsx("span",{className:FA(),children:"Execution"}),d.jsx("span",{className:JA({status:o?"running":h?"error":"idle"})})]}),d.jsxs("div",{className:PA(),children:[d.jsx("button",{className:rx({active:U}),onClick:()=>K(!U),title:"Toggle Preview",children:"Preview"}),d.jsx("button",{className:rx({active:ee}),onClick:()=>ue(!ee),title:"Toggle Console",children:"Console"}),d.jsx("div",{className:ax()}),o?d.jsxs("button",{className:t_(),onClick:R,children:[d.jsx(p2,{}),"Stop"]}):d.jsxs("button",{className:e_(),onClick:ae,children:[d.jsx(m2,{}),"Run"]}),d.jsx("button",{className:ix(),title:"Step forward (coming soon)",disabled:!0,children:d.jsx(g2,{})}),d.jsx("button",{className:ix(),onClick:()=>ui.getState().clearExecution(),title:"Clear output",children:d.jsx(x2,{})}),d.jsx("div",{className:ax()}),d.jsx("button",{className:n_(),onClick:v,title:"Close panel",children:d.jsx(y2,{})})]})]}),oe.length>0&&d.jsxs("div",{className:l_(),children:[d.jsx("span",{className:a_(),children:"Inputs:"}),oe.map(G=>d.jsx(R_,{input:G},G.name))]}),b&&d.jsxs("div",{className:i_(),children:[d.jsx("div",{className:o_(),children:d.jsx("div",{className:s_(),style:{width:`${b.value/b.max*100}%`}})}),b.label&&d.jsx("span",{className:c_(),children:b.label})]}),d.jsxs("div",{className:u_(),children:[U&&d.jsxs("div",{className:ox(),children:[d.jsx("div",{className:sx(),children:d.jsx("span",{children:"Preview"})}),d.jsx("div",{className:cx(),children:p.length>0?p.map((G,A)=>d.jsx(z_,{item:G},A)):d.jsx("div",{className:ux(),children:"No preview content"})})]}),U&&ee&&d.jsx("div",{className:f_()}),ee&&d.jsxs("div",{className:ox(),children:[d.jsx("div",{className:sx(),children:d.jsx("span",{children:"Console"})}),d.jsx("div",{className:cx(),children:h?d.jsx("div",{className:m_(),children:h}):d.jsxs(d.Fragment,{children:[c&&d.jsxs("pre",{ref:_,className:h_(),children:[c,o&&d.jsx("span",{className:y_(),children:"|"})]}),f!==null&&!o&&d.jsxs("div",{className:p_(),children:[d.jsx("span",{className:g_(),children:"Result:"}),d.jsx("code",{className:x_(),children:JSON.stringify(f,null,2)})]}),!c&&!f&&!o&&d.jsx("div",{className:ux(),children:'Click "Run" to execute the workflow'})]})})]}),!U&&!ee&&d.jsx("div",{className:d_(),children:"Toggle Preview or Console to view execution output"})]}),y.length>0&&d.jsx("div",{className:b_(),children:y.map(G=>d.jsx(V_,{alert:G,onDismiss:()=>N(G.id)},G.id))}),g&&d.jsx($A,{prompt:g,onSubmit:O})]})}function R_({input:n}){const{workflowInputs:r,setWorkflowInput:i}=ui(),o=r[n.name]??"",c=d.jsxs("label",{className:r_(),children:[n.name,n.required&&d.jsx("span",{className:"text-accent-red",children:"*"}),":"]});return n.type==="boolean"?d.jsxs("div",{className:lf(),children:[c,d.jsxs("select",{value:o===""?"":String(o),onChange:f=>{const h=f.target.value;h===""?i(n.name,""):i(n.name,h==="true")},className:af(),children:[d.jsx("option",{value:"",children:"--"}),d.jsx("option",{value:"true",children:"true"}),d.jsx("option",{value:"false",children:"false"})]})]}):n.type==="number"?d.jsxs("div",{className:lf(),children:[c,d.jsx("input",{type:"number",value:String(o),onChange:f=>{const h=f.target.value;if(h==="")i(n.name,"");else{const m=Number(h);i(n.name,isNaN(m)?h:m)}},placeholder:`Enter ${n.name}`,className:af()})]}):d.jsxs("div",{className:lf(),children:[c,d.jsx("input",{type:"text",value:String(o),onChange:f=>{const h=f.target.value;try{i(n.name,JSON.parse(h))}catch{i(n.name,h)}},placeholder:`Enter ${n.name}`,className:af()})]})}function z_({item:n}){switch(n.type){case"html":return d.jsx("div",{className:S_(),dangerouslySetInnerHTML:{__html:n.content}});case"markdown":return d.jsx("div",{className:N_(),children:d.jsx(L_,{content:n.content})});case"table":const r=n.content;if(!r.length)return null;const i=Object.keys(r[0]);return d.jsx("div",{className:E_(),children:d.jsxs("table",{className:j_(),children:[d.jsx("thead",{children:d.jsx("tr",{children:i.map(c=>d.jsx("th",{className:C_(),children:c},c))})}),d.jsx("tbody",{children:r.map((c,f)=>d.jsx("tr",{className:"hover:bg-surface-2",children:i.map(h=>d.jsx("td",{className:A_(),children:String(c[h]??"")},h))},f))})]})});case"image":const o=n.content;return d.jsx("div",{className:__(),children:d.jsx("img",{src:o.src,alt:o.alt,className:O_()})});default:return null}}function L_({content:n}){const r=n.split(`
`),i=[];for(let o=0;o<r.length;o++){const c=r[o];if(c.startsWith("### "))i.push(d.jsx("h3",{children:c.slice(4)},o));else if(c.startsWith("## "))i.push(d.jsx("h2",{children:c.slice(3)},o));else if(c.startsWith("# "))i.push(d.jsx("h1",{children:c.slice(2)},o));else if(c.trim()){const f=c.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,"<code>$1</code>");i.push(d.jsx("p",{dangerouslySetInnerHTML:{__html:f}},o))}else i.push(d.jsx("br",{},o))}return d.jsx(d.Fragment,{children:i})}function V_({alert:n,onDismiss:r}){return d.jsxs("div",{className:v_({variant:n.variant}),children:[d.jsx("span",{children:n.message}),d.jsx("button",{className:w_(),onClick:r,children:""})]})}const yi=M("flex flex-col h-full bg-surface-1"),bi=M("flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-surface-2"),vi=M("text-sm font-semibold text-text-primary"),wi=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-3"),qf=M("flex-1 overflow-y-auto p-4"),B_=M("flex items-center gap-1.5 px-3 py-2 mb-4 bg-surface-2 border border-border-subtle rounded-sm text-accent-blue text-sm cursor-pointer transition-colors w-full hover:bg-surface-3 hover:border-accent-blue"),wb=M("flex items-center justify-center h-full text-text-muted"),Gf=M("flex gap-3 mb-5 p-3 bg-surface-2 rounded-sm"),Xf=M("w-1 rounded-sm shrink-0"),$f=M("flex-1"),Wf=M("text-[0.7rem] uppercase tracking-wide text-text-muted"),Zf=M("text-base font-semibold text-text-primary my-1"),Sb=M("text-xs text-text-muted font-mono bg-transparent border-none cursor-pointer px-1 py-0.5 -mx-1 rounded-sm transition-colors hover:bg-border-subtle hover:text-text-primary"),Nb=M("text-sm text-text-secondary leading-relaxed p-3 bg-surface-2 rounded-sm mb-4"),Qf=M("mb-3"),Kf=M("block text-xs font-medium text-text-secondary mb-1 uppercase tracking-wide"),H_=M("text-[0.65rem] text-text-muted ml-1.5 px-1.5 py-0.5 bg-border-subtle rounded-sm"),ra=M("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm font-mono focus:outline-none focus:border-accent-blue read-only:opacity-70 read-only:cursor-not-allowed"),vf=M("flex gap-2 px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-sm",{variants:{editable:{true:"cursor-pointer transition-colors hover:border-accent-blue hover:bg-surface-2",false:""}},defaultVariants:{editable:!1}}),U_=M("px-1.5 py-0.5 bg-border-subtle rounded-sm text-[0.7rem] text-text-muted font-medium shrink-0"),Eb=M("text-text-primary font-mono overflow-hidden text-ellipsis whitespace-nowrap"),I_=M("text-[0.65rem] text-text-muted ml-auto opacity-0 transition-opacity group-hover:opacity-100"),oi=M("w-full px-3 py-2 bg-surface-3 border-2 border-accent-blue rounded-sm text-text-primary text-sm font-mono focus:outline-none"),Pt=M("mt-5"),pn=M("text-xs font-semibold text-text-secondary mb-2.5 uppercase tracking-wide"),Tl=M("text-text-muted italic text-sm"),Y_=M("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),q_=M("font-medium text-text-primary text-sm"),G_=M("text-text-muted text-xs flex-1"),wf=M("w-5 h-5 flex items-center justify-center bg-transparent border border-accent-red rounded-sm text-accent-red cursor-pointer text-sm font-bold opacity-60 transition-opacity hover:opacity-100 hover:bg-accent-red/10"),Sf=M("w-full px-3 py-2 mt-2 bg-transparent border border-dashed border-border-subtle rounded-sm text-text-secondary text-sm cursor-pointer transition-colors hover:border-accent-blue hover:text-accent-blue hover:bg-accent-blue/5"),jb=M("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),Cb=M("flex-1 font-medium text-text-primary text-sm font-mono"),Ab=M("flex flex-wrap gap-1.5"),_b=M("flex items-center gap-1 px-2 py-1 bg-surface-2 rounded-sm text-xs"),Ob=M("text-text-primary font-medium"),Tb=M("text-text-muted"),Mb=M("text-text-muted text-[0.7rem]"),Db=M("flex gap-2 px-4 py-3 border-t border-border-subtle"),Sn=M("flex-1 px-4 py-2 bg-surface-2 border border-border-subtle rounded-sm text-text-primary text-sm cursor-pointer transition-colors hover:bg-surface-3 hover:border-accent-blue disabled:opacity-50 disabled:cursor-not-allowed"),kb=M("flex-1 px-4 py-2 bg-transparent border border-accent-red rounded-sm text-accent-red text-sm cursor-pointer transition-colors hover:bg-accent-red/10 disabled:opacity-50 disabled:cursor-not-allowed"),Rb=M("w-full px-4 py-2 text-sm bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),fx=["string","number","boolean","list","dict","any"];function X_({workflowName:n,onClose:r}){const{tree:i,addVariable:o,updateVariable:c,deleteVariable:f,updateWorkflowInterface:h,deleteWorkflow:m}=it(),{selectStartNode:g}=Zn(),p=i?.workflows.find(ce=>ce.name===n),[y,b]=k.useState(""),[N,C]=k.useState(""),[v,w]=k.useState(null),[j,O]=k.useState(""),[_,W]=k.useState(""),[$,B]=k.useState(""),[H,I]=k.useState("string"),[U,K]=k.useState(!1),[ee,ue]=k.useState(null),[oe,ie]=k.useState(""),[fe,ae]=k.useState("string"),[R,G]=k.useState(!1),[A,P]=k.useState("");if(!p)return d.jsxs("div",{className:yi(),children:[d.jsxs("div",{className:bi(),children:[d.jsx("span",{className:vi(),children:"Start Node"}),d.jsx("button",{className:wi(),onClick:r,children:""})]}),d.jsx("div",{className:wb(),children:d.jsx("p",{children:"Workflow not found"})})]});const re=()=>{g(null),r()},E=()=>{if(!y.trim())return;const ce=hx(N);o(n,y.trim(),ce)&&(b(""),C(""))},z=(ce,Re)=>{w(ce),O(ce),W(dx(Re))},Z=()=>{if(!v||!j.trim())return;const ce=hx(_);c(n,v,j.trim(),ce)&&(w(null),O(""),W(""))},ne=()=>{w(null),O(""),W("")},he=ce=>{Oe.getState().showConfirmDialog({title:"Delete Variable",message:`Delete variable "$${ce}"?`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>f(n,ce)})},ye=()=>{Oe.getState().showConfirmDialog({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${n}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{m(n),re()}})},de=()=>{const ce=$.trim();if(!ce||p.interface.inputs.some(we=>we.name===ce))return;const Re=[...p.interface.inputs,{name:ce,type:H,required:U}];h(n,Re,p.interface.outputs)&&(B(""),I("string"),K(!1))},Ue=ce=>{const Re=p.interface.inputs.filter(we=>we.name!==ce);h(n,Re,p.interface.outputs)},le=ce=>{ue(ce.name),ie(ce.name),ae(ce.type),G(ce.required)},Se=()=>{if(!ee||!oe.trim())return;const ce=p.interface.inputs.map(Re=>Re.name===ee?{name:oe.trim(),type:fe,required:R}:Re);h(n,ce,p.interface.outputs)&&ue(null)},Me=()=>{ue(null)},Be=()=>{if(!A.trim())return;const ce=[...p.interface.outputs,A.trim()];h(n,p.interface.inputs,ce)&&P("")},nt=ce=>{const Re=p.interface.outputs.filter(we=>we!==ce);h(n,p.interface.inputs,Re)},gt=Object.entries(p.variables);return d.jsxs("div",{className:yi(),children:[d.jsxs("div",{className:bi(),children:[d.jsx("span",{className:vi(),children:"Start Node"}),d.jsx("button",{className:wi(),onClick:re,children:""})]}),d.jsxs("div",{className:qf(),children:[d.jsxs("div",{className:Gf(),children:[d.jsx("div",{className:Xf(),style:{backgroundColor:"#22C55E"}}),d.jsxs("div",{className:$f(),children:[d.jsx("span",{className:Wf(),children:"Workflow"}),d.jsx("h3",{className:Zf(),children:n})]})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Interface Inputs"}),p.interface.inputs.length===0?d.jsx("p",{className:Tl(),children:"No inputs defined"}):d.jsx("div",{className:"flex flex-col gap-1.5 mb-2.5",children:p.interface.inputs.map(ce=>d.jsx("div",{children:ee===ce.name?d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("input",{type:"text",className:oi(),placeholder:"Input name",value:oe,onChange:Re=>ie(Re.target.value)}),d.jsxs("div",{className:"flex gap-1.5 items-center",children:[d.jsx("select",{className:L(oi(),"flex-1"),value:fe,onChange:Re=>ae(Re.target.value),children:fx.map(Re=>d.jsx("option",{value:Re,children:Re},Re))}),d.jsxs("label",{className:"flex items-center gap-1 text-xs text-text-secondary whitespace-nowrap",children:[d.jsx("input",{type:"checkbox",checked:R,onChange:Re=>G(Re.target.checked)}),"Required"]})]}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("button",{className:L(Sn(),"flex-1"),onClick:Se,children:"Save"}),d.jsx("button",{className:L(Sn(),"flex-1"),onClick:Me,children:"Cancel"})]})]}):d.jsxs("div",{className:L(vf({editable:!0}),"cursor-pointer"),onClick:()=>le(ce),children:[d.jsx("span",{className:"text-accent-blue font-mono font-medium",children:ce.name}),d.jsx("span",{className:"text-xs px-1 py-0.5 rounded bg-surface-3 text-text-muted",children:ce.type}),ce.required&&d.jsx("span",{className:"text-accent-red text-xs",title:"Required",children:"*"}),d.jsx("button",{onClick:Re=>{Re.stopPropagation(),Ue(ce.name)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Remove input",children:""})]})},ce.name))}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:L(ra(),"flex-1"),placeholder:"Input name",value:$,onChange:ce=>B(ce.target.value),onKeyDown:ce=>ce.key==="Enter"&&de()}),d.jsx("select",{className:L(ra(),"w-20"),value:H,onChange:ce=>I(ce.target.value),children:fx.map(ce=>d.jsx("option",{value:ce,children:ce},ce))})]}),d.jsxs("div",{className:"flex gap-1.5 items-center",children:[d.jsxs("label",{className:"flex items-center gap-1 text-xs text-text-secondary",children:[d.jsx("input",{type:"checkbox",checked:U,onChange:ce=>K(ce.target.checked)}),"Required"]}),d.jsx("button",{className:L(Sn(),"flex-none w-auto ml-auto"),onClick:de,children:"Add"})]})]})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Interface Outputs"}),p.interface.outputs.length===0?d.jsx("p",{className:Tl(),children:"No outputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.outputs.map(ce=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-violet",children:[ce,d.jsx("button",{onClick:()=>nt(ce),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove output",children:""})]},ce))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:L(ra(),"flex-1"),placeholder:"New output name",value:A,onChange:ce=>P(ce.target.value),onKeyDown:ce=>ce.key==="Enter"&&Be()}),d.jsx("button",{className:L(Sn(),"flex-none w-auto"),onClick:Be,children:"Add"})]})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Variables"}),gt.length===0?d.jsx("p",{className:Tl(),children:"No variables defined"}):d.jsx("div",{className:"mb-2.5",children:gt.map(([ce,Re])=>d.jsx("div",{className:"mb-2",children:v===ce?d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("input",{type:"text",className:oi(),placeholder:"Variable name",value:j,onChange:we=>O(we.target.value)}),d.jsx("input",{type:"text",className:oi(),placeholder:"Default value",value:_,onChange:we=>W(we.target.value),onKeyDown:we=>we.key==="Enter"&&Z()}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("button",{className:L(Sn(),"flex-1"),onClick:Z,children:"Save"}),d.jsx("button",{className:L(Sn(),"flex-1"),onClick:ne,children:"Cancel"})]})]}):d.jsxs("div",{className:L(vf({editable:!0}),"cursor-pointer"),onClick:()=>z(ce,Re),children:[d.jsxs("span",{className:"text-accent-green font-mono font-medium",children:["$",ce]}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("span",{className:Eb(),children:dx(Re)}),d.jsx("button",{onClick:we=>{we.stopPropagation(),he(ce)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Delete variable",children:""})]})},ce))}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:L(ra(),"flex-1"),placeholder:"Variable name",value:y,onChange:ce=>b(ce.target.value)}),d.jsx("input",{type:"text",className:L(ra(),"flex-1"),placeholder:"Default value",value:N,onChange:ce=>C(ce.target.value),onKeyDown:ce=>ce.key==="Enter"&&E()})]}),d.jsx("button",{className:Sn(),onClick:E,children:"Add Variable"})]})]}),n!=="main"&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Danger Zone"}),d.jsx("button",{className:"w-full px-3 py-2 text-sm font-medium bg-accent-red/10 text-accent-red border border-accent-red/30 rounded hover:bg-accent-red/20 transition-colors",onClick:ye,children:"Delete Workflow"})]})]})]})}function dx(n){return n===null?"null":n===void 0?"":typeof n=="string"?n:JSON.stringify(n)}function hx(n){if(!n||n==="")return"";if(n==="null")return null;if(n==="true")return!0;if(n==="false")return!1;try{return JSON.parse(n)}catch{return n}}function $_({className:n}){const{tree:r,source:i,opcodes:o,deleteNode:c,duplicateNode:f,updateNodeInput:h,updateReporterInput:m,deleteReporter:g,addDynamicBranch:p,removeDynamicBranch:y,addDynamicInput:b,removeDynamicInput:N}=it(),{closeNodeEditor:C}=Oe(),{selectedNodeId:v,selectedReporter:w,selectReporter:j,selectedStartNode:O,selectStartNode:_,clearSelection:W}=Zn(),[$,B]=k.useState(!1);if(O)return d.jsx(X_,{workflowName:O,onClose:()=>{_(null),C()}});const H=v?Al(v):null,I=H?F_(r,H):null,U=w?o.find(le=>le.name===w.opcode):I?o.find(le=>le.name===I.opcode):null,K=()=>{C(),W()},ee=()=>{H&&(navigator.clipboard.writeText(H),B(!0),setTimeout(()=>B(!1),2e3))},ue=()=>{if(w){const le=`${w.parentNodeId}.${w.inputPath.join(".")}`;navigator.clipboard.writeText(le),B(!0),setTimeout(()=>B(!1),2e3)}},oe=()=>{if(H){const le=i.split(`
`);for(let Se=0;Se<le.length;Se++)if(le[Se].includes(H+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Se+1}}));break}}},ie=()=>{if(I?.opcode==="workflow_call"){const le=I.inputs.WORKFLOW;if(le&&le.type==="literal"){const Se=le.value;Se&&(window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:Se}})),C())}}},fe=()=>{H&&H!=="start"&&Oe.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${H}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{c(H),C()}})},ae=()=>{H&&H!=="start"&&f(H)},R=()=>{j(null)},G=(le,Se)=>{if(w&&w.reporterNodeId&&m(w.reporterNodeId,le,Se)){const Be={...w.inputs};if(Se.startsWith("$"))Be[le]={type:"variable",name:Se.slice(1)};else try{const nt=JSON.parse(Se);Be[le]={type:"literal",value:nt}}catch{Be[le]={type:"literal",value:Se}}j({...w,inputs:Be})}},A=()=>{w&&Oe.getState().showConfirmDialog({title:"Detach Reporter",message:"Detach this reporter from its slot? The slot will be set to null. This action can be undone with Ctrl+Z.",confirmLabel:"Detach",variant:"danger",onConfirm:()=>{g(w.parentNodeId,w.inputPath),j(null)}})},P=()=>{if(w){const le=i.split(`
`);if(w.reporterNodeId){for(let Be=0;Be<le.length;Be++)if(le[Be].match(new RegExp(`^\\s+${w.reporterNodeId}:\\s*$`))){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Be+1}}));return}}const Se=w.inputPath[w.inputPath.length-1];let Me=!1;for(let Be=0;Be<le.length;Be++){const nt=le[Be];if(nt.includes(w.parentNodeId+":")&&(Me=!0),Me&&nt.includes(Se+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Be+1}}));break}}}},re=le=>{H&&p(H,le)},E=le=>{H&&y(H,le)},z=le=>{H&&b(H,le)},Z=le=>{H&&N(H,le)},ne=()=>{if(w&&w.opcode==="workflow_call"){const le=w.inputs.WORKFLOW;if(le&&le.type==="literal"&&typeof le.value=="string"){const Se=le.value;window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:Se}})),C()}}},he=le=>{w?.reporterNodeId&&b(w.reporterNodeId,le)},ye=le=>{w?.reporterNodeId&&N(w.reporterNodeId,le)};if(w)return d.jsx(W_,{reporter:w,parentNode:I,opcodeInfo:U,tree:r,copied:$,onCopyPath:ue,onBackToNode:R,onClose:K,onUpdateInput:G,onDetach:A,onFindInSource:P,onGoToDefinition:w.opcode==="workflow_call"?ne:void 0,onAddDynamicInput:w.reporterNodeId?he:void 0,onRemoveDynamicInput:w.reporterNodeId?ye:void 0,className:n});if(!I)return d.jsxs("div",{className:L(yi(),n),children:[d.jsxs("div",{className:bi(),children:[d.jsx("span",{className:vi(),children:"Node Editor"}),d.jsx("button",{className:wi(),onClick:K,children:""})]}),d.jsx("div",{className:wb(),children:d.jsx("p",{children:"Select a node to edit"})})]});const de=Jx(I.type),Ue=Fw[I.type]||"Node";return d.jsxs("div",{className:L(yi(),n),children:[d.jsxs("div",{className:bi(),children:[d.jsx("span",{className:vi(),children:"Node Editor"}),d.jsx("button",{className:wi(),onClick:K,children:""})]}),d.jsxs("div",{className:qf(),children:[d.jsxs("div",{className:Gf(),children:[d.jsx("div",{className:Xf(),style:{backgroundColor:de}}),d.jsxs("div",{className:$f(),children:[d.jsx("span",{className:Wf(),children:Ue}),d.jsx("h3",{className:Zf(),children:Ff(I.opcode)}),d.jsx("button",{className:Sb(),onClick:ee,title:"Copy node ID",children:$?" Copied!":`ID: ${I.id}`})]})]}),U?.description&&d.jsx("div",{className:Nb(),children:U.description}),d.jsxs("div",{className:Qf(),children:[d.jsx("label",{className:Kf(),children:"Opcode"}),d.jsx("input",{type:"text",value:I.opcode,readOnly:!0,className:ra()})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Inputs"}),Object.entries(I.inputs).length===0?d.jsx("p",{className:Tl(),children:"No inputs"}):Object.entries(I.inputs).map(([le,Se])=>d.jsx(zb,{name:ms(le,I.opcode,r,I.inputs),originalKey:le,value:Se,paramInfo:U?.parameters.find(Me=>Me.name.toUpperCase()===le),onUpdate:(Me,Be)=>h(H,Me,Be)},le))]}),I.opcode==="workflow_call"&&d.jsx("div",{className:Pt(),children:d.jsx("button",{className:Rb(),onClick:ie,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),U&&U.parameters.length>0&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Parameters"}),d.jsx("div",{className:Ab(),children:U.parameters.map(le=>d.jsxs("div",{className:_b(),children:[d.jsxs("span",{className:Ob(),children:[le.name,!le.required&&d.jsx("span",{className:Tb(),children:"?"})]}),d.jsx("span",{className:Mb(),children:le.type})]},le.name))})]}),(()=>{const le=Si(I.opcode),Se=le?.dynamic_branches,Me=le?.dynamic_inputs,Be=le?.branches&&le.branches.length>0;let nt=null;if(Se&&le?.branches)for(const we of le.branches){const wt=we.name.match(/^([A-Z]+)\d+$/);if(wt){nt=wt[1];break}}const gt=I.children.filter(we=>nt&&we.name.startsWith(nt)).map(we=>we.name),ce=Object.keys(I.inputs).filter(we=>/^ARG\d+$/.test(we)).sort((we,wt)=>{const qt=parseInt(we.replace("ARG","")),se=parseInt(wt.replace("ARG",""));return qt-se}),Re=I.children.length>0||Se;return d.jsxs(d.Fragment,{children:[Re&&Be&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Branches"}),I.children.length===0&&Se?d.jsx("p",{className:Tl(),children:"No branches connected"}):I.children.map((we,wt)=>{const se=nt&&we.name.startsWith(nt)&&gt.length>1;return d.jsxs("div",{className:Y_(),children:[d.jsx("span",{className:q_(),children:we.name}),d.jsxs("span",{className:G_(),children:[we.children.length," node(s)"]}),se&&d.jsx("button",{className:wf(),onClick:()=>E(we.name),title:`Remove ${we.name}`,children:""})]},wt)}),Se&&nt&&d.jsxs("button",{className:Sf(),onClick:()=>re(nt),children:["+ Add ",nt==="CATCH"?"Catch Handler":"Branch"]})]}),Me&&I.opcode==="workflow_call"&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Arguments"}),ce.length===0?d.jsx("p",{className:Tl(),children:"No arguments"}):ce.map(we=>d.jsxs("div",{className:jb(),children:[d.jsx("span",{className:Cb(),children:we}),d.jsx("button",{className:wf(),onClick:()=>Z(we),title:`Remove ${we}`,children:""})]},we)),d.jsx("button",{className:Sf(),onClick:()=>z("ARG"),children:"+ Add Argument"})]})]})})()]}),d.jsxs("div",{className:Db(),children:[d.jsx("button",{className:Sn(),onClick:oe,children:"Find in Source"}),d.jsx("button",{className:Sn(),onClick:ae,disabled:H==="start",title:H==="start"?"Cannot duplicate start node":"Duplicate node (Ctrl+D)",children:"Duplicate"}),d.jsx("button",{className:kb(),onClick:fe,disabled:H==="start",title:H==="start"?"Cannot delete start node":"Delete node (Del)",children:"Delete"})]})]})}function W_({reporter:n,parentNode:r,opcodeInfo:i,tree:o,copied:c,onCopyPath:f,onBackToNode:h,onClose:m,onUpdateInput:g,onDetach:p,onFindInSource:y,onGoToDefinition:b,onAddDynamicInput:N,onRemoveDynamicInput:C,className:v}){const w=Q_(n.opcode),j=K_(n.opcode),O=n.opcode==="workflow_call",_=Object.keys(n.inputs).filter(B=>/^ARG\d+$/.test(B)).sort((B,H)=>{const I=parseInt(B.replace("ARG","")),U=parseInt(H.replace("ARG",""));return I-U}),$=Si(n.opcode)?.dynamic_inputs;return d.jsxs("div",{className:L(yi(),v),children:[d.jsxs("div",{className:bi(),children:[d.jsx("span",{className:vi(),children:"Node Editor"}),d.jsx("button",{className:wi(),onClick:m,children:""})]}),d.jsxs("div",{className:qf(),children:[r&&d.jsxs("button",{className:B_(),onClick:h,children:[" Back to ",r.id]}),d.jsxs("div",{className:Gf(),children:[d.jsx("div",{className:Xf(),style:{backgroundColor:w}}),d.jsxs("div",{className:$f(),children:[d.jsx("span",{className:Wf(),children:j}),d.jsx("h3",{className:Zf(),children:Ff(n.opcode)}),d.jsx("button",{className:Sb(),onClick:f,title:"Copy reporter ID",children:c?" Copied!":`ID: ${n.reporterNodeId||n.inputPath.join(".")}`})]})]}),i?.description&&d.jsx("div",{className:Nb(),children:i.description}),d.jsxs("div",{className:Qf(),children:[d.jsx("label",{className:Kf(),children:"Opcode"}),d.jsx("input",{type:"text",value:n.opcode,readOnly:!0,className:ra()})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Inputs"}),Object.entries(n.inputs).length===0?d.jsx("p",{className:Tl(),children:"No inputs"}):Object.entries(n.inputs).map(([B,H])=>d.jsx(zb,{name:ms(B,n.opcode,o,n.inputs),originalKey:B,value:H,paramInfo:i?.parameters.find(I=>I.name.toUpperCase()===B),onUpdate:g},B))]}),O&&b&&d.jsx("div",{className:Pt(),children:d.jsx("button",{className:Rb(),onClick:b,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),i&&i.parameters.length>0&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Parameters"}),d.jsx("div",{className:Ab(),children:i.parameters.map(B=>d.jsxs("div",{className:_b(),children:[d.jsxs("span",{className:Ob(),children:[B.name,!B.required&&d.jsx("span",{className:Tb(),children:"?"})]}),d.jsx("span",{className:Mb(),children:B.type})]},B.name))})]}),$&&O&&N&&C&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:pn(),children:"Arguments"}),_.length===0?d.jsx("p",{className:Tl(),children:"No arguments"}):_.map(B=>d.jsxs("div",{className:jb(),children:[d.jsx("span",{className:Cb(),children:ms(B,n.opcode,o,n.inputs)}),d.jsx("button",{className:wf(),onClick:()=>C(B),title:`Remove ${B}`,children:""})]},B)),d.jsx("button",{className:Sf(),onClick:()=>N("ARG"),children:"+ Add Argument"})]})]}),d.jsxs("div",{className:Db(),children:[d.jsx("button",{className:Sn(),onClick:y,children:"Find in Source"}),d.jsx("button",{className:kb(),onClick:p,title:"Detach reporter from slot (replace with null)",children:"Detach"})]})]})}function zb({name:n,originalKey:r,value:i,paramInfo:o,onUpdate:c}){const f=r||n,[h,m]=k.useState(!1),[g,p]=k.useState(""),y=Z_(i),b=j=>{switch(j.type){case"literal":return typeof j.value=="string"?j.value:JSON.stringify(j.value);case"variable":return`$${j.name}`;default:return y}},N=()=>{(i.type==="literal"||i.type==="variable")&&(p(b(i)),m(!0))},C=()=>{c&&g!==b(i)&&c(f,g),m(!1)},v=j=>{j.key==="Enter"?C():j.key==="Escape"&&m(!1)},w=i.type==="literal"||i.type==="variable";return d.jsxs("div",{className:Qf(),children:[d.jsxs("label",{className:Kf(),children:[n,o&&d.jsx("span",{className:H_(),children:o.type})]}),h?d.jsx("input",{type:"text",className:oi(),value:g,onChange:j=>p(j.target.value),onBlur:C,onKeyDown:v,autoFocus:!0}):d.jsxs("div",{className:L(vf({editable:w}),"group"),onClick:N,title:w?"Click to edit":void 0,children:[d.jsx("span",{className:U_(),children:i.type}),d.jsx("span",{className:Eb(),children:y}),w&&d.jsx("span",{className:I_(),children:"Click to edit"})]})]})}function Z_(n){switch(n.type){case"literal":return typeof n.value=="string"?`"${n.value}"`:typeof n.value=="object"&&n.value!==null?JSON.stringify(n.value,null,2):String(n.value);case"variable":return`$${n.name}`;case"reporter":return`${Ff(n.opcode||"")}(...)`;case"workflow_call":return` ${n.name}`;case"branch":return` ${n.target}`;case"dict":return JSON.stringify(n.value,null,2);case"truncated":return n.display||"...";default:return"?"}}function Ff(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function Q_(n){return Px(n)}function K_(n){const r=Kw(n);return r?`${r.label} Reporter`:"Reporter"}function F_(n,r){if(!n)return null;function i(o){for(const c of o){if(c.id===r)return c;if(c.children)for(const f of c.children){const h=i(f.children);if(h)return h}}return null}for(const o of n.workflows||[]){const c=i(o.children||[]);if(c)return c;const f=i(o.orphans||[]);if(f)return f}return null}const J_=M("flex flex-col h-full"),P_=M("flex items-center justify-between px-4 py-4 border-b border-border-subtle"),eO=M("text-base font-semibold text-text-primary"),tO=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),nO=M("px-4 py-3 border-b border-border-subtle"),lO=M("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm focus:outline-none focus:border-accent-blue placeholder:text-text-muted"),aO=M("flex-1 overflow-y-auto py-2"),rO=M("px-4"),iO=M("text-text-muted text-center py-5 italic"),$o=M("border-b border-border-subtle"),Wo=M("w-full flex items-center gap-2 px-4 py-2.5 bg-transparent border-none cursor-pointer text-left text-text-primary transition-colors hover:bg-surface-2"),Zo=M("text-base"),Qo=M("flex-1 text-sm font-medium"),Ko=M("text-xs text-text-muted px-1.5 py-0.5 bg-border-subtle rounded-sm"),Fo=M("text-[0.7rem] text-text-muted"),Jo=M("py-1 pb-2 bg-surface-2"),oO=M("mx-2"),sO=M("w-full flex flex-col items-start gap-0.5 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-pointer mb-1 transition-all hover:border-accent-blue hover:translate-x-0.5"),cO=M("text-sm font-medium text-text-primary"),uO=M("text-[0.7rem] text-text-muted font-mono"),fO=M("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),dO=M("text-xs text-text-secondary mb-2 leading-relaxed"),hO=M("flex flex-wrap gap-1.5 items-center"),Lb=M("text-[0.7rem] text-text-muted uppercase tracking-wide"),mO=M("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),pO=M("text-text-muted"),gO=M("flex items-center gap-2 px-3 py-2 mx-2 mb-1 bg-surface-1 border border-border-subtle rounded-sm cursor-grab transition-all hover:border-accent-green hover:translate-x-0.5 active:cursor-grabbing"),xO=M("text-sm font-semibold text-accent-green font-mono"),yO=M("text-xs text-text-muted font-mono"),bO=M("text-[0.7rem] text-text-muted ml-auto"),vO=M("px-4 py-3 text-xs text-text-muted italic text-center"),wO=M("mx-2"),SO=M("w-full flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-grab mb-1 transition-all hover:border-accent-violet hover:translate-x-0.5 active:cursor-grabbing"),NO=M("text-sm font-semibold text-accent-violet font-mono"),EO=M("text-xs text-text-muted ml-auto"),jO=M("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),CO=M("flex flex-col gap-1 mb-2"),AO=M("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),_O=M("text-xs text-text-muted italic mb-2"),OO=M("w-full px-3 py-1.5 text-xs bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),TO=M("px-4 py-3 border-t border-border-subtle"),MO=M("text-xs text-text-muted text-center");function DO({className:n}){const{opcodes:r,tree:i}=it(),{togglePalette:o,setDraggingVariable:c,setDraggingWorkflowCall:f}=Oe(),[h,m]=k.useState(""),[g,p]=k.useState("variables"),y=Qw(),b=k.useMemo(()=>NE(i),[i]),N=k.useMemo(()=>{if(!i)return[];const w=[];for(const j of i.workflows)for(const[O,_]of Object.entries(j.variables))w.push({name:O,value:_,workflowName:j.name});return w},[i]),C=k.useMemo(()=>{const w={};for(const j of y)w[j.id]=[];w.other=[];for(const j of r)j.category&&w[j.category]?w[j.category].push(j):w.other.push(j);return w},[r,y]),v=k.useMemo(()=>{if(!h)return null;const w=h.toLowerCase();return r.filter(j=>j.name.toLowerCase().includes(w)||(j.description?.toLowerCase().includes(w)??!1))},[r,h]);return d.jsxs("div",{className:L(J_(),n),children:[d.jsxs("div",{className:P_(),children:[d.jsx("h2",{className:eO(),children:"Node Palette"}),d.jsx("button",{className:tO(),onClick:o,children:""})]}),d.jsx("div",{className:nO(),children:d.jsx("input",{type:"text",placeholder:"Search nodes...",value:h,onChange:w=>m(w.target.value),className:lO()})}),d.jsx("div",{className:aO(),children:v?d.jsx("div",{className:rO(),children:v.length===0?d.jsx("p",{className:iO(),children:"No nodes found"}):v.map(w=>d.jsx(rf,{opcode:w},w.name))}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:$o(),children:[d.jsxs("button",{className:Wo(),onClick:()=>p(g==="variables"?null:"variables"),style:{"--cat-color":"#22C55E"},children:[d.jsx("span",{className:Zo(),children:"$"}),d.jsx("span",{className:Qo(),children:"Variables"}),d.jsx("span",{className:Ko(),children:N.length}),d.jsx("span",{className:Fo(),children:g==="variables"?"":""})]}),g==="variables"&&d.jsx("div",{className:Jo(),children:N.length===0?d.jsx("div",{className:vO(),children:"No variables defined. Add variables in the Start Node editor."}):N.map(w=>d.jsx(kO,{name:w.name,value:w.value,workflowName:w.workflowName,onDragStart:c,onDragEnd:()=>c(null)},`${w.workflowName}-${w.name}`))})]}),b.length>0&&d.jsxs("div",{className:$o(),children:[d.jsxs("button",{className:Wo(),onClick:()=>p(g==="workflows"?null:"workflows"),style:{"--cat-color":"#E91E63"},children:[d.jsx("span",{className:Zo(),children:"fn"}),d.jsx("span",{className:Qo(),children:"Workflows"}),d.jsx("span",{className:Ko(),children:b.length}),d.jsx("span",{className:Fo(),children:g==="workflows"?"":""})]}),g==="workflows"&&d.jsx("div",{className:Jo(),children:b.map(w=>d.jsx(zO,{name:w.name,params:w.params,onDragStart:f},w.name))})]}),y.map(w=>d.jsxs("div",{className:$o(),children:[d.jsxs("button",{className:Wo(),onClick:()=>p(g===w.id?null:w.id),style:{"--cat-color":w.color},children:[d.jsx("span",{className:Zo(),children:w.icon}),d.jsx("span",{className:Qo(),children:w.label}),d.jsx("span",{className:Ko(),children:C[w.id].length}),d.jsx("span",{className:Fo(),children:g===w.id?"":""})]}),g===w.id&&d.jsx("div",{className:Jo(),children:C[w.id].map(j=>d.jsx(rf,{opcode:j},j.name))})]},w.id)),C.other.length>0&&d.jsxs("div",{className:$o(),children:[d.jsxs("button",{className:Wo(),onClick:()=>p(g==="other"?null:"other"),style:{"--cat-color":"#64748B"},children:[d.jsx("span",{className:Zo(),children:""}),d.jsx("span",{className:Qo(),children:"Other"}),d.jsx("span",{className:Ko(),children:C.other.length}),d.jsx("span",{className:Fo(),children:g==="other"?"":""})]}),g==="other"&&d.jsx("div",{className:Jo(),children:C.other.map(w=>d.jsx(rf,{opcode:w},w.name))})]})]})}),d.jsx("div",{className:TO(),children:d.jsx("p",{className:MO(),children:"Click to view details  Drag to canvas to add node"})})]})}function rf({opcode:n}){const[r,i]=k.useState(!1),{setDraggingOpcode:o,togglePalette:c}=Oe(),f=k.useRef(!1),h=k.useRef({x:0,y:0}),m=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),g=p=>{h.current={x:p.clientX,y:p.clientY},f.current=!1;const y=N=>{const C=Math.abs(N.clientX-h.current.x),v=Math.abs(N.clientY-h.current.y);!f.current&&(C>5||v>5)&&(f.current=!0,o(n),c())},b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)};return d.jsxs("div",{className:oO(),children:[d.jsxs("button",{className:sO(),onMouseDown:g,onClick:()=>{f.current||i(!r)},children:[d.jsx("span",{className:cO(),children:m}),d.jsx("span",{className:uO(),children:n.name})]}),r&&d.jsxs("div",{className:fO(),children:[n.description&&d.jsx("p",{className:dO(),children:n.description}),n.parameters.length>0&&d.jsxs("div",{className:hO(),children:[d.jsx("span",{className:Lb(),children:"Parameters:"}),n.parameters.map(p=>d.jsxs("span",{className:mO(),children:[p.name,!p.required&&"?",d.jsxs("span",{className:pO(),children:[": ",p.type]})]},p.name))]})]})]})}function kO({name:n,value:r,workflowName:i,onDragStart:o,onDragEnd:c}){const{togglePalette:f}=Oe(),h=k.useRef(!1),m=k.useRef({x:0,y:0}),g=RO(r),p=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=C=>{C.preventDefault();const v=Math.abs(C.clientX-m.current.x),w=Math.abs(C.clientY-m.current.y);!h.current&&(v>5||w>5)&&(h.current=!0,o({name:n,workflowName:i,fromX:0,fromY:0,toX:0,toY:0}),f())},N=()=>{h.current&&c(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)};return d.jsxs("div",{className:gO(),onMouseDown:p,children:[d.jsxs("span",{className:xO(),children:["$",n]}),d.jsx("span",{className:yO(),children:g}),i!=="main"&&d.jsxs("span",{className:bO(),children:["(",i,")"]})]})}function RO(n){if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="string")return n.length>15?`"${n.slice(0,15)}..."`:`"${n}"`;if(typeof n=="object"){const r=JSON.stringify(n);return r.length>15?r.slice(0,15)+"...":r}return String(n)}function zO({name:n,params:r,onDragStart:i}){const{togglePalette:o}=Oe(),[c,f]=k.useState(!1),h=k.useRef(!1),m=k.useRef({x:0,y:0}),g=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=C=>{C.preventDefault();const v=Math.abs(C.clientX-m.current.x),w=Math.abs(C.clientY-m.current.y);!h.current&&(v>5||w>5)&&(h.current=!0,i({workflowName:n,params:r}),o())},N=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)},p=y=>{y.stopPropagation(),window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:n}})),o()};return d.jsxs("div",{className:wO(),children:[d.jsxs("button",{className:SO(),onMouseDown:g,onClick:()=>{h.current||f(!c)},children:[d.jsx("span",{className:NO(),children:n}),d.jsx("span",{className:EO(),children:r.length===0?"(no params)":`(${r.length} params)`})]}),c&&d.jsxs("div",{className:jO(),children:[r.length>0?d.jsxs("div",{className:CO(),children:[d.jsx("span",{className:Lb(),children:"Parameters:"}),r.map((y,b)=>d.jsxs("span",{className:AO(),children:["ARG",b+1,": ",y]},y))]}):d.jsx("p",{className:_O(),children:"This workflow has no input parameters."}),d.jsx("button",{className:OO(),onClick:p,children:"Go to Definition"})]})]})}const mx=M("fixed pointer-events-none z-[10000] flex flex-col gap-1"),px=M("flex flex-col gap-0.5 px-4 py-3 bg-surface-1 border-2 border-accent-blue rounded-sm shadow-xl min-w-[120px]",{variants:{type:{opcode:"border-accent-blue",workflow:"border-[#E91E63]"}},defaultVariants:{type:"opcode"}}),gx=M("text-sm font-semibold text-text-primary"),xx=M("text-[0.7rem] text-text-muted font-mono"),yx=M("text-[0.7rem] text-accent-blue text-center font-medium");function bx(n){const r=document.querySelector("[data-canvas-container] > svg");if(!r)return"main";const{zoom:i,panX:o,panY:c,layoutGroups:f,canvasCenter:h}=Oe.getState();if(f.length===0)return"main";const m=r.getBoundingClientRect(),g=m.width,p=m.height,y=n.clientX-m.left,b=n.clientY-m.top,N=(y-o-g/2)/i+h.x,C=(b-c-p/2)/i+h.y;return sb(f,N,C)||"main"}function LO(){const{draggingOpcode:n,setDraggingOpcode:r,draggingWorkflowCall:i,setDraggingWorkflowCall:o,openNodeEditor:c}=Oe(),{addNode:f,addWorkflowCallNode:h}=it(),[m,g]=k.useState({x:0,y:0});if(k.useEffect(()=>{if(!i)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const C=N.target;if((C.closest("svg")!==null||C.closest('[class*="canvas"]')!==null)&&i){const w=bx(N);h(i.workflowName,i.params,w)&&c()}o(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[i,o,h,c]),k.useEffect(()=>{if(!n)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const C=N.target;if((C.closest("svg")!==null||C.closest('[class*="canvas"]')!==null)&&n){const w=bx(N);f(n,w)&&c()}r(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[n,r,f,c]),!n&&!i)return null;if(i)return d.jsxs("div",{className:L(mx()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:L(px({type:"workflow"})),children:[d.jsx("span",{className:L(gx()),children:i.workflowName}),d.jsx("span",{className:L(xx()),children:"workflow_call"})]}),d.jsx("div",{className:L(yx()),children:"Drop on canvas to add"})]});if(!n)return null;const p=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("div",{className:L(mx()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:L(px({type:"opcode"})),children:[d.jsx("span",{className:L(gx()),children:p}),d.jsx("span",{className:L(xx()),children:n.name})]}),d.jsx("div",{className:L(yx()),children:"Drop on canvas to add"})]})}function VO(){const n=Oe(r=>r.confirmDialog);return n?d.jsx(Mw,{isOpen:n.isOpen,title:n.title,message:n.message,confirmLabel:n.confirmLabel,cancelLabel:n.cancelLabel,variant:n.variant,onConfirm:n.onConfirm,onCancel:n.onCancel}):null}function BO(){const n=Oe(f=>f.createWorkflowModal),r=Oe(f=>f.hideCreateWorkflowModal),i=it(f=>f.tree),o=it(f=>f.addWorkflow),c=i?.workflows.map(f=>f.name)??[];return n?d.jsx(kw,{isOpen:n.isOpen,existingWorkflowNames:c,onConfirm:f=>{o(f.name,f.inputs,f.outputs,f.variables),r()},onCancel:r}):null}function HO(){const n=Oe(m=>m.extractWorkflowModal),r=Oe(m=>m.hideExtractWorkflowModal),i=it(m=>m.tree),o=it(m=>m.extractToWorkflow),c=Zn(m=>m.clearMultiSelection),f=Oe(m=>m.showConfirmDialog),h=i?.workflows.map(m=>m.name)??[];return n?d.jsx(e2,{isOpen:n.isOpen,existingWorkflowNames:h,nodeIds:n.nodeIds,suggestedInputs:n.suggestedInputs,suggestedOutputs:n.suggestedOutputs,onConfirm:m=>{const g=o(n.nodeIds,n.workflowName,m.name,m.inputs,m.outputs,m.variables);g.success?(c(),r()):f({title:"Extraction Failed",message:g.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}})},onCancel:r}):null}function UO(){const{setExamples:n,setOpcodes:r}=it(),i=ys();return zE(),VE(),k.useEffect(()=>{i.listOpcodes().then(r).catch(console.error),ry(i)&&i.listExamples().then(n).catch(console.error)},[n,r,i]),d.jsxs(d.Fragment,{children:[d.jsx(vE,{canvas:d.jsx(SC,{}),editor:d.jsx(BA,{}),executionPanel:d.jsx(k_,{}),nodeEditor:d.jsx($_,{}),palette:d.jsx(DO,{})}),d.jsx(LO,{}),d.jsx(VO,{}),d.jsx(BO,{}),d.jsx(HO,{})]})}function IO(){return{apiBaseUrl:"/api",wsUrl:void 0}}const vx=IO(),YO=KN({apiBaseUrl:vx.apiBaseUrl,wsUrl:vx.wsUrl,supportsExamples:!0,supportsWebSocket:!0});r1.createRoot(document.getElementById("root")).render(d.jsx(k.StrictMode,{children:d.jsx(v2,{children:d.jsx(S2,{provider:YO,children:d.jsx(UO,{})})})}));export{bb as a,zA as b,L as c,vb as d,yb as e,xb as f,d as j,k as r};
