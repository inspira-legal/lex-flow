(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function Iv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ku={exports:{}},Jr={};var Xp;function qv(){if(Xp)return Jr;Xp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:n,type:o,key:h,ref:c!==void 0?c:null,props:f}}return Jr.Fragment=r,Jr.jsx=i,Jr.jsxs=i,Jr}var Gp;function Xv(){return Gp||(Gp=1,ku.exports=qv()),ku.exports}var d=Xv(),Ru={exports:{}},Se={};var $p;function Gv(){if($p)return Se;$p=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function _(C,V,J){this.props=C,this.context=V,this.refs=j,this.updater=J||w}_.prototype.isReactComponent={},_.prototype.setState=function(C,V){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,V,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=_.prototype;function G(C,V,J){this.props=C,this.context=V,this.refs=j,this.updater=J||w}var I=G.prototype=new O;I.constructor=G,v(I,_.prototype),I.isPureReactComponent=!0;var R=Array.isArray;function W(){}var U={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function ee(C,V,J){var ae=J.ref;return{$$typeof:n,type:C,key:V,ref:ae!==void 0?ae:null,props:J}}function ie(C,V){return ee(C.type,V,C.props)}function ce(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ue(C){var V={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(J){return V[J]})}var se=/\/+/g;function Q(C,V){return typeof C=="object"&&C!==null&&C.key!=null?ue(""+C.key):V.toString(36)}function ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(W,W):(C.status="pending",C.then(function(V){C.status==="pending"&&(C.status="fulfilled",C.value=V)},function(V){C.status==="pending"&&(C.status="rejected",C.reason=V)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function A(C,V,J,ae,xe){var me=typeof C;(me==="undefined"||me==="boolean")&&(C=null);var ge=!1;if(C===null)ge=!0;else switch(me){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(C.$$typeof){case n:case r:ge=!0;break;case y:return ge=C._init,A(ge(C._payload),V,J,ae,xe)}}if(ge)return xe=xe(C),ge=ae===""?"."+Q(C,0):ae,R(xe)?(J="",ge!=null&&(J=ge.replace(se,"$&/")+"/"),A(xe,V,J,"",function(we){return we})):xe!=null&&(ce(xe)&&(xe=ie(xe,J+(xe.key==null||C&&C.key===xe.key?"":(""+xe.key).replace(se,"$&/")+"/")+ge)),V.push(xe)),1;ge=0;var He=ae===""?".":ae+":";if(R(C))for(var re=0;re<C.length;re++)ae=C[re],me=He+Q(ae,re),ge+=A(ae,V,J,me,xe);else if(re=E(C),typeof re=="function")for(C=re.call(C),re=0;!(ae=C.next()).done;)ae=ae.value,me=He+Q(ae,re++),ge+=A(ae,V,J,me,xe);else if(me==="object"){if(typeof C.then=="function")return A(ne(C),V,J,ae,xe);throw V=String(C),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ge}function k(C,V,J){if(C==null)return C;var ae=[],xe=0;return A(C,ae,"","",function(me){return V.call(J,me,xe++)}),ae}function H(C){if(C._status===-1){var V=C._result;V=V(),V.then(function(J){(C._status===0||C._status===-1)&&(C._status=1,C._result=J)},function(J){(C._status===0||C._status===-1)&&(C._status=2,C._result=J)}),C._status===-1&&(C._status=0,C._result=V)}if(C._status===1)return C._result.default;throw C._result}var le=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},F={map:k,forEach:function(C,V,J){k(C,function(){V.apply(this,arguments)},J)},count:function(C){var V=0;return k(C,function(){V++}),V},toArray:function(C){return k(C,function(V){return V})||[]},only:function(C){if(!ce(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Se.Activity=b,Se.Children=F,Se.Component=_,Se.Fragment=i,Se.Profiler=c,Se.PureComponent=G,Se.StrictMode=o,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Se.__COMPILER_RUNTIME={__proto__:null,c:function(C){return U.H.useMemoCache(C)}},Se.cache=function(C){return function(){return C.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(C,V,J){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ae=v({},C.props),xe=C.key;if(V!=null)for(me in V.key!==void 0&&(xe=""+V.key),V)!Y.call(V,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&V.ref===void 0||(ae[me]=V[me]);var me=arguments.length-2;if(me===1)ae.children=J;else if(1<me){for(var ge=Array(me),He=0;He<me;He++)ge[He]=arguments[He+2];ae.children=ge}return ee(C.type,xe,ae)},Se.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Se.createElement=function(C,V,J){var ae,xe={},me=null;if(V!=null)for(ae in V.key!==void 0&&(me=""+V.key),V)Y.call(V,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(xe[ae]=V[ae]);var ge=arguments.length-2;if(ge===1)xe.children=J;else if(1<ge){for(var He=Array(ge),re=0;re<ge;re++)He[re]=arguments[re+2];xe.children=He}if(C&&C.defaultProps)for(ae in ge=C.defaultProps,ge)xe[ae]===void 0&&(xe[ae]=ge[ae]);return ee(C,me,xe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(C){return{$$typeof:m,render:C}},Se.isValidElement=ce,Se.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:H}},Se.memo=function(C,V){return{$$typeof:p,type:C,compare:V===void 0?null:V}},Se.startTransition=function(C){var V=U.T,J={};U.T=J;try{var ae=C(),xe=U.S;xe!==null&&xe(J,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(W,le)}catch(me){le(me)}finally{V!==null&&J.types!==null&&(V.types=J.types),U.T=V}},Se.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Se.use=function(C){return U.H.use(C)},Se.useActionState=function(C,V,J){return U.H.useActionState(C,V,J)},Se.useCallback=function(C,V){return U.H.useCallback(C,V)},Se.useContext=function(C){return U.H.useContext(C)},Se.useDebugValue=function(){},Se.useDeferredValue=function(C,V){return U.H.useDeferredValue(C,V)},Se.useEffect=function(C,V){return U.H.useEffect(C,V)},Se.useEffectEvent=function(C){return U.H.useEffectEvent(C)},Se.useId=function(){return U.H.useId()},Se.useImperativeHandle=function(C,V,J){return U.H.useImperativeHandle(C,V,J)},Se.useInsertionEffect=function(C,V){return U.H.useInsertionEffect(C,V)},Se.useLayoutEffect=function(C,V){return U.H.useLayoutEffect(C,V)},Se.useMemo=function(C,V){return U.H.useMemo(C,V)},Se.useOptimistic=function(C,V){return U.H.useOptimistic(C,V)},Se.useReducer=function(C,V,J){return U.H.useReducer(C,V,J)},Se.useRef=function(C){return U.H.useRef(C)},Se.useState=function(C){return U.H.useState(C)},Se.useSyncExternalStore=function(C,V,J){return U.H.useSyncExternalStore(C,V,J)},Se.useTransition=function(){return U.H.useTransition()},Se.version="19.2.3",Se}var Wp;function bf(){return Wp||(Wp=1,Ru.exports=Gv()),Ru.exports}var z=bf();const bn=Iv(z);var zu={exports:{}},Pr={},Lu={exports:{}},Vu={};var Zp;function $v(){return Zp||(Zp=1,(function(n){function r(A,k){var H=A.length;A.push(k);e:for(;0<H;){var le=H-1>>>1,F=A[le];if(0<c(F,k))A[le]=k,A[H]=F,H=le;else break e}}function i(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var k=A[0],H=A.pop();if(H!==k){A[0]=H;e:for(var le=0,F=A.length,C=F>>>1;le<C;){var V=2*(le+1)-1,J=A[V],ae=V+1,xe=A[ae];if(0>c(J,H))ae<F&&0>c(xe,J)?(A[le]=xe,A[ae]=H,le=ae):(A[le]=J,A[V]=H,le=V);else if(ae<F&&0>c(xe,H))A[le]=xe,A[ae]=H,le=ae;else break e}}return k}function c(A,k){var H=A.sortIndex-k.sortIndex;return H!==0?H:A.id-k.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],y=1,b=null,N=3,E=!1,w=!1,v=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function I(A){for(var k=i(p);k!==null;){if(k.callback===null)o(p);else if(k.startTime<=A)o(p),k.sortIndex=k.expirationTime,r(g,k);else break;k=i(p)}}function R(A){if(v=!1,I(A),!w)if(i(g)!==null)w=!0,W||(W=!0,ue());else{var k=i(p);k!==null&&ne(R,k.startTime-A)}}var W=!1,U=-1,Y=5,ee=-1;function ie(){return j?!0:!(n.unstable_now()-ee<Y)}function ce(){if(j=!1,W){var A=n.unstable_now();ee=A;var k=!0;try{e:{w=!1,v&&(v=!1,O(U),U=-1),E=!0;var H=N;try{t:{for(I(A),b=i(g);b!==null&&!(b.expirationTime>A&&ie());){var le=b.callback;if(typeof le=="function"){b.callback=null,N=b.priorityLevel;var F=le(b.expirationTime<=A);if(A=n.unstable_now(),typeof F=="function"){b.callback=F,I(A),k=!0;break t}b===i(g)&&o(g),I(A)}else o(g);b=i(g)}if(b!==null)k=!0;else{var C=i(p);C!==null&&ne(R,C.startTime-A),k=!1}}break e}finally{b=null,N=H,E=!1}k=void 0}}finally{k?ue():W=!1}}}var ue;if(typeof G=="function")ue=function(){G(ce)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Q=se.port2;se.port1.onmessage=ce,ue=function(){Q.postMessage(null)}}else ue=function(){_(ce,0)};function ne(A,k){U=_(function(){A(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(A){switch(N){case 1:case 2:case 3:var k=3;break;default:k=N}var H=N;N=k;try{return A()}finally{N=H}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(A,k){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=N;N=A;try{return k()}finally{N=H}},n.unstable_scheduleCallback=function(A,k,H){var le=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?le+H:le):H=le,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=H+F,A={id:y++,callback:k,priorityLevel:A,startTime:H,expirationTime:F,sortIndex:-1},H>le?(A.sortIndex=H,r(p,A),i(g)===null&&A===i(p)&&(v?(O(U),U=-1):v=!0,ne(R,H-le))):(A.sortIndex=F,r(g,A),w||E||(w=!0,W||(W=!0,ue()))),A},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function(A){var k=N;return function(){var H=N;N=k;try{return A.apply(this,arguments)}finally{N=H}}}})(Vu)),Vu}var Qp;function Wv(){return Qp||(Qp=1,Lu.exports=$v()),Lu.exports}var Bu={exports:{}},Ot={};var Kp;function Zv(){if(Kp)return Ot;Kp=1;var n=bf();function r(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ot.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return f(g,p,null,y)},Ot.flushSync=function(g){var p=h.T,y=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=y,o.d.f()}},Ot.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},Ot.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Ot.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:E}):y==="script"&&o.d.X(g,{crossOrigin:b,integrity:N,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ot.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},Ot.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);o.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ot.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},Ot.requestFormReset=function(g){o.d.r(g)},Ot.unstable_batchedUpdates=function(g,p){return g(p)},Ot.useFormState=function(g,p,y){return h.H.useFormState(g,p,y)},Ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ot.version="19.2.3",Ot}var Fp;function mx(){if(Fp)return Bu.exports;Fp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Bu.exports=Zv(),Bu.exports}var Jp;function Qv(){if(Jp)return Pr;Jp=1;var n=Wv(),r=bf(),i=mx();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var u=s.alternate;if(u===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===l)return g(s),e;if(u===a)return g(s),t;u=u.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=u;else{for(var x=!1,S=s.child;S;){if(S===l){x=!0,l=s,a=u;break}if(S===a){x=!0,a=s,l=u;break}S=S.sibling}if(!x){for(S=u.child;S;){if(S===l){x=!0,l=u,a=s;break}if(S===a){x=!0,a=u,l=s;break}S=S.sibling}if(!x)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),G=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case _:return"Profiler";case j:return"StrictMode";case R:return"Suspense";case W:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case G:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return t=e.displayName||null,t!==null?t:Q(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return Q(e(t))}catch{}}return null}var ne=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},le=[],F=-1;function C(e){return{current:e}}function V(e){0>F||(e.current=le[F],le[F]=null,F--)}function J(e,t){F++,le[F]=e.current,e.current=t}var ae=C(null),xe=C(null),me=C(null),ge=C(null);function He(e,t){switch(J(me,t),J(xe,e),J(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hp(t),e=mp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ae),J(ae,e)}function re(){V(ae),V(xe),V(me)}function we(e){e.memoizedState!==null&&J(ge,e);var t=ae.current,l=mp(t,e.type);t!==l&&(J(xe,e),J(ae,l))}function qe(e){xe.current===e&&(V(ae),V(xe)),ge.current===e&&(V(ge),Zr._currentValue=H)}var Ve,rt;function _t(e){if(Ve===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Ve=t&&t[1]||"",rt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+e+rt}var un=!1;function Nn(e,t){if(!e||un)return"";un=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Z){var $=Z}Reflect.construct(e,[],te)}else{try{te.call()}catch(Z){$=Z}e.call(te.prototype)}}else{try{throw Error()}catch(Z){$=Z}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),x=u[0],S=u[1];if(x&&S){var T=x.split(`
`),X=S.split(`
`);for(s=a=0;a<T.length&&!T[a].includes("DetermineComponentFrameRoot");)a++;for(;s<X.length&&!X[s].includes("DetermineComponentFrameRoot");)s++;if(a===T.length||s===X.length)for(a=T.length-1,s=X.length-1;1<=a&&0<=s&&T[a]!==X[s];)s--;for(;1<=a&&0<=s;a--,s--)if(T[a]!==X[s]){if(a!==1||s!==1)do if(a--,s--,0>s||T[a]!==X[s]){var K=`
`+T[a].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=a&&0<=s);break}}}finally{un=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?_t(l):""}function Ae(e,t){switch(e.tag){case 26:case 27:case 5:return _t(e.type);case 16:return _t("Lazy");case 13:return e.child!==t&&t!==null?_t("Suspense Fallback"):_t("Suspense");case 19:return _t("SuspenseList");case 0:case 15:return Nn(e.type,!1);case 11:return Nn(e.type.render,!1);case 1:return Nn(e.type,!0);case 31:return _t("Activity");default:return""}}function yt(e){try{var t="",l=null;do t+=Ae(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var oe=Object.prototype.hasOwnProperty,Ne=n.unstable_scheduleCallback,Qe=n.unstable_cancelCallback,Ze=n.unstable_shouldYield,et=n.unstable_requestPaint,tt=n.unstable_now,Ol=n.unstable_getCurrentPriorityLevel,Zn=n.unstable_ImmediatePriority,aa=n.unstable_UserBlockingPriority,Qn=n.unstable_NormalPriority,ir=n.unstable_LowPriority,ra=n.unstable_IdlePriority,bs=n.log,vs=n.unstable_setDisableYieldValue,Ee=null,Ue=null;function ct(e){if(typeof bs=="function"&&vs(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Ee,e)}catch{}}var Pe=Math.clz32?Math.clz32:ia,Tl=Math.log,Ml=Math.LN2;function ia(e){return e>>>=0,e===0?32:31-(Tl(e)/Ml|0)|0}var Dl=256,kl=262144,Si=4194304;function Rl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ni(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,u=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=a&134217727;return S!==0?(a=S&~u,a!==0?s=Rl(a):(x&=S,x!==0?s=Rl(x):l||(l=S&~e,l!==0&&(s=Rl(l))))):(S=a&~u,S!==0?s=Rl(S):x!==0?s=Rl(x):l||(l=a&~e,l!==0&&(s=Rl(l)))),s===0?0:t!==0&&t!==s&&(t&u)===0&&(u=s&-s,l=t&-t,u>=l||u===32&&(l&4194048)!==0)?t:s}function or(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function O0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zf(){var e=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),e}function ws(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function sr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function T0(e,t,l,a,s,u){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,T=e.expirationTimes,X=e.hiddenUpdates;for(l=x&~l;0<l;){var K=31-Pe(l),te=1<<K;S[K]=0,T[K]=-1;var $=X[K];if($!==null)for(X[K]=null,K=0;K<$.length;K++){var Z=$[K];Z!==null&&(Z.lane&=-536870913)}l&=~te}a!==0&&Qf(e,a,0),u!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=u&~(x&~t))}function Qf(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Pe(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Kf(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Pe(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function Ff(e,t){var l=t&-t;return l=(l&42)!==0?1:Ss(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ns(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jf(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Vp(e.type))}function Pf(e,t){var l=k.p;try{return k.p=e,t()}finally{k.p=l}}var Kn=Math.random().toString(36).slice(2),St="__reactFiber$"+Kn,kt="__reactProps$"+Kn,oa="__reactContainer$"+Kn,Es="__reactEvents$"+Kn,M0="__reactListeners$"+Kn,D0="__reactHandles$"+Kn,ed="__reactResources$"+Kn,cr="__reactMarker$"+Kn;function js(e){delete e[St],delete e[kt],delete e[Es],delete e[M0],delete e[D0]}function sa(e){var t=e[St];if(t)return t;for(var l=e.parentNode;l;){if(t=l[oa]||l[St]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=wp(e);e!==null;){if(l=e[St])return l;e=wp(e)}return t}e=l,l=e.parentNode}return null}function ca(e){if(e=e[St]||e[oa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ur(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ua(e){var t=e[ed];return t||(t=e[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[cr]=!0}var td=new Set,nd={};function zl(e,t){fa(e,t),fa(e+"Capture",t)}function fa(e,t){for(nd[e]=t,e=0;e<t.length;e++)td.add(t[e])}var k0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ld={},ad={};function R0(e){return oe.call(ad,e)?!0:oe.call(ld,e)?!1:k0.test(e)?ad[e]=!0:(ld[e]=!0,!1)}function Ei(e,t,l){if(R0(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function ji(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function En(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z0(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(x){l=""+x,u.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){if(!e._valueTracker){var t=rd(e)?"checked":"value";e._valueTracker=z0(e,t,""+e[t])}}function id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=rd(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var L0=/[\n"\\]/g;function Pt(e){return e.replace(L0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function As(e,t,l,a,s,u,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Jt(t)):e.value!==""+Jt(t)&&(e.value=""+Jt(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?_s(e,x,Jt(t)):l!=null?_s(e,x,Jt(l)):a!=null&&e.removeAttribute("value"),s==null&&u!=null&&(e.defaultChecked=!!u),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Jt(S):e.removeAttribute("name")}function od(e,t,l,a,s,u,x,S){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||l!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Cs(e);return}l=l!=null?""+Jt(l):"",t=t!=null?""+Jt(t):l,S||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=S?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Cs(e)}function _s(e,t,l){t==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function da(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Jt(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function sd(e,t,l){if(t!=null&&(t=""+Jt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Jt(l):""}function cd(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(ne(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Jt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Cs(e)}function ha(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var V0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ud(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||V0.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function fd(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&ud(e,s,a)}else for(var u in t)t.hasOwnProperty(u)&&ud(e,u,t[u])}function Os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ai(e){return H0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Ts=null;function Ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,pa=null;function dd(e){var t=ca(e);if(t&&(e=t.stateNode)){var l=e[kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(As(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[kt]||null;if(!s)throw Error(o(90));As(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&id(a)}break e;case"textarea":sd(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&da(e,!!l.multiple,t,!1)}}}var Ds=!1;function hd(e,t,l){if(Ds)return e(t,l);Ds=!0;try{var a=e(t);return a}finally{if(Ds=!1,(ma!==null||pa!==null)&&(po(),ma&&(t=ma,e=pa,pa=ma=null,dd(t),e)))for(t=0;t<e.length;t++)dd(e[t])}}function fr(e,t){var l=e.stateNode;if(l===null)return null;var a=l[kt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(Cn)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){ks=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{ks=!1}var Fn=null,Rs=null,_i=null;function md(){if(_i)return _i;var e,t=Rs,l=t.length,a,s="value"in Fn?Fn.value:Fn.textContent,u=s.length;for(e=0;e<l&&t[e]===s[e];e++);var x=l-e;for(a=1;a<=x&&t[l-a]===s[u-a];a++);return _i=s.slice(e,1<a?1-a:void 0)}function Oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ti(){return!0}function pd(){return!1}function Rt(e){function t(l,a,s,u,x){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(u):u[S]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ti:pd,this.isPropagationStopped=pd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),t}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Rt(Ll),hr=b({},Ll,{view:0,detail:0}),U0=Rt(hr),zs,Ls,mr,Di=b({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(zs=e.screenX-mr.screenX,Ls=e.screenY-mr.screenY):Ls=zs=0,mr=e),zs)},movementY:function(e){return"movementY"in e?e.movementY:Ls}}),gd=Rt(Di),Y0=b({},Di,{dataTransfer:0}),I0=Rt(Y0),q0=b({},hr,{relatedTarget:0}),Vs=Rt(q0),X0=b({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),G0=Rt(X0),$0=b({},Ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),W0=Rt($0),Z0=b({},Ll,{data:0}),xd=Rt(Z0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F0[e])?!!t[e]:!1}function Bs(){return J0}var P0=b({},hr,{key:function(e){if(e.key){var t=Q0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(e){return e.type==="keypress"?Oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eb=Rt(P0),tb=b({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yd=Rt(tb),nb=b({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),lb=Rt(nb),ab=b({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),rb=Rt(ab),ib=b({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ob=Rt(ib),sb=b({},Ll,{newState:0,oldState:0}),cb=Rt(sb),ub=[9,13,27,32],Hs=Cn&&"CompositionEvent"in window,pr=null;Cn&&"documentMode"in document&&(pr=document.documentMode);var fb=Cn&&"TextEvent"in window&&!pr,bd=Cn&&(!Hs||pr&&8<pr&&11>=pr),vd=" ",wd=!1;function Sd(e,t){switch(e){case"keyup":return ub.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function db(e,t){switch(e){case"compositionend":return Nd(t);case"keypress":return t.which!==32?null:(wd=!0,vd);case"textInput":return e=t.data,e===vd&&wd?null:e;default:return null}}function hb(e,t){if(ga)return e==="compositionend"||!Hs&&Sd(e,t)?(e=md(),_i=Rs=Fn=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bd&&t.locale!=="ko"?null:t.data;default:return null}}var mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mb[e.type]:t==="textarea"}function jd(e,t,l,a){ma?pa?pa.push(a):pa=[a]:ma=a,t=So(t,"onChange"),0<t.length&&(l=new Mi("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var gr=null,xr=null;function pb(e){op(e,0)}function ki(e){var t=ur(e);if(id(t))return e}function Cd(e,t){if(e==="change")return t}var Ad=!1;if(Cn){var Us;if(Cn){var Ys="oninput"in document;if(!Ys){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Ys=typeof _d.oninput=="function"}Us=Ys}else Us=!1;Ad=Us&&(!document.documentMode||9<document.documentMode)}function Od(){gr&&(gr.detachEvent("onpropertychange",Td),xr=gr=null)}function Td(e){if(e.propertyName==="value"&&ki(xr)){var t=[];jd(t,xr,e,Ms(e)),hd(pb,t)}}function gb(e,t,l){e==="focusin"?(Od(),gr=t,xr=l,gr.attachEvent("onpropertychange",Td)):e==="focusout"&&Od()}function xb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(xr)}function yb(e,t){if(e==="click")return ki(t)}function bb(e,t){if(e==="input"||e==="change")return ki(t)}function vb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:vb;function yr(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!oe.call(t,s)||!It(e[s],t[s]))return!1}return!0}function Md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dd(e,t){var l=Md(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Md(l)}}function kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ci(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Ci(e.document)}return t}function Is(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var wb=Cn&&"documentMode"in document&&11>=document.documentMode,xa=null,qs=null,br=null,Xs=!1;function zd(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xs||xa==null||xa!==Ci(a)||(a=xa,"selectionStart"in a&&Is(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),br&&yr(br,a)||(br=a,a=So(qs,"onSelect"),0<a.length&&(t=new Mi("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=xa)))}function Vl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ya={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionrun:Vl("Transition","TransitionRun"),transitionstart:Vl("Transition","TransitionStart"),transitioncancel:Vl("Transition","TransitionCancel"),transitionend:Vl("Transition","TransitionEnd")},Gs={},Ld={};Cn&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Bl(e){if(Gs[e])return Gs[e];if(!ya[e])return e;var t=ya[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Ld)return Gs[e]=t[l];return e}var Vd=Bl("animationend"),Bd=Bl("animationiteration"),Hd=Bl("animationstart"),Sb=Bl("transitionrun"),Nb=Bl("transitionstart"),Eb=Bl("transitioncancel"),Ud=Bl("transitionend"),Yd=new Map,$s="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$s.push("scrollEnd");function fn(e,t){Yd.set(e,t),zl(t,[e])}var Ri=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},en=[],ba=0,Ws=0;function zi(){for(var e=ba,t=Ws=ba=0;t<e;){var l=en[t];en[t++]=null;var a=en[t];en[t++]=null;var s=en[t];en[t++]=null;var u=en[t];if(en[t++]=null,a!==null&&s!==null){var x=a.pending;x===null?s.next=s:(s.next=x.next,x.next=s),a.pending=s}u!==0&&Id(l,s,u)}}function Li(e,t,l,a){en[ba++]=e,en[ba++]=t,en[ba++]=l,en[ba++]=a,Ws|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Zs(e,t,l,a){return Li(e,t,l,a),Vi(e)}function Hl(e,t){return Li(e,null,null,t),Vi(e)}function Id(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,u=e.return;u!==null;)u.childLanes|=l,a=u.alternate,a!==null&&(a.childLanes|=l),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(s=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,s&&t!==null&&(s=31-Pe(l),e=u.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),u):null}function Vi(e){if(50<Yr)throw Yr=0,lu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var va={};function jb(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,l,a){return new jb(e,t,l,a)}function Qs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var l=e.alternate;return l===null?(l=qt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function qd(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bi(e,t,l,a,s,u){var x=0;if(a=e,typeof e=="function")Qs(e)&&(x=1);else if(typeof e=="string")x=Tv(e,l,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=qt(31,l,t,s),e.elementType=ee,e.lanes=u,e;case v:return Ul(l.children,s,u,t);case j:x=8,s|=24;break;case _:return e=qt(12,l,t,s|2),e.elementType=_,e.lanes=u,e;case R:return e=qt(13,l,t,s),e.elementType=R,e.lanes=u,e;case W:return e=qt(19,l,t,s),e.elementType=W,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:x=10;break e;case O:x=9;break e;case I:x=11;break e;case U:x=14;break e;case Y:x=16,a=null;break e}x=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=qt(x,l,t,s),t.elementType=e,t.type=a,t.lanes=u,t}function Ul(e,t,l,a){return e=qt(7,e,a,t),e.lanes=l,e}function Ks(e,t,l){return e=qt(6,e,null,t),e.lanes=l,e}function Xd(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function Fs(e,t,l){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gd=new WeakMap;function tn(e,t){if(typeof e=="object"&&e!==null){var l=Gd.get(e);return l!==void 0?l:(t={value:e,source:t,stack:yt(t)},Gd.set(e,t),t)}return{value:e,source:t,stack:yt(t)}}var wa=[],Sa=0,Hi=null,vr=0,nn=[],ln=0,Jn=null,pn=1,gn="";function _n(e,t){wa[Sa++]=vr,wa[Sa++]=Hi,Hi=e,vr=t}function $d(e,t,l){nn[ln++]=pn,nn[ln++]=gn,nn[ln++]=Jn,Jn=e;var a=pn;e=gn;var s=32-Pe(a)-1;a&=~(1<<s),l+=1;var u=32-Pe(t)+s;if(30<u){var x=s-s%5;u=(a&(1<<x)-1).toString(32),a>>=x,s-=x,pn=1<<32-Pe(t)+s|l<<s|a,gn=u+e}else pn=1<<u|l<<s|a,gn=e}function Js(e){e.return!==null&&(_n(e,1),$d(e,1,0))}function Ps(e){for(;e===Hi;)Hi=wa[--Sa],wa[Sa]=null,vr=wa[--Sa],wa[Sa]=null;for(;e===Jn;)Jn=nn[--ln],nn[ln]=null,gn=nn[--ln],nn[ln]=null,pn=nn[--ln],nn[ln]=null}function Wd(e,t){nn[ln++]=pn,nn[ln++]=gn,nn[ln++]=Jn,pn=t.id,gn=t.overflow,Jn=e}var Nt=null,Ke=null,Re=!1,Pn=null,an=!1,ec=Error(o(519));function el(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wr(tn(t,e)),ec}function Zd(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[St]=e,t[kt]=a,l){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(l=0;l<qr.length;l++)Me(qr[l],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),od(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),cd(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||fp(t.textContent,l)?(a.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),a.onScroll!=null&&Me("scroll",t),a.onScrollEnd!=null&&Me("scrollend",t),a.onClick!=null&&(t.onclick=jn),t=!0):t=!1,t||el(e,!0)}function Qd(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:Nt=Nt.return}}function Na(e){if(e!==Nt)return!1;if(!Re)return Qd(e),Re=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||yu(e.type,e.memoizedProps)),l=!l),l&&Ke&&el(e),Qd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=vp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=vp(e)}else t===27?(t=Ke,ml(e.type)?(e=Nu,Nu=null,Ke=e):Ke=t):Ke=Nt?on(e.stateNode.nextSibling):null;return!0}function Yl(){Ke=Nt=null,Re=!1}function tc(){var e=Pn;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),Pn=null),e}function wr(e){Pn===null?Pn=[e]:Pn.push(e)}var nc=C(null),Il=null,On=null;function tl(e,t,l){J(nc,t._currentValue),t._currentValue=l}function Tn(e){e._currentValue=nc.current,V(nc)}function lc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function ac(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){var x=s.child;u=u.firstContext;e:for(;u!==null;){var S=u;u=s;for(var T=0;T<t.length;T++)if(S.context===t[T]){u.lanes|=l,S=u.alternate,S!==null&&(S.lanes|=l),lc(u.return,l,e),a||(x=null);break e}u=S.next}}else if(s.tag===18){if(x=s.return,x===null)throw Error(o(341));x.lanes|=l,u=x.alternate,u!==null&&(u.lanes|=l),lc(x,l,e),x=null}else x=s.child;if(x!==null)x.return=s;else for(x=s;x!==null;){if(x===e){x=null;break}if(s=x.sibling,s!==null){s.return=x.return,x=s;break}x=x.return}s=x}}function Ea(e,t,l,a){e=null;for(var s=t,u=!1;s!==null;){if(!u){if((s.flags&524288)!==0)u=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var x=s.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var S=s.type;It(s.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(s===ge.current){if(x=s.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Zr):e=[Zr])}s=s.return}e!==null&&ac(t,e,l,a),t.flags|=262144}function Ui(e){for(e=e.firstContext;e!==null;){if(!It(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ql(e){Il=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return Kd(Il,e)}function Yi(e,t){return Il===null&&ql(e),Kd(e,t)}function Kd(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},On===null){if(e===null)throw Error(o(308));On=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else On=On.next=t;return l}var Cb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Ab=n.unstable_scheduleCallback,_b=n.unstable_NormalPriority,ut={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rc(){return{controller:new Cb,data:new Map,refCount:0}}function Sr(e){e.refCount--,e.refCount===0&&Ab(_b,function(){e.controller.abort()})}var Nr=null,ic=0,ja=0,Ca=null;function Ob(e,t){if(Nr===null){var l=Nr=[];ic=0,ja=cu(),Ca={status:"pending",value:void 0,then:function(a){l.push(a)}}}return ic++,t.then(Fd,Fd),t}function Fd(){if(--ic===0&&Nr!==null){Ca!==null&&(Ca.status="fulfilled");var e=Nr;Nr=null,ja=0,Ca=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Tb(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var Jd=A.S;A.S=function(e,t){zm=tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ob(e,t),Jd!==null&&Jd(e,t)};var Xl=C(null);function oc(){var e=Xl.current;return e!==null?e:We.pooledCache}function Ii(e,t){t===null?J(Xl,Xl.current):J(Xl,t.pool)}function Pd(){var e=oc();return e===null?null:{parent:ut._currentValue,pool:e}}var Aa=Error(o(460)),sc=Error(o(474)),qi=Error(o(542)),Xi={then:function(){}};function eh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function th(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(jn,jn),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e;default:if(typeof t.status=="string")t.then(jn,jn);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lh(e),e}throw $l=t,Aa}}function Gl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($l=l,Aa):l}}var $l=null;function nh(){if($l===null)throw Error(o(459));var e=$l;return $l=null,e}function lh(e){if(e===Aa||e===qi)throw Error(o(483))}var _a=null,Er=0;function Gi(e){var t=Er;return Er+=1,_a===null&&(_a=[]),th(_a,e,t)}function jr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $i(e,t){throw t.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ah(e){function t(B,D){if(e){var q=B.deletions;q===null?(B.deletions=[D],B.flags|=16):q.push(D)}}function l(B,D){if(!e)return null;for(;D!==null;)t(B,D),D=D.sibling;return null}function a(B){for(var D=new Map;B!==null;)B.key!==null?D.set(B.key,B):D.set(B.index,B),B=B.sibling;return D}function s(B,D){return B=An(B,D),B.index=0,B.sibling=null,B}function u(B,D,q){return B.index=q,e?(q=B.alternate,q!==null?(q=q.index,q<D?(B.flags|=67108866,D):q):(B.flags|=67108866,D)):(B.flags|=1048576,D)}function x(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function S(B,D,q,P){return D===null||D.tag!==6?(D=Ks(q,B.mode,P),D.return=B,D):(D=s(D,q),D.return=B,D)}function T(B,D,q,P){var be=q.type;return be===v?K(B,D,q.props.children,P,q.key):D!==null&&(D.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Y&&Gl(be)===D.type)?(D=s(D,q.props),jr(D,q),D.return=B,D):(D=Bi(q.type,q.key,q.props,null,B.mode,P),jr(D,q),D.return=B,D)}function X(B,D,q,P){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=Fs(q,B.mode,P),D.return=B,D):(D=s(D,q.children||[]),D.return=B,D)}function K(B,D,q,P,be){return D===null||D.tag!==7?(D=Ul(q,B.mode,P,be),D.return=B,D):(D=s(D,q),D.return=B,D)}function te(B,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ks(""+D,B.mode,q),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return q=Bi(D.type,D.key,D.props,null,B.mode,q),jr(q,D),q.return=B,q;case w:return D=Fs(D,B.mode,q),D.return=B,D;case Y:return D=Gl(D),te(B,D,q)}if(ne(D)||ue(D))return D=Ul(D,B.mode,q,null),D.return=B,D;if(typeof D.then=="function")return te(B,Gi(D),q);if(D.$$typeof===G)return te(B,Yi(B,D),q);$i(B,D)}return null}function $(B,D,q,P){var be=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return be!==null?null:S(B,D,""+q,P);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return q.key===be?T(B,D,q,P):null;case w:return q.key===be?X(B,D,q,P):null;case Y:return q=Gl(q),$(B,D,q,P)}if(ne(q)||ue(q))return be!==null?null:K(B,D,q,P,null);if(typeof q.then=="function")return $(B,D,Gi(q),P);if(q.$$typeof===G)return $(B,D,Yi(B,q),P);$i(B,q)}return null}function Z(B,D,q,P,be){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return B=B.get(q)||null,S(D,B,""+P,be);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return B=B.get(P.key===null?q:P.key)||null,T(D,B,P,be);case w:return B=B.get(P.key===null?q:P.key)||null,X(D,B,P,be);case Y:return P=Gl(P),Z(B,D,q,P,be)}if(ne(P)||ue(P))return B=B.get(q)||null,K(D,B,P,be,null);if(typeof P.then=="function")return Z(B,D,q,Gi(P),be);if(P.$$typeof===G)return Z(B,D,q,Yi(D,P),be);$i(D,P)}return null}function fe(B,D,q,P){for(var be=null,ze=null,pe=D,Ce=D=0,ke=null;pe!==null&&Ce<q.length;Ce++){pe.index>Ce?(ke=pe,pe=null):ke=pe.sibling;var Le=$(B,pe,q[Ce],P);if(Le===null){pe===null&&(pe=ke);break}e&&pe&&Le.alternate===null&&t(B,pe),D=u(Le,D,Ce),ze===null?be=Le:ze.sibling=Le,ze=Le,pe=ke}if(Ce===q.length)return l(B,pe),Re&&_n(B,Ce),be;if(pe===null){for(;Ce<q.length;Ce++)pe=te(B,q[Ce],P),pe!==null&&(D=u(pe,D,Ce),ze===null?be=pe:ze.sibling=pe,ze=pe);return Re&&_n(B,Ce),be}for(pe=a(pe);Ce<q.length;Ce++)ke=Z(pe,B,Ce,q[Ce],P),ke!==null&&(e&&ke.alternate!==null&&pe.delete(ke.key===null?Ce:ke.key),D=u(ke,D,Ce),ze===null?be=ke:ze.sibling=ke,ze=ke);return e&&pe.forEach(function(bl){return t(B,bl)}),Re&&_n(B,Ce),be}function ve(B,D,q,P){if(q==null)throw Error(o(151));for(var be=null,ze=null,pe=D,Ce=D=0,ke=null,Le=q.next();pe!==null&&!Le.done;Ce++,Le=q.next()){pe.index>Ce?(ke=pe,pe=null):ke=pe.sibling;var bl=$(B,pe,Le.value,P);if(bl===null){pe===null&&(pe=ke);break}e&&pe&&bl.alternate===null&&t(B,pe),D=u(bl,D,Ce),ze===null?be=bl:ze.sibling=bl,ze=bl,pe=ke}if(Le.done)return l(B,pe),Re&&_n(B,Ce),be;if(pe===null){for(;!Le.done;Ce++,Le=q.next())Le=te(B,Le.value,P),Le!==null&&(D=u(Le,D,Ce),ze===null?be=Le:ze.sibling=Le,ze=Le);return Re&&_n(B,Ce),be}for(pe=a(pe);!Le.done;Ce++,Le=q.next())Le=Z(pe,B,Ce,Le.value,P),Le!==null&&(e&&Le.alternate!==null&&pe.delete(Le.key===null?Ce:Le.key),D=u(Le,D,Ce),ze===null?be=Le:ze.sibling=Le,ze=Le);return e&&pe.forEach(function(Yv){return t(B,Yv)}),Re&&_n(B,Ce),be}function $e(B,D,q,P){if(typeof q=="object"&&q!==null&&q.type===v&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case E:e:{for(var be=q.key;D!==null;){if(D.key===be){if(be=q.type,be===v){if(D.tag===7){l(B,D.sibling),P=s(D,q.props.children),P.return=B,B=P;break e}}else if(D.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Y&&Gl(be)===D.type){l(B,D.sibling),P=s(D,q.props),jr(P,q),P.return=B,B=P;break e}l(B,D);break}else t(B,D);D=D.sibling}q.type===v?(P=Ul(q.props.children,B.mode,P,q.key),P.return=B,B=P):(P=Bi(q.type,q.key,q.props,null,B.mode,P),jr(P,q),P.return=B,B=P)}return x(B);case w:e:{for(be=q.key;D!==null;){if(D.key===be)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){l(B,D.sibling),P=s(D,q.children||[]),P.return=B,B=P;break e}else{l(B,D);break}else t(B,D);D=D.sibling}P=Fs(q,B.mode,P),P.return=B,B=P}return x(B);case Y:return q=Gl(q),$e(B,D,q,P)}if(ne(q))return fe(B,D,q,P);if(ue(q)){if(be=ue(q),typeof be!="function")throw Error(o(150));return q=be.call(q),ve(B,D,q,P)}if(typeof q.then=="function")return $e(B,D,Gi(q),P);if(q.$$typeof===G)return $e(B,D,Yi(B,q),P);$i(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,D!==null&&D.tag===6?(l(B,D.sibling),P=s(D,q),P.return=B,B=P):(l(B,D),P=Ks(q,B.mode,P),P.return=B,B=P),x(B)):l(B,D)}return function(B,D,q,P){try{Er=0;var be=$e(B,D,q,P);return _a=null,be}catch(pe){if(pe===Aa||pe===qi)throw pe;var ze=qt(29,pe,null,B.mode);return ze.lanes=P,ze.return=B,ze}}}var Wl=ah(!0),rh=ah(!1),nl=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ll(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function al(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Be&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Vi(e),Id(e,null,l),t}return Li(e,a,t,l),Vi(e)}function Cr(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Kf(e,l)}}function fc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,u=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};u===null?s=u=x:u=u.next=x,l=l.next}while(l!==null);u===null?s=u=t:u=u.next=t}else s=u=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var dc=!1;function Ar(){if(dc){var e=Ca;if(e!==null)throw e}}function _r(e,t,l,a){dc=!1;var s=e.updateQueue;nl=!1;var u=s.firstBaseUpdate,x=s.lastBaseUpdate,S=s.shared.pending;if(S!==null){s.shared.pending=null;var T=S,X=T.next;T.next=null,x===null?u=X:x.next=X,x=T;var K=e.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==x&&(S===null?K.firstBaseUpdate=X:S.next=X,K.lastBaseUpdate=T))}if(u!==null){var te=s.baseState;x=0,K=X=T=null,S=u;do{var $=S.lane&-536870913,Z=$!==S.lane;if(Z?(De&$)===$:(a&$)===$){$!==0&&$===ja&&(dc=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=e,ve=S;$=t;var $e=l;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){te=fe.call($e,te,$);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,$=typeof fe=="function"?fe.call($e,te,$):fe,$==null)break e;te=b({},te,$);break e;case 2:nl=!0}}$=S.callback,$!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=s.callbacks,Z===null?s.callbacks=[$]:Z.push($))}else Z={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(X=K=Z,T=te):K=K.next=Z,x|=$;if(S=S.next,S===null){if(S=s.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,s.lastBaseUpdate=Z,s.shared.pending=null}}while(!0);K===null&&(T=te),s.baseState=T,s.firstBaseUpdate=X,s.lastBaseUpdate=K,u===null&&(s.shared.lanes=0),cl|=x,e.lanes=x,e.memoizedState=te}}function ih(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function oh(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ih(l[e],t)}var Oa=C(null),Wi=C(0);function sh(e,t){e=Hn,J(Wi,e),J(Oa,t),Hn=e|t.baseLanes}function hc(){J(Wi,Hn),J(Oa,Oa.current)}function mc(){Hn=Wi.current,V(Oa),V(Wi)}var Xt=C(null),rn=null;function rl(e){var t=e.alternate;J(it,it.current&1),J(Xt,e),rn===null&&(t===null||Oa.current!==null||t.memoizedState!==null)&&(rn=e)}function pc(e){J(it,it.current),J(Xt,e),rn===null&&(rn=e)}function ch(e){e.tag===22?(J(it,it.current),J(Xt,e),rn===null&&(rn=e)):il()}function il(){J(it,it.current),J(Xt,Xt.current)}function Gt(e){V(Xt),rn===e&&(rn=null),V(it)}var it=C(0);function Zi(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||wu(l)||Su(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mn=0,je=null,Xe=null,ft=null,Qi=!1,Ta=!1,Zl=!1,Ki=0,Or=0,Ma=null,Mb=0;function nt(){throw Error(o(321))}function gc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!It(e[l],t[l]))return!1;return!0}function xc(e,t,l,a,s,u){return Mn=u,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?$h:Dc,Zl=!1,u=l(a,s),Zl=!1,Ta&&(u=fh(t,l,a,s)),uh(e),u}function uh(e){A.H=Dr;var t=Xe!==null&&Xe.next!==null;if(Mn=0,ft=Xe=je=null,Qi=!1,Or=0,Ma=null,t)throw Error(o(300));e===null||dt||(e=e.dependencies,e!==null&&Ui(e)&&(dt=!0))}function fh(e,t,l,a){je=e;var s=0;do{if(Ta&&(Ma=null),Or=0,Ta=!1,25<=s)throw Error(o(301));if(s+=1,ft=Xe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}A.H=Wh,u=t(l,a)}while(Ta);return u}function Db(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?Tr(t):t,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(je.flags|=1024),t}function yc(){var e=Ki!==0;return Ki=0,e}function bc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function vc(e){if(Qi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qi=!1}Mn=0,ft=Xe=je=null,Ta=!1,Or=Ki=0,Ma=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?je.memoizedState=ft=e:ft=ft.next=e,ft}function ot(){if(Xe===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=ft===null?je.memoizedState:ft.next;if(t!==null)ft=t,Xe=e;else{if(e===null)throw je.alternate===null?Error(o(467)):Error(o(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ft===null?je.memoizedState=ft=e:ft=ft.next=e}return ft}function Fi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tr(e){var t=Or;return Or+=1,Ma===null&&(Ma=[]),e=th(Ma,e,t),t=je,(ft===null?t.memoizedState:ft.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?$h:Dc),e}function Ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Tr(e);if(e.$$typeof===G)return Et(e)}throw Error(o(438,String(e)))}function wc(e){var t=null,l=je.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=je.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Fi(),je.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=ie;return t.index++,l}function Dn(e,t){return typeof t=="function"?t(e):t}function Pi(e){var t=ot();return Sc(t,Xe,e)}function Sc(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,u=a.pending;if(u!==null){if(s!==null){var x=s.next;s.next=u.next,u.next=x}t.baseQueue=s=u,a.pending=null}if(u=e.baseState,s===null)e.memoizedState=u;else{t=s.next;var S=x=null,T=null,X=t,K=!1;do{var te=X.lane&-536870913;if(te!==X.lane?(De&te)===te:(Mn&te)===te){var $=X.revertLane;if($===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),te===ja&&(K=!0);else if((Mn&$)===$){X=X.next,$===ja&&(K=!0);continue}else te={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},T===null?(S=T=te,x=u):T=T.next=te,je.lanes|=$,cl|=$;te=X.action,Zl&&l(u,te),u=X.hasEagerState?X.eagerState:l(u,te)}else $={lane:te,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},T===null?(S=T=$,x=u):T=T.next=$,je.lanes|=te,cl|=te;X=X.next}while(X!==null&&X!==t);if(T===null?x=u:T.next=S,!It(u,e.memoizedState)&&(dt=!0,K&&(l=Ca,l!==null)))throw l;e.memoizedState=u,e.baseState=x,e.baseQueue=T,a.lastRenderedState=u}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Nc(e){var t=ot(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,u=t.memoizedState;if(s!==null){l.pending=null;var x=s=s.next;do u=e(u,x.action),x=x.next;while(x!==s);It(u,t.memoizedState)||(dt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),l.lastRenderedState=u}return[u,a]}function dh(e,t,l){var a=je,s=ot(),u=Re;if(u){if(l===void 0)throw Error(o(407));l=l()}else l=t();var x=!It((Xe||s).memoizedState,l);if(x&&(s.memoizedState=l,dt=!0),s=s.queue,Cc(ph.bind(null,a,s,e),[e]),s.getSnapshot!==t||x||ft!==null&&ft.memoizedState.tag&1){if(a.flags|=2048,Da(9,{destroy:void 0},mh.bind(null,a,s,l,t),null),We===null)throw Error(o(349));u||(Mn&127)!==0||hh(a,t,l)}return l}function hh(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=je.updateQueue,t===null?(t=Fi(),je.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function mh(e,t,l,a){t.value=l,t.getSnapshot=a,gh(t)&&xh(e)}function ph(e,t,l){return l(function(){gh(t)&&xh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!It(e,l)}catch{return!0}}function xh(e){var t=Hl(e,2);t!==null&&Ht(t,e,2)}function Ec(e){var t=Mt();if(typeof e=="function"){var l=e;if(e=l(),Zl){ct(!0);try{l()}finally{ct(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},t}function yh(e,t,l,a){return e.baseState=l,Sc(e,Xe,typeof a=="function"?a:Dn)}function kb(e,t,l,a,s){if(no(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){u.listeners.push(x)}};A.T!==null?l(!0):u.isTransition=!1,a(u),l=t.pending,l===null?(u.next=t.pending=u,bh(t,u)):(u.next=l.next,t.pending=l.next=u)}}function bh(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var u=A.T,x={};A.T=x;try{var S=l(s,a),T=A.S;T!==null&&T(x,S),vh(e,t,S)}catch(X){jc(e,t,X)}finally{u!==null&&x.types!==null&&(u.types=x.types),A.T=u}}else try{u=l(s,a),vh(e,t,u)}catch(X){jc(e,t,X)}}function vh(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){wh(e,t,a)},function(a){return jc(e,t,a)}):wh(e,t,l)}function wh(e,t,l){t.status="fulfilled",t.value=l,Sh(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,bh(e,l)))}function jc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Sh(t),t=t.next;while(t!==a)}e.action=null}function Sh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nh(e,t){return t}function Eh(e,t){if(Re){var l=We.formState;if(l!==null){e:{var a=je;if(Re){if(Ke){t:{for(var s=Ke,u=an;s.nodeType!==8;){if(!u){s=null;break t}if(s=on(s.nextSibling),s===null){s=null;break t}}u=s.data,s=u==="F!"||u==="F"?s:null}if(s){Ke=on(s.nextSibling),a=s.data==="F!";break e}}el(a)}a=!1}a&&(t=l[0])}}return l=Mt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:t},l.queue=a,l=qh.bind(null,je,a),a.dispatch=l,a=Ec(!1),u=Mc.bind(null,je,!1,a.queue),a=Mt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=kb.bind(null,je,s,u,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function jh(e){var t=ot();return Ch(t,Xe,e)}function Ch(e,t,l){if(t=Sc(e,t,Nh)[0],e=Pi(Dn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Tr(t)}catch(x){throw x===Aa?qi:x}else a=t;t=ot();var s=t.queue,u=s.dispatch;return l!==t.memoizedState&&(je.flags|=2048,Da(9,{destroy:void 0},Rb.bind(null,s,l),null)),[a,u,e]}function Rb(e,t){e.action=t}function Ah(e){var t=ot(),l=Xe;if(l!==null)return Ch(t,l,e);ot(),t=t.memoizedState,l=ot();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Da(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=je.updateQueue,t===null&&(t=Fi(),je.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function _h(){return ot().memoizedState}function eo(e,t,l,a){var s=Mt();je.flags|=e,s.memoizedState=Da(1|t,{destroy:void 0},l,a===void 0?null:a)}function to(e,t,l,a){var s=ot();a=a===void 0?null:a;var u=s.memoizedState.inst;Xe!==null&&a!==null&&gc(a,Xe.memoizedState.deps)?s.memoizedState=Da(t,u,l,a):(je.flags|=e,s.memoizedState=Da(1|t,u,l,a))}function Oh(e,t){eo(8390656,8,e,t)}function Cc(e,t){to(2048,8,e,t)}function zb(e){je.flags|=4;var t=je.updateQueue;if(t===null)t=Fi(),je.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Th(e){var t=ot().memoizedState;return zb({ref:t,nextImpl:e}),function(){if((Be&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Mh(e,t){return to(4,2,e,t)}function Dh(e,t){return to(4,4,e,t)}function kh(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rh(e,t,l){l=l!=null?l.concat([e]):null,to(4,4,kh.bind(null,t,e),l)}function Ac(){}function zh(e,t){var l=ot();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&gc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Lh(e,t){var l=ot();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&gc(t,a[1]))return a[0];if(a=e(),Zl){ct(!0);try{e()}finally{ct(!1)}}return l.memoizedState=[a,t],a}function _c(e,t,l){return l===void 0||(Mn&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Vm(),je.lanes|=e,cl|=e,l)}function Vh(e,t,l,a){return It(l,t)?l:Oa.current!==null?(e=_c(e,l,a),It(e,t)||(dt=!0),e):(Mn&42)===0||(Mn&1073741824)!==0&&(De&261930)===0?(dt=!0,e.memoizedState=l):(e=Vm(),je.lanes|=e,cl|=e,t)}function Bh(e,t,l,a,s){var u=k.p;k.p=u!==0&&8>u?u:8;var x=A.T,S={};A.T=S,Mc(e,!1,t,l);try{var T=s(),X=A.S;if(X!==null&&X(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var K=Tb(T,a);Mr(e,t,K,Zt(e))}else Mr(e,t,a,Zt(e))}catch(te){Mr(e,t,{then:function(){},status:"rejected",reason:te},Zt())}finally{k.p=u,x!==null&&S.types!==null&&(x.types=S.types),A.T=x}}function Lb(){}function Oc(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=Hh(e).queue;Bh(e,s,t,H,l===null?Lb:function(){return Uh(e),l(a)})}function Hh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:H},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Uh(e){var t=Hh(e);t.next===null&&(t=e.alternate.memoizedState),Mr(e,t.next.queue,{},Zt())}function Tc(){return Et(Zr)}function Yh(){return ot().memoizedState}function Ih(){return ot().memoizedState}function Vb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Zt();e=ll(l);var a=al(t,e,l);a!==null&&(Ht(a,t,l),Cr(a,t,l)),t={cache:rc()},e.payload=t;return}t=t.return}}function Bb(e,t,l){var a=Zt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},no(e)?Xh(t,l):(l=Zs(e,t,l,a),l!==null&&(Ht(l,e,a),Gh(l,t,a)))}function qh(e,t,l){var a=Zt();Mr(e,t,l,a)}function Mr(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(no(e))Xh(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var x=t.lastRenderedState,S=u(x,l);if(s.hasEagerState=!0,s.eagerState=S,It(S,x))return Li(e,t,s,0),We===null&&zi(),!1}catch{}if(l=Zs(e,t,s,a),l!==null)return Ht(l,e,a),Gh(l,t,a),!0}return!1}function Mc(e,t,l,a){if(a={lane:2,revertLane:cu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},no(e)){if(t)throw Error(o(479))}else t=Zs(e,l,a,2),t!==null&&Ht(t,e,2)}function no(e){var t=e.alternate;return e===je||t!==null&&t===je}function Xh(e,t){Ta=Qi=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Gh(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Kf(e,l)}}var Dr={readContext:Et,use:Ji,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Dr.useEffectEvent=nt;var $h={readContext:Et,use:Ji,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Oh,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,eo(4194308,4,kh.bind(null,t,e),l)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){eo(4,2,e,t)},useMemo:function(e,t){var l=Mt();t=t===void 0?null:t;var a=e();if(Zl){ct(!0);try{e()}finally{ct(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Mt();if(l!==void 0){var s=l(t);if(Zl){ct(!0);try{l(t)}finally{ct(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Bb.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ec(e);var t=e.queue,l=qh.bind(null,je,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Ac,useDeferredValue:function(e,t){var l=Mt();return _c(l,e,t)},useTransition:function(){var e=Ec(!1);return e=Bh.bind(null,je,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=je,s=Mt();if(Re){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),We===null)throw Error(o(349));(De&127)!==0||hh(a,t,l)}s.memoizedState=l;var u={value:l,getSnapshot:t};return s.queue=u,Oh(ph.bind(null,a,u,e),[e]),a.flags|=2048,Da(9,{destroy:void 0},mh.bind(null,a,u,l,t),null),l},useId:function(){var e=Mt(),t=We.identifierPrefix;if(Re){var l=gn,a=pn;l=(a&~(1<<32-Pe(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Ki++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Mb++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Tc,useFormState:Eh,useActionState:Eh,useOptimistic:function(e){var t=Mt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Mc.bind(null,je,!0,l),l.dispatch=t,[e,t]},useMemoCache:wc,useCacheRefresh:function(){return Mt().memoizedState=Vb.bind(null,je)},useEffectEvent:function(e){var t=Mt(),l={impl:e};return t.memoizedState=l,function(){if((Be&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Dc={readContext:Et,use:Ji,useCallback:zh,useContext:Et,useEffect:Cc,useImperativeHandle:Rh,useInsertionEffect:Mh,useLayoutEffect:Dh,useMemo:Lh,useReducer:Pi,useRef:_h,useState:function(){return Pi(Dn)},useDebugValue:Ac,useDeferredValue:function(e,t){var l=ot();return Vh(l,Xe.memoizedState,e,t)},useTransition:function(){var e=Pi(Dn)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Tr(e),t]},useSyncExternalStore:dh,useId:Yh,useHostTransitionStatus:Tc,useFormState:jh,useActionState:jh,useOptimistic:function(e,t){var l=ot();return yh(l,Xe,e,t)},useMemoCache:wc,useCacheRefresh:Ih};Dc.useEffectEvent=Th;var Wh={readContext:Et,use:Ji,useCallback:zh,useContext:Et,useEffect:Cc,useImperativeHandle:Rh,useInsertionEffect:Mh,useLayoutEffect:Dh,useMemo:Lh,useReducer:Nc,useRef:_h,useState:function(){return Nc(Dn)},useDebugValue:Ac,useDeferredValue:function(e,t){var l=ot();return Xe===null?_c(l,e,t):Vh(l,Xe.memoizedState,e,t)},useTransition:function(){var e=Nc(Dn)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Tr(e),t]},useSyncExternalStore:dh,useId:Yh,useHostTransitionStatus:Tc,useFormState:Ah,useActionState:Ah,useOptimistic:function(e,t){var l=ot();return Xe!==null?yh(l,Xe,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:wc,useCacheRefresh:Ih};Wh.useEffectEvent=Th;function kc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:b({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Rc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Zt(),s=ll(a);s.payload=t,l!=null&&(s.callback=l),t=al(e,s,a),t!==null&&(Ht(t,e,a),Cr(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Zt(),s=ll(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=al(e,s,a),t!==null&&(Ht(t,e,a),Cr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Zt(),a=ll(l);a.tag=2,t!=null&&(a.callback=t),t=al(e,a,l),t!==null&&(Ht(t,e,l),Cr(t,e,l))}};function Zh(e,t,l,a,s,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,x):t.prototype&&t.prototype.isPureReactComponent?!yr(l,a)||!yr(s,u):!0}function Qh(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Rc.enqueueReplaceState(t,t.state,null)}function Ql(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=b({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function Kh(e){Ri(e)}function Fh(e){console.error(e)}function Jh(e){Ri(e)}function lo(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Ph(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function zc(e,t,l){return l=ll(l),l.tag=3,l.payload={element:null},l.callback=function(){lo(e,t)},l}function em(e){return e=ll(e),e.tag=3,e}function tm(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var u=a.value;e.payload=function(){return s(u)},e.callback=function(){Ph(t,l,a)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Ph(t,l,a),typeof s!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function Hb(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ea(t,l,s,!0),l=Xt.current,l!==null){switch(l.tag){case 31:case 13:return rn===null?go():l.alternate===null&&lt===0&&(lt=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===Xi?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),iu(e,a,s)),!1;case 22:return l.flags|=65536,a===Xi?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),iu(e,a,s)),!1}throw Error(o(435,l.tag))}return iu(e,a,s),go(),!1}if(Re)return t=Xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==ec&&(e=Error(o(422),{cause:a}),wr(tn(e,l)))):(a!==ec&&(t=Error(o(423),{cause:a}),wr(tn(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=tn(a,l),s=zc(e.stateNode,a,s),fc(e,s),lt!==4&&(lt=2)),!1;var u=Error(o(520),{cause:a});if(u=tn(u,l),Ur===null?Ur=[u]:Ur.push(u),lt!==4&&(lt=2),t===null)return!0;a=tn(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=zc(l.stateNode,a,e),fc(l,e),!1;case 1:if(t=l.type,u=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ul===null||!ul.has(u))))return l.flags|=65536,s&=-s,l.lanes|=s,s=em(s),tm(s,e,l,a),fc(l,s),!1}l=l.return}while(l!==null);return!1}var Lc=Error(o(461)),dt=!1;function jt(e,t,l,a){t.child=e===null?rh(t,null,l,a):Wl(t,e.child,l,a)}function nm(e,t,l,a,s){l=l.render;var u=t.ref;if("ref"in a){var x={};for(var S in a)S!=="ref"&&(x[S]=a[S])}else x=a;return ql(t),a=xc(e,t,l,x,u,s),S=yc(),e!==null&&!dt?(bc(e,t,s),kn(e,t,s)):(Re&&S&&Js(t),t.flags|=1,jt(e,t,a,s),t.child)}function lm(e,t,l,a,s){if(e===null){var u=l.type;return typeof u=="function"&&!Qs(u)&&u.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=u,am(e,t,u,a,s)):(e=Bi(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Xc(e,s)){var x=u.memoizedProps;if(l=l.compare,l=l!==null?l:yr,l(x,a)&&e.ref===t.ref)return kn(e,t,s)}return t.flags|=1,e=An(u,a),e.ref=t.ref,e.return=t,t.child=e}function am(e,t,l,a,s){if(e!==null){var u=e.memoizedProps;if(yr(u,a)&&e.ref===t.ref)if(dt=!1,t.pendingProps=a=u,Xc(e,s))(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,kn(e,t,s)}return Vc(e,t,l,a,s)}function rm(e,t,l,a){var s=a.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~u}else a=0,t.child=null;return im(e,t,u,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ii(t,u!==null?u.cachePool:null),u!==null?sh(t,u):hc(),ch(t);else return a=t.lanes=536870912,im(e,t,u!==null?u.baseLanes|l:l,l,a)}else u!==null?(Ii(t,u.cachePool),sh(t,u),il(),t.memoizedState=null):(e!==null&&Ii(t,null),hc(),il());return jt(e,t,s,l),t.child}function kr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function im(e,t,l,a,s){var u=oc();return u=u===null?null:{parent:ut._currentValue,pool:u},t.memoizedState={baseLanes:l,cachePool:u},e!==null&&Ii(t,null),hc(),ch(t),e!==null&&Ea(e,t,a,!0),t.childLanes=s,null}function ao(e,t){return t=io({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function om(e,t,l){return Wl(t,e.child,null,l),e=ao(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function Ub(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(a.mode==="hidden")return e=ao(t,a),t.lanes=536870912,kr(null,e);if(pc(t),(e=Ke)?(e=bp(e,an),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:pn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},l=Xd(e),l.return=t,t.child=l,Nt=t,Ke=null)):e=null,e===null)throw el(t);return t.lanes=536870912,null}return ao(t,a)}var u=e.memoizedState;if(u!==null){var x=u.dehydrated;if(pc(t),s)if(t.flags&256)t.flags&=-257,t=om(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(dt||Ea(e,t,l,!1),s=(l&e.childLanes)!==0,dt||s){if(a=We,a!==null&&(x=Ff(a,l),x!==0&&x!==u.retryLane))throw u.retryLane=x,Hl(e,x),Ht(a,e,x),Lc;go(),t=om(e,t,l)}else e=u.treeContext,Ke=on(x.nextSibling),Nt=t,Re=!0,Pn=null,an=!1,e!==null&&Wd(t,e),t=ao(t,a),t.flags|=4096;return t}return e=An(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ro(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Vc(e,t,l,a,s){return ql(t),l=xc(e,t,l,a,void 0,s),a=yc(),e!==null&&!dt?(bc(e,t,s),kn(e,t,s)):(Re&&a&&Js(t),t.flags|=1,jt(e,t,l,s),t.child)}function sm(e,t,l,a,s,u){return ql(t),t.updateQueue=null,l=fh(t,a,l,s),uh(e),a=yc(),e!==null&&!dt?(bc(e,t,u),kn(e,t,u)):(Re&&a&&Js(t),t.flags|=1,jt(e,t,l,u),t.child)}function cm(e,t,l,a,s){if(ql(t),t.stateNode===null){var u=va,x=l.contextType;typeof x=="object"&&x!==null&&(u=Et(x)),u=new l(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Rc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},cc(t),x=l.contextType,u.context=typeof x=="object"&&x!==null?Et(x):va,u.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(kc(t,l,x,a),u.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(x=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),x!==u.state&&Rc.enqueueReplaceState(u,u.state,null),_r(t,a,u,s),Ar(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var S=t.memoizedProps,T=Ql(l,S);u.props=T;var X=u.context,K=l.contextType;x=va,typeof K=="object"&&K!==null&&(x=Et(K));var te=l.getDerivedStateFromProps;K=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,K||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(S||X!==x)&&Qh(t,u,a,x),nl=!1;var $=t.memoizedState;u.state=$,_r(t,a,u,s),Ar(),X=t.memoizedState,S||$!==X||nl?(typeof te=="function"&&(kc(t,l,te,a),X=t.memoizedState),(T=nl||Zh(t,l,T,a,$,X,x))?(K||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=X),u.props=a,u.state=X,u.context=x,a=T):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,uc(e,t),x=t.memoizedProps,K=Ql(l,x),u.props=K,te=t.pendingProps,$=u.context,X=l.contextType,T=va,typeof X=="object"&&X!==null&&(T=Et(X)),S=l.getDerivedStateFromProps,(X=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x!==te||$!==T)&&Qh(t,u,a,T),nl=!1,$=t.memoizedState,u.state=$,_r(t,a,u,s),Ar();var Z=t.memoizedState;x!==te||$!==Z||nl||e!==null&&e.dependencies!==null&&Ui(e.dependencies)?(typeof S=="function"&&(kc(t,l,S,a),Z=t.memoizedState),(K=nl||Zh(t,l,K,a,$,Z,T)||e!==null&&e.dependencies!==null&&Ui(e.dependencies))?(X||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,Z,T),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,Z,T)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Z),u.props=a,u.state=Z,u.context=T,a=K):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,ro(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=Wl(t,e.child,null,s),t.child=Wl(t,null,l,s)):jt(e,t,l,s),t.memoizedState=u.state,e=t.child):e=kn(e,t,s),e}function um(e,t,l,a){return Yl(),t.flags|=256,jt(e,t,l,a),t.child}var Bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hc(e){return{baseLanes:e,cachePool:Pd()}}function Uc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Wt),e}function fm(e,t,l){var a=t.pendingProps,s=!1,u=(t.flags&128)!==0,x;if((x=u)||(x=e!==null&&e.memoizedState===null?!1:(it.current&2)!==0),x&&(s=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(s?rl(t):il(),(e=Ke)?(e=bp(e,an),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:pn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},l=Xd(e),l.return=t,t.child=l,Nt=t,Ke=null)):e=null,e===null)throw el(t);return Su(e)?t.lanes=32:t.lanes=536870912,null}var S=a.children;return a=a.fallback,s?(il(),s=t.mode,S=io({mode:"hidden",children:S},s),a=Ul(a,s,l,null),S.return=t,a.return=t,S.sibling=a,t.child=S,a=t.child,a.memoizedState=Hc(l),a.childLanes=Uc(e,x,l),t.memoizedState=Bc,kr(null,a)):(rl(t),Yc(t,S))}var T=e.memoizedState;if(T!==null&&(S=T.dehydrated,S!==null)){if(u)t.flags&256?(rl(t),t.flags&=-257,t=Ic(e,t,l)):t.memoizedState!==null?(il(),t.child=e.child,t.flags|=128,t=null):(il(),S=a.fallback,s=t.mode,a=io({mode:"visible",children:a.children},s),S=Ul(S,s,l,null),S.flags|=2,a.return=t,S.return=t,a.sibling=S,t.child=a,Wl(t,e.child,null,l),a=t.child,a.memoizedState=Hc(l),a.childLanes=Uc(e,x,l),t.memoizedState=Bc,t=kr(null,a));else if(rl(t),Su(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var X=x.dgst;x=X,a=Error(o(419)),a.stack="",a.digest=x,wr({value:a,source:null,stack:null}),t=Ic(e,t,l)}else if(dt||Ea(e,t,l,!1),x=(l&e.childLanes)!==0,dt||x){if(x=We,x!==null&&(a=Ff(x,l),a!==0&&a!==T.retryLane))throw T.retryLane=a,Hl(e,a),Ht(x,e,a),Lc;wu(S)||go(),t=Ic(e,t,l)}else wu(S)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ke=on(S.nextSibling),Nt=t,Re=!0,Pn=null,an=!1,e!==null&&Wd(t,e),t=Yc(t,a.children),t.flags|=4096);return t}return s?(il(),S=a.fallback,s=t.mode,T=e.child,X=T.sibling,a=An(T,{mode:"hidden",children:a.children}),a.subtreeFlags=T.subtreeFlags&65011712,X!==null?S=An(X,S):(S=Ul(S,s,l,null),S.flags|=2),S.return=t,a.return=t,a.sibling=S,t.child=a,kr(null,a),a=t.child,S=e.child.memoizedState,S===null?S=Hc(l):(s=S.cachePool,s!==null?(T=ut._currentValue,s=s.parent!==T?{parent:T,pool:T}:s):s=Pd(),S={baseLanes:S.baseLanes|l,cachePool:s}),a.memoizedState=S,a.childLanes=Uc(e,x,l),t.memoizedState=Bc,kr(e.child,a)):(rl(t),l=e.child,e=l.sibling,l=An(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function Yc(e,t){return t=io({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function io(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function Ic(e,t,l){return Wl(t,e.child,null,l),e=Yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dm(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),lc(e.return,t,l)}function qc(e,t,l,a,s,u){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:u}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=a,x.tail=l,x.tailMode=s,x.treeForkCount=u)}function hm(e,t,l){var a=t.pendingProps,s=a.revealOrder,u=a.tail;a=a.children;var x=it.current,S=(x&2)!==0;if(S?(x=x&1|2,t.flags|=128):x&=1,J(it,x),jt(e,t,a,l),a=Re?vr:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dm(e,l,t);else if(e.tag===19)dm(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Zi(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),qc(t,!1,s,l,u,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Zi(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}qc(t,!0,l,null,u,a);break;case"together":qc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function kn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),cl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ea(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=An(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=An(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Xc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ui(e)))}function Yb(e,t,l){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),tl(t,ut,e.memoizedState.cache),Yl();break;case 27:case 5:we(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:tl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,pc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(rl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?fm(e,t,l):(rl(t),e=kn(e,t,l),e!==null?e.sibling:null);rl(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ea(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return hm(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(it,it.current),a)break;return null;case 22:return t.lanes=0,rm(e,t,l,t.pendingProps);case 24:tl(t,ut,e.memoizedState.cache)}return kn(e,t,l)}function mm(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)dt=!0;else{if(!Xc(e,l)&&(t.flags&128)===0)return dt=!1,Yb(e,t,l);dt=(e.flags&131072)!==0}else dt=!1,Re&&(t.flags&1048576)!==0&&$d(t,vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Gl(t.elementType),t.type=e,typeof e=="function")Qs(e)?(a=Ql(e,a),t.tag=1,t=cm(null,t,e,a,l)):(t.tag=0,t=Vc(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===I){t.tag=11,t=nm(null,t,e,a,l);break e}else if(s===U){t.tag=14,t=lm(null,t,e,a,l);break e}}throw t=Q(e)||e,Error(o(306,t,""))}}return t;case 0:return Vc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=Ql(a,t.pendingProps),cm(e,t,a,s,l);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var u=t.memoizedState;s=u.element,uc(e,t),_r(t,a,null,l);var x=t.memoizedState;if(a=x.cache,tl(t,ut,a),a!==u.cache&&ac(t,[ut],l,!0),Ar(),a=x.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=um(e,t,a,l);break e}else if(a!==s){s=tn(Error(o(424)),t),wr(s),t=um(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ke=on(e.firstChild),Nt=t,Re=!0,Pn=null,an=!0,l=rh(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yl(),a===s){t=kn(e,t,l);break e}jt(e,t,a,l)}t=t.child}return t;case 26:return ro(e,t),e===null?(l=jp(t.type,null,t.pendingProps,null))?t.memoizedState=l:Re||(l=t.type,e=t.pendingProps,a=No(me.current).createElement(l),a[St]=t,a[kt]=e,Ct(a,l,e),bt(a),t.stateNode=a):t.memoizedState=jp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&Re&&(a=t.stateNode=Sp(t.type,t.pendingProps,me.current),Nt=t,an=!0,s=Ke,ml(t.type)?(Nu=s,Ke=on(a.firstChild)):Ke=s),jt(e,t,t.pendingProps.children,l),ro(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((s=a=Ke)&&(a=xv(a,t.type,t.pendingProps,an),a!==null?(t.stateNode=a,Nt=t,Ke=on(a.firstChild),an=!1,s=!0):s=!1),s||el(t)),we(t),s=t.type,u=t.pendingProps,x=e!==null?e.memoizedProps:null,a=u.children,yu(s,u)?a=null:x!==null&&yu(s,x)&&(t.flags|=32),t.memoizedState!==null&&(s=xc(e,t,Db,null,null,l),Zr._currentValue=s),ro(e,t),jt(e,t,a,l),t.child;case 6:return e===null&&Re&&((e=l=Ke)&&(l=yv(l,t.pendingProps,an),l!==null?(t.stateNode=l,Nt=t,Ke=null,e=!0):e=!1),e||el(t)),null;case 13:return fm(e,t,l);case 4:return He(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Wl(t,null,a,l):jt(e,t,a,l),t.child;case 11:return nm(e,t,t.type,t.pendingProps,l);case 7:return jt(e,t,t.pendingProps,l),t.child;case 8:return jt(e,t,t.pendingProps.children,l),t.child;case 12:return jt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,tl(t,t.type,a.value),jt(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,ql(t),s=Et(s),a=a(s),t.flags|=1,jt(e,t,a,l),t.child;case 14:return lm(e,t,t.type,t.pendingProps,l);case 15:return am(e,t,t.type,t.pendingProps,l);case 19:return hm(e,t,l);case 31:return Ub(e,t,l);case 22:return rm(e,t,l,t.pendingProps);case 24:return ql(t),a=Et(ut),e===null?(s=oc(),s===null&&(s=We,u=rc(),s.pooledCache=u,u.refCount++,u!==null&&(s.pooledCacheLanes|=l),s=u),t.memoizedState={parent:a,cache:s},cc(t),tl(t,ut,s)):((e.lanes&l)!==0&&(uc(e,t),_r(t,null,null,l),Ar()),s=e.memoizedState,u=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),tl(t,ut,a)):(a=u.cache,tl(t,ut,a),a!==s.cache&&ac(t,[ut],l,!0))),jt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Rn(e){e.flags|=4}function Gc(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Ym())e.flags|=8192;else throw $l=Xi,sc}else e.flags&=-16777217}function pm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tp(t))if(Ym())e.flags|=8192;else throw $l=Xi,sc}function oo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zf():536870912,e.lanes|=t,La|=t)}function Rr(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Ib(e,t,l){var a=t.pendingProps;switch(Ps(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Tn(ut),re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Na(t)?Rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tc())),Fe(t),null;case 26:var s=t.type,u=t.memoizedState;return e===null?(Rn(t),u!==null?(Fe(t),pm(t,u)):(Fe(t),Gc(t,s,null,a,l))):u?u!==e.memoizedState?(Rn(t),Fe(t),pm(t,u)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Rn(t),Fe(t),Gc(t,s,e,a,l)),null;case 27:if(qe(t),l=me.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Rn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Fe(t),null}e=ae.current,Na(t)?Zd(t):(e=Sp(s,a,l),t.stateNode=e,Rn(t))}return Fe(t),null;case 5:if(qe(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Rn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Fe(t),null}if(u=ae.current,Na(t))Zd(t);else{var x=No(me.current);switch(u){case 1:u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":u=x.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?x.createElement("select",{is:a.is}):x.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?x.createElement(s,{is:a.is}):x.createElement(s)}}u[St]=t,u[kt]=a;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=u;e:switch(Ct(u,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Rn(t)}}return Fe(t),Gc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Rn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=me.current,Na(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=Nt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[St]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||fp(e.nodeValue,l)),e||el(t,!0)}else e=No(e).createTextNode(a),e[St]=t,t.stateNode=e}return Fe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Na(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[St]=t}else Yl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else l=tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Fe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Na(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[St]=t}else Yl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),s=!1}else s=tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),oo(t,t.updateQueue),Fe(t),null);case 4:return re(),e===null&&hu(t.stateNode.containerInfo),Fe(t),null;case 10:return Tn(t.type),Fe(t),null;case 19:if(V(it),a=t.memoizedState,a===null)return Fe(t),null;if(s=(t.flags&128)!==0,u=a.rendering,u===null)if(s)Rr(a,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Zi(e),u!==null){for(t.flags|=128,Rr(a,!1),e=u.updateQueue,t.updateQueue=e,oo(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)qd(l,e),l=l.sibling;return J(it,it.current&1|2),Re&&_n(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&tt()>ho&&(t.flags|=128,s=!0,Rr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Zi(u),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,oo(t,e),Rr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Re)return Fe(t),null}else 2*tt()-a.renderingStartTime>ho&&l!==536870912&&(t.flags|=128,s=!0,Rr(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(e=a.last,e!==null?e.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=tt(),e.sibling=null,l=it.current,J(it,s?l&1|2:l&1),Re&&_n(t,a.treeForkCount),e):(Fe(t),null);case 22:case 23:return Gt(t),mc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),l=t.updateQueue,l!==null&&oo(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&V(Xl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Tn(ut),Fe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function qb(e,t){switch(Ps(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(ut),re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qe(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(o(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(it),null;case 4:return re(),null;case 10:return Tn(t.type),null;case 22:case 23:return Gt(t),mc(),e!==null&&V(Xl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Tn(ut),null;case 25:return null;default:return null}}function gm(e,t){switch(Ps(t),t.tag){case 3:Tn(ut),re();break;case 26:case 27:case 5:qe(t);break;case 4:re();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:V(it);break;case 10:Tn(t.type);break;case 22:case 23:Gt(t),mc(),e!==null&&V(Xl);break;case 24:Tn(ut)}}function zr(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var u=l.create,x=l.inst;a=u(),x.destroy=a}l=l.next}while(l!==s)}}catch(S){Ie(t,t.return,S)}}function ol(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){var x=a.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,s=t;var T=l,X=S;try{X()}catch(K){Ie(s,T,K)}}}a=a.next}while(a!==u)}}catch(K){Ie(t,t.return,K)}}function xm(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{oh(t,l)}catch(a){Ie(e,e.return,a)}}}function ym(e,t,l){l.props=Ql(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ie(e,t,a)}}function Lr(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){Ie(e,t,s)}}function xn(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){Ie(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){Ie(e,t,s)}else l.current=null}function bm(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){Ie(e,e.return,s)}}function $c(e,t,l){try{var a=e.stateNode;fv(a,e.type,l,t),a[kt]=t}catch(s){Ie(e,e.return,s)}}function vm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ml(e.type)||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ml(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=jn));else if(a!==4&&(a===27&&ml(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Zc(e,t,l),e=e.sibling;e!==null;)Zc(e,t,l),e=e.sibling}function so(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&ml(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(so(e,t,l),e=e.sibling;e!==null;)so(e,t,l),e=e.sibling}function wm(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ct(t,a,l),t[St]=e,t[kt]=l}catch(u){Ie(e,e.return,u)}}var zn=!1,ht=!1,Qc=!1,Sm=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Xb(e,t){if(e=e.containerInfo,gu=To,e=Rd(e),Is(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var x=0,S=-1,T=-1,X=0,K=0,te=e,$=null;t:for(;;){for(var Z;te!==l||s!==0&&te.nodeType!==3||(S=x+s),te!==u||a!==0&&te.nodeType!==3||(T=x+a),te.nodeType===3&&(x+=te.nodeValue.length),(Z=te.firstChild)!==null;)$=te,te=Z;for(;;){if(te===e)break t;if($===l&&++X===s&&(S=x),$===u&&++K===a&&(T=x),(Z=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=Z}l=S===-1||T===-1?null:{start:S,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(xu={focusedElem:e,selectionRange:l},To=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,l=t,s=u.memoizedProps,u=u.memoizedState,a=l.stateNode;try{var fe=Ql(l.type,s);e=a.getSnapshotBeforeUpdate(fe,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Ie(l,l.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)vu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function Nm(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Vn(e,l),a&4&&zr(5,l);break;case 1:if(Vn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){Ie(l,l.return,x)}else{var s=Ql(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ie(l,l.return,x)}}a&64&&xm(l),a&512&&Lr(l,l.return);break;case 3:if(Vn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{oh(e,t)}catch(x){Ie(l,l.return,x)}}break;case 27:t===null&&a&4&&wm(l);case 26:case 5:Vn(e,l),t===null&&a&4&&bm(l),a&512&&Lr(l,l.return);break;case 12:Vn(e,l);break;case 31:Vn(e,l),a&4&&Cm(e,l);break;case 13:Vn(e,l),a&4&&Am(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Pb.bind(null,l),bv(e,l))));break;case 22:if(a=l.memoizedState!==null||zn,!a){t=t!==null&&t.memoizedState!==null||ht,s=zn;var u=ht;zn=a,(ht=t)&&!u?Bn(e,l,(l.subtreeFlags&8772)!==0):Vn(e,l),zn=s,ht=u}break;case 30:break;default:Vn(e,l)}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&js(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,zt=!1;function Ln(e,t,l){for(l=l.child;l!==null;)jm(e,t,l),l=l.sibling}function jm(e,t,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Ee,l)}catch{}switch(l.tag){case 26:ht||xn(l,t),Ln(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ht||xn(l,t);var a=Je,s=zt;ml(l.type)&&(Je=l.stateNode,zt=!1),Ln(e,t,l),Gr(l.stateNode),Je=a,zt=s;break;case 5:ht||xn(l,t);case 6:if(a=Je,s=zt,Je=null,Ln(e,t,l),Je=a,zt=s,Je!==null)if(zt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(u){Ie(l,t,u)}else try{Je.removeChild(l.stateNode)}catch(u){Ie(l,t,u)}break;case 18:Je!==null&&(zt?(e=Je,xp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Xa(e)):xp(Je,l.stateNode));break;case 4:a=Je,s=zt,Je=l.stateNode.containerInfo,zt=!0,Ln(e,t,l),Je=a,zt=s;break;case 0:case 11:case 14:case 15:ol(2,l,t),ht||ol(4,l,t),Ln(e,t,l);break;case 1:ht||(xn(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&ym(l,t,a)),Ln(e,t,l);break;case 21:Ln(e,t,l);break;case 22:ht=(a=ht)||l.memoizedState!==null,Ln(e,t,l),ht=a;break;default:Ln(e,t,l)}}function Cm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(l){Ie(t,t.return,l)}}}function Am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(l){Ie(t,t.return,l)}}function Gb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sm),t;default:throw Error(o(435,e.tag))}}function co(e,t){var l=Gb(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=ev.bind(null,e,a);a.then(s,s)}})}function Lt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],u=e,x=t,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(ml(S.type)){Je=S.stateNode,zt=!1;break e}break;case 5:Je=S.stateNode,zt=!1;break e;case 3:case 4:Je=S.stateNode.containerInfo,zt=!0;break e}S=S.return}if(Je===null)throw Error(o(160));jm(u,x,s),Je=null,zt=!1,u=s.alternate,u!==null&&(u.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_m(t,e),t=t.sibling}var dn=null;function _m(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),Vt(e),a&4&&(ol(3,e,e.return),zr(3,e),ol(5,e,e.return));break;case 1:Lt(t,e),Vt(e),a&512&&(ht||l===null||xn(l,l.return)),a&64&&zn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=dn;if(Lt(t,e),Vt(e),a&512&&(ht||l===null||xn(l,l.return)),a&4){var u=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":u=s.getElementsByTagName("title")[0],(!u||u[cr]||u[St]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=s.createElement(a),s.head.insertBefore(u,s.querySelector("head > title"))),Ct(u,a,l),u[St]=e,bt(u),a=u;break e;case"link":var x=_p("link","href",s).get(a+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(u=x[S],u.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&u.getAttribute("rel")===(l.rel==null?null:l.rel)&&u.getAttribute("title")===(l.title==null?null:l.title)&&u.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}u=s.createElement(a),Ct(u,a,l),s.head.appendChild(u);break;case"meta":if(x=_p("meta","content",s).get(a+(l.content||""))){for(S=0;S<x.length;S++)if(u=x[S],u.getAttribute("content")===(l.content==null?null:""+l.content)&&u.getAttribute("name")===(l.name==null?null:l.name)&&u.getAttribute("property")===(l.property==null?null:l.property)&&u.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&u.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}u=s.createElement(a),Ct(u,a,l),s.head.appendChild(u);break;default:throw Error(o(468,a))}u[St]=e,bt(u),a=u}e.stateNode=a}else Op(s,e.type,e.stateNode);else e.stateNode=Ap(s,a,e.memoizedProps);else u!==a?(u===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):u.count--,a===null?Op(s,e.type,e.stateNode):Ap(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&$c(e,e.memoizedProps,l.memoizedProps)}break;case 27:Lt(t,e),Vt(e),a&512&&(ht||l===null||xn(l,l.return)),l!==null&&a&4&&$c(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Lt(t,e),Vt(e),a&512&&(ht||l===null||xn(l,l.return)),e.flags&32){s=e.stateNode;try{ha(s,"")}catch(fe){Ie(e,e.return,fe)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,$c(e,s,l!==null?l.memoizedProps:s)),a&1024&&(Qc=!0);break;case 6:if(Lt(t,e),Vt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(fe){Ie(e,e.return,fe)}}break;case 3:if(Co=null,s=dn,dn=Eo(t.containerInfo),Lt(t,e),dn=s,Vt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Xa(t.containerInfo)}catch(fe){Ie(e,e.return,fe)}Qc&&(Qc=!1,Om(e));break;case 4:a=dn,dn=Eo(e.stateNode.containerInfo),Lt(t,e),Vt(e),dn=a;break;case 12:Lt(t,e),Vt(e);break;case 31:Lt(t,e),Vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,co(e,a)));break;case 13:Lt(t,e),Vt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fo=tt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,co(e,a)));break;case 22:s=e.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,X=zn,K=ht;if(zn=X||s,ht=K||T,Lt(t,e),ht=K,zn=X,Vt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||T||zn||ht||Kl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){T=l=t;try{if(u=T.stateNode,s)x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=T.stateNode;var te=T.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(fe){Ie(T,T.return,fe)}}}else if(t.tag===6){if(l===null){T=t;try{T.stateNode.nodeValue=s?"":T.memoizedProps}catch(fe){Ie(T,T.return,fe)}}}else if(t.tag===18){if(l===null){T=t;try{var Z=T.stateNode;s?yp(Z,!0):yp(T.stateNode,!1)}catch(fe){Ie(T,T.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,co(e,l))));break;case 19:Lt(t,e),Vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,co(e,a)));break;case 30:break;case 21:break;default:Lt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(vm(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,u=Wc(e);so(e,u,s);break;case 5:var x=l.stateNode;l.flags&32&&(ha(x,""),l.flags&=-33);var S=Wc(e);so(e,S,x);break;case 3:case 4:var T=l.stateNode.containerInfo,X=Wc(e);Zc(e,X,T);break;default:throw Error(o(161))}}catch(K){Ie(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Om(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Om(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Nm(e,t.alternate,t),t=t.sibling}function Kl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Kl(t);break;case 1:xn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&ym(t,t.return,l),Kl(t);break;case 27:Gr(t.stateNode);case 26:case 5:xn(t,t.return),Kl(t);break;case 22:t.memoizedState===null&&Kl(t);break;case 30:Kl(t);break;default:Kl(t)}e=e.sibling}}function Bn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,u=t,x=u.flags;switch(u.tag){case 0:case 11:case 15:Bn(s,u,l),zr(4,u);break;case 1:if(Bn(s,u,l),a=u,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(X){Ie(a,a.return,X)}if(a=u,s=a.updateQueue,s!==null){var S=a.stateNode;try{var T=s.shared.hiddenCallbacks;if(T!==null)for(s.shared.hiddenCallbacks=null,s=0;s<T.length;s++)ih(T[s],S)}catch(X){Ie(a,a.return,X)}}l&&x&64&&xm(u),Lr(u,u.return);break;case 27:wm(u);case 26:case 5:Bn(s,u,l),l&&a===null&&x&4&&bm(u),Lr(u,u.return);break;case 12:Bn(s,u,l);break;case 31:Bn(s,u,l),l&&x&4&&Cm(s,u);break;case 13:Bn(s,u,l),l&&x&4&&Am(s,u);break;case 22:u.memoizedState===null&&Bn(s,u,l),Lr(u,u.return);break;case 30:break;default:Bn(s,u,l)}t=t.sibling}}function Kc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Sr(l))}function Fc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Sr(e))}function hn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tm(e,t,l,a),t=t.sibling}function Tm(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:hn(e,t,l,a),s&2048&&zr(9,t);break;case 1:hn(e,t,l,a);break;case 3:hn(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Sr(e)));break;case 12:if(s&2048){hn(e,t,l,a),e=t.stateNode;try{var u=t.memoizedProps,x=u.id,S=u.onPostCommit;typeof S=="function"&&S(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ie(t,t.return,T)}}else hn(e,t,l,a);break;case 31:hn(e,t,l,a);break;case 13:hn(e,t,l,a);break;case 23:break;case 22:u=t.stateNode,x=t.alternate,t.memoizedState!==null?u._visibility&2?hn(e,t,l,a):Vr(e,t):u._visibility&2?hn(e,t,l,a):(u._visibility|=2,ka(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Kc(x,t);break;case 24:hn(e,t,l,a),s&2048&&Fc(t.alternate,t);break;default:hn(e,t,l,a)}}function ka(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,x=t,S=l,T=a,X=x.flags;switch(x.tag){case 0:case 11:case 15:ka(u,x,S,T,s),zr(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?ka(u,x,S,T,s):Vr(u,x):(K._visibility|=2,ka(u,x,S,T,s)),s&&X&2048&&Kc(x.alternate,x);break;case 24:ka(u,x,S,T,s),s&&X&2048&&Fc(x.alternate,x);break;default:ka(u,x,S,T,s)}t=t.sibling}}function Vr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:Vr(l,a),s&2048&&Kc(a.alternate,a);break;case 24:Vr(l,a),s&2048&&Fc(a.alternate,a);break;default:Vr(l,a)}t=t.sibling}}var Br=8192;function Ra(e,t,l){if(e.subtreeFlags&Br)for(e=e.child;e!==null;)Mm(e,t,l),e=e.sibling}function Mm(e,t,l){switch(e.tag){case 26:Ra(e,t,l),e.flags&Br&&e.memoizedState!==null&&Mv(l,dn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,t,l);break;case 3:case 4:var a=dn;dn=Eo(e.stateNode.containerInfo),Ra(e,t,l),dn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Br,Br=16777216,Ra(e,t,l),Br=a):Ra(e,t,l));break;default:Ra(e,t,l)}}function Dm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Rm(a,e)}Dm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)km(e),e=e.sibling}function km(e){switch(e.tag){case 0:case 11:case 15:Hr(e),e.flags&2048&&ol(9,e,e.return);break;case 3:Hr(e);break;case 12:Hr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,uo(e)):Hr(e);break;default:Hr(e)}}function uo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Rm(a,e)}Dm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ol(8,t,t.return),uo(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,uo(t));break;default:uo(t)}e=e.sibling}}function Rm(e,t){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:ol(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Sr(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,vt=a;else e:for(l=e;vt!==null;){a=vt;var s=a.sibling,u=a.return;if(Em(a),a===l){vt=null;break e}if(s!==null){s.return=u,vt=s;break e}vt=u}}}var $b={getCacheForType:function(e){var t=Et(ut),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Et(ut).controller.signal}},Wb=typeof WeakMap=="function"?WeakMap:Map,Be=0,We=null,Te=null,De=0,Ye=0,$t=null,sl=!1,za=!1,Jc=!1,Hn=0,lt=0,cl=0,Fl=0,Pc=0,Wt=0,La=0,Ur=null,Bt=null,eu=!1,fo=0,zm=0,ho=1/0,mo=null,ul=null,pt=0,fl=null,Va=null,Un=0,tu=0,nu=null,Lm=null,Yr=0,lu=null;function Zt(){return(Be&2)!==0&&De!==0?De&-De:A.T!==null?cu():Jf()}function Vm(){if(Wt===0)if((De&536870912)===0||Re){var e=kl;kl<<=1,(kl&3932160)===0&&(kl=262144),Wt=e}else Wt=536870912;return e=Xt.current,e!==null&&(e.flags|=32),Wt}function Ht(e,t,l){(e===We&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),dl(e,De,Wt,!1)),sr(e,l),((Be&2)===0||e!==We)&&(e===We&&((Be&2)===0&&(Fl|=l),lt===4&&dl(e,De,Wt,!1)),yn(e))}function Bm(e,t,l){if((Be&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||or(e,t),s=a?Kb(e,t):ru(e,t,!0),u=a;do{if(s===0){za&&!a&&dl(e,t,0,!1);break}else{if(l=e.current.alternate,u&&!Zb(l)){s=ru(e,t,!1),u=!1;continue}if(s===2){if(u=t,e.errorRecoveryDisabledLanes&u)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var S=e;s=Ur;var T=S.current.memoizedState.isDehydrated;if(T&&(Ba(S,x).flags|=256),x=ru(S,x,!1),x!==2){if(Jc&&!T){S.errorRecoveryDisabledLanes|=u,Fl|=u,s=4;break e}u=Bt,Bt=s,u!==null&&(Bt===null?Bt=u:Bt.push.apply(Bt,u))}s=x}if(u=!1,s!==2)continue}}if(s===1){Ba(e,0),dl(e,t,0,!0);break}e:{switch(a=e,u=s,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:dl(a,t,Wt,!sl);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=fo+300-tt(),10<s)){if(dl(a,t,Wt,!sl),Ni(a,0,!0)!==0)break e;Un=t,a.timeoutHandle=pp(Hm.bind(null,a,l,Bt,mo,eu,t,Wt,Fl,La,sl,u,"Throttled",-0,0),s);break e}Hm(a,l,Bt,mo,eu,t,Wt,Fl,La,sl,u,null,-0,0)}}break}while(!0);yn(e)}function Hm(e,t,l,a,s,u,x,S,T,X,K,te,$,Z){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Mm(t,u,te);var fe=(u&62914560)===u?fo-tt():(u&4194048)===u?zm-tt():0;if(fe=Dv(te,fe),fe!==null){Un=u,e.cancelPendingCommit=fe(Wm.bind(null,e,t,u,l,a,s,x,S,T,K,te,null,$,Z)),dl(e,u,x,!X);return}}Wm(e,t,u,l,a,s,x,S,T)}function Zb(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],u=s.getSnapshot;s=s.value;try{if(!It(u(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dl(e,t,l,a){t&=~Pc,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var u=31-Pe(s),x=1<<u;a[u]=-1,s&=~x}l!==0&&Qf(e,l,t)}function po(){return(Be&6)===0?(Ir(0),!1):!0}function au(){if(Te!==null){if(Ye===0)var e=Te.return;else e=Te,On=Il=null,vc(e),_a=null,Er=0,e=Te;for(;e!==null;)gm(e.alternate,e),e=e.return;Te=null}}function Ba(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,mv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Un=0,au(),We=e,Te=l=An(e.current,null),De=t,Ye=0,$t=null,sl=!1,za=or(e,t),Jc=!1,La=Wt=Pc=Fl=cl=lt=0,Bt=Ur=null,eu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-Pe(a),u=1<<s;t|=e[s],a&=~u}return Hn=t,zi(),l}function Um(e,t){je=null,A.H=Dr,t===Aa||t===qi?(t=nh(),Ye=3):t===sc?(t=nh(),Ye=4):Ye=t===Lc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$t=t,Te===null&&(lt=1,lo(e,tn(t,e.current)))}function Ym(){var e=Xt.current;return e===null?!0:(De&4194048)===De?rn===null:(De&62914560)===De||(De&536870912)!==0?e===rn:!1}function Im(){var e=A.H;return A.H=Dr,e===null?Dr:e}function qm(){var e=A.A;return A.A=$b,e}function go(){lt=4,sl||(De&4194048)!==De&&Xt.current!==null||(za=!0),(cl&134217727)===0&&(Fl&134217727)===0||We===null||dl(We,De,Wt,!1)}function ru(e,t,l){var a=Be;Be|=2;var s=Im(),u=qm();(We!==e||De!==t)&&(mo=null,Ba(e,t)),t=!1;var x=lt;e:do try{if(Ye!==0&&Te!==null){var S=Te,T=$t;switch(Ye){case 8:au(),x=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(t=!0);var X=Ye;if(Ye=0,$t=null,Ha(e,S,T,X),l&&za){x=0;break e}break;default:X=Ye,Ye=0,$t=null,Ha(e,S,T,X)}}Qb(),x=lt;break}catch(K){Um(e,K)}while(!0);return t&&e.shellSuspendCounter++,On=Il=null,Be=a,A.H=s,A.A=u,Te===null&&(We=null,De=0,zi()),x}function Qb(){for(;Te!==null;)Xm(Te)}function Kb(e,t){var l=Be;Be|=2;var a=Im(),s=qm();We!==e||De!==t?(mo=null,ho=tt()+500,Ba(e,t)):za=or(e,t);e:do try{if(Ye!==0&&Te!==null){t=Te;var u=$t;t:switch(Ye){case 1:Ye=0,$t=null,Ha(e,t,u,1);break;case 2:case 9:if(eh(u)){Ye=0,$t=null,Gm(t);break}t=function(){Ye!==2&&Ye!==9||We!==e||(Ye=7),yn(e)},u.then(t,t);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:eh(u)?(Ye=0,$t=null,Gm(t)):(Ye=0,$t=null,Ha(e,t,u,7));break;case 5:var x=null;switch(Te.tag){case 26:x=Te.memoizedState;case 5:case 27:var S=Te;if(x?Tp(x):S.stateNode.complete){Ye=0,$t=null;var T=S.sibling;if(T!==null)Te=T;else{var X=S.return;X!==null?(Te=X,xo(X)):Te=null}break t}}Ye=0,$t=null,Ha(e,t,u,5);break;case 6:Ye=0,$t=null,Ha(e,t,u,6);break;case 8:au(),lt=6;break e;default:throw Error(o(462))}}Fb();break}catch(K){Um(e,K)}while(!0);return On=Il=null,A.H=a,A.A=s,Be=l,Te!==null?0:(We=null,De=0,zi(),lt)}function Fb(){for(;Te!==null&&!Ze();)Xm(Te)}function Xm(e){var t=mm(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?xo(e):Te=t}function Gm(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=sm(l,t,t.pendingProps,t.type,void 0,De);break;case 11:t=sm(l,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:vc(t);default:gm(l,t),t=Te=qd(t,Hn),t=mm(l,t,Hn)}e.memoizedProps=e.pendingProps,t===null?xo(e):Te=t}function Ha(e,t,l,a){On=Il=null,vc(t),_a=null,Er=0;var s=t.return;try{if(Hb(e,s,t,l,De)){lt=1,lo(e,tn(l,e.current)),Te=null;return}}catch(u){if(s!==null)throw Te=s,u;lt=1,lo(e,tn(l,e.current)),Te=null;return}t.flags&32768?(Re||a===1?e=!0:za||(De&536870912)!==0?e=!1:(sl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Xt.current,a!==null&&a.tag===13&&(a.flags|=16384))),$m(t,e)):xo(t)}function xo(e){var t=e;do{if((t.flags&32768)!==0){$m(t,sl);return}e=t.return;var l=Ib(t.alternate,t,Hn);if(l!==null){Te=l;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);lt===0&&(lt=5)}function $m(e,t){do{var l=qb(e.alternate,e);if(l!==null){l.flags&=32767,Te=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=l}while(e!==null);lt=6,Te=null}function Wm(e,t,l,a,s,u,x,S,T){e.cancelPendingCommit=null;do yo();while(pt!==0);if((Be&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Ws,T0(e,l,u,x,S,T),e===We&&(Te=We=null,De=0),Va=t,fl=e,Un=l,tu=u,nu=s,Lm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tv(Qn,function(){return Jm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,s=k.p,k.p=2,x=Be,Be|=4;try{Xb(e,t,l)}finally{Be=x,k.p=s,A.T=a}}pt=1,Zm(),Qm(),Km()}}function Zm(){if(pt===1){pt=0;var e=fl,t=Va,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=A.T,A.T=null;var a=k.p;k.p=2;var s=Be;Be|=4;try{_m(t,e);var u=xu,x=Rd(e.containerInfo),S=u.focusedElem,T=u.selectionRange;if(x!==S&&S&&S.ownerDocument&&kd(S.ownerDocument.documentElement,S)){if(T!==null&&Is(S)){var X=T.start,K=T.end;if(K===void 0&&(K=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(K,S.value.length);else{var te=S.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var Z=$.getSelection(),fe=S.textContent.length,ve=Math.min(T.start,fe),$e=T.end===void 0?ve:Math.min(T.end,fe);!Z.extend&&ve>$e&&(x=$e,$e=ve,ve=x);var B=Dd(S,ve),D=Dd(S,$e);if(B&&D&&(Z.rangeCount!==1||Z.anchorNode!==B.node||Z.anchorOffset!==B.offset||Z.focusNode!==D.node||Z.focusOffset!==D.offset)){var q=te.createRange();q.setStart(B.node,B.offset),Z.removeAllRanges(),ve>$e?(Z.addRange(q),Z.extend(D.node,D.offset)):(q.setEnd(D.node,D.offset),Z.addRange(q))}}}}for(te=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&te.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var P=te[S];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}To=!!gu,xu=gu=null}finally{Be=s,k.p=a,A.T=l}}e.current=t,pt=2}}function Qm(){if(pt===2){pt=0;var e=fl,t=Va,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=A.T,A.T=null;var a=k.p;k.p=2;var s=Be;Be|=4;try{Nm(e,t.alternate,t)}finally{Be=s,k.p=a,A.T=l}}pt=3}}function Km(){if(pt===4||pt===3){pt=0,et();var e=fl,t=Va,l=Un,a=Lm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,Va=fl=null,Fm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ul=null),Ns(l),t=t.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Ee,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=A.T,s=k.p,k.p=2,A.T=null;try{for(var u=e.onRecoverableError,x=0;x<a.length;x++){var S=a[x];u(S.value,{componentStack:S.stack})}}finally{A.T=t,k.p=s}}(Un&3)!==0&&yo(),yn(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===lu?Yr++:(Yr=0,lu=e):Yr=0,Ir(0)}}function Fm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Sr(t)))}function yo(){return Zm(),Qm(),Km(),Jm()}function Jm(){if(pt!==5)return!1;var e=fl,t=tu;tu=0;var l=Ns(Un),a=A.T,s=k.p;try{k.p=32>l?32:l,A.T=null,l=nu,nu=null;var u=fl,x=Un;if(pt=0,Va=fl=null,Un=0,(Be&6)!==0)throw Error(o(331));var S=Be;if(Be|=4,km(u.current),Tm(u,u.current,x,l),Be=S,Ir(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Ee,u)}catch{}return!0}finally{k.p=s,A.T=a,Fm(e,t)}}function Pm(e,t,l){t=tn(l,t),t=zc(e.stateNode,t,2),e=al(e,t,2),e!==null&&(sr(e,2),yn(e))}function Ie(e,t,l){if(e.tag===3)Pm(e,e,l);else for(;t!==null;){if(t.tag===3){Pm(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ul===null||!ul.has(a))){e=tn(l,e),l=em(2),a=al(t,l,2),a!==null&&(tm(l,a,t,e),sr(a,2),yn(a));break}}t=t.return}}function iu(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Wb;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(Jc=!0,s.add(l),e=Jb.bind(null,e,t,l),t.then(e,e))}function Jb(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,We===e&&(De&l)===l&&(lt===4||lt===3&&(De&62914560)===De&&300>tt()-fo?(Be&2)===0&&Ba(e,0):Pc|=l,La===De&&(La=0)),yn(e)}function ep(e,t){t===0&&(t=Zf()),e=Hl(e,t),e!==null&&(sr(e,t),yn(e))}function Pb(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ep(e,l)}function ev(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),ep(e,l)}function tv(e,t){return Ne(e,t)}var bo=null,Ua=null,ou=!1,vo=!1,su=!1,hl=0;function yn(e){e!==Ua&&e.next===null&&(Ua===null?bo=Ua=e:Ua=Ua.next=e),vo=!0,ou||(ou=!0,lv())}function Ir(e,t){if(!su&&vo){su=!0;do for(var l=!1,a=bo;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var u=0;else{var x=a.suspendedLanes,S=a.pingedLanes;u=(1<<31-Pe(42|e)+1)-1,u&=s&~(x&~S),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(l=!0,ap(a,u))}else u=De,u=Ni(a,a===We?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||or(a,u)||(l=!0,ap(a,u));a=a.next}while(l);su=!1}}function nv(){tp()}function tp(){vo=ou=!1;var e=0;hl!==0&&hv()&&(e=hl);for(var t=tt(),l=null,a=bo;a!==null;){var s=a.next,u=np(a,t);u===0?(a.next=null,l===null?bo=s:l.next=s,s===null&&(Ua=l)):(l=a,(e!==0||(u&3)!==0)&&(vo=!0)),a=s}pt!==0&&pt!==5||Ir(e),hl!==0&&(hl=0)}function np(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var x=31-Pe(u),S=1<<x,T=s[x];T===-1?((S&l)===0||(S&a)!==0)&&(s[x]=O0(S,t)):T<=t&&(e.expiredLanes|=S),u&=~S}if(t=We,l=De,l=Ni(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Qe(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||or(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Qe(a),Ns(l)){case 2:case 8:l=aa;break;case 32:l=Qn;break;case 268435456:l=ra;break;default:l=Qn}return a=lp.bind(null,e),l=Ne(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Qe(a),e.callbackPriority=2,e.callbackNode=null,2}function lp(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(yo()&&e.callbackNode!==l)return null;var a=De;return a=Ni(e,e===We?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Bm(e,a,t),np(e,tt()),e.callbackNode!=null&&e.callbackNode===l?lp.bind(null,e):null)}function ap(e,t){if(yo())return null;Bm(e,t,!0)}function lv(){pv(function(){(Be&6)!==0?Ne(Zn,nv):tp()})}function cu(){if(hl===0){var e=ja;e===0&&(e=Dl,Dl<<=1,(Dl&261888)===0&&(Dl=256)),hl=e}return hl}function rp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ai(""+e)}function ip(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function av(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var u=rp((s[kt]||null).action),x=a.submitter;x&&(t=(t=x[kt]||null)?rp(t.formAction):x.getAttribute("formAction"),t!==null&&(u=t,x=null));var S=new Mi("action","action",null,a,s);e.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(hl!==0){var T=x?ip(s,x):new FormData(s);Oc(l,{pending:!0,data:T,method:s.method,action:u},null,T)}}else typeof u=="function"&&(S.preventDefault(),T=x?ip(s,x):new FormData(s),Oc(l,{pending:!0,data:T,method:s.method,action:u},u,T))},currentTarget:s}]})}}for(var uu=0;uu<$s.length;uu++){var fu=$s[uu],rv=fu.toLowerCase(),iv=fu[0].toUpperCase()+fu.slice(1);fn(rv,"on"+iv)}fn(Vd,"onAnimationEnd"),fn(Bd,"onAnimationIteration"),fn(Hd,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Sb,"onTransitionRun"),fn(Nb,"onTransitionStart"),fn(Eb,"onTransitionCancel"),fn(Ud,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zl("onBeforeInput",["compositionend","keypress","textInput","paste"]),zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ov=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qr));function op(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var x=a.length-1;0<=x;x--){var S=a[x],T=S.instance,X=S.currentTarget;if(S=S.listener,T!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=X;try{u(s)}catch(K){Ri(K)}s.currentTarget=null,u=T}else for(x=0;x<a.length;x++){if(S=a[x],T=S.instance,X=S.currentTarget,S=S.listener,T!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=X;try{u(s)}catch(K){Ri(K)}s.currentTarget=null,u=T}}}}function Me(e,t){var l=t[Es];l===void 0&&(l=t[Es]=new Set);var a=e+"__bubble";l.has(a)||(sp(t,e,2,!1),l.add(a))}function du(e,t,l){var a=0;t&&(a|=4),sp(l,e,a,t)}var wo="_reactListening"+Math.random().toString(36).slice(2);function hu(e){if(!e[wo]){e[wo]=!0,td.forEach(function(l){l!=="selectionchange"&&(ov.has(l)||du(l,!1,e),du(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wo]||(t[wo]=!0,du("selectionchange",!1,t))}}function sp(e,t,l,a){switch(Vp(t)){case 2:var s=zv;break;case 8:s=Lv;break;default:s=_u}l=s.bind(null,t,l,e),s=void 0,!ks||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function mu(e,t,l,a,s){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var S=a.stateNode.containerInfo;if(S===s)break;if(x===4)for(x=a.return;x!==null;){var T=x.tag;if((T===3||T===4)&&x.stateNode.containerInfo===s)return;x=x.return}for(;S!==null;){if(x=sa(S),x===null)return;if(T=x.tag,T===5||T===6||T===26||T===27){a=u=x;continue e}S=S.parentNode}}a=a.return}hd(function(){var X=u,K=Ms(l),te=[];e:{var $=Yd.get(e);if($!==void 0){var Z=Mi,fe=e;switch(e){case"keypress":if(Oi(l)===0)break e;case"keydown":case"keyup":Z=eb;break;case"focusin":fe="focus",Z=Vs;break;case"focusout":fe="blur",Z=Vs;break;case"beforeblur":case"afterblur":Z=Vs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=I0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=lb;break;case Vd:case Bd:case Hd:Z=G0;break;case Ud:Z=rb;break;case"scroll":case"scrollend":Z=U0;break;case"wheel":Z=ob;break;case"copy":case"cut":case"paste":Z=W0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=yd;break;case"toggle":case"beforetoggle":Z=cb}var ve=(t&4)!==0,$e=!ve&&(e==="scroll"||e==="scrollend"),B=ve?$!==null?$+"Capture":null:$;ve=[];for(var D=X,q;D!==null;){var P=D;if(q=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||q===null||B===null||(P=fr(D,B),P!=null&&ve.push(Xr(D,P,q))),$e)break;D=D.return}0<ve.length&&($=new Z($,fe,null,l,K),te.push({event:$,listeners:ve}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",$&&l!==Ts&&(fe=l.relatedTarget||l.fromElement)&&(sa(fe)||fe[oa]))break e;if((Z||$)&&($=K.window===K?K:($=K.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(fe=l.relatedTarget||l.toElement,Z=X,fe=fe?sa(fe):null,fe!==null&&($e=f(fe),ve=fe.tag,fe!==$e||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(Z=null,fe=X),Z!==fe)){if(ve=gd,P="onMouseLeave",B="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ve=yd,P="onPointerLeave",B="onPointerEnter",D="pointer"),$e=Z==null?$:ur(Z),q=fe==null?$:ur(fe),$=new ve(P,D+"leave",Z,l,K),$.target=$e,$.relatedTarget=q,P=null,sa(K)===X&&(ve=new ve(B,D+"enter",fe,l,K),ve.target=q,ve.relatedTarget=$e,P=ve),$e=P,Z&&fe)t:{for(ve=sv,B=Z,D=fe,q=0,P=B;P;P=ve(P))q++;P=0;for(var be=D;be;be=ve(be))P++;for(;0<q-P;)B=ve(B),q--;for(;0<P-q;)D=ve(D),P--;for(;q--;){if(B===D||D!==null&&B===D.alternate){ve=B;break t}B=ve(B),D=ve(D)}ve=null}else ve=null;Z!==null&&cp(te,$,Z,ve,!1),fe!==null&&$e!==null&&cp(te,$e,fe,ve,!0)}}e:{if($=X?ur(X):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var ze=Cd;else if(Ed($))if(Ad)ze=bb;else{ze=xb;var pe=gb}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?X&&Os(X.elementType)&&(ze=Cd):ze=yb;if(ze&&(ze=ze(e,X))){jd(te,ze,l,K);break e}pe&&pe(e,$,X),e==="focusout"&&X&&$.type==="number"&&X.memoizedProps.value!=null&&_s($,"number",$.value)}switch(pe=X?ur(X):window,e){case"focusin":(Ed(pe)||pe.contentEditable==="true")&&(xa=pe,qs=X,br=null);break;case"focusout":br=qs=xa=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,zd(te,l,K);break;case"selectionchange":if(wb)break;case"keydown":case"keyup":zd(te,l,K)}var Ce;if(Hs)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ga?Sd(e,l)&&(ke="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(bd&&l.locale!=="ko"&&(ga||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ga&&(Ce=md()):(Fn=K,Rs="value"in Fn?Fn.value:Fn.textContent,ga=!0)),pe=So(X,ke),0<pe.length&&(ke=new xd(ke,e,null,l,K),te.push({event:ke,listeners:pe}),Ce?ke.data=Ce:(Ce=Nd(l),Ce!==null&&(ke.data=Ce)))),(Ce=fb?db(e,l):hb(e,l))&&(ke=So(X,"onBeforeInput"),0<ke.length&&(pe=new xd("onBeforeInput","beforeinput",null,l,K),te.push({event:pe,listeners:ke}),pe.data=Ce)),av(te,e,X,l,K)}op(te,t)})}function Xr(e,t,l){return{instance:e,listener:t,currentTarget:l}}function So(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,u=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||u===null||(s=fr(e,l),s!=null&&a.unshift(Xr(e,s,u)),s=fr(e,t),s!=null&&a.push(Xr(e,s,u))),e.tag===3)return a;e=e.return}return[]}function sv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cp(e,t,l,a,s){for(var u=t._reactName,x=[];l!==null&&l!==a;){var S=l,T=S.alternate,X=S.stateNode;if(S=S.tag,T!==null&&T===a)break;S!==5&&S!==26&&S!==27||X===null||(T=X,s?(X=fr(l,u),X!=null&&x.unshift(Xr(l,X,T))):s||(X=fr(l,u),X!=null&&x.push(Xr(l,X,T)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var cv=/\r\n?/g,uv=/\u0000|\uFFFD/g;function up(e){return(typeof e=="string"?e:""+e).replace(cv,`
`).replace(uv,"")}function fp(e,t){return t=up(t),up(e)===t}function Ge(e,t,l,a,s,u){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ha(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ha(e,""+a);break;case"className":ji(e,"class",a);break;case"tabIndex":ji(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(e,l,a);break;case"style":fd(e,a,u);break;case"data":if(t!=="object"){ji(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ai(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(l==="formAction"?(t!=="input"&&Ge(e,t,"name",s.name,s,null),Ge(e,t,"formEncType",s.formEncType,s,null),Ge(e,t,"formMethod",s.formMethod,s,null),Ge(e,t,"formTarget",s.formTarget,s,null)):(Ge(e,t,"encType",s.encType,s,null),Ge(e,t,"method",s.method,s,null),Ge(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ai(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=jn);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Ai(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Ei(e,"popover",a);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ei(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=B0.get(l)||l,Ei(e,l,a))}}function pu(e,t,l,a,s,u){switch(l){case"style":fd(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?ha(e,a):(typeof a=="number"||typeof a=="bigint")&&ha(e,""+a);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"onClick":a!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),u=e[kt]||null,u=u!=null?u[l]:null,typeof u=="function"&&e.removeEventListener(t,u,s),typeof a=="function")){typeof u!="function"&&u!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Ei(e,l,a)}}}function Ct(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var a=!1,s=!1,u;for(u in l)if(l.hasOwnProperty(u)){var x=l[u];if(x!=null)switch(u){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ge(e,t,u,x,l,null)}}s&&Ge(e,t,"srcSet",l.srcSet,l,null),a&&Ge(e,t,"src",l.src,l,null);return;case"input":Me("invalid",e);var S=u=x=s=null,T=null,X=null;for(a in l)if(l.hasOwnProperty(a)){var K=l[a];if(K!=null)switch(a){case"name":s=K;break;case"type":x=K;break;case"checked":T=K;break;case"defaultChecked":X=K;break;case"value":u=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,t));break;default:Ge(e,t,a,K,l,null)}}od(e,u,S,T,X,x,s,!1);return;case"select":Me("invalid",e),a=x=u=null;for(s in l)if(l.hasOwnProperty(s)&&(S=l[s],S!=null))switch(s){case"value":u=S;break;case"defaultValue":x=S;break;case"multiple":a=S;default:Ge(e,t,s,S,l,null)}t=u,l=x,e.multiple=!!a,t!=null?da(e,!!a,t,!1):l!=null&&da(e,!!a,l,!0);return;case"textarea":Me("invalid",e),u=s=a=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":a=S;break;case"defaultValue":s=S;break;case"children":u=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:Ge(e,t,x,S,l,null)}cd(e,a,s,u);return;case"option":for(T in l)l.hasOwnProperty(T)&&(a=l[T],a!=null)&&(T==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Ge(e,t,T,a,l,null));return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(a=0;a<qr.length;a++)Me(qr[a],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(a=l[X],a!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ge(e,t,X,a,l,null)}return;default:if(Os(t)){for(K in l)l.hasOwnProperty(K)&&(a=l[K],a!==void 0&&pu(e,t,K,a,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(a=l[S],a!=null&&Ge(e,t,S,a,l,null))}function fv(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,u=null,x=null,S=null,T=null,X=null,K=null;for(Z in l){var te=l[Z];if(l.hasOwnProperty(Z)&&te!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":T=te;default:a.hasOwnProperty(Z)||Ge(e,t,Z,null,a,te)}}for(var $ in a){var Z=a[$];if(te=l[$],a.hasOwnProperty($)&&(Z!=null||te!=null))switch($){case"type":u=Z;break;case"name":s=Z;break;case"checked":X=Z;break;case"defaultChecked":K=Z;break;case"value":x=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,t));break;default:Z!==te&&Ge(e,t,$,Z,a,te)}}As(e,x,S,T,X,K,u,s);return;case"select":Z=x=S=$=null;for(u in l)if(T=l[u],l.hasOwnProperty(u)&&T!=null)switch(u){case"value":break;case"multiple":Z=T;default:a.hasOwnProperty(u)||Ge(e,t,u,null,a,T)}for(s in a)if(u=a[s],T=l[s],a.hasOwnProperty(s)&&(u!=null||T!=null))switch(s){case"value":$=u;break;case"defaultValue":S=u;break;case"multiple":x=u;default:u!==T&&Ge(e,t,s,u,a,T)}t=S,l=x,a=Z,$!=null?da(e,!!l,$,!1):!!a!=!!l&&(t!=null?da(e,!!l,t,!0):da(e,!!l,l?[]:"",!1));return;case"textarea":Z=$=null;for(S in l)if(s=l[S],l.hasOwnProperty(S)&&s!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ge(e,t,S,null,a,s)}for(x in a)if(s=a[x],u=l[x],a.hasOwnProperty(x)&&(s!=null||u!=null))switch(x){case"value":$=s;break;case"defaultValue":Z=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==u&&Ge(e,t,x,s,a,u)}sd(e,$,Z);return;case"option":for(var fe in l)$=l[fe],l.hasOwnProperty(fe)&&$!=null&&!a.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:Ge(e,t,fe,null,a,$));for(T in a)$=a[T],Z=l[T],a.hasOwnProperty(T)&&$!==Z&&($!=null||Z!=null)&&(T==="selected"?e.selected=$&&typeof $!="function"&&typeof $!="symbol":Ge(e,t,T,$,a,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)$=l[ve],l.hasOwnProperty(ve)&&$!=null&&!a.hasOwnProperty(ve)&&Ge(e,t,ve,null,a,$);for(X in a)if($=a[X],Z=l[X],a.hasOwnProperty(X)&&$!==Z&&($!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,t));break;default:Ge(e,t,X,$,a,Z)}return;default:if(Os(t)){for(var $e in l)$=l[$e],l.hasOwnProperty($e)&&$!==void 0&&!a.hasOwnProperty($e)&&pu(e,t,$e,void 0,a,$);for(K in a)$=a[K],Z=l[K],!a.hasOwnProperty(K)||$===Z||$===void 0&&Z===void 0||pu(e,t,K,$,a,Z);return}}for(var B in l)$=l[B],l.hasOwnProperty(B)&&$!=null&&!a.hasOwnProperty(B)&&Ge(e,t,B,null,a,$);for(te in a)$=a[te],Z=l[te],!a.hasOwnProperty(te)||$===Z||$==null&&Z==null||Ge(e,t,te,$,a,Z)}function dp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],u=s.transferSize,x=s.initiatorType,S=s.duration;if(u&&S&&dp(x)){for(x=0,S=s.responseEnd,a+=1;a<l.length;a++){var T=l[a],X=T.startTime;if(X>S)break;var K=T.transferSize,te=T.initiatorType;K&&dp(te)&&(T=T.responseEnd,x+=K*(T<S?1:(S-X)/(T-X)))}if(--a,t+=8*(u+x)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gu=null,xu=null;function No(e){return e.nodeType===9?e:e.ownerDocument}function hp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=null;function hv(){var e=window.event;return e&&e.type==="popstate"?e===bu?!1:(bu=e,!0):(bu=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,mv=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,pv=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(gv)}:pp;function gv(e){setTimeout(function(){throw e})}function ml(e){return e==="head"}function xp(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),Xa(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Gr(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Gr(l);for(var u=l.firstChild;u;){var x=u.nextSibling,S=u.nodeName;u[cr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=x}}else l==="body"&&Gr(e.ownerDocument.body);l=s}while(l);Xa(t)}function yp(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function vu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vu(l),js(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function xv(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[cr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function yv(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=on(e.nextSibling),e===null))return null;return e}function bp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=on(e.nextSibling),e===null))return null;return e}function wu(e){return e.data==="$?"||e.data==="$~"}function Su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bv(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Nu=null;function vp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return on(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Sp(e,t,l){switch(t=No(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Gr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);js(e)}var sn=new Map,Np=new Set;function Eo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=k.d;k.d={f:vv,r:wv,D:Sv,C:Nv,L:Ev,m:jv,X:Av,S:Cv,M:_v};function vv(){var e=Yn.f(),t=po();return e||t}function wv(e){var t=ca(e);t!==null&&t.tag===5&&t.type==="form"?Uh(t):Yn.r(e)}var Ya=typeof document>"u"?null:document;function Ep(e,t,l){var a=Ya;if(a&&typeof t=="string"&&t){var s=Pt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),Np.has(s)||(Np.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),Ct(t,"link",e),bt(t),a.head.appendChild(t)))}}function Sv(e){Yn.D(e),Ep("dns-prefetch",e,null)}function Nv(e,t){Yn.C(e,t),Ep("preconnect",e,t)}function Ev(e,t,l){Yn.L(e,t,l);var a=Ya;if(a&&e&&t){var s='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+Pt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+Pt(l.imageSizes)+'"]')):s+='[href="'+Pt(e)+'"]';var u=s;switch(t){case"style":u=Ia(e);break;case"script":u=qa(e)}sn.has(u)||(e=b({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),sn.set(u,e),a.querySelector(s)!==null||t==="style"&&a.querySelector($r(u))||t==="script"&&a.querySelector(Wr(u))||(t=a.createElement("link"),Ct(t,"link",e),bt(t),a.head.appendChild(t)))}}function jv(e,t){Yn.m(e,t);var l=Ya;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Pt(a)+'"][href="'+Pt(e)+'"]',u=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=qa(e)}if(!sn.has(u)&&(e=b({rel:"modulepreload",href:e},t),sn.set(u,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wr(u)))return}a=l.createElement("link"),Ct(a,"link",e),bt(a),l.head.appendChild(a)}}}function Cv(e,t,l){Yn.S(e,t,l);var a=Ya;if(a&&e){var s=ua(a).hoistableStyles,u=Ia(e);t=t||"default";var x=s.get(u);if(!x){var S={loading:0,preload:null};if(x=a.querySelector($r(u)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},l),(l=sn.get(u))&&Eu(e,l);var T=x=a.createElement("link");bt(T),Ct(T,"link",e),T._p=new Promise(function(X,K){T.onload=X,T.onerror=K}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,jo(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:S},s.set(u,x)}}}function Av(e,t){Yn.X(e,t);var l=Ya;if(l&&e){var a=ua(l).hoistableScripts,s=qa(e),u=a.get(s);u||(u=l.querySelector(Wr(s)),u||(e=b({src:e,async:!0},t),(t=sn.get(s))&&ju(e,t),u=l.createElement("script"),bt(u),Ct(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function _v(e,t){Yn.M(e,t);var l=Ya;if(l&&e){var a=ua(l).hoistableScripts,s=qa(e),u=a.get(s);u||(u=l.querySelector(Wr(s)),u||(e=b({src:e,async:!0,type:"module"},t),(t=sn.get(s))&&ju(e,t),u=l.createElement("script"),bt(u),Ct(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function jp(e,t,l,a){var s=(s=me.current)?Eo(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ia(l.href),l=ua(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ia(l.href);var u=ua(s).hoistableStyles,x=u.get(e);if(x||(s=s.ownerDocument||s,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,x),(u=s.querySelector($r(e)))&&!u._p&&(x.instance=u,x.state.loading=5),sn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},sn.set(e,l),u||Ov(s,e,l,x.state))),t&&a===null)throw Error(o(528,""));return x}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qa(l),l=ua(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ia(e){return'href="'+Pt(e)+'"'}function $r(e){return'link[rel="stylesheet"]['+e+"]"}function Cp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Ov(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ct(t,"link",l),bt(t),e.head.appendChild(t))}function qa(e){return'[src="'+Pt(e)+'"]'}function Wr(e){return"script[async]"+e}function Ap(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Pt(l.href)+'"]');if(a)return t.instance=a,bt(a),a;var s=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),bt(a),Ct(a,"style",s),jo(a,l.precedence,e),t.instance=a;case"stylesheet":s=Ia(l.href);var u=e.querySelector($r(s));if(u)return t.state.loading|=4,t.instance=u,bt(u),u;a=Cp(l),(s=sn.get(s))&&Eu(a,s),u=(e.ownerDocument||e).createElement("link"),bt(u);var x=u;return x._p=new Promise(function(S,T){x.onload=S,x.onerror=T}),Ct(u,"link",a),t.state.loading|=4,jo(u,l.precedence,e),t.instance=u;case"script":return u=qa(l.src),(s=e.querySelector(Wr(u)))?(t.instance=s,bt(s),s):(a=l,(s=sn.get(u))&&(a=b({},l),ju(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),bt(s),Ct(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,jo(a,l.precedence,e));return t.instance}function jo(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,u=s,x=0;x<a.length;x++){var S=a[x];if(S.dataset.precedence===t)u=S;else if(u!==s)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Co=null;function _p(e,t,l){if(Co===null){var a=new Map,s=Co=new Map;s.set(l,a)}else s=Co,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var u=l[s];if(!(u[cr]||u[St]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var x=u.getAttribute(t)||"";x=e+x;var S=a.get(x);S?S.push(u):a.set(x,[u])}}return a}function Op(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Tv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Mv(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=Ia(a.href),u=t.querySelector($r(s));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ao.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=u,bt(u);return}u=t.ownerDocument||t,a=Cp(a),(s=sn.get(s))&&Eu(a,s),u=u.createElement("link"),bt(u);var x=u;x._p=new Promise(function(S,T){x.onload=S,x.onerror=T}),Ct(u,"link",a),l.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ao.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Cu=0;function Dv(e,t){return e.stylesheets&&e.count===0&&Oo(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Cu===0&&(Cu=62500*dv());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Cu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Ao(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _o=null;function Oo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_o=new Map,t.forEach(kv,e),_o=null,Ao.call(e))}function kv(e,t){if(!(t.state.loading&4)){var l=_o.get(e);if(l)var a=l.get(null);else{l=new Map,_o.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<s.length;u++){var x=s[u];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),a=x)}a&&l.set(null,a)}s=t.instance,x=s.getAttribute("data-precedence"),u=l.get(x)||a,u===a&&l.set(null,s),l.set(x,s),this.count++,a=Ao.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),u?u.parentNode.insertBefore(s,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Zr={$$typeof:G,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Rv(e,t,l,a,s,u,x,S,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=u,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Mp(e,t,l,a,s,u,x,S,T,X,K,te){return e=new Rv(e,t,l,x,T,X,K,te,S),t=1,u===!0&&(t|=24),u=qt(3,null,null,t),e.current=u,u.stateNode=e,t=rc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:l,cache:t},cc(u),e}function Dp(e){return e?(e=va,e):va}function kp(e,t,l,a,s,u){s=Dp(s),a.context===null?a.context=s:a.pendingContext=s,a=ll(t),a.payload={element:l},u=u===void 0?null:u,u!==null&&(a.callback=u),l=al(e,a,t),l!==null&&(Ht(l,e,t),Cr(l,e,t))}function Rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Au(e,t){Rp(e,t),(e=e.alternate)&&Rp(e,t)}function zp(e){if(e.tag===13||e.tag===31){var t=Hl(e,67108864);t!==null&&Ht(t,e,67108864),Au(e,67108864)}}function Lp(e){if(e.tag===13||e.tag===31){var t=Zt();t=Ss(t);var l=Hl(e,t);l!==null&&Ht(l,e,t),Au(e,t)}}var To=!0;function zv(e,t,l,a){var s=A.T;A.T=null;var u=k.p;try{k.p=2,_u(e,t,l,a)}finally{k.p=u,A.T=s}}function Lv(e,t,l,a){var s=A.T;A.T=null;var u=k.p;try{k.p=8,_u(e,t,l,a)}finally{k.p=u,A.T=s}}function _u(e,t,l,a){if(To){var s=Ou(a);if(s===null)mu(e,t,a,Mo,l),Bp(e,a);else if(Bv(s,e,t,l,a))a.stopPropagation();else if(Bp(e,a),t&4&&-1<Vv.indexOf(e)){for(;s!==null;){var u=ca(s);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var x=Rl(u.pendingLanes);if(x!==0){var S=u;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var T=1<<31-Pe(x);S.entanglements[1]|=T,x&=~T}yn(u),(Be&6)===0&&(ho=tt()+500,Ir(0))}}break;case 31:case 13:S=Hl(u,2),S!==null&&Ht(S,u,2),po(),Au(u,2)}if(u=Ou(a),u===null&&mu(e,t,a,Mo,l),u===s)break;s=u}s!==null&&a.stopPropagation()}else mu(e,t,a,null,l)}}function Ou(e){return e=Ms(e),Tu(e)}var Mo=null;function Tu(e){if(Mo=null,e=sa(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=m(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mo=e,null}function Vp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ol()){case Zn:return 2;case aa:return 8;case Qn:case ir:return 32;case ra:return 268435456;default:return 32}default:return 32}}var Mu=!1,pl=null,gl=null,xl=null,Qr=new Map,Kr=new Map,yl=[],Vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(e,t){switch(e){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":Qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(t.pointerId)}}function Fr(e,t,l,a,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:u,targetContainers:[s]},t!==null&&(t=ca(t),t!==null&&zp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Bv(e,t,l,a,s){switch(t){case"focusin":return pl=Fr(pl,e,t,l,a,s),!0;case"dragenter":return gl=Fr(gl,e,t,l,a,s),!0;case"mouseover":return xl=Fr(xl,e,t,l,a,s),!0;case"pointerover":var u=s.pointerId;return Qr.set(u,Fr(Qr.get(u)||null,e,t,l,a,s)),!0;case"gotpointercapture":return u=s.pointerId,Kr.set(u,Fr(Kr.get(u)||null,e,t,l,a,s)),!0}return!1}function Hp(e){var t=sa(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,Pf(e.priority,function(){Lp(l)});return}}else if(t===31){if(t=m(l),t!==null){e.blockedOn=t,Pf(e.priority,function(){Lp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Do(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Ou(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ts=a,l.target.dispatchEvent(a),Ts=null}else return t=ca(l),t!==null&&zp(t),e.blockedOn=l,!1;t.shift()}return!0}function Up(e,t,l){Do(e)&&l.delete(t)}function Hv(){Mu=!1,pl!==null&&Do(pl)&&(pl=null),gl!==null&&Do(gl)&&(gl=null),xl!==null&&Do(xl)&&(xl=null),Qr.forEach(Up),Kr.forEach(Up)}function ko(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Hv)))}var Ro=null;function Yp(e){Ro!==e&&(Ro=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ro===e&&(Ro=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Tu(a||l)===null)continue;break}var u=ca(l);u!==null&&(e.splice(t,3),t-=3,Oc(u,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function Xa(e){function t(T){return ko(T,e)}pl!==null&&ko(pl,e),gl!==null&&ko(gl,e),xl!==null&&ko(xl,e),Qr.forEach(t),Kr.forEach(t);for(var l=0;l<yl.length;l++){var a=yl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<yl.length&&(l=yl[0],l.blockedOn===null);)Hp(l),l.blockedOn===null&&yl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],u=l[a+1],x=s[kt]||null;if(typeof u=="function")x||Yp(l);else if(x){var S=null;if(u&&u.hasAttribute("formAction")){if(s=u,x=u[kt]||null)S=x.formAction;else if(Tu(s)!==null)continue}else S=x.action;typeof S=="function"?l[a+1]=S:(l.splice(a,3),a-=3),Yp(l)}}}function Ip(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(x){return s=x})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Du(e){this._internalRoot=e}zo.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Zt();kp(l,a,e,t,null,null)},zo.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kp(e.current,2,null,e,null,null),po(),t[oa]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jf();e={blockedOn:null,target:e,priority:t};for(var l=0;l<yl.length&&t!==0&&t<yl[l].priority;l++);yl.splice(l,0,e),l===0&&Hp(e)}};var qp=r.version;if(qp!=="19.2.3")throw Error(o(527,qp,"19.2.3"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Uv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{Ee=Lo.inject(Uv),Ue=Lo}catch{}}return Pr.createRoot=function(e,t){if(!c(e))throw Error(o(299));var l=!1,a="",s=Kh,u=Fh,x=Jh;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=Mp(e,1,!1,null,null,l,a,null,s,u,x,Ip),e[oa]=t.current,hu(e),new Du(t)},Pr.hydrateRoot=function(e,t,l){if(!c(e))throw Error(o(299));var a=!1,s="",u=Kh,x=Fh,S=Jh,T=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(u=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(T=l.formState)),t=Mp(e,1,!0,t,l??null,a,s,T,u,x,S,Ip),t.context=Dp(null),l=t.current,a=Zt(),a=Ss(a),s=ll(a),s.callback=null,al(l,s,a),l=a,t.current.lanes=l,sr(t,l),yn(t),e[oa]=t.current,hu(e),new zo(t)},Pr.version="19.2.3",Pr}var Pp;function Kv(){if(Pp)return zu.exports;Pp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),zu.exports=Qv(),zu.exports}var Fv=Kv();const eg=n=>{let r;const i=new Set,o=(p,y)=>{const b=typeof p=="function"?p(r):p;if(!Object.is(b,r)){const N=r;r=y??(typeof b!="object"||b===null)?b:Object.assign({},r,b),i.forEach(E=>E(r,N))}},c=()=>r,m={setState:o,getState:c,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=r=n(o,c,m);return m},Jv=(n=>n?eg(n):eg),Pv=n=>n;function e1(n,r=Pv){const i=bn.useSyncExternalStore(n.subscribe,bn.useCallback(()=>r(n.getState()),[n,r]),bn.useCallback(()=>r(n.getInitialState()),[n,r]));return bn.useDebugValue(i),i}const tg=n=>{const r=Jv(n),i=o=>e1(r,o);return Object.assign(i,r),i},ps=(n=>n?tg(n):tg);function t1(n,r){let i;try{i=n()}catch{return}return{getItem:c=>{var f;const h=g=>g===null?null:JSON.parse(g,void 0),m=(f=i.getItem(c))!=null?f:null;return m instanceof Promise?m.then(h):h(m)},setItem:(c,f)=>i.setItem(c,JSON.stringify(f,void 0)),removeItem:c=>i.removeItem(c)}}const lf=n=>r=>{try{const i=n(r);return i instanceof Promise?i:{then(o){return lf(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return lf(o)(i)}}}},n1=(n,r)=>(i,o,c)=>{let f={storage:t1(()=>localStorage),partialize:j=>j,version:0,merge:(j,_)=>({..._,...j}),...r},h=!1,m=0;const g=new Set,p=new Set;let y=f.storage;if(!y)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...j)},o,c);const b=()=>{const j=f.partialize({...o()});return y.setItem(f.name,{state:j,version:f.version})},N=c.setState;c.setState=(j,_)=>(N(j,_),b());const E=n((...j)=>(i(...j),b()),o,c);c.getInitialState=()=>E;let w;const v=()=>{var j,_;if(!y)return;const O=++m;h=!1,g.forEach(I=>{var R;return I((R=o())!=null?R:E)});const G=((_=f.onRehydrateStorage)==null?void 0:_.call(f,(j=o())!=null?j:E))||void 0;return lf(y.getItem.bind(y))(f.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==f.version){if(f.migrate){const R=f.migrate(I.state,I.version);return R instanceof Promise?R.then(W=>[!0,W]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var R;if(O!==m)return;const[W,U]=I;if(w=f.merge(U,(R=o())!=null?R:E),i(w,!0),W)return b()}).then(()=>{O===m&&(G?.(w,void 0),w=o(),h=!0,p.forEach(I=>I(w)))}).catch(I=>{O===m&&G?.(void 0,I)})};return c.persist={setOptions:j=>{f={...f,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>v(),hasHydrated:()=>h,onHydrate:j=>(g.add(j),()=>{g.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},f.skipHydration||v(),w||E},l1=n1;function vf(n){return n===null||n===void 0?"null":typeof n=="string"?n===""||n.includes(":")||n.includes("#")||n.includes(`
`)||n.startsWith(" ")||n.endsWith(" ")||/^[[{}>|*&!%@`]/.test(n)||/^-?\d+(\.\d+)?$/.test(n)||n==="true"||n==="false"||n==="null"?JSON.stringify(n):n:typeof n=="number"||typeof n=="boolean"?String(n):JSON.stringify(n)}function wf(n,r){const i=n.split(`
`);let o=!1,c=-1,f=-1;for(let h=0;h<i.length;h++){const m=i[h],g=m.match(/^\s*-?\s*name:\s*(\w+)/);if(g&&(o=g[1]===r),o){const p=m.match(/^(\s*)nodes:\s*$/);if(p){c=h,f=p[1].length;let y=h+1;for(;y<i.length;){const b=i[y];if(b.trim()===""||b.trim().startsWith("#")){y++;continue}const N=b.search(/\S/);if(N!==-1&&N<=f)break;y++}return{startLine:c,endLine:y,nodesIndent:f}}}}return null}function st(n,r,i){const o=n.split(`
`);let c=0,f=o.length;if(i){const p=wf(n,i);if(!p)return null;c=p.startLine,f=p.endLine}let h=-1,m=-1;for(let p=c;p<f;p++){const b=o[p].match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(b&&b[2]===r){h=p,m=b[1].length;break}}if(h===-1)return null;let g=h+1;for(;g<o.length;){const p=o[g];if(p.trim()===""||p.trim().startsWith("#")){g++;continue}const y=p.search(/\S/);if(y!==-1&&y<=m)break;g++}return{startLine:h,endLine:g,indent:m}}function px(n,r){const i=n.split(`
`),o=new Set;for(const h of i){const m=h.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);m&&o.add(m[1])}let c=`${r}_1`,f=1;for(;o.has(c);)f++,c=`${r}_${f}`;return c}function af(n,r){const i=st(n,r);if(!i)return{source:n,success:!1};const o=n.split(`
`);return{source:[...o.slice(0,i.startLine),...o.slice(i.endLine)].join(`
`),success:!0}}function a1(n,r,i="main"){const o=n.split(`
`);let c=!1,f=-1,h=-1,m=-1,g=-1;for(let _=0;_<o.length;_++){const O=o[_],G=O.match(/^\s*-?\s*name:\s*(\w+)/);if(G&&(c=G[1]===i),c){const I=O.match(/^(\s*)nodes:\s*$/);if(I){f=_,h=I[1].length;continue}if(f!==-1){const R=O.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(R){const W=R[1].length;if(W===h+2){g=W;let U=_+1;for(;U<o.length;){const Y=o[U];if(Y.trim()===""||Y.trim().startsWith("#")){U++;continue}const ee=Y.search(/\S/);if(ee!==-1&&ee<=W)break;U++}m=U}}}}}if(f===-1)return{source:n,nodeId:null};const p=r.name.split("_")[0],y=px(n,p),b=" ".repeat(g!==-1?g:h+2),N=b+"  ",E=N+"  ";let w=`${b}${y}:
`;if(w+=`${N}opcode: ${r.name}
`,w+=`${N}next: null
`,r.parameters.length>0){w+=`${N}inputs:
`;for(const _ of r.parameters){const O=_.name.toUpperCase(),G=_.default!==void 0?JSON.stringify(_.default):'""';w+=`${E}${O}: { literal: ${G} }
`}}const v=m!==-1?m:f+1;return{source:[...o.slice(0,v),w.trimEnd(),...o.slice(v)].join(`
`),nodeId:y}}function r1(n,r){const i=st(n,r);if(!i)return{source:n,nodeId:null};const o=n.split(`
`),c=o.slice(i.startLine,i.endLine);let f=`${r}_copy`,h=1;const m=new Set;for(const y of o){const b=y.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);b&&m.add(b[1])}for(;m.has(f);)h++,f=`${r}_copy_${h}`;const g=[...c];g[0]=g[0].replace(r+":",f+":");for(let y=1;y<g.length;y++)if(g[y].match(/^\s+next:\s*\S/)){const b=g[y].match(/^(\s+)next:/)?.[1]||"        ";g[y]=`${b}next: null`}return{source:[...o.slice(0,i.endLine),...g,...o.slice(i.endLine)].join(`
`),nodeId:f}}function i1(n,r,i,o){const c=n.split(`
`),f=st(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let E=f.startLine+1;E<f.endLine;E++){const w=c[E];if(w.match(/^\s+inputs:\s*$/)){h=E;continue}if(h!==-1){const v=w.match(new RegExp(`^(\\s+)(${i}):\\s*(.*)$`));if(v){m=E,g=v[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const E=c[p];if(E.trim()===""||E.trim().startsWith("#")){p++;continue}const w=E.search(/\S/);if(w!==-1&&w<=g)break;p++}let y;if(o.startsWith("$"))y=`{ variable: "${o.slice(1)}" }`;else try{const E=JSON.parse(o);y=`{ literal: ${JSON.stringify(E)} }`}catch{y=`{ literal: "${o}" }`}const b=" ".repeat(g);return{source:[...c.slice(0,m),`${b}${i}: ${y}`,...c.slice(p)].join(`
`),success:!0}}function Fo(n,r,i,o){const c=n.split(`
`),f=st(n,r,o);if(!f)return{source:n,success:!1};let h=-1;for(let g=f.startLine+1;g<f.endLine;g++)if(c[g].match(/^\s+next:\s*/)){h=g;break}const m=" ".repeat(f.indent+2);if(h!==-1)c[h]=`${m}next: ${i}`;else{let g=f.startLine+1;for(;g<f.endLine;){const p=c[g];if(p.trim()!==""&&!p.trim().startsWith("#"))break;g++}c.splice(g,0,`${m}next: ${i}`)}return{source:c.join(`
`),success:!0}}function Sf(n,r,i){const o=n.split(`
`),c=st(n,r,i);if(!c)return{source:n,success:!1};for(let f=c.startLine+1;f<c.endLine;f++)if(o[f].match(/^\s+next:\s*/)){const h=o[f].match(/^(\s+)next:/)?.[1]||" ".repeat(c.indent+2);return o[f]=`${h}next: null`,{source:o.join(`
`),success:!0}}return{source:n,success:!0}}function o1(n,r,i,o){const c=n.split(`
`),f=st(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1;for(let w=f.startLine+1;w<f.endLine;w++){const j=c[w].match(/^(\s+)inputs:\s*$/);if(j){h=w,m=j[1].length;break}}if(h===-1)return{source:n,success:!1};const g=o.startsWith("CATCH"),p=" ".repeat(m+2),y=" ".repeat(m+4);let b=-1,N=-1,E=h+1;for(;E<c.length;){const w=c[E];if(w.trim()===""||w.trim().startsWith("#")){E++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=m&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){b=E;break}const _=w.match(/^\s+([A-Z]+\d*):\s*\{.*\}\s*$/);if(_&&_[1]===o){N=E;break}E++}if(b!==-1){const w=c[b].match(/^(\s*)/)?.[1].length||0;let v=b+1;if(g){let j=-1;for(;v<c.length;){const _=c[v];if(_.trim()===""||_.trim().startsWith("#")){v++;continue}if((_.match(/^(\s*)/)?.[1].length||0)<=w&&_.trim())break;if(_.match(/^\s+body:\s*$/)){j=v;break}v++}if(j!==-1){const _=c[j].match(/^(\s*)/)?.[1].length||0;let O=j+1;for(;O<c.length;){const I=c[O];if(I.trim()===""||I.trim().startsWith("#")){O++;continue}if((I.match(/^(\s*)/)?.[1].length||0)<=_&&I.trim())break;const W=I.match(/^(\s+)branch:\s*/);if(W)return c[O]=`${W[1]}branch: ${i}`,{source:c.join(`
`),success:!0};O++}const G=" ".repeat(_+2);return c.splice(j+1,0,`${G}branch: ${i}`),{source:c.join(`
`),success:!0}}else{const _=" ".repeat(w+2),O=" ".repeat(w+4);let G=b+1;for(;G<c.length;){const I=c[G];if(I.trim()===""||I.trim().startsWith("#")){G++;continue}if((I.match(/^(\s*)/)?.[1].length||0)<=w&&I.trim())break;G++}return c.splice(G,0,`${_}body:`,`${O}branch: ${i}`),{source:c.join(`
`),success:!0}}}else{for(;v<c.length;){const j=c[v];if(j.trim()===""||j.trim().startsWith("#")){v++;continue}if((j.match(/^(\s*)/)?.[1].length||0)<=w&&j.trim())break;const O=j.match(/^(\s+)branch:\s*/);if(O)return c[v]=`${O[1]}branch: ${i}`,{source:c.join(`
`),success:!0};v++}return c.splice(b+1,0,`${y}branch: ${i}`),{source:c.join(`
`),success:!0}}}else if(N!==-1){const w=c[N].match(/^(\s*)/)?.[1].length||0,v=" ".repeat(w+2);if(g){const j=" ".repeat(w+2),_=" ".repeat(w+4);c.splice(N,1,`${" ".repeat(w)}${o}:`,`${j}exception_type: "Exception"`,`${j}body:`,`${_}branch: ${i}`)}else c.splice(N,1,`${" ".repeat(w)}${o}:`,`${v}branch: ${i}`);return{source:c.join(`
`),success:!0}}else{if(g){const w=" ".repeat(m+4),v=" ".repeat(m+6);c.splice(E,0,`${p}${o}:`,`${w}exception_type: "Exception"`,`${w}body:`,`${v}branch: ${i}`)}else c.splice(E,0,`${p}${o}:`,`${y}branch: ${i}`);return{source:c.join(`
`),success:!0}}}function s1(n,r,i,o,c){if(!o)return Sf(n,r,c);const f=n.split(`
`),h=st(n,r,c);if(!h)return{source:n,success:!1};let m=-1,g=-1;for(let w=h.startLine+1;w<h.endLine;w++){const j=f[w].match(/^(\s+)inputs:\s*$/);if(j){m=w,g=j[1].length;break}}if(m===-1)return{source:n,success:!1};const p=o.startsWith("CATCH");let y=-1,b=m+1;for(;b<f.length;){const w=f[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=g&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){y=b;break}b++}if(y===-1)return{source:n,success:!1};const N=f[y].match(/^(\s*)/)?.[1].length||0;let E=y+1;for(;E<f.length;){const w=f[E];if(w.trim()===""||w.trim().startsWith("#")){E++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=N&&w.trim())break;if(p){const j=w.match(/^(\s+)body:\s*$/);if(j){const _=j[1].length;let O=E+1;for(;O<f.length;){const G=f[O];if(G.trim()===""||G.trim().startsWith("#")){O++;continue}if((G.match(/^(\s*)/)?.[1].length||0)<=_&&G.trim())break;const R=G.match(/^(\s+)branch:\s*(\S+)/);if(R&&R[2]===i){const W=R[1];return f[O]=`${W}branch: null`,{source:f.join(`
`),success:!0}}O++}}}else{const j=w.match(/^(\s+)branch:\s*(\S+)/);if(j&&j[2]===i){const _=j[1];return f[E]=`${_}branch: null`,{source:f.join(`
`),success:!0}}}E++}return{source:n,success:!1}}function c1(n,r,i,o){const c=n.split(`
`),f=st(n,i);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let N=f.startLine+1;N<f.endLine;N++){const E=c[N];if(E.match(/^\s+inputs:\s*$/)){h=N;continue}if(h!==-1){const w=E.match(new RegExp(`^(\\s+)(${o}):\\s*(.*)$`));if(w){m=N,g=w[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const N=c[p];if(N.trim()===""||N.trim().startsWith("#")){p++;continue}const E=N.search(/\S/);if(E!==-1&&E<=g)break;p++}const y=" ".repeat(g);return{source:[...c.slice(0,m),`${y}${o}: { node: "${r}" }`,...c.slice(p)].join(`
`),success:!0}}function u1(n,r,i){if(i.length===0)return{source:n,success:!1};const o=n.split(`
`),c=st(n,r);if(!c)return{source:n,success:!1};let f=c.startLine,h=c.indent,m=!1;for(let w=c.startLine+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=c.indent)break;if(v.match(/^\s+inputs:\s*$/)){m=!0,f=w,h=j;break}}if(!m)return{source:n,success:!1};for(let w=0;w<i.length-1;w++){const v=i[w];let j=!1;for(let _=f+1;_<o.length;_++){const O=o[_];if(O.trim()===""||O.trim().startsWith("#"))continue;const G=O.search(/\S/);if(G!==-1&&G<=h)break;const I=O.match(new RegExp(`^(\\s+)(${v}):\\s*`));if(I){f=_,h=I[1].length,j=!0;for(let R=_+1;R<o.length;R++){const W=o[R];if(W.trim()===""||W.trim().startsWith("#"))continue;const U=W.search(/\S/);if(U!==-1&&U<=h)break;if(W.match(/^\s+inputs:\s*$/)){f=R,h=U;break}}break}}if(!j)return{source:n,success:!1}}const g=i[i.length-1];let p=-1,y=-1;for(let w=f+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=h)break;const _=v.match(new RegExp(`^(\\s+)(${g}):\\s*`));if(_){p=w,y=_[1].length;break}}if(p===-1)return{source:n,success:!1};let b=p+1;for(;b<o.length;){const w=o[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}const v=w.search(/\S/);if(v!==-1&&v<=y)break;b++}const N=" ".repeat(y);return{source:[...o.slice(0,p),`${N}${g}: { literal: null }`,...o.slice(b)].join(`
`),success:!0}}function f1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let v=0;v<c.length;v++){const j=c[v],_=j.match(/^\s*-?\s*name:\s*(\w+)/);if(_&&(f=_[1]===r),f){const O=j.match(/^(\s*)interface:\s*$/);if(O){h=v,g=O[1].length;let G=v+1;for(;G<c.length;){const I=c[G];if(I.trim()===""||I.trim().startsWith("#")){G++;continue}const R=I.search(/\S/);if(R!==-1&&R<=g)break;G++}m=G;break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(g),y=" ".repeat(g+2),b=i.length>0?`[${i.map(v=>`"${v}"`).join(", ")}]`:"[]",N=o.length>0?`[${o.map(v=>`"${v}"`).join(", ")}]`:"[]",E=[`${p}interface:`,`${y}inputs: ${b}`,`${y}outputs: ${N}`];return{source:[...c.slice(0,h),...E,...c.slice(m)].join(`
`),success:!0}}function d1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let b=0;b<c.length;b++){const N=c[b],E=N.match(/^\s*-?\s*name:\s*(\w+)/);if(E&&(f=E[1]===r),f){const w=N.match(/^(\s*)variables:\s*(.*)$/);if(w){h=b,m=w[1].length;const v=w[2].trim();if(v==="{}"||v==="")g=b+1;else{let j=b+1;for(;j<c.length;){const _=c[j];if(_.trim()===""||_.trim().startsWith("#")){j++;continue}const O=_.search(/\S/);if(O!==-1&&O<=m)break;j++}g=j}break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(m+2),y=vf(o);if(c[h].includes("{}")){const b=" ".repeat(m);return{source:[...c.slice(0,h),`${b}variables:`,`${p}${i}: ${y}`,...c.slice(h+1)].join(`
`),success:!0}}else return{source:[...c.slice(0,g),`${p}${i}: ${y}`,...c.slice(g)].join(`
`),success:!0}}function h1(n,r,i,o,c){const f=n.split(`
`);let h=!1,m=!1,g=-1,p=-1;for(let N=0;N<f.length;N++){const E=f[N],w=E.match(/^\s*-?\s*name:\s*(\w+)/);if(w&&(h=w[1]===r,m=!1),h){const v=E.match(/^(\s*)variables:\s*/);if(v){m=!0,g=v[1].length;continue}if(m){const j=E.search(/\S/);if(E.trim()!==""&&!E.trim().startsWith("#")&&j!==-1&&j<=g){m=!1;continue}if(E.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){p=N;break}}}}if(p===-1)return{source:n,success:!1};const y=f[p].match(/^(\s+)/)?.[1]||"    ",b=vf(c);return f[p]=`${y}${o}: ${b}`,{source:f.join(`
`),success:!0}}function m1(n,r,i){const o=n.split(`
`);let c=!1,f=!1,h=-1,m=-1;for(let p=0;p<o.length;p++){const y=o[p],b=y.match(/^\s*-?\s*name:\s*(\w+)/);if(b&&(c=b[1]===r,f=!1),c){const N=y.match(/^(\s*)variables:\s*/);if(N){f=!0,h=N[1].length;continue}if(f){const E=y.search(/\S/);if(y.trim()!==""&&!y.trim().startsWith("#")&&E!==-1&&E<=h){f=!1;continue}if(y.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){m=p;break}}}}return m===-1?{source:n,success:!1}:{source:[...o.slice(0,m),...o.slice(m+1)].join(`
`),success:!0}}function gx(n,r,i,o="main"){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1,p=-1;for(let _=0;_<c.length;_++){const O=c[_],G=O.match(/^\s*-?\s*name:\s*(\w+)/);if(G&&(f=G[1]===o),f){const I=O.match(/^(\s*)nodes:\s*$/);if(I){h=_,m=I[1].length;continue}if(h!==-1){const R=O.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(R){const W=R[1].length;if(W===m+2){p=W;let U=_+1;for(;U<c.length;){const Y=c[U];if(Y.trim()===""||Y.trim().startsWith("#")){U++;continue}const ee=Y.search(/\S/);if(ee!==-1&&ee<=W)break;U++}g=U}}}}}if(h===-1)return{source:n,nodeId:null};const y=px(n,`call_${r}`),b=" ".repeat(p!==-1?p:m+2),N=b+"  ",E=N+"  ";let w=`${b}${y}:
`;w+=`${N}opcode: workflow_call
`,w+=`${N}next: null
`,w+=`${N}inputs:
`,w+=`${E}WORKFLOW: { literal: "${r}" }
`,i.forEach((_,O)=>{w+=`${E}ARG${O+1}: { literal: null }
`});const v=g!==-1?g:h+1;return{source:[...c.slice(0,v),w.trimEnd(),...c.slice(v)].join(`
`),nodeId:y}}function p1(n,r,i){const o=n.split(`
`),c=st(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let v=c.startLine+1;v<c.endLine;v++){const j=o[v],_=j.match(/^(\s+)inputs:\s*$/);if(_){f=v,h=_[1].length;continue}if(f!==-1){const O=j.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));O&&m.push(O[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const v of m){const j=parseInt(v.replace(i,""));j>g&&(g=j)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const v=o[y];if(v.trim()===""||v.trim().startsWith("#")){y++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=h&&v.trim())break;y++}const b=" ".repeat(h+2),N=" ".repeat(h+4);let E;if(i==="CATCH"){const v=" ".repeat(h+6);E=[`${b}${p}:`,`${N}exception_type: "Exception"`,`${N}body:`,`${v}branch: null`]}else E=[`${b}${p}:`,`${N}branch: null`];return{source:[...o.slice(0,y),...E,...o.slice(y)].join(`
`),success:!0}}function g1(n,r,i){const o=n.split(`
`),c=st(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function x1(n,r,i){const o=n.split(`
`),c=st(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let w=c.startLine+1;w<c.endLine;w++){const v=o[w],j=v.match(/^(\s+)inputs:\s*$/);if(j){f=w,h=j[1].length;continue}if(f!==-1){const _=v.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));_&&m.push(_[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const w of m){const v=parseInt(w.replace(i,""));v>g&&(g=v)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const w=o[y];if(w.trim()===""||w.trim().startsWith("#")){y++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=h&&w.trim())break;y++}const N=`${" ".repeat(h+2)}${p}: { literal: null }`;return{source:[...o.slice(0,y),N,...o.slice(y)].join(`
`),success:!0}}function y1(n,r,i){const o=n.split(`
`),c=st(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function xx(n,r,i=[],o=[],c={}){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return{source:n,success:!1};const f=n.split(`
`);for(const O of f){const G=O.match(/^\s*-?\s*name:\s*(\w+)/);if(G&&G[1]===r)return{source:n,success:!1}}let h=-1,m=!1,g=-1;for(let O=0;O<f.length;O++){const G=f[O],I=G.match(/^(\s*)workflows:\s*$/);if(I){m=!0,g=I[1].length;continue}if(m){const R=G.search(/\S/);if(G.trim()!==""&&R!==-1&&R<=g)break;h=O}}if(!m)return{source:n,success:!1};const p="  ",y="    ",b="      ",N=i.length>0?`[${i.map(O=>`"${O}"`).join(", ")}]`:"[]",E=o.length>0?`[${o.map(O=>`"${O}"`).join(", ")}]`:"[]";let w=`${p}- name: ${r}
`;w+=`${y}interface:
`,w+=`${b}inputs: ${N}
`,w+=`${b}outputs: ${E}
`;const v=Object.entries(c);if(v.length===0)w+=`${y}variables: {}
`;else{w+=`${y}variables:
`;for(const[O,G]of v)w+=`${b}${O}: ${vf(G)}
`}w+=`${y}nodes:
`,w+=`${b}start:
`,w+=`${b}  next: null`;const j=h+1;return{source:[...f.slice(0,j),w,...f.slice(j)].join(`
`),success:!0}}function b1(n,r){if(r==="main")return{source:n,success:!1};const i=n.split(`
`);let o=-1,c=-1;for(let m=0;m<i.length;m++){const p=i[m].match(/^(\s*)-\s*name:\s*(\w+)/);if(p&&p[2]===r){o=m,c=p[1].length;break}}if(o===-1)return{source:n,success:!1};let f=o+1;for(;f<i.length;){const m=i[f];if(m.trim()===""||m.trim().startsWith("#")){f++;continue}const g=m.search(/\S/),p=m.match(/^(\s*)-\s*name:\s*\w+/);if(p&&p[1].length===c||g!==-1&&g<=c&&!m.trim().startsWith("-"))break;f++}return{source:[...i.slice(0,o),...i.slice(f)].join(`
`),success:!0}}const v1=["control_if","control_for","control_for_each","control_while","control_repeat_until","control_try","control_fork"];function w1(n,r){const i=n.split(`
`);let o=null,c=!1,f=-1;for(const h of i){const m=h.match(/^(\s*)-?\s*name:\s*(\w+)/);if(m&&(o=m[2],f=m[1].length,c=!1),h.match(/^(\s*)nodes:\s*$/)&&o&&(c=!0),c){const p=h.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(p&&p[2]===r)return o;const y=h.search(/\S/);h.trim()&&y!==-1&&y<=f&&(c=!1)}}return null}function yx(n,r){const i=st(n,r);if(!i)return null;const o=n.split(`
`);for(let c=i.startLine+1;c<i.endLine;c++){const f=o[c].match(/^\s+opcode:\s*(\S+)/);if(f)return f[1]}return null}function ng(n,r,i){const o=st(n,r,i);if(!o)return null;const c=n.split(`
`);for(let f=o.startLine+1;f<o.endLine;f++){const h=c[f].match(/^\s+next:\s*(\S+)/);if(h){const m=h[1];return m==="null"?null:m}}return null}function S1(n,r,i){const o=wf(n,i);if(!o)return null;const c=n.split(`
`);let f=null;for(let h=o.startLine;h<o.endLine;h++){const m=c[h],g=m.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);g&&(f=g[2]);const p=m.match(/^\s+next:\s*(\S+)/);if(p&&p[1]===r&&f)return f}return null}function N1(n,r){const i=[],o=new Set;function c(f){if(o.has(f))return;o.add(f);const h=st(n,f);if(!h)return;const g=n.split(`
`).slice(h.startLine,h.endLine).join(`
`),p=g.matchAll(/\{\s*node:\s*["']([^"']+)["']\s*\}/g);for(const b of p){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}const y=g.matchAll(/\{\s*node:\s*([a-zA-Z_][a-zA-Z0-9_]*)\s*\}/g);for(const b of y){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}}for(const f of r)c(f);return i}function bx(n,r,i){const o=[];if(r.length<2)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Select at least 2 nodes to extract"]};for(const v of r)w1(n,v)!==i&&o.push(`Node "${v}" is not in workflow "${i}"`);if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};for(const v of r){const j=yx(n,v);j&&v1.includes(j)&&o.push(`Cannot extract "${v}": branching nodes (${j}) are not supported`)}if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};const c=new Set(r),f={};for(const v of r)f[v]=ng(n,v,i);const h=new Set(Object.values(f).filter(v=>v&&c.has(v))),m=r.filter(v=>!h.has(v));if(m.length!==1)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes do not form a single connected chain"]};const g=[];let p=m[0];const y=new Set;for(;p&&c.has(p)&&!y.has(p);)y.add(p),g.push(p),p=f[p]||null;if(g.length!==r.length)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes are not contiguous (some nodes are disconnected)"]};const b=g[0],N=g[g.length-1],E=S1(n,b,i),w=ng(n,N,i);return{isValid:!0,orderedNodeIds:g,firstNodeId:b,lastNodeId:N,predecessorNodeId:E,successorNodeId:w,errors:[]}}function E1(n,r){const i=new Set,o=new Set;for(const h of r){const m=st(n,h);if(!m)continue;const p=n.split(`
`).slice(m.startLine,m.endLine).join(`
`),y=p.matchAll(/\{\s*variable:\s*["']([^"']+)["']\s*\}/g);for(const N of y)i.add(N[1]);if(yx(n,h)==="data_set_variable_to"){const N=p.match(/VARIABLE:\s*\{\s*literal:\s*["']([^"']+)["']\s*\}/);N&&o.add(N[1])}}const c=[...i].filter(h=>!o.has(h)),f=[...o];return{suggestedInputs:c,suggestedOutputs:f}}function j1(n,r,i,o,c,f,h){const m=bx(n,r,i);if(!m.isValid)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:m.errors};const{orderedNodeIds:g,firstNodeId:p,lastNodeId:y,predecessorNodeId:b,successorNodeId:N}=m,E=N1(n,g);let w=n;const v=xx(w,o,c,f,h);if(!v.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to create workflow "${o}"`]};w=v.source;const j=[],_=[];for(const se of[...g].reverse()){const Q=st(w,se,i);if(!Q)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find node "${se}"`]};const A=w.split(`
`).slice(Q.startLine,Q.endLine).join(`
`);j.unshift({id:se,yaml:A,indent:Q.indent});const k=af(w,se);if(!k.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to delete node "${se}"`]};w=k.source}for(const se of[...E].reverse()){let Q=st(w,se,i);if(Q||(Q=st(w,se)),!Q)continue;const A=w.split(`
`).slice(Q.startLine,Q.endLine).join(`
`);_.unshift({id:se,yaml:A,indent:Q.indent});const k=af(w,se);k.success&&(w=k.source)}const O=[...j,..._];if(!wf(w,o))return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find nodes section in new workflow "${o}"`]};const I=st(w,"start",o);if(!I)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Could not find start node in new workflow"]};const R=I.indent,W=[];for(let se=0;se<O.length;se++){const Q=O[se],ne=Q.yaml.split(`
`),A=R-Q.indent,k=ne.map(H=>H.trim()===""?H:A>0?" ".repeat(A)+H:A<0?H.slice(-A):H);W.push(...k)}const U=w.split(`
`),Y=I.endLine;U.splice(Y,0,...W),w=U.join(`
`);const ee=Fo(w,"start",p,o);if(!ee.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to connect start to "${p}"`]};w=ee.source;const ie=Sf(w,y,o);if(!ie.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to disconnect last node "${y}"`]};w=ie.source;const ce=gx(w,o,c,i);if(!ce.nodeId)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to create workflow_call node"]};w=ce.source;const ue=ce.nodeId;if(b){const se=Fo(w,b==="start"?"start":b,ue,i);if(!se.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect predecessor to workflow_call"]};w=se.source}if(N){const se=Fo(w,ue,N,i);if(!se.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect workflow_call to successor"]};w=se.source}return{source:w,success:!0,newWorkflowCallNodeId:ue,errors:[]}}const C1=50,lg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`,at=ps()(l1((n,r)=>({source:lg,setSource:(i,o=!0)=>{const c=r();if(o&&i!==c.source){const f=c.history.slice(0,c.historyIndex+1);f.push(i),f.length>C1&&f.shift(),n({source:i,history:f,historyIndex:f.length-1,canUndo:f.length>1,canRedo:!1})}else n({source:i})},history:[lg],historyIndex:0,canUndo:!1,canRedo:!1,undo:()=>{const i=r();if(i.historyIndex>0){const o=i.historyIndex-1;n({source:i.history[o],historyIndex:o,canUndo:o>0,canRedo:!0})}},redo:()=>{const i=r();if(i.historyIndex<i.history.length-1){const o=i.historyIndex+1;n({source:i.history[o],historyIndex:o,canUndo:!0,canRedo:o<i.history.length-1})}},tree:null,parseError:null,isParsing:!1,setTree:i=>n({tree:i,parseError:null}),setParseError:i=>n({parseError:i,tree:null}),setIsParsing:i=>n({isParsing:i}),deleteNode:i=>{const o=r(),c=af(o.source,i);return c.success&&o.setSource(c.source),c.success},addNode:(i,o="main")=>{const c=r(),f=a1(c.source,i,o);return f.nodeId&&c.setSource(f.source),f.nodeId},addWorkflowCallNode:(i,o,c="main")=>{const f=r(),h=gx(f.source,i,o,c);return h.nodeId&&f.setSource(h.source),h.nodeId},duplicateNode:i=>{const o=r(),c=r1(o.source,i);return c.nodeId&&o.setSource(c.source),c.nodeId},updateNodeInput:(i,o,c)=>{const f=r(),h=i1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectNodes:(i,o,c)=>{const f=r(),h=Fo(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectBranch:(i,o,c)=>{const f=r(),h=o1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},disconnectNode:(i,o)=>{const c=r(),f=Sf(c.source,i,o);return f.success&&c.setSource(f.source),f.success},convertOrphanToReporter:(i,o,c)=>{const f=r(),h=c1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateReporterInput:(i,o,c)=>(console.log("[updateReporterInput] reporterNodeId:",i,"key:",o,"value:",c),i?r().updateNodeInput(i,o,c):(console.warn("[updateReporterInput] No reporter node ID provided"),!1)),deleteReporter:(i,o)=>{const c=r(),f=u1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},updateWorkflowInterface:(i,o,c)=>{const f=r(),h=f1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},addVariable:(i,o,c)=>{const f=r(),h=d1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateVariable:(i,o,c,f)=>{const h=r(),m=h1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},disconnectConnection:(i,o,c,f)=>{const h=r(),m=s1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteVariable:(i,o)=>{const c=r(),f=m1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicBranch:(i,o)=>{const c=r(),f=p1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicBranch:(i,o)=>{const c=r(),f=g1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicInput:(i,o)=>{const c=r(),f=x1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicInput:(i,o)=>{const c=r(),f=y1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addWorkflow:(i,o=[],c=[],f={})=>{const h=r(),m=xx(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteWorkflow:i=>{const o=r(),c=b1(o.source,i);return c.success&&o.setSource(c.source),c.success},extractToWorkflow:(i,o,c,f,h,m)=>{const g=r(),p=j1(g.source,i,o,c,f,h,m);return p.success&&g.setSource(p.source),{success:p.success,errors:p.errors}},examples:[],setExamples:i=>n({examples:i}),opcodes:[],setOpcodes:i=>n({opcodes:i}),isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,setIsExecuting:i=>n({isExecuting:i}),setExecutionOutput:i=>n({executionOutput:i}),appendExecutionOutput:i=>n(o=>({executionOutput:o.executionOutput+i})),setExecutionResult:i=>n({executionResult:i}),setExecutionError:i=>n({executionError:i}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null}),workflowInputs:{},setWorkflowInput:(i,o)=>n(c=>({workflowInputs:{...c.workflowInputs,[i]:o}})),clearWorkflowInputs:()=>n({workflowInputs:{}})}),{name:"lexflow-workflow",partialize:n=>({source:n.source})})),_e=ps(n=>({zoom:1,panX:0,panY:0,isDraggingWorkflow:!1,setZoom:r=>n({zoom:Math.max(.25,Math.min(2,r))}),setPan:(r,i)=>n({panX:r,panY:i}),resetView:()=>n({zoom:1,panX:0,panY:0}),setIsDraggingWorkflow:r=>n({isDraggingWorkflow:r}),isEditorOpen:!1,isNodeEditorOpen:!1,isPaletteOpen:!1,isExecutionPanelOpen:!0,toggleEditor:()=>n(r=>({isEditorOpen:!r.isEditorOpen})),toggleNodeEditor:()=>n(r=>({isNodeEditorOpen:!r.isNodeEditorOpen})),togglePalette:()=>n(r=>({isPaletteOpen:!r.isPaletteOpen})),toggleExecutionPanel:()=>n(r=>({isExecutionPanelOpen:!r.isExecutionPanelOpen})),openNodeEditor:()=>n({isNodeEditorOpen:!0}),closeNodeEditor:()=>n({isNodeEditorOpen:!1}),nodeStatus:{},setNodeStatus:(r,i)=>n(o=>({nodeStatus:{...o.nodeStatus,[r]:i}})),clearNodeStatuses:()=>n({nodeStatus:{}}),searchQuery:"",searchResults:[],setSearchQuery:r=>n({searchQuery:r}),setSearchResults:r=>n({searchResults:r}),workflowPositions:{},setWorkflowPosition:(r,i,o)=>n(c=>({workflowPositions:{...c.workflowPositions,[r]:{x:i,y:o}}})),resetWorkflowPositions:()=>n({workflowPositions:{}}),draggingOpcode:null,setDraggingOpcode:r=>n({draggingOpcode:r}),draggingWire:null,setDraggingWire:r=>n({draggingWire:r}),updateDraggingWire:r=>n(i=>({draggingWire:i.draggingWire?{...i.draggingWire,...r}:null})),draggingOrphan:null,setDraggingOrphan:r=>n({draggingOrphan:r}),updateDraggingOrphanEnd:(r,i)=>n(o=>({draggingOrphan:o.draggingOrphan?{...o.draggingOrphan,toX:r,toY:i}:null})),nodePositions:{},setNodePosition:(r,i,o)=>n(c=>({nodePositions:{...c.nodePositions,[r]:{x:i,y:o}}})),resetNodePositions:()=>n({nodePositions:{}}),clearNodePosition:r=>n(i=>{const{[r]:o,...c}=i.nodePositions;return{nodePositions:c}}),layoutMode:"free",setLayoutMode:r=>n({layoutMode:r}),isDraggingNode:!1,setIsDraggingNode:r=>n({isDraggingNode:r}),draggingVariable:null,setDraggingVariable:r=>n({draggingVariable:r}),updateDraggingVariableEnd:(r,i)=>n(o=>({draggingVariable:o.draggingVariable?{...o.draggingVariable,toX:r,toY:i}:null})),draggingWorkflowCall:null,setDraggingWorkflowCall:r=>n({draggingWorkflowCall:r}),slotPositions:{},registerSlotPositions:(r,i)=>n(o=>({slotPositions:{...o.slotPositions,[r]:i}})),unregisterSlotPositions:r=>n(i=>{const{[r]:o,...c}=i.slotPositions;return{slotPositions:c}}),layoutGroups:[],setLayoutGroups:r=>n({layoutGroups:r}),canvasCenter:{x:400,y:300},setCanvasCenter:(r,i)=>n({canvasCenter:{x:r,y:i}}),contextMenu:null,showContextMenu:r=>n({contextMenu:r}),hideContextMenu:()=>n({contextMenu:null}),expandedReporters:{},toggleReportersExpanded:r=>n(i=>({expandedReporters:{...i.expandedReporters,[r]:!i.expandedReporters[r]}})),setReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,[r]:i}})),confirmDialog:null,showConfirmDialog:r=>n({confirmDialog:{isOpen:!0,title:r.title,message:r.message,confirmLabel:r.confirmLabel,cancelLabel:r.cancelLabel,variant:r.variant,onConfirm:()=>{r.onConfirm(),n({confirmDialog:null})},onCancel:()=>{r.onCancel?.(),n({confirmDialog:null})}}}),hideConfirmDialog:()=>n({confirmDialog:null}),canvasContextMenu:null,showCanvasContextMenu:(r,i,o)=>n({canvasContextMenu:{x:r,y:i,workflowName:o}}),hideCanvasContextMenu:()=>n({canvasContextMenu:null}),createWorkflowModal:null,showCreateWorkflowModal:()=>n({createWorkflowModal:{isOpen:!0}}),hideCreateWorkflowModal:()=>n({createWorkflowModal:null}),extractWorkflowModal:null,showExtractWorkflowModal:(r,i,o=[],c=[])=>n({extractWorkflowModal:{isOpen:!0,nodeIds:r,workflowName:i,suggestedInputs:o,suggestedOutputs:c}}),hideExtractWorkflowModal:()=>n({extractWorkflowModal:null})})),si=ps(n=>({isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,workflowInputs:{},pendingPrompt:null,renderedContent:[],alerts:[],progress:null,setIsExecuting:r=>n({isExecuting:r}),setExecutionOutput:r=>n({executionOutput:r}),appendExecutionOutput:r=>n(i=>({executionOutput:i.executionOutput+r})),setExecutionResult:r=>n({executionResult:r}),setExecutionError:r=>n({executionError:r}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null,pendingPrompt:null,renderedContent:[],alerts:[],progress:null}),setWorkflowInput:(r,i)=>n(o=>({workflowInputs:{...o.workflowInputs,[r]:i}})),clearWorkflowInputs:()=>n({workflowInputs:{}}),setPendingPrompt:r=>n({pendingPrompt:r}),addRenderedContent:r=>n(i=>({renderedContent:[...i.renderedContent,r]})),clearRenderedContent:()=>n({renderedContent:[]}),addAlert:r=>n(i=>({alerts:[...i.alerts,{...r,id:crypto.randomUUID()}]})),removeAlert:r=>n(i=>({alerts:i.alerts.filter(o=>o.id!==r)})),setProgress:r=>n({progress:r})})),$n=ps(n=>({selectedNodeId:null,selectNode:r=>n({selectedNodeId:r,selectedNodeIds:[]}),selectedNodeIds:[],toggleNodeSelection:r=>n(i=>{const o=i.selectedNodeIds.includes(r)?i.selectedNodeIds.filter(c=>c!==r):[...i.selectedNodeIds,r];return{selectedNodeIds:o,selectedNodeId:o.length>0?o[o.length-1]:null}}),addToSelection:r=>n(i=>({selectedNodeIds:i.selectedNodeIds.includes(r)?i.selectedNodeIds:[...i.selectedNodeIds,r]})),clearMultiSelection:()=>n({selectedNodeIds:[]}),selectedReporter:null,selectReporter:r=>n({selectedReporter:r}),selectedConnection:null,selectConnection:r=>n({selectedConnection:r}),selectedStartNode:null,selectStartNode:r=>n({selectedStartNode:r}),clearSelection:()=>n({selectedNodeId:null,selectedNodeIds:[],selectedReporter:null,selectedConnection:null,selectedStartNode:null})}));function vx(n){var r,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(r=0;r<c;r++)n[r]&&(i=vx(n[r]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function wx(){for(var n,r,i=0,o="",c=arguments.length;i<c;i++)(n=arguments[i])&&(r=vx(n))&&(o&&(o+=" "),o+=r);return o}const A1=(n,r)=>{const i=new Array(n.length+r.length);for(let o=0;o<n.length;o++)i[o]=n[o];for(let o=0;o<r.length;o++)i[n.length+o]=r[o];return i},_1=(n,r)=>({classGroupId:n,validator:r}),Sx=(n=new Map,r=null,i)=>({nextPart:n,validators:r,classGroupId:i}),es="-",ag=[],O1="arbitrary..",T1=n=>{const r=D1(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return M1(h);const m=h.split(es),g=m[0]===""&&m.length>1?1:0;return Nx(m,g,r)},getConflictingClassGroupIds:(h,m)=>{if(m){const g=o[h],p=i[h];return g?p?A1(p,g):g:p||ag}return i[h]||ag}}},Nx=(n,r,i)=>{if(n.length-r===0)return i.classGroupId;const c=n[r],f=i.nextPart.get(c);if(f){const p=Nx(n,r+1,f);if(p)return p}const h=i.validators;if(h===null)return;const m=r===0?n.join(es):n.slice(r).join(es),g=h.length;for(let p=0;p<g;p++){const y=h[p];if(y.validator(m))return y.classGroupId}},M1=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=n.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?O1+o:void 0})(),D1=n=>{const{theme:r,classGroups:i}=n;return k1(i,r)},k1=(n,r)=>{const i=Sx();for(const o in n){const c=n[o];Nf(c,i,o,r)}return i},Nf=(n,r,i,o)=>{const c=n.length;for(let f=0;f<c;f++){const h=n[f];R1(h,r,i,o)}},R1=(n,r,i,o)=>{if(typeof n=="string"){z1(n,r,i);return}if(typeof n=="function"){L1(n,r,i,o);return}V1(n,r,i,o)},z1=(n,r,i)=>{const o=n===""?r:Ex(r,n);o.classGroupId=i},L1=(n,r,i,o)=>{if(B1(n)){Nf(n(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(_1(i,n))},V1=(n,r,i,o)=>{const c=Object.entries(n),f=c.length;for(let h=0;h<f;h++){const[m,g]=c[h];Nf(g,Ex(r,m),i,o)}},Ex=(n,r)=>{let i=n;const o=r.split(es),c=o.length;for(let f=0;f<c;f++){const h=o[f];let m=i.nextPart.get(h);m||(m=Sx(),i.nextPart.set(h,m)),i=m}return i},B1=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,H1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const c=(f,h)=>{i[f]=h,r++,r>n&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return c(f,h),h},set(f,h){f in i?i[f]=h:c(f,h)}}},rf="!",rg=":",U1=[],ig=(n,r,i,o,c)=>({modifiers:n,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:c}),Y1=n=>{const{prefix:r,experimentalParseClassName:i}=n;let o=c=>{const f=[];let h=0,m=0,g=0,p;const y=c.length;for(let v=0;v<y;v++){const j=c[v];if(h===0&&m===0){if(j===rg){f.push(c.slice(g,v)),g=v+1;continue}if(j==="/"){p=v;continue}}j==="["?h++:j==="]"?h--:j==="("?m++:j===")"&&m--}const b=f.length===0?c:c.slice(g);let N=b,E=!1;b.endsWith(rf)?(N=b.slice(0,-1),E=!0):b.startsWith(rf)&&(N=b.slice(1),E=!0);const w=p&&p>g?p-g:void 0;return ig(f,E,N,w)};if(r){const c=r+rg,f=o;o=h=>h.startsWith(c)?f(h.slice(c.length)):ig(U1,!1,h,void 0,!0)}if(i){const c=o;o=f=>i({className:f,parseClassName:c})}return o},I1=n=>{const r=new Map;return n.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let c=[];for(let f=0;f<i.length;f++){const h=i[f],m=h[0]==="[",g=r.has(h);m||g?(c.length>0&&(c.sort(),o.push(...c),c=[]),o.push(h)):c.push(h)}return c.length>0&&(c.sort(),o.push(...c)),o}},q1=n=>({cache:H1(n.cacheSize),parseClassName:Y1(n),sortModifiers:I1(n),...T1(n)}),X1=/\s+/,G1=(n,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:f}=r,h=[],m=n.trim().split(X1);let g="";for(let p=m.length-1;p>=0;p-=1){const y=m[p],{isExternal:b,modifiers:N,hasImportantModifier:E,baseClassName:w,maybePostfixModifierPosition:v}=i(y);if(b){g=y+(g.length>0?" "+g:g);continue}let j=!!v,_=o(j?w.substring(0,v):w);if(!_){if(!j){g=y+(g.length>0?" "+g:g);continue}if(_=o(w),!_){g=y+(g.length>0?" "+g:g);continue}j=!1}const O=N.length===0?"":N.length===1?N[0]:f(N).join(":"),G=E?O+rf:O,I=G+_;if(h.indexOf(I)>-1)continue;h.push(I);const R=c(_,j);for(let W=0;W<R.length;++W){const U=R[W];h.push(G+U)}g=y+(g.length>0?" "+g:g)}return g},$1=(...n)=>{let r=0,i,o,c="";for(;r<n.length;)(i=n[r++])&&(o=jx(i))&&(c&&(c+=" "),c+=o);return c},jx=n=>{if(typeof n=="string")return n;let r,i="";for(let o=0;o<n.length;o++)n[o]&&(r=jx(n[o]))&&(i&&(i+=" "),i+=r);return i},W1=(n,...r)=>{let i,o,c,f;const h=g=>{const p=r.reduce((y,b)=>b(y),n());return i=q1(p),o=i.cache.get,c=i.cache.set,f=m,m(g)},m=g=>{const p=o(g);if(p)return p;const y=G1(g,i);return c(g,y),y};return f=h,(...g)=>f($1(...g))},Z1=[],gt=n=>{const r=i=>i[n]||Z1;return r.isThemeGetter=!0,r},Cx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ax=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Q1=/^\d+\/\d+$/,K1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,F1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,P1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ew=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=n=>Q1.test(n),Oe=n=>!!n&&!Number.isNaN(Number(n)),vl=n=>!!n&&Number.isInteger(Number(n)),Hu=n=>n.endsWith("%")&&Oe(n.slice(0,-1)),In=n=>K1.test(n),tw=()=>!0,nw=n=>F1.test(n)&&!J1.test(n),_x=()=>!1,lw=n=>P1.test(n),aw=n=>ew.test(n),rw=n=>!de(n)&&!he(n),iw=n=>ar(n,Mx,_x),de=n=>Cx.test(n),Jl=n=>ar(n,Dx,nw),Uu=n=>ar(n,fw,Oe),og=n=>ar(n,Ox,_x),ow=n=>ar(n,Tx,aw),Vo=n=>ar(n,kx,lw),he=n=>Ax.test(n),ei=n=>rr(n,Dx),sw=n=>rr(n,dw),sg=n=>rr(n,Ox),cw=n=>rr(n,Mx),uw=n=>rr(n,Tx),Bo=n=>rr(n,kx,!0),ar=(n,r,i)=>{const o=Cx.exec(n);return o?o[1]?r(o[1]):i(o[2]):!1},rr=(n,r,i=!1)=>{const o=Ax.exec(n);return o?o[1]?r(o[1]):i:!1},Ox=n=>n==="position"||n==="percentage",Tx=n=>n==="image"||n==="url",Mx=n=>n==="length"||n==="size"||n==="bg-size",Dx=n=>n==="length",fw=n=>n==="number",dw=n=>n==="family-name",kx=n=>n==="shadow",hw=()=>{const n=gt("color"),r=gt("font"),i=gt("text"),o=gt("font-weight"),c=gt("tracking"),f=gt("leading"),h=gt("breakpoint"),m=gt("container"),g=gt("spacing"),p=gt("radius"),y=gt("shadow"),b=gt("inset-shadow"),N=gt("text-shadow"),E=gt("drop-shadow"),w=gt("blur"),v=gt("perspective"),j=gt("aspect"),_=gt("ease"),O=gt("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...I(),he,de],W=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],Y=()=>[he,de,g],ee=()=>[Ga,"full","auto",...Y()],ie=()=>[vl,"none","subgrid",he,de],ce=()=>["auto",{span:["full",vl,he,de]},vl,he,de],ue=()=>[vl,"auto",he,de],se=()=>["auto","min","max","fr",he,de],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...Y()],k=()=>[Ga,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Y()],H=()=>[n,he,de],le=()=>[...I(),sg,og,{position:[he,de]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",cw,iw,{size:[he,de]}],V=()=>[Hu,ei,Jl],J=()=>["","none","full",p,he,de],ae=()=>["",Oe,ei,Jl],xe=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Oe,Hu,sg,og],He=()=>["","none",w,he,de],re=()=>["none",Oe,he,de],we=()=>["none",Oe,he,de],qe=()=>[Oe,he,de],Ve=()=>[Ga,"full",...Y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[In],breakpoint:[In],color:[tw],container:[In],"drop-shadow":[In],ease:["in","out","in-out"],font:[rw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[In],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[In],shadow:[In],spacing:["px",Oe],text:[In],"text-shadow":[In],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ga,de,he,j]}],container:["container"],columns:[{columns:[Oe,de,he,m]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[vl,"auto",he,de]}],basis:[{basis:[Ga,"full","auto",m,...Y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,Ga,"auto","initial","none",de]}],grow:[{grow:["",Oe,he,de]}],shrink:[{shrink:["",Oe,he,de]}],order:[{order:[vl,"first","last","none",he,de]}],"grid-cols":[{"grid-cols":ie()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":ie()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:Y()}],"gap-x":[{"gap-x":Y()}],"gap-y":[{"gap-y":Y()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:Y()}],px:[{px:Y()}],py:[{py:Y()}],ps:[{ps:Y()}],pe:[{pe:Y()}],pt:[{pt:Y()}],pr:[{pr:Y()}],pb:[{pb:Y()}],pl:[{pl:Y()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":Y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Y()}],"space-y-reverse":["space-y-reverse"],size:[{size:k()}],w:[{w:[m,"screen",...k()]}],"min-w":[{"min-w":[m,"screen","none",...k()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[h]},...k()]}],h:[{h:["screen","lh",...k()]}],"min-h":[{"min-h":["screen","lh","none",...k()]}],"max-h":[{"max-h":["screen","lh",...k()]}],"font-size":[{text:["base",i,ei,Jl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,he,Uu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hu,de]}],"font-family":[{font:[sw,de,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,he,de]}],"line-clamp":[{"line-clamp":[Oe,"none",he,Uu]}],leading:[{leading:[f,...Y()]}],"list-image":[{"list-image":["none",he,de]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",he,Jl]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Oe,"auto",he,de]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vl,he,de],radial:["",he,de],conic:[vl,he,de]},uw,ow]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,he,de]}],"outline-w":[{outline:["",Oe,ei,Jl]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",y,Bo,Vo]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",b,Bo,Vo]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Oe,Jl]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",N,Bo,Vo]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Oe,he,de]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[he,de]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",he,de]}],filter:[{filter:["","none",he,de]}],blur:[{blur:He()}],brightness:[{brightness:[Oe,he,de]}],contrast:[{contrast:[Oe,he,de]}],"drop-shadow":[{"drop-shadow":["","none",E,Bo,Vo]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Oe,he,de]}],"hue-rotate":[{"hue-rotate":[Oe,he,de]}],invert:[{invert:["",Oe,he,de]}],saturate:[{saturate:[Oe,he,de]}],sepia:[{sepia:["",Oe,he,de]}],"backdrop-filter":[{"backdrop-filter":["","none",he,de]}],"backdrop-blur":[{"backdrop-blur":He()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,he,de]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,he,de]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,he,de]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,he,de]}],"backdrop-invert":[{"backdrop-invert":["",Oe,he,de]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,he,de]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,he,de]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,he,de]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Y()}],"border-spacing-x":[{"border-spacing-x":Y()}],"border-spacing-y":[{"border-spacing-y":Y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,de]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",he,de]}],ease:[{ease:["linear","initial",_,he,de]}],delay:[{delay:[Oe,he,de]}],animate:[{animate:["none",O,he,de]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,he,de]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[he,de,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,de]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,de]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Oe,ei,Jl,Uu]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mw=W1(hw);function L(...n){return mw(wx(n))}const cg=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ug=wx,M=(n,r)=>i=>{var o;if(r?.variants==null)return ug(n,i?.class,i?.className);const{variants:c,defaultVariants:f}=r,h=Object.keys(c).map(p=>{const y=i?.[p],b=f?.[p];if(y===null)return null;const N=cg(y)||cg(b);return c[p][N]}),m=i&&Object.entries(i).reduce((p,y)=>{let[b,N]=y;return N===void 0||(p[b]=N),p},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((p,y)=>{let{class:b,className:N,...E}=y;return Object.entries(E).every(w=>{let[v,j]=w;return Array.isArray(j)?j.includes({...f,...m}[v]):{...f,...m}[v]===j})?[...p,b,N]:p},[]);return ug(n,h,g,i?.class,i?.className)},pw=M("inline-flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent-blue disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-text-secondary hover:text-text-primary hover:bg-surface-2",ghost:"text-text-muted hover:text-text-secondary hover:bg-surface-1"},size:{sm:"h-6 w-6 rounded-sm",md:"h-8 w-8 rounded-sm",lg:"h-10 w-10 rounded-sm"}},defaultVariants:{variant:"default",size:"md"}}),qn=z.forwardRef(({className:n,variant:r,size:i,icon:o,label:c,...f},h)=>d.jsx("button",{ref:h,className:L(pw({variant:r,size:i,className:n})),"aria-label":c,title:c,...f,children:o}));qn.displayName="IconButton";const gw=M("w-full bg-surface-2 text-text-secondary border border-border-subtle transition-colors focus:outline-none focus:ring-1 focus:ring-accent-blue focus:border-accent-blue hover:bg-surface-3 hover:text-text-primary disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{size:{sm:"h-7 px-2.5 pr-7 text-xs rounded-sm leading-7",md:"h-8 px-3 pr-8 text-sm rounded-sm leading-8",lg:"h-10 px-4 pr-10 text-sm rounded-sm leading-10"}},defaultVariants:{size:"md"}}),Rx=z.forwardRef(({className:n,size:r,children:i,...o},c)=>d.jsxs("div",{className:"relative",children:[d.jsx("select",{ref:c,className:L(gw({size:r,className:n})),...o,children:i}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:d.jsx("svg",{className:"h-4 w-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}));Rx.displayName="Select";var Ef=mx();const jf=M("fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-150"),xw=M("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[380px] mx-4 animate-in zoom-in-95 duration-150"),yw=M("px-5 py-4 border-b border-border-subtle"),bw=M("text-base font-semibold text-text-primary"),vw=M("px-5 py-4"),ww=M("text-sm text-text-secondary leading-relaxed"),Sw=M("px-5 py-3 border-t border-border-subtle flex justify-end gap-2"),er=M("px-4 py-2 text-sm font-medium rounded-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1"),Cf=M("bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default focus:ring-border-default"),Af=M("",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/90 focus:ring-accent-blue",danger:"bg-accent-red text-white hover:bg-accent-red/90 focus:ring-accent-red"}},defaultVariants:{variant:"default"}});function Nw({isOpen:n,title:r,message:i,confirmLabel:o="OK",cancelLabel:c="Cancel",variant:f="default",onConfirm:h,onCancel:m}){const g=z.useRef(null);return z.useEffect(()=>{if(n){const p=setTimeout(()=>{g.current?.focus()},50);return()=>clearTimeout(p)}},[n]),z.useEffect(()=>{if(!n)return;const p=y=>{y.key==="Escape"?m():y.key==="Enter"&&h()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n,m,h]),n?Ef.createPortal(d.jsx("div",{className:L(jf()),onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:d.jsxs("div",{className:L(xw()),onClick:p=>p.stopPropagation(),children:[d.jsx("div",{className:L(yw()),children:d.jsx("h2",{id:"confirm-dialog-title",className:L(bw()),children:r})}),d.jsx("div",{className:L(vw()),children:d.jsx("p",{id:"confirm-dialog-message",className:L(ww()),children:i})}),d.jsxs("div",{className:L(Sw()),children:[d.jsx("button",{className:L(er(),Cf()),onClick:m,children:c}),d.jsx("button",{ref:g,className:L(er(),Af({variant:f})),onClick:h,children:o})]})]})}),document.body):null}const zx=M("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[480px] mx-4 animate-in zoom-in-95 duration-150 max-h-[90vh] flex flex-col"),Lx=M("px-5 py-4 border-b border-border-subtle flex-shrink-0"),Vx=M("text-base font-semibold text-text-primary"),Bx=M("px-5 py-4 overflow-y-auto flex-1"),Hx=M("px-5 py-3 border-t border-border-subtle flex justify-end gap-2 flex-shrink-0"),Sl=M("mb-4 last:mb-0"),Nl=M("block text-sm font-medium text-text-primary mb-1.5"),Ja=M("w-full px-3 py-2 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),Ux=M("text-xs text-accent-red mt-1"),ts=M("flex flex-wrap gap-1.5 mb-2"),ns=M("inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-surface-3 text-text-primary rounded-sm border border-border-subtle"),ls=M("ml-0.5 text-text-muted hover:text-text-primary cursor-pointer"),as=M("flex gap-2"),Pa=M("px-3 py-2 text-sm bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default rounded-sm transition-colors"),Yx=M("flex items-center gap-2 mb-2"),rs=M("flex-1 px-2 py-1.5 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),Ix=M("p-1 text-text-muted hover:text-accent-red transition-colors");function Ew({isOpen:n,existingWorkflowNames:r,onConfirm:i,onCancel:o}){const c=z.useRef(null),[f,h]=z.useState(""),[m,g]=z.useState(null),[p,y]=z.useState([]),[b,N]=z.useState(""),[E,w]=z.useState([]),[v,j]=z.useState(""),[_,O]=z.useState([]);z.useEffect(()=>{n&&(h(""),g(null),y([]),N(""),w([]),j(""),O([]),setTimeout(()=>{c.current?.focus()},50))},[n]),z.useEffect(()=>{if(!n)return;const Q=ne=>{ne.key==="Escape"&&o()};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[n,o]);const G=Q=>Q.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Q)?r.includes(Q)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",I=Q=>{h(Q),m&&g(G(Q))},R=()=>{g(G(f))},W=()=>{const Q=b.trim();Q&&!p.includes(Q)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Q)&&(y([...p,Q]),N(""))},U=Q=>{y(p.filter(ne=>ne!==Q))},Y=()=>{const Q=v.trim();Q&&!E.includes(Q)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Q)&&(w([...E,Q]),j(""))},ee=Q=>{w(E.filter(ne=>ne!==Q))},ie=()=>{O([..._,{name:"",value:""}])},ce=(Q,ne,A)=>{const k=[..._];k[Q][ne]=A,O(k)},ue=Q=>{O(_.filter((ne,A)=>A!==Q))},se=()=>{const Q=G(f);if(Q){g(Q);return}const ne={};for(const A of _)if(A.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(A.name.trim())){let k=A.value;try{k=JSON.parse(A.value)}catch{}ne[A.name.trim()]=k}i({name:f.trim(),inputs:p,outputs:E,variables:ne})};return n?Ef.createPortal(d.jsx("div",{className:L(jf()),onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"new-workflow-dialog-title",children:d.jsxs("div",{className:L(zx()),onClick:Q=>Q.stopPropagation(),children:[d.jsx("div",{className:L(Lx()),children:d.jsx("h2",{id:"new-workflow-dialog-title",className:L(Vx()),children:"Create New Workflow"})}),d.jsxs("div",{className:L(Bx()),children:[d.jsxs("div",{className:L(Sl()),children:[d.jsxs("label",{className:L(Nl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:c,type:"text",className:L(Ja()),placeholder:"my_workflow",value:f,onChange:Q=>I(Q.target.value),onBlur:R,onKeyDown:Q=>{Q.key==="Enter"&&se()}}),m&&d.jsx("p",{className:L(Ux()),children:m})]}),d.jsxs("div",{className:L(Sl()),children:[d.jsx("label",{className:L(Nl()),children:"Interface Inputs"}),p.length>0&&d.jsx("div",{className:L(ts()),children:p.map(Q=>d.jsxs("span",{className:L(ns()),children:[Q,d.jsx("button",{className:L(ls()),onClick:()=>U(Q),"aria-label":`Remove ${Q}`,children:"x"})]},Q))}),d.jsxs("div",{className:L(as()),children:[d.jsx("input",{type:"text",className:L(Ja()),placeholder:"input_name",value:b,onChange:Q=>N(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&(Q.preventDefault(),W())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:W,children:"Add"})]})]}),d.jsxs("div",{className:L(Sl()),children:[d.jsx("label",{className:L(Nl()),children:"Interface Outputs"}),E.length>0&&d.jsx("div",{className:L(ts()),children:E.map(Q=>d.jsxs("span",{className:L(ns()),children:[Q,d.jsx("button",{className:L(ls()),onClick:()=>ee(Q),"aria-label":`Remove ${Q}`,children:"x"})]},Q))}),d.jsxs("div",{className:L(as()),children:[d.jsx("input",{type:"text",className:L(Ja()),placeholder:"output_name",value:v,onChange:Q=>j(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&(Q.preventDefault(),Y())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:Y,children:"Add"})]})]}),d.jsxs("div",{className:L(Sl()),children:[d.jsx("label",{className:L(Nl()),children:"Variables"}),_.map((Q,ne)=>d.jsxs("div",{className:L(Yx()),children:[d.jsx("input",{type:"text",className:L(rs()),placeholder:"name",value:Q.name,onChange:A=>ce(ne,"name",A.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:L(rs()),placeholder:"value",value:Q.value,onChange:A=>ce(ne,"value",A.target.value)}),d.jsx("button",{type:"button",className:L(Ix()),onClick:()=>ue(ne),"aria-label":"Remove variable",children:"x"})]},ne)),d.jsx("button",{type:"button",className:L(Pa()),onClick:ie,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:L(Hx()),children:[d.jsx("button",{className:L(er(),Cf()),onClick:o,children:"Cancel"}),d.jsx("button",{className:L(er(),Af()),onClick:se,children:"Create"})]})]})}),document.body):null}const jw=M("mb-4 p-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-secondary");function Cw({isOpen:n,existingWorkflowNames:r,nodeIds:i,suggestedInputs:o,suggestedOutputs:c,onConfirm:f,onCancel:h}){const m=z.useRef(null),[g,p]=z.useState(""),[y,b]=z.useState(null),[N,E]=z.useState([]),[w,v]=z.useState(""),[j,_]=z.useState([]),[O,G]=z.useState(""),[I,R]=z.useState([]);z.useEffect(()=>{n&&(p(""),b(null),E(o),v(""),_(c),G(""),R([]),setTimeout(()=>{m.current?.focus()},50))},[n,o,c]),z.useEffect(()=>{if(!n)return;const k=H=>{H.key==="Escape"&&h()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[n,h]);const W=k=>k.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(k)?r.includes(k)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",U=k=>{p(k),y&&b(W(k))},Y=()=>{b(W(g))},ee=()=>{const k=w.trim();k&&!N.includes(k)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(k)&&(E([...N,k]),v(""))},ie=k=>{E(N.filter(H=>H!==k))},ce=()=>{const k=O.trim();k&&!j.includes(k)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(k)&&(_([...j,k]),G(""))},ue=k=>{_(j.filter(H=>H!==k))},se=()=>{R([...I,{name:"",value:""}])},Q=(k,H,le)=>{const F=[...I];F[k][H]=le,R(F)},ne=k=>{R(I.filter((H,le)=>le!==k))},A=()=>{const k=W(g);if(k){b(k);return}const H={};for(const le of I)if(le.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(le.name.trim())){let F=le.value;try{F=JSON.parse(le.value)}catch{}H[le.name.trim()]=F}f({name:g.trim(),inputs:N,outputs:j,variables:H})};return n?Ef.createPortal(d.jsx("div",{className:L(jf()),onClick:h,role:"dialog","aria-modal":"true","aria-labelledby":"extract-workflow-dialog-title",children:d.jsxs("div",{className:L(zx()),onClick:k=>k.stopPropagation(),children:[d.jsx("div",{className:L(Lx()),children:d.jsx("h2",{id:"extract-workflow-dialog-title",className:L(Vx()),children:"Extract to Workflow"})}),d.jsxs("div",{className:L(Bx()),children:[d.jsxs("div",{className:L(jw()),children:[d.jsxs("strong",{children:[i.length," nodes"]})," will be extracted into a new workflow. The selected nodes will be replaced with a workflow_call node."]}),d.jsxs("div",{className:L(Sl()),children:[d.jsxs("label",{className:L(Nl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:m,type:"text",className:L(Ja()),placeholder:"my_workflow",value:g,onChange:k=>U(k.target.value),onBlur:Y,onKeyDown:k=>{k.key==="Enter"&&A()}}),y&&d.jsx("p",{className:L(Ux()),children:y})]}),d.jsxs("div",{className:L(Sl()),children:[d.jsxs("label",{className:L(Nl()),children:["Interface Inputs",o.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),N.length>0&&d.jsx("div",{className:L(ts()),children:N.map(k=>d.jsxs("span",{className:L(ns()),children:[k,d.jsx("button",{className:L(ls()),onClick:()=>ie(k),"aria-label":`Remove ${k}`,children:"x"})]},k))}),d.jsxs("div",{className:L(as()),children:[d.jsx("input",{type:"text",className:L(Ja()),placeholder:"input_name",value:w,onChange:k=>v(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),ee())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:ee,children:"Add"})]})]}),d.jsxs("div",{className:L(Sl()),children:[d.jsxs("label",{className:L(Nl()),children:["Interface Outputs",c.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),j.length>0&&d.jsx("div",{className:L(ts()),children:j.map(k=>d.jsxs("span",{className:L(ns()),children:[k,d.jsx("button",{className:L(ls()),onClick:()=>ue(k),"aria-label":`Remove ${k}`,children:"x"})]},k))}),d.jsxs("div",{className:L(as()),children:[d.jsx("input",{type:"text",className:L(Ja()),placeholder:"output_name",value:O,onChange:k=>G(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),ce())}}),d.jsx("button",{type:"button",className:L(Pa()),onClick:ce,children:"Add"})]})]}),d.jsxs("div",{className:L(Sl()),children:[d.jsx("label",{className:L(Nl()),children:"Variables"}),I.map((k,H)=>d.jsxs("div",{className:L(Yx()),children:[d.jsx("input",{type:"text",className:L(rs()),placeholder:"name",value:k.name,onChange:le=>Q(H,"name",le.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:L(rs()),placeholder:"value",value:k.value,onChange:le=>Q(H,"value",le.target.value)}),d.jsx("button",{type:"button",className:L(Ix()),onClick:()=>ne(H),"aria-label":"Remove variable",children:"x"})]},H)),d.jsx("button",{type:"button",className:L(Pa()),onClick:se,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:L(Hx()),children:[d.jsx("button",{className:L(er(),Cf()),onClick:h,children:"Cancel"}),d.jsx("button",{className:L(er(),Af()),onClick:A,children:"Extract"})]})]})}),document.body):null}function wt(n,r,i=18){const o=({size:c=i,className:f,...h})=>d.jsx("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:f,...h,children:n});return o.displayName=r,o}const Aw=wt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"FileIcon"),_w=wt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"17 8 12 3 7 8"}),d.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"UploadIcon"),Ow=wt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"DownloadIcon"),Tw=wt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M3 7v6h6"}),d.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),"UndoIcon"),Mw=wt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 7v6h-6"}),d.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"})]}),"RedoIcon"),Dw=wt(d.jsx("path",{d:"M12 5v14M5 12h14"}),"PlusIcon",20),kw=wt(d.jsx("path",{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"}),"CodeIcon",20),Rw=wt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),"SunIcon"),zw=wt(d.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}),"MoonIcon"),Lw=wt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomInIcon",16),Vw=wt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomOutIcon",16),Bw=wt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"FitViewIcon",16),Hw=wt(d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"GridIcon",14),Uw=wt(d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"}),"PlayIcon",14),Yw=wt(d.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),"StopIcon",14),Iw=wt(d.jsxs(d.Fragment,{children:[d.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),d.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]}),"StepForwardIcon",14),qw=wt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"3 6 5 6 21 6"}),d.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"TrashIcon",14),Xw=wt(d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"CloseIcon",14),qx=z.createContext(null),fg="lexflow-theme";function Gw({children:n}){const[r,i]=z.useState(()=>{if(typeof window>"u")return"dark";const f=localStorage.getItem(fg);return f==="light"||f==="dark"?f:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});z.useEffect(()=>{document.documentElement.classList.toggle("light",r==="light"),localStorage.setItem(fg,r)},[r]);const o=f=>i(f),c=()=>i(f=>f==="dark"?"light":"dark");return z.createElement(qx.Provider,{value:{theme:r,setTheme:o,toggleTheme:c}},n)}function Xx(){const n=z.useContext(qx);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}function $w({className:n}){const{theme:r,toggleTheme:i}=Xx();return d.jsx(qn,{className:n,icon:r==="dark"?d.jsx(Rw,{}):d.jsx(zw,{}),label:r==="dark"?"Switch to light mode":"Switch to dark mode",onClick:i})}function Gx(n){return typeof n.listExamples=="function"&&typeof n.getExample=="function"}const $x=z.createContext(null);function Ww({provider:n,children:r}){return d.jsx($x.Provider,{value:n,children:r})}function gs(){const n=z.useContext($x);if(!n)throw new Error("useBackendProvider must be used within a BackendProviderWrapper");return n}function Wx(n){return typeof n>"u"||n===null}function Zw(n){return typeof n=="object"&&n!==null}function Qw(n){return Array.isArray(n)?n:Wx(n)?[]:[n]}function Kw(n,r){var i,o,c,f;if(r)for(f=Object.keys(r),i=0,o=f.length;i<o;i+=1)c=f[i],n[c]=r[c];return n}function Fw(n,r){var i="",o;for(o=0;o<r;o+=1)i+=n;return i}function Jw(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var Pw=Wx,e2=Zw,t2=Qw,n2=Fw,l2=Jw,a2=Kw,xt={isNothing:Pw,isObject:e2,toArray:t2,repeat:n2,isNegativeZero:l2,extend:a2};function Zx(n,r){var i="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(i+='in "'+n.mark.name+'" '),i+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(i+=`

`+n.mark.snippet),o+" "+i):o}function ci(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=Zx(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ci.prototype=Object.create(Error.prototype);ci.prototype.constructor=ci;ci.prototype.toString=function(r){return this.name+": "+Zx(this,r)};var Dt=ci;function Yu(n,r,i,o,c){var f="",h="",m=Math.floor(c/2)-1;return o-r>m&&(f=" ... ",r=o-m+f.length),i-o>m&&(h=" ...",i=o+m-h.length),{str:f+n.slice(r,i).replace(/\t/g,"")+h,pos:o-r+f.length}}function Iu(n,r){return xt.repeat(" ",r-n.length)+n}function r2(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,o=[0],c=[],f,h=-1;f=i.exec(n.buffer);)c.push(f.index),o.push(f.index+f[0].length),n.position<=f.index&&h<0&&(h=o.length-2);h<0&&(h=o.length-1);var m="",g,p,y=Math.min(n.line+r.linesAfter,c.length).toString().length,b=r.maxLength-(r.indent+y+3);for(g=1;g<=r.linesBefore&&!(h-g<0);g++)p=Yu(n.buffer,o[h-g],c[h-g],n.position-(o[h]-o[h-g]),b),m=xt.repeat(" ",r.indent)+Iu((n.line-g+1).toString(),y)+" | "+p.str+`
`+m;for(p=Yu(n.buffer,o[h],c[h],n.position,b),m+=xt.repeat(" ",r.indent)+Iu((n.line+1).toString(),y)+" | "+p.str+`
`,m+=xt.repeat("-",r.indent+y+3+p.pos)+`^
`,g=1;g<=r.linesAfter&&!(h+g>=c.length);g++)p=Yu(n.buffer,o[h+g],c[h+g],n.position-(o[h]-o[h+g]),b),m+=xt.repeat(" ",r.indent)+Iu((n.line+g+1).toString(),y)+" | "+p.str+`
`;return m.replace(/\n$/,"")}var i2=r2,o2=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],s2=["scalar","sequence","mapping"];function c2(n){var r={};return n!==null&&Object.keys(n).forEach(function(i){n[i].forEach(function(o){r[String(o)]=i})}),r}function u2(n,r){if(r=r||{},Object.keys(r).forEach(function(i){if(o2.indexOf(i)===-1)throw new Dt('Unknown option "'+i+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=c2(r.styleAliases||null),s2.indexOf(this.kind)===-1)throw new Dt('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var At=u2;function dg(n,r){var i=[];return n[r].forEach(function(o){var c=i.length;i.forEach(function(f,h){f.tag===o.tag&&f.kind===o.kind&&f.multi===o.multi&&(c=h)}),i[c]=o}),i}function f2(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function o(c){c.multi?(n.multi[c.kind].push(c),n.multi.fallback.push(c)):n[c.kind][c.tag]=n.fallback[c.tag]=c}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(o);return n}function of(n){return this.extend(n)}of.prototype.extend=function(r){var i=[],o=[];if(r instanceof At)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new Dt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(f){if(!(f instanceof At))throw new Dt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(f.loadKind&&f.loadKind!=="scalar")throw new Dt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(f.multi)throw new Dt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(f){if(!(f instanceof At))throw new Dt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(of.prototype);return c.implicit=(this.implicit||[]).concat(i),c.explicit=(this.explicit||[]).concat(o),c.compiledImplicit=dg(c,"implicit"),c.compiledExplicit=dg(c,"explicit"),c.compiledTypeMap=f2(c.compiledImplicit,c.compiledExplicit),c};var Qx=of,Kx=new At("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),Fx=new At("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),Jx=new At("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),Px=new Qx({explicit:[Kx,Fx,Jx]});function d2(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function h2(){return null}function m2(n){return n===null}var ey=new At("tag:yaml.org,2002:null",{kind:"scalar",resolve:d2,construct:h2,predicate:m2,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function p2(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function g2(n){return n==="true"||n==="True"||n==="TRUE"}function x2(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var ty=new At("tag:yaml.org,2002:bool",{kind:"scalar",resolve:p2,construct:g2,predicate:x2,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function y2(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function b2(n){return 48<=n&&n<=55}function v2(n){return 48<=n&&n<=57}function w2(n){if(n===null)return!1;var r=n.length,i=0,o=!1,c;if(!r)return!1;if(c=n[i],(c==="-"||c==="+")&&(c=n[++i]),c==="0"){if(i+1===r)return!0;if(c=n[++i],c==="b"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(c!=="0"&&c!=="1")return!1;o=!0}return o&&c!=="_"}if(c==="x"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!y2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}if(c==="o"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!b2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}}if(c==="_")return!1;for(;i<r;i++)if(c=n[i],c!=="_"){if(!v2(n.charCodeAt(i)))return!1;o=!0}return!(!o||c==="_")}function S2(n){var r=n,i=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(i=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function N2(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!xt.isNegativeZero(n)}var ny=new At("tag:yaml.org,2002:int",{kind:"scalar",resolve:w2,construct:S2,predicate:N2,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),E2=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function j2(n){return!(n===null||!E2.test(n)||n[n.length-1]==="_")}function C2(n){var r,i;return r=n.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var A2=/^[-+]?[0-9]+e/;function _2(n,r){var i;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(xt.isNegativeZero(n))return"-0.0";return i=n.toString(10),A2.test(i)?i.replace("e",".e"):i}function O2(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||xt.isNegativeZero(n))}var ly=new At("tag:yaml.org,2002:float",{kind:"scalar",resolve:j2,construct:C2,predicate:O2,represent:_2,defaultStyle:"lowercase"}),ay=Px.extend({implicit:[ey,ty,ny,ly]}),ry=ay,iy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),oy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function T2(n){return n===null?!1:iy.exec(n)!==null||oy.exec(n)!==null}function M2(n){var r,i,o,c,f,h,m,g=0,p=null,y,b,N;if(r=iy.exec(n),r===null&&(r=oy.exec(n)),r===null)throw new Error("Date resolve error");if(i=+r[1],o=+r[2]-1,c=+r[3],!r[4])return new Date(Date.UTC(i,o,c));if(f=+r[4],h=+r[5],m=+r[6],r[7]){for(g=r[7].slice(0,3);g.length<3;)g+="0";g=+g}return r[9]&&(y=+r[10],b=+(r[11]||0),p=(y*60+b)*6e4,r[9]==="-"&&(p=-p)),N=new Date(Date.UTC(i,o,c,f,h,m,g)),p&&N.setTime(N.getTime()-p),N}function D2(n){return n.toISOString()}var sy=new At("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:T2,construct:M2,instanceOf:Date,represent:D2});function k2(n){return n==="<<"||n===null}var cy=new At("tag:yaml.org,2002:merge",{kind:"scalar",resolve:k2}),_f=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function R2(n){if(n===null)return!1;var r,i,o=0,c=n.length,f=_f;for(i=0;i<c;i++)if(r=f.indexOf(n.charAt(i)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function z2(n){var r,i,o=n.replace(/[\r\n=]/g,""),c=o.length,f=_f,h=0,m=[];for(r=0;r<c;r++)r%4===0&&r&&(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)),h=h<<6|f.indexOf(o.charAt(r));return i=c%4*6,i===0?(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)):i===18?(m.push(h>>10&255),m.push(h>>2&255)):i===12&&m.push(h>>4&255),new Uint8Array(m)}function L2(n){var r="",i=0,o,c,f=n.length,h=_f;for(o=0;o<f;o++)o%3===0&&o&&(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]),i=(i<<8)+n[o];return c=f%3,c===0?(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]):c===2?(r+=h[i>>10&63],r+=h[i>>4&63],r+=h[i<<2&63],r+=h[64]):c===1&&(r+=h[i>>2&63],r+=h[i<<4&63],r+=h[64],r+=h[64]),r}function V2(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var uy=new At("tag:yaml.org,2002:binary",{kind:"scalar",resolve:R2,construct:z2,predicate:V2,represent:L2}),B2=Object.prototype.hasOwnProperty,H2=Object.prototype.toString;function U2(n){if(n===null)return!0;var r=[],i,o,c,f,h,m=n;for(i=0,o=m.length;i<o;i+=1){if(c=m[i],h=!1,H2.call(c)!=="[object Object]")return!1;for(f in c)if(B2.call(c,f))if(!h)h=!0;else return!1;if(!h)return!1;if(r.indexOf(f)===-1)r.push(f);else return!1}return!0}function Y2(n){return n!==null?n:[]}var fy=new At("tag:yaml.org,2002:omap",{kind:"sequence",resolve:U2,construct:Y2}),I2=Object.prototype.toString;function q2(n){if(n===null)return!0;var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1){if(o=h[r],I2.call(o)!=="[object Object]"||(c=Object.keys(o),c.length!==1))return!1;f[r]=[c[0],o[c[0]]]}return!0}function X2(n){if(n===null)return[];var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1)o=h[r],c=Object.keys(o),f[r]=[c[0],o[c[0]]];return f}var dy=new At("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:q2,construct:X2}),G2=Object.prototype.hasOwnProperty;function $2(n){if(n===null)return!0;var r,i=n;for(r in i)if(G2.call(i,r)&&i[r]!==null)return!1;return!0}function W2(n){return n!==null?n:{}}var hy=new At("tag:yaml.org,2002:set",{kind:"mapping",resolve:$2,construct:W2}),Of=ry.extend({implicit:[sy,cy],explicit:[uy,fy,dy,hy]}),_l=Object.prototype.hasOwnProperty,is=1,my=2,py=3,os=4,qu=1,Z2=2,hg=3,Q2=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,K2=/[\x85\u2028\u2029]/,F2=/[,\[\]\{\}]/,gy=/^(?:!|!!|![a-z\-]+!)$/i,xy=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function mg(n){return Object.prototype.toString.call(n)}function wn(n){return n===10||n===13}function la(n){return n===9||n===32}function Yt(n){return n===9||n===32||n===10||n===13}function Za(n){return n===44||n===91||n===93||n===123||n===125}function J2(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function P2(n){return n===120?2:n===117?4:n===85?8:0}function eS(n){return 48<=n&&n<=57?n-48:-1}function pg(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function tS(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function yy(n,r,i){r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:i}):n[r]=i}var by=new Array(256),vy=new Array(256);for(var $a=0;$a<256;$a++)by[$a]=pg($a)?1:0,vy[$a]=pg($a);function nS(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||Of,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function wy(n,r){var i={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return i.snippet=i2(i),new Dt(r,i)}function ye(n,r){throw wy(n,r)}function ss(n,r){n.onWarning&&n.onWarning.call(null,wy(n,r))}var gg={YAML:function(r,i,o){var c,f,h;r.version!==null&&ye(r,"duplication of %YAML directive"),o.length!==1&&ye(r,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),c===null&&ye(r,"ill-formed argument of the YAML directive"),f=parseInt(c[1],10),h=parseInt(c[2],10),f!==1&&ye(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=h<2,h!==1&&h!==2&&ss(r,"unsupported YAML version of the document")},TAG:function(r,i,o){var c,f;o.length!==2&&ye(r,"TAG directive accepts exactly two arguments"),c=o[0],f=o[1],gy.test(c)||ye(r,"ill-formed tag handle (first argument) of the TAG directive"),_l.call(r.tagMap,c)&&ye(r,'there is a previously declared suffix for "'+c+'" tag handle'),xy.test(f)||ye(r,"ill-formed tag prefix (second argument) of the TAG directive");try{f=decodeURIComponent(f)}catch{ye(r,"tag prefix is malformed: "+f)}r.tagMap[c]=f}};function jl(n,r,i,o){var c,f,h,m;if(r<i){if(m=n.input.slice(r,i),o)for(c=0,f=m.length;c<f;c+=1)h=m.charCodeAt(c),h===9||32<=h&&h<=1114111||ye(n,"expected valid JSON character");else Q2.test(m)&&ye(n,"the stream contains non-printable characters");n.result+=m}}function xg(n,r,i,o){var c,f,h,m;for(xt.isObject(i)||ye(n,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(i),h=0,m=c.length;h<m;h+=1)f=c[h],_l.call(r,f)||(yy(r,f,i[f]),o[f]=!0)}function Qa(n,r,i,o,c,f,h,m,g){var p,y;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),p=0,y=c.length;p<y;p+=1)Array.isArray(c[p])&&ye(n,"nested arrays are not supported inside keys"),typeof c=="object"&&mg(c[p])==="[object Object]"&&(c[p]="[object Object]");if(typeof c=="object"&&mg(c)==="[object Object]"&&(c="[object Object]"),c=String(c),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(f))for(p=0,y=f.length;p<y;p+=1)xg(n,r,f[p],i);else xg(n,r,f,i);else!n.json&&!_l.call(i,c)&&_l.call(r,c)&&(n.line=h||n.line,n.lineStart=m||n.lineStart,n.position=g||n.position,ye(n,"duplicated mapping key")),yy(r,c,f),delete i[c];return r}function Tf(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):ye(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function mt(n,r,i){for(var o=0,c=n.input.charCodeAt(n.position);c!==0;){for(;la(c);)c===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),c=n.input.charCodeAt(++n.position);if(r&&c===35)do c=n.input.charCodeAt(++n.position);while(c!==10&&c!==13&&c!==0);if(wn(c))for(Tf(n),c=n.input.charCodeAt(n.position),o++,n.lineIndent=0;c===32;)n.lineIndent++,c=n.input.charCodeAt(++n.position);else break}return i!==-1&&o!==0&&n.lineIndent<i&&ss(n,"deficient indentation"),o}function xs(n){var r=n.position,i;return i=n.input.charCodeAt(r),!!((i===45||i===46)&&i===n.input.charCodeAt(r+1)&&i===n.input.charCodeAt(r+2)&&(r+=3,i=n.input.charCodeAt(r),i===0||Yt(i)))}function Mf(n,r){r===1?n.result+=" ":r>1&&(n.result+=xt.repeat(`
`,r-1))}function lS(n,r,i){var o,c,f,h,m,g,p,y,b=n.kind,N=n.result,E;if(E=n.input.charCodeAt(n.position),Yt(E)||Za(E)||E===35||E===38||E===42||E===33||E===124||E===62||E===39||E===34||E===37||E===64||E===96||(E===63||E===45)&&(c=n.input.charCodeAt(n.position+1),Yt(c)||i&&Za(c)))return!1;for(n.kind="scalar",n.result="",f=h=n.position,m=!1;E!==0;){if(E===58){if(c=n.input.charCodeAt(n.position+1),Yt(c)||i&&Za(c))break}else if(E===35){if(o=n.input.charCodeAt(n.position-1),Yt(o))break}else{if(n.position===n.lineStart&&xs(n)||i&&Za(E))break;if(wn(E))if(g=n.line,p=n.lineStart,y=n.lineIndent,mt(n,!1,-1),n.lineIndent>=r){m=!0,E=n.input.charCodeAt(n.position);continue}else{n.position=h,n.line=g,n.lineStart=p,n.lineIndent=y;break}}m&&(jl(n,f,h,!1),Mf(n,n.line-g),f=h=n.position,m=!1),la(E)||(h=n.position+1),E=n.input.charCodeAt(++n.position)}return jl(n,f,h,!1),n.result?!0:(n.kind=b,n.result=N,!1)}function aS(n,r){var i,o,c;if(i=n.input.charCodeAt(n.position),i!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=c=n.position;(i=n.input.charCodeAt(n.position))!==0;)if(i===39)if(jl(n,o,n.position,!0),i=n.input.charCodeAt(++n.position),i===39)o=n.position,n.position++,c=n.position;else return!0;else wn(i)?(jl(n,o,c,!0),Mf(n,mt(n,!1,r)),o=c=n.position):n.position===n.lineStart&&xs(n)?ye(n,"unexpected end of the document within a single quoted scalar"):(n.position++,c=n.position);ye(n,"unexpected end of the stream within a single quoted scalar")}function rS(n,r){var i,o,c,f,h,m;if(m=n.input.charCodeAt(n.position),m!==34)return!1;for(n.kind="scalar",n.result="",n.position++,i=o=n.position;(m=n.input.charCodeAt(n.position))!==0;){if(m===34)return jl(n,i,n.position,!0),n.position++,!0;if(m===92){if(jl(n,i,n.position,!0),m=n.input.charCodeAt(++n.position),wn(m))mt(n,!1,r);else if(m<256&&by[m])n.result+=vy[m],n.position++;else if((h=P2(m))>0){for(c=h,f=0;c>0;c--)m=n.input.charCodeAt(++n.position),(h=J2(m))>=0?f=(f<<4)+h:ye(n,"expected hexadecimal character");n.result+=tS(f),n.position++}else ye(n,"unknown escape sequence");i=o=n.position}else wn(m)?(jl(n,i,o,!0),Mf(n,mt(n,!1,r)),i=o=n.position):n.position===n.lineStart&&xs(n)?ye(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}ye(n,"unexpected end of the stream within a double quoted scalar")}function iS(n,r){var i=!0,o,c,f,h=n.tag,m,g=n.anchor,p,y,b,N,E,w=Object.create(null),v,j,_,O;if(O=n.input.charCodeAt(n.position),O===91)y=93,E=!1,m=[];else if(O===123)y=125,E=!0,m={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=m),O=n.input.charCodeAt(++n.position);O!==0;){if(mt(n,!0,r),O=n.input.charCodeAt(n.position),O===y)return n.position++,n.tag=h,n.anchor=g,n.kind=E?"mapping":"sequence",n.result=m,!0;i?O===44&&ye(n,"expected the node content, but found ','"):ye(n,"missed comma between flow collection entries"),j=v=_=null,b=N=!1,O===63&&(p=n.input.charCodeAt(n.position+1),Yt(p)&&(b=N=!0,n.position++,mt(n,!0,r))),o=n.line,c=n.lineStart,f=n.position,tr(n,r,is,!1,!0),j=n.tag,v=n.result,mt(n,!0,r),O=n.input.charCodeAt(n.position),(N||n.line===o)&&O===58&&(b=!0,O=n.input.charCodeAt(++n.position),mt(n,!0,r),tr(n,r,is,!1,!0),_=n.result),E?Qa(n,m,w,j,v,_,o,c,f):b?m.push(Qa(n,null,w,j,v,_,o,c,f)):m.push(v),mt(n,!0,r),O=n.input.charCodeAt(n.position),O===44?(i=!0,O=n.input.charCodeAt(++n.position)):i=!1}ye(n,"unexpected end of the stream within a flow collection")}function oS(n,r){var i,o,c=qu,f=!1,h=!1,m=r,g=0,p=!1,y,b;if(b=n.input.charCodeAt(n.position),b===124)o=!1;else if(b===62)o=!0;else return!1;for(n.kind="scalar",n.result="";b!==0;)if(b=n.input.charCodeAt(++n.position),b===43||b===45)qu===c?c=b===43?hg:Z2:ye(n,"repeat of a chomping mode identifier");else if((y=eS(b))>=0)y===0?ye(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?ye(n,"repeat of an indentation width identifier"):(m=r+y-1,h=!0);else break;if(la(b)){do b=n.input.charCodeAt(++n.position);while(la(b));if(b===35)do b=n.input.charCodeAt(++n.position);while(!wn(b)&&b!==0)}for(;b!==0;){for(Tf(n),n.lineIndent=0,b=n.input.charCodeAt(n.position);(!h||n.lineIndent<m)&&b===32;)n.lineIndent++,b=n.input.charCodeAt(++n.position);if(!h&&n.lineIndent>m&&(m=n.lineIndent),wn(b)){g++;continue}if(n.lineIndent<m){c===hg?n.result+=xt.repeat(`
`,f?1+g:g):c===qu&&f&&(n.result+=`
`);break}for(o?la(b)?(p=!0,n.result+=xt.repeat(`
`,f?1+g:g)):p?(p=!1,n.result+=xt.repeat(`
`,g+1)):g===0?f&&(n.result+=" "):n.result+=xt.repeat(`
`,g):n.result+=xt.repeat(`
`,f?1+g:g),f=!0,h=!0,g=0,i=n.position;!wn(b)&&b!==0;)b=n.input.charCodeAt(++n.position);jl(n,i,n.position,!1)}return!0}function yg(n,r){var i,o=n.tag,c=n.anchor,f=[],h,m=!1,g;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),g=n.input.charCodeAt(n.position);g!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,ye(n,"tab characters must not be used in indentation")),!(g!==45||(h=n.input.charCodeAt(n.position+1),!Yt(h))));){if(m=!0,n.position++,mt(n,!0,-1)&&n.lineIndent<=r){f.push(null),g=n.input.charCodeAt(n.position);continue}if(i=n.line,tr(n,r,py,!1,!0),f.push(n.result),mt(n,!0,-1),g=n.input.charCodeAt(n.position),(n.line===i||n.lineIndent>r)&&g!==0)ye(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return m?(n.tag=o,n.anchor=c,n.kind="sequence",n.result=f,!0):!1}function sS(n,r,i){var o,c,f,h,m,g,p=n.tag,y=n.anchor,b={},N=Object.create(null),E=null,w=null,v=null,j=!1,_=!1,O;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=b),O=n.input.charCodeAt(n.position);O!==0;){if(!j&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,ye(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),f=n.line,(O===63||O===58)&&Yt(o))O===63?(j&&(Qa(n,b,N,E,w,null,h,m,g),E=w=v=null),_=!0,j=!0,c=!0):j?(j=!1,c=!0):ye(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,O=o;else{if(h=n.line,m=n.lineStart,g=n.position,!tr(n,i,my,!1,!0))break;if(n.line===f){for(O=n.input.charCodeAt(n.position);la(O);)O=n.input.charCodeAt(++n.position);if(O===58)O=n.input.charCodeAt(++n.position),Yt(O)||ye(n,"a whitespace character is expected after the key-value separator within a block mapping"),j&&(Qa(n,b,N,E,w,null,h,m,g),E=w=v=null),_=!0,j=!1,c=!1,E=n.tag,w=n.result;else if(_)ye(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=p,n.anchor=y,!0}else if(_)ye(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=p,n.anchor=y,!0}if((n.line===f||n.lineIndent>r)&&(j&&(h=n.line,m=n.lineStart,g=n.position),tr(n,r,os,!0,c)&&(j?w=n.result:v=n.result),j||(Qa(n,b,N,E,w,v,h,m,g),E=w=v=null),mt(n,!0,-1),O=n.input.charCodeAt(n.position)),(n.line===f||n.lineIndent>r)&&O!==0)ye(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return j&&Qa(n,b,N,E,w,null,h,m,g),_&&(n.tag=p,n.anchor=y,n.kind="mapping",n.result=b),_}function cS(n){var r,i=!1,o=!1,c,f,h;if(h=n.input.charCodeAt(n.position),h!==33)return!1;if(n.tag!==null&&ye(n,"duplication of a tag property"),h=n.input.charCodeAt(++n.position),h===60?(i=!0,h=n.input.charCodeAt(++n.position)):h===33?(o=!0,c="!!",h=n.input.charCodeAt(++n.position)):c="!",r=n.position,i){do h=n.input.charCodeAt(++n.position);while(h!==0&&h!==62);n.position<n.length?(f=n.input.slice(r,n.position),h=n.input.charCodeAt(++n.position)):ye(n,"unexpected end of the stream within a verbatim tag")}else{for(;h!==0&&!Yt(h);)h===33&&(o?ye(n,"tag suffix cannot contain exclamation marks"):(c=n.input.slice(r-1,n.position+1),gy.test(c)||ye(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),h=n.input.charCodeAt(++n.position);f=n.input.slice(r,n.position),F2.test(f)&&ye(n,"tag suffix cannot contain flow indicator characters")}f&&!xy.test(f)&&ye(n,"tag name cannot contain such characters: "+f);try{f=decodeURIComponent(f)}catch{ye(n,"tag name is malformed: "+f)}return i?n.tag=f:_l.call(n.tagMap,c)?n.tag=n.tagMap[c]+f:c==="!"?n.tag="!"+f:c==="!!"?n.tag="tag:yaml.org,2002:"+f:ye(n,'undeclared tag handle "'+c+'"'),!0}function uS(n){var r,i;if(i=n.input.charCodeAt(n.position),i!==38)return!1;for(n.anchor!==null&&ye(n,"duplication of an anchor property"),i=n.input.charCodeAt(++n.position),r=n.position;i!==0&&!Yt(i)&&!Za(i);)i=n.input.charCodeAt(++n.position);return n.position===r&&ye(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function fS(n){var r,i,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Yt(o)&&!Za(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&ye(n,"name of an alias node must contain at least one character"),i=n.input.slice(r,n.position),_l.call(n.anchorMap,i)||ye(n,'unidentified alias "'+i+'"'),n.result=n.anchorMap[i],mt(n,!0,-1),!0}function tr(n,r,i,o,c){var f,h,m,g=1,p=!1,y=!1,b,N,E,w,v,j;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,f=h=m=os===i||py===i,o&&mt(n,!0,-1)&&(p=!0,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)),g===1)for(;cS(n)||uS(n);)mt(n,!0,-1)?(p=!0,m=f,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)):m=!1;if(m&&(m=p||c),(g===1||os===i)&&(is===i||my===i?v=r:v=r+1,j=n.position-n.lineStart,g===1?m&&(yg(n,j)||sS(n,j,v))||iS(n,v)?y=!0:(h&&oS(n,v)||aS(n,v)||rS(n,v)?y=!0:fS(n)?(y=!0,(n.tag!==null||n.anchor!==null)&&ye(n,"alias node should not have any properties")):lS(n,v,is===i)&&(y=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):g===0&&(y=m&&yg(n,j))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&ye(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),b=0,N=n.implicitTypes.length;b<N;b+=1)if(w=n.implicitTypes[b],w.resolve(n.result)){n.result=w.construct(n.result),n.tag=w.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(_l.call(n.typeMap[n.kind||"fallback"],n.tag))w=n.typeMap[n.kind||"fallback"][n.tag];else for(w=null,E=n.typeMap.multi[n.kind||"fallback"],b=0,N=E.length;b<N;b+=1)if(n.tag.slice(0,E[b].tag.length)===E[b].tag){w=E[b];break}w||ye(n,"unknown tag !<"+n.tag+">"),n.result!==null&&w.kind!==n.kind&&ye(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+w.kind+'", not "'+n.kind+'"'),w.resolve(n.result,n.tag)?(n.result=w.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):ye(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||y}function dS(n){var r=n.position,i,o,c,f=!1,h;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(h=n.input.charCodeAt(n.position))!==0&&(mt(n,!0,-1),h=n.input.charCodeAt(n.position),!(n.lineIndent>0||h!==37));){for(f=!0,h=n.input.charCodeAt(++n.position),i=n.position;h!==0&&!Yt(h);)h=n.input.charCodeAt(++n.position);for(o=n.input.slice(i,n.position),c=[],o.length<1&&ye(n,"directive name must not be less than one character in length");h!==0;){for(;la(h);)h=n.input.charCodeAt(++n.position);if(h===35){do h=n.input.charCodeAt(++n.position);while(h!==0&&!wn(h));break}if(wn(h))break;for(i=n.position;h!==0&&!Yt(h);)h=n.input.charCodeAt(++n.position);c.push(n.input.slice(i,n.position))}h!==0&&Tf(n),_l.call(gg,o)?gg[o](n,o,c):ss(n,'unknown document directive "'+o+'"')}if(mt(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,mt(n,!0,-1)):f&&ye(n,"directives end mark is expected"),tr(n,n.lineIndent-1,os,!1,!0),mt(n,!0,-1),n.checkLineBreaks&&K2.test(n.input.slice(r,n.position))&&ss(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&xs(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,mt(n,!0,-1));return}if(n.position<n.length-1)ye(n,"end of the stream or a document separator is expected");else return}function Sy(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var i=new nS(n,r),o=n.indexOf("\0");for(o!==-1&&(i.position=o,ye(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)dS(i);return i.documents}function hS(n,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var o=Sy(n,i);if(typeof r!="function")return o;for(var c=0,f=o.length;c<f;c+=1)r(o[c])}function mS(n,r){var i=Sy(n,r);if(i.length!==0){if(i.length===1)return i[0];throw new Dt("expected a single document in the stream, but found more")}}var pS=hS,gS=mS,Ny={loadAll:pS,load:gS},Ey=Object.prototype.toString,jy=Object.prototype.hasOwnProperty,Df=65279,xS=9,ui=10,yS=13,bS=32,vS=33,wS=34,sf=35,SS=37,NS=38,ES=39,jS=42,Cy=44,CS=45,cs=58,AS=61,_S=62,OS=63,TS=64,Ay=91,_y=93,MS=96,Oy=123,DS=124,Ty=125,Tt={};Tt[0]="\\0";Tt[7]="\\a";Tt[8]="\\b";Tt[9]="\\t";Tt[10]="\\n";Tt[11]="\\v";Tt[12]="\\f";Tt[13]="\\r";Tt[27]="\\e";Tt[34]='\\"';Tt[92]="\\\\";Tt[133]="\\N";Tt[160]="\\_";Tt[8232]="\\L";Tt[8233]="\\P";var kS=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],RS=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function zS(n,r){var i,o,c,f,h,m,g;if(r===null)return{};for(i={},o=Object.keys(r),c=0,f=o.length;c<f;c+=1)h=o[c],m=String(r[h]),h.slice(0,2)==="!!"&&(h="tag:yaml.org,2002:"+h.slice(2)),g=n.compiledTypeMap.fallback[h],g&&jy.call(g.styleAliases,m)&&(m=g.styleAliases[m]),i[h]=m;return i}function LS(n){var r,i,o;if(r=n.toString(16).toUpperCase(),n<=255)i="x",o=2;else if(n<=65535)i="u",o=4;else if(n<=4294967295)i="U",o=8;else throw new Dt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+xt.repeat("0",o-r.length)+r}var VS=1,fi=2;function BS(n){this.schema=n.schema||Of,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=xt.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=zS(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?fi:VS,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function bg(n,r){for(var i=xt.repeat(" ",r),o=0,c=-1,f="",h,m=n.length;o<m;)c=n.indexOf(`
`,o),c===-1?(h=n.slice(o),o=m):(h=n.slice(o,c+1),o=c+1),h.length&&h!==`
`&&(f+=i),f+=h;return f}function cf(n,r){return`
`+xt.repeat(" ",n.indent*r)}function HS(n,r){var i,o,c;for(i=0,o=n.implicitTypes.length;i<o;i+=1)if(c=n.implicitTypes[i],c.resolve(r))return!0;return!1}function us(n){return n===bS||n===xS}function di(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==Df||65536<=n&&n<=1114111}function vg(n){return di(n)&&n!==Df&&n!==yS&&n!==ui}function wg(n,r,i){var o=vg(n),c=o&&!us(n);return(i?o:o&&n!==Cy&&n!==Ay&&n!==_y&&n!==Oy&&n!==Ty)&&n!==sf&&!(r===cs&&!c)||vg(r)&&!us(r)&&n===sf||r===cs&&c}function US(n){return di(n)&&n!==Df&&!us(n)&&n!==CS&&n!==OS&&n!==cs&&n!==Cy&&n!==Ay&&n!==_y&&n!==Oy&&n!==Ty&&n!==sf&&n!==NS&&n!==jS&&n!==vS&&n!==DS&&n!==AS&&n!==_S&&n!==ES&&n!==wS&&n!==SS&&n!==TS&&n!==MS}function YS(n){return!us(n)&&n!==cs}function li(n,r){var i=n.charCodeAt(r),o;return i>=55296&&i<=56319&&r+1<n.length&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function My(n){var r=/^\n* /;return r.test(n)}var Dy=1,uf=2,ky=3,Ry=4,Wa=5;function IS(n,r,i,o,c,f,h,m){var g,p=0,y=null,b=!1,N=!1,E=o!==-1,w=-1,v=US(li(n,0))&&YS(li(n,n.length-1));if(r||h)for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=li(n,g),!di(p))return Wa;v=v&&wg(p,y,m),y=p}else{for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=li(n,g),p===ui)b=!0,E&&(N=N||g-w-1>o&&n[w+1]!==" ",w=g);else if(!di(p))return Wa;v=v&&wg(p,y,m),y=p}N=N||E&&g-w-1>o&&n[w+1]!==" "}return!b&&!N?v&&!h&&!c(n)?Dy:f===fi?Wa:uf:i>9&&My(n)?Wa:h?f===fi?Wa:uf:N?Ry:ky}function qS(n,r,i,o,c){n.dump=(function(){if(r.length===0)return n.quotingType===fi?'""':"''";if(!n.noCompatMode&&(kS.indexOf(r)!==-1||RS.test(r)))return n.quotingType===fi?'"'+r+'"':"'"+r+"'";var f=n.indent*Math.max(1,i),h=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-f),m=o||n.flowLevel>-1&&i>=n.flowLevel;function g(p){return HS(n,p)}switch(IS(r,m,n.indent,h,g,n.quotingType,n.forceQuotes&&!o,c)){case Dy:return r;case uf:return"'"+r.replace(/'/g,"''")+"'";case ky:return"|"+Sg(r,n.indent)+Ng(bg(r,f));case Ry:return">"+Sg(r,n.indent)+Ng(bg(XS(r,h),f));case Wa:return'"'+GS(r)+'"';default:throw new Dt("impossible error: invalid scalar style")}})()}function Sg(n,r){var i=My(n)?String(r):"",o=n[n.length-1]===`
`,c=o&&(n[n.length-2]===`
`||n===`
`),f=c?"+":o?"":"-";return i+f+`
`}function Ng(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function XS(n,r){for(var i=/(\n+)([^\n]*)/g,o=(function(){var p=n.indexOf(`
`);return p=p!==-1?p:n.length,i.lastIndex=p,Eg(n.slice(0,p),r)})(),c=n[0]===`
`||n[0]===" ",f,h;h=i.exec(n);){var m=h[1],g=h[2];f=g[0]===" ",o+=m+(!c&&!f&&g!==""?`
`:"")+Eg(g,r),c=f}return o}function Eg(n,r){if(n===""||n[0]===" ")return n;for(var i=/ [^ ]/g,o,c=0,f,h=0,m=0,g="";o=i.exec(n);)m=o.index,m-c>r&&(f=h>c?h:m,g+=`
`+n.slice(c,f),c=f+1),h=m;return g+=`
`,n.length-c>r&&h>c?g+=n.slice(c,h)+`
`+n.slice(h+1):g+=n.slice(c),g.slice(1)}function GS(n){for(var r="",i=0,o,c=0;c<n.length;i>=65536?c+=2:c++)i=li(n,c),o=Tt[i],!o&&di(i)?(r+=n[c],i>=65536&&(r+=n[c+1])):r+=o||LS(i);return r}function $S(n,r,i){var o="",c=n.tag,f,h,m;for(f=0,h=i.length;f<h;f+=1)m=i[f],n.replacer&&(m=n.replacer.call(i,String(f),m)),(Gn(n,r,m,!1,!1)||typeof m>"u"&&Gn(n,r,null,!1,!1))&&(o!==""&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=c,n.dump="["+o+"]"}function jg(n,r,i,o){var c="",f=n.tag,h,m,g;for(h=0,m=i.length;h<m;h+=1)g=i[h],n.replacer&&(g=n.replacer.call(i,String(h),g)),(Gn(n,r+1,g,!0,!0,!1,!0)||typeof g>"u"&&Gn(n,r+1,null,!0,!0,!1,!0))&&((!o||c!=="")&&(c+=cf(n,r)),n.dump&&ui===n.dump.charCodeAt(0)?c+="-":c+="- ",c+=n.dump);n.tag=f,n.dump=c||"[]"}function WS(n,r,i){var o="",c=n.tag,f=Object.keys(i),h,m,g,p,y;for(h=0,m=f.length;h<m;h+=1)y="",o!==""&&(y+=", "),n.condenseFlow&&(y+='"'),g=f[h],p=i[g],n.replacer&&(p=n.replacer.call(i,g,p)),Gn(n,r,g,!1,!1)&&(n.dump.length>1024&&(y+="? "),y+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),Gn(n,r,p,!1,!1)&&(y+=n.dump,o+=y));n.tag=c,n.dump="{"+o+"}"}function ZS(n,r,i,o){var c="",f=n.tag,h=Object.keys(i),m,g,p,y,b,N;if(n.sortKeys===!0)h.sort();else if(typeof n.sortKeys=="function")h.sort(n.sortKeys);else if(n.sortKeys)throw new Dt("sortKeys must be a boolean or a function");for(m=0,g=h.length;m<g;m+=1)N="",(!o||c!=="")&&(N+=cf(n,r)),p=h[m],y=i[p],n.replacer&&(y=n.replacer.call(i,p,y)),Gn(n,r+1,p,!0,!0,!0)&&(b=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,b&&(n.dump&&ui===n.dump.charCodeAt(0)?N+="?":N+="? "),N+=n.dump,b&&(N+=cf(n,r)),Gn(n,r+1,y,!0,b)&&(n.dump&&ui===n.dump.charCodeAt(0)?N+=":":N+=": ",N+=n.dump,c+=N));n.tag=f,n.dump=c||"{}"}function Cg(n,r,i){var o,c,f,h,m,g;for(c=i?n.explicitTypes:n.implicitTypes,f=0,h=c.length;f<h;f+=1)if(m=c[f],(m.instanceOf||m.predicate)&&(!m.instanceOf||typeof r=="object"&&r instanceof m.instanceOf)&&(!m.predicate||m.predicate(r))){if(i?m.multi&&m.representName?n.tag=m.representName(r):n.tag=m.tag:n.tag="?",m.represent){if(g=n.styleMap[m.tag]||m.defaultStyle,Ey.call(m.represent)==="[object Function]")o=m.represent(r,g);else if(jy.call(m.represent,g))o=m.represent[g](r,g);else throw new Dt("!<"+m.tag+'> tag resolver accepts not "'+g+'" style');n.dump=o}return!0}return!1}function Gn(n,r,i,o,c,f,h){n.tag=null,n.dump=i,Cg(n,i,!1)||Cg(n,i,!0);var m=Ey.call(n.dump),g=o,p;o&&(o=n.flowLevel<0||n.flowLevel>r);var y=m==="[object Object]"||m==="[object Array]",b,N;if(y&&(b=n.duplicates.indexOf(i),N=b!==-1),(n.tag!==null&&n.tag!=="?"||N||n.indent!==2&&r>0)&&(c=!1),N&&n.usedDuplicates[b])n.dump="*ref_"+b;else{if(y&&N&&!n.usedDuplicates[b]&&(n.usedDuplicates[b]=!0),m==="[object Object]")o&&Object.keys(n.dump).length!==0?(ZS(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(WS(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object Array]")o&&n.dump.length!==0?(n.noArrayIndent&&!h&&r>0?jg(n,r-1,n.dump,c):jg(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):($S(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object String]")n.tag!=="?"&&qS(n,n.dump,r,f,g);else{if(m==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new Dt("unacceptable kind of an object to dump "+m)}n.tag!==null&&n.tag!=="?"&&(p=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",n.dump=p+" "+n.dump)}return!0}function QS(n,r){var i=[],o=[],c,f;for(ff(n,i,o),c=0,f=o.length;c<f;c+=1)r.duplicates.push(i[o[c]]);r.usedDuplicates=new Array(f)}function ff(n,r,i){var o,c,f;if(n!==null&&typeof n=="object")if(c=r.indexOf(n),c!==-1)i.indexOf(c)===-1&&i.push(c);else if(r.push(n),Array.isArray(n))for(c=0,f=n.length;c<f;c+=1)ff(n[c],r,i);else for(o=Object.keys(n),c=0,f=o.length;c<f;c+=1)ff(n[o[c]],r,i)}function KS(n,r){r=r||{};var i=new BS(r);i.noRefs||QS(n,i);var o=n;return i.replacer&&(o=i.replacer.call({"":o},"",o)),Gn(i,0,o,!0,!0)?i.dump+`
`:""}var FS=KS,JS={dump:FS};function kf(n,r){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var PS=At,eN=Qx,tN=Px,nN=ay,lN=ry,aN=Of,rN=Ny.load,iN=Ny.loadAll,oN=JS.dump,sN=Dt,cN={binary:uy,float:ly,map:Jx,null:ey,pairs:dy,set:hy,timestamp:sy,bool:ty,int:ny,merge:cy,omap:fy,seq:Fx,str:Kx},uN=kf("safeLoad","load"),fN=kf("safeLoadAll","loadAll"),dN=kf("safeDump","dump"),fs={Type:PS,Schema:eN,FAILSAFE_SCHEMA:tN,JSON_SCHEMA:nN,CORE_SCHEMA:lN,DEFAULT_SCHEMA:aN,load:rN,loadAll:iN,dump:oN,YAMLException:sN,types:cN,safeLoad:uN,safeLoadAll:fN,safeDump:dN};function hN(n){const r=n.trim();if(!r)return{success:!1,error:"Empty source"};if(r.startsWith("{")||r.startsWith("["))try{return{success:!0,data:JSON.parse(r)}}catch{}try{const i=fs.load(r);return i==null?{success:!1,error:"Empty workflow"}:{success:!0,data:i}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Parse failed"}}}function mN(n,r){return n.constructs.find(i=>i.opcode===r)}function pN(n){return new Set(n.constructs.filter(r=>r.branches&&r.branches.length>0).map(r=>r.opcode))}function gN(n,r){const i=n.branch_colors;return r.startsWith("CATCH")?i.CATCH||i.default||"#9C27B0":r.startsWith("BRANCH")?i.BRANCH||i.default||"#9C27B0":i[r]||i.default||"#9C27B0"}function xN(n,r){const i=n.node_colors;return i[r]||i.opcode||"#64748B"}function yN(n,r){const i=n.reporter_colors;for(const o of n.categories)if(r.startsWith(o.prefix))return i[o.id]||i.default||"#64748B";return i.default||"#64748B"}const bN="1.0",vN=[{id:"control",prefix:"control_",label:"Control Flow",color:"#FF9500",icon:""},{id:"data",prefix:"data_",label:"Data",color:"#4CAF50",icon:""},{id:"io",prefix:"io_",label:"I/O",color:"#22D3EE",icon:""},{id:"operator",prefix:"operator_",label:"Operators",color:"#9C27B0",icon:""},{id:"list",prefix:"list_",label:"Lists",color:"#3B82F6",icon:""},{id:"dict",prefix:"dict_",label:"Dicts",color:"#F59E0B",icon:""},{id:"string",prefix:"string_",label:"Strings",color:"#F472B6",icon:""},{id:"math",prefix:"math_",label:"Math",color:"#8B5CF6",icon:""},{id:"workflow",prefix:"workflow_",label:"Workflow",color:"#E91E63",icon:""},{id:"async",prefix:"async_",label:"Async",color:"#06B6D4",icon:""}],wN=[{opcode:"control_if",display_name:"If",ast_class:"If",category:"control",description:"Execute branch if condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0}]},{opcode:"control_if_else",display_name:"If-Else",ast_class:"If",category:"control",description:"Execute then-branch if condition is true, else-branch otherwise.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0},{name:"ELSE",label:"Else",color:"#EF5350",required:!0}]},{opcode:"control_while",display_name:"While",ast_class:"While",category:"control",description:"Repeat body while condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_for",display_name:"For",ast_class:"For",category:"control",description:"For loop with counter variable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"START",type:"expression",label:"Start",value_type:"int",required:!0},{name:"END",type:"expression",label:"End",value_type:"int",required:!0},{name:"STEP",type:"expression",label:"Step",value_type:"int",required:!1,default:1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_foreach",display_name:"ForEach",ast_class:"ForEach",category:"control",description:"Iterate over each item in a collection.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Iterable",value_type:"list",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_fork",display_name:"Fork",ast_class:"Fork",category:"control",description:"Execute multiple branches concurrently.",inputs:[],branches:[{name:"BRANCH1",label:"Branch 1",color:"#9C27B0",required:!0},{name:"BRANCH2",label:"Branch 2",color:"#9C27B0",required:!1}],dynamic_branches:!0},{opcode:"control_try",display_name:"Try",ast_class:"Try",category:"control",description:"Exception handling with try/catch/finally.",inputs:[],branches:[{name:"TRY",label:"Try",color:"#3B82F6",required:!0},{name:"CATCH1",label:"Catch",color:"#F87171",required:!1,catch_config:{exception_type:"string",var_name:"string"}},{name:"FINALLY",label:"Finally",color:"#FACC15",required:!1}],dynamic_branches:!0},{opcode:"control_throw",display_name:"Throw",ast_class:"Throw",category:"control",description:"Raise an exception with a message.",inputs:[{name:"VALUE",type:"expression",label:"Message",value_type:"string",required:!0}],branches:[]},{opcode:"control_spawn",display_name:"Spawn",ast_class:"Spawn",category:"control",description:"Spawn a background task.",inputs:[{name:"VAR",type:"variable_name",label:"Task Variable",required:!1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_async_foreach",display_name:"Async ForEach",ast_class:"AsyncForEach",category:"control",description:"Async iteration over a stream or async iterable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Async Iterable",value_type:"async_iterable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"async_timeout",display_name:"Timeout",ast_class:"Timeout",category:"async",description:"Execute body with a timeout, with optional fallback.",inputs:[{name:"TIMEOUT",type:"expression",label:"Timeout (seconds)",value_type:"float",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0},{name:"ON_TIMEOUT",label:"On Timeout",color:"#FACC15",required:!1}]},{opcode:"control_with",display_name:"With",ast_class:"With",category:"control",description:"Async context manager (with statement).",inputs:[{name:"RESOURCE",type:"expression",label:"Resource",required:!0},{name:"VAR",type:"variable_name",label:"Variable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"data_set_variable_to",display_name:"Set Variable",ast_class:"Assign",category:"data",description:"Assign a value to a variable.",inputs:[{name:"VARIABLE",type:"variable_name",label:"Variable",required:!0},{name:"VALUE",type:"expression",label:"Value",required:!0}],branches:[]},{opcode:"workflow_return",display_name:"Return",ast_class:"Return",category:"workflow",description:"Return value(s) from workflow.",inputs:[{name:"VALUE",type:"expression",label:"Value",required:!1}],branches:[],dynamic_inputs:!0},{opcode:"workflow_call",display_name:"Call Workflow",ast_class:"ExprStmt",category:"workflow",description:"Call another workflow by name.",inputs:[{name:"WORKFLOW",type:"variable_name",label:"Workflow Name",required:!0}],branches:[],dynamic_inputs:!0},{opcode:"workflow_start",display_name:"Start",ast_class:null,category:"workflow",description:"Entry point for workflow execution.",inputs:[],branches:[]}],SN={THEN:"#34D399",ELSE:"#F87171",BODY:"#22D3EE",TRY:"#3B82F6",CATCH:"#F87171",FINALLY:"#FACC15",ON_TIMEOUT:"#FACC15",BRANCH:"#9C27B0",default:"#9C27B0"},NN={control_flow:"#FF9500",data:"#4CAF50",io:"#22D3EE",operator:"#9C27B0",workflow_op:"#E91E63",opcode:"#64748B"},EN={data:"#4CAF50",operator:"#9C27B0",io:"#22D3EE",workflow:"#E91E63",default:"#64748B"},jN={version:bN,categories:vN,constructs:wN,branch_colors:SN,node_colors:NN,reporter_colors:EN},Wn=jN;function CN(){return Wn}function zy(n){return gN(Wn,n)}function Ly(n){return xN(Wn,n)}function Vy(n){return yN(Wn,n)}function AN(){return pN(Wn)}function vi(n){return mN(Wn,n)}function _N(n,r){const i=vi(n);if(!i||!i.branches)return[];const o=new Set(r),c=[];if(i.dynamic_branches){const f=[],h=[];for(const m of i.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.find(b=>b.prefix===p)||h.push({prefix:p,minCount:m.required?1:0})}else f.push(m.name)}for(const m of f)c.push({name:m,connected:o.has(m)});for(const m of h){const g=r.filter(N=>N.startsWith(m.prefix)&&/^\d+$/.test(N.slice(m.prefix.length))),p=g.length>0?Math.max(...g.map(N=>parseInt(N.slice(m.prefix.length)))):0,y=Math.max(m.minCount,p),b=y>0?y:1;for(let N=1;N<=b;N++){const E=`${m.prefix}${N}`;c.push({name:E,connected:o.has(E)})}}return c}for(const f of i.branches)c.push({name:f.name,connected:o.has(f.name)});return c}function ON(){return Wn.categories}function By(n){for(const r of Wn.categories)if(n.startsWith(r.prefix))return r.icon;return""}function TN(n){for(const r of Wn.categories)if(n.startsWith(r.prefix))return r;return null}function MN(n){const r=n.workflows||[];if(r.length===0)return n.nodes?{type:"project",workflows:[Ag(n)]}:{error:"No workflows found"};const i=[];let o={inputs:[],outputs:[]};for(const c of r){const f=Ag(c);i.push(f),(f.name==="main"||o.inputs.length===0)&&(o=f.interface)}return{type:"project",workflows:i,interface:o}}function Ag(n){const r=n.nodes||{},i=n.interface||{},o={type:"workflow",name:n.name||"main",interface:{inputs:i.inputs||[],outputs:i.outputs||[]},variables:n.variables||{},children:[],orphans:[]},c=new Set;let h=(r.start||{}).next;for(;h&&!c.has(h);){c.add(h);const E=r[h];if(!E)break;const w=df(h,E,r,c);o.children.push(w),h=E.next}const m=new Set(Object.keys(r).filter(E=>E!=="start")),g=new Set([...m].filter(E=>!c.has(E)));for(const E of g){const w=r[E]||{};zf(w.inputs||{},r,c)}const p=new Set([...m].filter(E=>!c.has(E))),y=new Set;for(const E of p){const v=(r[E]||{}).next;v&&p.has(v)&&y.add(v)}const b=[...p].filter(E=>!y.has(E)).sort(),N=new Set;for(const E of b){let w=E;for(;w&&!N.has(w);){const v=r[w];if(!v)break;if(v.isReporter){N.add(w),w=v.next&&p.has(v.next)?v.next:void 0;continue}N.add(w);const j=df(w,v,r,c),_=v.next;_&&p.has(_)&&(j.next=_),o.orphans.push(j),w=_&&p.has(_)?_:void 0}}return o}function df(n,r,i,o){const c=r.opcode||"",f=r.inputs||{},h=r.isReporter||!1;zf(f,i,o);const m={id:n,type:zN(c),opcode:c,isReporter:h,inputs:LN(f,i,c),children:[]},g=vi(c);return g&&g.branches.length>0&&(m.config=DN(c,f,i,g),m.children=kN(f,i,o,g)),m}function DN(n,r,i,o){const c={};for(const f of o.inputs){const h=Rf(r,f.name);if(h!==void 0){const m=f.name.toLowerCase();f.type==="variable_name"?c[m]=Xu(h):f.type==="expression"&&(m==="condition"||m==="iterable"||m==="resource"?c[m]=Lf(h,i):c[m]=Xu(h))}}return["control_for","control_foreach","control_spawn","control_async_foreach","control_with"].includes(n)&&(c.var||(c.var=Xu(r.VAR??r.var??"i"))),c}function kN(n,r,i,o){const c=[];if(o.dynamic_branches)return RN(n,r,i,o);for(const f of o.branches){const h=Rf(n,f.name),m=typeof h=="object"&&h!==null?h.branch:void 0;m?c.push(Jo(f.name,m,r,i)):h!==void 0&&c.push({type:"branch",name:f.name,children:[]})}return c}function RN(n,r,i,o){const c=[],f=[],h=[];for(const m of o.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.includes(p)||h.push(p)}else f.push(m.name)}for(const m of f){const g=Rf(n,m),p=typeof g=="object"&&g!==null?g.branch:void 0;p?c.push(Jo(m,p,r,i)):g!==void 0&&c.push({type:"branch",name:m,children:[]})}for(const m of h){const g=m==="CATCH"?"HANDLERS":m==="BRANCH"?"BRANCHES":null,p=g?n[g]??n[g.toLowerCase()]:null;if(Array.isArray(p)&&p.length>0)p.forEach((y,b)=>{if(typeof y=="object"&&y!==null){const N=y,E=N.branch??N.body?.branch,w=`${m}${b+1}`;if(E){const v=Jo(w,E,r,i);m==="CATCH"&&(v.exception_type=N.exception_type||"Exception",v.var_name=N.var_name??N.var),c.push(v)}else{const v={type:"branch",name:w,children:[]};m==="CATCH"&&(v.exception_type=N.exception_type||"Exception",v.var_name=N.var_name??N.var),c.push(v)}}});else{let y=1;for(;;){const b=`${m}${y}`,N=n[b];if(N===void 0)break;if(typeof N=="object"&&N!==null){const E=N,w=E.branch??E.body?.branch??N.branch;if(w){const v=Jo(b,w,r,i);m==="CATCH"&&(v.exception_type=E.exception_type||"Exception",v.var_name=E.var_name??E.var),c.push(v)}else{const v={type:"branch",name:b,children:[]};m==="CATCH"&&(v.exception_type=E.exception_type||"Exception",v.var_name=E.var_name??E.var),c.push(v)}}y++}}}return c}function Rf(n,r){return n[r]??n[r.toLowerCase()]}function zf(n,r,i){for(const o of Object.values(n))if(typeof o=="object"&&o!==null){const c=o;if(c.node){const f=c.node;if(!i.has(f)){i.add(f);const m=(r[f]||{}).inputs||{};zf(m,r,i)}}}}function zN(n){const r=CN();for(const i of r.categories)if(n.startsWith(i.prefix))switch(i.id){case"control":case"async":return"control_flow";case"data":return"data";case"io":return"io";case"operator":case"math":case"string":case"list":case"dict":return"operator";case"workflow":return"workflow_op";default:return"opcode"}return"opcode"}function LN(n,r,i){const o={},c=vi(i),f=new Set;if(c)for(const m of c.branches)f.add(m.name),f.add(m.name.toLowerCase());const h=new Set(["BODY","body","THEN","then","ELSE","else","TRY","FINALLY","HANDLERS","handlers","BRANCHES","branches"]);for(const[m,g]of Object.entries(n))f.has(m)||h.has(m)||/^(CATCH|BRANCH)\d+$/.test(m)||(o[m]=Lf(g,r));return o}function Lf(n,r,i=0){if(typeof n=="object"&&n!==null){const o=n;if("literal"in o)return{type:"literal",value:o.literal};if("variable"in o)return{type:"variable",name:o.variable};if("node"in o){const c=o.node,f=r[c]||{},h=f.opcode||"",m=f.inputs||{};return{type:"reporter",id:c,opcode:h,inputs:Object.fromEntries(Object.entries(m).filter(([g])=>!g.startsWith("CATCH")&&!["BODY","THEN","ELSE"].includes(g)).map(([g,p])=>[g,Lf(p,r,i+1)]))}}return"branch"in o?{type:"branch",target:o.branch}:"workflow_call"in o?{type:"workflow_call",name:o.workflow_call}:{type:"dict",value:n}}return{type:"literal",value:n}}function Xu(n){return typeof n=="object"&&n!==null&&"literal"in n?n.literal:n}function Jo(n,r,i,o){const c={type:"branch",name:n,children:[]};let f=r;for(;f&&!o.has(f);){o.add(f);const h=i[f];if(!h)break;c.children.push(df(f,h,i,o)),f=h.next}return c}async function ti(n,r){const i=await fetch(n,{headers:{"Content-Type":"application/json"},...r});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return i.json()}function VN(n){const{apiBaseUrl:r}=n;return{name:"lexflow",config:n,async listOpcodes(){return ti(`${r}/opcodes`)},async executeWorkflow(i,o,c){return ti(`${r}/execute`,{method:"POST",body:JSON.stringify({workflow:i,inputs:o,include_metrics:c})})},getWebSocketUrl(){if(n.supportsWebSocket===!1)return null;if(n.wsUrl)return`${n.wsUrl}/execute`;const i=new URL(r,window.location.href);return`${i.protocol==="https:"?"wss:":"ws:"}//${i.host}/ws/execute`},async parseWorkflow(i){const o=hN(i);if(!o.success||!o.data)return{success:!1,error:o.error||"Parse failed"};const c=MN(o.data);if("error"in c)return{success:!1,error:c.error};const f=c;return{success:!0,tree:f,interface:f.interface}},async validateWorkflow(i){return ti(`${r}/validate`,{method:"POST",body:JSON.stringify({workflow:i})})},async listExamples(){return n.supportsExamples===!1?[]:ti(`${r}/examples`)},async getExample(i){return ti(`${r}/examples/${i}`)}}}function BN({className:n}){const{examples:r,setSource:i}=at(),o=gs(),c=async h=>{const m=h.target.value;if(m){try{if(Gx(o)){const g=await o.getExample(m);i(g.content)}}catch(g){console.error("Failed to load example:",g)}h.target.value=""}},f=r.reduce((h,m)=>(h[m.category]||(h[m.category]=[]),h[m.category].push(m),h),{});return d.jsxs(Rx,{className:n,onChange:c,defaultValue:"",children:[d.jsx("option",{value:"",children:"Load Example..."}),Object.entries(f).map(([h,m])=>d.jsx("optgroup",{label:h,children:m.map(g=>d.jsx("option",{value:g.path,children:g.name},g.path))},h))]})}const HN=M("flex items-center h-12 pl-5 pr-4 bg-surface-1 border-b border-border-subtle shrink-0"),UN=M("text-base font-semibold text-text-primary tracking-tight ml-2"),Gu=M("w-px h-6 mx-2 bg-border-subtle"),_g=M("flex items-center gap-1.5"),YN="1.0";function IN(n){try{const r=fs.load(n);if(!r?.metadata?.editor)return null;const i=r.metadata.editor;return typeof i.version!="string"||!i.layout||!i.viewport?null:i}catch{return null}}function qN(n,r){try{const i=fs.load(n);return i?(i.metadata={...i.metadata,editor:r},fs.dump(i,{indent:2,lineWidth:-1,noRefs:!0,sortKeys:(o,c)=>o==="metadata"?1:c==="metadata"?-1:0})):n}catch{return n}}function XN(n,r,i,o,c,f){return{version:YN,layout:{mode:n,nodePositions:{...r},workflowPositions:{...i}},viewport:{zoom:o,panX:c,panY:f}}}const Og=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`;function GN({className:n}){const{source:r,setSource:i,undo:o,redo:c,canUndo:f,canRedo:h}=at(),{togglePalette:m,toggleEditor:g,isEditorOpen:p}=_e(),y=z.useRef(null),b=()=>{r!==Og&&_e.getState().showConfirmDialog({title:"New Workflow",message:"Create a new workflow? Unsaved changes will be lost.",confirmLabel:"Create",variant:"default",onConfirm:()=>i(Og)})},N=async()=>{const{nodePositions:v,workflowPositions:j,layoutMode:_,zoom:O,panX:G,panY:I}=_e.getState(),R=XN(_,v,j,O,G,I),W=qN(r,R),U=new Blob([W],{type:"text/yaml"});if("showSaveFilePicker"in window)try{const ce=await(await window.showSaveFilePicker({suggestedName:"workflow.yaml",types:[{description:"YAML files",accept:{"text/yaml":[".yaml",".yml"]}}]})).createWritable();await ce.write(U),await ce.close();return}catch(ie){if(ie.name==="AbortError")return}const Y=URL.createObjectURL(U),ee=document.createElement("a");ee.href=Y,ee.download="workflow.yaml",ee.click(),URL.revokeObjectURL(Y)},E=()=>{y.current?.click()},w=v=>{const j=v.target.files?.[0];if(!j)return;const _=new FileReader;_.onload=O=>{const G=O.target?.result,I=IN(G);if(i(G),I){const R=_e.getState();R.resetNodePositions(),R.resetWorkflowPositions(),R.setLayoutMode(I.layout.mode);for(const[W,U]of Object.entries(I.layout.nodePositions))R.setNodePosition(W,U.x,U.y);for(const[W,U]of Object.entries(I.layout.workflowPositions))R.setWorkflowPosition(W,U.x,U.y);R.setZoom(I.viewport.zoom),R.setPan(I.viewport.panX,I.viewport.panY)}},_.readAsText(j),v.target.value=""};return d.jsxs("header",{className:L(HN(),n),children:[d.jsxs("div",{className:L(_g(),"flex-1"),children:[d.jsx("h1",{className:UN(),style:{marginLeft:"8px"},children:"LexFlow"}),d.jsx("div",{className:Gu()}),d.jsx(qn,{icon:d.jsx(Aw,{}),label:"New Workflow",onClick:b}),d.jsx(qn,{icon:d.jsx(_w,{}),label:"Import Workflow",onClick:E}),d.jsx(qn,{icon:d.jsx(Ow,{}),label:"Export Workflow",onClick:N}),d.jsx("div",{className:Gu()}),d.jsx(qn,{icon:d.jsx(Tw,{}),label:"Undo (Ctrl+Z)",onClick:o,disabled:!f}),d.jsx(qn,{icon:d.jsx(Mw,{}),label:"Redo (Ctrl+Y)",onClick:c,disabled:!h}),d.jsx("div",{className:Gu()}),d.jsx(qn,{icon:d.jsx(Dw,{}),label:"Node Palette (Ctrl+P)",onClick:m}),d.jsx("input",{ref:y,type:"file",accept:".yaml,.yml,.json",onChange:w,className:"hidden"})]}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx(BN,{})}),d.jsxs("div",{className:L(_g(),"flex-1 justify-end"),children:[d.jsx($w,{}),d.jsx(qn,{icon:d.jsx(kw,{}),label:"Toggle Editor (Ctrl+B)",onClick:g,className:p?"bg-surface-3":""})]})]})}const $N=M("absolute bg-transparent transition-colors hover:bg-accent-blue/50 z-10",{variants:{orientation:{horizontal:"cursor-col-resize w-1 -right-0.5 top-0 bottom-0",vertical:"cursor-row-resize h-1 -top-0.5 left-0 right-0"},isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{orientation:"horizontal",isResizing:!1}});function WN({orientation:n,isResizing:r=!1,onMouseDown:i,className:o}){return d.jsx("div",{className:L($N({orientation:n,isResizing:r}),o),onMouseDown:i})}function ZN({orientation:n,minSize:r,maxSize:i,defaultSize:o}){const[c,f]=z.useState(o),[h,m]=z.useState(!1),g=z.useRef(null),p=z.useCallback(y=>{y.preventDefault(),g.current=y.target.parentElement,m(!0)},[]);return z.useEffect(()=>{if(!h)return;const y=N=>{if(!g.current)return;const E=g.current.getBoundingClientRect();let w;w=N.clientX-E.left,f(Math.min(i,Math.max(r,w)))},b=()=>{m(!1)};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)}},[h,n,r,i]),{size:c,isResizing:h,handleMouseDown:p}}const QN=M("flex flex-col h-full overflow-hidden"),KN=M("flex flex-1 overflow-hidden relative"),FN=M("relative bg-surface-1 border-r border-border-subtle flex flex-col shrink-0"),JN=M("flex-1 flex flex-col relative overflow-hidden bg-surface-0"),PN=M("bg-surface-1 border-t border-border-subtle shrink-0 overflow-visible"),eE=M("absolute right-0 top-0 bottom-0 w-80 bg-surface-1 border-l border-border-subtle z-[100] shadow-lg transition-transform duration-200",{variants:{isOpen:{true:"translate-x-0",false:"translate-x-full"}},defaultVariants:{isOpen:!1}}),tE=M("fixed inset-0 bg-black/50 z-[200] flex justify-start"),nE=M("w-[300px] h-full bg-surface-1 border-r border-border-subtle animate-slide-in"),lE=240,aE=480,rE=320;function iE({canvas:n,editor:r,nodeEditor:i,executionPanel:o,palette:c,className:f}){const{isEditorOpen:h,isNodeEditorOpen:m,isPaletteOpen:g,isExecutionPanelOpen:p,togglePalette:y}=_e(),{size:b,isResizing:N,handleMouseDown:E}=ZN({orientation:"horizontal",minSize:lE,maxSize:aE,defaultSize:rE});return d.jsxs("div",{className:L(QN(),f),children:[d.jsx(GN,{}),d.jsxs("div",{className:KN(),children:[h&&r&&d.jsxs("aside",{className:FN(),style:{width:`${b}px`},children:[r,d.jsx(WN,{orientation:"horizontal",isResizing:N,onMouseDown:E})]}),d.jsxs("div",{className:JN(),children:[n,p&&o&&d.jsx("div",{className:PN(),children:o})]}),d.jsx("aside",{className:eE({isOpen:m}),children:i})]}),g&&c&&d.jsx("div",{className:tE(),onClick:y,children:d.jsx("div",{className:nE(),onClick:w=>w.stopPropagation(),children:c})})]})}const Tg=new Set(["int","float","number","Integer","Float","Number"]),Mg=new Set(["str","string","String"]),Dg=new Set(["bool","boolean","Boolean"]);function hf(n,r){if(!n||!r)return null;const i=n.toLowerCase().trim(),o=r.toLowerCase().trim();if(i==="any"||o==="any"||i===o||Tg.has(i)&&Tg.has(o)||Mg.has(i)&&Mg.has(o)||Dg.has(i)&&Dg.has(o))return!0;const c=o.match(/^optional\[(.+)\]$/);return c?hf(n,c[1]):o.includes("|")?o.split("|").map(h=>h.trim()).some(h=>hf(n,h)===!0):!1}function oE(n){return n===!0?"#34D399":n===!1?"#F87171":"#94A3B8"}function sE(n,r){if(!n)return{};const i=n.workflows.find(c=>c.name===r);if(!i)return{};const o={};return i.interface.inputs.forEach((c,f)=>{o[`ARG${f+1}`]=c}),o}function ds(n,r,i,o){if(r!=="workflow_call")return n;const c=o.WORKFLOW;if(!c||c.type!=="literal")return n;const f=c.value;if(!f)return n;const h=sE(i,f);return n.startsWith("ARG")&&h[n]?h[n]:n}function cE(n){return n?n.workflows.filter(r=>r.name!=="main").map(r=>({name:r.name,params:r.interface.inputs})):[]}const uE=25,fE=180;function El(n){if(n.startsWith("start-"))return"start";const r=n.indexOf("::");return r!==-1?n.slice(r+2):n}function hs(n){if(n.startsWith("start-"))return n.slice(6);const r=n.indexOf("::");if(r!==-1)return n.slice(0,r)}function dE(n,r,i,o){return Math.sqrt((i-n)**2+(o-r)**2)}function hE(n,r,i){const o=i[n];return o?r==="input"?o.input:r==="output"?o.output:o.branches[r]||null:null}function mE(n,r,i,o,c){const f=o==="output"?"input":"output";let h=null,m=uE;for(const[g,p]of Object.entries(c)){if(g===i)continue;const y=f==="input"?p.input:p.output,b=dE(n,r,y.x,y.y);b<m&&(m=b,h={nodeId:g,port:f,x:y.x,y:y.y})}return h}const pE={pointerEvents:"all"};function gE(n,r,i){return n?r===!0?{fill:"rgba(52, 211, 153, 0.15)",stroke:"var(--color-accent-green)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease",animation:"pulse-slot 0.6s ease infinite alternate"}:r===!1?{fill:"rgba(248, 113, 113, 0.15)",stroke:"var(--color-accent-red)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"rgba(148, 163, 184, 0.1)",stroke:i,strokeWidth:1,strokeDasharray:"4 2",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"transparent",stroke:"transparent",strokeWidth:1,transition:"fill 0.15s ease, stroke 0.15s ease"}}const xE={fontSize:"9px",fontWeight:500,fill:"var(--color-text-muted)",textTransform:"lowercase"},yE={fontSize:"9px",fontFamily:"'JetBrains Mono', monospace",fill:"var(--color-text-secondary)"},bE={fontSize:"7px",fill:"var(--color-text-muted)",fontStyle:"italic",textTransform:"uppercase",letterSpacing:"0.3px"};function Hy({nodeId:n,inputKey:r,value:i,paramInfo:o,opcode:c,allInputs:f,x:h,y:m,width:g}){const{draggingOrphan:p,setDraggingOrphan:y,draggingVariable:b,setDraggingVariable:N}=_e(),{convertOrphanToReporter:E,updateNodeInput:w,tree:v}=at(),j=vE(i),_=ds(r,c,v,f),O=p!==null,G=b!==null,I=O||G,R=O?hf(p.returnType,o?.type):null,W=ie=>{if(ie.stopPropagation(),p){const ce=El(p.nodeId);if(R===!1){_e.getState().showConfirmDialog({title:"Type Mismatch",message:`The orphan node's return type may not be compatible with the input "${r}". Continue anyway?`,confirmLabel:"Continue",variant:"default",onConfirm:()=>{E(ce,n,r),y(null)},onCancel:()=>{y(null)}});return}E(ce,n,r),y(null)}else b&&(w(n,r,`$${b.name}`),N(null))},U=ie=>{ie.stopPropagation()},Y=G?"#22C55E":oE(R);return d.jsxs("g",{style:pE,transform:`translate(${h}, ${m})`,onMouseUp:W,onMouseEnter:U,children:[d.jsx("rect",{x:0,y:0,width:g,height:20,rx:3,style:gE(I,R,Y)}),d.jsxs("text",{x:6,y:13,style:xE,children:[_,":"]}),d.jsx("text",{x:6+(_.length+1)*5,y:13,style:yE,children:j}),I&&o?.type&&d.jsx("text",{x:g-6,y:13,textAnchor:"end",style:bE,children:o.type})]})}function vE(n){switch(n.type){case"literal":{const r=n.value;if(typeof r=="string")return`"${r.length>10?r.slice(0,10)+"...":r}"`;if(typeof r=="object"&&r!==null){const i=JSON.stringify(r);return i.length>20?i.slice(0,17)+"...":i}return String(r)}case"variable":return`$${n.name}`;case"reporter":return"[reporter]";case"workflow_call":return`-> ${n.name}`;default:return""}}function wE(){const{closeNodeEditor:n,isNodeEditorOpen:r,isPaletteOpen:i,togglePalette:o,toggleEditor:c,toggleExecutionPanel:f}=_e(),{undo:h,redo:m,canUndo:g,canRedo:p,deleteNode:y,duplicateNode:b}=at(),{selectNode:N,selectedNodeId:E,clearSelection:w}=$n();z.useEffect(()=>{const v=j=>{const _=j.target,O=_.tagName==="INPUT"||_.tagName==="TEXTAREA";if(O&&j.key==="Escape"){_.blur();return}if(j.ctrlKey||j.metaKey){switch(j.key.toLowerCase()){case"z":!O&&!kg(_)&&(j.preventDefault(),j.shiftKey?p&&m():g&&h());break;case"y":!O&&!kg(_)&&(j.preventDefault(),p&&m());break;case"b":O||(j.preventDefault(),c());break;case"e":O||(j.preventDefault(),f());break;case"p":O||(j.preventDefault(),o());break;case"0":O||(j.preventDefault(),_e.getState().resetView());break;case"d":!O&&E&&E!=="start"&&(j.preventDefault(),b(E));break}return}if(!O){if(j.key==="Escape"){r?(n(),w()):i?o():E&&w();return}(j.key==="Delete"||j.key==="Backspace")&&E&&E!=="start"&&_e.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${E}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{y(E),w(),n()}})}};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[n,r,i,o,c,f,N,E,w,h,m,g,p,y,b])}function kg(n){return n.closest(".monaco-editor")!==null}function SE(){const n=z.useRef(null),r=gs(),{setIsExecuting:i,appendExecutionOutput:o,setExecutionResult:c,setExecutionError:f,clearExecution:h,setPendingPrompt:m,addRenderedContent:g,clearRenderedContent:p,addAlert:y,setProgress:b}=si(),N=z.useCallback(v=>{const j=n.current,{pendingPrompt:_}=si.getState();!j||!_||(j.send(JSON.stringify({type:`${_.type}_response`,value:v})),m(null))},[m]),E=z.useCallback(async(v,j,_)=>{n.current&&n.current.close(),h(),i(!0);const O=r.getWebSocketUrl();if(!O){try{const I=await r.executeWorkflow(v,j,_);I.success?(I.output&&o(I.output),c(I.result)):f(I.error||"Execution failed")}catch(I){f(I instanceof Error?I.message:"Execution failed")}finally{i(!1)}return}const G=new WebSocket(O);n.current=G,G.onopen=()=>{const I={type:"start",workflow:v,inputs:j,include_metrics:_};G.send(JSON.stringify(I))},G.onmessage=I=>{try{const R=JSON.parse(I.data);switch(R.type){case"output":o(R.line+`
`);break;case"complete":c(R.result),i(!1),G.close();break;case"error":f(R.message),i(!1),G.close();break;case"input_request":m({type:"input",prompt:R.prompt});break;case"select_request":m({type:"select",prompt:R.prompt,options:R.options});break;case"confirm_request":m({type:"confirm",prompt:R.message,message:R.message});break;case"button_request":m({type:"button",prompt:R.label,label:R.label});break;case"render_html":g({type:"html",content:R.html});break;case"render_markdown":g({type:"markdown",content:R.content});break;case"render_table":g({type:"table",content:R.data});break;case"render_image":g({type:"image",content:{src:R.src,alt:R.alt}});break;case"progress":b({value:R.value,max:R.max,label:R.label});break;case"alert":y({message:R.message,variant:R.variant});break;case"clear_content":p();break}}catch(R){console.error("Failed to parse WebSocket message:",R)}},G.onerror=()=>{f("WebSocket connection failed"),i(!1)},G.onclose=()=>{n.current=null}},[r,h,i,o,c,f,m,g,p,y,b]),w=z.useCallback(()=>{n.current&&(n.current.close(),n.current=null,i(!1),m(null))},[i,m]);return{execute:E,cancel:w,respondToPrompt:N}}function NE(){const{source:n,setTree:r,setParseError:i,setIsParsing:o}=at(),c=gs(),f=z.useRef(null);z.useEffect(()=>(f.current&&clearTimeout(f.current),f.current=setTimeout(async()=>{o(!0);try{const h=await c.parseWorkflow(n);h.success&&h.tree?r(h.tree):i(h.error||"Parse failed")}catch(h){i(h instanceof Error?h.message:"Parse failed")}finally{o(!1)}},500),()=>{f.current&&clearTimeout(f.current)}),[n,r,i,o,c])}const Uy={WIDTH:110,HEIGHT:70},Vf={HORIZONTAL:60,VERTICAL:40,WORKFLOW:80},EE={control_flow:"Control Flow",data:"Data",io:"I/O",operator:"Operator",workflow_op:"Workflow",opcode:"Opcode"};function jE({svgRef:n,centerX:r,centerY:i}){const{zoom:o,panX:c,panY:f,setZoom:h,setPan:m,isDraggingWorkflow:g,isDraggingNode:p,draggingWire:y,setDraggingWire:b,updateDraggingWire:N,draggingOrphan:E,setDraggingOrphan:w,updateDraggingOrphanEnd:v,draggingVariable:j,setDraggingVariable:_,updateDraggingVariableEnd:O,slotPositions:G}=_e(),{connectNodes:I,connectBranch:R}=at(),{selectNode:W,selectStartNode:U,selectConnection:Y}=$n(),[ee,ie]=z.useState(!1),[ce,ue]=z.useState({x:0,y:0}),se=z.useCallback((H,le)=>{if(!n.current)return{x:0,y:0};const F=n.current.getBoundingClientRect();return{x:(H-F.left-c-F.width/2)/o+r,y:(le-F.top-f-F.height/2)/o+i}},[n,c,f,o,r,i]),Q=z.useCallback(H=>{if(H.ctrlKey||H.metaKey){H.preventDefault();const le=H.deltaY>0?-.1:.1;h(o+le)}},[o,h]),ne=z.useCallback(H=>{if(g||p)return;const le=H.target;(le===n.current||le.classList.contains("background")||le.tagName==="rect")&&(ie(!0),ue({x:H.clientX-c,y:H.clientY-f}),W(null),U(null),Y(null))},[c,f,W,U,Y,g,p,n]),A=z.useCallback(H=>{if(y){const{x:le,y:F}=se(H.clientX,H.clientY),C=mE(le,F,y.sourceNodeId,y.sourcePort,G);N({dragX:le,dragY:F,nearbyPort:C});return}if(E){const{x:le,y:F}=se(H.clientX,H.clientY);v(le,F);return}if(j){const{x:le,y:F}=se(H.clientX,H.clientY);O(le,F);return}g||p||ee&&m(H.clientX-ce.x,H.clientY-ce.y)},[ee,ce,m,g,p,y,N,E,v,j,O,se,G]),k=z.useCallback(()=>{if(ie(!1),y){if(y.nearbyPort){const H=El(y.sourceNodeId),le=El(y.nearbyPort.nodeId),F=hs(y.sourceNodeId),C=hs(y.nearbyPort.nodeId);y.branchLabel?R(H,le,y.branchLabel):y.sourcePort==="output"?I(H,le,F):I(le,H,C)}b(null)}E&&w(null),j&&_(null)},[y,b,E,w,j,_,I,R]);return{handleWheel:Q,handleMouseDown:ne,handleMouseMove:A,handleMouseUp:k,isDragging:ee}}function CE({nodeId:n,slotId:r,x:i,y:o}){const{draggingWire:c,setDraggingWire:f}=_e(),{connectNodes:h}=at(),m=z.useCallback(j=>{j.stopPropagation(),j.preventDefault();const _=i+fE,O=o+30;f({sourceNodeId:r,sourcePort:"output",sourceX:_,sourceY:O,dragX:_,dragY:O,nearbyPort:null})},[r,i,o,f]),g=z.useCallback((j,_,O,G)=>{j.stopPropagation(),j.preventDefault();const I=i+O,R=o+G;f({sourceNodeId:r,sourcePort:"output",sourceX:I,sourceY:R,dragX:I,dragY:R,nearbyPort:null,branchLabel:_})},[r,i,o,f]),p=z.useCallback(j=>{j.stopPropagation(),j.preventDefault();const _=i,O=o+30;f({sourceNodeId:r,sourcePort:"input",sourceX:_,sourceY:O,dragX:_,dragY:O,nearbyPort:null})},[r,i,o,f]),y=z.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="input"&&c.sourceNodeId!==n&&(h(n,c.sourceNodeId),f(null))},[n,c,h,f]),b=z.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="output"&&c.sourceNodeId!==n&&(h(c.sourceNodeId,n),f(null))},[n,c,h,f]),N=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="input",E=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="output",w=!!c&&c.sourcePort==="output"&&c.sourceNodeId!==r,v=!!c&&c.sourcePort==="input"&&c.sourceNodeId!==r;return{handleOutputPortMouseDown:m,handleInputPortMouseDown:p,handleOutputPortMouseUp:y,handleInputPortMouseUp:b,handleBranchPortMouseDown:g,isInputPortHighlighted:N,isOutputPortHighlighted:E,isValidDropTarget:w,isValidOutputDropTarget:v}}const cn=110,Ut=70,Rg=30,zg={control_flow:"",data:"",io:"",operator:"",workflow_op:"",opcode:""};function AE(n,r,i,o,c,f,h,m=!1){let g="transparent",p=1.5,y="none",b=1;o&&(g="var(--color-accent-amber)",y="6 3",b=.9),c&&!r&&!m&&(g=n,p=1.5,b=1),i&&!r&&!m&&(g="#facc15",p=2,y="none"),m&&(g="#22d3ee",p=2.5,y="none",b=1),r&&(g="var(--color-accent-blue)",p=2,y="none",b=1),f==="success"?g="var(--color-accent-green)":f==="error"&&(g="var(--color-accent-red)");let N="drop-shadow(0 1px 3px rgba(0, 0, 0, 0.2))";return c&&!r&&!m&&(N="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.25))"),m&&!r&&(N="drop-shadow(0 0 10px rgba(34, 211, 238, 0.5))"),r&&(N="drop-shadow(0 0 8px rgba(59, 130, 246, 0.3))"),{fill:"var(--color-surface-1)",stroke:g,strokeWidth:p,strokeDasharray:y,opacity:b,filter:N,transition:"all 0.15s ease",animation:f==="running"?"pulse 1.5s ease-in-out infinite":"none"}}function _E(n){return{fill:n,pointerEvents:"none"}}function OE(n,r){return{fill:r?n:`${n}20`,transition:"fill 0.15s ease"}}const TE={fontSize:"14px",fill:"var(--color-text-primary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"},ME={fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",letterSpacing:"-0.01em"},DE={fontSize:"9px",fill:"var(--color-text-muted)",fontFamily:"'JetBrains Mono', monospace"};function Lg(n,r,i){return{fill:r?"var(--color-accent-green)":"var(--color-surface-2)",stroke:r?"var(--color-accent-green)":n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1.5,r:r?6:5,transition:"all 0.12s ease",filter:r?"drop-shadow(0 0 6px var(--color-accent-green))":"none",cursor:i?"pointer":"crosshair"}}function Yy(n,r){return{fill:r?"var(--color-accent-blue)":"var(--color-surface-3)",stroke:"var(--color-border-subtle)",strokeWidth:1,cursor:n?"pointer":"default",transition:"fill 0.15s ease",opacity:n?1:0,pointerEvents:n?"all":"none"}}const Iy={fontSize:"8px",fontWeight:600,fill:"var(--color-text-secondary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function kE(n){const r={running:"var(--color-accent-amber)",success:"var(--color-accent-green)",error:"var(--color-accent-red)"};return{fill:r[n]||"transparent",filter:n!=="idle"?`drop-shadow(0 0 4px ${r[n]})`:"none",transition:"all 0.15s ease"}}const RE={cursor:"grab",pointerEvents:"all"},zE={fill:"var(--color-accent-amber)",transition:"filter 0.15s ease"},LE={fontSize:"9px",fill:"var(--color-surface-0)",fontWeight:600,pointerEvents:"none",textAnchor:"middle",dominantBaseline:"central"},VE={cursor:"grab",pointerEvents:"all",fill:"transparent"};function BE(n,r){return{fill:n?r:"transparent",stroke:r,strokeWidth:1.5,cursor:"crosshair",transition:"all 0.12s ease"}}const HE={fontSize:"8px",fontWeight:500,textAnchor:"middle",pointerEvents:"none",userSelect:"none",textTransform:"uppercase",letterSpacing:"0.3px"};function UE(n,r){const i=r.filter(f=>f.children.length>0).map(f=>f.name),o=r.map(f=>f.name),c=_N(n,i);for(const f of o)c.find(h=>h.name===f)||c.push({name:f,connected:i.includes(f)});return c}function YE(n,r){const i=By(n);return i&&i!==""?i:zg[r]||zg.opcode}function qy(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function Bf(n){let r=0;for(const i of Object.values(n))i.type==="reporter"&&i.opcode&&(r+=1,i.inputs&&(r+=Bf(i.inputs)));return r}const vn=12,hi=8,nr=16,Xy=28;function lr(n,r,i){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const o=i[n.id||""]??!1;if(!o&&!r)return{width:cn,height:Ut};const c=[];let f=0;if(n.inputs)for(const[g,p]of Object.entries(n.inputs))p.type==="reporter"&&p.opcode?c.push({key:g,value:p}):f++;let h=cn,m=Ut;if(o||r){if(c.length>0){let g=0,p=0;for(const y of c){const b=lr(y.value,r,i);g+=nr+b.height+hi,p=Math.max(p,b.width)}h=Math.max(h,p+vn*2),m=Ut+g}f>0&&(m+=f*Xy+hi),(c.length>0||f>0)&&(m+=vn)}return{width:h,height:m}}function IE(n,r,i){let o=0;for(const{value:c}of n){const f=lr(c,r,i);o+=nr+f.height+hi}return o}function qE(n,r,i){let o=cn;for(const{value:c}of n){const f=lr(c,r,i);o=Math.max(o,f.width)}return o}const XE=z.memo(function({node:r,x:i,y:o,isOrphan:c,zoom:f=1,onDrag:h,workflowName:m}){const{opcodes:g}=at(),{openNodeEditor:p,nodeStatus:y,searchResults:b,draggingWire:N,draggingOrphan:E,setDraggingOrphan:w,draggingVariable:v,layoutMode:j,setIsDraggingNode:_,registerSlotPositions:O,unregisterSlotPositions:G,showContextMenu:I,expandedReporters:R}=_e(),{selectedNodeId:W,selectNode:U,selectedNodeIds:Y,toggleNodeSelection:ee,clearMultiSelection:ie,selectedReporter:ce,selectReporter:ue}=$n(),[se,Q]=z.useState(!1),ne=`${m}::${r.id}`,A=R[ne]??!1,k=g.find(Ee=>Ee.name===r.opcode),H=Ly(r.type),le=YE(r.opcode,r.type),F=W===ne&&!ce,C=Y.includes(ne),V=b.includes(r.id),J=y[r.id]||"idle",ae=qy(r.opcode),xe=z.useRef(!1),me=[],ge=[];for(const[Ee,Ue]of Object.entries(r.inputs))Ue.type==="reporter"&&Ue.opcode?me.push({key:Ee,value:Ue}):ge.push({key:Ee,value:Ue});const He=Bf(r.inputs),re=!!(v||E&&E.nodeId!==ne),we=ge.map(Ee=>Ee.key).slice(0,4),qe=UE(r.opcode,r.children),Ve=qe.length>0?20:0,rt=re?we.length*Rg:0,_t=A||re,un=_t&&me.length>0?IE(me,re,R):0,Nn=_t&&me.length>0?qE(me,re,R)+vn*2:0,Ae=Math.max(cn,Nn),yt=Ut+rt+un+Ve,oe=ne,{handleOutputPortMouseDown:Ne,handleInputPortMouseDown:Qe,handleOutputPortMouseUp:Ze,handleInputPortMouseUp:et,handleBranchPortMouseDown:tt,isInputPortHighlighted:Ol,isOutputPortHighlighted:Zn,isValidDropTarget:aa,isValidOutputDropTarget:Qn}=CE({nodeId:r.id,slotId:oe,x:i,y:o}),ir=Ee=>{if(Ee.stopPropagation(),xe.current){xe.current=!1;return}if(Ee.ctrlKey||Ee.metaKey){ee(ne),ue(null);return}ie(),U(ne),ue(null),p()},ra=Ee=>{Ee.preventDefault(),Ee.stopPropagation(),Y.includes(ne)||(ie(),U(ne)),I({nodeId:ne,x:Ee.clientX,y:Ee.clientY,hasReporters:He>0,reportersExpanded:A,isOrphan:c??!1})},bs=Ee=>{if(!c)return;Ee.stopPropagation(),Ee.preventDefault();const Ue=i+Ae-14,ct=o;w({nodeId:ne,opcode:r.opcode,returnType:k?.return_type,fromX:Ue,fromY:ct,toX:Ue,toY:ct})},vs=Ee=>{if(j!=="free"||!h)return;Ee.stopPropagation(),Ee.preventDefault(),_(!0);const Ue=Ee.clientX,ct=Ee.clientY;let Pe=!1;const Tl=ia=>{const Dl=(ia.clientX-Ue)/f,kl=(ia.clientY-ct)/f;(Math.abs(Dl)>3||Math.abs(kl)>3)&&(Pe=!0,h(Dl,kl))},Ml=()=>{_(!1),Pe&&(xe.current=!0),window.removeEventListener("mousemove",Tl),window.removeEventListener("mouseup",Ml)};window.addEventListener("mousemove",Tl),window.addEventListener("mouseup",Ml)};return z.useEffect(()=>{const Ee={input:{x:i,y:o+Ut/2},output:{x:i+Ae,y:o+Ut/2},branches:{}};return qe.forEach((Ue,ct)=>{const Pe=Ae/qe.length;Ee.branches[Ue.name]={x:i+Pe*ct+Pe/2,y:o+yt}}),O(oe,Ee),()=>G(oe)},[i,o,Ae,yt,qe.length,oe,O,G]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${i}, ${o})`,onClick:ir,onContextMenu:ra,onMouseEnter:()=>Q(!0),onMouseLeave:()=>Q(!1),children:[d.jsx("rect",{width:Ae,height:yt,rx:8,style:AE(H,F,V,c??!1,se,J,re,C)}),d.jsx("rect",{x:0,y:0,width:3,height:yt,rx:1.5,style:_E(H)}),d.jsx("circle",{cx:cn/2,cy:22,r:14,style:OE(H,se)}),d.jsx("text",{x:cn/2,y:22,style:TE,children:le}),d.jsx("text",{x:cn/2,y:46,textAnchor:"middle",style:ME,children:ae.length>10?ae.slice(0,10)+"":ae}),(se||F)&&d.jsx("text",{x:cn/2,y:60,textAnchor:"middle",style:DE,children:r.id.length>12?r.id.slice(0,12)+"":r.id}),re&&we.map((Ee,Ue)=>d.jsx(Hy,{nodeId:r.id,inputKey:Ee,value:r.inputs[Ee],paramInfo:k?.parameters.find(ct=>ct.name.toUpperCase()===Ee),opcode:r.opcode,allInputs:r.inputs,x:vn,y:Ut+Ue*Rg,width:Ae-vn*2},Ee)),_t&&me.length>0&&d.jsx(GE,{reporterInputs:me,parentNodeId:r.id,baseY:Ut+rt,selectedReporter:ce,selectReporter:ue,openNodeEditor:p,showInputSlots:re,opcodes:g,expandedReporters:R,showContextMenu:I}),He>0&&!_t&&d.jsxs("g",{transform:`translate(${Ae-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Yy(!0,!1)}),d.jsx("text",{x:7,y:7,style:Iy,children:He})]}),aa&&d.jsx("circle",{cx:0,cy:Ut/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:et}),Qn&&d.jsx("circle",{cx:Ae,cy:Ut/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Ze}),d.jsx("circle",{cx:0,cy:Ut/2,r:5,style:Lg(se,Ol,!!N),onMouseDown:Qe,onMouseUp:et}),d.jsx("circle",{cx:Ae,cy:Ut/2,r:5,style:Lg(se,Zn,!!N),onMouseDown:Ne,onMouseUp:Ze}),qe.length>0&&d.jsx("g",{children:qe.map((Ee,Ue)=>{const ct=Ae/qe.length,Pe=ct*Ue+ct/2,Tl=yt,Ml=zy(Ee.name);return d.jsxs("g",{children:[d.jsx("text",{x:Pe,y:yt-8,fill:Ml,style:HE,children:Ee.name}),d.jsx("circle",{cx:Pe,cy:Tl,r:4,style:BE(Ee.connected,Ml),onMouseDown:ia=>tt(ia,Ee.name,Pe,Tl)})]},Ee.name)})}),J!=="idle"&&d.jsx("circle",{cx:Ae-8,cy:12,r:4,style:kE(J)}),c&&d.jsxs("g",{style:RE,onMouseDown:bs,children:[d.jsx("rect",{x:Ae-28,y:-8,width:28,height:16,rx:3,style:zE}),d.jsx("text",{x:Ae-14,y:0,style:LE,children:""}),d.jsx("title",{children:"Drag to slot as reporter"})]}),j==="free"&&h&&d.jsx("rect",{x:4,y:0,width:c?Ae-32:Ae-8,height:Ut,style:VE,onMouseDown:vs})]})});function Gy({inputKey:n,value:r,parentNodeId:i,x:o,y:c,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:y,expandedReporters:b,showContextMenu:N}){const E=Vy(r.opcode||""),w=qy(r.opcode||""),v=By(r.opcode||"")||"",j=[...y,n],_=p.find(A=>A.name===r.opcode),O=r.id||"",G=b[O]??!1,I=f&&f.parentNodeId===i&&f.inputPath.join(".")===j.join("."),R=[],W=[];if(r.inputs)for(const[A,k]of Object.entries(r.inputs))k.type==="reporter"&&k.opcode?R.push({key:A,value:k}):W.push({key:A,value:k});const U=Bf(r.inputs||{}),Y=G||g,ee=lr(r,g,b),ie=ee.width,ce=ee.height,ue=[];let se=Ut;if(Y)for(const A of R){const k=lr(A.value,g,b);ue.push({key:A.key,value:A.value,y:se,height:k.height}),se+=nr+k.height+hi}const Q=se,ne=A=>{A.preventDefault(),A.stopPropagation(),h({parentNodeId:i,inputPath:j,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),N({nodeId:O,x:A.clientX,y:A.clientY,hasReporters:U>0,reportersExpanded:G,isOrphan:!1})};return d.jsxs("g",{transform:`translate(${o}, ${c})`,children:[d.jsx("rect",{x:0,y:0,width:ie,height:ce,rx:8,fill:"var(--color-surface-1)",stroke:I?"var(--color-accent-blue)":E,strokeWidth:I?2:1.5,style:{cursor:"pointer"},onClick:A=>{A.stopPropagation(),h({parentNodeId:i,inputPath:j,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),m()},onContextMenu:ne}),d.jsx("rect",{x:0,y:0,width:4,height:ce,rx:2,fill:E,style:{pointerEvents:"none"}}),d.jsx("circle",{cx:cn/2,cy:22,r:14,fill:`${E}30`,style:{pointerEvents:"none"}}),d.jsx("text",{x:cn/2,y:22,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"14px",fill:"var(--color-text-primary)",pointerEvents:"none"},children:v}),d.jsx("text",{x:cn/2,y:46,textAnchor:"middle",style:{fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",pointerEvents:"none"},children:w.length>10?w.slice(0,10)+"":w}),U>0&&!Y&&d.jsxs("g",{transform:`translate(${cn-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Yy(!0,!1)}),d.jsx("text",{x:7,y:7,style:Iy,children:U})]}),Y&&ue.map(A=>d.jsxs("g",{children:[d.jsx("text",{x:vn,y:A.y+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:A.key}),d.jsx(Gy,{inputKey:A.key,value:A.value,parentNodeId:i,x:vn,y:A.y+nr,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:j,expandedReporters:b,showContextMenu:N})]},A.key)),Y&&W.map((A,k)=>d.jsxs("g",{transform:`translate(${vn}, ${Q+k*Xy})`,children:[d.jsx("text",{x:0,y:10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:A.key}),d.jsx(Hy,{nodeId:r.id||i,inputKey:A.key,value:A.value,paramInfo:_?.parameters.find(H=>H.name.toUpperCase()===A.key),opcode:r.opcode||"",allInputs:r.inputs||{},x:0,y:12,width:ie-vn*2})]},A.key))]})}function GE({reporterInputs:n,parentNodeId:r,baseY:i,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,expandedReporters:g,showContextMenu:p}){const y=[];let b=0;for(const{key:N,value:E}of n){y.push({key:N,value:E,y:b});const w=lr(E,h,g);b+=nr+w.height+hi}return d.jsx("g",{transform:`translate(${vn}, ${i})`,children:y.map(({key:N,value:E,y:w})=>d.jsxs("g",{children:[d.jsx("text",{x:0,y:w+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:N}),d.jsx(Gy,{inputKey:N,value:E,parentNodeId:r,x:0,y:w+nr,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,inputPath:[],expandedReporters:g,showContextMenu:p})]},N))})}const Xn=160,$y=80,ii="#22c55e",Wy="#4ade80";function $E(n,r){return{fill:"var(--color-surface-1)",stroke:n?"var(--color-accent-blue)":ii,strokeWidth:n||r?2.5:2,transition:"stroke 0.15s ease, stroke-width 0.15s ease, filter 0.15s ease",filter:n?"drop-shadow(0 0 8px rgba(34, 211, 238, 0.4))":r?"drop-shadow(0 4px 8px rgba(34, 197, 94, 0.3))":"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))"}}const WE={fill:ii,pointerEvents:"none"},ZE={fontSize:"14px"},QE={fontSize:"13px",fontWeight:700,fill:"var(--color-text-primary)"},KE={fontSize:"9px",fill:"var(--color-text-secondary)",fontFamily:"'JetBrains Mono', monospace"},FE={fontSize:"10px",fontFamily:"'JetBrains Mono', monospace",fill:Wy},JE={fontSize:"9px",fill:"var(--color-text-muted)",fontStyle:"italic"};function PE(n,r=!1){return{fill:n?ii:"var(--color-surface-2)",stroke:n?Wy:ii,strokeWidth:2,transition:"all 0.15s ease",filter:n?`drop-shadow(0 0 4px ${ii})`:"none",cursor:r?"pointer":"crosshair",pointerEvents:"all"}}const ej={cursor:"grab",pointerEvents:"all"},tj=z.memo(function({workflowName:r,workflowInterface:i,variables:o,x:c,y:f,zoom:h=1,onDrag:m}){const{openNodeEditor:g,layoutMode:p,setIsDraggingNode:y,registerSlotPositions:b,unregisterSlotPositions:N,draggingWire:E,setDraggingWire:w}=_e(),{selectedStartNode:v,selectStartNode:j,selectNode:_}=$n(),{connectNodes:O}=at(),[G,I]=z.useState(!1),R=`start-${r}`,W=v===r,U=z.useRef(!1),Y=V=>{if(V.stopPropagation(),U.current){U.current=!1;return}_(null),j(r),g()},ee=V=>{if(p!=="free"||!m)return;V.stopPropagation(),V.preventDefault(),y(!0);const J=V.clientX,ae=V.clientY;let xe=!1;const me=He=>{const re=(He.clientX-J)/h,we=(He.clientY-ae)/h;(Math.abs(re)>3||Math.abs(we)>3)&&(xe=!0,m(re,we))},ge=()=>{y(!1),xe&&(U.current=!0),window.removeEventListener("mousemove",me),window.removeEventListener("mouseup",ge)};window.addEventListener("mousemove",me),window.addEventListener("mouseup",ge)},ie=z.useCallback(V=>{V.stopPropagation(),V.preventDefault();const J=c+Xn,ae=f+30;w({sourceNodeId:R,sourcePort:"output",sourceX:J,sourceY:ae,dragX:J,dragY:ae,nearbyPort:null})},[c,f,R,w]),ce=z.useCallback(V=>{V.stopPropagation(),V.preventDefault(),E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-")&&(O("start",E.sourceNodeId,r),w(null))},[E,r,O,w]),ue=E?.nearbyPort?.nodeId===R&&E?.nearbyPort?.port==="output",se=!!E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-"),Q=Object.entries(o).slice(0,3),ne=Object.keys(o).length>3,A=i.inputs||[],k=i.outputs||[],H=50,le=A.length>0||k.length>0?18:0,F=Q.length*14+(ne?12:0),C=Math.max($y,H+le+F+10);return z.useEffect(()=>{const V={input:{x:c,y:f+30},output:{x:c+Xn,y:f+30},branches:{}};return b(R,V),()=>N(R)},[c,f,R,b,N]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${c}, ${f})`,onClick:Y,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:[d.jsx("rect",{width:Xn,height:C,rx:8,style:$E(W,G)}),d.jsx("rect",{width:4,height:C,rx:2,style:WE}),d.jsx("text",{x:16,y:24,style:ZE,children:""}),d.jsx("text",{x:38,y:24,style:QE,children:r}),(A.length>0||k.length>0)&&d.jsx("g",{transform:"translate(12, 38)",children:d.jsxs("text",{x:0,y:0,style:KE,children:[A.length>0&&`In: ${A.join(", ")}`,A.length>0&&k.length>0&&" | ",k.length>0&&`Out: ${k.join(", ")}`]})}),Q.length>0&&d.jsxs("g",{transform:`translate(12, ${H+le-4})`,children:[Q.map(([V,J],ae)=>d.jsxs("text",{x:0,y:ae*14+10,style:FE,children:["$",V," = ",nj(J)]},V)),ne&&d.jsxs("text",{x:0,y:Q.length*14+10,style:JE,children:["+",Object.keys(o).length-3," more..."]})]}),se&&d.jsx("circle",{cx:Xn,cy:30,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:ce}),d.jsx("circle",{cx:Xn,cy:30,r:6,style:PE(G||ue,!!E),onMouseDown:ie,onMouseUp:ce}),p==="free"&&m&&d.jsx("rect",{x:4,y:0,width:Xn-8,height:40,fill:"transparent",style:ej,onMouseDown:ee})]})});function nj(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?n.length>12?`"${n.slice(0,12)}..."`:`"${n}"`:typeof n=="object"?JSON.stringify(n).slice(0,15)+"...":String(n)}function lj(n,r,i,o){const c=Math.abs(i-n),f=Math.abs(o-r);if(f>c*.5&&o>r){const m=Math.min(f/2,60);return`M ${n} ${r} C ${n} ${r+m}, ${i} ${o-m}, ${i} ${o}`}else{const m=Math.min(c/2,80);return`M ${n} ${r} C ${n+m} ${r}, ${i-m} ${o}, ${i} ${o}`}}const aj={fill:"none",stroke:"transparent",strokeWidth:16,strokeLinecap:"round",pointerEvents:"stroke"};function rj(n,r){return{fill:"none",stroke:r?"#22d3ee":n,strokeWidth:6,strokeLinecap:"round",opacity:r?.3:.2,pointerEvents:"none"}}function ij(n,r,i){return{fill:"none",stroke:r?"#22D3EE":n,strokeWidth:r?3:i?1.5:2,strokeLinecap:"round",strokeDasharray:i?"6 4":"none",pointerEvents:"none",transition:"stroke-width 0.15s ease, stroke 0.15s ease",filter:r?"drop-shadow(0 0 6px rgba(34, 211, 238, 0.5))":"none"}}const oj={opacity:.6,pointerEvents:"none"},sj={fontSize:"10px",fill:"var(--color-text-muted)",textAnchor:"middle",fontWeight:500,pointerEvents:"none"},cj={cursor:"pointer",pointerEvents:"all"};function uj(){return{fill:"var(--color-accent-red)",stroke:"var(--color-surface-0)",strokeWidth:2,transition:"transform 0.15s ease, filter 0.15s ease"}}const fj={fontSize:"16px",fontWeight:"bold",fill:"white",pointerEvents:"none"},Zy=z.memo(function({fromNodeId:r,toNodeId:i,fromPort:o="output",toPort:c="input",x1:f,y1:h,x2:m,y2:g,color:p="#475569",label:y,isDotted:b,isSelected:N,onSelect:E,onDelete:w}){const v=_e(ee=>ee.slotPositions);let j,_,O,G;if(f!==void 0&&h!==void 0&&m!==void 0&&g!==void 0)j=f,_=h,O=m,G=g;else{const ee=v[r],ie=v[i];if(!ee||!ie)return null;const ce=o==="output"?ee.output:o==="input"?ee.input:ee.branches[o],ue=c==="input"?ie.input:ie.output;if(!ce||!ue)return null;j=ce.x,_=ce.y,O=ue.x,G=ue.y}if(!Number.isFinite(j)||!Number.isFinite(_)||!Number.isFinite(O)||!Number.isFinite(G))return null;const I=lj(j,_,O,G),R=(j+O)/2,W=(_+G)/2,U=ee=>{ee.stopPropagation(),E?.()},Y=ee=>{ee.stopPropagation(),w?.()};return d.jsxs("g",{style:{cursor:"pointer"},children:[d.jsx("path",{style:aj,d:I,onClick:U}),d.jsx("path",{style:rj(p,N??!1),d:I}),d.jsx("path",{style:ij(p,N??!1,b??!1),d:I}),!b&&!N&&d.jsx("circle",{style:oj,r:3,fill:p,children:d.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:I})}),y&&d.jsx("text",{style:sj,x:R,y:(_+G)/2-8,children:y}),N&&w&&d.jsxs("g",{style:cj,transform:`translate(${R}, ${W})`,onClick:Y,children:[d.jsx("circle",{cx:0,cy:0,r:12,style:uj()}),d.jsx("text",{x:0,y:4,textAnchor:"middle",style:fj,children:""})]})]})});function dj(){const{draggingWire:n,slotPositions:r}=_e();if(!n)return null;const i=n.branchLabel||n.sourcePort,o=hE(n.sourceNodeId,i,r),c=o?.x??n.sourceX,f=o?.y??n.sourceY,h=n.nearbyPort?.x??n.dragX,m=n.nearbyPort?.y??n.dragY,g=n.sourcePort==="input",p=g?h:c,y=g?m:f,b=g?c:h,N=g?f:m;if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b)||!Number.isFinite(N))return null;const E=n.nearbyPort?"#22C55E":"#22D3EE";return d.jsx(Zy,{fromNodeId:n.sourceNodeId,toNodeId:"",x1:p,y1:y,x2:b,y2:N,color:E,isDotted:!n.nearbyPort})}const hj={pointerEvents:"none"},mj={fill:"#FACC15"},pj={filter:"drop-shadow(0 2px 4px rgba(250, 204, 21, 0.3))"},gj={fill:"rgba(250, 204, 21, 0.2)",stroke:"#FACC15",strokeWidth:1.5,strokeDasharray:"4 2"},xj={fontSize:"9px",fontWeight:600,fill:"#facc15"},yj={fill:"rgba(250, 204, 21, 0.3)",stroke:"#FACC15",strokeWidth:2},bj={pointerEvents:"none"},vj={fill:"rgba(34, 197, 94, 0.25)",stroke:"#22C55E",strokeWidth:2},wj={fill:"#4ADE80",fontSize:"12px",fontWeight:600,fontFamily:"'JetBrains Mono', monospace"},Sj={fill:"#22C55E"};function Nj(){const{draggingOrphan:n}=_e();if(!n)return null;const{fromX:r,fromY:i,toX:o,toY:c,opcode:f}=n;if(!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)||!Number.isFinite(c))return null;const h=o-r,m=c-i,g=Math.sqrt(h*h+m*m),p=f.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("g",{style:hj,children:[d.jsx("path",{d:`M ${r} ${i} L ${o} ${c}`,fill:"none",stroke:"#FACC15",strokeWidth:2,strokeDasharray:"8 4",style:{animation:"dash-flow 0.5s linear infinite"}}),d.jsx("circle",{cx:r,cy:i,r:4,style:mj}),g>30&&d.jsxs("g",{transform:`translate(${o-40}, ${c-15})`,style:pj,children:[d.jsx("rect",{width:80,height:30,rx:6,style:gj}),d.jsx("text",{x:40,y:18,textAnchor:"middle",style:xj,children:p.length>10?p.slice(0,10)+"...":p})]}),d.jsx("circle",{cx:o,cy:c,r:6,style:yj})]})}function Ej(){const{draggingVariable:n}=_e();if(!n)return null;const{toX:r,toY:i,name:o}=n;return d.jsxs("g",{style:bj,children:[d.jsxs("g",{transform:`translate(${r-40}, ${i-14})`,children:[d.jsx("rect",{width:80,height:28,rx:14,style:vj}),d.jsxs("text",{x:40,y:18,textAnchor:"middle",style:wj,children:["$",o.length>8?o.slice(0,8)+"..":o]})]}),d.jsx("circle",{cx:r,cy:i,r:4,style:Sj})]})}const Ho=160,Uo=120,ni=180,$u=80,Wu=60,Vg=40,jj=80,Cj=M("absolute bottom-4 left-6 rounded-sm border border-border-subtle overflow-hidden z-10 shadow-md cursor-pointer transition-colors hover:border-border-strong"),Aj={pointerEvents:"none"};function Bg(n){switch(n){case"control_flow":return"#FF9500";case"data":return"#4CAF50";case"io":return"#22D3EE";case"operator":return"#9C27B0";case"workflow_op":return"#E91E63";default:return"#64748B"}}function _j({workflows:n,bounds:r,zoom:i,panX:o,panY:c,canvasWidth:f,canvasHeight:h,onNavigate:m}){const g=r.maxX-r.minX,p=r.maxY-r.minY,y=Math.min((Ho-10)/Math.max(g,100),(Uo-10)/Math.max(p,100)),b=z.useMemo(()=>{const w=(r.maxX+r.minX)/2,v=(r.maxY+r.minY)/2,j=f/i,_=h/i,O=w-o/i,G=v-c/i,I=(O-r.minX-j/2)*y+5,R=(G-r.minY-_/2)*y+5,W=j*y,U=_*y;return{x:I,y:R,width:W,height:U}},[r,i,o,c,f,h,y]),N=z.useCallback(w=>{const j=w.currentTarget.getBoundingClientRect(),_=w.clientX-j.left,O=w.clientY-j.top,G=(_-5)/y+r.minX,I=(O-5)/y+r.minY,R=(r.maxX+r.minX)/2,W=(r.maxY+r.minY)/2,U=(R-G)*i,Y=(W-I)*i;m(U,Y)},[r,y,i,m]),E=z.useMemo(()=>{if(!n||n.length===0)return[];const w=[];let v=0;for(const j of n){let _=function(I,R,W){const U=$u+Math.min(Object.keys(I.inputs).length,2)*18;w.push({x:(R-r.minX)*y+5,y:(W-r.minY)*y+5,width:ni*y,height:U*y,color:Bg(I.type)}),G=Math.max(G,W+U);let Y=R+ni+Wu,ee=W+U+Vg;for(const ie of I.children){let ce=R+ni+Wu;for(const ue of ie.children){const se=$u+Math.min(Object.keys(ue.inputs).length,2)*18;w.push({x:(ce-r.minX)*y+5,y:(ee-r.minY)*y+5,width:ni*y,height:se*y,color:Bg(ue.type)}),G=Math.max(G,ee+se),ce+=ni+Wu,Y=Math.max(Y,ce)}ee+=$u+Vg*2}return Y},O=0,G=v;for(const I of j.children)O=_(I,O,v);v=G+jj}return w},[n,r,y]);return!n||n.length===0||E.length===0?null:d.jsx("div",{className:L(Cj()),"aria-label":"Canvas minimap navigation",children:d.jsxs("svg",{width:Ho,height:Uo,onClick:N,style:{display:"block",cursor:"pointer"},role:"img","aria-label":"Minimap showing workflow overview. Click to navigate.",children:[d.jsx("rect",{x:0,y:0,width:Ho,height:Uo,fill:"var(--color-surface-2)",rx:4}),E.map((w,v)=>d.jsx("rect",{x:w.x,y:w.y,width:Math.max(w.width,2),height:Math.max(w.height,2),fill:w.color,opacity:.7,rx:1},v)),d.jsx("rect",{x:Math.max(0,b.x),y:Math.max(0,b.y),width:Math.min(b.width,Ho),height:Math.min(b.height,Uo),fill:"rgba(59, 130, 246, 0.15)",stroke:"var(--color-accent-blue)",strokeWidth:1.5,rx:2,style:Aj})]})})}const Oj=M("absolute top-4 left-6 w-9 h-9 flex items-center justify-center bg-surface-1 border border-border-subtle rounded-sm text-text-secondary cursor-pointer z-10 shadow-md transition-colors hover:bg-surface-2 hover:border-border-strong hover:text-text-primary"),Tj=M("absolute top-4 left-6 flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm z-10 shadow-md text-text-secondary focus-within:border-accent-blue"),Mj=M("bg-transparent border-none outline-none text-text-primary text-sm w-[180px] placeholder:text-text-muted"),Dj=M("text-xs text-text-muted whitespace-nowrap min-w-[60px] text-center"),kj=M("flex gap-0.5"),Hg=M("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm transition-colors hover:bg-surface-2 hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent"),Rj=M("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm ml-1 transition-colors hover:bg-surface-2 hover:text-text-primary");function zj(){const{tree:n}=at(),{searchQuery:r,setSearchQuery:i,searchResults:o,setSearchResults:c}=_e(),{selectNode:f}=$n(),[h,m]=z.useState(!1),[g,p]=z.useState(0),y=z.useRef(null);z.useEffect(()=>{if(!n||!r.trim()){c([]),p(0);return}const _=r.toLowerCase(),O=[];for(const G of n.workflows){const I=R=>{for(const W of R){const U=W.id.toLowerCase().includes(_),Y=W.opcode?.toLowerCase().includes(_),ee=W.type.toLowerCase().includes(_);(U||Y||ee)&&O.push(W.id);for(const ie of W.children)I(ie.children)}};I(G.children)}c(O),p(0)},[r,n,c]),z.useEffect(()=>{const _=O=>{(O.ctrlKey||O.metaKey)&&O.key.toLowerCase()==="f"&&(O.target.closest(".monaco-editor")||(O.preventDefault(),m(!0),setTimeout(()=>y.current?.focus(),50))),O.key==="Escape"&&h&&b()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[h]);const b=z.useCallback(()=>{m(!1),i(""),c([]),p(0)},[i,c]),N=z.useCallback(_=>{i(_.target.value)},[i]),E=z.useCallback(_=>{if(o.length>0){const O=o[_];f(O),p(_)}},[o,f]),w=z.useCallback(()=>{if(o.length>0){const _=g>0?g-1:o.length-1;E(_)}},[g,o.length,E]),v=z.useCallback(()=>{if(o.length>0){const _=g<o.length-1?g+1:0;E(_)}},[g,o.length,E]),j=z.useCallback(_=>{_.key==="Enter"&&(_.shiftKey?w():v())},[w,v]);return h?d.jsxs("div",{className:L(Tj()),role:"search","aria-label":"Search nodes",children:[d.jsx(Ug,{}),d.jsx("input",{ref:y,type:"text",value:r,onChange:N,onKeyDown:j,placeholder:"Search nodes...",className:L(Mj()),autoFocus:!0,"aria-label":"Search query","aria-describedby":r?"search-result-count":void 0}),r&&d.jsx("span",{id:"search-result-count",className:L(Dj()),"aria-live":"polite",children:o.length>0?`${g+1}/${o.length}`:"No results"}),d.jsxs("div",{className:L(kj()),role:"group","aria-label":"Navigate results",children:[d.jsx("button",{onClick:w,disabled:o.length===0,"aria-label":"Previous result (Shift+Enter)",className:L(Hg()),children:d.jsx(Lj,{})}),d.jsx("button",{onClick:v,disabled:o.length===0,"aria-label":"Next result (Enter)",className:L(Hg()),children:d.jsx(Vj,{})})]}),d.jsx("button",{onClick:b,className:L(Rj()),"aria-label":"Close search (Escape)",children:d.jsx(Bj,{})})]}):d.jsx("button",{className:L(Oj()),onClick:()=>{m(!0),setTimeout(()=>y.current?.focus(),50)},"aria-label":"Search nodes (Ctrl+F)",children:d.jsx(Ug,{})})}function Ug(){return d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"M21 21l-4.35-4.35"})]})}function Lj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 15l-6-6-6 6"})})}function Vj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M6 9l6 6 6-6"})})}function Bj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}const Qt=24,Pl=28;function Hj(n,r,i,o){return{padding:Qt,labelHeight:Pl,rect:{x:n-Qt,y:r-Qt-Pl,width:i+Qt*2,height:o+Qt*2+Pl},header:{x:n-Qt,y:r-Qt-Pl,width:i+Qt*2,height:Pl+Qt},label:{x:n-Qt+12,y:r-Qt-Pl+8},dragIcon:{x:n+i+Qt-24,y:r-Qt-Pl+10}}}function Uj(n){return{fill:"transparent",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:2,strokeDasharray:"8 4",opacity:n?.4:.6}}function Yj(n){return{fill:n?"rgba(59, 130, 246, 0.1)":"var(--color-surface-2)",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1}}function Ij(n){return{fontSize:"11px",fontWeight:600,fill:n?"var(--color-accent-blue)":"var(--color-text-secondary)",fontFamily:"'Inter', sans-serif"}}const qj={cursor:"grab",pointerEvents:"all"},Xj={pointerEvents:"none",color:"var(--color-text-muted)"};function Gj({name:n,x:r,y:i,width:o,height:c,isMain:f,zoom:h,onDrag:m}){const g=z.useRef(!1),p=z.useRef({x:0,y:0}),y=_e(v=>v.setIsDraggingWorkflow),b=Hj(r,i,o,c),N=z.useCallback(v=>{if(!m)return;v.stopPropagation(),v.preventDefault(),g.current=!0,p.current={x:v.clientX,y:v.clientY},y(!0);const j=O=>{if(!g.current)return;O.preventDefault();const G=(O.clientX-p.current.x)/h,I=(O.clientY-p.current.y)/h;p.current={x:O.clientX,y:O.clientY},m(G,I)},_=()=>{g.current=!1,y(!1),window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",_)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",_)},[m,h,y]),E=f&&n!=="main"?`${n} (main)`:n,w=E.length*7+24;return d.jsxs("g",{style:{pointerEvents:"none"},"data-workflow-group":n,children:[d.jsx("rect",{x:b.rect.x,y:b.rect.y,width:b.rect.width,height:b.rect.height,rx:12,style:Uj(f??!1)}),d.jsx("rect",{x:b.header.x,y:b.header.y,width:b.header.width,height:b.header.height,fill:"transparent",style:qj,onMouseDown:N}),d.jsxs("g",{transform:`translate(${b.label.x}, ${b.label.y})`,children:[d.jsx("rect",{x:0,y:0,width:w,height:20,rx:4,style:Yj(f??!1)}),d.jsx("text",{x:12,y:14,style:Ij(f??!1),children:E})]}),d.jsxs("g",{transform:`translate(${b.dragIcon.x}, ${b.dragIcon.y})`,style:Xj,children:[d.jsx("rect",{x:0,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:0,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4})]})]})}const Qy=M("min-w-[160px] py-1 bg-surface-1 border border-border-subtle rounded-md shadow-lg animate-scale-in"),ea=M("w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm text-text-primary bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2",{variants:{variant:{default:"",danger:"text-accent-red hover:bg-accent-red/10"}},defaultVariants:{variant:"default"}}),Po=M("h-px my-1 mx-2 bg-border-subtle"),ta=M("w-4 text-center text-xs text-text-muted"),na=M("flex-1"),Yg=M("text-xs text-text-muted");function $j({x:n,y:r,nodeId:i,hasReporters:o,reportersExpanded:c,isOrphan:f,onExpandReporters:h,onCollapseReporters:m,onDelete:g,onDuplicate:p,onClose:y,selectedNodeIds:b,onExtractToWorkflow:N}){const E=z.useRef(null);z.useEffect(()=>{const j=O=>{E.current&&!E.current.contains(O.target)&&y()},_=O=>{O.key==="Escape"&&y()};return document.addEventListener("mousedown",j),document.addEventListener("keydown",_),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",_)}},[y]);const w=Math.min(n,window.innerWidth-180),v=Math.min(r,window.innerHeight-200);return d.jsxs("div",{ref:E,className:L(Qy()),style:{position:"fixed",left:w,top:v,zIndex:1e3},role:"menu","aria-label":"Node actions",children:[o&&d.jsxs(d.Fragment,{children:[c?d.jsxs("button",{className:L(ea()),onClick:()=>{m(),y()},role:"menuitem",children:[d.jsx("span",{className:L(ta()),children:""}),d.jsx("span",{className:L(na()),children:"Collapse Reporters"})]}):d.jsxs("button",{className:L(ea()),onClick:()=>{h(),y()},role:"menuitem",children:[d.jsx("span",{className:L(ta()),children:""}),d.jsx("span",{className:L(na()),children:"Expand Reporters"})]}),d.jsx("div",{className:L(Po()),role:"separator"})]}),d.jsxs("button",{className:L(ea()),onClick:()=>{p(),y()},role:"menuitem",children:[d.jsx("span",{className:L(ta()),children:""}),d.jsx("span",{className:L(na()),children:"Duplicate"}),d.jsx("span",{className:L(Yg()),children:"Ctrl+D"})]}),d.jsx("div",{className:L(Po()),role:"separator"}),d.jsxs("button",{className:L(ea({variant:"danger"})),onClick:()=>{g(),y()},role:"menuitem",children:[d.jsx("span",{className:L(ta()),children:""}),d.jsx("span",{className:L(na()),children:"Delete"}),d.jsx("span",{className:L(Yg()),children:"Del"})]}),b&&b.length>=2&&N&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:L(Po()),role:"separator"}),d.jsxs("button",{className:L(ea()),onClick:()=>{N(),y()},role:"menuitem",children:[d.jsx("span",{className:L(ta()),children:""}),d.jsx("span",{className:L(na()),children:"Extract to Workflow"})]})]})]})}function Wj({x:n,y:r,workflowName:i,onCreateWorkflow:o,onDeleteWorkflow:c,onClose:f}){const h=z.useRef(null);z.useEffect(()=>{const y=N=>{h.current&&!h.current.contains(N.target)&&f()},b=N=>{N.key==="Escape"&&f()};return document.addEventListener("mousedown",y),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",b)}},[f]);const m=Math.min(n,window.innerWidth-220),g=Math.min(r,window.innerHeight-120),p=i&&i!=="main";return d.jsxs("div",{ref:h,className:L(Qy()),style:{position:"fixed",left:m,top:g,zIndex:1e3},role:"menu","aria-label":"Canvas actions",children:[d.jsxs("button",{className:L(ea()),onClick:()=>{o(),f()},role:"menuitem",children:[d.jsx("span",{className:L(ta()),children:"+"}),d.jsx("span",{className:L(na()),children:"Create New Workflow"})]}),p&&c&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:L(Po()),role:"separator"}),d.jsxs("button",{className:L(ea({variant:"danger"})),onClick:()=>{c(i),f()},role:"menuitem",children:[d.jsx("span",{className:L(ta()),children:""}),d.jsxs("span",{className:L(na()),children:['Delete "',i,'"']})]})]})]})}const mi=Uy.WIDTH,Sn=Uy.HEIGHT,Yo=Vf.HORIZONTAL,ai=Vf.VERTICAL,Ky=Vf.WORKFLOW,Zj=40;function Qj(n,r){const o=n.inputs||[],c=n.outputs||[],f=o.length>0||c.length>0?18:0,h=Object.entries(r).slice(0,3),m=Object.keys(r).length>3,g=h.length*14+(m?12:0);return Math.max($y,50+f+g+10)}const mf=12,pf=8,Fy=16,Kj=28;function Jy(n,r){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const i=n.id||"";if(!(r[i]??!1))return{width:mi,height:Sn};const c=[];let f=0;if(n.inputs)for(const g of Object.values(n.inputs))g.type==="reporter"&&g.opcode?c.push(g):f++;let h=mi,m=Sn;if(c.length>0){let g=0,p=0;for(const y of c){const b=Jy(y,r);g+=Fy+b.height+pf,p=Math.max(p,b.width)}h=Math.max(h,p+mf*2),m=Sn+g}return f>0&&(m+=f*Kj+pf),(c.length>0||f>0)&&(m+=mf),{width:h,height:m}}function Fj(n,r){let i=0,o=mi;for(const c of Object.values(n))if(c.type==="reporter"&&c.opcode){const f=Jy(c,r);i+=Fy+f.height+pf,o=Math.max(o,f.width)}return{width:o,height:i}}function Zu(n,r,i,o){const c=o[n]??!1,f=AN(),m=i&&f.has(i)?20:0;if(!c)return{width:mi,height:Sn+m};const g=Fj(r,o),p=g.width+mf*2,y=g.height;return{width:Math.max(mi,p),height:Sn+y+m}}function Ig(n){return zy(n)}function qg(n,r,i={},o={}){const c=[],f=[],h=[],m=[];let g=0;const p={};for(const y of n){p[y.name]={x:0,y:g};const b=Math.max(y.children.length*(Sn+ai),Sn+100);g+=b+Ky}for(const y of n){const b=p[y.name],N=r[y.name]||{x:0,y:0},E={x:b.x+N.x,y:b.y+N.y},{nodes:w,connections:v,bounds:j,startNode:_}=Jj(y,E.x,E.y,i,o);c.push(...w),f.push(...v),_&&m.push(_),h.push({name:y.name,x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY,isMain:y.name==="main"})}return{nodes:c,connections:f,groups:h,startNodes:m}}function Jj(n,r,i,o={},c={}){const f=[],h=[],m=new Map,g=r,p=i,y={workflowName:n.name,workflowInterface:n.interface,variables:n.variables,x:g,y:p},b=r+Xn+Zj;let N=1/0,E=1/0,w=-1/0,v=-1/0;function j(Y,ee,ie,ce){N=Math.min(N,Y),E=Math.min(E,ee),w=Math.max(w,Y+ie),v=Math.max(v,ee+ce)}function _(Y,ee,ie,ce=!1){const ue=Zu(Y.id,Y.inputs,Y.opcode,c);f.push({node:Y,x:ee,y:ie,width:ue.width,height:ue.height,isOrphan:ce,workflowName:n.name}),m.set(Y.id,{x:ee,y:ie,width:ue.width,height:ue.height}),j(ee,ie,ue.width,ue.height);let se=ee+ue.width+Yo;if(Y.children.length>0){let Q=ie+ue.height+ai;const ne=Y.children.length;for(let A=0;A<ne;A++){const k=Y.children[A],H=Ig(k.name);let le=ee+ue.width+Yo,F=Y.id,C=!0;for(const V of k.children){const J=Zu(V.id,V.inputs,V.opcode,c);f.push({node:V,x:le,y:Q,width:J.width,height:J.height,workflowName:n.name}),m.set(V.id,{x:le,y:Q,width:J.width,height:J.height}),j(le,Q,J.width,J.height),h.push({from:`${n.name}::${F}`,to:`${n.name}::${V.id}`,fromPort:C?k.name:"output",toPort:"input",color:H,label:C?k.name:void 0}),F=V.id,C=!1,le+=J.width+Yo,V.children.length>0&&(le=Math.max(le,O(V,le,Q)))}se=Math.max(se,le),Q+=Sn+ai*2}}return se}function O(Y,ee,ie){let ce=ee;const se=m.get(Y.id)?.height||Sn;let Q=ie+se+ai;const ne=Y.children.length;for(let A=0;A<ne;A++){const k=Y.children[A],H=Ig(k.name);let le=ee,F=Y.id,C=!0;for(const V of k.children){const J=Zu(V.id,V.inputs,V.opcode,c);f.push({node:V,x:le,y:Q,width:J.width,height:J.height,workflowName:n.name}),m.set(V.id,{x:le,y:Q,width:J.width,height:J.height}),j(le,Q,J.width,J.height),h.push({from:`${n.name}::${F}`,to:`${n.name}::${V.id}`,fromPort:C?k.name:"output",toPort:"input",color:H,label:C?k.name:void 0}),F=V.id,C=!1,le+=J.width+Yo}ce=Math.max(ce,le),Q+=Sn+ai}return ce}const G=Qj(n.interface,n.variables);j(g,p,Xn,G);let I=b,R=null,W=!0;for(const Y of n.children){const ie=_(Y,I,i);W&&(h.push({from:`start-${n.name}`,to:`${n.name}::${Y.id}`,fromPort:"output",toPort:"input",color:"#22C55E"}),W=!1),R&&h.push({from:`${n.name}::${R.id}`,to:`${n.name}::${Y.id}`,fromPort:"output",toPort:"input",color:"#475569"}),R=Y,I=ie}n.children.length===0&&(N=Math.min(N,g),E=Math.min(E,p),w=Math.max(w,g+Xn+20),v=Math.max(v,p+G));const U=n.orphans||[];if(U.length>0){const Y=v+Ky;let ee=g;for(const ie of U)ee=_(ie,ee,Y,!0);for(const ie of U)ie.next&&h.push({from:`${n.name}::${ie.id}`,to:`${n.name}::${ie.next}`,fromPort:"output",toPort:"input",color:"#6B7280"})}for(const Y of f){const ee=`${Y.workflowName}::${Y.node.id}`,ie=o[ee];ie&&(Y.x+=ie.x,Y.y+=ie.y,j(Y.x,Y.y,Y.width,Y.height))}return{nodes:f,connections:h,bounds:{minX:N,minY:E,maxX:w,maxY:v},startNode:y}}function Py(n,r,i){const f=[...n].sort((h,m)=>m.y-h.y);for(const h of f)if(r>=h.x-16&&r<=h.x+h.width+16&&i>=h.y-28-16&&i<=h.y+h.height+16)return h.name;return null}const Pj=M("flex-1 relative overflow-hidden"),eC=M("w-full h-full block"),tC=M("absolute bottom-4 right-4 flex items-center gap-1 bg-surface-1 p-1 rounded-sm border border-border-subtle z-10 shadow-md"),Qu=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm hover:bg-surface-2 hover:text-text-primary"),nC=M("w-px h-5 bg-border-subtle mx-1"),lC=M("min-w-10 text-center text-xs text-text-muted"),Xg=M("h-7 px-2.5 flex items-center justify-center gap-1.5 bg-transparent border-none text-text-secondary cursor-pointer rounded-sm text-xs font-medium transition-colors hover:bg-surface-2 hover:text-text-primary",{variants:{active:{true:"bg-surface-3 text-text-primary",false:""}},defaultVariants:{active:!1}}),aC=M("absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-3 px-5 py-3 bg-accent-red/15 border border-accent-red rounded-sm text-accent-red z-10 max-w-[80%]"),rC=M("text-lg"),iC=M("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-text-muted pointer-events-none"),oC=M("text-lg mb-2 text-text-secondary"),sC=M("text-sm");function cC(){const{zoom:n,panX:r,panY:i,setZoom:o,setPan:c,resetView:f,workflowPositions:h,setWorkflowPosition:m,nodePositions:g,setNodePosition:p,layoutMode:y,setLayoutMode:b,setLayoutGroups:N,setCanvasCenter:E,contextMenu:w,hideContextMenu:v,setReportersExpanded:j,expandedReporters:_,canvasContextMenu:O,showCanvasContextMenu:G,hideCanvasContextMenu:I,showCreateWorkflowModal:R,showConfirmDialog:W,showExtractWorkflowModal:U}=_e(),{tree:Y,parseError:ee,source:ie,disconnectConnection:ce,deleteNode:ue,duplicateNode:se,deleteWorkflow:Q}=at(),{selectedConnection:ne,selectConnection:A,selectedNodeIds:k,clearMultiSelection:H}=$n(),le=z.useRef(null),[F,C]=z.useState({width:800,height:600});z.useEffect(()=>{const oe=()=>{le.current&&C({width:le.current.clientWidth,height:le.current.clientHeight})};return oe(),window.addEventListener("resize",oe),()=>window.removeEventListener("resize",oe)},[]);const{nodes:V,connections:J,groups:ae,startNodes:xe}=Y?qg(Y.workflows,h,g,_):{nodes:[],connections:[],groups:[],startNodes:[]},me=24,ge=28,He=ae.length>0?ae.reduce((oe,Ne)=>({minX:Math.min(oe.minX,Ne.x-me),minY:Math.min(oe.minY,Ne.y-me-ge),maxX:Math.max(oe.maxX,Ne.x+Ne.width+me),maxY:Math.max(oe.maxY,Ne.y+Ne.height+me)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}):{minX:0,minY:0,maxX:800,maxY:600},{centerX:re,centerY:we}=z.useMemo(()=>{if(!Y)return{centerX:400,centerY:300};const Ne=qg(Y.workflows,{}).groups.reduce((Qe,Ze)=>({minX:Math.min(Qe.minX,Ze.x-me),minY:Math.min(Qe.minY,Ze.y-me-ge),maxX:Math.max(Qe.maxX,Ze.x+Ze.width+me),maxY:Math.max(Qe.maxY,Ze.y+Ze.height+me)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return{centerX:(Ne.maxX+Ne.minX)/2,centerY:(Ne.maxY+Ne.minY)/2}},[Y]),qe=JSON.stringify(ae);z.useEffect(()=>{N(ae)},[qe,N]),z.useEffect(()=>{E(re,we)},[re,we,E]),z.useEffect(()=>{const oe=Ne=>{const Ze=Ne.detail.workflowName,et=ae.find(ra=>ra.name===Ze);if(!et)return;const tt=F.width/2,Ol=F.height/2,Zn=et.x+et.width/2,aa=et.y+et.height/2,Qn=tt-Zn*n-(F.width/2-re*n),ir=Ol-aa*n-(F.height/2-we*n);c(Qn,ir)};return window.addEventListener("lexflow:goto-workflow",oe),()=>window.removeEventListener("lexflow:goto-workflow",oe)},[ae,n,c,F,re,we]);const{handleWheel:Ve,handleMouseDown:rt,handleMouseMove:_t,handleMouseUp:un,isDragging:Nn}=jE({svgRef:le,centerX:re,centerY:we}),Ae=z.useCallback(oe=>{const Ne=oe.target,Qe=Ne.tagName==="svg"||Ne.tagName==="rect"&&Ne.getAttribute("fill")==="transparent",Ze=Ne.closest("[data-workflow-group]")!==null;if(Qe||Ze)if(oe.preventDefault(),le.current){const et=le.current.getBoundingClientRect(),tt=(oe.clientX-et.left-r-et.width/2)/n+re,Ol=(oe.clientY-et.top-i-et.height/2)/n+we,Zn=Py(ae,tt,Ol);G(oe.clientX,oe.clientY,Zn||void 0)}else G(oe.clientX,oe.clientY)},[G,le,r,i,n,re,we,ae]),yt=z.useCallback((oe,Ne)=>{c(oe,Ne)},[c]);return d.jsxs("div",{className:L(Pj()),"data-canvas-container":!0,children:[d.jsx(zj,{}),d.jsxs("div",{className:L(tC()),role:"toolbar","aria-label":"Canvas controls",children:[d.jsx("button",{className:L(Qu()),onClick:()=>o(n-.1),"aria-label":"Zoom out",children:d.jsx(Vw,{})}),d.jsxs("span",{className:L(lC()),"aria-live":"polite",children:[Math.round(n*100),"%"]}),d.jsx("button",{className:L(Qu()),onClick:()=>o(n+.1),"aria-label":"Zoom in",children:d.jsx(Lw,{})}),d.jsx("button",{className:L(Qu()),onClick:f,"aria-label":"Fit to view",children:d.jsx(Bw,{})}),d.jsx("div",{className:L(nC())}),d.jsxs("button",{className:L(Xg({active:y==="auto"})),onClick:()=>b("auto"),"aria-label":"Auto layout","aria-pressed":y==="auto",children:[d.jsx(Hw,{}),"Auto"]}),d.jsx("button",{className:L(Xg({active:y==="free"})),onClick:()=>b("free"),"aria-label":"Free layout","aria-pressed":y==="free",children:"Free"})]}),Y&&d.jsx(_j,{workflows:Y.workflows,bounds:He,zoom:n,panX:r,panY:i,canvasWidth:F.width,canvasHeight:F.height,onNavigate:yt}),ee&&d.jsxs("div",{className:L(aC()),children:[d.jsx("span",{className:L(rC()),children:""}),d.jsx("span",{children:ee})]}),d.jsxs("svg",{ref:le,className:L(eC()),onWheel:Ve,onMouseDown:rt,onMouseMove:_t,onMouseUp:un,onMouseLeave:un,onContextMenu:Ae,style:{cursor:Nn?"grabbing":"grab"},role:"application","aria-label":"Workflow canvas. Use mouse to pan and scroll to zoom.",children:[d.jsx("rect",{width:"100%",height:"100%",fill:"transparent",style:{cursor:"inherit"}}),d.jsxs("g",{transform:`translate(${r+(le.current?.clientWidth||800)/2-re*n}, ${i+(le.current?.clientHeight||600)/2-we*n}) scale(${n})`,children:[ae.map(oe=>d.jsx(Gj,{name:oe.name,x:oe.x,y:oe.y,width:oe.width,height:oe.height,isMain:oe.isMain,zoom:n,onDrag:(Ne,Qe)=>{const Ze=_e.getState().workflowPositions[oe.name]||{x:0,y:0};m(oe.name,Ze.x+Ne,Ze.y+Qe)}},oe.name)),J.map((oe,Ne)=>d.jsx(Zy,{fromNodeId:oe.from,toNodeId:oe.to,fromPort:oe.fromPort,toPort:oe.toPort,color:oe.color,label:oe.label,isSelected:ne?.fromNodeId===oe.from&&ne?.toNodeId===oe.to,onSelect:()=>A({fromNodeId:oe.from,toNodeId:oe.to,label:oe.label}),onDelete:()=>{const Qe=hs(oe.from);ce(El(oe.from),El(oe.to),oe.label,Qe),A(null)}},`${oe.from}-${oe.to}-${Ne}`)),xe.map(oe=>d.jsx(tj,{workflowName:oe.workflowName,workflowInterface:oe.workflowInterface,variables:oe.variables,x:oe.x,y:oe.y,zoom:n,onDrag:y==="free"?(Ne,Qe)=>{const Ze=h[oe.workflowName]||{x:0,y:0};m(oe.workflowName,Ze.x+Ne,Ze.y+Qe)}:void 0},`start-${oe.workflowName}`)),V.map(oe=>{const Ne=`${oe.workflowName}::${oe.node.id}`;return d.jsx(XE,{node:oe.node,x:oe.x,y:oe.y,isOrphan:oe.isOrphan,zoom:n,workflowName:oe.workflowName,onDrag:y==="free"?(Qe,Ze)=>{const et=g[Ne]||{x:0,y:0};p(Ne,et.x+Qe,et.y+Ze)}:void 0},Ne)}),d.jsx(dj,{}),d.jsx(Nj,{}),d.jsx(Ej,{})]})]}),!ee&&!Y&&d.jsxs("div",{className:L(iC()),children:[d.jsx("h2",{className:L(oC()),children:"No Workflow"}),d.jsx("p",{className:L(sC()),children:"Edit YAML in the editor or load an example"})]}),w&&(()=>{const oe=El(w.nodeId);return d.jsx($j,{x:w.x,y:w.y,nodeId:oe,hasReporters:w.hasReporters,reportersExpanded:w.reportersExpanded,isOrphan:w.isOrphan,onExpandReporters:()=>j(w.nodeId,!0),onCollapseReporters:()=>j(w.nodeId,!1),onDelete:()=>{ue(oe),H()},onDuplicate:()=>se(oe),onClose:v,selectedNodeIds:k,onExtractToWorkflow:()=>{const Ne=k.length>0?k:[w.nodeId],Qe=Ne.map(El);if(Qe.length<2)return;let Ze=hs(Ne[0])||"main";const et=bx(ie,Qe,Ze);if(!et.isValid){W({title:"Cannot Extract",message:et.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}});return}const tt=E1(ie,Qe);U(et.orderedNodeIds,Ze,tt.suggestedInputs,tt.suggestedOutputs)}})})(),O&&d.jsx(Wj,{x:O.x,y:O.y,workflowName:O.workflowName,onCreateWorkflow:R,onDeleteWorkflow:oe=>{W({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${oe}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>Q(oe)})},onClose:I})]})}const uC="modulepreload",fC=function(n){return"/static/"+n},Gg={},dC=function(r,i,o){let c=Promise.resolve();if(i&&i.length>0){let g=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");c=g(i.map(p=>{if(p=fC(p),p in Gg)return;Gg[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const N=document.createElement("link");if(N.rel=y?"stylesheet":uC,y||(N.as="script"),N.crossOrigin="",N.href=p,m&&N.setAttribute("nonce",m),document.head.appendChild(N),y)return new Promise((E,w)=>{N.addEventListener("load",E),N.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return c.then(h=>{for(const m of h||[])m.status==="rejected"&&f(m.reason);return r().catch(f)})};function $g(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,o=Array(r);i<r;i++)o[i]=n[i];return o}function hC(n){if(Array.isArray(n))return n}function mC(n,r,i){return(r=wC(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function pC(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,f,h,m=[],g=!0,p=!1;try{if(f=(i=i.call(n)).next,r!==0)for(;!(g=(o=f.call(i)).done)&&(m.push(o.value),m.length!==r);g=!0);}catch(y){p=!0,c=y}finally{try{if(!g&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(p)throw c}}return m}}function gC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wg(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function Zg(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Wg(Object(i),!0).forEach(function(o){mC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Wg(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function xC(n,r){if(n==null)return{};var i,o,c=yC(n,r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);for(o=0;o<f.length;o++)i=f[o],r.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(c[i]=n[i])}return c}function yC(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}function bC(n,r){return hC(n)||pC(n,r)||SC(n,r)||gC()}function vC(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function wC(n){var r=vC(n,"string");return typeof r=="symbol"?r:r+""}function SC(n,r){if(n){if(typeof n=="string")return $g(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?$g(n,r):void 0}}function NC(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function Qg(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function Kg(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Qg(Object(i),!0).forEach(function(o){NC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Qg(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function EC(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(o){return r.reduceRight(function(c,f){return f(c)},o)}}function ri(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function ms(n){return{}.toString.call(n).includes("Object")}function jC(n){return!Object.keys(n).length}function pi(n){return typeof n=="function"}function CC(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function AC(n,r){return ms(r)||Cl("changeType"),Object.keys(r).some(function(i){return!CC(n,i)})&&Cl("changeField"),r}function _C(n){pi(n)||Cl("selectorType")}function OC(n){pi(n)||ms(n)||Cl("handlerType"),ms(n)&&Object.values(n).some(function(r){return!pi(r)})&&Cl("handlersType")}function TC(n){n||Cl("initialIsRequired"),ms(n)||Cl("initialType"),jC(n)&&Cl("initialContent")}function MC(n,r){throw new Error(n[r]||n.default)}var DC={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Cl=ri(MC)(DC),Io={changes:AC,selector:_C,handler:OC,initial:TC};function kC(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Io.initial(n),Io.handler(r);var i={current:n},o=ri(LC)(i,r),c=ri(zC)(i),f=ri(Io.changes)(n),h=ri(RC)(i);function m(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return Io.selector(p),p(i.current)}function g(p){EC(o,c,f,h)(p)}return[m,g]}function RC(n,r){return pi(r)?r(n.current):r}function zC(n,r){return n.current=Kg(Kg({},n.current),r),r}function LC(n,r,i){return pi(r)?r(n.current):Object.keys(i).forEach(function(o){var c;return(c=r[o])===null||c===void 0?void 0:c.call(r,n.current[o])}),i}var VC={create:kC},BC={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function HC(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function UC(n){return{}.toString.call(n).includes("Object")}function YC(n){return n||Fg("configIsRequired"),UC(n)||Fg("configType"),n.urls?(IC(),{paths:{vs:n.urls.monacoBase}}):n}function IC(){console.warn(e0.deprecation)}function qC(n,r){throw new Error(n[r]||n.default)}var e0={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Fg=HC(qC)(e0),XC={config:YC},GC=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(c){return i.reduceRight(function(f,h){return h(f)},c)}};function t0(n,r){return Object.keys(r).forEach(function(i){r[i]instanceof Object&&n[i]&&Object.assign(r[i],t0(n[i],r[i]))}),Zg(Zg({},n),r)}var $C={type:"cancelation",msg:"operation is manually canceled"};function Ku(n){var r=!1,i=new Promise(function(o,c){n.then(function(f){return r?c($C):o(f)}),n.catch(c)});return i.cancel=function(){return r=!0},i}var WC=["monaco"],ZC=VC.create({config:BC,isInitialized:!1,resolve:null,reject:null,monaco:null}),n0=bC(ZC,2),wi=n0[0],ys=n0[1];function QC(n){var r=XC.config(n),i=r.monaco,o=xC(r,WC);ys(function(c){return{config:t0(c.config,o),monaco:i}})}function KC(){var n=wi(function(r){var i=r.monaco,o=r.isInitialized,c=r.resolve;return{monaco:i,isInitialized:o,resolve:c}});if(!n.isInitialized){if(ys({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Ku(Fu);if(window.monaco&&window.monaco.editor)return l0(window.monaco),n.resolve(window.monaco),Ku(Fu);GC(FC,PC)(eA)}return Ku(Fu)}function FC(n){return document.body.appendChild(n)}function JC(n){var r=document.createElement("script");return n&&(r.src=n),r}function PC(n){var r=wi(function(o){var c=o.config,f=o.reject;return{config:c,reject:f}}),i=JC("".concat(r.config.paths.vs,"/loader.js"));return i.onload=function(){return n()},i.onerror=r.reject,i}function eA(){var n=wi(function(i){var o=i.config,c=i.resolve,f=i.reject;return{config:o,resolve:c,reject:f}}),r=window.require;r.config(n.config),r(["vs/editor/editor.main"],function(i){var o=i.m||i;l0(o),n.resolve(o)},function(i){n.reject(i)})}function l0(n){wi().monaco||ys({monaco:n})}function tA(){return wi(function(n){var r=n.monaco;return r})}var Fu=new Promise(function(n,r){return ys({resolve:n,reject:r})}),a0={config:QC,init:KC,__getMonacoInstance:tA},nA={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Ju=nA,lA={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},aA=lA;function rA({children:n}){return bn.createElement("div",{style:aA.container},n)}var iA=rA,oA=iA;function sA({width:n,height:r,isEditorReady:i,loading:o,_ref:c,className:f,wrapperProps:h}){return bn.createElement("section",{style:{...Ju.wrapper,width:n,height:r},...h},!i&&bn.createElement(oA,null,o),bn.createElement("div",{ref:c,style:{...Ju.fullWidth,...!i&&Ju.hide},className:f}))}var cA=sA,r0=z.memo(cA);function uA(n){z.useEffect(n,[])}var i0=uA;function fA(n,r,i=!0){let o=z.useRef(!0);z.useEffect(o.current||!i?()=>{o.current=!1}:n,r)}var Kt=fA;function oi(){}function Ka(n,r,i,o){return dA(n,o)||hA(n,r,i,o)}function dA(n,r){return n.editor.getModel(o0(n,r))}function hA(n,r,i,o){return n.editor.createModel(r,i,o?o0(n,o):void 0)}function o0(n,r){return n.Uri.parse(r)}function mA({original:n,modified:r,language:i,originalLanguage:o,modifiedLanguage:c,originalModelPath:f,modifiedModelPath:h,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:g=!1,theme:p="light",loading:y="Loading...",options:b={},height:N="100%",width:E="100%",className:w,wrapperProps:v={},beforeMount:j=oi,onMount:_=oi}){let[O,G]=z.useState(!1),[I,R]=z.useState(!0),W=z.useRef(null),U=z.useRef(null),Y=z.useRef(null),ee=z.useRef(_),ie=z.useRef(j),ce=z.useRef(!1);i0(()=>{let ne=a0.init();return ne.then(A=>(U.current=A)&&R(!1)).catch(A=>A?.type!=="cancelation"&&console.error("Monaco initialization: error:",A)),()=>W.current?Q():ne.cancel()}),Kt(()=>{if(W.current&&U.current){let ne=W.current.getOriginalEditor(),A=Ka(U.current,n||"",o||i||"text",f||"");A!==ne.getModel()&&ne.setModel(A)}},[f],O),Kt(()=>{if(W.current&&U.current){let ne=W.current.getModifiedEditor(),A=Ka(U.current,r||"",c||i||"text",h||"");A!==ne.getModel()&&ne.setModel(A)}},[h],O),Kt(()=>{let ne=W.current.getModifiedEditor();ne.getOption(U.current.editor.EditorOption.readOnly)?ne.setValue(r||""):r!==ne.getValue()&&(ne.executeEdits("",[{range:ne.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),ne.pushUndoStop())},[r],O),Kt(()=>{W.current?.getModel()?.original.setValue(n||"")},[n],O),Kt(()=>{let{original:ne,modified:A}=W.current.getModel();U.current.editor.setModelLanguage(ne,o||i||"text"),U.current.editor.setModelLanguage(A,c||i||"text")},[i,o,c],O),Kt(()=>{U.current?.editor.setTheme(p)},[p],O),Kt(()=>{W.current?.updateOptions(b)},[b],O);let ue=z.useCallback(()=>{if(!U.current)return;ie.current(U.current);let ne=Ka(U.current,n||"",o||i||"text",f||""),A=Ka(U.current,r||"",c||i||"text",h||"");W.current?.setModel({original:ne,modified:A})},[i,r,c,n,o,f,h]),se=z.useCallback(()=>{!ce.current&&Y.current&&(W.current=U.current.editor.createDiffEditor(Y.current,{automaticLayout:!0,...b}),ue(),U.current?.editor.setTheme(p),G(!0),ce.current=!0)},[b,p,ue]);z.useEffect(()=>{O&&ee.current(W.current,U.current)},[O]),z.useEffect(()=>{!I&&!O&&se()},[I,O,se]);function Q(){let ne=W.current?.getModel();m||ne?.original?.dispose(),g||ne?.modified?.dispose(),W.current?.dispose()}return bn.createElement(r0,{width:E,height:N,isEditorReady:O,loading:y,_ref:Y,className:w,wrapperProps:v})}var pA=mA;z.memo(pA);function gA(n){let r=z.useRef();return z.useEffect(()=>{r.current=n},[n]),r.current}var xA=gA,qo=new Map;function yA({defaultValue:n,defaultLanguage:r,defaultPath:i,value:o,language:c,path:f,theme:h="light",line:m,loading:g="Loading...",options:p={},overrideServices:y={},saveViewState:b=!0,keepCurrentModel:N=!1,width:E="100%",height:w="100%",className:v,wrapperProps:j={},beforeMount:_=oi,onMount:O=oi,onChange:G,onValidate:I=oi}){let[R,W]=z.useState(!1),[U,Y]=z.useState(!0),ee=z.useRef(null),ie=z.useRef(null),ce=z.useRef(null),ue=z.useRef(O),se=z.useRef(_),Q=z.useRef(),ne=z.useRef(o),A=xA(f),k=z.useRef(!1),H=z.useRef(!1);i0(()=>{let C=a0.init();return C.then(V=>(ee.current=V)&&Y(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>ie.current?F():C.cancel()}),Kt(()=>{let C=Ka(ee.current,n||o||"",r||c||"",f||i||"");C!==ie.current?.getModel()&&(b&&qo.set(A,ie.current?.saveViewState()),ie.current?.setModel(C),b&&ie.current?.restoreViewState(qo.get(f)))},[f],R),Kt(()=>{ie.current?.updateOptions(p)},[p],R),Kt(()=>{!ie.current||o===void 0||(ie.current.getOption(ee.current.editor.EditorOption.readOnly)?ie.current.setValue(o):o!==ie.current.getValue()&&(H.current=!0,ie.current.executeEdits("",[{range:ie.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),ie.current.pushUndoStop(),H.current=!1))},[o],R),Kt(()=>{let C=ie.current?.getModel();C&&c&&ee.current?.editor.setModelLanguage(C,c)},[c],R),Kt(()=>{m!==void 0&&ie.current?.revealLine(m)},[m],R),Kt(()=>{ee.current?.editor.setTheme(h)},[h],R);let le=z.useCallback(()=>{if(!(!ce.current||!ee.current)&&!k.current){se.current(ee.current);let C=f||i,V=Ka(ee.current,o||n||"",r||c||"",C||"");ie.current=ee.current?.editor.create(ce.current,{model:V,automaticLayout:!0,...p},y),b&&ie.current.restoreViewState(qo.get(C)),ee.current.editor.setTheme(h),m!==void 0&&ie.current.revealLine(m),W(!0),k.current=!0}},[n,r,i,o,c,f,p,y,b,h,m]);z.useEffect(()=>{R&&ue.current(ie.current,ee.current)},[R]),z.useEffect(()=>{!U&&!R&&le()},[U,R,le]),ne.current=o,z.useEffect(()=>{R&&G&&(Q.current?.dispose(),Q.current=ie.current?.onDidChangeModelContent(C=>{H.current||G(ie.current.getValue(),C)}))},[R,G]),z.useEffect(()=>{if(R){let C=ee.current.editor.onDidChangeMarkers(V=>{let J=ie.current.getModel()?.uri;if(J&&V.find(ae=>ae.path===J.path)){let ae=ee.current.editor.getModelMarkers({resource:J});I?.(ae)}});return()=>{C?.dispose()}}return()=>{}},[R,I]);function F(){Q.current?.dispose(),N?b&&qo.set(f,ie.current.saveViewState()):ie.current.getModel()?.dispose(),ie.current.dispose()}return bn.createElement(r0,{width:E,height:w,isEditorReady:R,loading:g,_ref:ce,className:v,wrapperProps:j})}var bA=yA,vA=z.memo(bA),wA=vA;const s0=M("flex flex-col h-full"),c0=M("flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-surface-2"),u0=M("text-sm font-medium text-text-secondary"),SA=M("text-xs text-accent-blue animate-pulse"),f0=M("flex-1 overflow-hidden"),NA=z.lazy(()=>dC(()=>import("./LiteEditor-CCltigUu.js"),[]).then(n=>({default:n.LiteEditor})));function EA(){return d.jsxs("div",{className:L(s0()),children:[d.jsx("div",{className:c0(),children:d.jsx("span",{className:u0(),children:"Editor"})}),d.jsx("div",{className:L(f0(),"flex items-center justify-center"),children:d.jsx("span",{className:"text-text-muted text-sm",children:"Loading editor..."})})]})}function jA({className:n,lite:r=!1}){const{source:i,setSource:o,isParsing:c}=at(),{theme:f}=Xx();if(r)return d.jsx(z.Suspense,{fallback:d.jsx(EA,{}),children:d.jsx(NA,{className:n,value:i,onChange:o,isParsing:c})});const h=z.useRef(null),m=z.useRef(null);z.useEffect(()=>{const p=y=>{const b=h.current;if(b){const N=y.detail.line;b.revealLineInCenter(N),b.setPosition({lineNumber:N,column:1}),b.focus(),b.deltaDecorations([],[{range:{startLineNumber:N,startColumn:1,endLineNumber:N,endColumn:1},options:{isWholeLine:!0,className:"highlighted-line",glyphMarginClassName:"highlighted-glyph"}}])}};return window.addEventListener("lexflow:goto-line",p),()=>{window.removeEventListener("lexflow:goto-line",p)}},[]),z.useEffect(()=>{if(m.current&&h.current){const p=m.current,y=f==="light"?"lexflow-light":"lexflow-dark";p.editor.setTheme(y)}},[f]);const g=(p,y)=>{h.current=p,m.current=y,y.editor.defineTheme("lexflow-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1e1e1e","editor.lineHighlightBackground":"#2d2d2d"}}),y.editor.defineTheme("lexflow-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#fafafa","editor.lineHighlightBackground":"#f0f0f0"}});const b=f==="light"?"lexflow-light":"lexflow-dark";y.editor.setTheme(b)};return d.jsxs("div",{className:L(s0(),n),children:[d.jsxs("div",{className:c0(),children:[d.jsx("span",{className:u0(),children:"Editor"}),c&&d.jsx("span",{className:SA(),children:"Parsing..."})]}),d.jsx("div",{className:f0(),children:d.jsx(wA,{height:"100%",language:"yaml",theme:f==="light"?"lexflow-light":"lexflow-dark",value:i,onChange:p=>o(p||""),onMount:g,options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0}})})]})}const CA=M("absolute inset-0 flex items-center justify-center bg-black/60 z-[100] backdrop-blur-sm"),AA=M("bg-surface-1 border border-border-default rounded-sm p-6 min-w-[300px] max-w-[400px] shadow-xl"),Pu=M("block text-sm text-text-primary mb-4 leading-relaxed"),_A=M("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 transition-colors focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue/20"),OA=M("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 cursor-pointer transition-colors focus:outline-none focus:border-accent-blue"),ef=M("flex gap-3 justify-end"),tf=M("px-5 py-2.5 bg-accent-blue border-none rounded-sm text-surface-0 font-medium text-sm cursor-pointer transition-all hover:brightness-110 focus:outline-none focus:ring-1 focus:ring-accent-blue/30"),TA=M("px-5 py-2.5 bg-transparent border border-border-default rounded-sm text-text-secondary font-medium text-sm cursor-pointer transition-colors hover:bg-surface-2 hover:text-text-primary"),MA=M("flex justify-center"),DA=M("px-8 py-3 bg-accent-blue border-none rounded-sm text-white font-semibold text-base cursor-pointer transition-all shadow-lg hover:brightness-110 hover:-translate-y-px focus:outline-none focus:ring-1 focus:ring-accent-blue/30");function kA({prompt:n,onSubmit:r}){const[i,o]=z.useState(""),[c,f]=z.useState(n.options?.[0]||""),h=z.useRef(null);z.useEffect(()=>{n.type==="input"&&h.current&&h.current.focus()},[n.type]),z.useEffect(()=>{o(""),n.options?.length&&f(n.options[0])},[n]);const m=b=>{b.preventDefault(),r(i)},g=b=>{b.preventDefault(),r(c)},p=b=>{r(b)},y=b=>{b.key==="Escape"&&n.type==="confirm"&&r(!1)};return d.jsx("div",{className:L(CA()),onKeyDown:y,role:"presentation",children:d.jsxs("div",{className:L(AA()),role:"dialog","aria-modal":"true","aria-labelledby":"prompt-label",children:[n.type==="input"&&d.jsxs("form",{onSubmit:m,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-input",className:L(Pu()),children:n.prompt||"Enter a value:"}),d.jsx("input",{ref:h,id:"prompt-input",type:"text",value:i,onChange:b=>o(b.target.value),className:L(_A()),placeholder:"Type here..."}),d.jsx("div",{className:L(ef()),children:d.jsx("button",{type:"submit",className:L(tf()),children:"Submit"})})]}),n.type==="select"&&d.jsxs("form",{onSubmit:g,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-select",className:L(Pu()),children:n.prompt||"Select an option:"}),d.jsx("select",{id:"prompt-select",value:c,onChange:b=>f(b.target.value),className:L(OA()),children:n.options?.map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx("div",{className:L(ef()),children:d.jsx("button",{type:"submit",className:L(tf()),children:"Select"})})]}),n.type==="confirm"&&d.jsxs("div",{children:[d.jsx("p",{id:"prompt-label",className:L(Pu()),children:n.message||n.prompt||"Are you sure?"}),d.jsxs("div",{className:L(ef()),children:[d.jsx("button",{className:L(TA()),onClick:()=>p(!1),children:"No"}),d.jsx("button",{className:L(tf()),onClick:()=>p(!0),autoFocus:!0,children:"Yes"})]})]}),n.type==="button"&&d.jsx("div",{className:L(MA()),children:d.jsx("button",{id:"prompt-label",className:L(DA()),onClick:()=>r(!0),autoFocus:!0,children:n.label||"Click"})})]})})}const RA=M("flex flex-col relative min-h-[100px] max-h-[600px]"),zA=M("absolute top-0 left-0 right-0 h-1.5 cursor-ns-resize bg-transparent z-10 transition-colors hover:bg-accent-blue/50",{variants:{isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{isResizing:!1}}),LA=M("flex items-center justify-between px-3 py-1.5 border-b border-border-subtle bg-surface-1"),VA=M("flex items-center gap-2"),BA=M("text-sm font-medium text-text-secondary"),HA=M("w-1.5 h-1.5 rounded-full",{variants:{status:{idle:"bg-text-muted",running:"bg-accent-green animate-pulse",error:"bg-accent-red"}},defaultVariants:{status:"idle"}}),UA=M("flex items-center gap-1"),Jg=M("w-px h-5 bg-border-subtle mx-1"),Pg=M("h-7 px-2.5 bg-transparent border border-border-subtle rounded-sm text-text-muted text-xs font-medium cursor-pointer transition-colors hover:text-text-primary hover:border-text-muted",{variants:{active:{true:"bg-surface-3 text-text-primary border-border-default",false:""}},defaultVariants:{active:!1}}),YA=M("h-7 px-3 flex items-center gap-1.5 bg-accent-green border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110 disabled:opacity-60 disabled:cursor-not-allowed"),IA=M("h-7 px-3 flex items-center gap-1.5 bg-accent-red border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110"),ex=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),qA=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),XA=M("flex items-center gap-3 px-4 py-2 border-b border-border-subtle shrink-0"),GA=M("text-xs text-text-muted"),$A=M("flex items-center gap-1.5"),WA=M("text-xs text-text-secondary"),ZA=M("px-2.5 py-1.5 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm w-30 focus:outline-none focus:border-accent-blue"),QA=M("flex items-center gap-2.5 px-4 py-2 border-b border-border-subtle shrink-0"),KA=M("flex-1 h-1.5 bg-surface-3 rounded-none overflow-hidden"),FA=M("h-full bg-accent-blue transition-[width] duration-200"),JA=M("text-xs text-text-muted whitespace-nowrap"),PA=M("flex-1 flex overflow-hidden"),tx=M("flex-1 flex flex-col overflow-hidden min-w-[200px]"),nx=M("flex items-center px-4 py-1.5 bg-surface-2 border-b border-border-subtle text-xs font-medium text-text-muted uppercase tracking-wide"),lx=M("flex-1 p-4 overflow-auto"),e_=M("w-px bg-border-subtle cursor-col-resize shrink-0 hover:bg-accent-blue"),t_=M("flex-1 flex items-center justify-center text-text-muted text-sm"),ax=M("text-text-muted text-sm italic"),n_=M("font-mono text-sm text-text-secondary whitespace-pre-wrap break-words"),l_=M("text-accent-red text-sm"),a_=M("flex gap-2 mt-2 pt-2 border-t border-border-subtle"),r_=M("text-xs text-text-muted"),i_=M("font-mono text-sm text-accent-green"),o_=M("text-accent-blue animate-blink"),s_=M("absolute bottom-3 right-3 flex flex-col gap-2 max-w-[300px] z-50"),c_=M("flex items-center justify-between gap-3 px-4 py-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-primary shadow-lg animate-slide-in-right",{variants:{variant:{info:"border-l-[3px] border-l-accent-blue",success:"border-l-[3px] border-l-accent-green",warning:"border-l-[3px] border-l-accent-amber",error:"border-l-[3px] border-l-accent-red"}},defaultVariants:{variant:"info"}}),u_=M("bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary"),f_=M("p-3 bg-surface-2 rounded-sm text-sm text-text-primary"),d_=M("p-2 text-sm text-text-primary [&_h1]:text-xl [&_h1]:mb-2 [&_h2]:text-lg [&_h2]:mb-1.5 [&_h3]:text-base [&_h3]:mb-1 [&_p]:mb-2 [&_p]:leading-relaxed [&_code]:bg-surface-3 [&_code]:px-1 [&_code]:rounded [&_code]:font-mono [&_code]:text-[0.85em] [&_strong]:text-text-primary"),h_=M("overflow-x-auto"),m_=M("w-full border-collapse text-sm"),p_=M("px-3 py-2 text-left border-b border-border-subtle bg-surface-2 text-text-secondary font-medium"),g_=M("px-3 py-2 text-left border-b border-border-subtle text-text-primary"),x_=M("max-w-full"),y_=M("max-w-full h-auto rounded-sm"),b_=100,v_=600,w_=250;function S_({className:n}){const{source:r,tree:i}=at(),{isExecuting:o,executionOutput:c,executionResult:f,executionError:h,workflowInputs:m,pendingPrompt:g,renderedContent:p,alerts:y,progress:b,removeAlert:N}=si(),{toggleExecutionPanel:E}=_e(),{execute:w,cancel:v,respondToPrompt:j}=SE(),_=z.useRef(null),O=z.useRef(null),[G,I]=z.useState(w_),[R,W]=z.useState(!1),[U,Y]=z.useState(!0),[ee,ie]=z.useState(!0);z.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[c]),z.useEffect(()=>{if(y.length>0){const ne=setTimeout(()=>{N(y[0].id)},5e3);return()=>clearTimeout(ne)}},[y,N]);const ce=z.useCallback(ne=>{ne.preventDefault(),W(!0)},[]);z.useEffect(()=>{if(!R)return;const ne=k=>{if(!O.current)return;const H=O.current.parentElement;if(!H)return;const F=H.getBoundingClientRect().bottom-k.clientY;I(Math.min(v_,Math.max(b_,F)))},A=()=>{W(!1)};return document.addEventListener("mousemove",ne),document.addEventListener("mouseup",A),()=>{document.removeEventListener("mousemove",ne),document.removeEventListener("mouseup",A)}},[R]);const ue=()=>{w(r,m)},se=()=>{v()},Q=i?.interface?.inputs||[];return d.jsxs("div",{ref:O,className:L(RA(),n),style:{height:`${G}px`},children:[d.jsx("div",{className:zA({isResizing:R}),onMouseDown:ce}),d.jsxs("div",{className:LA(),children:[d.jsxs("div",{className:VA(),children:[d.jsx("span",{className:BA(),children:"Execution"}),d.jsx("span",{className:HA({status:o?"running":h?"error":"idle"})})]}),d.jsxs("div",{className:UA(),children:[d.jsx("button",{className:Pg({active:U}),onClick:()=>Y(!U),title:"Toggle Preview",children:"Preview"}),d.jsx("button",{className:Pg({active:ee}),onClick:()=>ie(!ee),title:"Toggle Console",children:"Console"}),d.jsx("div",{className:Jg()}),o?d.jsxs("button",{className:IA(),onClick:se,children:[d.jsx(Yw,{}),"Stop"]}):d.jsxs("button",{className:YA(),onClick:ue,children:[d.jsx(Uw,{}),"Run"]}),d.jsx("button",{className:ex(),title:"Step forward (coming soon)",disabled:!0,children:d.jsx(Iw,{})}),d.jsx("button",{className:ex(),onClick:()=>si.getState().clearExecution(),title:"Clear output",children:d.jsx(qw,{})}),d.jsx("div",{className:Jg()}),d.jsx("button",{className:qA(),onClick:E,title:"Close panel",children:d.jsx(Xw,{})})]})]}),Q.length>0&&d.jsxs("div",{className:XA(),children:[d.jsx("span",{className:GA(),children:"Inputs:"}),Q.map(ne=>d.jsx(N_,{name:ne},ne))]}),b&&d.jsxs("div",{className:QA(),children:[d.jsx("div",{className:KA(),children:d.jsx("div",{className:FA(),style:{width:`${b.value/b.max*100}%`}})}),b.label&&d.jsx("span",{className:JA(),children:b.label})]}),d.jsxs("div",{className:PA(),children:[U&&d.jsxs("div",{className:tx(),children:[d.jsx("div",{className:nx(),children:d.jsx("span",{children:"Preview"})}),d.jsx("div",{className:lx(),children:p.length>0?p.map((ne,A)=>d.jsx(E_,{item:ne},A)):d.jsx("div",{className:ax(),children:"No preview content"})})]}),U&&ee&&d.jsx("div",{className:e_()}),ee&&d.jsxs("div",{className:tx(),children:[d.jsx("div",{className:nx(),children:d.jsx("span",{children:"Console"})}),d.jsx("div",{className:lx(),children:h?d.jsx("div",{className:l_(),children:h}):d.jsxs(d.Fragment,{children:[c&&d.jsxs("pre",{ref:_,className:n_(),children:[c,o&&d.jsx("span",{className:o_(),children:"|"})]}),f!==null&&!o&&d.jsxs("div",{className:a_(),children:[d.jsx("span",{className:r_(),children:"Result:"}),d.jsx("code",{className:i_(),children:JSON.stringify(f,null,2)})]}),!c&&!f&&!o&&d.jsx("div",{className:ax(),children:'Click "Run" to execute the workflow'})]})})]}),!U&&!ee&&d.jsx("div",{className:t_(),children:"Toggle Preview or Console to view execution output"})]}),y.length>0&&d.jsx("div",{className:s_(),children:y.map(ne=>d.jsx(C_,{alert:ne,onDismiss:()=>N(ne.id)},ne.id))}),g&&d.jsx(kA,{prompt:g,onSubmit:j})]})}function N_({name:n}){const{workflowInputs:r,setWorkflowInput:i}=si(),o=r[n]??"";return d.jsxs("div",{className:$A(),children:[d.jsxs("label",{className:WA(),children:[n,":"]}),d.jsx("input",{type:"text",value:String(o),onChange:c=>{const f=c.target.value;try{i(n,JSON.parse(f))}catch{i(n,f)}},placeholder:`Enter ${n}`,className:ZA()})]})}function E_({item:n}){switch(n.type){case"html":return d.jsx("div",{className:f_(),dangerouslySetInnerHTML:{__html:n.content}});case"markdown":return d.jsx("div",{className:d_(),children:d.jsx(j_,{content:n.content})});case"table":const r=n.content;if(!r.length)return null;const i=Object.keys(r[0]);return d.jsx("div",{className:h_(),children:d.jsxs("table",{className:m_(),children:[d.jsx("thead",{children:d.jsx("tr",{children:i.map(c=>d.jsx("th",{className:p_(),children:c},c))})}),d.jsx("tbody",{children:r.map((c,f)=>d.jsx("tr",{className:"hover:bg-surface-2",children:i.map(h=>d.jsx("td",{className:g_(),children:String(c[h]??"")},h))},f))})]})});case"image":const o=n.content;return d.jsx("div",{className:x_(),children:d.jsx("img",{src:o.src,alt:o.alt,className:y_()})});default:return null}}function j_({content:n}){const r=n.split(`
`),i=[];for(let o=0;o<r.length;o++){const c=r[o];if(c.startsWith("### "))i.push(d.jsx("h3",{children:c.slice(4)},o));else if(c.startsWith("## "))i.push(d.jsx("h2",{children:c.slice(3)},o));else if(c.startsWith("# "))i.push(d.jsx("h1",{children:c.slice(2)},o));else if(c.trim()){const f=c.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,"<code>$1</code>");i.push(d.jsx("p",{dangerouslySetInnerHTML:{__html:f}},o))}else i.push(d.jsx("br",{},o))}return d.jsx(d.Fragment,{children:i})}function C_({alert:n,onDismiss:r}){return d.jsxs("div",{className:c_({variant:n.variant}),children:[d.jsx("span",{children:n.message}),d.jsx("button",{className:u_(),onClick:r,children:""})]})}const gi=M("flex flex-col h-full bg-surface-1"),xi=M("flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-surface-2"),yi=M("text-sm font-semibold text-text-primary"),bi=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-3"),Hf=M("flex-1 overflow-y-auto p-4"),A_=M("flex items-center gap-1.5 px-3 py-2 mb-4 bg-surface-2 border border-border-subtle rounded-sm text-accent-blue text-sm cursor-pointer transition-colors w-full hover:bg-surface-3 hover:border-accent-blue"),d0=M("flex items-center justify-center h-full text-text-muted"),Uf=M("flex gap-3 mb-5 p-3 bg-surface-2 rounded-sm"),Yf=M("w-1 rounded-sm shrink-0"),If=M("flex-1"),qf=M("text-[0.7rem] uppercase tracking-wide text-text-muted"),Xf=M("text-base font-semibold text-text-primary my-1"),h0=M("text-xs text-text-muted font-mono bg-transparent border-none cursor-pointer px-1 py-0.5 -mx-1 rounded-sm transition-colors hover:bg-border-subtle hover:text-text-primary"),m0=M("text-sm text-text-secondary leading-relaxed p-3 bg-surface-2 rounded-sm mb-4"),Gf=M("mb-3"),$f=M("block text-xs font-medium text-text-secondary mb-1 uppercase tracking-wide"),__=M("text-[0.65rem] text-text-muted ml-1.5 px-1.5 py-0.5 bg-border-subtle rounded-sm"),Fa=M("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm font-mono focus:outline-none focus:border-accent-blue read-only:opacity-70 read-only:cursor-not-allowed"),p0=M("flex gap-2 px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-sm",{variants:{editable:{true:"cursor-pointer transition-colors hover:border-accent-blue hover:bg-surface-2",false:""}},defaultVariants:{editable:!1}}),O_=M("px-1.5 py-0.5 bg-border-subtle rounded-sm text-[0.7rem] text-text-muted font-medium shrink-0"),g0=M("text-text-primary font-mono overflow-hidden text-ellipsis whitespace-nowrap"),T_=M("text-[0.65rem] text-text-muted ml-auto opacity-0 transition-opacity group-hover:opacity-100"),gf=M("w-full px-3 py-2 bg-surface-3 border-2 border-accent-blue rounded-sm text-text-primary text-sm font-mono focus:outline-none"),Ft=M("mt-5"),mn=M("text-xs font-semibold text-text-secondary mb-2.5 uppercase tracking-wide"),Al=M("text-text-muted italic text-sm"),M_=M("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),D_=M("font-medium text-text-primary text-sm"),k_=M("text-text-muted text-xs flex-1"),xf=M("w-5 h-5 flex items-center justify-center bg-transparent border border-accent-red rounded-sm text-accent-red cursor-pointer text-sm font-bold opacity-60 transition-opacity hover:opacity-100 hover:bg-accent-red/10"),yf=M("w-full px-3 py-2 mt-2 bg-transparent border border-dashed border-border-subtle rounded-sm text-text-secondary text-sm cursor-pointer transition-colors hover:border-accent-blue hover:text-accent-blue hover:bg-accent-blue/5"),x0=M("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),y0=M("flex-1 font-medium text-text-primary text-sm font-mono"),b0=M("flex flex-wrap gap-1.5"),v0=M("flex items-center gap-1 px-2 py-1 bg-surface-2 rounded-sm text-xs"),w0=M("text-text-primary font-medium"),S0=M("text-text-muted"),N0=M("text-text-muted text-[0.7rem]"),E0=M("flex gap-2 px-4 py-3 border-t border-border-subtle"),wl=M("flex-1 px-4 py-2 bg-surface-2 border border-border-subtle rounded-sm text-text-primary text-sm cursor-pointer transition-colors hover:bg-surface-3 hover:border-accent-blue disabled:opacity-50 disabled:cursor-not-allowed"),j0=M("flex-1 px-4 py-2 bg-transparent border border-accent-red rounded-sm text-accent-red text-sm cursor-pointer transition-colors hover:bg-accent-red/10 disabled:opacity-50 disabled:cursor-not-allowed"),C0=M("w-full px-4 py-2 text-sm bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10");function R_({workflowName:n,onClose:r}){const{tree:i,addVariable:o,updateVariable:c,deleteVariable:f,updateWorkflowInterface:h,deleteWorkflow:m}=at(),{selectStartNode:g}=$n(),p=i?.workflows.find(F=>F.name===n),[y,b]=z.useState(""),[N,E]=z.useState(""),[w,v]=z.useState(null),[j,_]=z.useState(""),[O,G]=z.useState(""),[I,R]=z.useState(""),[W,U]=z.useState("");if(!p)return d.jsxs("div",{className:gi(),children:[d.jsxs("div",{className:xi(),children:[d.jsx("span",{className:yi(),children:"Start Node"}),d.jsx("button",{className:bi(),onClick:r,children:""})]}),d.jsx("div",{className:d0(),children:d.jsx("p",{children:"Workflow not found"})})]});const Y=()=>{g(null),r()},ee=()=>{if(!y.trim())return;const F=ix(N);o(n,y.trim(),F)&&(b(""),E(""))},ie=(F,C)=>{v(F),_(F),G(rx(C))},ce=()=>{if(!w||!j.trim())return;const F=ix(O);c(n,w,j.trim(),F)&&(v(null),_(""),G(""))},ue=()=>{v(null),_(""),G("")},se=F=>{_e.getState().showConfirmDialog({title:"Delete Variable",message:`Delete variable "$${F}"?`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>f(n,F)})},Q=()=>{_e.getState().showConfirmDialog({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${n}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{m(n),Y()}})},ne=()=>{if(!I.trim())return;const F=[...p.interface.inputs,I.trim()];h(n,F,p.interface.outputs)&&R("")},A=F=>{const C=p.interface.inputs.filter(V=>V!==F);h(n,C,p.interface.outputs)},k=()=>{if(!W.trim())return;const F=[...p.interface.outputs,W.trim()];h(n,p.interface.inputs,F)&&U("")},H=F=>{const C=p.interface.outputs.filter(V=>V!==F);h(n,p.interface.inputs,C)},le=Object.entries(p.variables);return d.jsxs("div",{className:gi(),children:[d.jsxs("div",{className:xi(),children:[d.jsx("span",{className:yi(),children:"Start Node"}),d.jsx("button",{className:bi(),onClick:Y,children:""})]}),d.jsxs("div",{className:Hf(),children:[d.jsxs("div",{className:Uf(),children:[d.jsx("div",{className:Yf(),style:{backgroundColor:"#22C55E"}}),d.jsxs("div",{className:If(),children:[d.jsx("span",{className:qf(),children:"Workflow"}),d.jsx("h3",{className:Xf(),children:n})]})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Interface Inputs"}),p.interface.inputs.length===0?d.jsx("p",{className:Al(),children:"No inputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.inputs.map(F=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-blue",children:[F,d.jsx("button",{onClick:()=>A(F),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove input",children:""})]},F))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:L(Fa(),"flex-1"),placeholder:"New input name",value:I,onChange:F=>R(F.target.value),onKeyDown:F=>F.key==="Enter"&&ne()}),d.jsx("button",{className:L(wl(),"flex-none w-auto"),onClick:ne,children:"Add"})]})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Interface Outputs"}),p.interface.outputs.length===0?d.jsx("p",{className:Al(),children:"No outputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.outputs.map(F=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-violet",children:[F,d.jsx("button",{onClick:()=>H(F),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove output",children:""})]},F))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:L(Fa(),"flex-1"),placeholder:"New output name",value:W,onChange:F=>U(F.target.value),onKeyDown:F=>F.key==="Enter"&&k()}),d.jsx("button",{className:L(wl(),"flex-none w-auto"),onClick:k,children:"Add"})]})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Variables"}),le.length===0?d.jsx("p",{className:Al(),children:"No variables defined"}):d.jsx("div",{className:"mb-2.5",children:le.map(([F,C])=>d.jsx("div",{className:"mb-2",children:w===F?d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("input",{type:"text",className:gf(),placeholder:"Variable name",value:j,onChange:V=>_(V.target.value)}),d.jsx("input",{type:"text",className:gf(),placeholder:"Default value",value:O,onChange:V=>G(V.target.value),onKeyDown:V=>V.key==="Enter"&&ce()}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("button",{className:L(wl(),"flex-1"),onClick:ce,children:"Save"}),d.jsx("button",{className:L(wl(),"flex-1"),onClick:ue,children:"Cancel"})]})]}):d.jsxs("div",{className:L(p0({editable:!0}),"cursor-pointer"),onClick:()=>ie(F,C),children:[d.jsxs("span",{className:"text-accent-green font-mono font-medium",children:["$",F]}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("span",{className:g0(),children:rx(C)}),d.jsx("button",{onClick:V=>{V.stopPropagation(),se(F)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Delete variable",children:""})]})},F))}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:L(Fa(),"flex-1"),placeholder:"Variable name",value:y,onChange:F=>b(F.target.value)}),d.jsx("input",{type:"text",className:L(Fa(),"flex-1"),placeholder:"Default value",value:N,onChange:F=>E(F.target.value),onKeyDown:F=>F.key==="Enter"&&ee()})]}),d.jsx("button",{className:wl(),onClick:ee,children:"Add Variable"})]})]}),n!=="main"&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Danger Zone"}),d.jsx("button",{className:"w-full px-3 py-2 text-sm font-medium bg-accent-red/10 text-accent-red border border-accent-red/30 rounded hover:bg-accent-red/20 transition-colors",onClick:Q,children:"Delete Workflow"})]})]})]})}function rx(n){return n===null?"null":n===void 0?"":typeof n=="string"?n:JSON.stringify(n)}function ix(n){if(!n||n==="")return"";if(n==="null")return null;if(n==="true")return!0;if(n==="false")return!1;try{return JSON.parse(n)}catch{return n}}function z_({className:n}){const{tree:r,source:i,opcodes:o,deleteNode:c,duplicateNode:f,updateNodeInput:h,updateReporterInput:m,deleteReporter:g,addDynamicBranch:p,removeDynamicBranch:y,addDynamicInput:b,removeDynamicInput:N}=at(),{closeNodeEditor:E}=_e(),{selectedNodeId:w,selectedReporter:v,selectReporter:j,selectedStartNode:_,selectStartNode:O,clearSelection:G}=$n(),[I,R]=z.useState(!1);if(_)return d.jsx(R_,{workflowName:_,onClose:()=>{O(null),E()}});const W=w?El(w):null,U=W?U_(r,W):null,Y=v?o.find(re=>re.name===v.opcode):U?o.find(re=>re.name===U.opcode):null,ee=()=>{E(),G()},ie=()=>{W&&(navigator.clipboard.writeText(W),R(!0),setTimeout(()=>R(!1),2e3))},ce=()=>{if(v){const re=`${v.parentNodeId}.${v.inputPath.join(".")}`;navigator.clipboard.writeText(re),R(!0),setTimeout(()=>R(!1),2e3)}},ue=()=>{if(W){const re=i.split(`
`);for(let we=0;we<re.length;we++)if(re[we].includes(W+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:we+1}}));break}}},se=()=>{if(U?.opcode==="workflow_call"){const re=U.inputs.WORKFLOW;if(re&&re.type==="literal"){const we=re.value;we&&(window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:we}})),E())}}},Q=()=>{W&&W!=="start"&&_e.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${W}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{c(W),E()}})},ne=()=>{W&&W!=="start"&&f(W)},A=()=>{j(null)},k=(re,we)=>{if(v&&v.reporterNodeId&&m(v.reporterNodeId,re,we)){const Ve={...v.inputs};if(we.startsWith("$"))Ve[re]={type:"variable",name:we.slice(1)};else try{const rt=JSON.parse(we);Ve[re]={type:"literal",value:rt}}catch{Ve[re]={type:"literal",value:we}}j({...v,inputs:Ve})}},H=()=>{v&&_e.getState().showConfirmDialog({title:"Detach Reporter",message:"Detach this reporter from its slot? The slot will be set to null. This action can be undone with Ctrl+Z.",confirmLabel:"Detach",variant:"danger",onConfirm:()=>{g(v.parentNodeId,v.inputPath),j(null)}})},le=()=>{if(v){const re=i.split(`
`);if(v.reporterNodeId){for(let Ve=0;Ve<re.length;Ve++)if(re[Ve].match(new RegExp(`^\\s+${v.reporterNodeId}:\\s*$`))){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Ve+1}}));return}}const we=v.inputPath[v.inputPath.length-1];let qe=!1;for(let Ve=0;Ve<re.length;Ve++){const rt=re[Ve];if(rt.includes(v.parentNodeId+":")&&(qe=!0),qe&&rt.includes(we+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Ve+1}}));break}}}},F=re=>{W&&p(W,re)},C=re=>{W&&y(W,re)},V=re=>{W&&b(W,re)},J=re=>{W&&N(W,re)},ae=()=>{if(v&&v.opcode==="workflow_call"){const re=v.inputs.WORKFLOW;if(re&&re.type==="literal"&&typeof re.value=="string"){const we=re.value;window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:we}})),E()}}},xe=re=>{v?.reporterNodeId&&b(v.reporterNodeId,re)},me=re=>{v?.reporterNodeId&&N(v.reporterNodeId,re)};if(v)return d.jsx(L_,{reporter:v,parentNode:U,opcodeInfo:Y,tree:r,copied:I,onCopyPath:ce,onBackToNode:A,onClose:ee,onUpdateInput:k,onDetach:H,onFindInSource:le,onGoToDefinition:v.opcode==="workflow_call"?ae:void 0,onAddDynamicInput:v.reporterNodeId?xe:void 0,onRemoveDynamicInput:v.reporterNodeId?me:void 0,className:n});if(!U)return d.jsxs("div",{className:L(gi(),n),children:[d.jsxs("div",{className:xi(),children:[d.jsx("span",{className:yi(),children:"Node Editor"}),d.jsx("button",{className:bi(),onClick:ee,children:""})]}),d.jsx("div",{className:d0(),children:d.jsx("p",{children:"Select a node to edit"})})]});const ge=Ly(U.type),He=EE[U.type]||"Node";return d.jsxs("div",{className:L(gi(),n),children:[d.jsxs("div",{className:xi(),children:[d.jsx("span",{className:yi(),children:"Node Editor"}),d.jsx("button",{className:bi(),onClick:ee,children:""})]}),d.jsxs("div",{className:Hf(),children:[d.jsxs("div",{className:Uf(),children:[d.jsx("div",{className:Yf(),style:{backgroundColor:ge}}),d.jsxs("div",{className:If(),children:[d.jsx("span",{className:qf(),children:He}),d.jsx("h3",{className:Xf(),children:Wf(U.opcode)}),d.jsx("button",{className:h0(),onClick:ie,title:"Copy node ID",children:I?" Copied!":`ID: ${U.id}`})]})]}),Y?.description&&d.jsx("div",{className:m0(),children:Y.description}),d.jsxs("div",{className:Gf(),children:[d.jsx("label",{className:$f(),children:"Opcode"}),d.jsx("input",{type:"text",value:U.opcode,readOnly:!0,className:Fa()})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Inputs"}),Object.entries(U.inputs).length===0?d.jsx("p",{className:Al(),children:"No inputs"}):Object.entries(U.inputs).map(([re,we])=>d.jsx(A0,{name:ds(re,U.opcode,r,U.inputs),originalKey:re,value:we,paramInfo:Y?.parameters.find(qe=>qe.name.toUpperCase()===re),onUpdate:(qe,Ve)=>h(W,qe,Ve)},re))]}),U.opcode==="workflow_call"&&d.jsx("div",{className:Ft(),children:d.jsx("button",{className:C0(),onClick:se,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),Y&&Y.parameters.length>0&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Parameters"}),d.jsx("div",{className:b0(),children:Y.parameters.map(re=>d.jsxs("div",{className:v0(),children:[d.jsxs("span",{className:w0(),children:[re.name,!re.required&&d.jsx("span",{className:S0(),children:"?"})]}),d.jsx("span",{className:N0(),children:re.type})]},re.name))})]}),(()=>{const re=vi(U.opcode),we=re?.dynamic_branches,qe=re?.dynamic_inputs,Ve=re?.branches&&re.branches.length>0;let rt=null;if(we&&re?.branches)for(const Ae of re.branches){const yt=Ae.name.match(/^([A-Z]+)\d+$/);if(yt){rt=yt[1];break}}const _t=U.children.filter(Ae=>rt&&Ae.name.startsWith(rt)).map(Ae=>Ae.name),un=Object.keys(U.inputs).filter(Ae=>/^ARG\d+$/.test(Ae)).sort((Ae,yt)=>{const oe=parseInt(Ae.replace("ARG","")),Ne=parseInt(yt.replace("ARG",""));return oe-Ne}),Nn=U.children.length>0||we;return d.jsxs(d.Fragment,{children:[Nn&&Ve&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Branches"}),U.children.length===0&&we?d.jsx("p",{className:Al(),children:"No branches connected"}):U.children.map((Ae,yt)=>{const Ne=rt&&Ae.name.startsWith(rt)&&_t.length>1;return d.jsxs("div",{className:M_(),children:[d.jsx("span",{className:D_(),children:Ae.name}),d.jsxs("span",{className:k_(),children:[Ae.children.length," node(s)"]}),Ne&&d.jsx("button",{className:xf(),onClick:()=>C(Ae.name),title:`Remove ${Ae.name}`,children:""})]},yt)}),we&&rt&&d.jsxs("button",{className:yf(),onClick:()=>F(rt),children:["+ Add ",rt==="CATCH"?"Catch Handler":"Branch"]})]}),qe&&U.opcode==="workflow_call"&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Arguments"}),un.length===0?d.jsx("p",{className:Al(),children:"No arguments"}):un.map(Ae=>d.jsxs("div",{className:x0(),children:[d.jsx("span",{className:y0(),children:Ae}),d.jsx("button",{className:xf(),onClick:()=>J(Ae),title:`Remove ${Ae}`,children:""})]},Ae)),d.jsx("button",{className:yf(),onClick:()=>V("ARG"),children:"+ Add Argument"})]})]})})()]}),d.jsxs("div",{className:E0(),children:[d.jsx("button",{className:wl(),onClick:ue,children:"Find in Source"}),d.jsx("button",{className:wl(),onClick:ne,disabled:W==="start",title:W==="start"?"Cannot duplicate start node":"Duplicate node (Ctrl+D)",children:"Duplicate"}),d.jsx("button",{className:j0(),onClick:Q,disabled:W==="start",title:W==="start"?"Cannot delete start node":"Delete node (Del)",children:"Delete"})]})]})}function L_({reporter:n,parentNode:r,opcodeInfo:i,tree:o,copied:c,onCopyPath:f,onBackToNode:h,onClose:m,onUpdateInput:g,onDetach:p,onFindInSource:y,onGoToDefinition:b,onAddDynamicInput:N,onRemoveDynamicInput:E,className:w}){const v=B_(n.opcode),j=H_(n.opcode),_=n.opcode==="workflow_call",O=Object.keys(n.inputs).filter(R=>/^ARG\d+$/.test(R)).sort((R,W)=>{const U=parseInt(R.replace("ARG","")),Y=parseInt(W.replace("ARG",""));return U-Y}),I=vi(n.opcode)?.dynamic_inputs;return d.jsxs("div",{className:L(gi(),w),children:[d.jsxs("div",{className:xi(),children:[d.jsx("span",{className:yi(),children:"Node Editor"}),d.jsx("button",{className:bi(),onClick:m,children:""})]}),d.jsxs("div",{className:Hf(),children:[r&&d.jsxs("button",{className:A_(),onClick:h,children:[" Back to ",r.id]}),d.jsxs("div",{className:Uf(),children:[d.jsx("div",{className:Yf(),style:{backgroundColor:v}}),d.jsxs("div",{className:If(),children:[d.jsx("span",{className:qf(),children:j}),d.jsx("h3",{className:Xf(),children:Wf(n.opcode)}),d.jsx("button",{className:h0(),onClick:f,title:"Copy reporter ID",children:c?" Copied!":`ID: ${n.reporterNodeId||n.inputPath.join(".")}`})]})]}),i?.description&&d.jsx("div",{className:m0(),children:i.description}),d.jsxs("div",{className:Gf(),children:[d.jsx("label",{className:$f(),children:"Opcode"}),d.jsx("input",{type:"text",value:n.opcode,readOnly:!0,className:Fa()})]}),d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Inputs"}),Object.entries(n.inputs).length===0?d.jsx("p",{className:Al(),children:"No inputs"}):Object.entries(n.inputs).map(([R,W])=>d.jsx(A0,{name:ds(R,n.opcode,o,n.inputs),originalKey:R,value:W,paramInfo:i?.parameters.find(U=>U.name.toUpperCase()===R),onUpdate:g},R))]}),_&&b&&d.jsx("div",{className:Ft(),children:d.jsx("button",{className:C0(),onClick:b,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),i&&i.parameters.length>0&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Parameters"}),d.jsx("div",{className:b0(),children:i.parameters.map(R=>d.jsxs("div",{className:v0(),children:[d.jsxs("span",{className:w0(),children:[R.name,!R.required&&d.jsx("span",{className:S0(),children:"?"})]}),d.jsx("span",{className:N0(),children:R.type})]},R.name))})]}),I&&_&&N&&E&&d.jsxs("div",{className:Ft(),children:[d.jsx("h4",{className:mn(),children:"Arguments"}),O.length===0?d.jsx("p",{className:Al(),children:"No arguments"}):O.map(R=>d.jsxs("div",{className:x0(),children:[d.jsx("span",{className:y0(),children:ds(R,n.opcode,o,n.inputs)}),d.jsx("button",{className:xf(),onClick:()=>E(R),title:`Remove ${R}`,children:""})]},R)),d.jsx("button",{className:yf(),onClick:()=>N("ARG"),children:"+ Add Argument"})]})]}),d.jsxs("div",{className:E0(),children:[d.jsx("button",{className:wl(),onClick:y,children:"Find in Source"}),d.jsx("button",{className:j0(),onClick:p,title:"Detach reporter from slot (replace with null)",children:"Detach"})]})]})}function A0({name:n,originalKey:r,value:i,paramInfo:o,onUpdate:c}){const f=r||n,[h,m]=z.useState(!1),[g,p]=z.useState(""),y=V_(i),b=j=>{switch(j.type){case"literal":return typeof j.value=="string"?j.value:JSON.stringify(j.value);case"variable":return`$${j.name}`;default:return y}},N=()=>{(i.type==="literal"||i.type==="variable")&&(p(b(i)),m(!0))},E=()=>{c&&g!==b(i)&&c(f,g),m(!1)},w=j=>{j.key==="Enter"?E():j.key==="Escape"&&m(!1)},v=i.type==="literal"||i.type==="variable";return d.jsxs("div",{className:Gf(),children:[d.jsxs("label",{className:$f(),children:[n,o&&d.jsx("span",{className:__(),children:o.type})]}),h?d.jsx("input",{type:"text",className:gf(),value:g,onChange:j=>p(j.target.value),onBlur:E,onKeyDown:w,autoFocus:!0}):d.jsxs("div",{className:L(p0({editable:v}),"group"),onClick:N,title:v?"Click to edit":void 0,children:[d.jsx("span",{className:O_(),children:i.type}),d.jsx("span",{className:g0(),children:y}),v&&d.jsx("span",{className:T_(),children:"Click to edit"})]})]})}function V_(n){switch(n.type){case"literal":return typeof n.value=="string"?`"${n.value}"`:typeof n.value=="object"&&n.value!==null?JSON.stringify(n.value,null,2):String(n.value);case"variable":return`$${n.name}`;case"reporter":return`${Wf(n.opcode||"")}(...)`;case"workflow_call":return` ${n.name}`;case"branch":return` ${n.target}`;case"dict":return JSON.stringify(n.value,null,2);case"truncated":return n.display||"...";default:return"?"}}function Wf(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function B_(n){return Vy(n)}function H_(n){const r=TN(n);return r?`${r.label} Reporter`:"Reporter"}function U_(n,r){if(!n)return null;function i(o){for(const c of o){if(c.id===r)return c;if(c.children)for(const f of c.children){const h=i(f.children);if(h)return h}}return null}for(const o of n.workflows||[]){const c=i(o.children||[]);if(c)return c;const f=i(o.orphans||[]);if(f)return f}return null}const Y_=M("flex flex-col h-full"),I_=M("flex items-center justify-between px-4 py-4 border-b border-border-subtle"),q_=M("text-base font-semibold text-text-primary"),X_=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),G_=M("px-4 py-3 border-b border-border-subtle"),$_=M("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm focus:outline-none focus:border-accent-blue placeholder:text-text-muted"),W_=M("flex-1 overflow-y-auto py-2"),Z_=M("px-4"),Q_=M("text-text-muted text-center py-5 italic"),Xo=M("border-b border-border-subtle"),Go=M("w-full flex items-center gap-2 px-4 py-2.5 bg-transparent border-none cursor-pointer text-left text-text-primary transition-colors hover:bg-surface-2"),$o=M("text-base"),Wo=M("flex-1 text-sm font-medium"),Zo=M("text-xs text-text-muted px-1.5 py-0.5 bg-border-subtle rounded-sm"),Qo=M("text-[0.7rem] text-text-muted"),Ko=M("py-1 pb-2 bg-surface-2"),K_=M("mx-2"),F_=M("w-full flex flex-col items-start gap-0.5 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-pointer mb-1 transition-all hover:border-accent-blue hover:translate-x-0.5"),J_=M("text-sm font-medium text-text-primary"),P_=M("text-[0.7rem] text-text-muted font-mono"),eO=M("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),tO=M("text-xs text-text-secondary mb-2 leading-relaxed"),nO=M("flex flex-wrap gap-1.5 items-center"),_0=M("text-[0.7rem] text-text-muted uppercase tracking-wide"),lO=M("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),aO=M("text-text-muted"),rO=M("flex items-center gap-2 px-3 py-2 mx-2 mb-1 bg-surface-1 border border-border-subtle rounded-sm cursor-grab transition-all hover:border-accent-green hover:translate-x-0.5 active:cursor-grabbing"),iO=M("text-sm font-semibold text-accent-green font-mono"),oO=M("text-xs text-text-muted font-mono"),sO=M("text-[0.7rem] text-text-muted ml-auto"),cO=M("px-4 py-3 text-xs text-text-muted italic text-center"),uO=M("mx-2"),fO=M("w-full flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-grab mb-1 transition-all hover:border-accent-violet hover:translate-x-0.5 active:cursor-grabbing"),dO=M("text-sm font-semibold text-accent-violet font-mono"),hO=M("text-xs text-text-muted ml-auto"),mO=M("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),pO=M("flex flex-col gap-1 mb-2"),gO=M("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),xO=M("text-xs text-text-muted italic mb-2"),yO=M("w-full px-3 py-1.5 text-xs bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),bO=M("px-4 py-3 border-t border-border-subtle"),vO=M("text-xs text-text-muted text-center");function wO({className:n}){const{opcodes:r,tree:i}=at(),{togglePalette:o,setDraggingVariable:c,setDraggingWorkflowCall:f}=_e(),[h,m]=z.useState(""),[g,p]=z.useState("variables"),y=ON(),b=z.useMemo(()=>cE(i),[i]),N=z.useMemo(()=>{if(!i)return[];const v=[];for(const j of i.workflows)for(const[_,O]of Object.entries(j.variables))v.push({name:_,value:O,workflowName:j.name});return v},[i]),E=z.useMemo(()=>{const v={};for(const j of y)v[j.id]=[];v.other=[];for(const j of r){let _=!1;for(const O of y)if(j.name.startsWith(O.prefix)){v[O.id].push(j),_=!0;break}_||v.other.push(j)}return v},[r,y]),w=z.useMemo(()=>{if(!h)return null;const v=h.toLowerCase();return r.filter(j=>j.name.toLowerCase().includes(v)||(j.description?.toLowerCase().includes(v)??!1))},[r,h]);return d.jsxs("div",{className:L(Y_(),n),children:[d.jsxs("div",{className:I_(),children:[d.jsx("h2",{className:q_(),children:"Node Palette"}),d.jsx("button",{className:X_(),onClick:o,children:""})]}),d.jsx("div",{className:G_(),children:d.jsx("input",{type:"text",placeholder:"Search nodes...",value:h,onChange:v=>m(v.target.value),className:$_()})}),d.jsx("div",{className:W_(),children:w?d.jsx("div",{className:Z_(),children:w.length===0?d.jsx("p",{className:Q_(),children:"No nodes found"}):w.map(v=>d.jsx(nf,{opcode:v},v.name))}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:Go(),onClick:()=>p(g==="variables"?null:"variables"),style:{"--cat-color":"#22C55E"},children:[d.jsx("span",{className:$o(),children:"$"}),d.jsx("span",{className:Wo(),children:"Variables"}),d.jsx("span",{className:Zo(),children:N.length}),d.jsx("span",{className:Qo(),children:g==="variables"?"":""})]}),g==="variables"&&d.jsx("div",{className:Ko(),children:N.length===0?d.jsx("div",{className:cO(),children:"No variables defined. Add variables in the Start Node editor."}):N.map(v=>d.jsx(SO,{name:v.name,value:v.value,workflowName:v.workflowName,onDragStart:c,onDragEnd:()=>c(null)},`${v.workflowName}-${v.name}`))})]}),b.length>0&&d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:Go(),onClick:()=>p(g==="workflows"?null:"workflows"),style:{"--cat-color":"#E91E63"},children:[d.jsx("span",{className:$o(),children:"fn"}),d.jsx("span",{className:Wo(),children:"Workflows"}),d.jsx("span",{className:Zo(),children:b.length}),d.jsx("span",{className:Qo(),children:g==="workflows"?"":""})]}),g==="workflows"&&d.jsx("div",{className:Ko(),children:b.map(v=>d.jsx(EO,{name:v.name,params:v.params,onDragStart:f},v.name))})]}),y.map(v=>d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:Go(),onClick:()=>p(g===v.id?null:v.id),style:{"--cat-color":v.color},children:[d.jsx("span",{className:$o(),children:v.icon}),d.jsx("span",{className:Wo(),children:v.label}),d.jsx("span",{className:Zo(),children:E[v.id].length}),d.jsx("span",{className:Qo(),children:g===v.id?"":""})]}),g===v.id&&d.jsx("div",{className:Ko(),children:E[v.id].map(j=>d.jsx(nf,{opcode:j},j.name))})]},v.id)),E.other.length>0&&d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:Go(),onClick:()=>p(g==="other"?null:"other"),style:{"--cat-color":"#64748B"},children:[d.jsx("span",{className:$o(),children:""}),d.jsx("span",{className:Wo(),children:"Other"}),d.jsx("span",{className:Zo(),children:E.other.length}),d.jsx("span",{className:Qo(),children:g==="other"?"":""})]}),g==="other"&&d.jsx("div",{className:Ko(),children:E.other.map(v=>d.jsx(nf,{opcode:v},v.name))})]})]})}),d.jsx("div",{className:bO(),children:d.jsx("p",{className:vO(),children:"Click to view details  Drag to canvas to add node"})})]})}function nf({opcode:n}){const[r,i]=z.useState(!1),{setDraggingOpcode:o,togglePalette:c}=_e(),f=z.useRef(!1),h=z.useRef({x:0,y:0}),m=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),g=p=>{h.current={x:p.clientX,y:p.clientY},f.current=!1;const y=N=>{const E=Math.abs(N.clientX-h.current.x),w=Math.abs(N.clientY-h.current.y);!f.current&&(E>5||w>5)&&(f.current=!0,o(n),c())},b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)};return d.jsxs("div",{className:K_(),children:[d.jsxs("button",{className:F_(),onMouseDown:g,onClick:()=>{f.current||i(!r)},children:[d.jsx("span",{className:J_(),children:m}),d.jsx("span",{className:P_(),children:n.name})]}),r&&d.jsxs("div",{className:eO(),children:[n.description&&d.jsx("p",{className:tO(),children:n.description}),n.parameters.length>0&&d.jsxs("div",{className:nO(),children:[d.jsx("span",{className:_0(),children:"Parameters:"}),n.parameters.map(p=>d.jsxs("span",{className:lO(),children:[p.name,!p.required&&"?",d.jsxs("span",{className:aO(),children:[": ",p.type]})]},p.name))]})]})]})}function SO({name:n,value:r,workflowName:i,onDragStart:o,onDragEnd:c}){const{togglePalette:f}=_e(),h=z.useRef(!1),m=z.useRef({x:0,y:0}),g=NO(r),p=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const w=Math.abs(E.clientX-m.current.x),v=Math.abs(E.clientY-m.current.y);!h.current&&(w>5||v>5)&&(h.current=!0,o({name:n,workflowName:i,fromX:0,fromY:0,toX:0,toY:0}),f())},N=()=>{h.current&&c(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)};return d.jsxs("div",{className:rO(),onMouseDown:p,children:[d.jsxs("span",{className:iO(),children:["$",n]}),d.jsx("span",{className:oO(),children:g}),i!=="main"&&d.jsxs("span",{className:sO(),children:["(",i,")"]})]})}function NO(n){if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="string")return n.length>15?`"${n.slice(0,15)}..."`:`"${n}"`;if(typeof n=="object"){const r=JSON.stringify(n);return r.length>15?r.slice(0,15)+"...":r}return String(n)}function EO({name:n,params:r,onDragStart:i}){const{togglePalette:o}=_e(),[c,f]=z.useState(!1),h=z.useRef(!1),m=z.useRef({x:0,y:0}),g=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const w=Math.abs(E.clientX-m.current.x),v=Math.abs(E.clientY-m.current.y);!h.current&&(w>5||v>5)&&(h.current=!0,i({workflowName:n,params:r}),o())},N=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)},p=y=>{y.stopPropagation(),window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:n}})),o()};return d.jsxs("div",{className:uO(),children:[d.jsxs("button",{className:fO(),onMouseDown:g,onClick:()=>{h.current||f(!c)},children:[d.jsx("span",{className:dO(),children:n}),d.jsx("span",{className:hO(),children:r.length===0?"(no params)":`(${r.length} params)`})]}),c&&d.jsxs("div",{className:mO(),children:[r.length>0?d.jsxs("div",{className:pO(),children:[d.jsx("span",{className:_0(),children:"Parameters:"}),r.map((y,b)=>d.jsxs("span",{className:gO(),children:["ARG",b+1,": ",y]},y))]}):d.jsx("p",{className:xO(),children:"This workflow has no input parameters."}),d.jsx("button",{className:yO(),onClick:p,children:"Go to Definition"})]})]})}const ox=M("fixed pointer-events-none z-[10000] flex flex-col gap-1"),sx=M("flex flex-col gap-0.5 px-4 py-3 bg-surface-1 border-2 border-accent-blue rounded-sm shadow-xl min-w-[120px]",{variants:{type:{opcode:"border-accent-blue",workflow:"border-[#E91E63]"}},defaultVariants:{type:"opcode"}}),cx=M("text-sm font-semibold text-text-primary"),ux=M("text-[0.7rem] text-text-muted font-mono"),fx=M("text-[0.7rem] text-accent-blue text-center font-medium");function dx(n){const r=document.querySelector("[data-canvas-container] > svg");if(!r)return"main";const{zoom:i,panX:o,panY:c,layoutGroups:f,canvasCenter:h}=_e.getState();if(f.length===0)return"main";const m=r.getBoundingClientRect(),g=m.width,p=m.height,y=n.clientX-m.left,b=n.clientY-m.top,N=(y-o-g/2)/i+h.x,E=(b-c-p/2)/i+h.y;return Py(f,N,E)||"main"}function jO(){const{draggingOpcode:n,setDraggingOpcode:r,draggingWorkflowCall:i,setDraggingWorkflowCall:o,openNodeEditor:c}=_e(),{addNode:f,addWorkflowCallNode:h}=at(),[m,g]=z.useState({x:0,y:0});if(z.useEffect(()=>{if(!i)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const E=N.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&i){const v=dx(N);h(i.workflowName,i.params,v)&&c()}o(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[i,o,h,c]),z.useEffect(()=>{if(!n)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const E=N.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&n){const v=dx(N);f(n,v)&&c()}r(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[n,r,f,c]),!n&&!i)return null;if(i)return d.jsxs("div",{className:L(ox()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:L(sx({type:"workflow"})),children:[d.jsx("span",{className:L(cx()),children:i.workflowName}),d.jsx("span",{className:L(ux()),children:"workflow_call"})]}),d.jsx("div",{className:L(fx()),children:"Drop on canvas to add"})]});if(!n)return null;const p=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("div",{className:L(ox()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:L(sx({type:"opcode"})),children:[d.jsx("span",{className:L(cx()),children:p}),d.jsx("span",{className:L(ux()),children:n.name})]}),d.jsx("div",{className:L(fx()),children:"Drop on canvas to add"})]})}function CO(){const n=_e(r=>r.confirmDialog);return n?d.jsx(Nw,{isOpen:n.isOpen,title:n.title,message:n.message,confirmLabel:n.confirmLabel,cancelLabel:n.cancelLabel,variant:n.variant,onConfirm:n.onConfirm,onCancel:n.onCancel}):null}function AO(){const n=_e(f=>f.createWorkflowModal),r=_e(f=>f.hideCreateWorkflowModal),i=at(f=>f.tree),o=at(f=>f.addWorkflow),c=i?.workflows.map(f=>f.name)??[];return n?d.jsx(Ew,{isOpen:n.isOpen,existingWorkflowNames:c,onConfirm:f=>{o(f.name,f.inputs,f.outputs,f.variables),r()},onCancel:r}):null}function _O(){const n=_e(m=>m.extractWorkflowModal),r=_e(m=>m.hideExtractWorkflowModal),i=at(m=>m.tree),o=at(m=>m.extractToWorkflow),c=$n(m=>m.clearMultiSelection),f=_e(m=>m.showConfirmDialog),h=i?.workflows.map(m=>m.name)??[];return n?d.jsx(Cw,{isOpen:n.isOpen,existingWorkflowNames:h,nodeIds:n.nodeIds,suggestedInputs:n.suggestedInputs,suggestedOutputs:n.suggestedOutputs,onConfirm:m=>{const g=o(n.nodeIds,n.workflowName,m.name,m.inputs,m.outputs,m.variables);g.success?(c(),r()):f({title:"Extraction Failed",message:g.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}})},onCancel:r}):null}function OO(){const{setExamples:n,setOpcodes:r}=at(),i=gs();return wE(),NE(),z.useEffect(()=>{i.listOpcodes().then(r).catch(console.error),Gx(i)&&i.listExamples().then(n).catch(console.error)},[n,r,i]),d.jsxs(d.Fragment,{children:[d.jsx(iE,{canvas:d.jsx(cC,{}),editor:d.jsx(jA,{}),executionPanel:d.jsx(S_,{}),nodeEditor:d.jsx(z_,{}),palette:d.jsx(wO,{})}),d.jsx(jO,{}),d.jsx(CO,{}),d.jsx(AO,{}),d.jsx(_O,{})]})}function TO(){return{apiBaseUrl:"/api",wsUrl:void 0}}const hx=TO(),MO=VN({apiBaseUrl:hx.apiBaseUrl,wsUrl:hx.wsUrl,supportsExamples:!0,supportsWebSocket:!0});Fv.createRoot(document.getElementById("root")).render(d.jsx(z.StrictMode,{children:d.jsx(Gw,{children:d.jsx(Ww,{provider:MO,children:d.jsx(OO,{})})})}));export{u0 as a,SA as b,L as c,f0 as d,c0 as e,s0 as f,d as j,z as r};
