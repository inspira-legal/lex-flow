(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function Xv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tu={exports:{}},Zr={};var Yp;function Gv(){if(Yp)return Zr;Yp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:n,type:o,key:h,ref:c!==void 0?c:null,props:f}}return Zr.Fragment=r,Zr.jsx=i,Zr.jsxs=i,Zr}var Ip;function $v(){return Ip||(Ip=1,Tu.exports=Gv()),Tu.exports}var d=$v(),Mu={exports:{}},Se={};var qp;function Wv(){if(qp)return Se;qp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function _(C,V,F){this.props=C,this.context=V,this.refs=j,this.updater=F||v}_.prototype.isReactComponent={},_.prototype.setState=function(C,V){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,V,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function T(){}T.prototype=_.prototype;function X(C,V,F){this.props=C,this.context=V,this.refs=j,this.updater=F||v}var U=X.prototype=new T;U.constructor=X,w(U,_.prototype),U.isPureReactComponent=!0;var L=Array.isArray;function W(){}var $={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function P(C,V,F){var ne=F.ref;return{$$typeof:n,type:C,key:V,ref:ne!==void 0?ne:null,props:F}}function re(C,V){return P(C.type,V,C.props)}function se(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ue(C){var V={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(F){return V[F]})}var ce=/\/+/g;function Q(C,V){return typeof C=="object"&&C!==null&&C.key!=null?ue(""+C.key):V.toString(36)}function le(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(W,W):(C.status="pending",C.then(function(V){C.status==="pending"&&(C.status="fulfilled",C.value=V)},function(V){C.status==="pending"&&(C.status="rejected",C.reason=V)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function A(C,V,F,ne,ye){var xe=typeof C;(xe==="undefined"||xe==="boolean")&&(C=null);var de=!1;if(C===null)de=!0;else switch(xe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(C.$$typeof){case n:case r:de=!0;break;case y:return de=C._init,A(de(C._payload),V,F,ne,ye)}}if(de)return ye=ye(C),de=ne===""?"."+Q(C,0):ne,L(ye)?(F="",de!=null&&(F=de.replace(ce,"$&/")+"/"),A(ye,V,F,"",function(Re){return Re})):ye!=null&&(se(ye)&&(ye=re(ye,F+(ye.key==null||C&&C.key===ye.key?"":(""+ye.key).replace(ce,"$&/")+"/")+de)),V.push(ye)),1;de=0;var oe=ne===""?".":ne+":";if(L(C))for(var fe=0;fe<C.length;fe++)ne=C[fe],xe=oe+Q(ne,fe),de+=A(ne,V,F,xe,ye);else if(fe=E(C),typeof fe=="function")for(C=fe.call(C),fe=0;!(ne=C.next()).done;)ne=ne.value,xe=oe+Q(ne,fe++),de+=A(ne,V,F,xe,ye);else if(xe==="object"){if(typeof C.then=="function")return A(le(C),V,F,ne,ye);throw V=String(C),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return de}function k(C,V,F){if(C==null)return C;var ne=[],ye=0;return A(C,ne,"","",function(xe){return V.call(F,xe,ye++)}),ne}function H(C){if(C._status===-1){var V=C._result;V=V(),V.then(function(F){(C._status===0||C._status===-1)&&(C._status=1,C._result=F)},function(F){(C._status===0||C._status===-1)&&(C._status=2,C._result=F)}),C._status===-1&&(C._status=0,C._result=V)}if(C._status===1)return C._result.default;throw C._result}var ae=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},J={map:k,forEach:function(C,V,F){k(C,function(){V.apply(this,arguments)},F)},count:function(C){var V=0;return k(C,function(){V++}),V},toArray:function(C){return k(C,function(V){return V})||[]},only:function(C){if(!se(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Se.Activity=b,Se.Children=J,Se.Component=_,Se.Fragment=i,Se.Profiler=c,Se.PureComponent=X,Se.StrictMode=o,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Se.__COMPILER_RUNTIME={__proto__:null,c:function(C){return $.H.useMemoCache(C)}},Se.cache=function(C){return function(){return C.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(C,V,F){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ne=w({},C.props),ye=C.key;if(V!=null)for(xe in V.key!==void 0&&(ye=""+V.key),V)!Y.call(V,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&V.ref===void 0||(ne[xe]=V[xe]);var xe=arguments.length-2;if(xe===1)ne.children=F;else if(1<xe){for(var de=Array(xe),oe=0;oe<xe;oe++)de[oe]=arguments[oe+2];ne.children=de}return P(C.type,ye,ne)},Se.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Se.createElement=function(C,V,F){var ne,ye={},xe=null;if(V!=null)for(ne in V.key!==void 0&&(xe=""+V.key),V)Y.call(V,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ye[ne]=V[ne]);var de=arguments.length-2;if(de===1)ye.children=F;else if(1<de){for(var oe=Array(de),fe=0;fe<de;fe++)oe[fe]=arguments[fe+2];ye.children=oe}if(C&&C.defaultProps)for(ne in de=C.defaultProps,de)ye[ne]===void 0&&(ye[ne]=de[ne]);return P(C,xe,ye)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(C){return{$$typeof:m,render:C}},Se.isValidElement=se,Se.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:H}},Se.memo=function(C,V){return{$$typeof:p,type:C,compare:V===void 0?null:V}},Se.startTransition=function(C){var V=$.T,F={};$.T=F;try{var ne=C(),ye=$.S;ye!==null&&ye(F,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(W,ae)}catch(xe){ae(xe)}finally{V!==null&&F.types!==null&&(V.types=F.types),$.T=V}},Se.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Se.use=function(C){return $.H.use(C)},Se.useActionState=function(C,V,F){return $.H.useActionState(C,V,F)},Se.useCallback=function(C,V){return $.H.useCallback(C,V)},Se.useContext=function(C){return $.H.useContext(C)},Se.useDebugValue=function(){},Se.useDeferredValue=function(C,V){return $.H.useDeferredValue(C,V)},Se.useEffect=function(C,V){return $.H.useEffect(C,V)},Se.useEffectEvent=function(C){return $.H.useEffectEvent(C)},Se.useId=function(){return $.H.useId()},Se.useImperativeHandle=function(C,V,F){return $.H.useImperativeHandle(C,V,F)},Se.useInsertionEffect=function(C,V){return $.H.useInsertionEffect(C,V)},Se.useLayoutEffect=function(C,V){return $.H.useLayoutEffect(C,V)},Se.useMemo=function(C,V){return $.H.useMemo(C,V)},Se.useOptimistic=function(C,V){return $.H.useOptimistic(C,V)},Se.useReducer=function(C,V,F){return $.H.useReducer(C,V,F)},Se.useRef=function(C){return $.H.useRef(C)},Se.useState=function(C){return $.H.useState(C)},Se.useSyncExternalStore=function(C,V,F){return $.H.useSyncExternalStore(C,V,F)},Se.useTransition=function(){return $.H.useTransition()},Se.version="19.2.3",Se}var Xp;function gf(){return Xp||(Xp=1,Mu.exports=Wv()),Mu.exports}var R=gf();const Sn=Xv(R);var Du={exports:{}},Qr={},ku={exports:{}},Ru={};var Gp;function Zv(){return Gp||(Gp=1,(function(n){function r(A,k){var H=A.length;A.push(k);e:for(;0<H;){var ae=H-1>>>1,J=A[ae];if(0<c(J,k))A[ae]=k,A[H]=J,H=ae;else break e}}function i(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var k=A[0],H=A.pop();if(H!==k){A[0]=H;e:for(var ae=0,J=A.length,C=J>>>1;ae<C;){var V=2*(ae+1)-1,F=A[V],ne=V+1,ye=A[ne];if(0>c(F,H))ne<J&&0>c(ye,F)?(A[ae]=ye,A[ne]=H,ae=ne):(A[ae]=F,A[V]=H,ae=V);else if(ne<J&&0>c(ye,H))A[ae]=ye,A[ne]=H,ae=ne;else break e}}return k}function c(A,k){var H=A.sortIndex-k.sortIndex;return H!==0?H:A.id-k.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],y=1,b=null,N=3,E=!1,v=!1,w=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function U(A){for(var k=i(p);k!==null;){if(k.callback===null)o(p);else if(k.startTime<=A)o(p),k.sortIndex=k.expirationTime,r(g,k);else break;k=i(p)}}function L(A){if(w=!1,U(A),!v)if(i(g)!==null)v=!0,W||(W=!0,ue());else{var k=i(p);k!==null&&le(L,k.startTime-A)}}var W=!1,$=-1,Y=5,P=-1;function re(){return j?!0:!(n.unstable_now()-P<Y)}function se(){if(j=!1,W){var A=n.unstable_now();P=A;var k=!0;try{e:{v=!1,w&&(w=!1,T($),$=-1),E=!0;var H=N;try{t:{for(U(A),b=i(g);b!==null&&!(b.expirationTime>A&&re());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,N=b.priorityLevel;var J=ae(b.expirationTime<=A);if(A=n.unstable_now(),typeof J=="function"){b.callback=J,U(A),k=!0;break t}b===i(g)&&o(g),U(A)}else o(g);b=i(g)}if(b!==null)k=!0;else{var C=i(p);C!==null&&le(L,C.startTime-A),k=!1}}break e}finally{b=null,N=H,E=!1}k=void 0}}finally{k?ue():W=!1}}}var ue;if(typeof X=="function")ue=function(){X(se)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Q=ce.port2;ce.port1.onmessage=se,ue=function(){Q.postMessage(null)}}else ue=function(){_(se,0)};function le(A,k){$=_(function(){A(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(A){switch(N){case 1:case 2:case 3:var k=3;break;default:k=N}var H=N;N=k;try{return A()}finally{N=H}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(A,k){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=N;N=A;try{return k()}finally{N=H}},n.unstable_scheduleCallback=function(A,k,H){var ae=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ae+H:ae):H=ae,A){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,A={id:y++,callback:k,priorityLevel:A,startTime:H,expirationTime:J,sortIndex:-1},H>ae?(A.sortIndex=H,r(p,A),i(g)===null&&A===i(p)&&(w?(T($),$=-1):w=!0,le(L,H-ae))):(A.sortIndex=J,r(g,A),v||E||(v=!0,W||(W=!0,ue()))),A},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(A){var k=N;return function(){var H=N;N=k;try{return A.apply(this,arguments)}finally{N=H}}}})(Ru)),Ru}var $p;function Qv(){return $p||($p=1,ku.exports=Zv()),ku.exports}var zu={exports:{}},At={};var Wp;function Kv(){if(Wp)return At;Wp=1;var n=gf();function r(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,At.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return f(g,p,null,y)},At.flushSync=function(g){var p=h.T,y=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=y,o.d.f()}},At.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},At.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},At.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:E}):y==="script"&&o.d.X(g,{crossOrigin:b,integrity:N,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},At.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},At.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);o.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},At.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},At.requestFormReset=function(g){o.d.r(g)},At.unstable_batchedUpdates=function(g,p){return g(p)},At.useFormState=function(g,p,y){return h.H.useFormState(g,p,y)},At.useFormStatus=function(){return h.H.useHostTransitionStatus()},At.version="19.2.3",At}var Zp;function px(){if(Zp)return zu.exports;Zp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),zu.exports=Kv(),zu.exports}var Qp;function Fv(){if(Qp)return Qr;Qp=1;var n=Qv(),r=gf(),i=px();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var u=s.alternate;if(u===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===l)return g(s),e;if(u===a)return g(s),t;u=u.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=u;else{for(var x=!1,S=s.child;S;){if(S===l){x=!0,l=s,a=u;break}if(S===a){x=!0,a=s,l=u;break}S=S.sibling}if(!x){for(S=u.child;S;){if(S===l){x=!0,l=u,a=s;break}if(S===a){x=!0,a=u,l=s;break}S=S.sibling}if(!x)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),X=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case _:return"Profiler";case j:return"StrictMode";case L:return"Suspense";case W:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case X:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case U:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:Q(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return Q(e(t))}catch{}}return null}var le=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},ae=[],J=-1;function C(e){return{current:e}}function V(e){0>J||(e.current=ae[J],ae[J]=null,J--)}function F(e,t){J++,ae[J]=e.current,e.current=t}var ne=C(null),ye=C(null),xe=C(null),de=C(null);function oe(e,t){switch(F(xe,t),F(ye,e),F(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?up(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=up(t),e=fp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ne),F(ne,e)}function fe(){V(ne),V(ye),V(xe)}function Re(e){e.memoizedState!==null&&F(de,e);var t=ne.current,l=fp(t,e.type);t!==l&&(F(ye,e),F(ne,l))}function Le(e){ye.current===e&&(V(ne),V(ye)),de.current===e&&(V(de),Xr._currentValue=H)}var Ue,Jn;function Dt(e){if(Ue===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||"",Jn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+Jn}var Fe=!1;function ze(e,t){if(!e||Fe)return"";Fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Z){var G=Z}Reflect.construct(e,[],te)}else{try{te.call()}catch(Z){G=Z}e.call(te.prototype)}}else{try{throw Error()}catch(Z){G=Z}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Z){if(Z&&G&&typeof Z.stack=="string")return[Z.stack,G.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),x=u[0],S=u[1];if(x&&S){var O=x.split(`
`),q=S.split(`
`);for(s=a=0;a<O.length&&!O[a].includes("DetermineComponentFrameRoot");)a++;for(;s<q.length&&!q[s].includes("DetermineComponentFrameRoot");)s++;if(a===O.length||s===q.length)for(a=O.length-1,s=q.length-1;1<=a&&0<=s&&O[a]!==q[s];)s--;for(;1<=a&&0<=s;a--,s--)if(O[a]!==q[s]){if(a!==1||s!==1)do if(a--,s--,0>s||O[a]!==q[s]){var K=`
`+O[a].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=a&&0<=s);break}}}finally{Fe=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Dt(l):""}function en(e,t){switch(e.tag){case 26:case 27:case 5:return Dt(e.type);case 16:return Dt("Lazy");case 13:return e.child!==t&&t!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return ze(e.type,!1);case 11:return ze(e.type.render,!1);case 1:return ze(e.type,!0);case 31:return Dt("Activity");default:return""}}function Cn(e){try{var t="",l=null;do t+=en(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ie=Object.prototype.hasOwnProperty,Ae=n.unstable_scheduleCallback,Ze=n.unstable_cancelCallback,We=n.unstable_shouldYield,ft=n.unstable_requestPaint,Pe=n.unstable_now,An=n.unstable_getCurrentPriorityLevel,hn=n.unstable_ImmediatePriority,Pn=n.unstable_UserBlockingPriority,el=n.unstable_NormalPriority,nr=n.unstable_LowPriority,Ne=n.unstable_IdlePriority,vt=n.log,qt=n.unstable_setDisableYieldValue,Ot=null,dt=null;function kt(e){if(typeof vt=="function"&&qt(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Ot,e)}catch{}}var gt=Math.clz32?Math.clz32:T0,yi=Math.log,bi=Math.LN2;function T0(e){return e>>>=0,e===0?32:31-(yi(e)/bi|0)|0}var vi=256,wi=262144,Si=4194304;function kl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ni(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,u=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=a&134217727;return S!==0?(a=S&~u,a!==0?s=kl(a):(x&=S,x!==0?s=kl(x):l||(l=S&~e,l!==0&&(s=kl(l))))):(S=a&~u,S!==0?s=kl(S):x!==0?s=kl(x):l||(l=a&~e,l!==0&&(s=kl(l)))),s===0?0:t!==0&&t!==s&&(t&u)===0&&(u=s&-s,l=t&-t,u>=l||u===32&&(l&4194048)!==0)?t:s}function lr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function M0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gf(){var e=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),e}function ys(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ar(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function D0(e,t,l,a,s,u){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,O=e.expirationTimes,q=e.hiddenUpdates;for(l=x&~l;0<l;){var K=31-gt(l),te=1<<K;S[K]=0,O[K]=-1;var G=q[K];if(G!==null)for(q[K]=null,K=0;K<G.length;K++){var Z=G[K];Z!==null&&(Z.lane&=-536870913)}l&=~te}a!==0&&$f(e,a,0),u!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=u&~(x&~t))}function $f(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-gt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Wf(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-gt(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function Zf(e,t){var l=t&-t;return l=(l&42)!==0?1:bs(l),(l&(e.suspendedLanes|t))!==0?0:l}function bs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qf(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Rp(e.type))}function Kf(e,t){var l=k.p;try{return k.p=e,t()}finally{k.p=l}}var tl=Math.random().toString(36).slice(2),wt="__reactFiber$"+tl,Rt="__reactProps$"+tl,la="__reactContainer$"+tl,ws="__reactEvents$"+tl,k0="__reactListeners$"+tl,R0="__reactHandles$"+tl,Ff="__reactResources$"+tl,rr="__reactMarker$"+tl;function Ss(e){delete e[wt],delete e[Rt],delete e[ws],delete e[k0],delete e[R0]}function aa(e){var t=e[wt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[la]||l[wt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=yp(e);e!==null;){if(l=e[wt])return l;e=yp(e)}return t}e=l,l=e.parentNode}return null}function ra(e){if(e=e[wt]||e[la]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ir(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ia(e){var t=e[Ff];return t||(t=e[Ff]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function xt(e){e[rr]=!0}var Jf=new Set,Pf={};function Rl(e,t){oa(e,t),oa(e+"Capture",t)}function oa(e,t){for(Pf[e]=t,e=0;e<t.length;e++)Jf.add(t[e])}var z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ed={},td={};function L0(e){return ie.call(td,e)?!0:ie.call(ed,e)?!1:z0.test(e)?td[e]=!0:(ed[e]=!0,!1)}function Ei(e,t,l){if(L0(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function ji(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function _n(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function V0(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(x){l=""+x,u.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){if(!e._valueTracker){var t=nd(e)?"checked":"value";e._valueTracker=V0(e,t,""+e[t])}}function ld(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=nd(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var B0=/[\n"\\]/g;function nn(e){return e.replace(B0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Es(e,t,l,a,s,u,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+tn(t)):e.value!==""+tn(t)&&(e.value=""+tn(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?js(e,x,tn(t)):l!=null?js(e,x,tn(l)):a!=null&&e.removeAttribute("value"),s==null&&u!=null&&(e.defaultChecked=!!u),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+tn(S):e.removeAttribute("name")}function ad(e,t,l,a,s,u,x,S){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||l!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ns(e);return}l=l!=null?""+tn(l):"",t=t!=null?""+tn(t):l,S||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=S?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Ns(e)}function js(e,t,l){t==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function sa(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+tn(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rd(e,t,l){if(t!=null&&(t=""+tn(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+tn(l):""}function id(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(le(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=tn(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Ns(e)}function ca(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var H0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function od(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||H0.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function sd(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&od(e,s,a)}else for(var u in t)t.hasOwnProperty(u)&&od(e,u,t[u])}function Cs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ai(e){return Y0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function On(){}var As=null;function _s(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,fa=null;function cd(e){var t=ra(e);if(t&&(e=t.stateNode)){var l=e[Rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Es(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[Rt]||null;if(!s)throw Error(o(90));Es(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&ld(a)}break e;case"textarea":rd(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&sa(e,!!l.multiple,t,!1)}}}var Os=!1;function ud(e,t,l){if(Os)return e(t,l);Os=!0;try{var a=e(t);return a}finally{if(Os=!1,(ua!==null||fa!==null)&&(po(),ua&&(t=ua,e=fa,fa=ua=null,cd(t),e)))for(t=0;t<e.length;t++)cd(e[t])}}function or(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Rt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Tn)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Ts=!1}var nl=null,Ms=null,_i=null;function fd(){if(_i)return _i;var e,t=Ms,l=t.length,a,s="value"in nl?nl.value:nl.textContent,u=s.length;for(e=0;e<l&&t[e]===s[e];e++);var x=l-e;for(a=1;a<=x&&t[l-a]===s[u-a];a++);return _i=s.slice(e,1<a?1-a:void 0)}function Oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ti(){return!0}function dd(){return!1}function zt(e){function t(l,a,s,u,x){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(u):u[S]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ti:dd,this.isPropagationStopped=dd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),t}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=zt(zl),cr=b({},zl,{view:0,detail:0}),I0=zt(cr),Ds,ks,ur,Di=b({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&e.type==="mousemove"?(Ds=e.screenX-ur.screenX,ks=e.screenY-ur.screenY):ks=Ds=0,ur=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:ks}}),hd=zt(Di),q0=b({},Di,{dataTransfer:0}),X0=zt(q0),G0=b({},cr,{relatedTarget:0}),Rs=zt(G0),$0=b({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=zt($0),Z0=b({},zl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q0=zt(Z0),K0=b({},zl,{data:0}),md=zt(K0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=P0[e])?!!t[e]:!1}function zs(){return eb}var tb=b({},cr,{key:function(e){if(e.key){var t=F0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(e){return e.type==="keypress"?Oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nb=zt(tb),lb=b({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=zt(lb),ab=b({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),rb=zt(ab),ib=b({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ob=zt(ib),sb=b({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cb=zt(sb),ub=b({},zl,{newState:0,oldState:0}),fb=zt(ub),db=[9,13,27,32],Ls=Tn&&"CompositionEvent"in window,fr=null;Tn&&"documentMode"in document&&(fr=document.documentMode);var hb=Tn&&"TextEvent"in window&&!fr,gd=Tn&&(!Ls||fr&&8<fr&&11>=fr),xd=" ",yd=!1;function bd(e,t){switch(e){case"keyup":return db.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function mb(e,t){switch(e){case"compositionend":return vd(t);case"keypress":return t.which!==32?null:(yd=!0,xd);case"textInput":return e=t.data,e===xd&&yd?null:e;default:return null}}function pb(e,t){if(da)return e==="compositionend"||!Ls&&bd(e,t)?(e=fd(),_i=Ms=nl=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gd&&t.locale!=="ko"?null:t.data;default:return null}}var gb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gb[e.type]:t==="textarea"}function Sd(e,t,l,a){ua?fa?fa.push(a):fa=[a]:ua=a,t=So(t,"onChange"),0<t.length&&(l=new Mi("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var dr=null,hr=null;function xb(e){ap(e,0)}function ki(e){var t=ir(e);if(ld(t))return e}function Nd(e,t){if(e==="change")return t}var Ed=!1;if(Tn){var Vs;if(Tn){var Bs="oninput"in document;if(!Bs){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),Bs=typeof jd.oninput=="function"}Vs=Bs}else Vs=!1;Ed=Vs&&(!document.documentMode||9<document.documentMode)}function Cd(){dr&&(dr.detachEvent("onpropertychange",Ad),hr=dr=null)}function Ad(e){if(e.propertyName==="value"&&ki(hr)){var t=[];Sd(t,hr,e,_s(e)),ud(xb,t)}}function yb(e,t,l){e==="focusin"?(Cd(),dr=t,hr=l,dr.attachEvent("onpropertychange",Ad)):e==="focusout"&&Cd()}function bb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(hr)}function vb(e,t){if(e==="click")return ki(t)}function wb(e,t){if(e==="input"||e==="change")return ki(t)}function Sb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:Sb;function mr(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!ie.call(t,s)||!Xt(e[s],t[s]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Od(e,t){var l=_d(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_d(l)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Md(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ci(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Ci(e.document)}return t}function Hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Nb=Tn&&"documentMode"in document&&11>=document.documentMode,ha=null,Us=null,pr=null,Ys=!1;function Dd(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ys||ha==null||ha!==Ci(a)||(a=ha,"selectionStart"in a&&Hs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),pr&&mr(pr,a)||(pr=a,a=So(Us,"onSelect"),0<a.length&&(t=new Mi("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=ha)))}function Ll(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ma={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionrun:Ll("Transition","TransitionRun"),transitionstart:Ll("Transition","TransitionStart"),transitioncancel:Ll("Transition","TransitionCancel"),transitionend:Ll("Transition","TransitionEnd")},Is={},kd={};Tn&&(kd=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Vl(e){if(Is[e])return Is[e];if(!ma[e])return e;var t=ma[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in kd)return Is[e]=t[l];return e}var Rd=Vl("animationend"),zd=Vl("animationiteration"),Ld=Vl("animationstart"),Eb=Vl("transitionrun"),jb=Vl("transitionstart"),Cb=Vl("transitioncancel"),Vd=Vl("transitionend"),Bd=new Map,qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qs.push("scrollEnd");function mn(e,t){Bd.set(e,t),Rl(t,[e])}var Ri=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ln=[],pa=0,Xs=0;function zi(){for(var e=pa,t=Xs=pa=0;t<e;){var l=ln[t];ln[t++]=null;var a=ln[t];ln[t++]=null;var s=ln[t];ln[t++]=null;var u=ln[t];if(ln[t++]=null,a!==null&&s!==null){var x=a.pending;x===null?s.next=s:(s.next=x.next,x.next=s),a.pending=s}u!==0&&Hd(l,s,u)}}function Li(e,t,l,a){ln[pa++]=e,ln[pa++]=t,ln[pa++]=l,ln[pa++]=a,Xs|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Gs(e,t,l,a){return Li(e,t,l,a),Vi(e)}function Bl(e,t){return Li(e,null,null,t),Vi(e)}function Hd(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,u=e.return;u!==null;)u.childLanes|=l,a=u.alternate,a!==null&&(a.childLanes|=l),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(s=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,s&&t!==null&&(s=31-gt(l),e=u.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),u):null}function Vi(e){if(50<Vr)throw Vr=0,eu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ga={};function Ab(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,l,a){return new Ab(e,t,l,a)}function $s(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mn(e,t){var l=e.alternate;return l===null?(l=Gt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Ud(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bi(e,t,l,a,s,u){var x=0;if(a=e,typeof e=="function")$s(e)&&(x=1);else if(typeof e=="string")x=Dv(e,l,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=Gt(31,l,t,s),e.elementType=P,e.lanes=u,e;case w:return Hl(l.children,s,u,t);case j:x=8,s|=24;break;case _:return e=Gt(12,l,t,s|2),e.elementType=_,e.lanes=u,e;case L:return e=Gt(13,l,t,s),e.elementType=L,e.lanes=u,e;case W:return e=Gt(19,l,t,s),e.elementType=W,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:x=10;break e;case T:x=9;break e;case U:x=11;break e;case $:x=14;break e;case Y:x=16,a=null;break e}x=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Gt(x,l,t,s),t.elementType=e,t.type=a,t.lanes=u,t}function Hl(e,t,l,a){return e=Gt(7,e,a,t),e.lanes=l,e}function Ws(e,t,l){return e=Gt(6,e,null,t),e.lanes=l,e}function Yd(e){var t=Gt(18,null,null,0);return t.stateNode=e,t}function Zs(e,t,l){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Id=new WeakMap;function an(e,t){if(typeof e=="object"&&e!==null){var l=Id.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Cn(t)},Id.set(e,t),t)}return{value:e,source:t,stack:Cn(t)}}var xa=[],ya=0,Hi=null,gr=0,rn=[],on=0,ll=null,yn=1,bn="";function Dn(e,t){xa[ya++]=gr,xa[ya++]=Hi,Hi=e,gr=t}function qd(e,t,l){rn[on++]=yn,rn[on++]=bn,rn[on++]=ll,ll=e;var a=yn;e=bn;var s=32-gt(a)-1;a&=~(1<<s),l+=1;var u=32-gt(t)+s;if(30<u){var x=s-s%5;u=(a&(1<<x)-1).toString(32),a>>=x,s-=x,yn=1<<32-gt(t)+s|l<<s|a,bn=u+e}else yn=1<<u|l<<s|a,bn=e}function Qs(e){e.return!==null&&(Dn(e,1),qd(e,1,0))}function Ks(e){for(;e===Hi;)Hi=xa[--ya],xa[ya]=null,gr=xa[--ya],xa[ya]=null;for(;e===ll;)ll=rn[--on],rn[on]=null,bn=rn[--on],rn[on]=null,yn=rn[--on],rn[on]=null}function Xd(e,t){rn[on++]=yn,rn[on++]=bn,rn[on++]=ll,yn=t.id,bn=t.overflow,ll=e}var St=null,Qe=null,ke=!1,al=null,sn=!1,Fs=Error(o(519));function rl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xr(an(t,e)),Fs}function Gd(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[wt]=e,t[Rt]=a,l){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(l=0;l<Hr.length;l++)Te(Hr[l],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),ad(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),id(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||sp(t.textContent,l)?(a.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),a.onScroll!=null&&Te("scroll",t),a.onScrollEnd!=null&&Te("scrollend",t),a.onClick!=null&&(t.onclick=On),t=!0):t=!1,t||rl(e,!0)}function $d(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:St=St.return}}function ba(e){if(e!==St)return!1;if(!ke)return $d(e),ke=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||pu(e.type,e.memoizedProps)),l=!l),l&&Qe&&rl(e),$d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Qe=xp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Qe=xp(e)}else t===27?(t=Qe,bl(e.type)?(e=vu,vu=null,Qe=e):Qe=t):Qe=St?un(e.stateNode.nextSibling):null;return!0}function Ul(){Qe=St=null,ke=!1}function Js(){var e=al;return e!==null&&(Ht===null?Ht=e:Ht.push.apply(Ht,e),al=null),e}function xr(e){al===null?al=[e]:al.push(e)}var Ps=C(null),Yl=null,kn=null;function il(e,t,l){F(Ps,t._currentValue),t._currentValue=l}function Rn(e){e._currentValue=Ps.current,V(Ps)}function ec(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function tc(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){var x=s.child;u=u.firstContext;e:for(;u!==null;){var S=u;u=s;for(var O=0;O<t.length;O++)if(S.context===t[O]){u.lanes|=l,S=u.alternate,S!==null&&(S.lanes|=l),ec(u.return,l,e),a||(x=null);break e}u=S.next}}else if(s.tag===18){if(x=s.return,x===null)throw Error(o(341));x.lanes|=l,u=x.alternate,u!==null&&(u.lanes|=l),ec(x,l,e),x=null}else x=s.child;if(x!==null)x.return=s;else for(x=s;x!==null;){if(x===e){x=null;break}if(s=x.sibling,s!==null){s.return=x.return,x=s;break}x=x.return}s=x}}function va(e,t,l,a){e=null;for(var s=t,u=!1;s!==null;){if(!u){if((s.flags&524288)!==0)u=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var x=s.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var S=s.type;Xt(s.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(s===de.current){if(x=s.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Xr):e=[Xr])}s=s.return}e!==null&&tc(t,e,l,a),t.flags|=262144}function Ui(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Il(e){Yl=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return Wd(Yl,e)}function Yi(e,t){return Yl===null&&Il(e),Wd(e,t)}function Wd(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},kn===null){if(e===null)throw Error(o(308));kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kn=kn.next=t;return l}var _b=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Ob=n.unstable_scheduleCallback,Tb=n.unstable_NormalPriority,it={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new _b,data:new Map,refCount:0}}function yr(e){e.refCount--,e.refCount===0&&Ob(Tb,function(){e.controller.abort()})}var br=null,lc=0,wa=0,Sa=null;function Mb(e,t){if(br===null){var l=br=[];lc=0,wa=iu(),Sa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return lc++,t.then(Zd,Zd),t}function Zd(){if(--lc===0&&br!==null){Sa!==null&&(Sa.status="fulfilled");var e=br;br=null,wa=0,Sa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Db(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var Qd=A.S;A.S=function(e,t){Dm=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mb(e,t),Qd!==null&&Qd(e,t)};var ql=C(null);function ac(){var e=ql.current;return e!==null?e:$e.pooledCache}function Ii(e,t){t===null?F(ql,ql.current):F(ql,t.pool)}function Kd(){var e=ac();return e===null?null:{parent:it._currentValue,pool:e}}var Na=Error(o(460)),rc=Error(o(474)),qi=Error(o(542)),Xi={then:function(){}};function Fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jd(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(On,On),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,eh(e),e;default:if(typeof t.status=="string")t.then(On,On);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,eh(e),e}throw Gl=t,Na}}function Xl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Gl=l,Na):l}}var Gl=null;function Pd(){if(Gl===null)throw Error(o(459));var e=Gl;return Gl=null,e}function eh(e){if(e===Na||e===qi)throw Error(o(483))}var Ea=null,vr=0;function Gi(e){var t=vr;return vr+=1,Ea===null&&(Ea=[]),Jd(Ea,e,t)}function wr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $i(e,t){throw t.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function th(e){function t(B,D){if(e){var I=B.deletions;I===null?(B.deletions=[D],B.flags|=16):I.push(D)}}function l(B,D){if(!e)return null;for(;D!==null;)t(B,D),D=D.sibling;return null}function a(B){for(var D=new Map;B!==null;)B.key!==null?D.set(B.key,B):D.set(B.index,B),B=B.sibling;return D}function s(B,D){return B=Mn(B,D),B.index=0,B.sibling=null,B}function u(B,D,I){return B.index=I,e?(I=B.alternate,I!==null?(I=I.index,I<D?(B.flags|=67108866,D):I):(B.flags|=67108866,D)):(B.flags|=1048576,D)}function x(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function S(B,D,I,ee){return D===null||D.tag!==6?(D=Ws(I,B.mode,ee),D.return=B,D):(D=s(D,I),D.return=B,D)}function O(B,D,I,ee){var ve=I.type;return ve===w?K(B,D,I.props.children,ee,I.key):D!==null&&(D.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Y&&Xl(ve)===D.type)?(D=s(D,I.props),wr(D,I),D.return=B,D):(D=Bi(I.type,I.key,I.props,null,B.mode,ee),wr(D,I),D.return=B,D)}function q(B,D,I,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==I.containerInfo||D.stateNode.implementation!==I.implementation?(D=Zs(I,B.mode,ee),D.return=B,D):(D=s(D,I.children||[]),D.return=B,D)}function K(B,D,I,ee,ve){return D===null||D.tag!==7?(D=Hl(I,B.mode,ee,ve),D.return=B,D):(D=s(D,I),D.return=B,D)}function te(B,D,I){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ws(""+D,B.mode,I),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return I=Bi(D.type,D.key,D.props,null,B.mode,I),wr(I,D),I.return=B,I;case v:return D=Zs(D,B.mode,I),D.return=B,D;case Y:return D=Xl(D),te(B,D,I)}if(le(D)||ue(D))return D=Hl(D,B.mode,I,null),D.return=B,D;if(typeof D.then=="function")return te(B,Gi(D),I);if(D.$$typeof===X)return te(B,Yi(B,D),I);$i(B,D)}return null}function G(B,D,I,ee){var ve=D!==null?D.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ve!==null?null:S(B,D,""+I,ee);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case E:return I.key===ve?O(B,D,I,ee):null;case v:return I.key===ve?q(B,D,I,ee):null;case Y:return I=Xl(I),G(B,D,I,ee)}if(le(I)||ue(I))return ve!==null?null:K(B,D,I,ee,null);if(typeof I.then=="function")return G(B,D,Gi(I),ee);if(I.$$typeof===X)return G(B,D,Yi(B,I),ee);$i(B,I)}return null}function Z(B,D,I,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(I)||null,S(D,B,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return B=B.get(ee.key===null?I:ee.key)||null,O(D,B,ee,ve);case v:return B=B.get(ee.key===null?I:ee.key)||null,q(D,B,ee,ve);case Y:return ee=Xl(ee),Z(B,D,I,ee,ve)}if(le(ee)||ue(ee))return B=B.get(I)||null,K(D,B,ee,ve,null);if(typeof ee.then=="function")return Z(B,D,I,Gi(ee),ve);if(ee.$$typeof===X)return Z(B,D,I,Yi(D,ee),ve);$i(D,ee)}return null}function he(B,D,I,ee){for(var ve=null,Ve=null,ge=D,je=D=0,De=null;ge!==null&&je<I.length;je++){ge.index>je?(De=ge,ge=null):De=ge.sibling;var Be=G(B,ge,I[je],ee);if(Be===null){ge===null&&(ge=De);break}e&&ge&&Be.alternate===null&&t(B,ge),D=u(Be,D,je),Ve===null?ve=Be:Ve.sibling=Be,Ve=Be,ge=De}if(je===I.length)return l(B,ge),ke&&Dn(B,je),ve;if(ge===null){for(;je<I.length;je++)ge=te(B,I[je],ee),ge!==null&&(D=u(ge,D,je),Ve===null?ve=ge:Ve.sibling=ge,Ve=ge);return ke&&Dn(B,je),ve}for(ge=a(ge);je<I.length;je++)De=Z(ge,B,je,I[je],ee),De!==null&&(e&&De.alternate!==null&&ge.delete(De.key===null?je:De.key),D=u(De,D,je),Ve===null?ve=De:Ve.sibling=De,Ve=De);return e&&ge.forEach(function(El){return t(B,El)}),ke&&Dn(B,je),ve}function we(B,D,I,ee){if(I==null)throw Error(o(151));for(var ve=null,Ve=null,ge=D,je=D=0,De=null,Be=I.next();ge!==null&&!Be.done;je++,Be=I.next()){ge.index>je?(De=ge,ge=null):De=ge.sibling;var El=G(B,ge,Be.value,ee);if(El===null){ge===null&&(ge=De);break}e&&ge&&El.alternate===null&&t(B,ge),D=u(El,D,je),Ve===null?ve=El:Ve.sibling=El,Ve=El,ge=De}if(Be.done)return l(B,ge),ke&&Dn(B,je),ve;if(ge===null){for(;!Be.done;je++,Be=I.next())Be=te(B,Be.value,ee),Be!==null&&(D=u(Be,D,je),Ve===null?ve=Be:Ve.sibling=Be,Ve=Be);return ke&&Dn(B,je),ve}for(ge=a(ge);!Be.done;je++,Be=I.next())Be=Z(ge,B,je,Be.value,ee),Be!==null&&(e&&Be.alternate!==null&&ge.delete(Be.key===null?je:Be.key),D=u(Be,D,je),Ve===null?ve=Be:Ve.sibling=Be,Ve=Be);return e&&ge.forEach(function(qv){return t(B,qv)}),ke&&Dn(B,je),ve}function Ge(B,D,I,ee){if(typeof I=="object"&&I!==null&&I.type===w&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case E:e:{for(var ve=I.key;D!==null;){if(D.key===ve){if(ve=I.type,ve===w){if(D.tag===7){l(B,D.sibling),ee=s(D,I.props.children),ee.return=B,B=ee;break e}}else if(D.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Y&&Xl(ve)===D.type){l(B,D.sibling),ee=s(D,I.props),wr(ee,I),ee.return=B,B=ee;break e}l(B,D);break}else t(B,D);D=D.sibling}I.type===w?(ee=Hl(I.props.children,B.mode,ee,I.key),ee.return=B,B=ee):(ee=Bi(I.type,I.key,I.props,null,B.mode,ee),wr(ee,I),ee.return=B,B=ee)}return x(B);case v:e:{for(ve=I.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===I.containerInfo&&D.stateNode.implementation===I.implementation){l(B,D.sibling),ee=s(D,I.children||[]),ee.return=B,B=ee;break e}else{l(B,D);break}else t(B,D);D=D.sibling}ee=Zs(I,B.mode,ee),ee.return=B,B=ee}return x(B);case Y:return I=Xl(I),Ge(B,D,I,ee)}if(le(I))return he(B,D,I,ee);if(ue(I)){if(ve=ue(I),typeof ve!="function")throw Error(o(150));return I=ve.call(I),we(B,D,I,ee)}if(typeof I.then=="function")return Ge(B,D,Gi(I),ee);if(I.$$typeof===X)return Ge(B,D,Yi(B,I),ee);$i(B,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,D!==null&&D.tag===6?(l(B,D.sibling),ee=s(D,I),ee.return=B,B=ee):(l(B,D),ee=Ws(I,B.mode,ee),ee.return=B,B=ee),x(B)):l(B,D)}return function(B,D,I,ee){try{vr=0;var ve=Ge(B,D,I,ee);return Ea=null,ve}catch(ge){if(ge===Na||ge===qi)throw ge;var Ve=Gt(29,ge,null,B.mode);return Ve.lanes=ee,Ve.return=B,Ve}}}var $l=th(!0),nh=th(!1),ol=!1;function ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function cl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(He&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Vi(e),Hd(e,null,l),t}return Li(e,a,t,l),Vi(e)}function Sr(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Wf(e,l)}}function sc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,u=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};u===null?s=u=x:u=u.next=x,l=l.next}while(l!==null);u===null?s=u=t:u=u.next=t}else s=u=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var cc=!1;function Nr(){if(cc){var e=Sa;if(e!==null)throw e}}function Er(e,t,l,a){cc=!1;var s=e.updateQueue;ol=!1;var u=s.firstBaseUpdate,x=s.lastBaseUpdate,S=s.shared.pending;if(S!==null){s.shared.pending=null;var O=S,q=O.next;O.next=null,x===null?u=q:x.next=q,x=O;var K=e.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==x&&(S===null?K.firstBaseUpdate=q:S.next=q,K.lastBaseUpdate=O))}if(u!==null){var te=s.baseState;x=0,K=q=O=null,S=u;do{var G=S.lane&-536870913,Z=G!==S.lane;if(Z?(Me&G)===G:(a&G)===G){G!==0&&G===wa&&(cc=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=e,we=S;G=t;var Ge=l;switch(we.tag){case 1:if(he=we.payload,typeof he=="function"){te=he.call(Ge,te,G);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=we.payload,G=typeof he=="function"?he.call(Ge,te,G):he,G==null)break e;te=b({},te,G);break e;case 2:ol=!0}}G=S.callback,G!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=s.callbacks,Z===null?s.callbacks=[G]:Z.push(G))}else Z={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(q=K=Z,O=te):K=K.next=Z,x|=G;if(S=S.next,S===null){if(S=s.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,s.lastBaseUpdate=Z,s.shared.pending=null}}while(!0);K===null&&(O=te),s.baseState=O,s.firstBaseUpdate=q,s.lastBaseUpdate=K,u===null&&(s.shared.lanes=0),ml|=x,e.lanes=x,e.memoizedState=te}}function lh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function ah(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)lh(l[e],t)}var ja=C(null),Wi=C(0);function rh(e,t){e=qn,F(Wi,e),F(ja,t),qn=e|t.baseLanes}function uc(){F(Wi,qn),F(ja,ja.current)}function fc(){qn=Wi.current,V(ja),V(Wi)}var $t=C(null),cn=null;function ul(e){var t=e.alternate;F(lt,lt.current&1),F($t,e),cn===null&&(t===null||ja.current!==null||t.memoizedState!==null)&&(cn=e)}function dc(e){F(lt,lt.current),F($t,e),cn===null&&(cn=e)}function ih(e){e.tag===22?(F(lt,lt.current),F($t,e),cn===null&&(cn=e)):fl()}function fl(){F(lt,lt.current),F($t,$t.current)}function Wt(e){V($t),cn===e&&(cn=null),V(lt)}var lt=C(0);function Zi(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||yu(l)||bu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zn=0,Ee=null,qe=null,ot=null,Qi=!1,Ca=!1,Wl=!1,Ki=0,jr=0,Aa=null,kb=0;function et(){throw Error(o(321))}function hc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Xt(e[l],t[l]))return!1;return!0}function mc(e,t,l,a,s,u){return zn=u,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?qh:Oc,Wl=!1,u=l(a,s),Wl=!1,Ca&&(u=sh(t,l,a,s)),oh(e),u}function oh(e){A.H=_r;var t=qe!==null&&qe.next!==null;if(zn=0,ot=qe=Ee=null,Qi=!1,jr=0,Aa=null,t)throw Error(o(300));e===null||st||(e=e.dependencies,e!==null&&Ui(e)&&(st=!0))}function sh(e,t,l,a){Ee=e;var s=0;do{if(Ca&&(Aa=null),jr=0,Ca=!1,25<=s)throw Error(o(301));if(s+=1,ot=qe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}A.H=Xh,u=t(l,a)}while(Ca);return u}function Rb(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?Cr(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Ee.flags|=1024),t}function pc(){var e=Ki!==0;return Ki=0,e}function gc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function xc(e){if(Qi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qi=!1}zn=0,ot=qe=Ee=null,Ca=!1,jr=Ki=0,Aa=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ee.memoizedState=ot=e:ot=ot.next=e,ot}function at(){if(qe===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=ot===null?Ee.memoizedState:ot.next;if(t!==null)ot=t,qe=e;else{if(e===null)throw Ee.alternate===null?Error(o(467)):Error(o(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ot===null?Ee.memoizedState=ot=e:ot=ot.next=e}return ot}function Fi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cr(e){var t=jr;return jr+=1,Aa===null&&(Aa=[]),e=Jd(Aa,e,t),t=Ee,(ot===null?t.memoizedState:ot.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?qh:Oc),e}function Ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cr(e);if(e.$$typeof===X)return Nt(e)}throw Error(o(438,String(e)))}function yc(e){var t=null,l=Ee.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Fi(),Ee.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=re;return t.index++,l}function Ln(e,t){return typeof t=="function"?t(e):t}function Pi(e){var t=at();return bc(t,qe,e)}function bc(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,u=a.pending;if(u!==null){if(s!==null){var x=s.next;s.next=u.next,u.next=x}t.baseQueue=s=u,a.pending=null}if(u=e.baseState,s===null)e.memoizedState=u;else{t=s.next;var S=x=null,O=null,q=t,K=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(Me&te)===te:(zn&te)===te){var G=q.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===wa&&(K=!0);else if((zn&G)===G){q=q.next,G===wa&&(K=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(S=O=te,x=u):O=O.next=te,Ee.lanes|=G,ml|=G;te=q.action,Wl&&l(u,te),u=q.hasEagerState?q.eagerState:l(u,te)}else G={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(S=O=G,x=u):O=O.next=G,Ee.lanes|=te,ml|=te;q=q.next}while(q!==null&&q!==t);if(O===null?x=u:O.next=S,!Xt(u,e.memoizedState)&&(st=!0,K&&(l=Sa,l!==null)))throw l;e.memoizedState=u,e.baseState=x,e.baseQueue=O,a.lastRenderedState=u}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function vc(e){var t=at(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,u=t.memoizedState;if(s!==null){l.pending=null;var x=s=s.next;do u=e(u,x.action),x=x.next;while(x!==s);Xt(u,t.memoizedState)||(st=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),l.lastRenderedState=u}return[u,a]}function ch(e,t,l){var a=Ee,s=at(),u=ke;if(u){if(l===void 0)throw Error(o(407));l=l()}else l=t();var x=!Xt((qe||s).memoizedState,l);if(x&&(s.memoizedState=l,st=!0),s=s.queue,Nc(dh.bind(null,a,s,e),[e]),s.getSnapshot!==t||x||ot!==null&&ot.memoizedState.tag&1){if(a.flags|=2048,_a(9,{destroy:void 0},fh.bind(null,a,s,l,t),null),$e===null)throw Error(o(349));u||(zn&127)!==0||uh(a,t,l)}return l}function uh(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ee.updateQueue,t===null?(t=Fi(),Ee.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function fh(e,t,l,a){t.value=l,t.getSnapshot=a,hh(t)&&mh(e)}function dh(e,t,l){return l(function(){hh(t)&&mh(e)})}function hh(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Xt(e,l)}catch{return!0}}function mh(e){var t=Bl(e,2);t!==null&&Ut(t,e,2)}function wc(e){var t=Tt();if(typeof e=="function"){var l=e;if(e=l(),Wl){kt(!0);try{l()}finally{kt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},t}function ph(e,t,l,a){return e.baseState=l,bc(e,qe,typeof a=="function"?a:Ln)}function zb(e,t,l,a,s){if(no(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){u.listeners.push(x)}};A.T!==null?l(!0):u.isTransition=!1,a(u),l=t.pending,l===null?(u.next=t.pending=u,gh(t,u)):(u.next=l.next,t.pending=l.next=u)}}function gh(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var u=A.T,x={};A.T=x;try{var S=l(s,a),O=A.S;O!==null&&O(x,S),xh(e,t,S)}catch(q){Sc(e,t,q)}finally{u!==null&&x.types!==null&&(u.types=x.types),A.T=u}}else try{u=l(s,a),xh(e,t,u)}catch(q){Sc(e,t,q)}}function xh(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){yh(e,t,a)},function(a){return Sc(e,t,a)}):yh(e,t,l)}function yh(e,t,l){t.status="fulfilled",t.value=l,bh(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,gh(e,l)))}function Sc(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,bh(t),t=t.next;while(t!==a)}e.action=null}function bh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vh(e,t){return t}function wh(e,t){if(ke){var l=$e.formState;if(l!==null){e:{var a=Ee;if(ke){if(Qe){t:{for(var s=Qe,u=sn;s.nodeType!==8;){if(!u){s=null;break t}if(s=un(s.nextSibling),s===null){s=null;break t}}u=s.data,s=u==="F!"||u==="F"?s:null}if(s){Qe=un(s.nextSibling),a=s.data==="F!";break e}}rl(a)}a=!1}a&&(t=l[0])}}return l=Tt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:t},l.queue=a,l=Uh.bind(null,Ee,a),a.dispatch=l,a=wc(!1),u=_c.bind(null,Ee,!1,a.queue),a=Tt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=zb.bind(null,Ee,s,u,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function Sh(e){var t=at();return Nh(t,qe,e)}function Nh(e,t,l){if(t=bc(e,t,vh)[0],e=Pi(Ln)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Cr(t)}catch(x){throw x===Na?qi:x}else a=t;t=at();var s=t.queue,u=s.dispatch;return l!==t.memoizedState&&(Ee.flags|=2048,_a(9,{destroy:void 0},Lb.bind(null,s,l),null)),[a,u,e]}function Lb(e,t){e.action=t}function Eh(e){var t=at(),l=qe;if(l!==null)return Nh(t,l,e);at(),t=t.memoizedState,l=at();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function _a(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=Fi(),Ee.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function jh(){return at().memoizedState}function eo(e,t,l,a){var s=Tt();Ee.flags|=e,s.memoizedState=_a(1|t,{destroy:void 0},l,a===void 0?null:a)}function to(e,t,l,a){var s=at();a=a===void 0?null:a;var u=s.memoizedState.inst;qe!==null&&a!==null&&hc(a,qe.memoizedState.deps)?s.memoizedState=_a(t,u,l,a):(Ee.flags|=e,s.memoizedState=_a(1|t,u,l,a))}function Ch(e,t){eo(8390656,8,e,t)}function Nc(e,t){to(2048,8,e,t)}function Vb(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=Fi(),Ee.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Ah(e){var t=at().memoizedState;return Vb({ref:t,nextImpl:e}),function(){if((He&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function _h(e,t){return to(4,2,e,t)}function Oh(e,t){return to(4,4,e,t)}function Th(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mh(e,t,l){l=l!=null?l.concat([e]):null,to(4,4,Th.bind(null,t,e),l)}function Ec(){}function Dh(e,t){var l=at();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&hc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function kh(e,t){var l=at();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&hc(t,a[1]))return a[0];if(a=e(),Wl){kt(!0);try{e()}finally{kt(!1)}}return l.memoizedState=[a,t],a}function jc(e,t,l){return l===void 0||(zn&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Rm(),Ee.lanes|=e,ml|=e,l)}function Rh(e,t,l,a){return Xt(l,t)?l:ja.current!==null?(e=jc(e,l,a),Xt(e,t)||(st=!0),e):(zn&42)===0||(zn&1073741824)!==0&&(Me&261930)===0?(st=!0,e.memoizedState=l):(e=Rm(),Ee.lanes|=e,ml|=e,t)}function zh(e,t,l,a,s){var u=k.p;k.p=u!==0&&8>u?u:8;var x=A.T,S={};A.T=S,_c(e,!1,t,l);try{var O=s(),q=A.S;if(q!==null&&q(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=Db(O,a);Ar(e,t,K,Kt(e))}else Ar(e,t,a,Kt(e))}catch(te){Ar(e,t,{then:function(){},status:"rejected",reason:te},Kt())}finally{k.p=u,x!==null&&S.types!==null&&(x.types=S.types),A.T=x}}function Bb(){}function Cc(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=Lh(e).queue;zh(e,s,t,H,l===null?Bb:function(){return Vh(e),l(a)})}function Lh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:H},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vh(e){var t=Lh(e);t.next===null&&(t=e.alternate.memoizedState),Ar(e,t.next.queue,{},Kt())}function Ac(){return Nt(Xr)}function Bh(){return at().memoizedState}function Hh(){return at().memoizedState}function Hb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Kt();e=sl(l);var a=cl(t,e,l);a!==null&&(Ut(a,t,l),Sr(a,t,l)),t={cache:nc()},e.payload=t;return}t=t.return}}function Ub(e,t,l){var a=Kt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},no(e)?Yh(t,l):(l=Gs(e,t,l,a),l!==null&&(Ut(l,e,a),Ih(l,t,a)))}function Uh(e,t,l){var a=Kt();Ar(e,t,l,a)}function Ar(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(no(e))Yh(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var x=t.lastRenderedState,S=u(x,l);if(s.hasEagerState=!0,s.eagerState=S,Xt(S,x))return Li(e,t,s,0),$e===null&&zi(),!1}catch{}if(l=Gs(e,t,s,a),l!==null)return Ut(l,e,a),Ih(l,t,a),!0}return!1}function _c(e,t,l,a){if(a={lane:2,revertLane:iu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},no(e)){if(t)throw Error(o(479))}else t=Gs(e,l,a,2),t!==null&&Ut(t,e,2)}function no(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Yh(e,t){Ca=Qi=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Ih(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Wf(e,l)}}var _r={readContext:Nt,use:Ji,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};_r.useEffectEvent=et;var qh={readContext:Nt,use:Ji,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Ch,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,eo(4194308,4,Th.bind(null,t,e),l)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){eo(4,2,e,t)},useMemo:function(e,t){var l=Tt();t=t===void 0?null:t;var a=e();if(Wl){kt(!0);try{e()}finally{kt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Tt();if(l!==void 0){var s=l(t);if(Wl){kt(!0);try{l(t)}finally{kt(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Ub.bind(null,Ee,e),[a.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:function(e){e=wc(e);var t=e.queue,l=Uh.bind(null,Ee,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Ec,useDeferredValue:function(e,t){var l=Tt();return jc(l,e,t)},useTransition:function(){var e=wc(!1);return e=zh.bind(null,Ee,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ee,s=Tt();if(ke){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),$e===null)throw Error(o(349));(Me&127)!==0||uh(a,t,l)}s.memoizedState=l;var u={value:l,getSnapshot:t};return s.queue=u,Ch(dh.bind(null,a,u,e),[e]),a.flags|=2048,_a(9,{destroy:void 0},fh.bind(null,a,u,l,t),null),l},useId:function(){var e=Tt(),t=$e.identifierPrefix;if(ke){var l=bn,a=yn;l=(a&~(1<<32-gt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Ki++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=kb++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ac,useFormState:wh,useActionState:wh,useOptimistic:function(e){var t=Tt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=_c.bind(null,Ee,!0,l),l.dispatch=t,[e,t]},useMemoCache:yc,useCacheRefresh:function(){return Tt().memoizedState=Hb.bind(null,Ee)},useEffectEvent:function(e){var t=Tt(),l={impl:e};return t.memoizedState=l,function(){if((He&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Oc={readContext:Nt,use:Ji,useCallback:Dh,useContext:Nt,useEffect:Nc,useImperativeHandle:Mh,useInsertionEffect:_h,useLayoutEffect:Oh,useMemo:kh,useReducer:Pi,useRef:jh,useState:function(){return Pi(Ln)},useDebugValue:Ec,useDeferredValue:function(e,t){var l=at();return Rh(l,qe.memoizedState,e,t)},useTransition:function(){var e=Pi(Ln)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Cr(e),t]},useSyncExternalStore:ch,useId:Bh,useHostTransitionStatus:Ac,useFormState:Sh,useActionState:Sh,useOptimistic:function(e,t){var l=at();return ph(l,qe,e,t)},useMemoCache:yc,useCacheRefresh:Hh};Oc.useEffectEvent=Ah;var Xh={readContext:Nt,use:Ji,useCallback:Dh,useContext:Nt,useEffect:Nc,useImperativeHandle:Mh,useInsertionEffect:_h,useLayoutEffect:Oh,useMemo:kh,useReducer:vc,useRef:jh,useState:function(){return vc(Ln)},useDebugValue:Ec,useDeferredValue:function(e,t){var l=at();return qe===null?jc(l,e,t):Rh(l,qe.memoizedState,e,t)},useTransition:function(){var e=vc(Ln)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Cr(e),t]},useSyncExternalStore:ch,useId:Bh,useHostTransitionStatus:Ac,useFormState:Eh,useActionState:Eh,useOptimistic:function(e,t){var l=at();return qe!==null?ph(l,qe,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:yc,useCacheRefresh:Hh};Xh.useEffectEvent=Ah;function Tc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:b({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Mc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Kt(),s=sl(a);s.payload=t,l!=null&&(s.callback=l),t=cl(e,s,a),t!==null&&(Ut(t,e,a),Sr(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Kt(),s=sl(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=cl(e,s,a),t!==null&&(Ut(t,e,a),Sr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Kt(),a=sl(l);a.tag=2,t!=null&&(a.callback=t),t=cl(e,a,l),t!==null&&(Ut(t,e,l),Sr(t,e,l))}};function Gh(e,t,l,a,s,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,x):t.prototype&&t.prototype.isPureReactComponent?!mr(l,a)||!mr(s,u):!0}function $h(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Mc.enqueueReplaceState(t,t.state,null)}function Zl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=b({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function Wh(e){Ri(e)}function Zh(e){console.error(e)}function Qh(e){Ri(e)}function lo(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Kh(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Dc(e,t,l){return l=sl(l),l.tag=3,l.payload={element:null},l.callback=function(){lo(e,t)},l}function Fh(e){return e=sl(e),e.tag=3,e}function Jh(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var u=a.value;e.payload=function(){return s(u)},e.callback=function(){Kh(t,l,a)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Kh(t,l,a),typeof s!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})})}function Yb(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&va(t,l,s,!0),l=$t.current,l!==null){switch(l.tag){case 31:case 13:return cn===null?go():l.alternate===null&&tt===0&&(tt=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===Xi?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),lu(e,a,s)),!1;case 22:return l.flags|=65536,a===Xi?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),lu(e,a,s)),!1}throw Error(o(435,l.tag))}return lu(e,a,s),go(),!1}if(ke)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Fs&&(e=Error(o(422),{cause:a}),xr(an(e,l)))):(a!==Fs&&(t=Error(o(423),{cause:a}),xr(an(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=an(a,l),s=Dc(e.stateNode,a,s),sc(e,s),tt!==4&&(tt=2)),!1;var u=Error(o(520),{cause:a});if(u=an(u,l),Lr===null?Lr=[u]:Lr.push(u),tt!==4&&(tt=2),t===null)return!0;a=an(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=Dc(l.stateNode,a,e),sc(l,e),!1;case 1:if(t=l.type,u=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(pl===null||!pl.has(u))))return l.flags|=65536,s&=-s,l.lanes|=s,s=Fh(s),Jh(s,e,l,a),sc(l,s),!1}l=l.return}while(l!==null);return!1}var kc=Error(o(461)),st=!1;function Et(e,t,l,a){t.child=e===null?nh(t,null,l,a):$l(t,e.child,l,a)}function Ph(e,t,l,a,s){l=l.render;var u=t.ref;if("ref"in a){var x={};for(var S in a)S!=="ref"&&(x[S]=a[S])}else x=a;return Il(t),a=mc(e,t,l,x,u,s),S=pc(),e!==null&&!st?(gc(e,t,s),Vn(e,t,s)):(ke&&S&&Qs(t),t.flags|=1,Et(e,t,a,s),t.child)}function em(e,t,l,a,s){if(e===null){var u=l.type;return typeof u=="function"&&!$s(u)&&u.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=u,tm(e,t,u,a,s)):(e=Bi(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Yc(e,s)){var x=u.memoizedProps;if(l=l.compare,l=l!==null?l:mr,l(x,a)&&e.ref===t.ref)return Vn(e,t,s)}return t.flags|=1,e=Mn(u,a),e.ref=t.ref,e.return=t,t.child=e}function tm(e,t,l,a,s){if(e!==null){var u=e.memoizedProps;if(mr(u,a)&&e.ref===t.ref)if(st=!1,t.pendingProps=a=u,Yc(e,s))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,Vn(e,t,s)}return Rc(e,t,l,a,s)}function nm(e,t,l,a){var s=a.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~u}else a=0,t.child=null;return lm(e,t,u,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ii(t,u!==null?u.cachePool:null),u!==null?rh(t,u):uc(),ih(t);else return a=t.lanes=536870912,lm(e,t,u!==null?u.baseLanes|l:l,l,a)}else u!==null?(Ii(t,u.cachePool),rh(t,u),fl(),t.memoizedState=null):(e!==null&&Ii(t,null),uc(),fl());return Et(e,t,s,l),t.child}function Or(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function lm(e,t,l,a,s){var u=ac();return u=u===null?null:{parent:it._currentValue,pool:u},t.memoizedState={baseLanes:l,cachePool:u},e!==null&&Ii(t,null),uc(),ih(t),e!==null&&va(e,t,a,!0),t.childLanes=s,null}function ao(e,t){return t=io({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function am(e,t,l){return $l(t,e.child,null,l),e=ao(t,t.pendingProps),e.flags|=2,Wt(t),t.memoizedState=null,e}function Ib(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(a.mode==="hidden")return e=ao(t,a),t.lanes=536870912,Or(null,e);if(dc(t),(e=Qe)?(e=gp(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ll!==null?{id:yn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},l=Yd(e),l.return=t,t.child=l,St=t,Qe=null)):e=null,e===null)throw rl(t);return t.lanes=536870912,null}return ao(t,a)}var u=e.memoizedState;if(u!==null){var x=u.dehydrated;if(dc(t),s)if(t.flags&256)t.flags&=-257,t=am(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(st||va(e,t,l,!1),s=(l&e.childLanes)!==0,st||s){if(a=$e,a!==null&&(x=Zf(a,l),x!==0&&x!==u.retryLane))throw u.retryLane=x,Bl(e,x),Ut(a,e,x),kc;go(),t=am(e,t,l)}else e=u.treeContext,Qe=un(x.nextSibling),St=t,ke=!0,al=null,sn=!1,e!==null&&Xd(t,e),t=ao(t,a),t.flags|=4096;return t}return e=Mn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ro(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Rc(e,t,l,a,s){return Il(t),l=mc(e,t,l,a,void 0,s),a=pc(),e!==null&&!st?(gc(e,t,s),Vn(e,t,s)):(ke&&a&&Qs(t),t.flags|=1,Et(e,t,l,s),t.child)}function rm(e,t,l,a,s,u){return Il(t),t.updateQueue=null,l=sh(t,a,l,s),oh(e),a=pc(),e!==null&&!st?(gc(e,t,u),Vn(e,t,u)):(ke&&a&&Qs(t),t.flags|=1,Et(e,t,l,u),t.child)}function im(e,t,l,a,s){if(Il(t),t.stateNode===null){var u=ga,x=l.contextType;typeof x=="object"&&x!==null&&(u=Nt(x)),u=new l(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Mc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},ic(t),x=l.contextType,u.context=typeof x=="object"&&x!==null?Nt(x):ga,u.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Tc(t,l,x,a),u.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(x=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),x!==u.state&&Mc.enqueueReplaceState(u,u.state,null),Er(t,a,u,s),Nr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var S=t.memoizedProps,O=Zl(l,S);u.props=O;var q=u.context,K=l.contextType;x=ga,typeof K=="object"&&K!==null&&(x=Nt(K));var te=l.getDerivedStateFromProps;K=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,K||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(S||q!==x)&&$h(t,u,a,x),ol=!1;var G=t.memoizedState;u.state=G,Er(t,a,u,s),Nr(),q=t.memoizedState,S||G!==q||ol?(typeof te=="function"&&(Tc(t,l,te,a),q=t.memoizedState),(O=ol||Gh(t,l,O,a,G,q,x))?(K||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=q),u.props=a,u.state=q,u.context=x,a=O):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,oc(e,t),x=t.memoizedProps,K=Zl(l,x),u.props=K,te=t.pendingProps,G=u.context,q=l.contextType,O=ga,typeof q=="object"&&q!==null&&(O=Nt(q)),S=l.getDerivedStateFromProps,(q=typeof S=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x!==te||G!==O)&&$h(t,u,a,O),ol=!1,G=t.memoizedState,u.state=G,Er(t,a,u,s),Nr();var Z=t.memoizedState;x!==te||G!==Z||ol||e!==null&&e.dependencies!==null&&Ui(e.dependencies)?(typeof S=="function"&&(Tc(t,l,S,a),Z=t.memoizedState),(K=ol||Gh(t,l,K,a,G,Z,O)||e!==null&&e.dependencies!==null&&Ui(e.dependencies))?(q||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,Z,O),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,Z,O)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Z),u.props=a,u.state=Z,u.context=O,a=K):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,ro(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=$l(t,e.child,null,s),t.child=$l(t,null,l,s)):Et(e,t,l,s),t.memoizedState=u.state,e=t.child):e=Vn(e,t,s),e}function om(e,t,l,a){return Ul(),t.flags|=256,Et(e,t,l,a),t.child}var zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lc(e){return{baseLanes:e,cachePool:Kd()}}function Vc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Qt),e}function sm(e,t,l){var a=t.pendingProps,s=!1,u=(t.flags&128)!==0,x;if((x=u)||(x=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),x&&(s=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(s?ul(t):fl(),(e=Qe)?(e=gp(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ll!==null?{id:yn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},l=Yd(e),l.return=t,t.child=l,St=t,Qe=null)):e=null,e===null)throw rl(t);return bu(e)?t.lanes=32:t.lanes=536870912,null}var S=a.children;return a=a.fallback,s?(fl(),s=t.mode,S=io({mode:"hidden",children:S},s),a=Hl(a,s,l,null),S.return=t,a.return=t,S.sibling=a,t.child=S,a=t.child,a.memoizedState=Lc(l),a.childLanes=Vc(e,x,l),t.memoizedState=zc,Or(null,a)):(ul(t),Bc(t,S))}var O=e.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(u)t.flags&256?(ul(t),t.flags&=-257,t=Hc(e,t,l)):t.memoizedState!==null?(fl(),t.child=e.child,t.flags|=128,t=null):(fl(),S=a.fallback,s=t.mode,a=io({mode:"visible",children:a.children},s),S=Hl(S,s,l,null),S.flags|=2,a.return=t,S.return=t,a.sibling=S,t.child=a,$l(t,e.child,null,l),a=t.child,a.memoizedState=Lc(l),a.childLanes=Vc(e,x,l),t.memoizedState=zc,t=Or(null,a));else if(ul(t),bu(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var q=x.dgst;x=q,a=Error(o(419)),a.stack="",a.digest=x,xr({value:a,source:null,stack:null}),t=Hc(e,t,l)}else if(st||va(e,t,l,!1),x=(l&e.childLanes)!==0,st||x){if(x=$e,x!==null&&(a=Zf(x,l),a!==0&&a!==O.retryLane))throw O.retryLane=a,Bl(e,a),Ut(x,e,a),kc;yu(S)||go(),t=Hc(e,t,l)}else yu(S)?(t.flags|=192,t.child=e.child,t=null):(e=O.treeContext,Qe=un(S.nextSibling),St=t,ke=!0,al=null,sn=!1,e!==null&&Xd(t,e),t=Bc(t,a.children),t.flags|=4096);return t}return s?(fl(),S=a.fallback,s=t.mode,O=e.child,q=O.sibling,a=Mn(O,{mode:"hidden",children:a.children}),a.subtreeFlags=O.subtreeFlags&65011712,q!==null?S=Mn(q,S):(S=Hl(S,s,l,null),S.flags|=2),S.return=t,a.return=t,a.sibling=S,t.child=a,Or(null,a),a=t.child,S=e.child.memoizedState,S===null?S=Lc(l):(s=S.cachePool,s!==null?(O=it._currentValue,s=s.parent!==O?{parent:O,pool:O}:s):s=Kd(),S={baseLanes:S.baseLanes|l,cachePool:s}),a.memoizedState=S,a.childLanes=Vc(e,x,l),t.memoizedState=zc,Or(e.child,a)):(ul(t),l=e.child,e=l.sibling,l=Mn(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function Bc(e,t){return t=io({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function io(e,t){return e=Gt(22,e,null,t),e.lanes=0,e}function Hc(e,t,l){return $l(t,e.child,null,l),e=Bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cm(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ec(e.return,t,l)}function Uc(e,t,l,a,s,u){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:u}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=a,x.tail=l,x.tailMode=s,x.treeForkCount=u)}function um(e,t,l){var a=t.pendingProps,s=a.revealOrder,u=a.tail;a=a.children;var x=lt.current,S=(x&2)!==0;if(S?(x=x&1|2,t.flags|=128):x&=1,F(lt,x),Et(e,t,a,l),a=ke?gr:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cm(e,l,t);else if(e.tag===19)cm(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Zi(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),Uc(t,!1,s,l,u,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Zi(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}Uc(t,!0,l,null,u,a);break;case"together":Uc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Vn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ml|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(va(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Mn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Mn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Yc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ui(e)))}function qb(e,t,l){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),il(t,it,e.memoizedState.cache),Ul();break;case 27:case 5:Re(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:il(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,dc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ul(t),t.flags|=128,null):(l&t.child.childLanes)!==0?sm(e,t,l):(ul(t),e=Vn(e,t,l),e!==null?e.sibling:null);ul(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(va(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return um(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(lt,lt.current),a)break;return null;case 22:return t.lanes=0,nm(e,t,l,t.pendingProps);case 24:il(t,it,e.memoizedState.cache)}return Vn(e,t,l)}function fm(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!Yc(e,l)&&(t.flags&128)===0)return st=!1,qb(e,t,l);st=(e.flags&131072)!==0}else st=!1,ke&&(t.flags&1048576)!==0&&qd(t,gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Xl(t.elementType),t.type=e,typeof e=="function")$s(e)?(a=Zl(e,a),t.tag=1,t=im(null,t,e,a,l)):(t.tag=0,t=Rc(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===U){t.tag=11,t=Ph(null,t,e,a,l);break e}else if(s===$){t.tag=14,t=em(null,t,e,a,l);break e}}throw t=Q(e)||e,Error(o(306,t,""))}}return t;case 0:return Rc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=Zl(a,t.pendingProps),im(e,t,a,s,l);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var u=t.memoizedState;s=u.element,oc(e,t),Er(t,a,null,l);var x=t.memoizedState;if(a=x.cache,il(t,it,a),a!==u.cache&&tc(t,[it],l,!0),Nr(),a=x.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=om(e,t,a,l);break e}else if(a!==s){s=an(Error(o(424)),t),xr(s),t=om(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Qe=un(e.firstChild),St=t,ke=!0,al=null,sn=!0,l=nh(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ul(),a===s){t=Vn(e,t,l);break e}Et(e,t,a,l)}t=t.child}return t;case 26:return ro(e,t),e===null?(l=Sp(t.type,null,t.pendingProps,null))?t.memoizedState=l:ke||(l=t.type,e=t.pendingProps,a=No(xe.current).createElement(l),a[wt]=t,a[Rt]=e,jt(a,l,e),xt(a),t.stateNode=a):t.memoizedState=Sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Re(t),e===null&&ke&&(a=t.stateNode=bp(t.type,t.pendingProps,xe.current),St=t,sn=!0,s=Qe,bl(t.type)?(vu=s,Qe=un(a.firstChild)):Qe=s),Et(e,t,t.pendingProps.children,l),ro(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((s=a=Qe)&&(a=bv(a,t.type,t.pendingProps,sn),a!==null?(t.stateNode=a,St=t,Qe=un(a.firstChild),sn=!1,s=!0):s=!1),s||rl(t)),Re(t),s=t.type,u=t.pendingProps,x=e!==null?e.memoizedProps:null,a=u.children,pu(s,u)?a=null:x!==null&&pu(s,x)&&(t.flags|=32),t.memoizedState!==null&&(s=mc(e,t,Rb,null,null,l),Xr._currentValue=s),ro(e,t),Et(e,t,a,l),t.child;case 6:return e===null&&ke&&((e=l=Qe)&&(l=vv(l,t.pendingProps,sn),l!==null?(t.stateNode=l,St=t,Qe=null,e=!0):e=!1),e||rl(t)),null;case 13:return sm(e,t,l);case 4:return oe(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=$l(t,null,a,l):Et(e,t,a,l),t.child;case 11:return Ph(e,t,t.type,t.pendingProps,l);case 7:return Et(e,t,t.pendingProps,l),t.child;case 8:return Et(e,t,t.pendingProps.children,l),t.child;case 12:return Et(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,il(t,t.type,a.value),Et(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Il(t),s=Nt(s),a=a(s),t.flags|=1,Et(e,t,a,l),t.child;case 14:return em(e,t,t.type,t.pendingProps,l);case 15:return tm(e,t,t.type,t.pendingProps,l);case 19:return um(e,t,l);case 31:return Ib(e,t,l);case 22:return nm(e,t,l,t.pendingProps);case 24:return Il(t),a=Nt(it),e===null?(s=ac(),s===null&&(s=$e,u=nc(),s.pooledCache=u,u.refCount++,u!==null&&(s.pooledCacheLanes|=l),s=u),t.memoizedState={parent:a,cache:s},ic(t),il(t,it,s)):((e.lanes&l)!==0&&(oc(e,t),Er(t,null,null,l),Nr()),s=e.memoizedState,u=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),il(t,it,a)):(a=u.cache,il(t,it,a),a!==s.cache&&tc(t,[it],l,!0))),Et(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Bn(e){e.flags|=4}function Ic(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Bm())e.flags|=8192;else throw Gl=Xi,rc}else e.flags&=-16777217}function dm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ap(t))if(Bm())e.flags|=8192;else throw Gl=Xi,rc}function oo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gf():536870912,e.lanes|=t,Da|=t)}function Tr(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Xb(e,t,l){var a=t.pendingProps;switch(Ks(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Rn(it),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ba(t)?Bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Js())),Ke(t),null;case 26:var s=t.type,u=t.memoizedState;return e===null?(Bn(t),u!==null?(Ke(t),dm(t,u)):(Ke(t),Ic(t,s,null,a,l))):u?u!==e.memoizedState?(Bn(t),Ke(t),dm(t,u)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Bn(t),Ke(t),Ic(t,s,e,a,l)),null;case 27:if(Le(t),l=xe.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Bn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ke(t),null}e=ne.current,ba(t)?Gd(t):(e=bp(s,a,l),t.stateNode=e,Bn(t))}return Ke(t),null;case 5:if(Le(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Bn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ke(t),null}if(u=ne.current,ba(t))Gd(t);else{var x=No(xe.current);switch(u){case 1:u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":u=x.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?x.createElement("select",{is:a.is}):x.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?x.createElement(s,{is:a.is}):x.createElement(s)}}u[wt]=t,u[Rt]=a;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=u;e:switch(jt(u,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Bn(t)}}return Ke(t),Ic(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Bn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=xe.current,ba(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=St,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[wt]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||sp(e.nodeValue,l)),e||rl(t,!0)}else e=No(e).createTextNode(a),e[wt]=t,t.stateNode=e}return Ke(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=ba(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[wt]=t}else Ul(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else l=Js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Wt(t),t):(Wt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ke(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ba(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[wt]=t}else Ul(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),s=!1}else s=Js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Wt(t),t):(Wt(t),null)}return Wt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),oo(t,t.updateQueue),Ke(t),null);case 4:return fe(),e===null&&uu(t.stateNode.containerInfo),Ke(t),null;case 10:return Rn(t.type),Ke(t),null;case 19:if(V(lt),a=t.memoizedState,a===null)return Ke(t),null;if(s=(t.flags&128)!==0,u=a.rendering,u===null)if(s)Tr(a,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Zi(e),u!==null){for(t.flags|=128,Tr(a,!1),e=u.updateQueue,t.updateQueue=e,oo(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Ud(l,e),l=l.sibling;return F(lt,lt.current&1|2),ke&&Dn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Pe()>ho&&(t.flags|=128,s=!0,Tr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Zi(u),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,oo(t,e),Tr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!ke)return Ke(t),null}else 2*Pe()-a.renderingStartTime>ho&&l!==536870912&&(t.flags|=128,s=!0,Tr(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(e=a.last,e!==null?e.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pe(),e.sibling=null,l=lt.current,F(lt,s?l&1|2:l&1),ke&&Dn(t,a.treeForkCount),e):(Ke(t),null);case 22:case 23:return Wt(t),fc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),l=t.updateQueue,l!==null&&oo(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&V(ql),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Rn(it),Ke(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Gb(e,t){switch(Ks(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rn(it),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Le(t),null;case 31:if(t.memoizedState!==null){if(Wt(t),t.alternate===null)throw Error(o(340));Ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(lt),null;case 4:return fe(),null;case 10:return Rn(t.type),null;case 22:case 23:return Wt(t),fc(),e!==null&&V(ql),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Rn(it),null;case 25:return null;default:return null}}function hm(e,t){switch(Ks(t),t.tag){case 3:Rn(it),fe();break;case 26:case 27:case 5:Le(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&Wt(t);break;case 13:Wt(t);break;case 19:V(lt);break;case 10:Rn(t.type);break;case 22:case 23:Wt(t),fc(),e!==null&&V(ql);break;case 24:Rn(it)}}function Mr(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var u=l.create,x=l.inst;a=u(),x.destroy=a}l=l.next}while(l!==s)}}catch(S){Ie(t,t.return,S)}}function dl(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){var x=a.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,s=t;var O=l,q=S;try{q()}catch(K){Ie(s,O,K)}}}a=a.next}while(a!==u)}}catch(K){Ie(t,t.return,K)}}function mm(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{ah(t,l)}catch(a){Ie(e,e.return,a)}}}function pm(e,t,l){l.props=Zl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ie(e,t,a)}}function Dr(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){Ie(e,t,s)}}function vn(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){Ie(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){Ie(e,t,s)}else l.current=null}function gm(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){Ie(e,e.return,s)}}function qc(e,t,l){try{var a=e.stateNode;hv(a,e.type,l,t),a[Rt]=t}catch(s){Ie(e,e.return,s)}}function xm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bl(e.type)||e.tag===4}function Xc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=On));else if(a!==4&&(a===27&&bl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Gc(e,t,l),e=e.sibling;e!==null;)Gc(e,t,l),e=e.sibling}function so(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&bl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(so(e,t,l),e=e.sibling;e!==null;)so(e,t,l),e=e.sibling}function ym(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);jt(t,a,l),t[wt]=e,t[Rt]=l}catch(u){Ie(e,e.return,u)}}var Hn=!1,ct=!1,$c=!1,bm=typeof WeakSet=="function"?WeakSet:Set,yt=null;function $b(e,t){if(e=e.containerInfo,hu=To,e=Md(e),Hs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var x=0,S=-1,O=-1,q=0,K=0,te=e,G=null;t:for(;;){for(var Z;te!==l||s!==0&&te.nodeType!==3||(S=x+s),te!==u||a!==0&&te.nodeType!==3||(O=x+a),te.nodeType===3&&(x+=te.nodeValue.length),(Z=te.firstChild)!==null;)G=te,te=Z;for(;;){if(te===e)break t;if(G===l&&++q===s&&(S=x),G===u&&++K===a&&(O=x),(Z=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Z}l=S===-1||O===-1?null:{start:S,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(mu={focusedElem:e,selectionRange:l},To=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,l=t,s=u.memoizedProps,u=u.memoizedState,a=l.stateNode;try{var he=Zl(l.type,s);e=a.getSnapshotBeforeUpdate(he,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(we){Ie(l,l.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)xu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}}function vm(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Yn(e,l),a&4&&Mr(5,l);break;case 1:if(Yn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){Ie(l,l.return,x)}else{var s=Zl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ie(l,l.return,x)}}a&64&&mm(l),a&512&&Dr(l,l.return);break;case 3:if(Yn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{ah(e,t)}catch(x){Ie(l,l.return,x)}}break;case 27:t===null&&a&4&&ym(l);case 26:case 5:Yn(e,l),t===null&&a&4&&gm(l),a&512&&Dr(l,l.return);break;case 12:Yn(e,l);break;case 31:Yn(e,l),a&4&&Nm(e,l);break;case 13:Yn(e,l),a&4&&Em(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=tv.bind(null,l),wv(e,l))));break;case 22:if(a=l.memoizedState!==null||Hn,!a){t=t!==null&&t.memoizedState!==null||ct,s=Hn;var u=ct;Hn=a,(ct=t)&&!u?In(e,l,(l.subtreeFlags&8772)!==0):Yn(e,l),Hn=s,ct=u}break;case 30:break;default:Yn(e,l)}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ss(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Lt=!1;function Un(e,t,l){for(l=l.child;l!==null;)Sm(e,t,l),l=l.sibling}function Sm(e,t,l){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Ot,l)}catch{}switch(l.tag){case 26:ct||vn(l,t),Un(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ct||vn(l,t);var a=Je,s=Lt;bl(l.type)&&(Je=l.stateNode,Lt=!1),Un(e,t,l),Yr(l.stateNode),Je=a,Lt=s;break;case 5:ct||vn(l,t);case 6:if(a=Je,s=Lt,Je=null,Un(e,t,l),Je=a,Lt=s,Je!==null)if(Lt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(u){Ie(l,t,u)}else try{Je.removeChild(l.stateNode)}catch(u){Ie(l,t,u)}break;case 18:Je!==null&&(Lt?(e=Je,mp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ua(e)):mp(Je,l.stateNode));break;case 4:a=Je,s=Lt,Je=l.stateNode.containerInfo,Lt=!0,Un(e,t,l),Je=a,Lt=s;break;case 0:case 11:case 14:case 15:dl(2,l,t),ct||dl(4,l,t),Un(e,t,l);break;case 1:ct||(vn(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&pm(l,t,a)),Un(e,t,l);break;case 21:Un(e,t,l);break;case 22:ct=(a=ct)||l.memoizedState!==null,Un(e,t,l),ct=a;break;default:Un(e,t,l)}}function Nm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(l){Ie(t,t.return,l)}}}function Em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(l){Ie(t,t.return,l)}}function Wb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new bm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new bm),t;default:throw Error(o(435,e.tag))}}function co(e,t){var l=Wb(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=nv.bind(null,e,a);a.then(s,s)}})}function Vt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],u=e,x=t,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(bl(S.type)){Je=S.stateNode,Lt=!1;break e}break;case 5:Je=S.stateNode,Lt=!1;break e;case 3:case 4:Je=S.stateNode.containerInfo,Lt=!0;break e}S=S.return}if(Je===null)throw Error(o(160));Sm(u,x,s),Je=null,Lt=!1,u=s.alternate,u!==null&&(u.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)jm(t,e),t=t.sibling}var pn=null;function jm(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(t,e),Bt(e),a&4&&(dl(3,e,e.return),Mr(3,e),dl(5,e,e.return));break;case 1:Vt(t,e),Bt(e),a&512&&(ct||l===null||vn(l,l.return)),a&64&&Hn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=pn;if(Vt(t,e),Bt(e),a&512&&(ct||l===null||vn(l,l.return)),a&4){var u=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":u=s.getElementsByTagName("title")[0],(!u||u[rr]||u[wt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=s.createElement(a),s.head.insertBefore(u,s.querySelector("head > title"))),jt(u,a,l),u[wt]=e,xt(u),a=u;break e;case"link":var x=jp("link","href",s).get(a+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(u=x[S],u.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&u.getAttribute("rel")===(l.rel==null?null:l.rel)&&u.getAttribute("title")===(l.title==null?null:l.title)&&u.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break t}}u=s.createElement(a),jt(u,a,l),s.head.appendChild(u);break;case"meta":if(x=jp("meta","content",s).get(a+(l.content||""))){for(S=0;S<x.length;S++)if(u=x[S],u.getAttribute("content")===(l.content==null?null:""+l.content)&&u.getAttribute("name")===(l.name==null?null:l.name)&&u.getAttribute("property")===(l.property==null?null:l.property)&&u.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&u.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break t}}u=s.createElement(a),jt(u,a,l),s.head.appendChild(u);break;default:throw Error(o(468,a))}u[wt]=e,xt(u),a=u}e.stateNode=a}else Cp(s,e.type,e.stateNode);else e.stateNode=Ep(s,a,e.memoizedProps);else u!==a?(u===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):u.count--,a===null?Cp(s,e.type,e.stateNode):Ep(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&qc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Vt(t,e),Bt(e),a&512&&(ct||l===null||vn(l,l.return)),l!==null&&a&4&&qc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Vt(t,e),Bt(e),a&512&&(ct||l===null||vn(l,l.return)),e.flags&32){s=e.stateNode;try{ca(s,"")}catch(he){Ie(e,e.return,he)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,qc(e,s,l!==null?l.memoizedProps:s)),a&1024&&($c=!0);break;case 6:if(Vt(t,e),Bt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(he){Ie(e,e.return,he)}}break;case 3:if(Co=null,s=pn,pn=Eo(t.containerInfo),Vt(t,e),pn=s,Bt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ua(t.containerInfo)}catch(he){Ie(e,e.return,he)}$c&&($c=!1,Cm(e));break;case 4:a=pn,pn=Eo(e.stateNode.containerInfo),Vt(t,e),Bt(e),pn=a;break;case 12:Vt(t,e),Bt(e);break;case 31:Vt(t,e),Bt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,co(e,a)));break;case 13:Vt(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fo=Pe()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,co(e,a)));break;case 22:s=e.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,q=Hn,K=ct;if(Hn=q||s,ct=K||O,Vt(t,e),ct=K,Hn=q,Bt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||O||Hn||ct||Ql(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){O=l=t;try{if(u=O.stateNode,s)x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=O.stateNode;var te=O.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){Ie(O,O.return,he)}}}else if(t.tag===6){if(l===null){O=t;try{O.stateNode.nodeValue=s?"":O.memoizedProps}catch(he){Ie(O,O.return,he)}}}else if(t.tag===18){if(l===null){O=t;try{var Z=O.stateNode;s?pp(Z,!0):pp(O.stateNode,!1)}catch(he){Ie(O,O.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,co(e,l))));break;case 19:Vt(t,e),Bt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,co(e,a)));break;case 30:break;case 21:break;default:Vt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(xm(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,u=Xc(e);so(e,u,s);break;case 5:var x=l.stateNode;l.flags&32&&(ca(x,""),l.flags&=-33);var S=Xc(e);so(e,S,x);break;case 3:case 4:var O=l.stateNode.containerInfo,q=Xc(e);Gc(e,q,O);break;default:throw Error(o(161))}}catch(K){Ie(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vm(e,t.alternate,t),t=t.sibling}function Ql(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:dl(4,t,t.return),Ql(t);break;case 1:vn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&pm(t,t.return,l),Ql(t);break;case 27:Yr(t.stateNode);case 26:case 5:vn(t,t.return),Ql(t);break;case 22:t.memoizedState===null&&Ql(t);break;case 30:Ql(t);break;default:Ql(t)}e=e.sibling}}function In(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,u=t,x=u.flags;switch(u.tag){case 0:case 11:case 15:In(s,u,l),Mr(4,u);break;case 1:if(In(s,u,l),a=u,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(q){Ie(a,a.return,q)}if(a=u,s=a.updateQueue,s!==null){var S=a.stateNode;try{var O=s.shared.hiddenCallbacks;if(O!==null)for(s.shared.hiddenCallbacks=null,s=0;s<O.length;s++)lh(O[s],S)}catch(q){Ie(a,a.return,q)}}l&&x&64&&mm(u),Dr(u,u.return);break;case 27:ym(u);case 26:case 5:In(s,u,l),l&&a===null&&x&4&&gm(u),Dr(u,u.return);break;case 12:In(s,u,l);break;case 31:In(s,u,l),l&&x&4&&Nm(s,u);break;case 13:In(s,u,l),l&&x&4&&Em(s,u);break;case 22:u.memoizedState===null&&In(s,u,l),Dr(u,u.return);break;case 30:break;default:In(s,u,l)}t=t.sibling}}function Wc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&yr(l))}function Zc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yr(e))}function gn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Am(e,t,l,a),t=t.sibling}function Am(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:gn(e,t,l,a),s&2048&&Mr(9,t);break;case 1:gn(e,t,l,a);break;case 3:gn(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yr(e)));break;case 12:if(s&2048){gn(e,t,l,a),e=t.stateNode;try{var u=t.memoizedProps,x=u.id,S=u.onPostCommit;typeof S=="function"&&S(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Ie(t,t.return,O)}}else gn(e,t,l,a);break;case 31:gn(e,t,l,a);break;case 13:gn(e,t,l,a);break;case 23:break;case 22:u=t.stateNode,x=t.alternate,t.memoizedState!==null?u._visibility&2?gn(e,t,l,a):kr(e,t):u._visibility&2?gn(e,t,l,a):(u._visibility|=2,Oa(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Wc(x,t);break;case 24:gn(e,t,l,a),s&2048&&Zc(t.alternate,t);break;default:gn(e,t,l,a)}}function Oa(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,x=t,S=l,O=a,q=x.flags;switch(x.tag){case 0:case 11:case 15:Oa(u,x,S,O,s),Mr(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?Oa(u,x,S,O,s):kr(u,x):(K._visibility|=2,Oa(u,x,S,O,s)),s&&q&2048&&Wc(x.alternate,x);break;case 24:Oa(u,x,S,O,s),s&&q&2048&&Zc(x.alternate,x);break;default:Oa(u,x,S,O,s)}t=t.sibling}}function kr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:kr(l,a),s&2048&&Wc(a.alternate,a);break;case 24:kr(l,a),s&2048&&Zc(a.alternate,a);break;default:kr(l,a)}t=t.sibling}}var Rr=8192;function Ta(e,t,l){if(e.subtreeFlags&Rr)for(e=e.child;e!==null;)_m(e,t,l),e=e.sibling}function _m(e,t,l){switch(e.tag){case 26:Ta(e,t,l),e.flags&Rr&&e.memoizedState!==null&&kv(l,pn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,t,l);break;case 3:case 4:var a=pn;pn=Eo(e.stateNode.containerInfo),Ta(e,t,l),pn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Rr,Rr=16777216,Ta(e,t,l),Rr=a):Ta(e,t,l));break;default:Ta(e,t,l)}}function Om(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];yt=a,Mm(a,e)}Om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tm(e),e=e.sibling}function Tm(e){switch(e.tag){case 0:case 11:case 15:zr(e),e.flags&2048&&dl(9,e,e.return);break;case 3:zr(e);break;case 12:zr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,uo(e)):zr(e);break;default:zr(e)}}function uo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];yt=a,Mm(a,e)}Om(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:dl(8,t,t.return),uo(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,uo(t));break;default:uo(t)}e=e.sibling}}function Mm(e,t){for(;yt!==null;){var l=yt;switch(l.tag){case 0:case 11:case 15:dl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:yr(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,yt=a;else e:for(l=e;yt!==null;){a=yt;var s=a.sibling,u=a.return;if(wm(a),a===l){yt=null;break e}if(s!==null){s.return=u,yt=s;break e}yt=u}}}var Zb={getCacheForType:function(e){var t=Nt(it),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Nt(it).controller.signal}},Qb=typeof WeakMap=="function"?WeakMap:Map,He=0,$e=null,Oe=null,Me=0,Ye=0,Zt=null,hl=!1,Ma=!1,Qc=!1,qn=0,tt=0,ml=0,Kl=0,Kc=0,Qt=0,Da=0,Lr=null,Ht=null,Fc=!1,fo=0,Dm=0,ho=1/0,mo=null,pl=null,ht=0,gl=null,ka=null,Xn=0,Jc=0,Pc=null,km=null,Vr=0,eu=null;function Kt(){return(He&2)!==0&&Me!==0?Me&-Me:A.T!==null?iu():Qf()}function Rm(){if(Qt===0)if((Me&536870912)===0||ke){var e=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),Qt=e}else Qt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Qt}function Ut(e,t,l){(e===$e&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),xl(e,Me,Qt,!1)),ar(e,l),((He&2)===0||e!==$e)&&(e===$e&&((He&2)===0&&(Kl|=l),tt===4&&xl(e,Me,Qt,!1)),wn(e))}function zm(e,t,l){if((He&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||lr(e,t),s=a?Jb(e,t):nu(e,t,!0),u=a;do{if(s===0){Ma&&!a&&xl(e,t,0,!1);break}else{if(l=e.current.alternate,u&&!Kb(l)){s=nu(e,t,!1),u=!1;continue}if(s===2){if(u=t,e.errorRecoveryDisabledLanes&u)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var S=e;s=Lr;var O=S.current.memoizedState.isDehydrated;if(O&&(Ra(S,x).flags|=256),x=nu(S,x,!1),x!==2){if(Qc&&!O){S.errorRecoveryDisabledLanes|=u,Kl|=u,s=4;break e}u=Ht,Ht=s,u!==null&&(Ht===null?Ht=u:Ht.push.apply(Ht,u))}s=x}if(u=!1,s!==2)continue}}if(s===1){Ra(e,0),xl(e,t,0,!0);break}e:{switch(a=e,u=s,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:xl(a,t,Qt,!hl);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=fo+300-Pe(),10<s)){if(xl(a,t,Qt,!hl),Ni(a,0,!0)!==0)break e;Xn=t,a.timeoutHandle=dp(Lm.bind(null,a,l,Ht,mo,Fc,t,Qt,Kl,Da,hl,u,"Throttled",-0,0),s);break e}Lm(a,l,Ht,mo,Fc,t,Qt,Kl,Da,hl,u,null,-0,0)}}break}while(!0);wn(e)}function Lm(e,t,l,a,s,u,x,S,O,q,K,te,G,Z){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},_m(t,u,te);var he=(u&62914560)===u?fo-Pe():(u&4194048)===u?Dm-Pe():0;if(he=Rv(te,he),he!==null){Xn=u,e.cancelPendingCommit=he(Xm.bind(null,e,t,u,l,a,s,x,S,O,K,te,null,G,Z)),xl(e,u,x,!q);return}}Xm(e,t,u,l,a,s,x,S,O)}function Kb(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],u=s.getSnapshot;s=s.value;try{if(!Xt(u(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xl(e,t,l,a){t&=~Kc,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var u=31-gt(s),x=1<<u;a[u]=-1,s&=~x}l!==0&&$f(e,l,t)}function po(){return(He&6)===0?(Br(0),!1):!0}function tu(){if(Oe!==null){if(Ye===0)var e=Oe.return;else e=Oe,kn=Yl=null,xc(e),Ea=null,vr=0,e=Oe;for(;e!==null;)hm(e.alternate,e),e=e.return;Oe=null}}function Ra(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,gv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Xn=0,tu(),$e=e,Oe=l=Mn(e.current,null),Me=t,Ye=0,Zt=null,hl=!1,Ma=lr(e,t),Qc=!1,Da=Qt=Kc=Kl=ml=tt=0,Ht=Lr=null,Fc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-gt(a),u=1<<s;t|=e[s],a&=~u}return qn=t,zi(),l}function Vm(e,t){Ee=null,A.H=_r,t===Na||t===qi?(t=Pd(),Ye=3):t===rc?(t=Pd(),Ye=4):Ye=t===kc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Zt=t,Oe===null&&(tt=1,lo(e,an(t,e.current)))}function Bm(){var e=$t.current;return e===null?!0:(Me&4194048)===Me?cn===null:(Me&62914560)===Me||(Me&536870912)!==0?e===cn:!1}function Hm(){var e=A.H;return A.H=_r,e===null?_r:e}function Um(){var e=A.A;return A.A=Zb,e}function go(){tt=4,hl||(Me&4194048)!==Me&&$t.current!==null||(Ma=!0),(ml&134217727)===0&&(Kl&134217727)===0||$e===null||xl($e,Me,Qt,!1)}function nu(e,t,l){var a=He;He|=2;var s=Hm(),u=Um();($e!==e||Me!==t)&&(mo=null,Ra(e,t)),t=!1;var x=tt;e:do try{if(Ye!==0&&Oe!==null){var S=Oe,O=Zt;switch(Ye){case 8:tu(),x=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var q=Ye;if(Ye=0,Zt=null,za(e,S,O,q),l&&Ma){x=0;break e}break;default:q=Ye,Ye=0,Zt=null,za(e,S,O,q)}}Fb(),x=tt;break}catch(K){Vm(e,K)}while(!0);return t&&e.shellSuspendCounter++,kn=Yl=null,He=a,A.H=s,A.A=u,Oe===null&&($e=null,Me=0,zi()),x}function Fb(){for(;Oe!==null;)Ym(Oe)}function Jb(e,t){var l=He;He|=2;var a=Hm(),s=Um();$e!==e||Me!==t?(mo=null,ho=Pe()+500,Ra(e,t)):Ma=lr(e,t);e:do try{if(Ye!==0&&Oe!==null){t=Oe;var u=Zt;t:switch(Ye){case 1:Ye=0,Zt=null,za(e,t,u,1);break;case 2:case 9:if(Fd(u)){Ye=0,Zt=null,Im(t);break}t=function(){Ye!==2&&Ye!==9||$e!==e||(Ye=7),wn(e)},u.then(t,t);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Fd(u)?(Ye=0,Zt=null,Im(t)):(Ye=0,Zt=null,za(e,t,u,7));break;case 5:var x=null;switch(Oe.tag){case 26:x=Oe.memoizedState;case 5:case 27:var S=Oe;if(x?Ap(x):S.stateNode.complete){Ye=0,Zt=null;var O=S.sibling;if(O!==null)Oe=O;else{var q=S.return;q!==null?(Oe=q,xo(q)):Oe=null}break t}}Ye=0,Zt=null,za(e,t,u,5);break;case 6:Ye=0,Zt=null,za(e,t,u,6);break;case 8:tu(),tt=6;break e;default:throw Error(o(462))}}Pb();break}catch(K){Vm(e,K)}while(!0);return kn=Yl=null,A.H=a,A.A=s,He=l,Oe!==null?0:($e=null,Me=0,zi(),tt)}function Pb(){for(;Oe!==null&&!We();)Ym(Oe)}function Ym(e){var t=fm(e.alternate,e,qn);e.memoizedProps=e.pendingProps,t===null?xo(e):Oe=t}function Im(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=rm(l,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=rm(l,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:xc(t);default:hm(l,t),t=Oe=Ud(t,qn),t=fm(l,t,qn)}e.memoizedProps=e.pendingProps,t===null?xo(e):Oe=t}function za(e,t,l,a){kn=Yl=null,xc(t),Ea=null,vr=0;var s=t.return;try{if(Yb(e,s,t,l,Me)){tt=1,lo(e,an(l,e.current)),Oe=null;return}}catch(u){if(s!==null)throw Oe=s,u;tt=1,lo(e,an(l,e.current)),Oe=null;return}t.flags&32768?(ke||a===1?e=!0:Ma||(Me&536870912)!==0?e=!1:(hl=e=!0,(a===2||a===9||a===3||a===6)&&(a=$t.current,a!==null&&a.tag===13&&(a.flags|=16384))),qm(t,e)):xo(t)}function xo(e){var t=e;do{if((t.flags&32768)!==0){qm(t,hl);return}e=t.return;var l=Xb(t.alternate,t,qn);if(l!==null){Oe=l;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);tt===0&&(tt=5)}function qm(e,t){do{var l=Gb(e.alternate,e);if(l!==null){l.flags&=32767,Oe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=l}while(e!==null);tt=6,Oe=null}function Xm(e,t,l,a,s,u,x,S,O){e.cancelPendingCommit=null;do yo();while(ht!==0);if((He&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Xs,D0(e,l,u,x,S,O),e===$e&&(Oe=$e=null,Me=0),ka=t,gl=e,Xn=l,Jc=u,Pc=s,km=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lv(el,function(){return Qm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,s=k.p,k.p=2,x=He,He|=4;try{$b(e,t,l)}finally{He=x,k.p=s,A.T=a}}ht=1,Gm(),$m(),Wm()}}function Gm(){if(ht===1){ht=0;var e=gl,t=ka,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=A.T,A.T=null;var a=k.p;k.p=2;var s=He;He|=4;try{jm(t,e);var u=mu,x=Md(e.containerInfo),S=u.focusedElem,O=u.selectionRange;if(x!==S&&S&&S.ownerDocument&&Td(S.ownerDocument.documentElement,S)){if(O!==null&&Hs(S)){var q=O.start,K=O.end;if(K===void 0&&(K=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(K,S.value.length);else{var te=S.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Z=G.getSelection(),he=S.textContent.length,we=Math.min(O.start,he),Ge=O.end===void 0?we:Math.min(O.end,he);!Z.extend&&we>Ge&&(x=Ge,Ge=we,we=x);var B=Od(S,we),D=Od(S,Ge);if(B&&D&&(Z.rangeCount!==1||Z.anchorNode!==B.node||Z.anchorOffset!==B.offset||Z.focusNode!==D.node||Z.focusOffset!==D.offset)){var I=te.createRange();I.setStart(B.node,B.offset),Z.removeAllRanges(),we>Ge?(Z.addRange(I),Z.extend(D.node,D.offset)):(I.setEnd(D.node,D.offset),Z.addRange(I))}}}}for(te=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&te.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}To=!!hu,mu=hu=null}finally{He=s,k.p=a,A.T=l}}e.current=t,ht=2}}function $m(){if(ht===2){ht=0;var e=gl,t=ka,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=A.T,A.T=null;var a=k.p;k.p=2;var s=He;He|=4;try{vm(e,t.alternate,t)}finally{He=s,k.p=a,A.T=l}}ht=3}}function Wm(){if(ht===4||ht===3){ht=0,ft();var e=gl,t=ka,l=Xn,a=km;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ht=5:(ht=0,ka=gl=null,Zm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(pl=null),vs(l),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Ot,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=A.T,s=k.p,k.p=2,A.T=null;try{for(var u=e.onRecoverableError,x=0;x<a.length;x++){var S=a[x];u(S.value,{componentStack:S.stack})}}finally{A.T=t,k.p=s}}(Xn&3)!==0&&yo(),wn(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===eu?Vr++:(Vr=0,eu=e):Vr=0,Br(0)}}function Zm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yr(t)))}function yo(){return Gm(),$m(),Wm(),Qm()}function Qm(){if(ht!==5)return!1;var e=gl,t=Jc;Jc=0;var l=vs(Xn),a=A.T,s=k.p;try{k.p=32>l?32:l,A.T=null,l=Pc,Pc=null;var u=gl,x=Xn;if(ht=0,ka=gl=null,Xn=0,(He&6)!==0)throw Error(o(331));var S=He;if(He|=4,Tm(u.current),Am(u,u.current,x,l),He=S,Br(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Ot,u)}catch{}return!0}finally{k.p=s,A.T=a,Zm(e,t)}}function Km(e,t,l){t=an(l,t),t=Dc(e.stateNode,t,2),e=cl(e,t,2),e!==null&&(ar(e,2),wn(e))}function Ie(e,t,l){if(e.tag===3)Km(e,e,l);else for(;t!==null;){if(t.tag===3){Km(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(pl===null||!pl.has(a))){e=an(l,e),l=Fh(2),a=cl(t,l,2),a!==null&&(Jh(l,a,t,e),ar(a,2),wn(a));break}}t=t.return}}function lu(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Qb;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(Qc=!0,s.add(l),e=ev.bind(null,e,t,l),t.then(e,e))}function ev(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,$e===e&&(Me&l)===l&&(tt===4||tt===3&&(Me&62914560)===Me&&300>Pe()-fo?(He&2)===0&&Ra(e,0):Kc|=l,Da===Me&&(Da=0)),wn(e)}function Fm(e,t){t===0&&(t=Gf()),e=Bl(e,t),e!==null&&(ar(e,t),wn(e))}function tv(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Fm(e,l)}function nv(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Fm(e,l)}function lv(e,t){return Ae(e,t)}var bo=null,La=null,au=!1,vo=!1,ru=!1,yl=0;function wn(e){e!==La&&e.next===null&&(La===null?bo=La=e:La=La.next=e),vo=!0,au||(au=!0,rv())}function Br(e,t){if(!ru&&vo){ru=!0;do for(var l=!1,a=bo;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var u=0;else{var x=a.suspendedLanes,S=a.pingedLanes;u=(1<<31-gt(42|e)+1)-1,u&=s&~(x&~S),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(l=!0,tp(a,u))}else u=Me,u=Ni(a,a===$e?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||lr(a,u)||(l=!0,tp(a,u));a=a.next}while(l);ru=!1}}function av(){Jm()}function Jm(){vo=au=!1;var e=0;yl!==0&&pv()&&(e=yl);for(var t=Pe(),l=null,a=bo;a!==null;){var s=a.next,u=Pm(a,t);u===0?(a.next=null,l===null?bo=s:l.next=s,s===null&&(La=l)):(l=a,(e!==0||(u&3)!==0)&&(vo=!0)),a=s}ht!==0&&ht!==5||Br(e),yl!==0&&(yl=0)}function Pm(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var x=31-gt(u),S=1<<x,O=s[x];O===-1?((S&l)===0||(S&a)!==0)&&(s[x]=M0(S,t)):O<=t&&(e.expiredLanes|=S),u&=~S}if(t=$e,l=Me,l=Ni(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ze(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||lr(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Ze(a),vs(l)){case 2:case 8:l=Pn;break;case 32:l=el;break;case 268435456:l=Ne;break;default:l=el}return a=ep.bind(null,e),l=Ae(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Ze(a),e.callbackPriority=2,e.callbackNode=null,2}function ep(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(yo()&&e.callbackNode!==l)return null;var a=Me;return a=Ni(e,e===$e?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(zm(e,a,t),Pm(e,Pe()),e.callbackNode!=null&&e.callbackNode===l?ep.bind(null,e):null)}function tp(e,t){if(yo())return null;zm(e,t,!0)}function rv(){xv(function(){(He&6)!==0?Ae(hn,av):Jm()})}function iu(){if(yl===0){var e=wa;e===0&&(e=vi,vi<<=1,(vi&261888)===0&&(vi=256)),yl=e}return yl}function np(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ai(""+e)}function lp(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function iv(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var u=np((s[Rt]||null).action),x=a.submitter;x&&(t=(t=x[Rt]||null)?np(t.formAction):x.getAttribute("formAction"),t!==null&&(u=t,x=null));var S=new Mi("action","action",null,a,s);e.push({event:S,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(yl!==0){var O=x?lp(s,x):new FormData(s);Cc(l,{pending:!0,data:O,method:s.method,action:u},null,O)}}else typeof u=="function"&&(S.preventDefault(),O=x?lp(s,x):new FormData(s),Cc(l,{pending:!0,data:O,method:s.method,action:u},u,O))},currentTarget:s}]})}}for(var ou=0;ou<qs.length;ou++){var su=qs[ou],ov=su.toLowerCase(),sv=su[0].toUpperCase()+su.slice(1);mn(ov,"on"+sv)}mn(Rd,"onAnimationEnd"),mn(zd,"onAnimationIteration"),mn(Ld,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(Eb,"onTransitionRun"),mn(jb,"onTransitionStart"),mn(Cb,"onTransitionCancel"),mn(Vd,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hr));function ap(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var x=a.length-1;0<=x;x--){var S=a[x],O=S.instance,q=S.currentTarget;if(S=S.listener,O!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=q;try{u(s)}catch(K){Ri(K)}s.currentTarget=null,u=O}else for(x=0;x<a.length;x++){if(S=a[x],O=S.instance,q=S.currentTarget,S=S.listener,O!==u&&s.isPropagationStopped())break e;u=S,s.currentTarget=q;try{u(s)}catch(K){Ri(K)}s.currentTarget=null,u=O}}}}function Te(e,t){var l=t[ws];l===void 0&&(l=t[ws]=new Set);var a=e+"__bubble";l.has(a)||(rp(t,e,2,!1),l.add(a))}function cu(e,t,l){var a=0;t&&(a|=4),rp(l,e,a,t)}var wo="_reactListening"+Math.random().toString(36).slice(2);function uu(e){if(!e[wo]){e[wo]=!0,Jf.forEach(function(l){l!=="selectionchange"&&(cv.has(l)||cu(l,!1,e),cu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wo]||(t[wo]=!0,cu("selectionchange",!1,t))}}function rp(e,t,l,a){switch(Rp(t)){case 2:var s=Vv;break;case 8:s=Bv;break;default:s=ju}l=s.bind(null,t,l,e),s=void 0,!Ts||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function fu(e,t,l,a,s){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var S=a.stateNode.containerInfo;if(S===s)break;if(x===4)for(x=a.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===s)return;x=x.return}for(;S!==null;){if(x=aa(S),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){a=u=x;continue e}S=S.parentNode}}a=a.return}ud(function(){var q=u,K=_s(l),te=[];e:{var G=Bd.get(e);if(G!==void 0){var Z=Mi,he=e;switch(e){case"keypress":if(Oi(l)===0)break e;case"keydown":case"keyup":Z=nb;break;case"focusin":he="focus",Z=Rs;break;case"focusout":he="blur",Z=Rs;break;case"beforeblur":case"afterblur":Z=Rs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=X0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=rb;break;case Rd:case zd:case Ld:Z=W0;break;case Vd:Z=ob;break;case"scroll":case"scrollend":Z=I0;break;case"wheel":Z=cb;break;case"copy":case"cut":case"paste":Z=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=pd;break;case"toggle":case"beforetoggle":Z=fb}var we=(t&4)!==0,Ge=!we&&(e==="scroll"||e==="scrollend"),B=we?G!==null?G+"Capture":null:G;we=[];for(var D=q,I;D!==null;){var ee=D;if(I=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||I===null||B===null||(ee=or(D,B),ee!=null&&we.push(Ur(D,ee,I))),Ge)break;D=D.return}0<we.length&&(G=new Z(G,he,null,l,K),te.push({event:G,listeners:we}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",G&&l!==As&&(he=l.relatedTarget||l.fromElement)&&(aa(he)||he[la]))break e;if((Z||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,Z?(he=l.relatedTarget||l.toElement,Z=q,he=he?aa(he):null,he!==null&&(Ge=f(he),we=he.tag,he!==Ge||we!==5&&we!==27&&we!==6)&&(he=null)):(Z=null,he=q),Z!==he)){if(we=hd,ee="onMouseLeave",B="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(we=pd,ee="onPointerLeave",B="onPointerEnter",D="pointer"),Ge=Z==null?G:ir(Z),I=he==null?G:ir(he),G=new we(ee,D+"leave",Z,l,K),G.target=Ge,G.relatedTarget=I,ee=null,aa(K)===q&&(we=new we(B,D+"enter",he,l,K),we.target=I,we.relatedTarget=Ge,ee=we),Ge=ee,Z&&he)t:{for(we=uv,B=Z,D=he,I=0,ee=B;ee;ee=we(ee))I++;ee=0;for(var ve=D;ve;ve=we(ve))ee++;for(;0<I-ee;)B=we(B),I--;for(;0<ee-I;)D=we(D),ee--;for(;I--;){if(B===D||D!==null&&B===D.alternate){we=B;break t}B=we(B),D=we(D)}we=null}else we=null;Z!==null&&ip(te,G,Z,we,!1),he!==null&&Ge!==null&&ip(te,Ge,he,we,!0)}}e:{if(G=q?ir(q):window,Z=G.nodeName&&G.nodeName.toLowerCase(),Z==="select"||Z==="input"&&G.type==="file")var Ve=Nd;else if(wd(G))if(Ed)Ve=wb;else{Ve=bb;var ge=yb}else Z=G.nodeName,!Z||Z.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Cs(q.elementType)&&(Ve=Nd):Ve=vb;if(Ve&&(Ve=Ve(e,q))){Sd(te,Ve,l,K);break e}ge&&ge(e,G,q),e==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&js(G,"number",G.value)}switch(ge=q?ir(q):window,e){case"focusin":(wd(ge)||ge.contentEditable==="true")&&(ha=ge,Us=q,pr=null);break;case"focusout":pr=Us=ha=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,Dd(te,l,K);break;case"selectionchange":if(Nb)break;case"keydown":case"keyup":Dd(te,l,K)}var je;if(Ls)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else da?bd(e,l)&&(De="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(gd&&l.locale!=="ko"&&(da||De!=="onCompositionStart"?De==="onCompositionEnd"&&da&&(je=fd()):(nl=K,Ms="value"in nl?nl.value:nl.textContent,da=!0)),ge=So(q,De),0<ge.length&&(De=new md(De,e,null,l,K),te.push({event:De,listeners:ge}),je?De.data=je:(je=vd(l),je!==null&&(De.data=je)))),(je=hb?mb(e,l):pb(e,l))&&(De=So(q,"onBeforeInput"),0<De.length&&(ge=new md("onBeforeInput","beforeinput",null,l,K),te.push({event:ge,listeners:De}),ge.data=je)),iv(te,e,q,l,K)}ap(te,t)})}function Ur(e,t,l){return{instance:e,listener:t,currentTarget:l}}function So(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,u=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||u===null||(s=or(e,l),s!=null&&a.unshift(Ur(e,s,u)),s=or(e,t),s!=null&&a.push(Ur(e,s,u))),e.tag===3)return a;e=e.return}return[]}function uv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ip(e,t,l,a,s){for(var u=t._reactName,x=[];l!==null&&l!==a;){var S=l,O=S.alternate,q=S.stateNode;if(S=S.tag,O!==null&&O===a)break;S!==5&&S!==26&&S!==27||q===null||(O=q,s?(q=or(l,u),q!=null&&x.unshift(Ur(l,q,O))):s||(q=or(l,u),q!=null&&x.push(Ur(l,q,O)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var fv=/\r\n?/g,dv=/\u0000|\uFFFD/g;function op(e){return(typeof e=="string"?e:""+e).replace(fv,`
`).replace(dv,"")}function sp(e,t){return t=op(t),op(e)===t}function Xe(e,t,l,a,s,u){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ca(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ca(e,""+a);break;case"className":ji(e,"class",a);break;case"tabIndex":ji(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(e,l,a);break;case"style":sd(e,a,u);break;case"data":if(t!=="object"){ji(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ai(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(l==="formAction"?(t!=="input"&&Xe(e,t,"name",s.name,s,null),Xe(e,t,"formEncType",s.formEncType,s,null),Xe(e,t,"formMethod",s.formMethod,s,null),Xe(e,t,"formTarget",s.formTarget,s,null)):(Xe(e,t,"encType",s.encType,s,null),Xe(e,t,"method",s.method,s,null),Xe(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ai(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=On);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Ai(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Ei(e,"popover",a);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ei(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=U0.get(l)||l,Ei(e,l,a))}}function du(e,t,l,a,s,u){switch(l){case"style":sd(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?ca(e,a):(typeof a=="number"||typeof a=="bigint")&&ca(e,""+a);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"onClick":a!=null&&(e.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pf.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),u=e[Rt]||null,u=u!=null?u[l]:null,typeof u=="function"&&e.removeEventListener(t,u,s),typeof a=="function")){typeof u!="function"&&u!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Ei(e,l,a)}}}function jt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var a=!1,s=!1,u;for(u in l)if(l.hasOwnProperty(u)){var x=l[u];if(x!=null)switch(u){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xe(e,t,u,x,l,null)}}s&&Xe(e,t,"srcSet",l.srcSet,l,null),a&&Xe(e,t,"src",l.src,l,null);return;case"input":Te("invalid",e);var S=u=x=s=null,O=null,q=null;for(a in l)if(l.hasOwnProperty(a)){var K=l[a];if(K!=null)switch(a){case"name":s=K;break;case"type":x=K;break;case"checked":O=K;break;case"defaultChecked":q=K;break;case"value":u=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,t));break;default:Xe(e,t,a,K,l,null)}}ad(e,u,S,O,q,x,s,!1);return;case"select":Te("invalid",e),a=x=u=null;for(s in l)if(l.hasOwnProperty(s)&&(S=l[s],S!=null))switch(s){case"value":u=S;break;case"defaultValue":x=S;break;case"multiple":a=S;default:Xe(e,t,s,S,l,null)}t=u,l=x,e.multiple=!!a,t!=null?sa(e,!!a,t,!1):l!=null&&sa(e,!!a,l,!0);return;case"textarea":Te("invalid",e),u=s=a=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":a=S;break;case"defaultValue":s=S;break;case"children":u=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:Xe(e,t,x,S,l,null)}id(e,a,s,u);return;case"option":for(O in l)l.hasOwnProperty(O)&&(a=l[O],a!=null)&&(O==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Xe(e,t,O,a,l,null));return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(a=0;a<Hr.length;a++)Te(Hr[a],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(a=l[q],a!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xe(e,t,q,a,l,null)}return;default:if(Cs(t)){for(K in l)l.hasOwnProperty(K)&&(a=l[K],a!==void 0&&du(e,t,K,a,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(a=l[S],a!=null&&Xe(e,t,S,a,l,null))}function hv(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,u=null,x=null,S=null,O=null,q=null,K=null;for(Z in l){var te=l[Z];if(l.hasOwnProperty(Z)&&te!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":O=te;default:a.hasOwnProperty(Z)||Xe(e,t,Z,null,a,te)}}for(var G in a){var Z=a[G];if(te=l[G],a.hasOwnProperty(G)&&(Z!=null||te!=null))switch(G){case"type":u=Z;break;case"name":s=Z;break;case"checked":q=Z;break;case"defaultChecked":K=Z;break;case"value":x=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,t));break;default:Z!==te&&Xe(e,t,G,Z,a,te)}}Es(e,x,S,O,q,K,u,s);return;case"select":Z=x=S=G=null;for(u in l)if(O=l[u],l.hasOwnProperty(u)&&O!=null)switch(u){case"value":break;case"multiple":Z=O;default:a.hasOwnProperty(u)||Xe(e,t,u,null,a,O)}for(s in a)if(u=a[s],O=l[s],a.hasOwnProperty(s)&&(u!=null||O!=null))switch(s){case"value":G=u;break;case"defaultValue":S=u;break;case"multiple":x=u;default:u!==O&&Xe(e,t,s,u,a,O)}t=S,l=x,a=Z,G!=null?sa(e,!!l,G,!1):!!a!=!!l&&(t!=null?sa(e,!!l,t,!0):sa(e,!!l,l?[]:"",!1));return;case"textarea":Z=G=null;for(S in l)if(s=l[S],l.hasOwnProperty(S)&&s!=null&&!a.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xe(e,t,S,null,a,s)}for(x in a)if(s=a[x],u=l[x],a.hasOwnProperty(x)&&(s!=null||u!=null))switch(x){case"value":G=s;break;case"defaultValue":Z=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==u&&Xe(e,t,x,s,a,u)}rd(e,G,Z);return;case"option":for(var he in l)G=l[he],l.hasOwnProperty(he)&&G!=null&&!a.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:Xe(e,t,he,null,a,G));for(O in a)G=a[O],Z=l[O],a.hasOwnProperty(O)&&G!==Z&&(G!=null||Z!=null)&&(O==="selected"?e.selected=G&&typeof G!="function"&&typeof G!="symbol":Xe(e,t,O,G,a,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in l)G=l[we],l.hasOwnProperty(we)&&G!=null&&!a.hasOwnProperty(we)&&Xe(e,t,we,null,a,G);for(q in a)if(G=a[q],Z=l[q],a.hasOwnProperty(q)&&G!==Z&&(G!=null||Z!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:Xe(e,t,q,G,a,Z)}return;default:if(Cs(t)){for(var Ge in l)G=l[Ge],l.hasOwnProperty(Ge)&&G!==void 0&&!a.hasOwnProperty(Ge)&&du(e,t,Ge,void 0,a,G);for(K in a)G=a[K],Z=l[K],!a.hasOwnProperty(K)||G===Z||G===void 0&&Z===void 0||du(e,t,K,G,a,Z);return}}for(var B in l)G=l[B],l.hasOwnProperty(B)&&G!=null&&!a.hasOwnProperty(B)&&Xe(e,t,B,null,a,G);for(te in a)G=a[te],Z=l[te],!a.hasOwnProperty(te)||G===Z||G==null&&Z==null||Xe(e,t,te,G,a,Z)}function cp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],u=s.transferSize,x=s.initiatorType,S=s.duration;if(u&&S&&cp(x)){for(x=0,S=s.responseEnd,a+=1;a<l.length;a++){var O=l[a],q=O.startTime;if(q>S)break;var K=O.transferSize,te=O.initiatorType;K&&cp(te)&&(O=O.responseEnd,x+=K*(O<S?1:(S-q)/(O-q)))}if(--a,t+=8*(u+x)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hu=null,mu=null;function No(e){return e.nodeType===9?e:e.ownerDocument}function up(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=null;function pv(){var e=window.event;return e&&e.type==="popstate"?e===gu?!1:(gu=e,!0):(gu=null,!1)}var dp=typeof setTimeout=="function"?setTimeout:void 0,gv=typeof clearTimeout=="function"?clearTimeout:void 0,hp=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof hp<"u"?function(e){return hp.resolve(null).then(e).catch(yv)}:dp;function yv(e){setTimeout(function(){throw e})}function bl(e){return e==="head"}function mp(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),Ua(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Yr(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Yr(l);for(var u=l.firstChild;u;){var x=u.nextSibling,S=u.nodeName;u[rr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=x}}else l==="body"&&Yr(e.ownerDocument.body);l=s}while(l);Ua(t)}function pp(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":xu(l),Ss(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function bv(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[rr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function vv(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=un(e.nextSibling),e===null))return null;return e}function gp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=un(e.nextSibling),e===null))return null;return e}function yu(e){return e.data==="$?"||e.data==="$~"}function bu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wv(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var vu=null;function xp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return un(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function bp(e,t,l){switch(t=No(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Yr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ss(e)}var fn=new Map,vp=new Set;function Eo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gn=k.d;k.d={f:Sv,r:Nv,D:Ev,C:jv,L:Cv,m:Av,X:Ov,S:_v,M:Tv};function Sv(){var e=Gn.f(),t=po();return e||t}function Nv(e){var t=ra(e);t!==null&&t.tag===5&&t.type==="form"?Vh(t):Gn.r(e)}var Va=typeof document>"u"?null:document;function wp(e,t,l){var a=Va;if(a&&typeof t=="string"&&t){var s=nn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),vp.has(s)||(vp.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),jt(t,"link",e),xt(t),a.head.appendChild(t)))}}function Ev(e){Gn.D(e),wp("dns-prefetch",e,null)}function jv(e,t){Gn.C(e,t),wp("preconnect",e,t)}function Cv(e,t,l){Gn.L(e,t,l);var a=Va;if(a&&e&&t){var s='link[rel="preload"][as="'+nn(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+nn(l.imageSizes)+'"]')):s+='[href="'+nn(e)+'"]';var u=s;switch(t){case"style":u=Ba(e);break;case"script":u=Ha(e)}fn.has(u)||(e=b({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),fn.set(u,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Ir(u))||t==="script"&&a.querySelector(qr(u))||(t=a.createElement("link"),jt(t,"link",e),xt(t),a.head.appendChild(t)))}}function Av(e,t){Gn.m(e,t);var l=Va;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+nn(a)+'"][href="'+nn(e)+'"]',u=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ha(e)}if(!fn.has(u)&&(e=b({rel:"modulepreload",href:e},t),fn.set(u,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qr(u)))return}a=l.createElement("link"),jt(a,"link",e),xt(a),l.head.appendChild(a)}}}function _v(e,t,l){Gn.S(e,t,l);var a=Va;if(a&&e){var s=ia(a).hoistableStyles,u=Ba(e);t=t||"default";var x=s.get(u);if(!x){var S={loading:0,preload:null};if(x=a.querySelector(Ir(u)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},l),(l=fn.get(u))&&wu(e,l);var O=x=a.createElement("link");xt(O),jt(O,"link",e),O._p=new Promise(function(q,K){O.onload=q,O.onerror=K}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,jo(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:S},s.set(u,x)}}}function Ov(e,t){Gn.X(e,t);var l=Va;if(l&&e){var a=ia(l).hoistableScripts,s=Ha(e),u=a.get(s);u||(u=l.querySelector(qr(s)),u||(e=b({src:e,async:!0},t),(t=fn.get(s))&&Su(e,t),u=l.createElement("script"),xt(u),jt(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Tv(e,t){Gn.M(e,t);var l=Va;if(l&&e){var a=ia(l).hoistableScripts,s=Ha(e),u=a.get(s);u||(u=l.querySelector(qr(s)),u||(e=b({src:e,async:!0,type:"module"},t),(t=fn.get(s))&&Su(e,t),u=l.createElement("script"),xt(u),jt(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Sp(e,t,l,a){var s=(s=xe.current)?Eo(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ba(l.href),l=ia(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ba(l.href);var u=ia(s).hoistableStyles,x=u.get(e);if(x||(s=s.ownerDocument||s,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,x),(u=s.querySelector(Ir(e)))&&!u._p&&(x.instance=u,x.state.loading=5),fn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fn.set(e,l),u||Mv(s,e,l,x.state))),t&&a===null)throw Error(o(528,""));return x}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ha(l),l=ia(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ba(e){return'href="'+nn(e)+'"'}function Ir(e){return'link[rel="stylesheet"]['+e+"]"}function Np(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Mv(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),jt(t,"link",l),xt(t),e.head.appendChild(t))}function Ha(e){return'[src="'+nn(e)+'"]'}function qr(e){return"script[async]"+e}function Ep(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+nn(l.href)+'"]');if(a)return t.instance=a,xt(a),a;var s=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),xt(a),jt(a,"style",s),jo(a,l.precedence,e),t.instance=a;case"stylesheet":s=Ba(l.href);var u=e.querySelector(Ir(s));if(u)return t.state.loading|=4,t.instance=u,xt(u),u;a=Np(l),(s=fn.get(s))&&wu(a,s),u=(e.ownerDocument||e).createElement("link"),xt(u);var x=u;return x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),jt(u,"link",a),t.state.loading|=4,jo(u,l.precedence,e),t.instance=u;case"script":return u=Ha(l.src),(s=e.querySelector(qr(u)))?(t.instance=s,xt(s),s):(a=l,(s=fn.get(u))&&(a=b({},l),Su(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),xt(s),jt(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,jo(a,l.precedence,e));return t.instance}function jo(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,u=s,x=0;x<a.length;x++){var S=a[x];if(S.dataset.precedence===t)u=S;else if(u!==s)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Co=null;function jp(e,t,l){if(Co===null){var a=new Map,s=Co=new Map;s.set(l,a)}else s=Co,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var u=l[s];if(!(u[rr]||u[wt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var x=u.getAttribute(t)||"";x=e+x;var S=a.get(x);S?S.push(u):a.set(x,[u])}}return a}function Cp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Dv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ap(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kv(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=Ba(a.href),u=t.querySelector(Ir(s));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ao.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=u,xt(u);return}u=t.ownerDocument||t,a=Np(a),(s=fn.get(s))&&wu(a,s),u=u.createElement("link"),xt(u);var x=u;x._p=new Promise(function(S,O){x.onload=S,x.onerror=O}),jt(u,"link",a),l.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ao.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Nu=0;function Rv(e,t){return e.stylesheets&&e.count===0&&Oo(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Nu===0&&(Nu=62500*mv());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Nu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Ao(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _o=null;function Oo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_o=new Map,t.forEach(zv,e),_o=null,Ao.call(e))}function zv(e,t){if(!(t.state.loading&4)){var l=_o.get(e);if(l)var a=l.get(null);else{l=new Map,_o.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<s.length;u++){var x=s[u];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),a=x)}a&&l.set(null,a)}s=t.instance,x=s.getAttribute("data-precedence"),u=l.get(x)||a,u===a&&l.set(null,s),l.set(x,s),this.count++,a=Ao.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),u?u.parentNode.insertBefore(s,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Xr={$$typeof:X,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function Lv(e,t,l,a,s,u,x,S,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ys(0),this.hiddenUpdates=ys(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=u,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function _p(e,t,l,a,s,u,x,S,O,q,K,te){return e=new Lv(e,t,l,x,O,q,K,te,S),t=1,u===!0&&(t|=24),u=Gt(3,null,null,t),e.current=u,u.stateNode=e,t=nc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:l,cache:t},ic(u),e}function Op(e){return e?(e=ga,e):ga}function Tp(e,t,l,a,s,u){s=Op(s),a.context===null?a.context=s:a.pendingContext=s,a=sl(t),a.payload={element:l},u=u===void 0?null:u,u!==null&&(a.callback=u),l=cl(e,a,t),l!==null&&(Ut(l,e,t),Sr(l,e,t))}function Mp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Eu(e,t){Mp(e,t),(e=e.alternate)&&Mp(e,t)}function Dp(e){if(e.tag===13||e.tag===31){var t=Bl(e,67108864);t!==null&&Ut(t,e,67108864),Eu(e,67108864)}}function kp(e){if(e.tag===13||e.tag===31){var t=Kt();t=bs(t);var l=Bl(e,t);l!==null&&Ut(l,e,t),Eu(e,t)}}var To=!0;function Vv(e,t,l,a){var s=A.T;A.T=null;var u=k.p;try{k.p=2,ju(e,t,l,a)}finally{k.p=u,A.T=s}}function Bv(e,t,l,a){var s=A.T;A.T=null;var u=k.p;try{k.p=8,ju(e,t,l,a)}finally{k.p=u,A.T=s}}function ju(e,t,l,a){if(To){var s=Cu(a);if(s===null)fu(e,t,a,Mo,l),zp(e,a);else if(Uv(s,e,t,l,a))a.stopPropagation();else if(zp(e,a),t&4&&-1<Hv.indexOf(e)){for(;s!==null;){var u=ra(s);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var x=kl(u.pendingLanes);if(x!==0){var S=u;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var O=1<<31-gt(x);S.entanglements[1]|=O,x&=~O}wn(u),(He&6)===0&&(ho=Pe()+500,Br(0))}}break;case 31:case 13:S=Bl(u,2),S!==null&&Ut(S,u,2),po(),Eu(u,2)}if(u=Cu(a),u===null&&fu(e,t,a,Mo,l),u===s)break;s=u}s!==null&&a.stopPropagation()}else fu(e,t,a,null,l)}}function Cu(e){return e=_s(e),Au(e)}var Mo=null;function Au(e){if(Mo=null,e=aa(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=m(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Mo=e,null}function Rp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(An()){case hn:return 2;case Pn:return 8;case el:case nr:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var _u=!1,vl=null,wl=null,Sl=null,Gr=new Map,$r=new Map,Nl=[],Hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,t){switch(e){case"focusin":case"focusout":vl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":Gr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(t.pointerId)}}function Wr(e,t,l,a,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:u,targetContainers:[s]},t!==null&&(t=ra(t),t!==null&&Dp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Uv(e,t,l,a,s){switch(t){case"focusin":return vl=Wr(vl,e,t,l,a,s),!0;case"dragenter":return wl=Wr(wl,e,t,l,a,s),!0;case"mouseover":return Sl=Wr(Sl,e,t,l,a,s),!0;case"pointerover":var u=s.pointerId;return Gr.set(u,Wr(Gr.get(u)||null,e,t,l,a,s)),!0;case"gotpointercapture":return u=s.pointerId,$r.set(u,Wr($r.get(u)||null,e,t,l,a,s)),!0}return!1}function Lp(e){var t=aa(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,Kf(e.priority,function(){kp(l)});return}}else if(t===31){if(t=m(l),t!==null){e.blockedOn=t,Kf(e.priority,function(){kp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Do(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Cu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);As=a,l.target.dispatchEvent(a),As=null}else return t=ra(l),t!==null&&Dp(t),e.blockedOn=l,!1;t.shift()}return!0}function Vp(e,t,l){Do(e)&&l.delete(t)}function Yv(){_u=!1,vl!==null&&Do(vl)&&(vl=null),wl!==null&&Do(wl)&&(wl=null),Sl!==null&&Do(Sl)&&(Sl=null),Gr.forEach(Vp),$r.forEach(Vp)}function ko(e,t){e.blockedOn===t&&(e.blockedOn=null,_u||(_u=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Yv)))}var Ro=null;function Bp(e){Ro!==e&&(Ro=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ro===e&&(Ro=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Au(a||l)===null)continue;break}var u=ra(l);u!==null&&(e.splice(t,3),t-=3,Cc(u,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function Ua(e){function t(O){return ko(O,e)}vl!==null&&ko(vl,e),wl!==null&&ko(wl,e),Sl!==null&&ko(Sl,e),Gr.forEach(t),$r.forEach(t);for(var l=0;l<Nl.length;l++){var a=Nl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Nl.length&&(l=Nl[0],l.blockedOn===null);)Lp(l),l.blockedOn===null&&Nl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],u=l[a+1],x=s[Rt]||null;if(typeof u=="function")x||Bp(l);else if(x){var S=null;if(u&&u.hasAttribute("formAction")){if(s=u,x=u[Rt]||null)S=x.formAction;else if(Au(s)!==null)continue}else S=x.action;typeof S=="function"?l[a+1]=S:(l.splice(a,3),a-=3),Bp(l)}}}function Hp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(x){return s=x})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ou(e){this._internalRoot=e}zo.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Kt();Tp(l,a,e,t,null,null)},zo.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tp(e.current,2,null,e,null,null),po(),t[la]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qf();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Nl.length&&t!==0&&t<Nl[l].priority;l++);Nl.splice(l,0,e),l===0&&Lp(e)}};var Up=r.version;if(Up!=="19.2.3")throw Error(o(527,Up,"19.2.3"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Iv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{Ot=Lo.inject(Iv),dt=Lo}catch{}}return Qr.createRoot=function(e,t){if(!c(e))throw Error(o(299));var l=!1,a="",s=Wh,u=Zh,x=Qh;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=_p(e,1,!1,null,null,l,a,null,s,u,x,Hp),e[la]=t.current,uu(e),new Ou(t)},Qr.hydrateRoot=function(e,t,l){if(!c(e))throw Error(o(299));var a=!1,s="",u=Wh,x=Zh,S=Qh,O=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(u=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),t=_p(e,1,!0,t,l??null,a,s,O,u,x,S,Hp),t.context=Op(null),l=t.current,a=Kt(),a=bs(a),s=sl(a),s.callback=null,cl(l,s,a),l=a,t.current.lanes=l,ar(t,l),wn(t),e[la]=t.current,uu(e),new zo(t)},Qr.version="19.2.3",Qr}var Kp;function Jv(){if(Kp)return Du.exports;Kp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Du.exports=Fv(),Du.exports}var Pv=Jv();const Fp=n=>{let r;const i=new Set,o=(p,y)=>{const b=typeof p=="function"?p(r):p;if(!Object.is(b,r)){const N=r;r=y??(typeof b!="object"||b===null)?b:Object.assign({},r,b),i.forEach(E=>E(r,N))}},c=()=>r,m={setState:o,getState:c,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=r=n(o,c,m);return m},e1=(n=>n?Fp(n):Fp),t1=n=>n;function n1(n,r=t1){const i=Sn.useSyncExternalStore(n.subscribe,Sn.useCallback(()=>r(n.getState()),[n,r]),Sn.useCallback(()=>r(n.getInitialState()),[n,r]));return Sn.useDebugValue(i),i}const Jp=n=>{const r=e1(n),i=o=>n1(r,o);return Object.assign(i,r),i},ms=(n=>n?Jp(n):Jp);function l1(n,r){let i;try{i=n()}catch{return}return{getItem:c=>{var f;const h=g=>g===null?null:JSON.parse(g,void 0),m=(f=i.getItem(c))!=null?f:null;return m instanceof Promise?m.then(h):h(m)},setItem:(c,f)=>i.setItem(c,JSON.stringify(f,void 0)),removeItem:c=>i.removeItem(c)}}const ef=n=>r=>{try{const i=n(r);return i instanceof Promise?i:{then(o){return ef(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return ef(o)(i)}}}},a1=(n,r)=>(i,o,c)=>{let f={storage:l1(()=>localStorage),partialize:j=>j,version:0,merge:(j,_)=>({..._,...j}),...r},h=!1,m=0;const g=new Set,p=new Set;let y=f.storage;if(!y)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...j)},o,c);const b=()=>{const j=f.partialize({...o()});return y.setItem(f.name,{state:j,version:f.version})},N=c.setState;c.setState=(j,_)=>(N(j,_),b());const E=n((...j)=>(i(...j),b()),o,c);c.getInitialState=()=>E;let v;const w=()=>{var j,_;if(!y)return;const T=++m;h=!1,g.forEach(U=>{var L;return U((L=o())!=null?L:E)});const X=((_=f.onRehydrateStorage)==null?void 0:_.call(f,(j=o())!=null?j:E))||void 0;return ef(y.getItem.bind(y))(f.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==f.version){if(f.migrate){const L=f.migrate(U.state,U.version);return L instanceof Promise?L.then(W=>[!0,W]):[!0,L]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var L;if(T!==m)return;const[W,$]=U;if(v=f.merge($,(L=o())!=null?L:E),i(v,!0),W)return b()}).then(()=>{T===m&&(X?.(v,void 0),v=o(),h=!0,p.forEach(U=>U(v)))}).catch(U=>{T===m&&X?.(void 0,U)})};return c.persist={setOptions:j=>{f={...f,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>w(),hasHydrated:()=>h,onHydrate:j=>(g.add(j),()=>{g.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},f.skipHydration||w(),v||E},r1=a1;function xf(n){return n===null||n===void 0?"null":typeof n=="string"?n===""||n.includes(":")||n.includes("#")||n.includes(`
`)||n.startsWith(" ")||n.endsWith(" ")||/^[[{}>|*&!%@`]/.test(n)||/^-?\d+(\.\d+)?$/.test(n)||n==="true"||n==="false"||n==="null"?JSON.stringify(n):n:typeof n=="number"||typeof n=="boolean"?String(n):JSON.stringify(n)}function yf(n,r){const i=n.split(`
`);let o=!1,c=-1,f=-1;for(let h=0;h<i.length;h++){const m=i[h],g=m.match(/^\s*-?\s*name:\s*(\w+)/);if(g&&(o=g[1]===r),o){const p=m.match(/^(\s*)nodes:\s*$/);if(p){c=h,f=p[1].length;let y=h+1;for(;y<i.length;){const b=i[y];if(b.trim()===""||b.trim().startsWith("#")){y++;continue}const N=b.search(/\S/);if(N!==-1&&N<=f)break;y++}return{startLine:c,endLine:y,nodesIndent:f}}}}return null}function rt(n,r,i){const o=n.split(`
`);let c=0,f=o.length;if(i){const p=yf(n,i);if(!p)return null;c=p.startLine,f=p.endLine}let h=-1,m=-1;for(let p=c;p<f;p++){const b=o[p].match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(b&&b[2]===r){h=p,m=b[1].length;break}}if(h===-1)return null;let g=h+1;for(;g<o.length;){const p=o[g];if(p.trim()===""||p.trim().startsWith("#")){g++;continue}const y=p.search(/\S/);if(y!==-1&&y<=m)break;g++}return{startLine:h,endLine:g,indent:m}}function gx(n,r){const i=n.split(`
`),o=new Set;for(const h of i){const m=h.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);m&&o.add(m[1])}let c=`${r}_1`,f=1;for(;o.has(c);)f++,c=`${r}_${f}`;return c}function tf(n,r){const i=rt(n,r);if(!i)return{source:n,success:!1};const o=n.split(`
`);return{source:[...o.slice(0,i.startLine),...o.slice(i.endLine)].join(`
`),success:!0}}function i1(n,r,i="main"){const o=n.split(`
`);let c=!1,f=-1,h=-1,m=-1,g=-1;for(let _=0;_<o.length;_++){const T=o[_],X=T.match(/^\s*-?\s*name:\s*(\w+)/);if(X&&(c=X[1]===i),c){const U=T.match(/^(\s*)nodes:\s*$/);if(U){f=_,h=U[1].length;continue}if(f!==-1){const L=T.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(L){const W=L[1].length;if(W===h+2){g=W;let $=_+1;for(;$<o.length;){const Y=o[$];if(Y.trim()===""||Y.trim().startsWith("#")){$++;continue}const P=Y.search(/\S/);if(P!==-1&&P<=W)break;$++}m=$}}}}}if(f===-1)return{source:n,nodeId:null};const p=r.name.split("_")[0],y=gx(n,p),b=" ".repeat(g!==-1?g:h+2),N=b+"  ",E=N+"  ";let v=`${b}${y}:
`;if(v+=`${N}opcode: ${r.name}
`,v+=`${N}next: null
`,r.parameters.length>0){v+=`${N}inputs:
`;for(const _ of r.parameters){const T=_.name.toUpperCase(),X=_.default!==void 0?JSON.stringify(_.default):'""';v+=`${E}${T}: { literal: ${X} }
`}}const w=m!==-1?m:f+1;return{source:[...o.slice(0,w),v.trimEnd(),...o.slice(w)].join(`
`),nodeId:y}}function o1(n,r){const i=rt(n,r);if(!i)return{source:n,nodeId:null};const o=n.split(`
`),c=o.slice(i.startLine,i.endLine);let f=`${r}_copy`,h=1;const m=new Set;for(const y of o){const b=y.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);b&&m.add(b[1])}for(;m.has(f);)h++,f=`${r}_copy_${h}`;const g=[...c];g[0]=g[0].replace(r+":",f+":");for(let y=1;y<g.length;y++)if(g[y].match(/^\s+next:\s*\S/)){const b=g[y].match(/^(\s+)next:/)?.[1]||"        ";g[y]=`${b}next: null`}return{source:[...o.slice(0,i.endLine),...g,...o.slice(i.endLine)].join(`
`),nodeId:f}}function s1(n,r,i,o){const c=n.split(`
`),f=rt(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let E=f.startLine+1;E<f.endLine;E++){const v=c[E];if(v.match(/^\s+inputs:\s*$/)){h=E;continue}if(h!==-1){const w=v.match(new RegExp(`^(\\s+)(${i}):\\s*(.*)$`));if(w){m=E,g=w[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const E=c[p];if(E.trim()===""||E.trim().startsWith("#")){p++;continue}const v=E.search(/\S/);if(v!==-1&&v<=g)break;p++}let y;if(o.startsWith("$"))y=`{ variable: "${o.slice(1)}" }`;else try{const E=JSON.parse(o);y=`{ literal: ${JSON.stringify(E)} }`}catch{y=`{ literal: "${o}" }`}const b=" ".repeat(g);return{source:[...c.slice(0,m),`${b}${i}: ${y}`,...c.slice(p)].join(`
`),success:!0}}function Fo(n,r,i,o){const c=n.split(`
`),f=rt(n,r,o);if(!f)return{source:n,success:!1};let h=-1;for(let g=f.startLine+1;g<f.endLine;g++)if(c[g].match(/^\s+next:\s*/)){h=g;break}const m=" ".repeat(f.indent+2);if(h!==-1)c[h]=`${m}next: ${i}`;else{let g=f.startLine+1;for(;g<f.endLine;){const p=c[g];if(p.trim()!==""&&!p.trim().startsWith("#"))break;g++}c.splice(g,0,`${m}next: ${i}`)}return{source:c.join(`
`),success:!0}}function bf(n,r,i){const o=n.split(`
`),c=rt(n,r,i);if(!c)return{source:n,success:!1};for(let f=c.startLine+1;f<c.endLine;f++)if(o[f].match(/^\s+next:\s*/)){const h=o[f].match(/^(\s+)next:/)?.[1]||" ".repeat(c.indent+2);return o[f]=`${h}next: null`,{source:o.join(`
`),success:!0}}return{source:n,success:!0}}function c1(n,r,i,o){const c=n.split(`
`),f=rt(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1;for(let v=f.startLine+1;v<f.endLine;v++){const j=c[v].match(/^(\s+)inputs:\s*$/);if(j){h=v,m=j[1].length;break}}if(h===-1)return{source:n,success:!1};const g=o.startsWith("CATCH"),p=" ".repeat(m+2),y=" ".repeat(m+4);let b=-1,N=-1,E=h+1;for(;E<c.length;){const v=c[E];if(v.trim()===""||v.trim().startsWith("#")){E++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=m&&v.trim())break;const j=v.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){b=E;break}const _=v.match(/^\s+([A-Z]+\d*):\s*\{.*\}\s*$/);if(_&&_[1]===o){N=E;break}E++}if(b!==-1){const v=c[b].match(/^(\s*)/)?.[1].length||0;let w=b+1;if(g){let j=-1;for(;w<c.length;){const _=c[w];if(_.trim()===""||_.trim().startsWith("#")){w++;continue}if((_.match(/^(\s*)/)?.[1].length||0)<=v&&_.trim())break;if(_.match(/^\s+body:\s*$/)){j=w;break}w++}if(j!==-1){const _=c[j].match(/^(\s*)/)?.[1].length||0;let T=j+1;for(;T<c.length;){const U=c[T];if(U.trim()===""||U.trim().startsWith("#")){T++;continue}if((U.match(/^(\s*)/)?.[1].length||0)<=_&&U.trim())break;const W=U.match(/^(\s+)branch:\s*/);if(W)return c[T]=`${W[1]}branch: ${i}`,{source:c.join(`
`),success:!0};T++}const X=" ".repeat(_+2);return c.splice(j+1,0,`${X}branch: ${i}`),{source:c.join(`
`),success:!0}}else{const _=" ".repeat(v+2),T=" ".repeat(v+4);let X=b+1;for(;X<c.length;){const U=c[X];if(U.trim()===""||U.trim().startsWith("#")){X++;continue}if((U.match(/^(\s*)/)?.[1].length||0)<=v&&U.trim())break;X++}return c.splice(X,0,`${_}body:`,`${T}branch: ${i}`),{source:c.join(`
`),success:!0}}}else{for(;w<c.length;){const j=c[w];if(j.trim()===""||j.trim().startsWith("#")){w++;continue}if((j.match(/^(\s*)/)?.[1].length||0)<=v&&j.trim())break;const T=j.match(/^(\s+)branch:\s*/);if(T)return c[w]=`${T[1]}branch: ${i}`,{source:c.join(`
`),success:!0};w++}return c.splice(b+1,0,`${y}branch: ${i}`),{source:c.join(`
`),success:!0}}}else if(N!==-1){const v=c[N].match(/^(\s*)/)?.[1].length||0,w=" ".repeat(v+2);if(g){const j=" ".repeat(v+2),_=" ".repeat(v+4);c.splice(N,1,`${" ".repeat(v)}${o}:`,`${j}exception_type: "Exception"`,`${j}body:`,`${_}branch: ${i}`)}else c.splice(N,1,`${" ".repeat(v)}${o}:`,`${w}branch: ${i}`);return{source:c.join(`
`),success:!0}}else{if(g){const v=" ".repeat(m+4),w=" ".repeat(m+6);c.splice(E,0,`${p}${o}:`,`${v}exception_type: "Exception"`,`${v}body:`,`${w}branch: ${i}`)}else c.splice(E,0,`${p}${o}:`,`${y}branch: ${i}`);return{source:c.join(`
`),success:!0}}}function u1(n,r,i,o,c){if(!o)return bf(n,r,c);const f=n.split(`
`),h=rt(n,r,c);if(!h)return{source:n,success:!1};let m=-1,g=-1;for(let v=h.startLine+1;v<h.endLine;v++){const j=f[v].match(/^(\s+)inputs:\s*$/);if(j){m=v,g=j[1].length;break}}if(m===-1)return{source:n,success:!1};const p=o.startsWith("CATCH");let y=-1,b=m+1;for(;b<f.length;){const v=f[b];if(v.trim()===""||v.trim().startsWith("#")){b++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=g&&v.trim())break;const j=v.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){y=b;break}b++}if(y===-1)return{source:n,success:!1};const N=f[y].match(/^(\s*)/)?.[1].length||0;let E=y+1;for(;E<f.length;){const v=f[E];if(v.trim()===""||v.trim().startsWith("#")){E++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=N&&v.trim())break;if(p){const j=v.match(/^(\s+)body:\s*$/);if(j){const _=j[1].length;let T=E+1;for(;T<f.length;){const X=f[T];if(X.trim()===""||X.trim().startsWith("#")){T++;continue}if((X.match(/^(\s*)/)?.[1].length||0)<=_&&X.trim())break;const L=X.match(/^(\s+)branch:\s*(\S+)/);if(L&&L[2]===i){const W=L[1];return f[T]=`${W}branch: null`,{source:f.join(`
`),success:!0}}T++}}}else{const j=v.match(/^(\s+)branch:\s*(\S+)/);if(j&&j[2]===i){const _=j[1];return f[E]=`${_}branch: null`,{source:f.join(`
`),success:!0}}}E++}return{source:n,success:!1}}function f1(n,r,i,o){const c=n.split(`
`),f=rt(n,i);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let N=f.startLine+1;N<f.endLine;N++){const E=c[N];if(E.match(/^\s+inputs:\s*$/)){h=N;continue}if(h!==-1){const v=E.match(new RegExp(`^(\\s+)(${o}):\\s*(.*)$`));if(v){m=N,g=v[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const N=c[p];if(N.trim()===""||N.trim().startsWith("#")){p++;continue}const E=N.search(/\S/);if(E!==-1&&E<=g)break;p++}const y=" ".repeat(g);return{source:[...c.slice(0,m),`${y}${o}: { node: "${r}" }`,...c.slice(p)].join(`
`),success:!0}}function d1(n,r,i){if(i.length===0)return{source:n,success:!1};const o=n.split(`
`),c=rt(n,r);if(!c)return{source:n,success:!1};let f=c.startLine,h=c.indent,m=!1;for(let v=c.startLine+1;v<o.length;v++){const w=o[v];if(w.trim()===""||w.trim().startsWith("#"))continue;const j=w.search(/\S/);if(j!==-1&&j<=c.indent)break;if(w.match(/^\s+inputs:\s*$/)){m=!0,f=v,h=j;break}}if(!m)return{source:n,success:!1};for(let v=0;v<i.length-1;v++){const w=i[v];let j=!1;for(let _=f+1;_<o.length;_++){const T=o[_];if(T.trim()===""||T.trim().startsWith("#"))continue;const X=T.search(/\S/);if(X!==-1&&X<=h)break;const U=T.match(new RegExp(`^(\\s+)(${w}):\\s*`));if(U){f=_,h=U[1].length,j=!0;for(let L=_+1;L<o.length;L++){const W=o[L];if(W.trim()===""||W.trim().startsWith("#"))continue;const $=W.search(/\S/);if($!==-1&&$<=h)break;if(W.match(/^\s+inputs:\s*$/)){f=L,h=$;break}}break}}if(!j)return{source:n,success:!1}}const g=i[i.length-1];let p=-1,y=-1;for(let v=f+1;v<o.length;v++){const w=o[v];if(w.trim()===""||w.trim().startsWith("#"))continue;const j=w.search(/\S/);if(j!==-1&&j<=h)break;const _=w.match(new RegExp(`^(\\s+)(${g}):\\s*`));if(_){p=v,y=_[1].length;break}}if(p===-1)return{source:n,success:!1};let b=p+1;for(;b<o.length;){const v=o[b];if(v.trim()===""||v.trim().startsWith("#")){b++;continue}const w=v.search(/\S/);if(w!==-1&&w<=y)break;b++}const N=" ".repeat(y);return{source:[...o.slice(0,p),`${N}${g}: { literal: null }`,...o.slice(b)].join(`
`),success:!0}}function h1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let w=0;w<c.length;w++){const j=c[w],_=j.match(/^\s*-?\s*name:\s*(\w+)/);if(_&&(f=_[1]===r),f){const T=j.match(/^(\s*)interface:\s*$/);if(T){h=w,g=T[1].length;let X=w+1;for(;X<c.length;){const U=c[X];if(U.trim()===""||U.trim().startsWith("#")){X++;continue}const L=U.search(/\S/);if(L!==-1&&L<=g)break;X++}m=X;break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(g),y=" ".repeat(g+2),b=i.length>0?`[${i.map(w=>`"${w}"`).join(", ")}]`:"[]",N=o.length>0?`[${o.map(w=>`"${w}"`).join(", ")}]`:"[]",E=[`${p}interface:`,`${y}inputs: ${b}`,`${y}outputs: ${N}`];return{source:[...c.slice(0,h),...E,...c.slice(m)].join(`
`),success:!0}}function m1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let b=0;b<c.length;b++){const N=c[b],E=N.match(/^\s*-?\s*name:\s*(\w+)/);if(E&&(f=E[1]===r),f){const v=N.match(/^(\s*)variables:\s*(.*)$/);if(v){h=b,m=v[1].length;const w=v[2].trim();if(w==="{}"||w==="")g=b+1;else{let j=b+1;for(;j<c.length;){const _=c[j];if(_.trim()===""||_.trim().startsWith("#")){j++;continue}const T=_.search(/\S/);if(T!==-1&&T<=m)break;j++}g=j}break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(m+2),y=xf(o);if(c[h].includes("{}")){const b=" ".repeat(m);return{source:[...c.slice(0,h),`${b}variables:`,`${p}${i}: ${y}`,...c.slice(h+1)].join(`
`),success:!0}}else return{source:[...c.slice(0,g),`${p}${i}: ${y}`,...c.slice(g)].join(`
`),success:!0}}function p1(n,r,i,o,c){const f=n.split(`
`);let h=!1,m=!1,g=-1,p=-1;for(let N=0;N<f.length;N++){const E=f[N],v=E.match(/^\s*-?\s*name:\s*(\w+)/);if(v&&(h=v[1]===r,m=!1),h){const w=E.match(/^(\s*)variables:\s*/);if(w){m=!0,g=w[1].length;continue}if(m){const j=E.search(/\S/);if(E.trim()!==""&&!E.trim().startsWith("#")&&j!==-1&&j<=g){m=!1;continue}if(E.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){p=N;break}}}}if(p===-1)return{source:n,success:!1};const y=f[p].match(/^(\s+)/)?.[1]||"    ",b=xf(c);return f[p]=`${y}${o}: ${b}`,{source:f.join(`
`),success:!0}}function g1(n,r,i){const o=n.split(`
`);let c=!1,f=!1,h=-1,m=-1;for(let p=0;p<o.length;p++){const y=o[p],b=y.match(/^\s*-?\s*name:\s*(\w+)/);if(b&&(c=b[1]===r,f=!1),c){const N=y.match(/^(\s*)variables:\s*/);if(N){f=!0,h=N[1].length;continue}if(f){const E=y.search(/\S/);if(y.trim()!==""&&!y.trim().startsWith("#")&&E!==-1&&E<=h){f=!1;continue}if(y.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){m=p;break}}}}return m===-1?{source:n,success:!1}:{source:[...o.slice(0,m),...o.slice(m+1)].join(`
`),success:!0}}function xx(n,r,i,o="main"){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1,p=-1;for(let _=0;_<c.length;_++){const T=c[_],X=T.match(/^\s*-?\s*name:\s*(\w+)/);if(X&&(f=X[1]===o),f){const U=T.match(/^(\s*)nodes:\s*$/);if(U){h=_,m=U[1].length;continue}if(h!==-1){const L=T.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(L){const W=L[1].length;if(W===m+2){p=W;let $=_+1;for(;$<c.length;){const Y=c[$];if(Y.trim()===""||Y.trim().startsWith("#")){$++;continue}const P=Y.search(/\S/);if(P!==-1&&P<=W)break;$++}g=$}}}}}if(h===-1)return{source:n,nodeId:null};const y=gx(n,`call_${r}`),b=" ".repeat(p!==-1?p:m+2),N=b+"  ",E=N+"  ";let v=`${b}${y}:
`;v+=`${N}opcode: workflow_call
`,v+=`${N}next: null
`,v+=`${N}inputs:
`,v+=`${E}WORKFLOW: { literal: "${r}" }
`,i.forEach((_,T)=>{v+=`${E}ARG${T+1}: { literal: null }
`});const w=g!==-1?g:h+1;return{source:[...c.slice(0,w),v.trimEnd(),...c.slice(w)].join(`
`),nodeId:y}}function x1(n,r,i){const o=n.split(`
`),c=rt(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let w=c.startLine+1;w<c.endLine;w++){const j=o[w],_=j.match(/^(\s+)inputs:\s*$/);if(_){f=w,h=_[1].length;continue}if(f!==-1){const T=j.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));T&&m.push(T[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const w of m){const j=parseInt(w.replace(i,""));j>g&&(g=j)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const w=o[y];if(w.trim()===""||w.trim().startsWith("#")){y++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=h&&w.trim())break;y++}const b=" ".repeat(h+2),N=" ".repeat(h+4);let E;if(i==="CATCH"){const w=" ".repeat(h+6);E=[`${b}${p}:`,`${N}exception_type: "Exception"`,`${N}body:`,`${w}branch: null`]}else E=[`${b}${p}:`,`${N}branch: null`];return{source:[...o.slice(0,y),...E,...o.slice(y)].join(`
`),success:!0}}function y1(n,r,i){const o=n.split(`
`),c=rt(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function b1(n,r,i){const o=n.split(`
`),c=rt(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let v=c.startLine+1;v<c.endLine;v++){const w=o[v],j=w.match(/^(\s+)inputs:\s*$/);if(j){f=v,h=j[1].length;continue}if(f!==-1){const _=w.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));_&&m.push(_[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const v of m){const w=parseInt(v.replace(i,""));w>g&&(g=w)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const v=o[y];if(v.trim()===""||v.trim().startsWith("#")){y++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=h&&v.trim())break;y++}const N=`${" ".repeat(h+2)}${p}: { literal: null }`;return{source:[...o.slice(0,y),N,...o.slice(y)].join(`
`),success:!0}}function v1(n,r,i){const o=n.split(`
`),c=rt(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function yx(n,r,i=[],o=[],c={}){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return{source:n,success:!1};const f=n.split(`
`);for(const T of f){const X=T.match(/^\s*-?\s*name:\s*(\w+)/);if(X&&X[1]===r)return{source:n,success:!1}}let h=-1,m=!1,g=-1;for(let T=0;T<f.length;T++){const X=f[T],U=X.match(/^(\s*)workflows:\s*$/);if(U){m=!0,g=U[1].length;continue}if(m){const L=X.search(/\S/);if(X.trim()!==""&&L!==-1&&L<=g)break;h=T}}if(!m)return{source:n,success:!1};const p="  ",y="    ",b="      ",N=i.length>0?`[${i.map(T=>`"${T}"`).join(", ")}]`:"[]",E=o.length>0?`[${o.map(T=>`"${T}"`).join(", ")}]`:"[]";let v=`${p}- name: ${r}
`;v+=`${y}interface:
`,v+=`${b}inputs: ${N}
`,v+=`${b}outputs: ${E}
`;const w=Object.entries(c);if(w.length===0)v+=`${y}variables: {}
`;else{v+=`${y}variables:
`;for(const[T,X]of w)v+=`${b}${T}: ${xf(X)}
`}v+=`${y}nodes:
`,v+=`${b}start:
`,v+=`${b}  next: null`;const j=h+1;return{source:[...f.slice(0,j),v,...f.slice(j)].join(`
`),success:!0}}function w1(n,r){if(r==="main")return{source:n,success:!1};const i=n.split(`
`);let o=-1,c=-1;for(let m=0;m<i.length;m++){const p=i[m].match(/^(\s*)-\s*name:\s*(\w+)/);if(p&&p[2]===r){o=m,c=p[1].length;break}}if(o===-1)return{source:n,success:!1};let f=o+1;for(;f<i.length;){const m=i[f];if(m.trim()===""||m.trim().startsWith("#")){f++;continue}const g=m.search(/\S/),p=m.match(/^(\s*)-\s*name:\s*\w+/);if(p&&p[1].length===c||g!==-1&&g<=c&&!m.trim().startsWith("-"))break;f++}return{source:[...i.slice(0,o),...i.slice(f)].join(`
`),success:!0}}const S1=["control_if","control_for","control_for_each","control_while","control_repeat_until","control_try","control_fork"];function N1(n,r){const i=n.split(`
`);let o=null,c=!1,f=-1;for(const h of i){const m=h.match(/^(\s*)-?\s*name:\s*(\w+)/);if(m&&(o=m[2],f=m[1].length,c=!1),h.match(/^(\s*)nodes:\s*$/)&&o&&(c=!0),c){const p=h.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(p&&p[2]===r)return o;const y=h.search(/\S/);h.trim()&&y!==-1&&y<=f&&(c=!1)}}return null}function bx(n,r){const i=rt(n,r);if(!i)return null;const o=n.split(`
`);for(let c=i.startLine+1;c<i.endLine;c++){const f=o[c].match(/^\s+opcode:\s*(\S+)/);if(f)return f[1]}return null}function Pp(n,r,i){const o=rt(n,r,i);if(!o)return null;const c=n.split(`
`);for(let f=o.startLine+1;f<o.endLine;f++){const h=c[f].match(/^\s+next:\s*(\S+)/);if(h){const m=h[1];return m==="null"?null:m}}return null}function E1(n,r,i){const o=yf(n,i);if(!o)return null;const c=n.split(`
`);let f=null;for(let h=o.startLine;h<o.endLine;h++){const m=c[h],g=m.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);g&&(f=g[2]);const p=m.match(/^\s+next:\s*(\S+)/);if(p&&p[1]===r&&f)return f}return null}function j1(n,r){const i=[],o=new Set;function c(f){if(o.has(f))return;o.add(f);const h=rt(n,f);if(!h)return;const g=n.split(`
`).slice(h.startLine,h.endLine).join(`
`),p=g.matchAll(/\{\s*node:\s*["']([^"']+)["']\s*\}/g);for(const b of p){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}const y=g.matchAll(/\{\s*node:\s*([a-zA-Z_][a-zA-Z0-9_]*)\s*\}/g);for(const b of y){const N=b[1];!i.includes(N)&&!r.includes(N)&&(i.push(N),c(N))}}for(const f of r)c(f);return i}function vx(n,r,i){const o=[];if(r.length<2)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Select at least 2 nodes to extract"]};for(const w of r)N1(n,w)!==i&&o.push(`Node "${w}" is not in workflow "${i}"`);if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};for(const w of r){const j=bx(n,w);j&&S1.includes(j)&&o.push(`Cannot extract "${w}": branching nodes (${j}) are not supported`)}if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};const c=new Set(r),f={};for(const w of r)f[w]=Pp(n,w,i);const h=new Set(Object.values(f).filter(w=>w&&c.has(w))),m=r.filter(w=>!h.has(w));if(m.length!==1)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes do not form a single connected chain"]};const g=[];let p=m[0];const y=new Set;for(;p&&c.has(p)&&!y.has(p);)y.add(p),g.push(p),p=f[p]||null;if(g.length!==r.length)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes are not contiguous (some nodes are disconnected)"]};const b=g[0],N=g[g.length-1],E=E1(n,b,i),v=Pp(n,N,i);return{isValid:!0,orderedNodeIds:g,firstNodeId:b,lastNodeId:N,predecessorNodeId:E,successorNodeId:v,errors:[]}}function C1(n,r){const i=new Set,o=new Set;for(const h of r){const m=rt(n,h);if(!m)continue;const p=n.split(`
`).slice(m.startLine,m.endLine).join(`
`),y=p.matchAll(/\{\s*variable:\s*["']([^"']+)["']\s*\}/g);for(const N of y)i.add(N[1]);if(bx(n,h)==="data_set_variable_to"){const N=p.match(/VARIABLE:\s*\{\s*literal:\s*["']([^"']+)["']\s*\}/);N&&o.add(N[1])}}const c=[...i].filter(h=>!o.has(h)),f=[...o];return{suggestedInputs:c,suggestedOutputs:f}}function A1(n,r,i,o,c,f,h){const m=vx(n,r,i);if(!m.isValid)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:m.errors};const{orderedNodeIds:g,firstNodeId:p,lastNodeId:y,predecessorNodeId:b,successorNodeId:N}=m,E=j1(n,g);let v=n;const w=yx(v,o,c,f,h);if(!w.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to create workflow "${o}"`]};v=w.source;const j=[],_=[];for(const ce of[...g].reverse()){const Q=rt(v,ce,i);if(!Q)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find node "${ce}"`]};const A=v.split(`
`).slice(Q.startLine,Q.endLine).join(`
`);j.unshift({id:ce,yaml:A,indent:Q.indent});const k=tf(v,ce);if(!k.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to delete node "${ce}"`]};v=k.source}for(const ce of[...E].reverse()){let Q=rt(v,ce,i);if(Q||(Q=rt(v,ce)),!Q)continue;const A=v.split(`
`).slice(Q.startLine,Q.endLine).join(`
`);_.unshift({id:ce,yaml:A,indent:Q.indent});const k=tf(v,ce);k.success&&(v=k.source)}const T=[...j,..._];if(!yf(v,o))return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find nodes section in new workflow "${o}"`]};const U=rt(v,"start",o);if(!U)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Could not find start node in new workflow"]};const L=U.indent,W=[];for(let ce=0;ce<T.length;ce++){const Q=T[ce],le=Q.yaml.split(`
`),A=L-Q.indent,k=le.map(H=>H.trim()===""?H:A>0?" ".repeat(A)+H:A<0?H.slice(-A):H);W.push(...k)}const $=v.split(`
`),Y=U.endLine;$.splice(Y,0,...W),v=$.join(`
`);const P=Fo(v,"start",p,o);if(!P.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to connect start to "${p}"`]};v=P.source;const re=bf(v,y,o);if(!re.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to disconnect last node "${y}"`]};v=re.source;const se=xx(v,o,c,i);if(!se.nodeId)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to create workflow_call node"]};v=se.source;const ue=se.nodeId;if(b){const ce=Fo(v,b==="start"?"start":b,ue,i);if(!ce.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect predecessor to workflow_call"]};v=ce.source}if(N){const ce=Fo(v,ue,N,i);if(!ce.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect workflow_call to successor"]};v=ce.source}return{source:v,success:!0,newWorkflowCallNodeId:ue,errors:[]}}const _1=50,eg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`,nt=ms()(r1((n,r)=>({source:eg,setSource:(i,o=!0)=>{const c=r();if(o&&i!==c.source){const f=c.history.slice(0,c.historyIndex+1);f.push(i),f.length>_1&&f.shift(),n({source:i,history:f,historyIndex:f.length-1,canUndo:f.length>1,canRedo:!1})}else n({source:i})},history:[eg],historyIndex:0,canUndo:!1,canRedo:!1,undo:()=>{const i=r();if(i.historyIndex>0){const o=i.historyIndex-1;n({source:i.history[o],historyIndex:o,canUndo:o>0,canRedo:!0})}},redo:()=>{const i=r();if(i.historyIndex<i.history.length-1){const o=i.historyIndex+1;n({source:i.history[o],historyIndex:o,canUndo:!0,canRedo:o<i.history.length-1})}},tree:null,parseError:null,isParsing:!1,setTree:i=>n({tree:i,parseError:null}),setParseError:i=>n({parseError:i,tree:null}),setIsParsing:i=>n({isParsing:i}),deleteNode:i=>{const o=r(),c=tf(o.source,i);return c.success&&o.setSource(c.source),c.success},addNode:(i,o="main")=>{const c=r(),f=i1(c.source,i,o);return f.nodeId&&c.setSource(f.source),f.nodeId},addWorkflowCallNode:(i,o,c="main")=>{const f=r(),h=xx(f.source,i,o,c);return h.nodeId&&f.setSource(h.source),h.nodeId},duplicateNode:i=>{const o=r(),c=o1(o.source,i);return c.nodeId&&o.setSource(c.source),c.nodeId},updateNodeInput:(i,o,c)=>{const f=r(),h=s1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectNodes:(i,o,c)=>{const f=r(),h=Fo(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectBranch:(i,o,c)=>{const f=r(),h=c1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},disconnectNode:(i,o)=>{const c=r(),f=bf(c.source,i,o);return f.success&&c.setSource(f.source),f.success},convertOrphanToReporter:(i,o,c)=>{const f=r(),h=f1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateReporterInput:(i,o,c)=>(console.log("[updateReporterInput] reporterNodeId:",i,"key:",o,"value:",c),i?r().updateNodeInput(i,o,c):(console.warn("[updateReporterInput] No reporter node ID provided"),!1)),deleteReporter:(i,o)=>{const c=r(),f=d1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},updateWorkflowInterface:(i,o,c)=>{const f=r(),h=h1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},addVariable:(i,o,c)=>{const f=r(),h=m1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateVariable:(i,o,c,f)=>{const h=r(),m=p1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},disconnectConnection:(i,o,c,f)=>{const h=r(),m=u1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteVariable:(i,o)=>{const c=r(),f=g1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicBranch:(i,o)=>{const c=r(),f=x1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicBranch:(i,o)=>{const c=r(),f=y1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicInput:(i,o)=>{const c=r(),f=b1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicInput:(i,o)=>{const c=r(),f=v1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addWorkflow:(i,o=[],c=[],f={})=>{const h=r(),m=yx(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteWorkflow:i=>{const o=r(),c=w1(o.source,i);return c.success&&o.setSource(c.source),c.success},extractToWorkflow:(i,o,c,f,h,m)=>{const g=r(),p=A1(g.source,i,o,c,f,h,m);return p.success&&g.setSource(p.source),{success:p.success,errors:p.errors}},examples:[],setExamples:i=>n({examples:i}),opcodes:[],setOpcodes:i=>n({opcodes:i}),isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,setIsExecuting:i=>n({isExecuting:i}),setExecutionOutput:i=>n({executionOutput:i}),appendExecutionOutput:i=>n(o=>({executionOutput:o.executionOutput+i})),setExecutionResult:i=>n({executionResult:i}),setExecutionError:i=>n({executionError:i}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null}),workflowInputs:{},setWorkflowInput:(i,o)=>n(c=>({workflowInputs:{...c.workflowInputs,[i]:o}})),clearWorkflowInputs:()=>n({workflowInputs:{}})}),{name:"lexflow-workflow",partialize:n=>({source:n.source})})),Ce=ms(n=>({zoom:1,panX:0,panY:0,isDraggingWorkflow:!1,setZoom:r=>n({zoom:Math.max(.25,Math.min(2,r))}),setPan:(r,i)=>n({panX:r,panY:i}),resetView:()=>n({zoom:1,panX:0,panY:0}),setIsDraggingWorkflow:r=>n({isDraggingWorkflow:r}),isEditorOpen:!1,isNodeEditorOpen:!1,isPaletteOpen:!1,isExecutionPanelOpen:!0,toggleEditor:()=>n(r=>({isEditorOpen:!r.isEditorOpen})),toggleNodeEditor:()=>n(r=>({isNodeEditorOpen:!r.isNodeEditorOpen})),togglePalette:()=>n(r=>({isPaletteOpen:!r.isPaletteOpen})),toggleExecutionPanel:()=>n(r=>({isExecutionPanelOpen:!r.isExecutionPanelOpen})),openNodeEditor:()=>n({isNodeEditorOpen:!0}),closeNodeEditor:()=>n({isNodeEditorOpen:!1}),nodeStatus:{},setNodeStatus:(r,i)=>n(o=>({nodeStatus:{...o.nodeStatus,[r]:i}})),clearNodeStatuses:()=>n({nodeStatus:{}}),searchQuery:"",searchResults:[],setSearchQuery:r=>n({searchQuery:r}),setSearchResults:r=>n({searchResults:r}),workflowPositions:{},setWorkflowPosition:(r,i,o)=>n(c=>({workflowPositions:{...c.workflowPositions,[r]:{x:i,y:o}}})),resetWorkflowPositions:()=>n({workflowPositions:{}}),draggingOpcode:null,setDraggingOpcode:r=>n({draggingOpcode:r}),draggingWire:null,setDraggingWire:r=>n({draggingWire:r}),updateDraggingWire:r=>n(i=>({draggingWire:i.draggingWire?{...i.draggingWire,...r}:null})),draggingOrphan:null,setDraggingOrphan:r=>n({draggingOrphan:r}),updateDraggingOrphanEnd:(r,i)=>n(o=>({draggingOrphan:o.draggingOrphan?{...o.draggingOrphan,toX:r,toY:i}:null})),nodePositions:{},setNodePosition:(r,i,o)=>n(c=>({nodePositions:{...c.nodePositions,[r]:{x:i,y:o}}})),resetNodePositions:()=>n({nodePositions:{}}),clearNodePosition:r=>n(i=>{const{[r]:o,...c}=i.nodePositions;return{nodePositions:c}}),layoutMode:"free",setLayoutMode:r=>n({layoutMode:r}),isDraggingNode:!1,setIsDraggingNode:r=>n({isDraggingNode:r}),draggingVariable:null,setDraggingVariable:r=>n({draggingVariable:r}),updateDraggingVariableEnd:(r,i)=>n(o=>({draggingVariable:o.draggingVariable?{...o.draggingVariable,toX:r,toY:i}:null})),draggingWorkflowCall:null,setDraggingWorkflowCall:r=>n({draggingWorkflowCall:r}),slotPositions:{},registerSlotPositions:(r,i)=>n(o=>({slotPositions:{...o.slotPositions,[r]:i}})),unregisterSlotPositions:r=>n(i=>{const{[r]:o,...c}=i.slotPositions;return{slotPositions:c}}),layoutGroups:[],setLayoutGroups:r=>n({layoutGroups:r}),canvasCenter:{x:400,y:300},setCanvasCenter:(r,i)=>n({canvasCenter:{x:r,y:i}}),contextMenu:null,showContextMenu:r=>n({contextMenu:r}),hideContextMenu:()=>n({contextMenu:null}),expandedReporters:{},toggleReportersExpanded:r=>n(i=>({expandedReporters:{...i.expandedReporters,[r]:!i.expandedReporters[r]}})),setReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,[r]:i}})),confirmDialog:null,showConfirmDialog:r=>n({confirmDialog:{isOpen:!0,title:r.title,message:r.message,confirmLabel:r.confirmLabel,cancelLabel:r.cancelLabel,variant:r.variant,onConfirm:()=>{r.onConfirm(),n({confirmDialog:null})},onCancel:()=>{r.onCancel?.(),n({confirmDialog:null})}}}),hideConfirmDialog:()=>n({confirmDialog:null}),canvasContextMenu:null,showCanvasContextMenu:(r,i,o)=>n({canvasContextMenu:{x:r,y:i,workflowName:o}}),hideCanvasContextMenu:()=>n({canvasContextMenu:null}),createWorkflowModal:null,showCreateWorkflowModal:()=>n({createWorkflowModal:{isOpen:!0}}),hideCreateWorkflowModal:()=>n({createWorkflowModal:null}),extractWorkflowModal:null,showExtractWorkflowModal:(r,i,o=[],c=[])=>n({extractWorkflowModal:{isOpen:!0,nodeIds:r,workflowName:i,suggestedInputs:o,suggestedOutputs:c}}),hideExtractWorkflowModal:()=>n({extractWorkflowModal:null})})),ai=ms(n=>({isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,workflowInputs:{},pendingPrompt:null,renderedContent:[],alerts:[],progress:null,setIsExecuting:r=>n({isExecuting:r}),setExecutionOutput:r=>n({executionOutput:r}),appendExecutionOutput:r=>n(i=>({executionOutput:i.executionOutput+r})),setExecutionResult:r=>n({executionResult:r}),setExecutionError:r=>n({executionError:r}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null,pendingPrompt:null,renderedContent:[],alerts:[],progress:null}),setWorkflowInput:(r,i)=>n(o=>({workflowInputs:{...o.workflowInputs,[r]:i}})),clearWorkflowInputs:()=>n({workflowInputs:{}}),setPendingPrompt:r=>n({pendingPrompt:r}),addRenderedContent:r=>n(i=>({renderedContent:[...i.renderedContent,r]})),clearRenderedContent:()=>n({renderedContent:[]}),addAlert:r=>n(i=>({alerts:[...i.alerts,{...r,id:crypto.randomUUID()}]})),removeAlert:r=>n(i=>({alerts:i.alerts.filter(o=>o.id!==r)})),setProgress:r=>n({progress:r})})),Kn=ms(n=>({selectedNodeId:null,selectNode:r=>n({selectedNodeId:r,selectedNodeIds:[]}),selectedNodeIds:[],toggleNodeSelection:r=>n(i=>{const o=i.selectedNodeIds.includes(r)?i.selectedNodeIds.filter(c=>c!==r):[...i.selectedNodeIds,r];return{selectedNodeIds:o,selectedNodeId:o.length>0?o[o.length-1]:null}}),addToSelection:r=>n(i=>({selectedNodeIds:i.selectedNodeIds.includes(r)?i.selectedNodeIds:[...i.selectedNodeIds,r]})),clearMultiSelection:()=>n({selectedNodeIds:[]}),selectedReporter:null,selectReporter:r=>n({selectedReporter:r}),selectedConnection:null,selectConnection:r=>n({selectedConnection:r}),selectedStartNode:null,selectStartNode:r=>n({selectedStartNode:r}),clearSelection:()=>n({selectedNodeId:null,selectedNodeIds:[],selectedReporter:null,selectedConnection:null,selectedStartNode:null})}));function wx(n){var r,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(r=0;r<c;r++)n[r]&&(i=wx(n[r]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function Sx(){for(var n,r,i=0,o="",c=arguments.length;i<c;i++)(n=arguments[i])&&(r=wx(n))&&(o&&(o+=" "),o+=r);return o}const O1=(n,r)=>{const i=new Array(n.length+r.length);for(let o=0;o<n.length;o++)i[o]=n[o];for(let o=0;o<r.length;o++)i[n.length+o]=r[o];return i},T1=(n,r)=>({classGroupId:n,validator:r}),Nx=(n=new Map,r=null,i)=>({nextPart:n,validators:r,classGroupId:i}),es="-",tg=[],M1="arbitrary..",D1=n=>{const r=R1(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return k1(h);const m=h.split(es),g=m[0]===""&&m.length>1?1:0;return Ex(m,g,r)},getConflictingClassGroupIds:(h,m)=>{if(m){const g=o[h],p=i[h];return g?p?O1(p,g):g:p||tg}return i[h]||tg}}},Ex=(n,r,i)=>{if(n.length-r===0)return i.classGroupId;const c=n[r],f=i.nextPart.get(c);if(f){const p=Ex(n,r+1,f);if(p)return p}const h=i.validators;if(h===null)return;const m=r===0?n.join(es):n.slice(r).join(es),g=h.length;for(let p=0;p<g;p++){const y=h[p];if(y.validator(m))return y.classGroupId}},k1=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=n.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?M1+o:void 0})(),R1=n=>{const{theme:r,classGroups:i}=n;return z1(i,r)},z1=(n,r)=>{const i=Nx();for(const o in n){const c=n[o];vf(c,i,o,r)}return i},vf=(n,r,i,o)=>{const c=n.length;for(let f=0;f<c;f++){const h=n[f];L1(h,r,i,o)}},L1=(n,r,i,o)=>{if(typeof n=="string"){V1(n,r,i);return}if(typeof n=="function"){B1(n,r,i,o);return}H1(n,r,i,o)},V1=(n,r,i)=>{const o=n===""?r:jx(r,n);o.classGroupId=i},B1=(n,r,i,o)=>{if(U1(n)){vf(n(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(T1(i,n))},H1=(n,r,i,o)=>{const c=Object.entries(n),f=c.length;for(let h=0;h<f;h++){const[m,g]=c[h];vf(g,jx(r,m),i,o)}},jx=(n,r)=>{let i=n;const o=r.split(es),c=o.length;for(let f=0;f<c;f++){const h=o[f];let m=i.nextPart.get(h);m||(m=Nx(),i.nextPart.set(h,m)),i=m}return i},U1=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,Y1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const c=(f,h)=>{i[f]=h,r++,r>n&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return c(f,h),h},set(f,h){f in i?i[f]=h:c(f,h)}}},nf="!",ng=":",I1=[],lg=(n,r,i,o,c)=>({modifiers:n,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:c}),q1=n=>{const{prefix:r,experimentalParseClassName:i}=n;let o=c=>{const f=[];let h=0,m=0,g=0,p;const y=c.length;for(let w=0;w<y;w++){const j=c[w];if(h===0&&m===0){if(j===ng){f.push(c.slice(g,w)),g=w+1;continue}if(j==="/"){p=w;continue}}j==="["?h++:j==="]"?h--:j==="("?m++:j===")"&&m--}const b=f.length===0?c:c.slice(g);let N=b,E=!1;b.endsWith(nf)?(N=b.slice(0,-1),E=!0):b.startsWith(nf)&&(N=b.slice(1),E=!0);const v=p&&p>g?p-g:void 0;return lg(f,E,N,v)};if(r){const c=r+ng,f=o;o=h=>h.startsWith(c)?f(h.slice(c.length)):lg(I1,!1,h,void 0,!0)}if(i){const c=o;o=f=>i({className:f,parseClassName:c})}return o},X1=n=>{const r=new Map;return n.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let c=[];for(let f=0;f<i.length;f++){const h=i[f],m=h[0]==="[",g=r.has(h);m||g?(c.length>0&&(c.sort(),o.push(...c),c=[]),o.push(h)):c.push(h)}return c.length>0&&(c.sort(),o.push(...c)),o}},G1=n=>({cache:Y1(n.cacheSize),parseClassName:q1(n),sortModifiers:X1(n),...D1(n)}),$1=/\s+/,W1=(n,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:f}=r,h=[],m=n.trim().split($1);let g="";for(let p=m.length-1;p>=0;p-=1){const y=m[p],{isExternal:b,modifiers:N,hasImportantModifier:E,baseClassName:v,maybePostfixModifierPosition:w}=i(y);if(b){g=y+(g.length>0?" "+g:g);continue}let j=!!w,_=o(j?v.substring(0,w):v);if(!_){if(!j){g=y+(g.length>0?" "+g:g);continue}if(_=o(v),!_){g=y+(g.length>0?" "+g:g);continue}j=!1}const T=N.length===0?"":N.length===1?N[0]:f(N).join(":"),X=E?T+nf:T,U=X+_;if(h.indexOf(U)>-1)continue;h.push(U);const L=c(_,j);for(let W=0;W<L.length;++W){const $=L[W];h.push(X+$)}g=y+(g.length>0?" "+g:g)}return g},Z1=(...n)=>{let r=0,i,o,c="";for(;r<n.length;)(i=n[r++])&&(o=Cx(i))&&(c&&(c+=" "),c+=o);return c},Cx=n=>{if(typeof n=="string")return n;let r,i="";for(let o=0;o<n.length;o++)n[o]&&(r=Cx(n[o]))&&(i&&(i+=" "),i+=r);return i},Q1=(n,...r)=>{let i,o,c,f;const h=g=>{const p=r.reduce((y,b)=>b(y),n());return i=G1(p),o=i.cache.get,c=i.cache.set,f=m,m(g)},m=g=>{const p=o(g);if(p)return p;const y=W1(g,i);return c(g,y),y};return f=h,(...g)=>f(Z1(...g))},K1=[],mt=n=>{const r=i=>i[n]||K1;return r.isThemeGetter=!0,r},Ax=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_x=/^\((?:(\w[\w-]*):)?(.+)\)$/i,F1=/^\d+\/\d+$/,J1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ew=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ya=n=>F1.test(n),_e=n=>!!n&&!Number.isNaN(Number(n)),jl=n=>!!n&&Number.isInteger(Number(n)),Lu=n=>n.endsWith("%")&&_e(n.slice(0,-1)),$n=n=>J1.test(n),lw=()=>!0,aw=n=>P1.test(n)&&!ew.test(n),Ox=()=>!1,rw=n=>tw.test(n),iw=n=>nw.test(n),ow=n=>!me(n)&&!pe(n),sw=n=>er(n,Dx,Ox),me=n=>Ax.test(n),Fl=n=>er(n,kx,aw),Vu=n=>er(n,hw,_e),ag=n=>er(n,Tx,Ox),cw=n=>er(n,Mx,iw),Vo=n=>er(n,Rx,rw),pe=n=>_x.test(n),Kr=n=>tr(n,kx),uw=n=>tr(n,mw),rg=n=>tr(n,Tx),fw=n=>tr(n,Dx),dw=n=>tr(n,Mx),Bo=n=>tr(n,Rx,!0),er=(n,r,i)=>{const o=Ax.exec(n);return o?o[1]?r(o[1]):i(o[2]):!1},tr=(n,r,i=!1)=>{const o=_x.exec(n);return o?o[1]?r(o[1]):i:!1},Tx=n=>n==="position"||n==="percentage",Mx=n=>n==="image"||n==="url",Dx=n=>n==="length"||n==="size"||n==="bg-size",kx=n=>n==="length",hw=n=>n==="number",mw=n=>n==="family-name",Rx=n=>n==="shadow",pw=()=>{const n=mt("color"),r=mt("font"),i=mt("text"),o=mt("font-weight"),c=mt("tracking"),f=mt("leading"),h=mt("breakpoint"),m=mt("container"),g=mt("spacing"),p=mt("radius"),y=mt("shadow"),b=mt("inset-shadow"),N=mt("text-shadow"),E=mt("drop-shadow"),v=mt("blur"),w=mt("perspective"),j=mt("aspect"),_=mt("ease"),T=mt("animate"),X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...U(),pe,me],W=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],Y=()=>[pe,me,g],P=()=>[Ya,"full","auto",...Y()],re=()=>[jl,"none","subgrid",pe,me],se=()=>["auto",{span:["full",jl,pe,me]},jl,pe,me],ue=()=>[jl,"auto",pe,me],ce=()=>["auto","min","max","fr",pe,me],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...Y()],k=()=>[Ya,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Y()],H=()=>[n,pe,me],ae=()=>[...U(),rg,ag,{position:[pe,me]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",fw,sw,{size:[pe,me]}],V=()=>[Lu,Kr,Fl],F=()=>["","none","full",p,pe,me],ne=()=>["",_e,Kr,Fl],ye=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[_e,Lu,rg,ag],oe=()=>["","none",v,pe,me],fe=()=>["none",_e,pe,me],Re=()=>["none",_e,pe,me],Le=()=>[_e,pe,me],Ue=()=>[Ya,"full",...Y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$n],breakpoint:[$n],color:[lw],container:[$n],"drop-shadow":[$n],ease:["in","out","in-out"],font:[ow],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$n],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$n],shadow:[$n],spacing:["px",_e],text:[$n],"text-shadow":[$n],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ya,me,pe,j]}],container:["container"],columns:[{columns:[_e,me,pe,m]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[jl,"auto",pe,me]}],basis:[{basis:[Ya,"full","auto",m,...Y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,Ya,"auto","initial","none",me]}],grow:[{grow:["",_e,pe,me]}],shrink:[{shrink:["",_e,pe,me]}],order:[{order:[jl,"first","last","none",pe,me]}],"grid-cols":[{"grid-cols":re()}],"col-start-end":[{col:se()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":re()}],"row-start-end":[{row:se()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ce()}],"auto-rows":[{"auto-rows":ce()}],gap:[{gap:Y()}],"gap-x":[{"gap-x":Y()}],"gap-y":[{"gap-y":Y()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:Y()}],px:[{px:Y()}],py:[{py:Y()}],ps:[{ps:Y()}],pe:[{pe:Y()}],pt:[{pt:Y()}],pr:[{pr:Y()}],pb:[{pb:Y()}],pl:[{pl:Y()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":Y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Y()}],"space-y-reverse":["space-y-reverse"],size:[{size:k()}],w:[{w:[m,"screen",...k()]}],"min-w":[{"min-w":[m,"screen","none",...k()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[h]},...k()]}],h:[{h:["screen","lh",...k()]}],"min-h":[{"min-h":["screen","lh","none",...k()]}],"max-h":[{"max-h":["screen","lh",...k()]}],"font-size":[{text:["base",i,Kr,Fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,pe,Vu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lu,me]}],"font-family":[{font:[uw,me,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,pe,me]}],"line-clamp":[{"line-clamp":[_e,"none",pe,Vu]}],leading:[{leading:[f,...Y()]}],"list-image":[{"list-image":["none",pe,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",pe,Fl]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[_e,"auto",pe,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jl,pe,me],radial:["",pe,me],conic:[jl,pe,me]},dw,cw]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_e,pe,me]}],"outline-w":[{outline:["",_e,Kr,Fl]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",y,Bo,Vo]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",b,Bo,Vo]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[_e,Fl]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",N,Bo,Vo]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[_e,pe,me]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[pe,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,me]}],filter:[{filter:["","none",pe,me]}],blur:[{blur:oe()}],brightness:[{brightness:[_e,pe,me]}],contrast:[{contrast:[_e,pe,me]}],"drop-shadow":[{"drop-shadow":["","none",E,Bo,Vo]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",_e,pe,me]}],"hue-rotate":[{"hue-rotate":[_e,pe,me]}],invert:[{invert:["",_e,pe,me]}],saturate:[{saturate:[_e,pe,me]}],sepia:[{sepia:["",_e,pe,me]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,me]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[_e,pe,me]}],"backdrop-contrast":[{"backdrop-contrast":[_e,pe,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,pe,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,pe,me]}],"backdrop-invert":[{"backdrop-invert":["",_e,pe,me]}],"backdrop-opacity":[{"backdrop-opacity":[_e,pe,me]}],"backdrop-saturate":[{"backdrop-saturate":[_e,pe,me]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,pe,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Y()}],"border-spacing-x":[{"border-spacing-x":Y()}],"border-spacing-y":[{"border-spacing-y":Y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",pe,me]}],ease:[{ease:["linear","initial",_,pe,me]}],delay:[{delay:[_e,pe,me]}],animate:[{animate:["none",T,pe,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,pe,me]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[pe,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ue()}],"translate-x":[{"translate-x":Ue()}],"translate-y":[{"translate-y":Ue()}],"translate-z":[{"translate-z":Ue()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,me]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[_e,Kr,Fl,Vu]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},gw=Q1(pw);function z(...n){return gw(Sx(n))}const ig=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,og=Sx,M=(n,r)=>i=>{var o;if(r?.variants==null)return og(n,i?.class,i?.className);const{variants:c,defaultVariants:f}=r,h=Object.keys(c).map(p=>{const y=i?.[p],b=f?.[p];if(y===null)return null;const N=ig(y)||ig(b);return c[p][N]}),m=i&&Object.entries(i).reduce((p,y)=>{let[b,N]=y;return N===void 0||(p[b]=N),p},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((p,y)=>{let{class:b,className:N,...E}=y;return Object.entries(E).every(v=>{let[w,j]=v;return Array.isArray(j)?j.includes({...f,...m}[w]):{...f,...m}[w]===j})?[...p,b,N]:p},[]);return og(n,h,g,i?.class,i?.className)},xw=M("inline-flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent-blue disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-text-secondary hover:text-text-primary hover:bg-surface-2",ghost:"text-text-muted hover:text-text-secondary hover:bg-surface-1"},size:{sm:"h-6 w-6 rounded-sm",md:"h-8 w-8 rounded-sm",lg:"h-10 w-10 rounded-sm"}},defaultVariants:{variant:"default",size:"md"}}),Wn=R.forwardRef(({className:n,variant:r,size:i,icon:o,label:c,...f},h)=>d.jsx("button",{ref:h,className:z(xw({variant:r,size:i,className:n})),"aria-label":c,title:c,...f,children:o}));Wn.displayName="IconButton";const yw=M("w-full bg-surface-2 text-text-secondary border border-border-subtle transition-colors focus:outline-none focus:ring-1 focus:ring-accent-blue focus:border-accent-blue hover:bg-surface-3 hover:text-text-primary disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{size:{sm:"h-7 px-2.5 pr-7 text-xs rounded-sm leading-7",md:"h-8 px-3 pr-8 text-sm rounded-sm leading-8",lg:"h-10 px-4 pr-10 text-sm rounded-sm leading-10"}},defaultVariants:{size:"md"}}),zx=R.forwardRef(({className:n,size:r,children:i,...o},c)=>d.jsxs("div",{className:"relative",children:[d.jsx("select",{ref:c,className:z(yw({size:r,className:n})),...o,children:i}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:d.jsx("svg",{className:"h-4 w-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}));zx.displayName="Select";var wf=px();const Sf=M("fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-150"),bw=M("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[380px] mx-4 animate-in zoom-in-95 duration-150"),vw=M("px-5 py-4 border-b border-border-subtle"),ww=M("text-base font-semibold text-text-primary"),Sw=M("px-5 py-4"),Nw=M("text-sm text-text-secondary leading-relaxed"),Ew=M("px-5 py-3 border-t border-border-subtle flex justify-end gap-2"),Ka=M("px-4 py-2 text-sm font-medium rounded-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1"),Nf=M("bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default focus:ring-border-default"),Ef=M("",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/90 focus:ring-accent-blue",danger:"bg-accent-red text-white hover:bg-accent-red/90 focus:ring-accent-red"}},defaultVariants:{variant:"default"}});function jw({isOpen:n,title:r,message:i,confirmLabel:o="OK",cancelLabel:c="Cancel",variant:f="default",onConfirm:h,onCancel:m}){const g=R.useRef(null);return R.useEffect(()=>{if(n){const p=setTimeout(()=>{g.current?.focus()},50);return()=>clearTimeout(p)}},[n]),R.useEffect(()=>{if(!n)return;const p=y=>{y.key==="Escape"?m():y.key==="Enter"&&h()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n,m,h]),n?wf.createPortal(d.jsx("div",{className:z(Sf()),onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:d.jsxs("div",{className:z(bw()),onClick:p=>p.stopPropagation(),children:[d.jsx("div",{className:z(vw()),children:d.jsx("h2",{id:"confirm-dialog-title",className:z(ww()),children:r})}),d.jsx("div",{className:z(Sw()),children:d.jsx("p",{id:"confirm-dialog-message",className:z(Nw()),children:i})}),d.jsxs("div",{className:z(Ew()),children:[d.jsx("button",{className:z(Ka(),Nf()),onClick:m,children:c}),d.jsx("button",{ref:g,className:z(Ka(),Ef({variant:f})),onClick:h,children:o})]})]})}),document.body):null}const Lx=M("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[480px] mx-4 animate-in zoom-in-95 duration-150 max-h-[90vh] flex flex-col"),Vx=M("px-5 py-4 border-b border-border-subtle flex-shrink-0"),Bx=M("text-base font-semibold text-text-primary"),Hx=M("px-5 py-4 overflow-y-auto flex-1"),Ux=M("px-5 py-3 border-t border-border-subtle flex justify-end gap-2 flex-shrink-0"),Al=M("mb-4 last:mb-0"),_l=M("block text-sm font-medium text-text-primary mb-1.5"),Za=M("w-full px-3 py-2 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),Yx=M("text-xs text-accent-red mt-1"),ts=M("flex flex-wrap gap-1.5 mb-2"),ns=M("inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-surface-3 text-text-primary rounded-sm border border-border-subtle"),ls=M("ml-0.5 text-text-muted hover:text-text-primary cursor-pointer"),as=M("flex gap-2"),Qa=M("px-3 py-2 text-sm bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default rounded-sm transition-colors"),Ix=M("flex items-center gap-2 mb-2"),rs=M("flex-1 px-2 py-1.5 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),qx=M("p-1 text-text-muted hover:text-accent-red transition-colors");function Cw({isOpen:n,existingWorkflowNames:r,onConfirm:i,onCancel:o}){const c=R.useRef(null),[f,h]=R.useState(""),[m,g]=R.useState(null),[p,y]=R.useState([]),[b,N]=R.useState(""),[E,v]=R.useState([]),[w,j]=R.useState(""),[_,T]=R.useState([]);R.useEffect(()=>{n&&(h(""),g(null),y([]),N(""),v([]),j(""),T([]),setTimeout(()=>{c.current?.focus()},50))},[n]),R.useEffect(()=>{if(!n)return;const Q=le=>{le.key==="Escape"&&o()};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[n,o]);const X=Q=>Q.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Q)?r.includes(Q)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",U=Q=>{h(Q),m&&g(X(Q))},L=()=>{g(X(f))},W=()=>{const Q=b.trim();Q&&!p.includes(Q)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Q)&&(y([...p,Q]),N(""))},$=Q=>{y(p.filter(le=>le!==Q))},Y=()=>{const Q=w.trim();Q&&!E.includes(Q)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Q)&&(v([...E,Q]),j(""))},P=Q=>{v(E.filter(le=>le!==Q))},re=()=>{T([..._,{name:"",value:""}])},se=(Q,le,A)=>{const k=[..._];k[Q][le]=A,T(k)},ue=Q=>{T(_.filter((le,A)=>A!==Q))},ce=()=>{const Q=X(f);if(Q){g(Q);return}const le={};for(const A of _)if(A.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(A.name.trim())){let k=A.value;try{k=JSON.parse(A.value)}catch{}le[A.name.trim()]=k}i({name:f.trim(),inputs:p,outputs:E,variables:le})};return n?wf.createPortal(d.jsx("div",{className:z(Sf()),onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"new-workflow-dialog-title",children:d.jsxs("div",{className:z(Lx()),onClick:Q=>Q.stopPropagation(),children:[d.jsx("div",{className:z(Vx()),children:d.jsx("h2",{id:"new-workflow-dialog-title",className:z(Bx()),children:"Create New Workflow"})}),d.jsxs("div",{className:z(Hx()),children:[d.jsxs("div",{className:z(Al()),children:[d.jsxs("label",{className:z(_l()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:c,type:"text",className:z(Za()),placeholder:"my_workflow",value:f,onChange:Q=>U(Q.target.value),onBlur:L,onKeyDown:Q=>{Q.key==="Enter"&&ce()}}),m&&d.jsx("p",{className:z(Yx()),children:m})]}),d.jsxs("div",{className:z(Al()),children:[d.jsx("label",{className:z(_l()),children:"Interface Inputs"}),p.length>0&&d.jsx("div",{className:z(ts()),children:p.map(Q=>d.jsxs("span",{className:z(ns()),children:[Q,d.jsx("button",{className:z(ls()),onClick:()=>$(Q),"aria-label":`Remove ${Q}`,children:"x"})]},Q))}),d.jsxs("div",{className:z(as()),children:[d.jsx("input",{type:"text",className:z(Za()),placeholder:"input_name",value:b,onChange:Q=>N(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&(Q.preventDefault(),W())}}),d.jsx("button",{type:"button",className:z(Qa()),onClick:W,children:"Add"})]})]}),d.jsxs("div",{className:z(Al()),children:[d.jsx("label",{className:z(_l()),children:"Interface Outputs"}),E.length>0&&d.jsx("div",{className:z(ts()),children:E.map(Q=>d.jsxs("span",{className:z(ns()),children:[Q,d.jsx("button",{className:z(ls()),onClick:()=>P(Q),"aria-label":`Remove ${Q}`,children:"x"})]},Q))}),d.jsxs("div",{className:z(as()),children:[d.jsx("input",{type:"text",className:z(Za()),placeholder:"output_name",value:w,onChange:Q=>j(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&(Q.preventDefault(),Y())}}),d.jsx("button",{type:"button",className:z(Qa()),onClick:Y,children:"Add"})]})]}),d.jsxs("div",{className:z(Al()),children:[d.jsx("label",{className:z(_l()),children:"Variables"}),_.map((Q,le)=>d.jsxs("div",{className:z(Ix()),children:[d.jsx("input",{type:"text",className:z(rs()),placeholder:"name",value:Q.name,onChange:A=>se(le,"name",A.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:z(rs()),placeholder:"value",value:Q.value,onChange:A=>se(le,"value",A.target.value)}),d.jsx("button",{type:"button",className:z(qx()),onClick:()=>ue(le),"aria-label":"Remove variable",children:"x"})]},le)),d.jsx("button",{type:"button",className:z(Qa()),onClick:re,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:z(Ux()),children:[d.jsx("button",{className:z(Ka(),Nf()),onClick:o,children:"Cancel"}),d.jsx("button",{className:z(Ka(),Ef()),onClick:ce,children:"Create"})]})]})}),document.body):null}const Aw=M("mb-4 p-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-secondary");function _w({isOpen:n,existingWorkflowNames:r,nodeIds:i,suggestedInputs:o,suggestedOutputs:c,onConfirm:f,onCancel:h}){const m=R.useRef(null),[g,p]=R.useState(""),[y,b]=R.useState(null),[N,E]=R.useState([]),[v,w]=R.useState(""),[j,_]=R.useState([]),[T,X]=R.useState(""),[U,L]=R.useState([]);R.useEffect(()=>{n&&(p(""),b(null),E(o),w(""),_(c),X(""),L([]),setTimeout(()=>{m.current?.focus()},50))},[n,o,c]),R.useEffect(()=>{if(!n)return;const k=H=>{H.key==="Escape"&&h()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[n,h]);const W=k=>k.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(k)?r.includes(k)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",$=k=>{p(k),y&&b(W(k))},Y=()=>{b(W(g))},P=()=>{const k=v.trim();k&&!N.includes(k)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(k)&&(E([...N,k]),w(""))},re=k=>{E(N.filter(H=>H!==k))},se=()=>{const k=T.trim();k&&!j.includes(k)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(k)&&(_([...j,k]),X(""))},ue=k=>{_(j.filter(H=>H!==k))},ce=()=>{L([...U,{name:"",value:""}])},Q=(k,H,ae)=>{const J=[...U];J[k][H]=ae,L(J)},le=k=>{L(U.filter((H,ae)=>ae!==k))},A=()=>{const k=W(g);if(k){b(k);return}const H={};for(const ae of U)if(ae.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(ae.name.trim())){let J=ae.value;try{J=JSON.parse(ae.value)}catch{}H[ae.name.trim()]=J}f({name:g.trim(),inputs:N,outputs:j,variables:H})};return n?wf.createPortal(d.jsx("div",{className:z(Sf()),onClick:h,role:"dialog","aria-modal":"true","aria-labelledby":"extract-workflow-dialog-title",children:d.jsxs("div",{className:z(Lx()),onClick:k=>k.stopPropagation(),children:[d.jsx("div",{className:z(Vx()),children:d.jsx("h2",{id:"extract-workflow-dialog-title",className:z(Bx()),children:"Extract to Workflow"})}),d.jsxs("div",{className:z(Hx()),children:[d.jsxs("div",{className:z(Aw()),children:[d.jsxs("strong",{children:[i.length," nodes"]})," will be extracted into a new workflow. The selected nodes will be replaced with a workflow_call node."]}),d.jsxs("div",{className:z(Al()),children:[d.jsxs("label",{className:z(_l()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:m,type:"text",className:z(Za()),placeholder:"my_workflow",value:g,onChange:k=>$(k.target.value),onBlur:Y,onKeyDown:k=>{k.key==="Enter"&&A()}}),y&&d.jsx("p",{className:z(Yx()),children:y})]}),d.jsxs("div",{className:z(Al()),children:[d.jsxs("label",{className:z(_l()),children:["Interface Inputs",o.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),N.length>0&&d.jsx("div",{className:z(ts()),children:N.map(k=>d.jsxs("span",{className:z(ns()),children:[k,d.jsx("button",{className:z(ls()),onClick:()=>re(k),"aria-label":`Remove ${k}`,children:"x"})]},k))}),d.jsxs("div",{className:z(as()),children:[d.jsx("input",{type:"text",className:z(Za()),placeholder:"input_name",value:v,onChange:k=>w(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),P())}}),d.jsx("button",{type:"button",className:z(Qa()),onClick:P,children:"Add"})]})]}),d.jsxs("div",{className:z(Al()),children:[d.jsxs("label",{className:z(_l()),children:["Interface Outputs",c.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),j.length>0&&d.jsx("div",{className:z(ts()),children:j.map(k=>d.jsxs("span",{className:z(ns()),children:[k,d.jsx("button",{className:z(ls()),onClick:()=>ue(k),"aria-label":`Remove ${k}`,children:"x"})]},k))}),d.jsxs("div",{className:z(as()),children:[d.jsx("input",{type:"text",className:z(Za()),placeholder:"output_name",value:T,onChange:k=>X(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),se())}}),d.jsx("button",{type:"button",className:z(Qa()),onClick:se,children:"Add"})]})]}),d.jsxs("div",{className:z(Al()),children:[d.jsx("label",{className:z(_l()),children:"Variables"}),U.map((k,H)=>d.jsxs("div",{className:z(Ix()),children:[d.jsx("input",{type:"text",className:z(rs()),placeholder:"name",value:k.name,onChange:ae=>Q(H,"name",ae.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:z(rs()),placeholder:"value",value:k.value,onChange:ae=>Q(H,"value",ae.target.value)}),d.jsx("button",{type:"button",className:z(qx()),onClick:()=>le(H),"aria-label":"Remove variable",children:"x"})]},H)),d.jsx("button",{type:"button",className:z(Qa()),onClick:ce,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:z(Ux()),children:[d.jsx("button",{className:z(Ka(),Nf()),onClick:h,children:"Cancel"}),d.jsx("button",{className:z(Ka(),Ef()),onClick:A,children:"Extract"})]})]})}),document.body):null}function bt(n,r,i=18){const o=({size:c=i,className:f,...h})=>d.jsx("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:f,...h,children:n});return o.displayName=r,o}const Ow=bt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"FileIcon"),Tw=bt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"17 8 12 3 7 8"}),d.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"UploadIcon"),Mw=bt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"DownloadIcon"),Dw=bt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M3 7v6h6"}),d.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),"UndoIcon"),kw=bt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 7v6h-6"}),d.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"})]}),"RedoIcon"),Rw=bt(d.jsx("path",{d:"M12 5v14M5 12h14"}),"PlusIcon",20),zw=bt(d.jsx("path",{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"}),"CodeIcon",20),Lw=bt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),"SunIcon"),Vw=bt(d.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}),"MoonIcon"),Bw=bt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomInIcon",16),Hw=bt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomOutIcon",16),Uw=bt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"FitViewIcon",16),Yw=bt(d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"GridIcon",14),Iw=bt(d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"}),"PlayIcon",14),qw=bt(d.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),"StopIcon",14),Xw=bt(d.jsxs(d.Fragment,{children:[d.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),d.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]}),"StepForwardIcon",14),Gw=bt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"3 6 5 6 21 6"}),d.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"TrashIcon",14),$w=bt(d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"CloseIcon",14),Xx=R.createContext(null),sg="lexflow-theme";function Ww({children:n}){const[r,i]=R.useState(()=>{if(typeof window>"u")return"dark";const f=localStorage.getItem(sg);return f==="light"||f==="dark"?f:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});R.useEffect(()=>{document.documentElement.classList.toggle("light",r==="light"),localStorage.setItem(sg,r)},[r]);const o=f=>i(f),c=()=>i(f=>f==="dark"?"light":"dark");return R.createElement(Xx.Provider,{value:{theme:r,setTheme:o,toggleTheme:c}},n)}function Gx(){const n=R.useContext(Xx);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}function Zw({className:n}){const{theme:r,toggleTheme:i}=Gx();return d.jsx(Wn,{className:n,icon:r==="dark"?d.jsx(Lw,{}):d.jsx(Vw,{}),label:r==="dark"?"Switch to light mode":"Switch to dark mode",onClick:i})}function $x(n){return typeof n.listExamples=="function"&&typeof n.getExample=="function"}const Wx=R.createContext(null);function Qw({provider:n,children:r}){return d.jsx(Wx.Provider,{value:n,children:r})}function ps(){const n=R.useContext(Wx);if(!n)throw new Error("useBackendProvider must be used within a BackendProviderWrapper");return n}function Zx(n){return typeof n>"u"||n===null}function Kw(n){return typeof n=="object"&&n!==null}function Fw(n){return Array.isArray(n)?n:Zx(n)?[]:[n]}function Jw(n,r){var i,o,c,f;if(r)for(f=Object.keys(r),i=0,o=f.length;i<o;i+=1)c=f[i],n[c]=r[c];return n}function Pw(n,r){var i="",o;for(o=0;o<r;o+=1)i+=n;return i}function e2(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var t2=Zx,n2=Kw,l2=Fw,a2=Pw,r2=e2,i2=Jw,pt={isNothing:t2,isObject:n2,toArray:l2,repeat:a2,isNegativeZero:r2,extend:i2};function Qx(n,r){var i="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(i+='in "'+n.mark.name+'" '),i+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(i+=`

`+n.mark.snippet),o+" "+i):o}function ri(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=Qx(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ri.prototype=Object.create(Error.prototype);ri.prototype.constructor=ri;ri.prototype.toString=function(r){return this.name+": "+Qx(this,r)};var Mt=ri;function Bu(n,r,i,o,c){var f="",h="",m=Math.floor(c/2)-1;return o-r>m&&(f=" ... ",r=o-m+f.length),i-o>m&&(h=" ...",i=o+m-h.length),{str:f+n.slice(r,i).replace(/\t/g,"")+h,pos:o-r+f.length}}function Hu(n,r){return pt.repeat(" ",r-n.length)+n}function o2(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,o=[0],c=[],f,h=-1;f=i.exec(n.buffer);)c.push(f.index),o.push(f.index+f[0].length),n.position<=f.index&&h<0&&(h=o.length-2);h<0&&(h=o.length-1);var m="",g,p,y=Math.min(n.line+r.linesAfter,c.length).toString().length,b=r.maxLength-(r.indent+y+3);for(g=1;g<=r.linesBefore&&!(h-g<0);g++)p=Bu(n.buffer,o[h-g],c[h-g],n.position-(o[h]-o[h-g]),b),m=pt.repeat(" ",r.indent)+Hu((n.line-g+1).toString(),y)+" | "+p.str+`
`+m;for(p=Bu(n.buffer,o[h],c[h],n.position,b),m+=pt.repeat(" ",r.indent)+Hu((n.line+1).toString(),y)+" | "+p.str+`
`,m+=pt.repeat("-",r.indent+y+3+p.pos)+`^
`,g=1;g<=r.linesAfter&&!(h+g>=c.length);g++)p=Bu(n.buffer,o[h+g],c[h+g],n.position-(o[h]-o[h+g]),b),m+=pt.repeat(" ",r.indent)+Hu((n.line+g+1).toString(),y)+" | "+p.str+`
`;return m.replace(/\n$/,"")}var s2=o2,c2=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],u2=["scalar","sequence","mapping"];function f2(n){var r={};return n!==null&&Object.keys(n).forEach(function(i){n[i].forEach(function(o){r[String(o)]=i})}),r}function d2(n,r){if(r=r||{},Object.keys(r).forEach(function(i){if(c2.indexOf(i)===-1)throw new Mt('Unknown option "'+i+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=f2(r.styleAliases||null),u2.indexOf(this.kind)===-1)throw new Mt('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var Ct=d2;function cg(n,r){var i=[];return n[r].forEach(function(o){var c=i.length;i.forEach(function(f,h){f.tag===o.tag&&f.kind===o.kind&&f.multi===o.multi&&(c=h)}),i[c]=o}),i}function h2(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function o(c){c.multi?(n.multi[c.kind].push(c),n.multi.fallback.push(c)):n[c.kind][c.tag]=n.fallback[c.tag]=c}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(o);return n}function lf(n){return this.extend(n)}lf.prototype.extend=function(r){var i=[],o=[];if(r instanceof Ct)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new Mt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(f){if(!(f instanceof Ct))throw new Mt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(f.loadKind&&f.loadKind!=="scalar")throw new Mt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(f.multi)throw new Mt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(f){if(!(f instanceof Ct))throw new Mt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(lf.prototype);return c.implicit=(this.implicit||[]).concat(i),c.explicit=(this.explicit||[]).concat(o),c.compiledImplicit=cg(c,"implicit"),c.compiledExplicit=cg(c,"explicit"),c.compiledTypeMap=h2(c.compiledImplicit,c.compiledExplicit),c};var Kx=lf,Fx=new Ct("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),Jx=new Ct("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),Px=new Ct("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),ey=new Kx({explicit:[Fx,Jx,Px]});function m2(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function p2(){return null}function g2(n){return n===null}var ty=new Ct("tag:yaml.org,2002:null",{kind:"scalar",resolve:m2,construct:p2,predicate:g2,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function x2(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function y2(n){return n==="true"||n==="True"||n==="TRUE"}function b2(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var ny=new Ct("tag:yaml.org,2002:bool",{kind:"scalar",resolve:x2,construct:y2,predicate:b2,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function v2(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function w2(n){return 48<=n&&n<=55}function S2(n){return 48<=n&&n<=57}function N2(n){if(n===null)return!1;var r=n.length,i=0,o=!1,c;if(!r)return!1;if(c=n[i],(c==="-"||c==="+")&&(c=n[++i]),c==="0"){if(i+1===r)return!0;if(c=n[++i],c==="b"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(c!=="0"&&c!=="1")return!1;o=!0}return o&&c!=="_"}if(c==="x"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!v2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}if(c==="o"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!w2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}}if(c==="_")return!1;for(;i<r;i++)if(c=n[i],c!=="_"){if(!S2(n.charCodeAt(i)))return!1;o=!0}return!(!o||c==="_")}function E2(n){var r=n,i=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(i=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function j2(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!pt.isNegativeZero(n)}var ly=new Ct("tag:yaml.org,2002:int",{kind:"scalar",resolve:N2,construct:E2,predicate:j2,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),C2=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function A2(n){return!(n===null||!C2.test(n)||n[n.length-1]==="_")}function _2(n){var r,i;return r=n.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var O2=/^[-+]?[0-9]+e/;function T2(n,r){var i;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(pt.isNegativeZero(n))return"-0.0";return i=n.toString(10),O2.test(i)?i.replace("e",".e"):i}function M2(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||pt.isNegativeZero(n))}var ay=new Ct("tag:yaml.org,2002:float",{kind:"scalar",resolve:A2,construct:_2,predicate:M2,represent:T2,defaultStyle:"lowercase"}),ry=ey.extend({implicit:[ty,ny,ly,ay]}),iy=ry,oy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),sy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function D2(n){return n===null?!1:oy.exec(n)!==null||sy.exec(n)!==null}function k2(n){var r,i,o,c,f,h,m,g=0,p=null,y,b,N;if(r=oy.exec(n),r===null&&(r=sy.exec(n)),r===null)throw new Error("Date resolve error");if(i=+r[1],o=+r[2]-1,c=+r[3],!r[4])return new Date(Date.UTC(i,o,c));if(f=+r[4],h=+r[5],m=+r[6],r[7]){for(g=r[7].slice(0,3);g.length<3;)g+="0";g=+g}return r[9]&&(y=+r[10],b=+(r[11]||0),p=(y*60+b)*6e4,r[9]==="-"&&(p=-p)),N=new Date(Date.UTC(i,o,c,f,h,m,g)),p&&N.setTime(N.getTime()-p),N}function R2(n){return n.toISOString()}var cy=new Ct("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:D2,construct:k2,instanceOf:Date,represent:R2});function z2(n){return n==="<<"||n===null}var uy=new Ct("tag:yaml.org,2002:merge",{kind:"scalar",resolve:z2}),jf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function L2(n){if(n===null)return!1;var r,i,o=0,c=n.length,f=jf;for(i=0;i<c;i++)if(r=f.indexOf(n.charAt(i)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function V2(n){var r,i,o=n.replace(/[\r\n=]/g,""),c=o.length,f=jf,h=0,m=[];for(r=0;r<c;r++)r%4===0&&r&&(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)),h=h<<6|f.indexOf(o.charAt(r));return i=c%4*6,i===0?(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)):i===18?(m.push(h>>10&255),m.push(h>>2&255)):i===12&&m.push(h>>4&255),new Uint8Array(m)}function B2(n){var r="",i=0,o,c,f=n.length,h=jf;for(o=0;o<f;o++)o%3===0&&o&&(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]),i=(i<<8)+n[o];return c=f%3,c===0?(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]):c===2?(r+=h[i>>10&63],r+=h[i>>4&63],r+=h[i<<2&63],r+=h[64]):c===1&&(r+=h[i>>2&63],r+=h[i<<4&63],r+=h[64],r+=h[64]),r}function H2(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var fy=new Ct("tag:yaml.org,2002:binary",{kind:"scalar",resolve:L2,construct:V2,predicate:H2,represent:B2}),U2=Object.prototype.hasOwnProperty,Y2=Object.prototype.toString;function I2(n){if(n===null)return!0;var r=[],i,o,c,f,h,m=n;for(i=0,o=m.length;i<o;i+=1){if(c=m[i],h=!1,Y2.call(c)!=="[object Object]")return!1;for(f in c)if(U2.call(c,f))if(!h)h=!0;else return!1;if(!h)return!1;if(r.indexOf(f)===-1)r.push(f);else return!1}return!0}function q2(n){return n!==null?n:[]}var dy=new Ct("tag:yaml.org,2002:omap",{kind:"sequence",resolve:I2,construct:q2}),X2=Object.prototype.toString;function G2(n){if(n===null)return!0;var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1){if(o=h[r],X2.call(o)!=="[object Object]"||(c=Object.keys(o),c.length!==1))return!1;f[r]=[c[0],o[c[0]]]}return!0}function $2(n){if(n===null)return[];var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1)o=h[r],c=Object.keys(o),f[r]=[c[0],o[c[0]]];return f}var hy=new Ct("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:G2,construct:$2}),W2=Object.prototype.hasOwnProperty;function Z2(n){if(n===null)return!0;var r,i=n;for(r in i)if(W2.call(i,r)&&i[r]!==null)return!1;return!0}function Q2(n){return n!==null?n:{}}var my=new Ct("tag:yaml.org,2002:set",{kind:"mapping",resolve:Z2,construct:Q2}),Cf=iy.extend({implicit:[cy,uy],explicit:[fy,dy,hy,my]}),Dl=Object.prototype.hasOwnProperty,is=1,py=2,gy=3,os=4,Uu=1,K2=2,ug=3,F2=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,J2=/[\x85\u2028\u2029]/,P2=/[,\[\]\{\}]/,xy=/^(?:!|!!|![a-z\-]+!)$/i,yy=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function fg(n){return Object.prototype.toString.call(n)}function En(n){return n===10||n===13}function na(n){return n===9||n===32}function It(n){return n===9||n===32||n===10||n===13}function Xa(n){return n===44||n===91||n===93||n===123||n===125}function eS(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function tS(n){return n===120?2:n===117?4:n===85?8:0}function nS(n){return 48<=n&&n<=57?n-48:-1}function dg(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function lS(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function by(n,r,i){r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:i}):n[r]=i}var vy=new Array(256),wy=new Array(256);for(var Ia=0;Ia<256;Ia++)vy[Ia]=dg(Ia)?1:0,wy[Ia]=dg(Ia);function aS(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||Cf,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Sy(n,r){var i={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return i.snippet=s2(i),new Mt(r,i)}function be(n,r){throw Sy(n,r)}function ss(n,r){n.onWarning&&n.onWarning.call(null,Sy(n,r))}var hg={YAML:function(r,i,o){var c,f,h;r.version!==null&&be(r,"duplication of %YAML directive"),o.length!==1&&be(r,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),c===null&&be(r,"ill-formed argument of the YAML directive"),f=parseInt(c[1],10),h=parseInt(c[2],10),f!==1&&be(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=h<2,h!==1&&h!==2&&ss(r,"unsupported YAML version of the document")},TAG:function(r,i,o){var c,f;o.length!==2&&be(r,"TAG directive accepts exactly two arguments"),c=o[0],f=o[1],xy.test(c)||be(r,"ill-formed tag handle (first argument) of the TAG directive"),Dl.call(r.tagMap,c)&&be(r,'there is a previously declared suffix for "'+c+'" tag handle'),yy.test(f)||be(r,"ill-formed tag prefix (second argument) of the TAG directive");try{f=decodeURIComponent(f)}catch{be(r,"tag prefix is malformed: "+f)}r.tagMap[c]=f}};function Ol(n,r,i,o){var c,f,h,m;if(r<i){if(m=n.input.slice(r,i),o)for(c=0,f=m.length;c<f;c+=1)h=m.charCodeAt(c),h===9||32<=h&&h<=1114111||be(n,"expected valid JSON character");else F2.test(m)&&be(n,"the stream contains non-printable characters");n.result+=m}}function mg(n,r,i,o){var c,f,h,m;for(pt.isObject(i)||be(n,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(i),h=0,m=c.length;h<m;h+=1)f=c[h],Dl.call(r,f)||(by(r,f,i[f]),o[f]=!0)}function Ga(n,r,i,o,c,f,h,m,g){var p,y;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),p=0,y=c.length;p<y;p+=1)Array.isArray(c[p])&&be(n,"nested arrays are not supported inside keys"),typeof c=="object"&&fg(c[p])==="[object Object]"&&(c[p]="[object Object]");if(typeof c=="object"&&fg(c)==="[object Object]"&&(c="[object Object]"),c=String(c),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(f))for(p=0,y=f.length;p<y;p+=1)mg(n,r,f[p],i);else mg(n,r,f,i);else!n.json&&!Dl.call(i,c)&&Dl.call(r,c)&&(n.line=h||n.line,n.lineStart=m||n.lineStart,n.position=g||n.position,be(n,"duplicated mapping key")),by(r,c,f),delete i[c];return r}function Af(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):be(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function ut(n,r,i){for(var o=0,c=n.input.charCodeAt(n.position);c!==0;){for(;na(c);)c===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),c=n.input.charCodeAt(++n.position);if(r&&c===35)do c=n.input.charCodeAt(++n.position);while(c!==10&&c!==13&&c!==0);if(En(c))for(Af(n),c=n.input.charCodeAt(n.position),o++,n.lineIndent=0;c===32;)n.lineIndent++,c=n.input.charCodeAt(++n.position);else break}return i!==-1&&o!==0&&n.lineIndent<i&&ss(n,"deficient indentation"),o}function gs(n){var r=n.position,i;return i=n.input.charCodeAt(r),!!((i===45||i===46)&&i===n.input.charCodeAt(r+1)&&i===n.input.charCodeAt(r+2)&&(r+=3,i=n.input.charCodeAt(r),i===0||It(i)))}function _f(n,r){r===1?n.result+=" ":r>1&&(n.result+=pt.repeat(`
`,r-1))}function rS(n,r,i){var o,c,f,h,m,g,p,y,b=n.kind,N=n.result,E;if(E=n.input.charCodeAt(n.position),It(E)||Xa(E)||E===35||E===38||E===42||E===33||E===124||E===62||E===39||E===34||E===37||E===64||E===96||(E===63||E===45)&&(c=n.input.charCodeAt(n.position+1),It(c)||i&&Xa(c)))return!1;for(n.kind="scalar",n.result="",f=h=n.position,m=!1;E!==0;){if(E===58){if(c=n.input.charCodeAt(n.position+1),It(c)||i&&Xa(c))break}else if(E===35){if(o=n.input.charCodeAt(n.position-1),It(o))break}else{if(n.position===n.lineStart&&gs(n)||i&&Xa(E))break;if(En(E))if(g=n.line,p=n.lineStart,y=n.lineIndent,ut(n,!1,-1),n.lineIndent>=r){m=!0,E=n.input.charCodeAt(n.position);continue}else{n.position=h,n.line=g,n.lineStart=p,n.lineIndent=y;break}}m&&(Ol(n,f,h,!1),_f(n,n.line-g),f=h=n.position,m=!1),na(E)||(h=n.position+1),E=n.input.charCodeAt(++n.position)}return Ol(n,f,h,!1),n.result?!0:(n.kind=b,n.result=N,!1)}function iS(n,r){var i,o,c;if(i=n.input.charCodeAt(n.position),i!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=c=n.position;(i=n.input.charCodeAt(n.position))!==0;)if(i===39)if(Ol(n,o,n.position,!0),i=n.input.charCodeAt(++n.position),i===39)o=n.position,n.position++,c=n.position;else return!0;else En(i)?(Ol(n,o,c,!0),_f(n,ut(n,!1,r)),o=c=n.position):n.position===n.lineStart&&gs(n)?be(n,"unexpected end of the document within a single quoted scalar"):(n.position++,c=n.position);be(n,"unexpected end of the stream within a single quoted scalar")}function oS(n,r){var i,o,c,f,h,m;if(m=n.input.charCodeAt(n.position),m!==34)return!1;for(n.kind="scalar",n.result="",n.position++,i=o=n.position;(m=n.input.charCodeAt(n.position))!==0;){if(m===34)return Ol(n,i,n.position,!0),n.position++,!0;if(m===92){if(Ol(n,i,n.position,!0),m=n.input.charCodeAt(++n.position),En(m))ut(n,!1,r);else if(m<256&&vy[m])n.result+=wy[m],n.position++;else if((h=tS(m))>0){for(c=h,f=0;c>0;c--)m=n.input.charCodeAt(++n.position),(h=eS(m))>=0?f=(f<<4)+h:be(n,"expected hexadecimal character");n.result+=lS(f),n.position++}else be(n,"unknown escape sequence");i=o=n.position}else En(m)?(Ol(n,i,o,!0),_f(n,ut(n,!1,r)),i=o=n.position):n.position===n.lineStart&&gs(n)?be(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}be(n,"unexpected end of the stream within a double quoted scalar")}function sS(n,r){var i=!0,o,c,f,h=n.tag,m,g=n.anchor,p,y,b,N,E,v=Object.create(null),w,j,_,T;if(T=n.input.charCodeAt(n.position),T===91)y=93,E=!1,m=[];else if(T===123)y=125,E=!0,m={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=m),T=n.input.charCodeAt(++n.position);T!==0;){if(ut(n,!0,r),T=n.input.charCodeAt(n.position),T===y)return n.position++,n.tag=h,n.anchor=g,n.kind=E?"mapping":"sequence",n.result=m,!0;i?T===44&&be(n,"expected the node content, but found ','"):be(n,"missed comma between flow collection entries"),j=w=_=null,b=N=!1,T===63&&(p=n.input.charCodeAt(n.position+1),It(p)&&(b=N=!0,n.position++,ut(n,!0,r))),o=n.line,c=n.lineStart,f=n.position,Fa(n,r,is,!1,!0),j=n.tag,w=n.result,ut(n,!0,r),T=n.input.charCodeAt(n.position),(N||n.line===o)&&T===58&&(b=!0,T=n.input.charCodeAt(++n.position),ut(n,!0,r),Fa(n,r,is,!1,!0),_=n.result),E?Ga(n,m,v,j,w,_,o,c,f):b?m.push(Ga(n,null,v,j,w,_,o,c,f)):m.push(w),ut(n,!0,r),T=n.input.charCodeAt(n.position),T===44?(i=!0,T=n.input.charCodeAt(++n.position)):i=!1}be(n,"unexpected end of the stream within a flow collection")}function cS(n,r){var i,o,c=Uu,f=!1,h=!1,m=r,g=0,p=!1,y,b;if(b=n.input.charCodeAt(n.position),b===124)o=!1;else if(b===62)o=!0;else return!1;for(n.kind="scalar",n.result="";b!==0;)if(b=n.input.charCodeAt(++n.position),b===43||b===45)Uu===c?c=b===43?ug:K2:be(n,"repeat of a chomping mode identifier");else if((y=nS(b))>=0)y===0?be(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?be(n,"repeat of an indentation width identifier"):(m=r+y-1,h=!0);else break;if(na(b)){do b=n.input.charCodeAt(++n.position);while(na(b));if(b===35)do b=n.input.charCodeAt(++n.position);while(!En(b)&&b!==0)}for(;b!==0;){for(Af(n),n.lineIndent=0,b=n.input.charCodeAt(n.position);(!h||n.lineIndent<m)&&b===32;)n.lineIndent++,b=n.input.charCodeAt(++n.position);if(!h&&n.lineIndent>m&&(m=n.lineIndent),En(b)){g++;continue}if(n.lineIndent<m){c===ug?n.result+=pt.repeat(`
`,f?1+g:g):c===Uu&&f&&(n.result+=`
`);break}for(o?na(b)?(p=!0,n.result+=pt.repeat(`
`,f?1+g:g)):p?(p=!1,n.result+=pt.repeat(`
`,g+1)):g===0?f&&(n.result+=" "):n.result+=pt.repeat(`
`,g):n.result+=pt.repeat(`
`,f?1+g:g),f=!0,h=!0,g=0,i=n.position;!En(b)&&b!==0;)b=n.input.charCodeAt(++n.position);Ol(n,i,n.position,!1)}return!0}function pg(n,r){var i,o=n.tag,c=n.anchor,f=[],h,m=!1,g;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),g=n.input.charCodeAt(n.position);g!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,be(n,"tab characters must not be used in indentation")),!(g!==45||(h=n.input.charCodeAt(n.position+1),!It(h))));){if(m=!0,n.position++,ut(n,!0,-1)&&n.lineIndent<=r){f.push(null),g=n.input.charCodeAt(n.position);continue}if(i=n.line,Fa(n,r,gy,!1,!0),f.push(n.result),ut(n,!0,-1),g=n.input.charCodeAt(n.position),(n.line===i||n.lineIndent>r)&&g!==0)be(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return m?(n.tag=o,n.anchor=c,n.kind="sequence",n.result=f,!0):!1}function uS(n,r,i){var o,c,f,h,m,g,p=n.tag,y=n.anchor,b={},N=Object.create(null),E=null,v=null,w=null,j=!1,_=!1,T;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=b),T=n.input.charCodeAt(n.position);T!==0;){if(!j&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,be(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),f=n.line,(T===63||T===58)&&It(o))T===63?(j&&(Ga(n,b,N,E,v,null,h,m,g),E=v=w=null),_=!0,j=!0,c=!0):j?(j=!1,c=!0):be(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,T=o;else{if(h=n.line,m=n.lineStart,g=n.position,!Fa(n,i,py,!1,!0))break;if(n.line===f){for(T=n.input.charCodeAt(n.position);na(T);)T=n.input.charCodeAt(++n.position);if(T===58)T=n.input.charCodeAt(++n.position),It(T)||be(n,"a whitespace character is expected after the key-value separator within a block mapping"),j&&(Ga(n,b,N,E,v,null,h,m,g),E=v=w=null),_=!0,j=!1,c=!1,E=n.tag,v=n.result;else if(_)be(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=p,n.anchor=y,!0}else if(_)be(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=p,n.anchor=y,!0}if((n.line===f||n.lineIndent>r)&&(j&&(h=n.line,m=n.lineStart,g=n.position),Fa(n,r,os,!0,c)&&(j?v=n.result:w=n.result),j||(Ga(n,b,N,E,v,w,h,m,g),E=v=w=null),ut(n,!0,-1),T=n.input.charCodeAt(n.position)),(n.line===f||n.lineIndent>r)&&T!==0)be(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return j&&Ga(n,b,N,E,v,null,h,m,g),_&&(n.tag=p,n.anchor=y,n.kind="mapping",n.result=b),_}function fS(n){var r,i=!1,o=!1,c,f,h;if(h=n.input.charCodeAt(n.position),h!==33)return!1;if(n.tag!==null&&be(n,"duplication of a tag property"),h=n.input.charCodeAt(++n.position),h===60?(i=!0,h=n.input.charCodeAt(++n.position)):h===33?(o=!0,c="!!",h=n.input.charCodeAt(++n.position)):c="!",r=n.position,i){do h=n.input.charCodeAt(++n.position);while(h!==0&&h!==62);n.position<n.length?(f=n.input.slice(r,n.position),h=n.input.charCodeAt(++n.position)):be(n,"unexpected end of the stream within a verbatim tag")}else{for(;h!==0&&!It(h);)h===33&&(o?be(n,"tag suffix cannot contain exclamation marks"):(c=n.input.slice(r-1,n.position+1),xy.test(c)||be(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),h=n.input.charCodeAt(++n.position);f=n.input.slice(r,n.position),P2.test(f)&&be(n,"tag suffix cannot contain flow indicator characters")}f&&!yy.test(f)&&be(n,"tag name cannot contain such characters: "+f);try{f=decodeURIComponent(f)}catch{be(n,"tag name is malformed: "+f)}return i?n.tag=f:Dl.call(n.tagMap,c)?n.tag=n.tagMap[c]+f:c==="!"?n.tag="!"+f:c==="!!"?n.tag="tag:yaml.org,2002:"+f:be(n,'undeclared tag handle "'+c+'"'),!0}function dS(n){var r,i;if(i=n.input.charCodeAt(n.position),i!==38)return!1;for(n.anchor!==null&&be(n,"duplication of an anchor property"),i=n.input.charCodeAt(++n.position),r=n.position;i!==0&&!It(i)&&!Xa(i);)i=n.input.charCodeAt(++n.position);return n.position===r&&be(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function hS(n){var r,i,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!It(o)&&!Xa(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&be(n,"name of an alias node must contain at least one character"),i=n.input.slice(r,n.position),Dl.call(n.anchorMap,i)||be(n,'unidentified alias "'+i+'"'),n.result=n.anchorMap[i],ut(n,!0,-1),!0}function Fa(n,r,i,o,c){var f,h,m,g=1,p=!1,y=!1,b,N,E,v,w,j;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,f=h=m=os===i||gy===i,o&&ut(n,!0,-1)&&(p=!0,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)),g===1)for(;fS(n)||dS(n);)ut(n,!0,-1)?(p=!0,m=f,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)):m=!1;if(m&&(m=p||c),(g===1||os===i)&&(is===i||py===i?w=r:w=r+1,j=n.position-n.lineStart,g===1?m&&(pg(n,j)||uS(n,j,w))||sS(n,w)?y=!0:(h&&cS(n,w)||iS(n,w)||oS(n,w)?y=!0:hS(n)?(y=!0,(n.tag!==null||n.anchor!==null)&&be(n,"alias node should not have any properties")):rS(n,w,is===i)&&(y=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):g===0&&(y=m&&pg(n,j))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&be(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),b=0,N=n.implicitTypes.length;b<N;b+=1)if(v=n.implicitTypes[b],v.resolve(n.result)){n.result=v.construct(n.result),n.tag=v.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Dl.call(n.typeMap[n.kind||"fallback"],n.tag))v=n.typeMap[n.kind||"fallback"][n.tag];else for(v=null,E=n.typeMap.multi[n.kind||"fallback"],b=0,N=E.length;b<N;b+=1)if(n.tag.slice(0,E[b].tag.length)===E[b].tag){v=E[b];break}v||be(n,"unknown tag !<"+n.tag+">"),n.result!==null&&v.kind!==n.kind&&be(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+v.kind+'", not "'+n.kind+'"'),v.resolve(n.result,n.tag)?(n.result=v.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):be(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||y}function mS(n){var r=n.position,i,o,c,f=!1,h;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(h=n.input.charCodeAt(n.position))!==0&&(ut(n,!0,-1),h=n.input.charCodeAt(n.position),!(n.lineIndent>0||h!==37));){for(f=!0,h=n.input.charCodeAt(++n.position),i=n.position;h!==0&&!It(h);)h=n.input.charCodeAt(++n.position);for(o=n.input.slice(i,n.position),c=[],o.length<1&&be(n,"directive name must not be less than one character in length");h!==0;){for(;na(h);)h=n.input.charCodeAt(++n.position);if(h===35){do h=n.input.charCodeAt(++n.position);while(h!==0&&!En(h));break}if(En(h))break;for(i=n.position;h!==0&&!It(h);)h=n.input.charCodeAt(++n.position);c.push(n.input.slice(i,n.position))}h!==0&&Af(n),Dl.call(hg,o)?hg[o](n,o,c):ss(n,'unknown document directive "'+o+'"')}if(ut(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,ut(n,!0,-1)):f&&be(n,"directives end mark is expected"),Fa(n,n.lineIndent-1,os,!1,!0),ut(n,!0,-1),n.checkLineBreaks&&J2.test(n.input.slice(r,n.position))&&ss(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&gs(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,ut(n,!0,-1));return}if(n.position<n.length-1)be(n,"end of the stream or a document separator is expected");else return}function Ny(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var i=new aS(n,r),o=n.indexOf("\0");for(o!==-1&&(i.position=o,be(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)mS(i);return i.documents}function pS(n,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var o=Ny(n,i);if(typeof r!="function")return o;for(var c=0,f=o.length;c<f;c+=1)r(o[c])}function gS(n,r){var i=Ny(n,r);if(i.length!==0){if(i.length===1)return i[0];throw new Mt("expected a single document in the stream, but found more")}}var xS=pS,yS=gS,Ey={loadAll:xS,load:yS},jy=Object.prototype.toString,Cy=Object.prototype.hasOwnProperty,Of=65279,bS=9,ii=10,vS=13,wS=32,SS=33,NS=34,af=35,ES=37,jS=38,CS=39,AS=42,Ay=44,_S=45,cs=58,OS=61,TS=62,MS=63,DS=64,_y=91,Oy=93,kS=96,Ty=123,RS=124,My=125,_t={};_t[0]="\\0";_t[7]="\\a";_t[8]="\\b";_t[9]="\\t";_t[10]="\\n";_t[11]="\\v";_t[12]="\\f";_t[13]="\\r";_t[27]="\\e";_t[34]='\\"';_t[92]="\\\\";_t[133]="\\N";_t[160]="\\_";_t[8232]="\\L";_t[8233]="\\P";var zS=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],LS=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function VS(n,r){var i,o,c,f,h,m,g;if(r===null)return{};for(i={},o=Object.keys(r),c=0,f=o.length;c<f;c+=1)h=o[c],m=String(r[h]),h.slice(0,2)==="!!"&&(h="tag:yaml.org,2002:"+h.slice(2)),g=n.compiledTypeMap.fallback[h],g&&Cy.call(g.styleAliases,m)&&(m=g.styleAliases[m]),i[h]=m;return i}function BS(n){var r,i,o;if(r=n.toString(16).toUpperCase(),n<=255)i="x",o=2;else if(n<=65535)i="u",o=4;else if(n<=4294967295)i="U",o=8;else throw new Mt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+pt.repeat("0",o-r.length)+r}var HS=1,oi=2;function US(n){this.schema=n.schema||Cf,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=pt.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=VS(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?oi:HS,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function gg(n,r){for(var i=pt.repeat(" ",r),o=0,c=-1,f="",h,m=n.length;o<m;)c=n.indexOf(`
`,o),c===-1?(h=n.slice(o),o=m):(h=n.slice(o,c+1),o=c+1),h.length&&h!==`
`&&(f+=i),f+=h;return f}function rf(n,r){return`
`+pt.repeat(" ",n.indent*r)}function YS(n,r){var i,o,c;for(i=0,o=n.implicitTypes.length;i<o;i+=1)if(c=n.implicitTypes[i],c.resolve(r))return!0;return!1}function us(n){return n===wS||n===bS}function si(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==Of||65536<=n&&n<=1114111}function xg(n){return si(n)&&n!==Of&&n!==vS&&n!==ii}function yg(n,r,i){var o=xg(n),c=o&&!us(n);return(i?o:o&&n!==Ay&&n!==_y&&n!==Oy&&n!==Ty&&n!==My)&&n!==af&&!(r===cs&&!c)||xg(r)&&!us(r)&&n===af||r===cs&&c}function IS(n){return si(n)&&n!==Of&&!us(n)&&n!==_S&&n!==MS&&n!==cs&&n!==Ay&&n!==_y&&n!==Oy&&n!==Ty&&n!==My&&n!==af&&n!==jS&&n!==AS&&n!==SS&&n!==RS&&n!==OS&&n!==TS&&n!==CS&&n!==NS&&n!==ES&&n!==DS&&n!==kS}function qS(n){return!us(n)&&n!==cs}function Pr(n,r){var i=n.charCodeAt(r),o;return i>=55296&&i<=56319&&r+1<n.length&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function Dy(n){var r=/^\n* /;return r.test(n)}var ky=1,of=2,Ry=3,zy=4,qa=5;function XS(n,r,i,o,c,f,h,m){var g,p=0,y=null,b=!1,N=!1,E=o!==-1,v=-1,w=IS(Pr(n,0))&&qS(Pr(n,n.length-1));if(r||h)for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=Pr(n,g),!si(p))return qa;w=w&&yg(p,y,m),y=p}else{for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=Pr(n,g),p===ii)b=!0,E&&(N=N||g-v-1>o&&n[v+1]!==" ",v=g);else if(!si(p))return qa;w=w&&yg(p,y,m),y=p}N=N||E&&g-v-1>o&&n[v+1]!==" "}return!b&&!N?w&&!h&&!c(n)?ky:f===oi?qa:of:i>9&&Dy(n)?qa:h?f===oi?qa:of:N?zy:Ry}function GS(n,r,i,o,c){n.dump=(function(){if(r.length===0)return n.quotingType===oi?'""':"''";if(!n.noCompatMode&&(zS.indexOf(r)!==-1||LS.test(r)))return n.quotingType===oi?'"'+r+'"':"'"+r+"'";var f=n.indent*Math.max(1,i),h=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-f),m=o||n.flowLevel>-1&&i>=n.flowLevel;function g(p){return YS(n,p)}switch(XS(r,m,n.indent,h,g,n.quotingType,n.forceQuotes&&!o,c)){case ky:return r;case of:return"'"+r.replace(/'/g,"''")+"'";case Ry:return"|"+bg(r,n.indent)+vg(gg(r,f));case zy:return">"+bg(r,n.indent)+vg(gg($S(r,h),f));case qa:return'"'+WS(r)+'"';default:throw new Mt("impossible error: invalid scalar style")}})()}function bg(n,r){var i=Dy(n)?String(r):"",o=n[n.length-1]===`
`,c=o&&(n[n.length-2]===`
`||n===`
`),f=c?"+":o?"":"-";return i+f+`
`}function vg(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function $S(n,r){for(var i=/(\n+)([^\n]*)/g,o=(function(){var p=n.indexOf(`
`);return p=p!==-1?p:n.length,i.lastIndex=p,wg(n.slice(0,p),r)})(),c=n[0]===`
`||n[0]===" ",f,h;h=i.exec(n);){var m=h[1],g=h[2];f=g[0]===" ",o+=m+(!c&&!f&&g!==""?`
`:"")+wg(g,r),c=f}return o}function wg(n,r){if(n===""||n[0]===" ")return n;for(var i=/ [^ ]/g,o,c=0,f,h=0,m=0,g="";o=i.exec(n);)m=o.index,m-c>r&&(f=h>c?h:m,g+=`
`+n.slice(c,f),c=f+1),h=m;return g+=`
`,n.length-c>r&&h>c?g+=n.slice(c,h)+`
`+n.slice(h+1):g+=n.slice(c),g.slice(1)}function WS(n){for(var r="",i=0,o,c=0;c<n.length;i>=65536?c+=2:c++)i=Pr(n,c),o=_t[i],!o&&si(i)?(r+=n[c],i>=65536&&(r+=n[c+1])):r+=o||BS(i);return r}function ZS(n,r,i){var o="",c=n.tag,f,h,m;for(f=0,h=i.length;f<h;f+=1)m=i[f],n.replacer&&(m=n.replacer.call(i,String(f),m)),(Qn(n,r,m,!1,!1)||typeof m>"u"&&Qn(n,r,null,!1,!1))&&(o!==""&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=c,n.dump="["+o+"]"}function Sg(n,r,i,o){var c="",f=n.tag,h,m,g;for(h=0,m=i.length;h<m;h+=1)g=i[h],n.replacer&&(g=n.replacer.call(i,String(h),g)),(Qn(n,r+1,g,!0,!0,!1,!0)||typeof g>"u"&&Qn(n,r+1,null,!0,!0,!1,!0))&&((!o||c!=="")&&(c+=rf(n,r)),n.dump&&ii===n.dump.charCodeAt(0)?c+="-":c+="- ",c+=n.dump);n.tag=f,n.dump=c||"[]"}function QS(n,r,i){var o="",c=n.tag,f=Object.keys(i),h,m,g,p,y;for(h=0,m=f.length;h<m;h+=1)y="",o!==""&&(y+=", "),n.condenseFlow&&(y+='"'),g=f[h],p=i[g],n.replacer&&(p=n.replacer.call(i,g,p)),Qn(n,r,g,!1,!1)&&(n.dump.length>1024&&(y+="? "),y+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),Qn(n,r,p,!1,!1)&&(y+=n.dump,o+=y));n.tag=c,n.dump="{"+o+"}"}function KS(n,r,i,o){var c="",f=n.tag,h=Object.keys(i),m,g,p,y,b,N;if(n.sortKeys===!0)h.sort();else if(typeof n.sortKeys=="function")h.sort(n.sortKeys);else if(n.sortKeys)throw new Mt("sortKeys must be a boolean or a function");for(m=0,g=h.length;m<g;m+=1)N="",(!o||c!=="")&&(N+=rf(n,r)),p=h[m],y=i[p],n.replacer&&(y=n.replacer.call(i,p,y)),Qn(n,r+1,p,!0,!0,!0)&&(b=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,b&&(n.dump&&ii===n.dump.charCodeAt(0)?N+="?":N+="? "),N+=n.dump,b&&(N+=rf(n,r)),Qn(n,r+1,y,!0,b)&&(n.dump&&ii===n.dump.charCodeAt(0)?N+=":":N+=": ",N+=n.dump,c+=N));n.tag=f,n.dump=c||"{}"}function Ng(n,r,i){var o,c,f,h,m,g;for(c=i?n.explicitTypes:n.implicitTypes,f=0,h=c.length;f<h;f+=1)if(m=c[f],(m.instanceOf||m.predicate)&&(!m.instanceOf||typeof r=="object"&&r instanceof m.instanceOf)&&(!m.predicate||m.predicate(r))){if(i?m.multi&&m.representName?n.tag=m.representName(r):n.tag=m.tag:n.tag="?",m.represent){if(g=n.styleMap[m.tag]||m.defaultStyle,jy.call(m.represent)==="[object Function]")o=m.represent(r,g);else if(Cy.call(m.represent,g))o=m.represent[g](r,g);else throw new Mt("!<"+m.tag+'> tag resolver accepts not "'+g+'" style');n.dump=o}return!0}return!1}function Qn(n,r,i,o,c,f,h){n.tag=null,n.dump=i,Ng(n,i,!1)||Ng(n,i,!0);var m=jy.call(n.dump),g=o,p;o&&(o=n.flowLevel<0||n.flowLevel>r);var y=m==="[object Object]"||m==="[object Array]",b,N;if(y&&(b=n.duplicates.indexOf(i),N=b!==-1),(n.tag!==null&&n.tag!=="?"||N||n.indent!==2&&r>0)&&(c=!1),N&&n.usedDuplicates[b])n.dump="*ref_"+b;else{if(y&&N&&!n.usedDuplicates[b]&&(n.usedDuplicates[b]=!0),m==="[object Object]")o&&Object.keys(n.dump).length!==0?(KS(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(QS(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object Array]")o&&n.dump.length!==0?(n.noArrayIndent&&!h&&r>0?Sg(n,r-1,n.dump,c):Sg(n,r,n.dump,c),N&&(n.dump="&ref_"+b+n.dump)):(ZS(n,r,n.dump),N&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object String]")n.tag!=="?"&&GS(n,n.dump,r,f,g);else{if(m==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new Mt("unacceptable kind of an object to dump "+m)}n.tag!==null&&n.tag!=="?"&&(p=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",n.dump=p+" "+n.dump)}return!0}function FS(n,r){var i=[],o=[],c,f;for(sf(n,i,o),c=0,f=o.length;c<f;c+=1)r.duplicates.push(i[o[c]]);r.usedDuplicates=new Array(f)}function sf(n,r,i){var o,c,f;if(n!==null&&typeof n=="object")if(c=r.indexOf(n),c!==-1)i.indexOf(c)===-1&&i.push(c);else if(r.push(n),Array.isArray(n))for(c=0,f=n.length;c<f;c+=1)sf(n[c],r,i);else for(o=Object.keys(n),c=0,f=o.length;c<f;c+=1)sf(n[o[c]],r,i)}function JS(n,r){r=r||{};var i=new US(r);i.noRefs||FS(n,i);var o=n;return i.replacer&&(o=i.replacer.call({"":o},"",o)),Qn(i,0,o,!0,!0)?i.dump+`
`:""}var PS=JS,eN={dump:PS};function Tf(n,r){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var tN=Ct,nN=Kx,lN=ey,aN=ry,rN=iy,iN=Cf,oN=Ey.load,sN=Ey.loadAll,cN=eN.dump,uN=Mt,fN={binary:fy,float:ay,map:Px,null:ty,pairs:hy,set:my,timestamp:cy,bool:ny,int:ly,merge:uy,omap:dy,seq:Jx,str:Fx},dN=Tf("safeLoad","load"),hN=Tf("safeLoadAll","loadAll"),mN=Tf("safeDump","dump"),fs={Type:tN,Schema:nN,FAILSAFE_SCHEMA:lN,JSON_SCHEMA:aN,CORE_SCHEMA:rN,DEFAULT_SCHEMA:iN,load:oN,loadAll:sN,dump:cN,YAMLException:uN,types:fN,safeLoad:dN,safeLoadAll:hN,safeDump:mN};function pN(n){const r=n.trim();if(!r)return{success:!1,error:"Empty source"};if(r.startsWith("{")||r.startsWith("["))try{return{success:!0,data:JSON.parse(r)}}catch{}try{const i=fs.load(r);return i==null?{success:!1,error:"Empty workflow"}:{success:!0,data:i}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Parse failed"}}}function gN(n,r){return n.constructs.find(i=>i.opcode===r)}function xN(n){return new Set(n.constructs.filter(r=>r.branches&&r.branches.length>0).map(r=>r.opcode))}function yN(n,r){const i=n.branch_colors;return r.startsWith("CATCH")?i.CATCH||i.default||"#9C27B0":r.startsWith("BRANCH")?i.BRANCH||i.default||"#9C27B0":i[r]||i.default||"#9C27B0"}function bN(n,r){const i=n.node_colors;return i[r]||i.opcode||"#64748B"}function vN(n,r){const i=n.reporter_colors;for(const o of n.categories)if(r.startsWith(o.prefix))return i[o.id]||i.default||"#64748B";return i.default||"#64748B"}const wN="1.0",SN=[{id:"control",prefix:"control_",label:"Control Flow",color:"#FF9500",icon:""},{id:"data",prefix:"data_",label:"Data",color:"#4CAF50",icon:""},{id:"io",prefix:"io_",label:"I/O",color:"#22D3EE",icon:""},{id:"operator",prefix:"operator_",label:"Operators",color:"#9C27B0",icon:""},{id:"list",prefix:"list_",label:"Lists",color:"#3B82F6",icon:""},{id:"dict",prefix:"dict_",label:"Dicts",color:"#F59E0B",icon:""},{id:"string",prefix:"string_",label:"Strings",color:"#F472B6",icon:""},{id:"math",prefix:"math_",label:"Math",color:"#8B5CF6",icon:""},{id:"workflow",prefix:"workflow_",label:"Workflow",color:"#E91E63",icon:""},{id:"async",prefix:"async_",label:"Async",color:"#06B6D4",icon:""}],NN=[{opcode:"control_if",display_name:"If",ast_class:"If",category:"control",description:"Execute branch if condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0}]},{opcode:"control_if_else",display_name:"If-Else",ast_class:"If",category:"control",description:"Execute then-branch if condition is true, else-branch otherwise.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0},{name:"ELSE",label:"Else",color:"#EF5350",required:!0}]},{opcode:"control_while",display_name:"While",ast_class:"While",category:"control",description:"Repeat body while condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_for",display_name:"For",ast_class:"For",category:"control",description:"For loop with counter variable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"START",type:"expression",label:"Start",value_type:"int",required:!0},{name:"END",type:"expression",label:"End",value_type:"int",required:!0},{name:"STEP",type:"expression",label:"Step",value_type:"int",required:!1,default:1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_foreach",display_name:"ForEach",ast_class:"ForEach",category:"control",description:"Iterate over each item in a collection.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Iterable",value_type:"list",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_fork",display_name:"Fork",ast_class:"Fork",category:"control",description:"Execute multiple branches concurrently.",inputs:[],branches:[{name:"BRANCH1",label:"Branch 1",color:"#9C27B0",required:!0},{name:"BRANCH2",label:"Branch 2",color:"#9C27B0",required:!1}],dynamic_branches:!0},{opcode:"control_try",display_name:"Try",ast_class:"Try",category:"control",description:"Exception handling with try/catch/finally.",inputs:[],branches:[{name:"TRY",label:"Try",color:"#3B82F6",required:!0},{name:"CATCH1",label:"Catch",color:"#F87171",required:!1,catch_config:{exception_type:"string",var_name:"string"}},{name:"FINALLY",label:"Finally",color:"#FACC15",required:!1}],dynamic_branches:!0},{opcode:"control_throw",display_name:"Throw",ast_class:"Throw",category:"control",description:"Raise an exception with a message.",inputs:[{name:"VALUE",type:"expression",label:"Message",value_type:"string",required:!0}],branches:[]},{opcode:"control_spawn",display_name:"Spawn",ast_class:"Spawn",category:"control",description:"Spawn a background task.",inputs:[{name:"VAR",type:"variable_name",label:"Task Variable",required:!1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_async_foreach",display_name:"Async ForEach",ast_class:"AsyncForEach",category:"control",description:"Async iteration over a stream or async iterable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Async Iterable",value_type:"async_iterable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"async_timeout",display_name:"Timeout",ast_class:"Timeout",category:"async",description:"Execute body with a timeout, with optional fallback.",inputs:[{name:"TIMEOUT",type:"expression",label:"Timeout (seconds)",value_type:"float",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0},{name:"ON_TIMEOUT",label:"On Timeout",color:"#FACC15",required:!1}]},{opcode:"control_with",display_name:"With",ast_class:"With",category:"control",description:"Async context manager (with statement).",inputs:[{name:"RESOURCE",type:"expression",label:"Resource",required:!0},{name:"VAR",type:"variable_name",label:"Variable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"data_set_variable_to",display_name:"Set Variable",ast_class:"Assign",category:"data",description:"Assign a value to a variable.",inputs:[{name:"VARIABLE",type:"variable_name",label:"Variable",required:!0},{name:"VALUE",type:"expression",label:"Value",required:!0}],branches:[]},{opcode:"workflow_return",display_name:"Return",ast_class:"Return",category:"workflow",description:"Return value(s) from workflow.",inputs:[{name:"VALUE",type:"expression",label:"Value",required:!1}],branches:[],dynamic_inputs:!0},{opcode:"workflow_call",display_name:"Call Workflow",ast_class:"ExprStmt",category:"workflow",description:"Call another workflow by name.",inputs:[{name:"WORKFLOW",type:"variable_name",label:"Workflow Name",required:!0}],branches:[],dynamic_inputs:!0},{opcode:"workflow_start",display_name:"Start",ast_class:null,category:"workflow",description:"Entry point for workflow execution.",inputs:[],branches:[]}],EN={THEN:"#34D399",ELSE:"#F87171",BODY:"#22D3EE",TRY:"#3B82F6",CATCH:"#F87171",FINALLY:"#FACC15",ON_TIMEOUT:"#FACC15",BRANCH:"#9C27B0",default:"#9C27B0"},jN={control_flow:"#FF9500",data:"#4CAF50",io:"#22D3EE",operator:"#9C27B0",workflow_op:"#E91E63",opcode:"#64748B"},CN={data:"#4CAF50",operator:"#9C27B0",io:"#22D3EE",workflow:"#E91E63",default:"#64748B"},AN={version:wN,categories:SN,constructs:NN,branch_colors:EN,node_colors:jN,reporter_colors:CN},Fn=AN;function _N(){return Fn}function Ly(n){return yN(Fn,n)}function Vy(n){return bN(Fn,n)}function By(n){return vN(Fn,n)}function ON(){return xN(Fn)}function gi(n){return gN(Fn,n)}function TN(n,r){const i=gi(n);if(!i||!i.branches)return[];const o=new Set(r),c=[];if(i.dynamic_branches){const f=[],h=[];for(const m of i.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.find(b=>b.prefix===p)||h.push({prefix:p,minCount:m.required?1:0})}else f.push(m.name)}for(const m of f)c.push({name:m,connected:o.has(m)});for(const m of h){const g=r.filter(N=>N.startsWith(m.prefix)&&/^\d+$/.test(N.slice(m.prefix.length))),p=g.length>0?Math.max(...g.map(N=>parseInt(N.slice(m.prefix.length)))):0,y=Math.max(m.minCount,p),b=y>0?y:1;for(let N=1;N<=b;N++){const E=`${m.prefix}${N}`;c.push({name:E,connected:o.has(E)})}}return c}for(const f of i.branches)c.push({name:f.name,connected:o.has(f.name)});return c}function MN(){return Fn.categories}function Hy(n){for(const r of Fn.categories)if(n.startsWith(r.prefix))return r.icon;return""}function DN(n){for(const r of Fn.categories)if(n.startsWith(r.prefix))return r;return null}function kN(n){const r=n.workflows||[];if(r.length===0)return n.nodes?{type:"project",workflows:[Eg(n)]}:{error:"No workflows found"};const i=[];let o={inputs:[],outputs:[]};for(const c of r){const f=Eg(c);i.push(f),(f.name==="main"||o.inputs.length===0)&&(o=f.interface)}return{type:"project",workflows:i,interface:o}}function Eg(n){const r=n.nodes||{},i=n.interface||{},o={type:"workflow",name:n.name||"main",interface:{inputs:i.inputs||[],outputs:i.outputs||[]},variables:n.variables||{},children:[],orphans:[]},c=new Set;let h=(r.start||{}).next;for(;h&&!c.has(h);){c.add(h);const E=r[h];if(!E)break;const v=cf(h,E,r,c);o.children.push(v),h=E.next}const m=new Set(Object.keys(r).filter(E=>E!=="start")),g=new Set([...m].filter(E=>!c.has(E)));for(const E of g){const v=r[E]||{};Df(v.inputs||{},r,c)}const p=new Set([...m].filter(E=>!c.has(E))),y=new Set;for(const E of p){const w=(r[E]||{}).next;w&&p.has(w)&&y.add(w)}const b=[...p].filter(E=>!y.has(E)).sort(),N=new Set;for(const E of b){let v=E;for(;v&&!N.has(v);){const w=r[v];if(!w)break;if(w.isReporter){N.add(v),v=w.next&&p.has(w.next)?w.next:void 0;continue}N.add(v);const j=cf(v,w,r,c),_=w.next;_&&p.has(_)&&(j.next=_),o.orphans.push(j),v=_&&p.has(_)?_:void 0}}return o}function cf(n,r,i,o){const c=r.opcode||"",f=r.inputs||{},h=r.isReporter||!1;Df(f,i,o);const m={id:n,type:VN(c),opcode:c,isReporter:h,inputs:BN(f,i,c),children:[]},g=gi(c);return g&&g.branches.length>0&&(m.config=RN(c,f,i,g),m.children=zN(f,i,o,g)),m}function RN(n,r,i,o){const c={};for(const f of o.inputs){const h=Mf(r,f.name);if(h!==void 0){const m=f.name.toLowerCase();f.type==="variable_name"?c[m]=Yu(h):f.type==="expression"&&(m==="condition"||m==="iterable"||m==="resource"?c[m]=kf(h,i):c[m]=Yu(h))}}return["control_for","control_foreach","control_spawn","control_async_foreach","control_with"].includes(n)&&(c.var||(c.var=Yu(r.VAR??r.var??"i"))),c}function zN(n,r,i,o){const c=[];if(o.dynamic_branches)return LN(n,r,i,o);for(const f of o.branches){const h=Mf(n,f.name),m=typeof h=="object"&&h!==null?h.branch:void 0;m?c.push(Jo(f.name,m,r,i)):h!==void 0&&c.push({type:"branch",name:f.name,children:[]})}return c}function LN(n,r,i,o){const c=[],f=[],h=[];for(const m of o.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.includes(p)||h.push(p)}else f.push(m.name)}for(const m of f){const g=Mf(n,m),p=typeof g=="object"&&g!==null?g.branch:void 0;p?c.push(Jo(m,p,r,i)):g!==void 0&&c.push({type:"branch",name:m,children:[]})}for(const m of h){const g=m==="CATCH"?"HANDLERS":m==="BRANCH"?"BRANCHES":null,p=g?n[g]??n[g.toLowerCase()]:null;if(Array.isArray(p)&&p.length>0)p.forEach((y,b)=>{if(typeof y=="object"&&y!==null){const N=y,E=N.branch??N.body?.branch,v=`${m}${b+1}`;if(E){const w=Jo(v,E,r,i);m==="CATCH"&&(w.exception_type=N.exception_type||"Exception",w.var_name=N.var_name??N.var),c.push(w)}else{const w={type:"branch",name:v,children:[]};m==="CATCH"&&(w.exception_type=N.exception_type||"Exception",w.var_name=N.var_name??N.var),c.push(w)}}});else{let y=1;for(;;){const b=`${m}${y}`,N=n[b];if(N===void 0)break;if(typeof N=="object"&&N!==null){const E=N,v=E.branch??E.body?.branch??N.branch;if(v){const w=Jo(b,v,r,i);m==="CATCH"&&(w.exception_type=E.exception_type||"Exception",w.var_name=E.var_name??E.var),c.push(w)}else{const w={type:"branch",name:b,children:[]};m==="CATCH"&&(w.exception_type=E.exception_type||"Exception",w.var_name=E.var_name??E.var),c.push(w)}}y++}}}return c}function Mf(n,r){return n[r]??n[r.toLowerCase()]}function Df(n,r,i){for(const o of Object.values(n))if(typeof o=="object"&&o!==null){const c=o;if(c.node){const f=c.node;if(!i.has(f)){i.add(f);const m=(r[f]||{}).inputs||{};Df(m,r,i)}}}}function VN(n){const r=_N();for(const i of r.categories)if(n.startsWith(i.prefix))switch(i.id){case"control":case"async":return"control_flow";case"data":return"data";case"io":return"io";case"operator":case"math":case"string":case"list":case"dict":return"operator";case"workflow":return"workflow_op";default:return"opcode"}return"opcode"}function BN(n,r,i){const o={},c=gi(i),f=new Set;if(c)for(const m of c.branches)f.add(m.name),f.add(m.name.toLowerCase());const h=new Set(["BODY","body","THEN","then","ELSE","else","TRY","FINALLY","HANDLERS","handlers","BRANCHES","branches"]);for(const[m,g]of Object.entries(n))f.has(m)||h.has(m)||/^(CATCH|BRANCH)\d+$/.test(m)||(o[m]=kf(g,r));return o}function kf(n,r,i=0){if(typeof n=="object"&&n!==null){const o=n;if("literal"in o)return{type:"literal",value:o.literal};if("variable"in o)return{type:"variable",name:o.variable};if("node"in o){const c=o.node,f=r[c]||{},h=f.opcode||"",m=f.inputs||{};return{type:"reporter",id:c,opcode:h,inputs:Object.fromEntries(Object.entries(m).filter(([g])=>!g.startsWith("CATCH")&&!["BODY","THEN","ELSE"].includes(g)).map(([g,p])=>[g,kf(p,r,i+1)]))}}return"branch"in o?{type:"branch",target:o.branch}:"workflow_call"in o?{type:"workflow_call",name:o.workflow_call}:{type:"dict",value:n}}return{type:"literal",value:n}}function Yu(n){return typeof n=="object"&&n!==null&&"literal"in n?n.literal:n}function Jo(n,r,i,o){const c={type:"branch",name:n,children:[]};let f=r;for(;f&&!o.has(f);){o.add(f);const h=i[f];if(!h)break;c.children.push(cf(f,h,i,o)),f=h.next}return c}async function Fr(n,r){const i=await fetch(n,{headers:{"Content-Type":"application/json"},...r});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return i.json()}function HN(n){const{apiBaseUrl:r}=n;return{name:"lexflow",config:n,async listOpcodes(){return Fr(`${r}/opcodes`)},async executeWorkflow(i,o,c){return Fr(`${r}/execute`,{method:"POST",body:JSON.stringify({workflow:i,inputs:o,include_metrics:c})})},getWebSocketUrl(){if(n.supportsWebSocket===!1)return null;if(n.wsUrl)return`${n.wsUrl}/execute`;const i=new URL(r,window.location.href);return`${i.protocol==="https:"?"wss:":"ws:"}//${i.host}/ws/execute`},async parseWorkflow(i){const o=pN(i);if(!o.success||!o.data)return{success:!1,error:o.error||"Parse failed"};const c=kN(o.data);if("error"in c)return{success:!1,error:c.error};const f=c;return{success:!0,tree:f,interface:f.interface}},async validateWorkflow(i){return Fr(`${r}/validate`,{method:"POST",body:JSON.stringify({workflow:i})})},async listExamples(){return n.supportsExamples===!1?[]:Fr(`${r}/examples`)},async getExample(i){return Fr(`${r}/examples/${i}`)}}}function UN({className:n}){const{examples:r,setSource:i}=nt(),o=ps(),c=async h=>{const m=h.target.value;if(m){try{if($x(o)){const g=await o.getExample(m);i(g.content)}}catch(g){console.error("Failed to load example:",g)}h.target.value=""}},f=r.reduce((h,m)=>(h[m.category]||(h[m.category]=[]),h[m.category].push(m),h),{});return d.jsxs(zx,{className:n,onChange:c,defaultValue:"",children:[d.jsx("option",{value:"",children:"Load Example..."}),Object.entries(f).map(([h,m])=>d.jsx("optgroup",{label:h,children:m.map(g=>d.jsx("option",{value:g.path,children:g.name},g.path))},h))]})}const YN=M("flex items-center h-12 pl-5 pr-4 bg-surface-1 border-b border-border-subtle shrink-0"),IN=M("text-base font-semibold text-text-primary tracking-tight ml-2"),Iu=M("w-px h-6 mx-2 bg-border-subtle"),jg=M("flex items-center gap-1.5"),qN="1.0";function XN(n){try{const r=fs.load(n);if(!r?.metadata?.editor)return null;const i=r.metadata.editor;return typeof i.version!="string"||!i.layout||!i.viewport?null:i}catch{return null}}function GN(n,r){try{const i=fs.load(n);return i?(i.metadata={...i.metadata,editor:r},fs.dump(i,{indent:2,lineWidth:-1,noRefs:!0,sortKeys:(o,c)=>o==="metadata"?1:c==="metadata"?-1:0})):n}catch{return n}}function $N(n,r,i,o,c,f){return{version:qN,layout:{mode:n,nodePositions:{...r},workflowPositions:{...i}},viewport:{zoom:o,panX:c,panY:f}}}const Cg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`;function WN({className:n}){const{source:r,setSource:i,undo:o,redo:c,canUndo:f,canRedo:h}=nt(),{togglePalette:m,toggleEditor:g,isEditorOpen:p}=Ce(),y=R.useRef(null),b=()=>{r!==Cg&&Ce.getState().showConfirmDialog({title:"New Workflow",message:"Create a new workflow? Unsaved changes will be lost.",confirmLabel:"Create",variant:"default",onConfirm:()=>i(Cg)})},N=async()=>{const{nodePositions:w,workflowPositions:j,layoutMode:_,zoom:T,panX:X,panY:U}=Ce.getState(),L=$N(_,w,j,T,X,U),W=GN(r,L),$=new Blob([W],{type:"text/yaml"});if("showSaveFilePicker"in window)try{const se=await(await window.showSaveFilePicker({suggestedName:"workflow.yaml",types:[{description:"YAML files",accept:{"text/yaml":[".yaml",".yml"]}}]})).createWritable();await se.write($),await se.close();return}catch(re){if(re.name==="AbortError")return}const Y=URL.createObjectURL($),P=document.createElement("a");P.href=Y,P.download="workflow.yaml",P.click(),URL.revokeObjectURL(Y)},E=()=>{y.current?.click()},v=w=>{const j=w.target.files?.[0];if(!j)return;const _=new FileReader;_.onload=T=>{const X=T.target?.result,U=XN(X);if(i(X),U){const L=Ce.getState();L.resetNodePositions(),L.resetWorkflowPositions(),L.setLayoutMode(U.layout.mode);for(const[W,$]of Object.entries(U.layout.nodePositions))L.setNodePosition(W,$.x,$.y);for(const[W,$]of Object.entries(U.layout.workflowPositions))L.setWorkflowPosition(W,$.x,$.y);L.setZoom(U.viewport.zoom),L.setPan(U.viewport.panX,U.viewport.panY)}},_.readAsText(j),w.target.value=""};return d.jsxs("header",{className:z(YN(),n),children:[d.jsxs("div",{className:z(jg(),"flex-1"),children:[d.jsx("h1",{className:IN(),style:{marginLeft:"8px"},children:"LexFlow"}),d.jsx("div",{className:Iu()}),d.jsx(Wn,{icon:d.jsx(Ow,{}),label:"New Workflow",onClick:b}),d.jsx(Wn,{icon:d.jsx(Tw,{}),label:"Import Workflow",onClick:E}),d.jsx(Wn,{icon:d.jsx(Mw,{}),label:"Export Workflow",onClick:N}),d.jsx("div",{className:Iu()}),d.jsx(Wn,{icon:d.jsx(Dw,{}),label:"Undo (Ctrl+Z)",onClick:o,disabled:!f}),d.jsx(Wn,{icon:d.jsx(kw,{}),label:"Redo (Ctrl+Y)",onClick:c,disabled:!h}),d.jsx("div",{className:Iu()}),d.jsx(Wn,{icon:d.jsx(Rw,{}),label:"Node Palette (Ctrl+P)",onClick:m}),d.jsx("input",{ref:y,type:"file",accept:".yaml,.yml,.json",onChange:v,className:"hidden"})]}),d.jsx("div",{className:"flex items-center justify-center",children:d.jsx(UN,{})}),d.jsxs("div",{className:z(jg(),"flex-1 justify-end"),children:[d.jsx(Zw,{}),d.jsx(Wn,{icon:d.jsx(zw,{}),label:"Toggle Editor (Ctrl+B)",onClick:g,className:p?"bg-surface-3":""})]})]})}const ZN=M("absolute bg-transparent transition-colors hover:bg-accent-blue/50 z-10",{variants:{orientation:{horizontal:"cursor-col-resize w-1 -right-0.5 top-0 bottom-0",vertical:"cursor-row-resize h-1 -top-0.5 left-0 right-0"},isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{orientation:"horizontal",isResizing:!1}});function QN({orientation:n,isResizing:r=!1,onMouseDown:i,className:o}){return d.jsx("div",{className:z(ZN({orientation:n,isResizing:r}),o),onMouseDown:i})}function KN({orientation:n,minSize:r,maxSize:i,defaultSize:o}){const[c,f]=R.useState(o),[h,m]=R.useState(!1),g=R.useRef(null),p=R.useCallback(y=>{y.preventDefault(),g.current=y.target.parentElement,m(!0)},[]);return R.useEffect(()=>{if(!h)return;const y=N=>{if(!g.current)return;const E=g.current.getBoundingClientRect();let v;v=N.clientX-E.left,f(Math.min(i,Math.max(r,v)))},b=()=>{m(!1)};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)}},[h,n,r,i]),{size:c,isResizing:h,handleMouseDown:p}}const FN=M("flex flex-col h-full overflow-hidden"),JN=M("flex flex-1 overflow-hidden relative"),PN=M("relative bg-surface-1 border-r border-border-subtle flex flex-col shrink-0"),eE=M("flex-1 flex flex-col relative overflow-hidden bg-surface-0"),tE=M("bg-surface-1 border-t border-border-subtle shrink-0 overflow-visible"),nE=M("absolute right-0 top-0 bottom-0 w-80 bg-surface-1 border-l border-border-subtle z-[100] shadow-lg transition-transform duration-200",{variants:{isOpen:{true:"translate-x-0",false:"translate-x-full"}},defaultVariants:{isOpen:!1}}),lE=M("fixed inset-0 bg-black/50 z-[200] flex justify-start"),aE=M("w-[300px] h-full bg-surface-1 border-r border-border-subtle animate-slide-in"),rE=240,iE=480,oE=320;function sE({canvas:n,editor:r,nodeEditor:i,executionPanel:o,palette:c,className:f}){const{isEditorOpen:h,isNodeEditorOpen:m,isPaletteOpen:g,isExecutionPanelOpen:p,togglePalette:y}=Ce(),{size:b,isResizing:N,handleMouseDown:E}=KN({orientation:"horizontal",minSize:rE,maxSize:iE,defaultSize:oE});return d.jsxs("div",{className:z(FN(),f),children:[d.jsx(WN,{}),d.jsxs("div",{className:JN(),children:[h&&r&&d.jsxs("aside",{className:PN(),style:{width:`${b}px`},children:[r,d.jsx(QN,{orientation:"horizontal",isResizing:N,onMouseDown:E})]}),d.jsxs("div",{className:eE(),children:[n,p&&o&&d.jsx("div",{className:tE(),children:o})]}),d.jsx("aside",{className:nE({isOpen:m}),children:i})]}),g&&c&&d.jsx("div",{className:lE(),onClick:y,children:d.jsx("div",{className:aE(),onClick:v=>v.stopPropagation(),children:c})})]})}const Ag=new Set(["int","float","number","Integer","Float","Number"]),_g=new Set(["str","string","String"]),Og=new Set(["bool","boolean","Boolean"]);function uf(n,r){if(!n||!r)return null;const i=n.toLowerCase().trim(),o=r.toLowerCase().trim();if(i==="any"||o==="any"||i===o||Ag.has(i)&&Ag.has(o)||_g.has(i)&&_g.has(o)||Og.has(i)&&Og.has(o))return!0;const c=o.match(/^optional\[(.+)\]$/);return c?uf(n,c[1]):o.includes("|")?o.split("|").map(h=>h.trim()).some(h=>uf(n,h)===!0):!1}function cE(n){return n===!0?"#34D399":n===!1?"#F87171":"#94A3B8"}function uE(n,r){if(!n)return{};const i=n.workflows.find(c=>c.name===r);if(!i)return{};const o={};return i.interface.inputs.forEach((c,f)=>{o[`ARG${f+1}`]=c}),o}function ds(n,r,i,o){if(r!=="workflow_call")return n;const c=o.WORKFLOW;if(!c||c.type!=="literal")return n;const f=c.value;if(!f)return n;const h=uE(i,f);return n.startsWith("ARG")&&h[n]?h[n]:n}function fE(n){return n?n.workflows.filter(r=>r.name!=="main").map(r=>({name:r.name,params:r.interface.inputs})):[]}const dE={pointerEvents:"all"};function hE(n,r,i){return n?r===!0?{fill:"rgba(52, 211, 153, 0.15)",stroke:"var(--color-accent-green)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease",animation:"pulse-slot 0.6s ease infinite alternate"}:r===!1?{fill:"rgba(248, 113, 113, 0.15)",stroke:"var(--color-accent-red)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"rgba(148, 163, 184, 0.1)",stroke:i,strokeWidth:1,strokeDasharray:"4 2",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"transparent",stroke:"transparent",strokeWidth:1,transition:"fill 0.15s ease, stroke 0.15s ease"}}const mE={fontSize:"9px",fontWeight:500,fill:"var(--color-text-muted)",textTransform:"lowercase"},pE={fontSize:"9px",fontFamily:"'JetBrains Mono', monospace",fill:"var(--color-text-secondary)"},gE={fontSize:"7px",fill:"var(--color-text-muted)",fontStyle:"italic",textTransform:"uppercase",letterSpacing:"0.3px"};function Uy({nodeId:n,inputKey:r,value:i,paramInfo:o,opcode:c,allInputs:f,x:h,y:m,width:g}){const{draggingOrphan:p,setDraggingOrphan:y,draggingVariable:b,setDraggingVariable:N}=Ce(),{convertOrphanToReporter:E,updateNodeInput:v,tree:w}=nt(),j=xE(i),_=ds(r,c,w,f),T=p!==null,X=b!==null,U=T||X,L=T?uf(p.returnType,o?.type):null,W=re=>{if(re.stopPropagation(),p){if(L===!1){const se=p.nodeId;Ce.getState().showConfirmDialog({title:"Type Mismatch",message:`The orphan node's return type may not be compatible with the input "${r}". Continue anyway?`,confirmLabel:"Continue",variant:"default",onConfirm:()=>{E(se,n,r),y(null)},onCancel:()=>{y(null)}});return}E(p.nodeId,n,r),y(null)}else b&&(v(n,r,`$${b.name}`),N(null))},$=re=>{re.stopPropagation()},Y=X?"#22C55E":cE(L);return d.jsxs("g",{style:dE,transform:`translate(${h}, ${m})`,onMouseUp:W,onMouseEnter:$,children:[d.jsx("rect",{x:0,y:0,width:g,height:20,rx:3,style:hE(U,L,Y)}),d.jsxs("text",{x:6,y:13,style:mE,children:[_,":"]}),d.jsx("text",{x:6+(_.length+1)*5,y:13,style:pE,children:j}),U&&o?.type&&d.jsx("text",{x:g-6,y:13,textAnchor:"end",style:gE,children:o.type})]})}function xE(n){switch(n.type){case"literal":{const r=n.value;if(typeof r=="string")return`"${r.length>10?r.slice(0,10)+"...":r}"`;if(typeof r=="object"&&r!==null){const i=JSON.stringify(r);return i.length>20?i.slice(0,17)+"...":i}return String(r)}case"variable":return`$${n.name}`;case"reporter":return"[reporter]";case"workflow_call":return`-> ${n.name}`;default:return""}}function yE(){const{closeNodeEditor:n,isNodeEditorOpen:r,isPaletteOpen:i,togglePalette:o,toggleEditor:c,toggleExecutionPanel:f}=Ce(),{undo:h,redo:m,canUndo:g,canRedo:p,deleteNode:y,duplicateNode:b}=nt(),{selectNode:N,selectedNodeId:E,clearSelection:v}=Kn();R.useEffect(()=>{const w=j=>{const _=j.target,T=_.tagName==="INPUT"||_.tagName==="TEXTAREA";if(T&&j.key==="Escape"){_.blur();return}if(j.ctrlKey||j.metaKey){switch(j.key.toLowerCase()){case"z":!T&&!Tg(_)&&(j.preventDefault(),j.shiftKey?p&&m():g&&h());break;case"y":!T&&!Tg(_)&&(j.preventDefault(),p&&m());break;case"b":T||(j.preventDefault(),c());break;case"e":T||(j.preventDefault(),f());break;case"p":T||(j.preventDefault(),o());break;case"0":T||(j.preventDefault(),Ce.getState().resetView());break;case"d":!T&&E&&E!=="start"&&(j.preventDefault(),b(E));break}return}if(!T){if(j.key==="Escape"){r?(n(),v()):i?o():E&&v();return}(j.key==="Delete"||j.key==="Backspace")&&E&&E!=="start"&&Ce.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${E}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{y(E),v(),n()}})}};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[n,r,i,o,c,f,N,E,v,h,m,g,p,y,b])}function Tg(n){return n.closest(".monaco-editor")!==null}function bE(){const n=R.useRef(null),r=ps(),{setIsExecuting:i,appendExecutionOutput:o,setExecutionResult:c,setExecutionError:f,clearExecution:h,setPendingPrompt:m,addRenderedContent:g,clearRenderedContent:p,addAlert:y,setProgress:b}=ai(),N=R.useCallback(w=>{const j=n.current,{pendingPrompt:_}=ai.getState();!j||!_||(j.send(JSON.stringify({type:`${_.type}_response`,value:w})),m(null))},[m]),E=R.useCallback(async(w,j,_)=>{n.current&&n.current.close(),h(),i(!0);const T=r.getWebSocketUrl();if(!T){try{const U=await r.executeWorkflow(w,j,_);U.success?(U.output&&o(U.output),c(U.result)):f(U.error||"Execution failed")}catch(U){f(U instanceof Error?U.message:"Execution failed")}finally{i(!1)}return}const X=new WebSocket(T);n.current=X,X.onopen=()=>{const U={type:"start",workflow:w,inputs:j,include_metrics:_};X.send(JSON.stringify(U))},X.onmessage=U=>{try{const L=JSON.parse(U.data);switch(L.type){case"output":o(L.line+`
`);break;case"complete":c(L.result),i(!1),X.close();break;case"error":f(L.message),i(!1),X.close();break;case"input_request":m({type:"input",prompt:L.prompt});break;case"select_request":m({type:"select",prompt:L.prompt,options:L.options});break;case"confirm_request":m({type:"confirm",prompt:L.message,message:L.message});break;case"button_request":m({type:"button",prompt:L.label,label:L.label});break;case"render_html":g({type:"html",content:L.html});break;case"render_markdown":g({type:"markdown",content:L.content});break;case"render_table":g({type:"table",content:L.data});break;case"render_image":g({type:"image",content:{src:L.src,alt:L.alt}});break;case"progress":b({value:L.value,max:L.max,label:L.label});break;case"alert":y({message:L.message,variant:L.variant});break;case"clear_content":p();break}}catch(L){console.error("Failed to parse WebSocket message:",L)}},X.onerror=()=>{f("WebSocket connection failed"),i(!1)},X.onclose=()=>{n.current=null}},[r,h,i,o,c,f,m,g,p,y,b]),v=R.useCallback(()=>{n.current&&(n.current.close(),n.current=null,i(!1),m(null))},[i,m]);return{execute:E,cancel:v,respondToPrompt:N}}function vE(){const{source:n,setTree:r,setParseError:i,setIsParsing:o}=nt(),c=ps(),f=R.useRef(null);R.useEffect(()=>(f.current&&clearTimeout(f.current),f.current=setTimeout(async()=>{o(!0);try{const h=await c.parseWorkflow(n);h.success&&h.tree?r(h.tree):i(h.error||"Parse failed")}catch(h){i(h instanceof Error?h.message:"Parse failed")}finally{o(!1)}},500),()=>{f.current&&clearTimeout(f.current)}),[n,r,i,o,c])}const Yy={WIDTH:110,HEIGHT:70},Rf={HORIZONTAL:60,VERTICAL:40,WORKFLOW:80},wE={control_flow:"Control Flow",data:"Data",io:"I/O",operator:"Operator",workflow_op:"Workflow",opcode:"Opcode"},SE=25,NE=180;function Mg(n){return n.startsWith("start-")?"start":n}function EE(n,r,i,o){return Math.sqrt((i-n)**2+(o-r)**2)}function jE(n,r,i){const o=i[n];return o?r==="input"?o.input:r==="output"?o.output:o.branches[r]||null:null}function CE(n,r,i,o,c){const f=o==="output"?"input":"output",h=Mg(i);let m=null,g=SE;for(const[p,y]of Object.entries(c)){if(Mg(p)===h)continue;const b=f==="input"?y.input:y.output,N=EE(n,r,b.x,b.y);N<g&&(g=N,m={nodeId:p,port:f,x:b.x,y:b.y})}return m}function Dg(n){return n.startsWith("start-")?"start":n}function kg(n){if(n.startsWith("start-"))return n.slice(6)}function AE({svgRef:n,centerX:r,centerY:i}){const{zoom:o,panX:c,panY:f,setZoom:h,setPan:m,isDraggingWorkflow:g,isDraggingNode:p,draggingWire:y,setDraggingWire:b,updateDraggingWire:N,draggingOrphan:E,setDraggingOrphan:v,updateDraggingOrphanEnd:w,draggingVariable:j,setDraggingVariable:_,updateDraggingVariableEnd:T,slotPositions:X}=Ce(),{connectNodes:U,connectBranch:L}=nt(),{selectNode:W,selectStartNode:$,selectConnection:Y}=Kn(),[P,re]=R.useState(!1),[se,ue]=R.useState({x:0,y:0}),ce=R.useCallback((H,ae)=>{if(!n.current)return{x:0,y:0};const J=n.current.getBoundingClientRect();return{x:(H-J.left-c-J.width/2)/o+r,y:(ae-J.top-f-J.height/2)/o+i}},[n,c,f,o,r,i]),Q=R.useCallback(H=>{if(H.ctrlKey||H.metaKey){H.preventDefault();const ae=H.deltaY>0?-.1:.1;h(o+ae)}},[o,h]),le=R.useCallback(H=>{if(g||p)return;const ae=H.target;(ae===n.current||ae.classList.contains("background")||ae.tagName==="rect")&&(re(!0),ue({x:H.clientX-c,y:H.clientY-f}),W(null),$(null),Y(null))},[c,f,W,$,Y,g,p,n]),A=R.useCallback(H=>{if(y){const{x:ae,y:J}=ce(H.clientX,H.clientY),C=CE(ae,J,y.sourceNodeId,y.sourcePort,X);N({dragX:ae,dragY:J,nearbyPort:C});return}if(E){const{x:ae,y:J}=ce(H.clientX,H.clientY);w(ae,J);return}if(j){const{x:ae,y:J}=ce(H.clientX,H.clientY);T(ae,J);return}g||p||P&&m(H.clientX-se.x,H.clientY-se.y)},[P,se,m,g,p,y,N,E,w,j,T,ce,X]),k=R.useCallback(()=>{if(re(!1),y){if(y.nearbyPort){const H=Dg(y.sourceNodeId),ae=Dg(y.nearbyPort.nodeId),J=kg(y.sourceNodeId),C=kg(y.nearbyPort.nodeId);y.branchLabel?L(H,ae,y.branchLabel):y.sourcePort==="output"?U(H,ae,J):U(ae,H,C)}b(null)}E&&v(null),j&&_(null)},[y,b,E,v,j,_,U,L]);return{handleWheel:Q,handleMouseDown:le,handleMouseMove:A,handleMouseUp:k,isDragging:P}}function _E({nodeId:n,x:r,y:i}){const{draggingWire:o,setDraggingWire:c}=Ce(),{connectNodes:f}=nt(),h=R.useCallback(w=>{w.stopPropagation(),w.preventDefault();const j=r+NE,_=i+30;c({sourceNodeId:n,sourcePort:"output",sourceX:j,sourceY:_,dragX:j,dragY:_,nearbyPort:null})},[n,r,i,c]),m=R.useCallback((w,j,_,T)=>{w.stopPropagation(),w.preventDefault();const X=r+_,U=i+T;c({sourceNodeId:n,sourcePort:"output",sourceX:X,sourceY:U,dragX:X,dragY:U,nearbyPort:null,branchLabel:j})},[n,r,i,c]),g=R.useCallback(w=>{w.stopPropagation(),w.preventDefault();const j=r,_=i+30;c({sourceNodeId:n,sourcePort:"input",sourceX:j,sourceY:_,dragX:j,dragY:_,nearbyPort:null})},[n,r,i,c]),p=R.useCallback(w=>{w.stopPropagation(),w.preventDefault(),o&&o.sourcePort==="input"&&o.sourceNodeId!==n&&(f(n,o.sourceNodeId),c(null))},[n,o,f,c]),y=R.useCallback(w=>{w.stopPropagation(),w.preventDefault(),o&&o.sourcePort==="output"&&o.sourceNodeId!==n&&(f(o.sourceNodeId,n),c(null))},[n,o,f,c]),b=o?.nearbyPort?.nodeId===n&&o?.nearbyPort?.port==="input",N=o?.nearbyPort?.nodeId===n&&o?.nearbyPort?.port==="output",E=!!o&&o.sourcePort==="output"&&o.sourceNodeId!==n,v=!!o&&o.sourcePort==="input"&&o.sourceNodeId!==n;return{handleOutputPortMouseDown:h,handleInputPortMouseDown:g,handleOutputPortMouseUp:p,handleInputPortMouseUp:y,handleBranchPortMouseDown:m,isInputPortHighlighted:b,isOutputPortHighlighted:N,isValidDropTarget:E,isValidOutputDropTarget:v}}const dn=110,Yt=70,Rg=30,zg={control_flow:"",data:"",io:"",operator:"",workflow_op:"",opcode:""};function OE(n,r,i,o,c,f,h,m=!1){let g="transparent",p=1.5,y="none",b=1;o&&(g="var(--color-accent-amber)",y="6 3",b=.9),c&&!r&&!m&&(g=n,p=1.5,b=1),i&&!r&&!m&&(g="#facc15",p=2,y="none"),m&&(g="#22d3ee",p=2.5,y="none",b=1),r&&(g="var(--color-accent-blue)",p=2,y="none",b=1),f==="success"?g="var(--color-accent-green)":f==="error"&&(g="var(--color-accent-red)");let N="drop-shadow(0 1px 3px rgba(0, 0, 0, 0.2))";return c&&!r&&!m&&(N="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.25))"),m&&!r&&(N="drop-shadow(0 0 10px rgba(34, 211, 238, 0.5))"),r&&(N="drop-shadow(0 0 8px rgba(59, 130, 246, 0.3))"),{fill:"var(--color-surface-1)",stroke:g,strokeWidth:p,strokeDasharray:y,opacity:b,filter:N,transition:"all 0.15s ease",animation:f==="running"?"pulse 1.5s ease-in-out infinite":"none"}}function TE(n){return{fill:n,pointerEvents:"none"}}function ME(n,r){return{fill:r?n:`${n}20`,transition:"fill 0.15s ease"}}const DE={fontSize:"14px",fill:"var(--color-text-primary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"},kE={fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",letterSpacing:"-0.01em"},RE={fontSize:"9px",fill:"var(--color-text-muted)",fontFamily:"'JetBrains Mono', monospace"};function Lg(n,r,i){return{fill:r?"var(--color-accent-green)":"var(--color-surface-2)",stroke:r?"var(--color-accent-green)":n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1.5,r:r?6:5,transition:"all 0.12s ease",filter:r?"drop-shadow(0 0 6px var(--color-accent-green))":"none",cursor:i?"pointer":"crosshair"}}function Iy(n,r){return{fill:r?"var(--color-accent-blue)":"var(--color-surface-3)",stroke:"var(--color-border-subtle)",strokeWidth:1,cursor:n?"pointer":"default",transition:"fill 0.15s ease",opacity:n?1:0,pointerEvents:n?"all":"none"}}const qy={fontSize:"8px",fontWeight:600,fill:"var(--color-text-secondary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function zE(n){const r={running:"var(--color-accent-amber)",success:"var(--color-accent-green)",error:"var(--color-accent-red)"};return{fill:r[n]||"transparent",filter:n!=="idle"?`drop-shadow(0 0 4px ${r[n]})`:"none",transition:"all 0.15s ease"}}const LE={cursor:"grab",pointerEvents:"all"},VE={fill:"var(--color-accent-amber)",transition:"filter 0.15s ease"},BE={fontSize:"9px",fill:"var(--color-surface-0)",fontWeight:600,pointerEvents:"none",textAnchor:"middle",dominantBaseline:"central"},HE={cursor:"grab",pointerEvents:"all",fill:"transparent"};function UE(n,r){return{fill:n?r:"transparent",stroke:r,strokeWidth:1.5,cursor:"crosshair",transition:"all 0.12s ease"}}const YE={fontSize:"8px",fontWeight:500,textAnchor:"middle",pointerEvents:"none",userSelect:"none",textTransform:"uppercase",letterSpacing:"0.3px"};function IE(n,r){const i=r.filter(f=>f.children.length>0).map(f=>f.name),o=r.map(f=>f.name),c=TN(n,i);for(const f of o)c.find(h=>h.name===f)||c.push({name:f,connected:i.includes(f)});return c}function qE(n,r){const i=Hy(n);return i&&i!==""?i:zg[r]||zg.opcode}function Xy(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function zf(n){let r=0;for(const i of Object.values(n))i.type==="reporter"&&i.opcode&&(r+=1,i.inputs&&(r+=zf(i.inputs)));return r}const Nn=12,ci=8,Ja=16,Gy=28;function Pa(n,r,i){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const o=i[n.id||""]??!1;if(!o&&!r)return{width:dn,height:Yt};const c=[];let f=0;if(n.inputs)for(const[g,p]of Object.entries(n.inputs))p.type==="reporter"&&p.opcode?c.push({key:g,value:p}):f++;let h=dn,m=Yt;if(o||r){if(c.length>0){let g=0,p=0;for(const y of c){const b=Pa(y.value,r,i);g+=Ja+b.height+ci,p=Math.max(p,b.width)}h=Math.max(h,p+Nn*2),m=Yt+g}f>0&&(m+=f*Gy+ci),(c.length>0||f>0)&&(m+=Nn)}return{width:h,height:m}}function XE(n,r,i){let o=0;for(const{value:c}of n){const f=Pa(c,r,i);o+=Ja+f.height+ci}return o}function GE(n,r,i){let o=dn;for(const{value:c}of n){const f=Pa(c,r,i);o=Math.max(o,f.width)}return o}const $E=R.memo(function({node:r,x:i,y:o,isOrphan:c,zoom:f=1,onDrag:h}){const{opcodes:m}=nt(),{openNodeEditor:g,nodeStatus:p,searchResults:y,draggingWire:b,draggingOrphan:N,setDraggingOrphan:E,draggingVariable:v,layoutMode:w,setIsDraggingNode:j,registerSlotPositions:_,unregisterSlotPositions:T,showContextMenu:X,expandedReporters:U}=Ce(),{selectedNodeId:L,selectNode:W,selectedNodeIds:$,toggleNodeSelection:Y,clearMultiSelection:P,selectedReporter:re,selectReporter:se}=Kn(),[ue,ce]=R.useState(!1),Q=U[r.id]??!1,le=m.find(Ne=>Ne.name===r.opcode),A=Vy(r.type),k=qE(r.opcode,r.type),H=L===r.id&&!re,ae=$.includes(r.id),J=y.includes(r.id),C=p[r.id]||"idle",V=Xy(r.opcode),F=R.useRef(!1),ne=[],ye=[];for(const[Ne,vt]of Object.entries(r.inputs))vt.type==="reporter"&&vt.opcode?ne.push({key:Ne,value:vt}):ye.push({key:Ne,value:vt});const xe=zf(r.inputs),de=!!(v||N&&N.nodeId!==r.id),oe=ye.map(Ne=>Ne.key).slice(0,4),fe=IE(r.opcode,r.children),Re=fe.length>0?20:0,Le=de?oe.length*Rg:0,Ue=Q||de,Jn=Ue&&ne.length>0?XE(ne,de,U):0,Dt=Ue&&ne.length>0?GE(ne,de,U)+Nn*2:0,Fe=Math.max(dn,Dt),ze=Yt+Le+Jn+Re,{handleOutputPortMouseDown:en,handleInputPortMouseDown:Cn,handleOutputPortMouseUp:ie,handleInputPortMouseUp:Ae,handleBranchPortMouseDown:Ze,isInputPortHighlighted:We,isOutputPortHighlighted:ft,isValidDropTarget:Pe,isValidOutputDropTarget:An}=_E({nodeId:r.id,x:i,y:o}),hn=Ne=>{if(Ne.stopPropagation(),F.current){F.current=!1;return}if(Ne.ctrlKey||Ne.metaKey){Y(r.id),se(null);return}P(),W(r.id),se(null),g()},Pn=Ne=>{Ne.preventDefault(),Ne.stopPropagation(),$.includes(r.id)||(P(),W(r.id)),X({nodeId:r.id,x:Ne.clientX,y:Ne.clientY,hasReporters:xe>0,reportersExpanded:Q,isOrphan:c??!1})},el=Ne=>{if(!c)return;Ne.stopPropagation(),Ne.preventDefault();const vt=i+Fe-14,qt=o;E({nodeId:r.id,opcode:r.opcode,returnType:le?.return_type,fromX:vt,fromY:qt,toX:vt,toY:qt})},nr=Ne=>{if(w!=="free"||!h)return;Ne.stopPropagation(),Ne.preventDefault(),j(!0);const vt=Ne.clientX,qt=Ne.clientY;let Ot=!1;const dt=gt=>{const yi=(gt.clientX-vt)/f,bi=(gt.clientY-qt)/f;(Math.abs(yi)>3||Math.abs(bi)>3)&&(Ot=!0,h(yi,bi))},kt=()=>{j(!1),Ot&&(F.current=!0),window.removeEventListener("mousemove",dt),window.removeEventListener("mouseup",kt)};window.addEventListener("mousemove",dt),window.addEventListener("mouseup",kt)};return R.useEffect(()=>{const Ne={input:{x:i,y:o+Yt/2},output:{x:i+Fe,y:o+Yt/2},branches:{}};return fe.forEach((vt,qt)=>{const Ot=Fe/fe.length;Ne.branches[vt.name]={x:i+Ot*qt+Ot/2,y:o+ze}}),_(r.id,Ne),()=>T(r.id)},[i,o,Fe,ze,fe.length,r.id,_,T]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${i}, ${o})`,onClick:hn,onContextMenu:Pn,onMouseEnter:()=>ce(!0),onMouseLeave:()=>ce(!1),children:[d.jsx("rect",{width:Fe,height:ze,rx:8,style:OE(A,H,J,c??!1,ue,C,de,ae)}),d.jsx("rect",{x:0,y:0,width:3,height:ze,rx:1.5,style:TE(A)}),d.jsx("circle",{cx:dn/2,cy:22,r:14,style:ME(A,ue)}),d.jsx("text",{x:dn/2,y:22,style:DE,children:k}),d.jsx("text",{x:dn/2,y:46,textAnchor:"middle",style:kE,children:V.length>10?V.slice(0,10)+"":V}),(ue||H)&&d.jsx("text",{x:dn/2,y:60,textAnchor:"middle",style:RE,children:r.id.length>12?r.id.slice(0,12)+"":r.id}),de&&oe.map((Ne,vt)=>d.jsx(Uy,{nodeId:r.id,inputKey:Ne,value:r.inputs[Ne],paramInfo:le?.parameters.find(qt=>qt.name.toUpperCase()===Ne),opcode:r.opcode,allInputs:r.inputs,x:Nn,y:Yt+vt*Rg,width:Fe-Nn*2},Ne)),Ue&&ne.length>0&&d.jsx(WE,{reporterInputs:ne,parentNodeId:r.id,baseY:Yt+Le,selectedReporter:re,selectReporter:se,openNodeEditor:g,showInputSlots:de,opcodes:m,expandedReporters:U,showContextMenu:X}),xe>0&&!Ue&&d.jsxs("g",{transform:`translate(${Fe-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Iy(!0,!1)}),d.jsx("text",{x:7,y:7,style:qy,children:xe})]}),Pe&&d.jsx("circle",{cx:0,cy:Yt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Ae}),An&&d.jsx("circle",{cx:Fe,cy:Yt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:ie}),d.jsx("circle",{cx:0,cy:Yt/2,r:5,style:Lg(ue,We,!!b),onMouseDown:Cn,onMouseUp:Ae}),d.jsx("circle",{cx:Fe,cy:Yt/2,r:5,style:Lg(ue,ft,!!b),onMouseDown:en,onMouseUp:ie}),fe.length>0&&d.jsx("g",{children:fe.map((Ne,vt)=>{const qt=Fe/fe.length,Ot=qt*vt+qt/2,dt=ze,kt=Ly(Ne.name);return d.jsxs("g",{children:[d.jsx("text",{x:Ot,y:ze-8,fill:kt,style:YE,children:Ne.name}),d.jsx("circle",{cx:Ot,cy:dt,r:4,style:UE(Ne.connected,kt),onMouseDown:gt=>Ze(gt,Ne.name,Ot,dt)})]},Ne.name)})}),C!=="idle"&&d.jsx("circle",{cx:Fe-8,cy:12,r:4,style:zE(C)}),c&&d.jsxs("g",{style:LE,onMouseDown:el,children:[d.jsx("rect",{x:Fe-28,y:-8,width:28,height:16,rx:3,style:VE}),d.jsx("text",{x:Fe-14,y:0,style:BE,children:""}),d.jsx("title",{children:"Drag to slot as reporter"})]}),w==="free"&&h&&d.jsx("rect",{x:4,y:0,width:c?Fe-32:Fe-8,height:Yt,style:HE,onMouseDown:nr})]})});function $y({inputKey:n,value:r,parentNodeId:i,x:o,y:c,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:y,expandedReporters:b,showContextMenu:N}){const E=By(r.opcode||""),v=Xy(r.opcode||""),w=Hy(r.opcode||"")||"",j=[...y,n],_=p.find(A=>A.name===r.opcode),T=r.id||"",X=b[T]??!1,U=f&&f.parentNodeId===i&&f.inputPath.join(".")===j.join("."),L=[],W=[];if(r.inputs)for(const[A,k]of Object.entries(r.inputs))k.type==="reporter"&&k.opcode?L.push({key:A,value:k}):W.push({key:A,value:k});const $=zf(r.inputs||{}),Y=X||g,P=Pa(r,g,b),re=P.width,se=P.height,ue=[];let ce=Yt;if(Y)for(const A of L){const k=Pa(A.value,g,b);ue.push({key:A.key,value:A.value,y:ce,height:k.height}),ce+=Ja+k.height+ci}const Q=ce,le=A=>{A.preventDefault(),A.stopPropagation(),h({parentNodeId:i,inputPath:j,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),N({nodeId:T,x:A.clientX,y:A.clientY,hasReporters:$>0,reportersExpanded:X,isOrphan:!1})};return d.jsxs("g",{transform:`translate(${o}, ${c})`,children:[d.jsx("rect",{x:0,y:0,width:re,height:se,rx:8,fill:"var(--color-surface-1)",stroke:U?"var(--color-accent-blue)":E,strokeWidth:U?2:1.5,style:{cursor:"pointer"},onClick:A=>{A.stopPropagation(),h({parentNodeId:i,inputPath:j,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),m()},onContextMenu:le}),d.jsx("rect",{x:0,y:0,width:4,height:se,rx:2,fill:E,style:{pointerEvents:"none"}}),d.jsx("circle",{cx:dn/2,cy:22,r:14,fill:`${E}30`,style:{pointerEvents:"none"}}),d.jsx("text",{x:dn/2,y:22,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"14px",fill:"var(--color-text-primary)",pointerEvents:"none"},children:w}),d.jsx("text",{x:dn/2,y:46,textAnchor:"middle",style:{fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",pointerEvents:"none"},children:v.length>10?v.slice(0,10)+"":v}),$>0&&!Y&&d.jsxs("g",{transform:`translate(${dn-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:Iy(!0,!1)}),d.jsx("text",{x:7,y:7,style:qy,children:$})]}),Y&&ue.map(A=>d.jsxs("g",{children:[d.jsx("text",{x:Nn,y:A.y+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:A.key}),d.jsx($y,{inputKey:A.key,value:A.value,parentNodeId:i,x:Nn,y:A.y+Ja,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:j,expandedReporters:b,showContextMenu:N})]},A.key)),Y&&W.map((A,k)=>d.jsxs("g",{transform:`translate(${Nn}, ${Q+k*Gy})`,children:[d.jsx("text",{x:0,y:10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:A.key}),d.jsx(Uy,{nodeId:r.id||i,inputKey:A.key,value:A.value,paramInfo:_?.parameters.find(H=>H.name.toUpperCase()===A.key),opcode:r.opcode||"",allInputs:r.inputs||{},x:0,y:12,width:re-Nn*2})]},A.key))]})}function WE({reporterInputs:n,parentNodeId:r,baseY:i,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,expandedReporters:g,showContextMenu:p}){const y=[];let b=0;for(const{key:N,value:E}of n){y.push({key:N,value:E,y:b});const v=Pa(E,h,g);b+=Ja+v.height+ci}return d.jsx("g",{transform:`translate(${Nn}, ${i})`,children:y.map(({key:N,value:E,y:v})=>d.jsxs("g",{children:[d.jsx("text",{x:0,y:v+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:N}),d.jsx($y,{inputKey:N,value:E,parentNodeId:r,x:0,y:v+Ja,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,inputPath:[],expandedReporters:g,showContextMenu:p})]},N))})}const Zn=160,Wy=80,ni="#22c55e",Zy="#4ade80";function ZE(n,r){return{fill:"var(--color-surface-1)",stroke:n?"var(--color-accent-blue)":ni,strokeWidth:n||r?2.5:2,transition:"stroke 0.15s ease, stroke-width 0.15s ease, filter 0.15s ease",filter:n?"drop-shadow(0 0 8px rgba(34, 211, 238, 0.4))":r?"drop-shadow(0 4px 8px rgba(34, 197, 94, 0.3))":"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))"}}const QE={fill:ni,pointerEvents:"none"},KE={fontSize:"14px"},FE={fontSize:"13px",fontWeight:700,fill:"var(--color-text-primary)"},JE={fontSize:"9px",fill:"var(--color-text-secondary)",fontFamily:"'JetBrains Mono', monospace"},PE={fontSize:"10px",fontFamily:"'JetBrains Mono', monospace",fill:Zy},ej={fontSize:"9px",fill:"var(--color-text-muted)",fontStyle:"italic"};function tj(n,r=!1){return{fill:n?ni:"var(--color-surface-2)",stroke:n?Zy:ni,strokeWidth:2,transition:"all 0.15s ease",filter:n?`drop-shadow(0 0 4px ${ni})`:"none",cursor:r?"pointer":"crosshair",pointerEvents:"all"}}const nj={cursor:"grab",pointerEvents:"all"},lj=R.memo(function({workflowName:r,workflowInterface:i,variables:o,x:c,y:f,zoom:h=1,onDrag:m}){const{openNodeEditor:g,layoutMode:p,setIsDraggingNode:y,registerSlotPositions:b,unregisterSlotPositions:N,draggingWire:E,setDraggingWire:v}=Ce(),{selectedStartNode:w,selectStartNode:j,selectNode:_}=Kn(),{connectNodes:T}=nt(),[X,U]=R.useState(!1),L=`start-${r}`,W=w===r,$=R.useRef(!1),Y=V=>{if(V.stopPropagation(),$.current){$.current=!1;return}_(null),j(r),g()},P=V=>{if(p!=="free"||!m)return;V.stopPropagation(),V.preventDefault(),y(!0);const F=V.clientX,ne=V.clientY;let ye=!1;const xe=oe=>{const fe=(oe.clientX-F)/h,Re=(oe.clientY-ne)/h;(Math.abs(fe)>3||Math.abs(Re)>3)&&(ye=!0,m(fe,Re))},de=()=>{y(!1),ye&&($.current=!0),window.removeEventListener("mousemove",xe),window.removeEventListener("mouseup",de)};window.addEventListener("mousemove",xe),window.addEventListener("mouseup",de)},re=R.useCallback(V=>{V.stopPropagation(),V.preventDefault();const F=c+Zn,ne=f+30;v({sourceNodeId:L,sourcePort:"output",sourceX:F,sourceY:ne,dragX:F,dragY:ne,nearbyPort:null})},[c,f,L,v]),se=R.useCallback(V=>{V.stopPropagation(),V.preventDefault(),E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-")&&(T("start",E.sourceNodeId,r),v(null))},[E,r,T,v]),ue=E?.nearbyPort?.nodeId===L&&E?.nearbyPort?.port==="output",ce=!!E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-"),Q=Object.entries(o).slice(0,3),le=Object.keys(o).length>3,A=i.inputs||[],k=i.outputs||[],H=50,ae=A.length>0||k.length>0?18:0,J=Q.length*14+(le?12:0),C=Math.max(Wy,H+ae+J+10);return R.useEffect(()=>{const V={input:{x:c,y:f+30},output:{x:c+Zn,y:f+30},branches:{}};return b(L,V),()=>N(L)},[c,f,L,b,N]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${c}, ${f})`,onClick:Y,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),children:[d.jsx("rect",{width:Zn,height:C,rx:8,style:ZE(W,X)}),d.jsx("rect",{width:4,height:C,rx:2,style:QE}),d.jsx("text",{x:16,y:24,style:KE,children:""}),d.jsx("text",{x:38,y:24,style:FE,children:r}),(A.length>0||k.length>0)&&d.jsx("g",{transform:"translate(12, 38)",children:d.jsxs("text",{x:0,y:0,style:JE,children:[A.length>0&&`In: ${A.join(", ")}`,A.length>0&&k.length>0&&" | ",k.length>0&&`Out: ${k.join(", ")}`]})}),Q.length>0&&d.jsxs("g",{transform:`translate(12, ${H+ae-4})`,children:[Q.map(([V,F],ne)=>d.jsxs("text",{x:0,y:ne*14+10,style:PE,children:["$",V," = ",aj(F)]},V)),le&&d.jsxs("text",{x:0,y:Q.length*14+10,style:ej,children:["+",Object.keys(o).length-3," more..."]})]}),ce&&d.jsx("circle",{cx:Zn,cy:30,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:se}),d.jsx("circle",{cx:Zn,cy:30,r:6,style:tj(X||ue,!!E),onMouseDown:re,onMouseUp:se}),p==="free"&&m&&d.jsx("rect",{x:4,y:0,width:Zn-8,height:40,fill:"transparent",style:nj,onMouseDown:P})]})});function aj(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?n.length>12?`"${n.slice(0,12)}..."`:`"${n}"`:typeof n=="object"?JSON.stringify(n).slice(0,15)+"...":String(n)}function rj(n,r,i,o){const c=Math.abs(i-n),f=Math.abs(o-r);if(f>c*.5&&o>r){const m=Math.min(f/2,60);return`M ${n} ${r} C ${n} ${r+m}, ${i} ${o-m}, ${i} ${o}`}else{const m=Math.min(c/2,80);return`M ${n} ${r} C ${n+m} ${r}, ${i-m} ${o}, ${i} ${o}`}}const ij={fill:"none",stroke:"transparent",strokeWidth:16,strokeLinecap:"round",pointerEvents:"stroke"};function oj(n,r){return{fill:"none",stroke:r?"#22d3ee":n,strokeWidth:6,strokeLinecap:"round",opacity:r?.3:.2,pointerEvents:"none"}}function sj(n,r,i){return{fill:"none",stroke:r?"#22D3EE":n,strokeWidth:r?3:i?1.5:2,strokeLinecap:"round",strokeDasharray:i?"6 4":"none",pointerEvents:"none",transition:"stroke-width 0.15s ease, stroke 0.15s ease",filter:r?"drop-shadow(0 0 6px rgba(34, 211, 238, 0.5))":"none"}}const cj={opacity:.6,pointerEvents:"none"},uj={fontSize:"10px",fill:"var(--color-text-muted)",textAnchor:"middle",fontWeight:500,pointerEvents:"none"},fj={cursor:"pointer",pointerEvents:"all"};function dj(){return{fill:"var(--color-accent-red)",stroke:"var(--color-surface-0)",strokeWidth:2,transition:"transform 0.15s ease, filter 0.15s ease"}}const hj={fontSize:"16px",fontWeight:"bold",fill:"white",pointerEvents:"none"},Qy=R.memo(function({fromNodeId:r,toNodeId:i,fromPort:o="output",toPort:c="input",x1:f,y1:h,x2:m,y2:g,color:p="#475569",label:y,isDotted:b,isSelected:N,onSelect:E,onDelete:v}){const w=Ce(P=>P.slotPositions);let j,_,T,X;if(f!==void 0&&h!==void 0&&m!==void 0&&g!==void 0)j=f,_=h,T=m,X=g;else{const P=w[r],re=w[i];if(!P||!re)return null;const se=o==="output"?P.output:o==="input"?P.input:P.branches[o],ue=c==="input"?re.input:re.output;if(!se||!ue)return null;j=se.x,_=se.y,T=ue.x,X=ue.y}if(!Number.isFinite(j)||!Number.isFinite(_)||!Number.isFinite(T)||!Number.isFinite(X))return null;const U=rj(j,_,T,X),L=(j+T)/2,W=(_+X)/2,$=P=>{P.stopPropagation(),E?.()},Y=P=>{P.stopPropagation(),v?.()};return d.jsxs("g",{style:{cursor:"pointer"},children:[d.jsx("path",{style:ij,d:U,onClick:$}),d.jsx("path",{style:oj(p,N??!1),d:U}),d.jsx("path",{style:sj(p,N??!1,b??!1),d:U}),!b&&!N&&d.jsx("circle",{style:cj,r:3,fill:p,children:d.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:U})}),y&&d.jsx("text",{style:uj,x:L,y:(_+X)/2-8,children:y}),N&&v&&d.jsxs("g",{style:fj,transform:`translate(${L}, ${W})`,onClick:Y,children:[d.jsx("circle",{cx:0,cy:0,r:12,style:dj()}),d.jsx("text",{x:0,y:4,textAnchor:"middle",style:hj,children:""})]})]})});function mj(){const{draggingWire:n,slotPositions:r}=Ce();if(!n)return null;const i=n.branchLabel||n.sourcePort,o=jE(n.sourceNodeId,i,r),c=o?.x??n.sourceX,f=o?.y??n.sourceY,h=n.nearbyPort?.x??n.dragX,m=n.nearbyPort?.y??n.dragY,g=n.sourcePort==="input",p=g?h:c,y=g?m:f,b=g?c:h,N=g?f:m;if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b)||!Number.isFinite(N))return null;const E=n.nearbyPort?"#22C55E":"#22D3EE";return d.jsx(Qy,{fromNodeId:n.sourceNodeId,toNodeId:"",x1:p,y1:y,x2:b,y2:N,color:E,isDotted:!n.nearbyPort})}const pj={pointerEvents:"none"},gj={fill:"#FACC15"},xj={filter:"drop-shadow(0 2px 4px rgba(250, 204, 21, 0.3))"},yj={fill:"rgba(250, 204, 21, 0.2)",stroke:"#FACC15",strokeWidth:1.5,strokeDasharray:"4 2"},bj={fontSize:"9px",fontWeight:600,fill:"#facc15"},vj={fill:"rgba(250, 204, 21, 0.3)",stroke:"#FACC15",strokeWidth:2},wj={pointerEvents:"none"},Sj={fill:"rgba(34, 197, 94, 0.25)",stroke:"#22C55E",strokeWidth:2},Nj={fill:"#4ADE80",fontSize:"12px",fontWeight:600,fontFamily:"'JetBrains Mono', monospace"},Ej={fill:"#22C55E"};function jj(){const{draggingOrphan:n}=Ce();if(!n)return null;const{fromX:r,fromY:i,toX:o,toY:c,opcode:f}=n;if(!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)||!Number.isFinite(c))return null;const h=o-r,m=c-i,g=Math.sqrt(h*h+m*m),p=f.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("g",{style:pj,children:[d.jsx("path",{d:`M ${r} ${i} L ${o} ${c}`,fill:"none",stroke:"#FACC15",strokeWidth:2,strokeDasharray:"8 4",style:{animation:"dash-flow 0.5s linear infinite"}}),d.jsx("circle",{cx:r,cy:i,r:4,style:gj}),g>30&&d.jsxs("g",{transform:`translate(${o-40}, ${c-15})`,style:xj,children:[d.jsx("rect",{width:80,height:30,rx:6,style:yj}),d.jsx("text",{x:40,y:18,textAnchor:"middle",style:bj,children:p.length>10?p.slice(0,10)+"...":p})]}),d.jsx("circle",{cx:o,cy:c,r:6,style:vj})]})}function Cj(){const{draggingVariable:n}=Ce();if(!n)return null;const{toX:r,toY:i,name:o}=n;return d.jsxs("g",{style:wj,children:[d.jsxs("g",{transform:`translate(${r-40}, ${i-14})`,children:[d.jsx("rect",{width:80,height:28,rx:14,style:Sj}),d.jsxs("text",{x:40,y:18,textAnchor:"middle",style:Nj,children:["$",o.length>8?o.slice(0,8)+"..":o]})]}),d.jsx("circle",{cx:r,cy:i,r:4,style:Ej})]})}const Ho=160,Uo=120,Jr=180,qu=80,Xu=60,Vg=40,Aj=80,_j=M("absolute bottom-4 left-6 rounded-sm border border-border-subtle overflow-hidden z-10 shadow-md cursor-pointer transition-colors hover:border-border-strong"),Oj={pointerEvents:"none"};function Bg(n){switch(n){case"control_flow":return"#FF9500";case"data":return"#4CAF50";case"io":return"#22D3EE";case"operator":return"#9C27B0";case"workflow_op":return"#E91E63";default:return"#64748B"}}function Tj({workflows:n,bounds:r,zoom:i,panX:o,panY:c,canvasWidth:f,canvasHeight:h,onNavigate:m}){const g=r.maxX-r.minX,p=r.maxY-r.minY,y=Math.min((Ho-10)/Math.max(g,100),(Uo-10)/Math.max(p,100)),b=R.useMemo(()=>{const v=(r.maxX+r.minX)/2,w=(r.maxY+r.minY)/2,j=f/i,_=h/i,T=v-o/i,X=w-c/i,U=(T-r.minX-j/2)*y+5,L=(X-r.minY-_/2)*y+5,W=j*y,$=_*y;return{x:U,y:L,width:W,height:$}},[r,i,o,c,f,h,y]),N=R.useCallback(v=>{const j=v.currentTarget.getBoundingClientRect(),_=v.clientX-j.left,T=v.clientY-j.top,X=(_-5)/y+r.minX,U=(T-5)/y+r.minY,L=(r.maxX+r.minX)/2,W=(r.maxY+r.minY)/2,$=(L-X)*i,Y=(W-U)*i;m($,Y)},[r,y,i,m]),E=R.useMemo(()=>{if(!n||n.length===0)return[];const v=[];let w=0;for(const j of n){let _=function(U,L,W){const $=qu+Math.min(Object.keys(U.inputs).length,2)*18;v.push({x:(L-r.minX)*y+5,y:(W-r.minY)*y+5,width:Jr*y,height:$*y,color:Bg(U.type)}),X=Math.max(X,W+$);let Y=L+Jr+Xu,P=W+$+Vg;for(const re of U.children){let se=L+Jr+Xu;for(const ue of re.children){const ce=qu+Math.min(Object.keys(ue.inputs).length,2)*18;v.push({x:(se-r.minX)*y+5,y:(P-r.minY)*y+5,width:Jr*y,height:ce*y,color:Bg(ue.type)}),X=Math.max(X,P+ce),se+=Jr+Xu,Y=Math.max(Y,se)}P+=qu+Vg*2}return Y},T=0,X=w;for(const U of j.children)T=_(U,T,w);w=X+Aj}return v},[n,r,y]);return!n||n.length===0||E.length===0?null:d.jsx("div",{className:z(_j()),"aria-label":"Canvas minimap navigation",children:d.jsxs("svg",{width:Ho,height:Uo,onClick:N,style:{display:"block",cursor:"pointer"},role:"img","aria-label":"Minimap showing workflow overview. Click to navigate.",children:[d.jsx("rect",{x:0,y:0,width:Ho,height:Uo,fill:"var(--color-surface-2)",rx:4}),E.map((v,w)=>d.jsx("rect",{x:v.x,y:v.y,width:Math.max(v.width,2),height:Math.max(v.height,2),fill:v.color,opacity:.7,rx:1},w)),d.jsx("rect",{x:Math.max(0,b.x),y:Math.max(0,b.y),width:Math.min(b.width,Ho),height:Math.min(b.height,Uo),fill:"rgba(59, 130, 246, 0.15)",stroke:"var(--color-accent-blue)",strokeWidth:1.5,rx:2,style:Oj})]})})}const Mj=M("absolute top-4 left-6 w-9 h-9 flex items-center justify-center bg-surface-1 border border-border-subtle rounded-sm text-text-secondary cursor-pointer z-10 shadow-md transition-colors hover:bg-surface-2 hover:border-border-strong hover:text-text-primary"),Dj=M("absolute top-4 left-6 flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm z-10 shadow-md text-text-secondary focus-within:border-accent-blue"),kj=M("bg-transparent border-none outline-none text-text-primary text-sm w-[180px] placeholder:text-text-muted"),Rj=M("text-xs text-text-muted whitespace-nowrap min-w-[60px] text-center"),zj=M("flex gap-0.5"),Hg=M("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm transition-colors hover:bg-surface-2 hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent"),Lj=M("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm ml-1 transition-colors hover:bg-surface-2 hover:text-text-primary");function Vj(){const{tree:n}=nt(),{searchQuery:r,setSearchQuery:i,searchResults:o,setSearchResults:c}=Ce(),{selectNode:f}=Kn(),[h,m]=R.useState(!1),[g,p]=R.useState(0),y=R.useRef(null);R.useEffect(()=>{if(!n||!r.trim()){c([]),p(0);return}const _=r.toLowerCase(),T=[];for(const X of n.workflows){const U=L=>{for(const W of L){const $=W.id.toLowerCase().includes(_),Y=W.opcode?.toLowerCase().includes(_),P=W.type.toLowerCase().includes(_);($||Y||P)&&T.push(W.id);for(const re of W.children)U(re.children)}};U(X.children)}c(T),p(0)},[r,n,c]),R.useEffect(()=>{const _=T=>{(T.ctrlKey||T.metaKey)&&T.key.toLowerCase()==="f"&&(T.target.closest(".monaco-editor")||(T.preventDefault(),m(!0),setTimeout(()=>y.current?.focus(),50))),T.key==="Escape"&&h&&b()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[h]);const b=R.useCallback(()=>{m(!1),i(""),c([]),p(0)},[i,c]),N=R.useCallback(_=>{i(_.target.value)},[i]),E=R.useCallback(_=>{if(o.length>0){const T=o[_];f(T),p(_)}},[o,f]),v=R.useCallback(()=>{if(o.length>0){const _=g>0?g-1:o.length-1;E(_)}},[g,o.length,E]),w=R.useCallback(()=>{if(o.length>0){const _=g<o.length-1?g+1:0;E(_)}},[g,o.length,E]),j=R.useCallback(_=>{_.key==="Enter"&&(_.shiftKey?v():w())},[v,w]);return h?d.jsxs("div",{className:z(Dj()),role:"search","aria-label":"Search nodes",children:[d.jsx(Ug,{}),d.jsx("input",{ref:y,type:"text",value:r,onChange:N,onKeyDown:j,placeholder:"Search nodes...",className:z(kj()),autoFocus:!0,"aria-label":"Search query","aria-describedby":r?"search-result-count":void 0}),r&&d.jsx("span",{id:"search-result-count",className:z(Rj()),"aria-live":"polite",children:o.length>0?`${g+1}/${o.length}`:"No results"}),d.jsxs("div",{className:z(zj()),role:"group","aria-label":"Navigate results",children:[d.jsx("button",{onClick:v,disabled:o.length===0,"aria-label":"Previous result (Shift+Enter)",className:z(Hg()),children:d.jsx(Bj,{})}),d.jsx("button",{onClick:w,disabled:o.length===0,"aria-label":"Next result (Enter)",className:z(Hg()),children:d.jsx(Hj,{})})]}),d.jsx("button",{onClick:b,className:z(Lj()),"aria-label":"Close search (Escape)",children:d.jsx(Uj,{})})]}):d.jsx("button",{className:z(Mj()),onClick:()=>{m(!0),setTimeout(()=>y.current?.focus(),50)},"aria-label":"Search nodes (Ctrl+F)",children:d.jsx(Ug,{})})}function Ug(){return d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"M21 21l-4.35-4.35"})]})}function Bj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 15l-6-6-6 6"})})}function Hj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M6 9l6 6 6-6"})})}function Uj(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}const Ft=24,Jl=28;function Yj(n,r,i,o){return{padding:Ft,labelHeight:Jl,rect:{x:n-Ft,y:r-Ft-Jl,width:i+Ft*2,height:o+Ft*2+Jl},header:{x:n-Ft,y:r-Ft-Jl,width:i+Ft*2,height:Jl+Ft},label:{x:n-Ft+12,y:r-Ft-Jl+8},dragIcon:{x:n+i+Ft-24,y:r-Ft-Jl+10}}}function Ij(n){return{fill:"transparent",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:2,strokeDasharray:"8 4",opacity:n?.4:.6}}function qj(n){return{fill:n?"rgba(59, 130, 246, 0.1)":"var(--color-surface-2)",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1}}function Xj(n){return{fontSize:"11px",fontWeight:600,fill:n?"var(--color-accent-blue)":"var(--color-text-secondary)",fontFamily:"'Inter', sans-serif"}}const Gj={cursor:"grab",pointerEvents:"all"},$j={pointerEvents:"none",color:"var(--color-text-muted)"};function Wj({name:n,x:r,y:i,width:o,height:c,isMain:f,zoom:h,onDrag:m}){const g=R.useRef(!1),p=R.useRef({x:0,y:0}),y=Ce(w=>w.setIsDraggingWorkflow),b=Yj(r,i,o,c),N=R.useCallback(w=>{if(!m)return;w.stopPropagation(),w.preventDefault(),g.current=!0,p.current={x:w.clientX,y:w.clientY},y(!0);const j=T=>{if(!g.current)return;T.preventDefault();const X=(T.clientX-p.current.x)/h,U=(T.clientY-p.current.y)/h;p.current={x:T.clientX,y:T.clientY},m(X,U)},_=()=>{g.current=!1,y(!1),window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",_)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",_)},[m,h,y]),E=f&&n!=="main"?`${n} (main)`:n,v=E.length*7+24;return d.jsxs("g",{style:{pointerEvents:"none"},"data-workflow-group":n,children:[d.jsx("rect",{x:b.rect.x,y:b.rect.y,width:b.rect.width,height:b.rect.height,rx:12,style:Ij(f??!1)}),d.jsx("rect",{x:b.header.x,y:b.header.y,width:b.header.width,height:b.header.height,fill:"transparent",style:Gj,onMouseDown:N}),d.jsxs("g",{transform:`translate(${b.label.x}, ${b.label.y})`,children:[d.jsx("rect",{x:0,y:0,width:v,height:20,rx:4,style:qj(f??!1)}),d.jsx("text",{x:12,y:14,style:Xj(f??!1),children:E})]}),d.jsxs("g",{transform:`translate(${b.dragIcon.x}, ${b.dragIcon.y})`,style:$j,children:[d.jsx("rect",{x:0,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:0,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4})]})]})}const Ky=M("min-w-[160px] py-1 bg-surface-1 border border-border-subtle rounded-md shadow-lg animate-scale-in"),Pl=M("w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm text-text-primary bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2",{variants:{variant:{default:"",danger:"text-accent-red hover:bg-accent-red/10"}},defaultVariants:{variant:"default"}}),Po=M("h-px my-1 mx-2 bg-border-subtle"),ea=M("w-4 text-center text-xs text-text-muted"),ta=M("flex-1"),Yg=M("text-xs text-text-muted");function Zj({x:n,y:r,nodeId:i,hasReporters:o,reportersExpanded:c,isOrphan:f,onExpandReporters:h,onCollapseReporters:m,onDelete:g,onDuplicate:p,onClose:y,selectedNodeIds:b,onExtractToWorkflow:N}){const E=R.useRef(null);R.useEffect(()=>{const j=T=>{E.current&&!E.current.contains(T.target)&&y()},_=T=>{T.key==="Escape"&&y()};return document.addEventListener("mousedown",j),document.addEventListener("keydown",_),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",_)}},[y]);const v=Math.min(n,window.innerWidth-180),w=Math.min(r,window.innerHeight-200);return d.jsxs("div",{ref:E,className:z(Ky()),style:{position:"fixed",left:v,top:w,zIndex:1e3},role:"menu","aria-label":"Node actions",children:[o&&d.jsxs(d.Fragment,{children:[c?d.jsxs("button",{className:z(Pl()),onClick:()=>{m(),y()},role:"menuitem",children:[d.jsx("span",{className:z(ea()),children:""}),d.jsx("span",{className:z(ta()),children:"Collapse Reporters"})]}):d.jsxs("button",{className:z(Pl()),onClick:()=>{h(),y()},role:"menuitem",children:[d.jsx("span",{className:z(ea()),children:""}),d.jsx("span",{className:z(ta()),children:"Expand Reporters"})]}),d.jsx("div",{className:z(Po()),role:"separator"})]}),d.jsxs("button",{className:z(Pl()),onClick:()=>{p(),y()},role:"menuitem",children:[d.jsx("span",{className:z(ea()),children:""}),d.jsx("span",{className:z(ta()),children:"Duplicate"}),d.jsx("span",{className:z(Yg()),children:"Ctrl+D"})]}),d.jsx("div",{className:z(Po()),role:"separator"}),d.jsxs("button",{className:z(Pl({variant:"danger"})),onClick:()=>{g(),y()},role:"menuitem",children:[d.jsx("span",{className:z(ea()),children:""}),d.jsx("span",{className:z(ta()),children:"Delete"}),d.jsx("span",{className:z(Yg()),children:"Del"})]}),b&&b.length>=2&&N&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:z(Po()),role:"separator"}),d.jsxs("button",{className:z(Pl()),onClick:()=>{N(),y()},role:"menuitem",children:[d.jsx("span",{className:z(ea()),children:""}),d.jsx("span",{className:z(ta()),children:"Extract to Workflow"})]})]})]})}function Qj({x:n,y:r,workflowName:i,onCreateWorkflow:o,onDeleteWorkflow:c,onClose:f}){const h=R.useRef(null);R.useEffect(()=>{const y=N=>{h.current&&!h.current.contains(N.target)&&f()},b=N=>{N.key==="Escape"&&f()};return document.addEventListener("mousedown",y),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",b)}},[f]);const m=Math.min(n,window.innerWidth-220),g=Math.min(r,window.innerHeight-120),p=i&&i!=="main";return d.jsxs("div",{ref:h,className:z(Ky()),style:{position:"fixed",left:m,top:g,zIndex:1e3},role:"menu","aria-label":"Canvas actions",children:[d.jsxs("button",{className:z(Pl()),onClick:()=>{o(),f()},role:"menuitem",children:[d.jsx("span",{className:z(ea()),children:"+"}),d.jsx("span",{className:z(ta()),children:"Create New Workflow"})]}),p&&c&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:z(Po()),role:"separator"}),d.jsxs("button",{className:z(Pl({variant:"danger"})),onClick:()=>{c(i),f()},role:"menuitem",children:[d.jsx("span",{className:z(ea()),children:""}),d.jsxs("span",{className:z(ta()),children:['Delete "',i,'"']})]})]})]})}const ui=Yy.WIDTH,jn=Yy.HEIGHT,Yo=Rf.HORIZONTAL,ei=Rf.VERTICAL,Fy=Rf.WORKFLOW,Kj=40;function Fj(n,r){const o=n.inputs||[],c=n.outputs||[],f=o.length>0||c.length>0?18:0,h=Object.entries(r).slice(0,3),m=Object.keys(r).length>3,g=h.length*14+(m?12:0);return Math.max(Wy,50+f+g+10)}const ff=12,df=8,Jy=16,Jj=28;function Py(n,r){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const i=n.id||"";if(!(r[i]??!1))return{width:ui,height:jn};const c=[];let f=0;if(n.inputs)for(const g of Object.values(n.inputs))g.type==="reporter"&&g.opcode?c.push(g):f++;let h=ui,m=jn;if(c.length>0){let g=0,p=0;for(const y of c){const b=Py(y,r);g+=Jy+b.height+df,p=Math.max(p,b.width)}h=Math.max(h,p+ff*2),m=jn+g}return f>0&&(m+=f*Jj+df),(c.length>0||f>0)&&(m+=ff),{width:h,height:m}}function Pj(n,r){let i=0,o=ui;for(const c of Object.values(n))if(c.type==="reporter"&&c.opcode){const f=Py(c,r);i+=Jy+f.height+df,o=Math.max(o,f.width)}return{width:o,height:i}}function Gu(n,r,i,o){const c=o[n]??!1,f=ON(),m=i&&f.has(i)?20:0;if(!c)return{width:ui,height:jn+m};const g=Pj(r,o),p=g.width+ff*2,y=g.height;return{width:Math.max(ui,p),height:jn+y+m}}function Ig(n){return Ly(n)}function qg(n,r,i={},o={}){const c=[],f=[],h=[],m=[];let g=0;const p={};for(const y of n){p[y.name]={x:0,y:g};const b=Math.max(y.children.length*(jn+ei),jn+100);g+=b+Fy}for(const y of n){const b=p[y.name],N=r[y.name]||{x:0,y:0},E={x:b.x+N.x,y:b.y+N.y},{nodes:v,connections:w,bounds:j,startNode:_}=eC(y,E.x,E.y,i,o);c.push(...v),f.push(...w),_&&m.push(_),h.push({name:y.name,x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY,isMain:y.name==="main"})}return{nodes:c,connections:f,groups:h,startNodes:m}}function eC(n,r,i,o={},c={}){const f=[],h=[],m=new Map,g=r,p=i,y={workflowName:n.name,workflowInterface:n.interface,variables:n.variables,x:g,y:p},b=r+Zn+Kj;let N=1/0,E=1/0,v=-1/0,w=-1/0;function j(Y,P,re,se){N=Math.min(N,Y),E=Math.min(E,P),v=Math.max(v,Y+re),w=Math.max(w,P+se)}function _(Y,P,re,se=!1){const ue=Gu(Y.id,Y.inputs,Y.opcode,c);f.push({node:Y,x:P,y:re,width:ue.width,height:ue.height,isOrphan:se}),m.set(Y.id,{x:P,y:re,width:ue.width,height:ue.height}),j(P,re,ue.width,ue.height);let ce=P+ue.width+Yo;if(Y.children.length>0){let Q=re+ue.height+ei;const le=Y.children.length;for(let A=0;A<le;A++){const k=Y.children[A],H=Ig(k.name);let ae=P+ue.width+Yo,J=Y.id,C=!0;for(const V of k.children){const F=Gu(V.id,V.inputs,V.opcode,c);f.push({node:V,x:ae,y:Q,width:F.width,height:F.height}),m.set(V.id,{x:ae,y:Q,width:F.width,height:F.height}),j(ae,Q,F.width,F.height),h.push({from:J,to:V.id,fromPort:C?k.name:"output",toPort:"input",color:H,label:C?k.name:void 0}),J=V.id,C=!1,ae+=F.width+Yo,V.children.length>0&&(ae=Math.max(ae,T(V,ae,Q)))}ce=Math.max(ce,ae),Q+=jn+ei*2}}return ce}function T(Y,P,re){let se=P;const ce=m.get(Y.id)?.height||jn;let Q=re+ce+ei;const le=Y.children.length;for(let A=0;A<le;A++){const k=Y.children[A],H=Ig(k.name);let ae=P,J=Y.id,C=!0;for(const V of k.children){const F=Gu(V.id,V.inputs,V.opcode,c);f.push({node:V,x:ae,y:Q,width:F.width,height:F.height}),m.set(V.id,{x:ae,y:Q,width:F.width,height:F.height}),j(ae,Q,F.width,F.height),h.push({from:J,to:V.id,fromPort:C?k.name:"output",toPort:"input",color:H,label:C?k.name:void 0}),J=V.id,C=!1,ae+=F.width+Yo}se=Math.max(se,ae),Q+=jn+ei}return se}const X=Fj(n.interface,n.variables);j(g,p,Zn,X);let U=b,L=null,W=!0;for(const Y of n.children){const re=_(Y,U,i);W&&(h.push({from:`start-${n.name}`,to:Y.id,fromPort:"output",toPort:"input",color:"#22C55E"}),W=!1),L&&h.push({from:L.id,to:Y.id,fromPort:"output",toPort:"input",color:"#475569"}),L=Y,U=re}n.children.length===0&&(N=Math.min(N,g),E=Math.min(E,p),v=Math.max(v,g+Zn+20),w=Math.max(w,p+X));const $=n.orphans||[];if($.length>0){const Y=w+Fy;let P=g;for(const re of $)P=_(re,P,Y,!0);for(const re of $)re.next&&h.push({from:re.id,to:re.next,fromPort:"output",toPort:"input",color:"#6B7280"})}for(const Y of f){const P=o[Y.node.id];P&&(Y.x+=P.x,Y.y+=P.y,j(Y.x,Y.y,Y.width,Y.height))}return{nodes:f,connections:h,bounds:{minX:N,minY:E,maxX:v,maxY:w},startNode:y}}function e0(n,r,i){const f=[...n].sort((h,m)=>m.y-h.y);for(const h of f)if(r>=h.x-16&&r<=h.x+h.width+16&&i>=h.y-28-16&&i<=h.y+h.height+16)return h.name;return null}const tC=M("flex-1 relative overflow-hidden"),nC=M("w-full h-full block"),lC=M("absolute bottom-4 right-4 flex items-center gap-1 bg-surface-1 p-1 rounded-sm border border-border-subtle z-10 shadow-md"),$u=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm hover:bg-surface-2 hover:text-text-primary"),aC=M("w-px h-5 bg-border-subtle mx-1"),rC=M("min-w-10 text-center text-xs text-text-muted"),Xg=M("h-7 px-2.5 flex items-center justify-center gap-1.5 bg-transparent border-none text-text-secondary cursor-pointer rounded-sm text-xs font-medium transition-colors hover:bg-surface-2 hover:text-text-primary",{variants:{active:{true:"bg-surface-3 text-text-primary",false:""}},defaultVariants:{active:!1}}),iC=M("absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-3 px-5 py-3 bg-accent-red/15 border border-accent-red rounded-sm text-accent-red z-10 max-w-[80%]"),oC=M("text-lg"),sC=M("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-text-muted pointer-events-none"),cC=M("text-lg mb-2 text-text-secondary"),uC=M("text-sm");function Gg(n){return n.startsWith("start-")?"start":n}function fC(n){if(n.startsWith("start-"))return n.slice(6)}function dC(){const{zoom:n,panX:r,panY:i,setZoom:o,setPan:c,resetView:f,workflowPositions:h,setWorkflowPosition:m,nodePositions:g,setNodePosition:p,layoutMode:y,setLayoutMode:b,setLayoutGroups:N,setCanvasCenter:E,contextMenu:v,hideContextMenu:w,setReportersExpanded:j,expandedReporters:_,canvasContextMenu:T,showCanvasContextMenu:X,hideCanvasContextMenu:U,showCreateWorkflowModal:L,showConfirmDialog:W,showExtractWorkflowModal:$}=Ce(),{tree:Y,parseError:P,source:re,disconnectConnection:se,deleteNode:ue,duplicateNode:ce,deleteWorkflow:Q}=nt(),{selectedConnection:le,selectConnection:A,selectedNodeIds:k,clearMultiSelection:H}=Kn(),ae=R.useRef(null),[J,C]=R.useState({width:800,height:600});R.useEffect(()=>{const ie=()=>{ae.current&&C({width:ae.current.clientWidth,height:ae.current.clientHeight})};return ie(),window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]);const{nodes:V,connections:F,groups:ne,startNodes:ye}=Y?qg(Y.workflows,h,g,_):{nodes:[],connections:[],groups:[],startNodes:[]},xe=24,de=28,oe=ne.length>0?ne.reduce((ie,Ae)=>({minX:Math.min(ie.minX,Ae.x-xe),minY:Math.min(ie.minY,Ae.y-xe-de),maxX:Math.max(ie.maxX,Ae.x+Ae.width+xe),maxY:Math.max(ie.maxY,Ae.y+Ae.height+xe)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}):{minX:0,minY:0,maxX:800,maxY:600},{centerX:fe,centerY:Re}=R.useMemo(()=>{if(!Y)return{centerX:400,centerY:300};const Ae=qg(Y.workflows,{}).groups.reduce((Ze,We)=>({minX:Math.min(Ze.minX,We.x-xe),minY:Math.min(Ze.minY,We.y-xe-de),maxX:Math.max(Ze.maxX,We.x+We.width+xe),maxY:Math.max(Ze.maxY,We.y+We.height+xe)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return{centerX:(Ae.maxX+Ae.minX)/2,centerY:(Ae.maxY+Ae.minY)/2}},[Y]),Le=JSON.stringify(ne);R.useEffect(()=>{N(ne)},[Le,N]),R.useEffect(()=>{E(fe,Re)},[fe,Re,E]),R.useEffect(()=>{const ie=Ae=>{const We=Ae.detail.workflowName,ft=ne.find(Ne=>Ne.name===We);if(!ft)return;const Pe=J.width/2,An=J.height/2,hn=ft.x+ft.width/2,Pn=ft.y+ft.height/2,el=Pe-hn*n-(J.width/2-fe*n),nr=An-Pn*n-(J.height/2-Re*n);c(el,nr)};return window.addEventListener("lexflow:goto-workflow",ie),()=>window.removeEventListener("lexflow:goto-workflow",ie)},[ne,n,c,J,fe,Re]);const{handleWheel:Ue,handleMouseDown:Jn,handleMouseMove:Dt,handleMouseUp:Fe,isDragging:ze}=AE({svgRef:ae,centerX:fe,centerY:Re}),en=R.useCallback(ie=>{const Ae=ie.target,Ze=Ae.tagName==="svg"||Ae.tagName==="rect"&&Ae.getAttribute("fill")==="transparent",We=Ae.closest("[data-workflow-group]")!==null;if(Ze||We)if(ie.preventDefault(),ae.current){const ft=ae.current.getBoundingClientRect(),Pe=(ie.clientX-ft.left-r-ft.width/2)/n+fe,An=(ie.clientY-ft.top-i-ft.height/2)/n+Re,hn=e0(ne,Pe,An);X(ie.clientX,ie.clientY,hn||void 0)}else X(ie.clientX,ie.clientY)},[X,ae,r,i,n,fe,Re,ne]),Cn=R.useCallback((ie,Ae)=>{c(ie,Ae)},[c]);return d.jsxs("div",{className:z(tC()),"data-canvas-container":!0,children:[d.jsx(Vj,{}),d.jsxs("div",{className:z(lC()),role:"toolbar","aria-label":"Canvas controls",children:[d.jsx("button",{className:z($u()),onClick:()=>o(n-.1),"aria-label":"Zoom out",children:d.jsx(Hw,{})}),d.jsxs("span",{className:z(rC()),"aria-live":"polite",children:[Math.round(n*100),"%"]}),d.jsx("button",{className:z($u()),onClick:()=>o(n+.1),"aria-label":"Zoom in",children:d.jsx(Bw,{})}),d.jsx("button",{className:z($u()),onClick:f,"aria-label":"Fit to view",children:d.jsx(Uw,{})}),d.jsx("div",{className:z(aC())}),d.jsxs("button",{className:z(Xg({active:y==="auto"})),onClick:()=>b("auto"),"aria-label":"Auto layout","aria-pressed":y==="auto",children:[d.jsx(Yw,{}),"Auto"]}),d.jsx("button",{className:z(Xg({active:y==="free"})),onClick:()=>b("free"),"aria-label":"Free layout","aria-pressed":y==="free",children:"Free"})]}),Y&&d.jsx(Tj,{workflows:Y.workflows,bounds:oe,zoom:n,panX:r,panY:i,canvasWidth:J.width,canvasHeight:J.height,onNavigate:Cn}),P&&d.jsxs("div",{className:z(iC()),children:[d.jsx("span",{className:z(oC()),children:""}),d.jsx("span",{children:P})]}),d.jsxs("svg",{ref:ae,className:z(nC()),onWheel:Ue,onMouseDown:Jn,onMouseMove:Dt,onMouseUp:Fe,onMouseLeave:Fe,onContextMenu:en,style:{cursor:ze?"grabbing":"grab"},role:"application","aria-label":"Workflow canvas. Use mouse to pan and scroll to zoom.",children:[d.jsx("rect",{width:"100%",height:"100%",fill:"transparent",style:{cursor:"inherit"}}),d.jsxs("g",{transform:`translate(${r+(ae.current?.clientWidth||800)/2-fe*n}, ${i+(ae.current?.clientHeight||600)/2-Re*n}) scale(${n})`,children:[ne.map(ie=>d.jsx(Wj,{name:ie.name,x:ie.x,y:ie.y,width:ie.width,height:ie.height,isMain:ie.isMain,zoom:n,onDrag:(Ae,Ze)=>{const We=Ce.getState().workflowPositions[ie.name]||{x:0,y:0};m(ie.name,We.x+Ae,We.y+Ze)}},ie.name)),F.map((ie,Ae)=>d.jsx(Qy,{fromNodeId:ie.from,toNodeId:ie.to,fromPort:ie.fromPort,toPort:ie.toPort,color:ie.color,label:ie.label,isSelected:le?.fromNodeId===ie.from&&le?.toNodeId===ie.to,onSelect:()=>A({fromNodeId:ie.from,toNodeId:ie.to,label:ie.label}),onDelete:()=>{const Ze=fC(ie.from);se(Gg(ie.from),Gg(ie.to),ie.label,Ze),A(null)}},`${ie.from}-${ie.to}-${Ae}`)),ye.map(ie=>d.jsx(lj,{workflowName:ie.workflowName,workflowInterface:ie.workflowInterface,variables:ie.variables,x:ie.x,y:ie.y,zoom:n,onDrag:y==="free"?(Ae,Ze)=>{const We=h[ie.workflowName]||{x:0,y:0};m(ie.workflowName,We.x+Ae,We.y+Ze)}:void 0},`start-${ie.workflowName}`)),V.map(ie=>d.jsx($E,{node:ie.node,x:ie.x,y:ie.y,isOrphan:ie.isOrphan,zoom:n,onDrag:y==="free"?(Ae,Ze)=>{const We=g[ie.node.id]||{x:0,y:0};p(ie.node.id,We.x+Ae,We.y+Ze)}:void 0},ie.node.id)),d.jsx(mj,{}),d.jsx(jj,{}),d.jsx(Cj,{})]})]}),!P&&!Y&&d.jsxs("div",{className:z(sC()),children:[d.jsx("h2",{className:z(cC()),children:"No Workflow"}),d.jsx("p",{className:z(uC()),children:"Edit YAML in the editor or load an example"})]}),v&&d.jsx(Zj,{x:v.x,y:v.y,nodeId:v.nodeId,hasReporters:v.hasReporters,reportersExpanded:v.reportersExpanded,isOrphan:v.isOrphan,onExpandReporters:()=>j(v.nodeId,!0),onCollapseReporters:()=>j(v.nodeId,!1),onDelete:()=>{ue(v.nodeId),H()},onDuplicate:()=>ce(v.nodeId),onClose:w,selectedNodeIds:k,onExtractToWorkflow:()=>{const ie=k.length>0?k:[v.nodeId];if(ie.length<2)return;let Ae="main";if(Y)for(const ft of Y.workflows){const Pe=An=>An.some(hn=>ie.includes(hn.id)||hn.children.some(Pn=>Pe(Pn.children)));if(Pe(ft.children)||ft.orphans&&Pe(ft.orphans)){Ae=ft.name;break}}const Ze=vx(re,ie,Ae);if(!Ze.isValid){W({title:"Cannot Extract",message:Ze.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}});return}const We=C1(re,ie);$(Ze.orderedNodeIds,Ae,We.suggestedInputs,We.suggestedOutputs)}}),T&&d.jsx(Qj,{x:T.x,y:T.y,workflowName:T.workflowName,onCreateWorkflow:L,onDeleteWorkflow:ie=>{W({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${ie}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>Q(ie)})},onClose:U})]})}const hC="modulepreload",mC=function(n){return"/static/"+n},$g={},pC=function(r,i,o){let c=Promise.resolve();if(i&&i.length>0){let g=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");c=g(i.map(p=>{if(p=mC(p),p in $g)return;$g[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const N=document.createElement("link");if(N.rel=y?"stylesheet":hC,y||(N.as="script"),N.crossOrigin="",N.href=p,m&&N.setAttribute("nonce",m),document.head.appendChild(N),y)return new Promise((E,v)=>{N.addEventListener("load",E),N.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return c.then(h=>{for(const m of h||[])m.status==="rejected"&&f(m.reason);return r().catch(f)})};function Wg(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,o=Array(r);i<r;i++)o[i]=n[i];return o}function gC(n){if(Array.isArray(n))return n}function xC(n,r,i){return(r=EC(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function yC(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,f,h,m=[],g=!0,p=!1;try{if(f=(i=i.call(n)).next,r!==0)for(;!(g=(o=f.call(i)).done)&&(m.push(o.value),m.length!==r);g=!0);}catch(y){p=!0,c=y}finally{try{if(!g&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(p)throw c}}return m}}function bC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zg(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function Qg(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Zg(Object(i),!0).forEach(function(o){xC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Zg(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function vC(n,r){if(n==null)return{};var i,o,c=wC(n,r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);for(o=0;o<f.length;o++)i=f[o],r.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(c[i]=n[i])}return c}function wC(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}function SC(n,r){return gC(n)||yC(n,r)||jC(n,r)||bC()}function NC(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function EC(n){var r=NC(n,"string");return typeof r=="symbol"?r:r+""}function jC(n,r){if(n){if(typeof n=="string")return Wg(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Wg(n,r):void 0}}function CC(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function Kg(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function Fg(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Kg(Object(i),!0).forEach(function(o){CC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Kg(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function AC(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(o){return r.reduceRight(function(c,f){return f(c)},o)}}function ti(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function hs(n){return{}.toString.call(n).includes("Object")}function _C(n){return!Object.keys(n).length}function fi(n){return typeof n=="function"}function OC(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function TC(n,r){return hs(r)||Tl("changeType"),Object.keys(r).some(function(i){return!OC(n,i)})&&Tl("changeField"),r}function MC(n){fi(n)||Tl("selectorType")}function DC(n){fi(n)||hs(n)||Tl("handlerType"),hs(n)&&Object.values(n).some(function(r){return!fi(r)})&&Tl("handlersType")}function kC(n){n||Tl("initialIsRequired"),hs(n)||Tl("initialType"),_C(n)&&Tl("initialContent")}function RC(n,r){throw new Error(n[r]||n.default)}var zC={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Tl=ti(RC)(zC),Io={changes:TC,selector:MC,handler:DC,initial:kC};function LC(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Io.initial(n),Io.handler(r);var i={current:n},o=ti(HC)(i,r),c=ti(BC)(i),f=ti(Io.changes)(n),h=ti(VC)(i);function m(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return Io.selector(p),p(i.current)}function g(p){AC(o,c,f,h)(p)}return[m,g]}function VC(n,r){return fi(r)?r(n.current):r}function BC(n,r){return n.current=Fg(Fg({},n.current),r),r}function HC(n,r,i){return fi(r)?r(n.current):Object.keys(i).forEach(function(o){var c;return(c=r[o])===null||c===void 0?void 0:c.call(r,n.current[o])}),i}var UC={create:LC},YC={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function IC(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function qC(n){return{}.toString.call(n).includes("Object")}function XC(n){return n||Jg("configIsRequired"),qC(n)||Jg("configType"),n.urls?(GC(),{paths:{vs:n.urls.monacoBase}}):n}function GC(){console.warn(t0.deprecation)}function $C(n,r){throw new Error(n[r]||n.default)}var t0={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Jg=IC($C)(t0),WC={config:XC},ZC=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(c){return i.reduceRight(function(f,h){return h(f)},c)}};function n0(n,r){return Object.keys(r).forEach(function(i){r[i]instanceof Object&&n[i]&&Object.assign(r[i],n0(n[i],r[i]))}),Qg(Qg({},n),r)}var QC={type:"cancelation",msg:"operation is manually canceled"};function Wu(n){var r=!1,i=new Promise(function(o,c){n.then(function(f){return r?c(QC):o(f)}),n.catch(c)});return i.cancel=function(){return r=!0},i}var KC=["monaco"],FC=UC.create({config:YC,isInitialized:!1,resolve:null,reject:null,monaco:null}),l0=SC(FC,2),xi=l0[0],xs=l0[1];function JC(n){var r=WC.config(n),i=r.monaco,o=vC(r,KC);xs(function(c){return{config:n0(c.config,o),monaco:i}})}function PC(){var n=xi(function(r){var i=r.monaco,o=r.isInitialized,c=r.resolve;return{monaco:i,isInitialized:o,resolve:c}});if(!n.isInitialized){if(xs({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),Wu(Zu);if(window.monaco&&window.monaco.editor)return a0(window.monaco),n.resolve(window.monaco),Wu(Zu);ZC(eA,nA)(lA)}return Wu(Zu)}function eA(n){return document.body.appendChild(n)}function tA(n){var r=document.createElement("script");return n&&(r.src=n),r}function nA(n){var r=xi(function(o){var c=o.config,f=o.reject;return{config:c,reject:f}}),i=tA("".concat(r.config.paths.vs,"/loader.js"));return i.onload=function(){return n()},i.onerror=r.reject,i}function lA(){var n=xi(function(i){var o=i.config,c=i.resolve,f=i.reject;return{config:o,resolve:c,reject:f}}),r=window.require;r.config(n.config),r(["vs/editor/editor.main"],function(i){var o=i.m||i;a0(o),n.resolve(o)},function(i){n.reject(i)})}function a0(n){xi().monaco||xs({monaco:n})}function aA(){return xi(function(n){var r=n.monaco;return r})}var Zu=new Promise(function(n,r){return xs({resolve:n,reject:r})}),r0={config:JC,init:PC,__getMonacoInstance:aA},rA={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Qu=rA,iA={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},oA=iA;function sA({children:n}){return Sn.createElement("div",{style:oA.container},n)}var cA=sA,uA=cA;function fA({width:n,height:r,isEditorReady:i,loading:o,_ref:c,className:f,wrapperProps:h}){return Sn.createElement("section",{style:{...Qu.wrapper,width:n,height:r},...h},!i&&Sn.createElement(uA,null,o),Sn.createElement("div",{ref:c,style:{...Qu.fullWidth,...!i&&Qu.hide},className:f}))}var dA=fA,i0=R.memo(dA);function hA(n){R.useEffect(n,[])}var o0=hA;function mA(n,r,i=!0){let o=R.useRef(!0);R.useEffect(o.current||!i?()=>{o.current=!1}:n,r)}var Jt=mA;function li(){}function $a(n,r,i,o){return pA(n,o)||gA(n,r,i,o)}function pA(n,r){return n.editor.getModel(s0(n,r))}function gA(n,r,i,o){return n.editor.createModel(r,i,o?s0(n,o):void 0)}function s0(n,r){return n.Uri.parse(r)}function xA({original:n,modified:r,language:i,originalLanguage:o,modifiedLanguage:c,originalModelPath:f,modifiedModelPath:h,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:g=!1,theme:p="light",loading:y="Loading...",options:b={},height:N="100%",width:E="100%",className:v,wrapperProps:w={},beforeMount:j=li,onMount:_=li}){let[T,X]=R.useState(!1),[U,L]=R.useState(!0),W=R.useRef(null),$=R.useRef(null),Y=R.useRef(null),P=R.useRef(_),re=R.useRef(j),se=R.useRef(!1);o0(()=>{let le=r0.init();return le.then(A=>($.current=A)&&L(!1)).catch(A=>A?.type!=="cancelation"&&console.error("Monaco initialization: error:",A)),()=>W.current?Q():le.cancel()}),Jt(()=>{if(W.current&&$.current){let le=W.current.getOriginalEditor(),A=$a($.current,n||"",o||i||"text",f||"");A!==le.getModel()&&le.setModel(A)}},[f],T),Jt(()=>{if(W.current&&$.current){let le=W.current.getModifiedEditor(),A=$a($.current,r||"",c||i||"text",h||"");A!==le.getModel()&&le.setModel(A)}},[h],T),Jt(()=>{let le=W.current.getModifiedEditor();le.getOption($.current.editor.EditorOption.readOnly)?le.setValue(r||""):r!==le.getValue()&&(le.executeEdits("",[{range:le.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),le.pushUndoStop())},[r],T),Jt(()=>{W.current?.getModel()?.original.setValue(n||"")},[n],T),Jt(()=>{let{original:le,modified:A}=W.current.getModel();$.current.editor.setModelLanguage(le,o||i||"text"),$.current.editor.setModelLanguage(A,c||i||"text")},[i,o,c],T),Jt(()=>{$.current?.editor.setTheme(p)},[p],T),Jt(()=>{W.current?.updateOptions(b)},[b],T);let ue=R.useCallback(()=>{if(!$.current)return;re.current($.current);let le=$a($.current,n||"",o||i||"text",f||""),A=$a($.current,r||"",c||i||"text",h||"");W.current?.setModel({original:le,modified:A})},[i,r,c,n,o,f,h]),ce=R.useCallback(()=>{!se.current&&Y.current&&(W.current=$.current.editor.createDiffEditor(Y.current,{automaticLayout:!0,...b}),ue(),$.current?.editor.setTheme(p),X(!0),se.current=!0)},[b,p,ue]);R.useEffect(()=>{T&&P.current(W.current,$.current)},[T]),R.useEffect(()=>{!U&&!T&&ce()},[U,T,ce]);function Q(){let le=W.current?.getModel();m||le?.original?.dispose(),g||le?.modified?.dispose(),W.current?.dispose()}return Sn.createElement(i0,{width:E,height:N,isEditorReady:T,loading:y,_ref:Y,className:v,wrapperProps:w})}var yA=xA;R.memo(yA);function bA(n){let r=R.useRef();return R.useEffect(()=>{r.current=n},[n]),r.current}var vA=bA,qo=new Map;function wA({defaultValue:n,defaultLanguage:r,defaultPath:i,value:o,language:c,path:f,theme:h="light",line:m,loading:g="Loading...",options:p={},overrideServices:y={},saveViewState:b=!0,keepCurrentModel:N=!1,width:E="100%",height:v="100%",className:w,wrapperProps:j={},beforeMount:_=li,onMount:T=li,onChange:X,onValidate:U=li}){let[L,W]=R.useState(!1),[$,Y]=R.useState(!0),P=R.useRef(null),re=R.useRef(null),se=R.useRef(null),ue=R.useRef(T),ce=R.useRef(_),Q=R.useRef(),le=R.useRef(o),A=vA(f),k=R.useRef(!1),H=R.useRef(!1);o0(()=>{let C=r0.init();return C.then(V=>(P.current=V)&&Y(!1)).catch(V=>V?.type!=="cancelation"&&console.error("Monaco initialization: error:",V)),()=>re.current?J():C.cancel()}),Jt(()=>{let C=$a(P.current,n||o||"",r||c||"",f||i||"");C!==re.current?.getModel()&&(b&&qo.set(A,re.current?.saveViewState()),re.current?.setModel(C),b&&re.current?.restoreViewState(qo.get(f)))},[f],L),Jt(()=>{re.current?.updateOptions(p)},[p],L),Jt(()=>{!re.current||o===void 0||(re.current.getOption(P.current.editor.EditorOption.readOnly)?re.current.setValue(o):o!==re.current.getValue()&&(H.current=!0,re.current.executeEdits("",[{range:re.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),re.current.pushUndoStop(),H.current=!1))},[o],L),Jt(()=>{let C=re.current?.getModel();C&&c&&P.current?.editor.setModelLanguage(C,c)},[c],L),Jt(()=>{m!==void 0&&re.current?.revealLine(m)},[m],L),Jt(()=>{P.current?.editor.setTheme(h)},[h],L);let ae=R.useCallback(()=>{if(!(!se.current||!P.current)&&!k.current){ce.current(P.current);let C=f||i,V=$a(P.current,o||n||"",r||c||"",C||"");re.current=P.current?.editor.create(se.current,{model:V,automaticLayout:!0,...p},y),b&&re.current.restoreViewState(qo.get(C)),P.current.editor.setTheme(h),m!==void 0&&re.current.revealLine(m),W(!0),k.current=!0}},[n,r,i,o,c,f,p,y,b,h,m]);R.useEffect(()=>{L&&ue.current(re.current,P.current)},[L]),R.useEffect(()=>{!$&&!L&&ae()},[$,L,ae]),le.current=o,R.useEffect(()=>{L&&X&&(Q.current?.dispose(),Q.current=re.current?.onDidChangeModelContent(C=>{H.current||X(re.current.getValue(),C)}))},[L,X]),R.useEffect(()=>{if(L){let C=P.current.editor.onDidChangeMarkers(V=>{let F=re.current.getModel()?.uri;if(F&&V.find(ne=>ne.path===F.path)){let ne=P.current.editor.getModelMarkers({resource:F});U?.(ne)}});return()=>{C?.dispose()}}return()=>{}},[L,U]);function J(){Q.current?.dispose(),N?b&&qo.set(f,re.current.saveViewState()):re.current.getModel()?.dispose(),re.current.dispose()}return Sn.createElement(i0,{width:E,height:v,isEditorReady:L,loading:g,_ref:se,className:w,wrapperProps:j})}var SA=wA,NA=R.memo(SA),EA=NA;const c0=M("flex flex-col h-full"),u0=M("flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-surface-2"),f0=M("text-sm font-medium text-text-secondary"),jA=M("text-xs text-accent-blue animate-pulse"),d0=M("flex-1 overflow-hidden"),CA=R.lazy(()=>pC(()=>import("./LiteEditor-_qwz72S9.js"),[]).then(n=>({default:n.LiteEditor})));function AA(){return d.jsxs("div",{className:z(c0()),children:[d.jsx("div",{className:u0(),children:d.jsx("span",{className:f0(),children:"Editor"})}),d.jsx("div",{className:z(d0(),"flex items-center justify-center"),children:d.jsx("span",{className:"text-text-muted text-sm",children:"Loading editor..."})})]})}function _A({className:n,lite:r=!1}){const{source:i,setSource:o,isParsing:c}=nt(),{theme:f}=Gx();if(r)return d.jsx(R.Suspense,{fallback:d.jsx(AA,{}),children:d.jsx(CA,{className:n,value:i,onChange:o,isParsing:c})});const h=R.useRef(null),m=R.useRef(null);R.useEffect(()=>{const p=y=>{const b=h.current;if(b){const N=y.detail.line;b.revealLineInCenter(N),b.setPosition({lineNumber:N,column:1}),b.focus(),b.deltaDecorations([],[{range:{startLineNumber:N,startColumn:1,endLineNumber:N,endColumn:1},options:{isWholeLine:!0,className:"highlighted-line",glyphMarginClassName:"highlighted-glyph"}}])}};return window.addEventListener("lexflow:goto-line",p),()=>{window.removeEventListener("lexflow:goto-line",p)}},[]),R.useEffect(()=>{if(m.current&&h.current){const p=m.current,y=f==="light"?"lexflow-light":"lexflow-dark";p.editor.setTheme(y)}},[f]);const g=(p,y)=>{h.current=p,m.current=y,y.editor.defineTheme("lexflow-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1e1e1e","editor.lineHighlightBackground":"#2d2d2d"}}),y.editor.defineTheme("lexflow-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#fafafa","editor.lineHighlightBackground":"#f0f0f0"}});const b=f==="light"?"lexflow-light":"lexflow-dark";y.editor.setTheme(b)};return d.jsxs("div",{className:z(c0(),n),children:[d.jsxs("div",{className:u0(),children:[d.jsx("span",{className:f0(),children:"Editor"}),c&&d.jsx("span",{className:jA(),children:"Parsing..."})]}),d.jsx("div",{className:d0(),children:d.jsx(EA,{height:"100%",language:"yaml",theme:f==="light"?"lexflow-light":"lexflow-dark",value:i,onChange:p=>o(p||""),onMount:g,options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0}})})]})}const OA=M("absolute inset-0 flex items-center justify-center bg-black/60 z-[100] backdrop-blur-sm"),TA=M("bg-surface-1 border border-border-default rounded-sm p-6 min-w-[300px] max-w-[400px] shadow-xl"),Ku=M("block text-sm text-text-primary mb-4 leading-relaxed"),MA=M("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 transition-colors focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue/20"),DA=M("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 cursor-pointer transition-colors focus:outline-none focus:border-accent-blue"),Fu=M("flex gap-3 justify-end"),Ju=M("px-5 py-2.5 bg-accent-blue border-none rounded-sm text-surface-0 font-medium text-sm cursor-pointer transition-all hover:brightness-110 focus:outline-none focus:ring-1 focus:ring-accent-blue/30"),kA=M("px-5 py-2.5 bg-transparent border border-border-default rounded-sm text-text-secondary font-medium text-sm cursor-pointer transition-colors hover:bg-surface-2 hover:text-text-primary"),RA=M("flex justify-center"),zA=M("px-8 py-3 bg-accent-blue border-none rounded-sm text-white font-semibold text-base cursor-pointer transition-all shadow-lg hover:brightness-110 hover:-translate-y-px focus:outline-none focus:ring-1 focus:ring-accent-blue/30");function LA({prompt:n,onSubmit:r}){const[i,o]=R.useState(""),[c,f]=R.useState(n.options?.[0]||""),h=R.useRef(null);R.useEffect(()=>{n.type==="input"&&h.current&&h.current.focus()},[n.type]),R.useEffect(()=>{o(""),n.options?.length&&f(n.options[0])},[n]);const m=b=>{b.preventDefault(),r(i)},g=b=>{b.preventDefault(),r(c)},p=b=>{r(b)},y=b=>{b.key==="Escape"&&n.type==="confirm"&&r(!1)};return d.jsx("div",{className:z(OA()),onKeyDown:y,role:"presentation",children:d.jsxs("div",{className:z(TA()),role:"dialog","aria-modal":"true","aria-labelledby":"prompt-label",children:[n.type==="input"&&d.jsxs("form",{onSubmit:m,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-input",className:z(Ku()),children:n.prompt||"Enter a value:"}),d.jsx("input",{ref:h,id:"prompt-input",type:"text",value:i,onChange:b=>o(b.target.value),className:z(MA()),placeholder:"Type here..."}),d.jsx("div",{className:z(Fu()),children:d.jsx("button",{type:"submit",className:z(Ju()),children:"Submit"})})]}),n.type==="select"&&d.jsxs("form",{onSubmit:g,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-select",className:z(Ku()),children:n.prompt||"Select an option:"}),d.jsx("select",{id:"prompt-select",value:c,onChange:b=>f(b.target.value),className:z(DA()),children:n.options?.map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx("div",{className:z(Fu()),children:d.jsx("button",{type:"submit",className:z(Ju()),children:"Select"})})]}),n.type==="confirm"&&d.jsxs("div",{children:[d.jsx("p",{id:"prompt-label",className:z(Ku()),children:n.message||n.prompt||"Are you sure?"}),d.jsxs("div",{className:z(Fu()),children:[d.jsx("button",{className:z(kA()),onClick:()=>p(!1),children:"No"}),d.jsx("button",{className:z(Ju()),onClick:()=>p(!0),autoFocus:!0,children:"Yes"})]})]}),n.type==="button"&&d.jsx("div",{className:z(RA()),children:d.jsx("button",{id:"prompt-label",className:z(zA()),onClick:()=>r(!0),autoFocus:!0,children:n.label||"Click"})})]})})}const VA=M("flex flex-col relative min-h-[100px] max-h-[600px]"),BA=M("absolute top-0 left-0 right-0 h-1.5 cursor-ns-resize bg-transparent z-10 transition-colors hover:bg-accent-blue/50",{variants:{isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{isResizing:!1}}),HA=M("flex items-center justify-between px-3 py-1.5 border-b border-border-subtle bg-surface-1"),UA=M("flex items-center gap-2"),YA=M("text-sm font-medium text-text-secondary"),IA=M("w-1.5 h-1.5 rounded-full",{variants:{status:{idle:"bg-text-muted",running:"bg-accent-green animate-pulse",error:"bg-accent-red"}},defaultVariants:{status:"idle"}}),qA=M("flex items-center gap-1"),Pg=M("w-px h-5 bg-border-subtle mx-1"),ex=M("h-7 px-2.5 bg-transparent border border-border-subtle rounded-sm text-text-muted text-xs font-medium cursor-pointer transition-colors hover:text-text-primary hover:border-text-muted",{variants:{active:{true:"bg-surface-3 text-text-primary border-border-default",false:""}},defaultVariants:{active:!1}}),XA=M("h-7 px-3 flex items-center gap-1.5 bg-accent-green border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110 disabled:opacity-60 disabled:cursor-not-allowed"),GA=M("h-7 px-3 flex items-center gap-1.5 bg-accent-red border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110"),tx=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),$A=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),WA=M("flex items-center gap-3 px-4 py-2 border-b border-border-subtle shrink-0"),ZA=M("text-xs text-text-muted"),QA=M("flex items-center gap-1.5"),KA=M("text-xs text-text-secondary"),FA=M("px-2.5 py-1.5 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm w-30 focus:outline-none focus:border-accent-blue"),JA=M("flex items-center gap-2.5 px-4 py-2 border-b border-border-subtle shrink-0"),PA=M("flex-1 h-1.5 bg-surface-3 rounded-none overflow-hidden"),e_=M("h-full bg-accent-blue transition-[width] duration-200"),t_=M("text-xs text-text-muted whitespace-nowrap"),n_=M("flex-1 flex overflow-hidden"),nx=M("flex-1 flex flex-col overflow-hidden min-w-[200px]"),lx=M("flex items-center px-4 py-1.5 bg-surface-2 border-b border-border-subtle text-xs font-medium text-text-muted uppercase tracking-wide"),ax=M("flex-1 p-4 overflow-auto"),l_=M("w-px bg-border-subtle cursor-col-resize shrink-0 hover:bg-accent-blue"),a_=M("flex-1 flex items-center justify-center text-text-muted text-sm"),rx=M("text-text-muted text-sm italic"),r_=M("font-mono text-sm text-text-secondary whitespace-pre-wrap break-words"),i_=M("text-accent-red text-sm"),o_=M("flex gap-2 mt-2 pt-2 border-t border-border-subtle"),s_=M("text-xs text-text-muted"),c_=M("font-mono text-sm text-accent-green"),u_=M("text-accent-blue animate-blink"),f_=M("absolute bottom-3 right-3 flex flex-col gap-2 max-w-[300px] z-50"),d_=M("flex items-center justify-between gap-3 px-4 py-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-primary shadow-lg animate-slide-in-right",{variants:{variant:{info:"border-l-[3px] border-l-accent-blue",success:"border-l-[3px] border-l-accent-green",warning:"border-l-[3px] border-l-accent-amber",error:"border-l-[3px] border-l-accent-red"}},defaultVariants:{variant:"info"}}),h_=M("bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary"),m_=M("p-3 bg-surface-2 rounded-sm text-sm text-text-primary"),p_=M("p-2 text-sm text-text-primary [&_h1]:text-xl [&_h1]:mb-2 [&_h2]:text-lg [&_h2]:mb-1.5 [&_h3]:text-base [&_h3]:mb-1 [&_p]:mb-2 [&_p]:leading-relaxed [&_code]:bg-surface-3 [&_code]:px-1 [&_code]:rounded [&_code]:font-mono [&_code]:text-[0.85em] [&_strong]:text-text-primary"),g_=M("overflow-x-auto"),x_=M("w-full border-collapse text-sm"),y_=M("px-3 py-2 text-left border-b border-border-subtle bg-surface-2 text-text-secondary font-medium"),b_=M("px-3 py-2 text-left border-b border-border-subtle text-text-primary"),v_=M("max-w-full"),w_=M("max-w-full h-auto rounded-sm"),S_=100,N_=600,E_=250;function j_({className:n}){const{source:r,tree:i}=nt(),{isExecuting:o,executionOutput:c,executionResult:f,executionError:h,workflowInputs:m,pendingPrompt:g,renderedContent:p,alerts:y,progress:b,removeAlert:N}=ai(),{toggleExecutionPanel:E}=Ce(),{execute:v,cancel:w,respondToPrompt:j}=bE(),_=R.useRef(null),T=R.useRef(null),[X,U]=R.useState(E_),[L,W]=R.useState(!1),[$,Y]=R.useState(!0),[P,re]=R.useState(!0);R.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[c]),R.useEffect(()=>{if(y.length>0){const le=setTimeout(()=>{N(y[0].id)},5e3);return()=>clearTimeout(le)}},[y,N]);const se=R.useCallback(le=>{le.preventDefault(),W(!0)},[]);R.useEffect(()=>{if(!L)return;const le=k=>{if(!T.current)return;const H=T.current.parentElement;if(!H)return;const J=H.getBoundingClientRect().bottom-k.clientY;U(Math.min(N_,Math.max(S_,J)))},A=()=>{W(!1)};return document.addEventListener("mousemove",le),document.addEventListener("mouseup",A),()=>{document.removeEventListener("mousemove",le),document.removeEventListener("mouseup",A)}},[L]);const ue=()=>{v(r,m)},ce=()=>{w()},Q=i?.interface?.inputs||[];return d.jsxs("div",{ref:T,className:z(VA(),n),style:{height:`${X}px`},children:[d.jsx("div",{className:BA({isResizing:L}),onMouseDown:se}),d.jsxs("div",{className:HA(),children:[d.jsxs("div",{className:UA(),children:[d.jsx("span",{className:YA(),children:"Execution"}),d.jsx("span",{className:IA({status:o?"running":h?"error":"idle"})})]}),d.jsxs("div",{className:qA(),children:[d.jsx("button",{className:ex({active:$}),onClick:()=>Y(!$),title:"Toggle Preview",children:"Preview"}),d.jsx("button",{className:ex({active:P}),onClick:()=>re(!P),title:"Toggle Console",children:"Console"}),d.jsx("div",{className:Pg()}),o?d.jsxs("button",{className:GA(),onClick:ce,children:[d.jsx(qw,{}),"Stop"]}):d.jsxs("button",{className:XA(),onClick:ue,children:[d.jsx(Iw,{}),"Run"]}),d.jsx("button",{className:tx(),title:"Step forward (coming soon)",disabled:!0,children:d.jsx(Xw,{})}),d.jsx("button",{className:tx(),onClick:()=>ai.getState().clearExecution(),title:"Clear output",children:d.jsx(Gw,{})}),d.jsx("div",{className:Pg()}),d.jsx("button",{className:$A(),onClick:E,title:"Close panel",children:d.jsx($w,{})})]})]}),Q.length>0&&d.jsxs("div",{className:WA(),children:[d.jsx("span",{className:ZA(),children:"Inputs:"}),Q.map(le=>d.jsx(C_,{name:le},le))]}),b&&d.jsxs("div",{className:JA(),children:[d.jsx("div",{className:PA(),children:d.jsx("div",{className:e_(),style:{width:`${b.value/b.max*100}%`}})}),b.label&&d.jsx("span",{className:t_(),children:b.label})]}),d.jsxs("div",{className:n_(),children:[$&&d.jsxs("div",{className:nx(),children:[d.jsx("div",{className:lx(),children:d.jsx("span",{children:"Preview"})}),d.jsx("div",{className:ax(),children:p.length>0?p.map((le,A)=>d.jsx(A_,{item:le},A)):d.jsx("div",{className:rx(),children:"No preview content"})})]}),$&&P&&d.jsx("div",{className:l_()}),P&&d.jsxs("div",{className:nx(),children:[d.jsx("div",{className:lx(),children:d.jsx("span",{children:"Console"})}),d.jsx("div",{className:ax(),children:h?d.jsx("div",{className:i_(),children:h}):d.jsxs(d.Fragment,{children:[c&&d.jsxs("pre",{ref:_,className:r_(),children:[c,o&&d.jsx("span",{className:u_(),children:"|"})]}),f!==null&&!o&&d.jsxs("div",{className:o_(),children:[d.jsx("span",{className:s_(),children:"Result:"}),d.jsx("code",{className:c_(),children:JSON.stringify(f,null,2)})]}),!c&&!f&&!o&&d.jsx("div",{className:rx(),children:'Click "Run" to execute the workflow'})]})})]}),!$&&!P&&d.jsx("div",{className:a_(),children:"Toggle Preview or Console to view execution output"})]}),y.length>0&&d.jsx("div",{className:f_(),children:y.map(le=>d.jsx(O_,{alert:le,onDismiss:()=>N(le.id)},le.id))}),g&&d.jsx(LA,{prompt:g,onSubmit:j})]})}function C_({name:n}){const{workflowInputs:r,setWorkflowInput:i}=ai(),o=r[n]??"";return d.jsxs("div",{className:QA(),children:[d.jsxs("label",{className:KA(),children:[n,":"]}),d.jsx("input",{type:"text",value:String(o),onChange:c=>{const f=c.target.value;try{i(n,JSON.parse(f))}catch{i(n,f)}},placeholder:`Enter ${n}`,className:FA()})]})}function A_({item:n}){switch(n.type){case"html":return d.jsx("div",{className:m_(),dangerouslySetInnerHTML:{__html:n.content}});case"markdown":return d.jsx("div",{className:p_(),children:d.jsx(__,{content:n.content})});case"table":const r=n.content;if(!r.length)return null;const i=Object.keys(r[0]);return d.jsx("div",{className:g_(),children:d.jsxs("table",{className:x_(),children:[d.jsx("thead",{children:d.jsx("tr",{children:i.map(c=>d.jsx("th",{className:y_(),children:c},c))})}),d.jsx("tbody",{children:r.map((c,f)=>d.jsx("tr",{className:"hover:bg-surface-2",children:i.map(h=>d.jsx("td",{className:b_(),children:String(c[h]??"")},h))},f))})]})});case"image":const o=n.content;return d.jsx("div",{className:v_(),children:d.jsx("img",{src:o.src,alt:o.alt,className:w_()})});default:return null}}function __({content:n}){const r=n.split(`
`),i=[];for(let o=0;o<r.length;o++){const c=r[o];if(c.startsWith("### "))i.push(d.jsx("h3",{children:c.slice(4)},o));else if(c.startsWith("## "))i.push(d.jsx("h2",{children:c.slice(3)},o));else if(c.startsWith("# "))i.push(d.jsx("h1",{children:c.slice(2)},o));else if(c.trim()){const f=c.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,"<code>$1</code>");i.push(d.jsx("p",{dangerouslySetInnerHTML:{__html:f}},o))}else i.push(d.jsx("br",{},o))}return d.jsx(d.Fragment,{children:i})}function O_({alert:n,onDismiss:r}){return d.jsxs("div",{className:d_({variant:n.variant}),children:[d.jsx("span",{children:n.message}),d.jsx("button",{className:h_(),onClick:r,children:""})]})}const di=M("flex flex-col h-full bg-surface-1"),hi=M("flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-surface-2"),mi=M("text-sm font-semibold text-text-primary"),pi=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-3"),Lf=M("flex-1 overflow-y-auto p-4"),T_=M("flex items-center gap-1.5 px-3 py-2 mb-4 bg-surface-2 border border-border-subtle rounded-sm text-accent-blue text-sm cursor-pointer transition-colors w-full hover:bg-surface-3 hover:border-accent-blue"),h0=M("flex items-center justify-center h-full text-text-muted"),Vf=M("flex gap-3 mb-5 p-3 bg-surface-2 rounded-sm"),Bf=M("w-1 rounded-sm shrink-0"),Hf=M("flex-1"),Uf=M("text-[0.7rem] uppercase tracking-wide text-text-muted"),Yf=M("text-base font-semibold text-text-primary my-1"),m0=M("text-xs text-text-muted font-mono bg-transparent border-none cursor-pointer px-1 py-0.5 -mx-1 rounded-sm transition-colors hover:bg-border-subtle hover:text-text-primary"),p0=M("text-sm text-text-secondary leading-relaxed p-3 bg-surface-2 rounded-sm mb-4"),If=M("mb-3"),qf=M("block text-xs font-medium text-text-secondary mb-1 uppercase tracking-wide"),M_=M("text-[0.65rem] text-text-muted ml-1.5 px-1.5 py-0.5 bg-border-subtle rounded-sm"),Wa=M("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm font-mono focus:outline-none focus:border-accent-blue read-only:opacity-70 read-only:cursor-not-allowed"),g0=M("flex gap-2 px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-sm",{variants:{editable:{true:"cursor-pointer transition-colors hover:border-accent-blue hover:bg-surface-2",false:""}},defaultVariants:{editable:!1}}),D_=M("px-1.5 py-0.5 bg-border-subtle rounded-sm text-[0.7rem] text-text-muted font-medium shrink-0"),x0=M("text-text-primary font-mono overflow-hidden text-ellipsis whitespace-nowrap"),k_=M("text-[0.65rem] text-text-muted ml-auto opacity-0 transition-opacity group-hover:opacity-100"),hf=M("w-full px-3 py-2 bg-surface-3 border-2 border-accent-blue rounded-sm text-text-primary text-sm font-mono focus:outline-none"),Pt=M("mt-5"),xn=M("text-xs font-semibold text-text-secondary mb-2.5 uppercase tracking-wide"),Ml=M("text-text-muted italic text-sm"),R_=M("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),z_=M("font-medium text-text-primary text-sm"),L_=M("text-text-muted text-xs flex-1"),mf=M("w-5 h-5 flex items-center justify-center bg-transparent border border-accent-red rounded-sm text-accent-red cursor-pointer text-sm font-bold opacity-60 transition-opacity hover:opacity-100 hover:bg-accent-red/10"),pf=M("w-full px-3 py-2 mt-2 bg-transparent border border-dashed border-border-subtle rounded-sm text-text-secondary text-sm cursor-pointer transition-colors hover:border-accent-blue hover:text-accent-blue hover:bg-accent-blue/5"),y0=M("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),b0=M("flex-1 font-medium text-text-primary text-sm font-mono"),v0=M("flex flex-wrap gap-1.5"),w0=M("flex items-center gap-1 px-2 py-1 bg-surface-2 rounded-sm text-xs"),S0=M("text-text-primary font-medium"),N0=M("text-text-muted"),E0=M("text-text-muted text-[0.7rem]"),j0=M("flex gap-2 px-4 py-3 border-t border-border-subtle"),Cl=M("flex-1 px-4 py-2 bg-surface-2 border border-border-subtle rounded-sm text-text-primary text-sm cursor-pointer transition-colors hover:bg-surface-3 hover:border-accent-blue disabled:opacity-50 disabled:cursor-not-allowed"),C0=M("flex-1 px-4 py-2 bg-transparent border border-accent-red rounded-sm text-accent-red text-sm cursor-pointer transition-colors hover:bg-accent-red/10 disabled:opacity-50 disabled:cursor-not-allowed"),A0=M("w-full px-4 py-2 text-sm bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10");function V_({workflowName:n,onClose:r}){const{tree:i,addVariable:o,updateVariable:c,deleteVariable:f,updateWorkflowInterface:h,deleteWorkflow:m}=nt(),{selectStartNode:g}=Kn(),p=i?.workflows.find(J=>J.name===n),[y,b]=R.useState(""),[N,E]=R.useState(""),[v,w]=R.useState(null),[j,_]=R.useState(""),[T,X]=R.useState(""),[U,L]=R.useState(""),[W,$]=R.useState("");if(!p)return d.jsxs("div",{className:di(),children:[d.jsxs("div",{className:hi(),children:[d.jsx("span",{className:mi(),children:"Start Node"}),d.jsx("button",{className:pi(),onClick:r,children:""})]}),d.jsx("div",{className:h0(),children:d.jsx("p",{children:"Workflow not found"})})]});const Y=()=>{g(null),r()},P=()=>{if(!y.trim())return;const J=ox(N);o(n,y.trim(),J)&&(b(""),E(""))},re=(J,C)=>{w(J),_(J),X(ix(C))},se=()=>{if(!v||!j.trim())return;const J=ox(T);c(n,v,j.trim(),J)&&(w(null),_(""),X(""))},ue=()=>{w(null),_(""),X("")},ce=J=>{Ce.getState().showConfirmDialog({title:"Delete Variable",message:`Delete variable "$${J}"?`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>f(n,J)})},Q=()=>{Ce.getState().showConfirmDialog({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${n}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{m(n),Y()}})},le=()=>{if(!U.trim())return;const J=[...p.interface.inputs,U.trim()];h(n,J,p.interface.outputs)&&L("")},A=J=>{const C=p.interface.inputs.filter(V=>V!==J);h(n,C,p.interface.outputs)},k=()=>{if(!W.trim())return;const J=[...p.interface.outputs,W.trim()];h(n,p.interface.inputs,J)&&$("")},H=J=>{const C=p.interface.outputs.filter(V=>V!==J);h(n,p.interface.inputs,C)},ae=Object.entries(p.variables);return d.jsxs("div",{className:di(),children:[d.jsxs("div",{className:hi(),children:[d.jsx("span",{className:mi(),children:"Start Node"}),d.jsx("button",{className:pi(),onClick:Y,children:""})]}),d.jsxs("div",{className:Lf(),children:[d.jsxs("div",{className:Vf(),children:[d.jsx("div",{className:Bf(),style:{backgroundColor:"#22C55E"}}),d.jsxs("div",{className:Hf(),children:[d.jsx("span",{className:Uf(),children:"Workflow"}),d.jsx("h3",{className:Yf(),children:n})]})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Interface Inputs"}),p.interface.inputs.length===0?d.jsx("p",{className:Ml(),children:"No inputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.inputs.map(J=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-blue",children:[J,d.jsx("button",{onClick:()=>A(J),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove input",children:""})]},J))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:z(Wa(),"flex-1"),placeholder:"New input name",value:U,onChange:J=>L(J.target.value),onKeyDown:J=>J.key==="Enter"&&le()}),d.jsx("button",{className:z(Cl(),"flex-none w-auto"),onClick:le,children:"Add"})]})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Interface Outputs"}),p.interface.outputs.length===0?d.jsx("p",{className:Ml(),children:"No outputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.outputs.map(J=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-violet",children:[J,d.jsx("button",{onClick:()=>H(J),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove output",children:""})]},J))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:z(Wa(),"flex-1"),placeholder:"New output name",value:W,onChange:J=>$(J.target.value),onKeyDown:J=>J.key==="Enter"&&k()}),d.jsx("button",{className:z(Cl(),"flex-none w-auto"),onClick:k,children:"Add"})]})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Variables"}),ae.length===0?d.jsx("p",{className:Ml(),children:"No variables defined"}):d.jsx("div",{className:"mb-2.5",children:ae.map(([J,C])=>d.jsx("div",{className:"mb-2",children:v===J?d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("input",{type:"text",className:hf(),placeholder:"Variable name",value:j,onChange:V=>_(V.target.value)}),d.jsx("input",{type:"text",className:hf(),placeholder:"Default value",value:T,onChange:V=>X(V.target.value),onKeyDown:V=>V.key==="Enter"&&se()}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("button",{className:z(Cl(),"flex-1"),onClick:se,children:"Save"}),d.jsx("button",{className:z(Cl(),"flex-1"),onClick:ue,children:"Cancel"})]})]}):d.jsxs("div",{className:z(g0({editable:!0}),"cursor-pointer"),onClick:()=>re(J,C),children:[d.jsxs("span",{className:"text-accent-green font-mono font-medium",children:["$",J]}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("span",{className:x0(),children:ix(C)}),d.jsx("button",{onClick:V=>{V.stopPropagation(),ce(J)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Delete variable",children:""})]})},J))}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:z(Wa(),"flex-1"),placeholder:"Variable name",value:y,onChange:J=>b(J.target.value)}),d.jsx("input",{type:"text",className:z(Wa(),"flex-1"),placeholder:"Default value",value:N,onChange:J=>E(J.target.value),onKeyDown:J=>J.key==="Enter"&&P()})]}),d.jsx("button",{className:Cl(),onClick:P,children:"Add Variable"})]})]}),n!=="main"&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Danger Zone"}),d.jsx("button",{className:"w-full px-3 py-2 text-sm font-medium bg-accent-red/10 text-accent-red border border-accent-red/30 rounded hover:bg-accent-red/20 transition-colors",onClick:Q,children:"Delete Workflow"})]})]})]})}function ix(n){return n===null?"null":n===void 0?"":typeof n=="string"?n:JSON.stringify(n)}function ox(n){if(!n||n==="")return"";if(n==="null")return null;if(n==="true")return!0;if(n==="false")return!1;try{return JSON.parse(n)}catch{return n}}function B_({className:n}){const{tree:r,source:i,opcodes:o,deleteNode:c,duplicateNode:f,updateNodeInput:h,updateReporterInput:m,deleteReporter:g,addDynamicBranch:p,removeDynamicBranch:y,addDynamicInput:b,removeDynamicInput:N}=nt(),{closeNodeEditor:E}=Ce(),{selectedNodeId:v,selectedReporter:w,selectReporter:j,selectedStartNode:_,selectStartNode:T,clearSelection:X}=Kn(),[U,L]=R.useState(!1);if(_)return d.jsx(V_,{workflowName:_,onClose:()=>{T(null),E()}});const W=v?q_(r,v):null,$=w?o.find(oe=>oe.name===w.opcode):W?o.find(oe=>oe.name===W.opcode):null,Y=()=>{E(),X()},P=()=>{v&&(navigator.clipboard.writeText(v),L(!0),setTimeout(()=>L(!1),2e3))},re=()=>{if(w){const oe=`${w.parentNodeId}.${w.inputPath.join(".")}`;navigator.clipboard.writeText(oe),L(!0),setTimeout(()=>L(!1),2e3)}},se=()=>{if(v){const oe=i.split(`
`);for(let fe=0;fe<oe.length;fe++)if(oe[fe].includes(v+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:fe+1}}));break}}},ue=()=>{if(W?.opcode==="workflow_call"){const oe=W.inputs.WORKFLOW;if(oe&&oe.type==="literal"){const fe=oe.value;fe&&(window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:fe}})),E())}}},ce=()=>{v&&v!=="start"&&Ce.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${v}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{c(v),E()}})},Q=()=>{v&&v!=="start"&&f(v)},le=()=>{j(null)},A=(oe,fe)=>{if(w&&w.reporterNodeId&&m(w.reporterNodeId,oe,fe)){const Le={...w.inputs};if(fe.startsWith("$"))Le[oe]={type:"variable",name:fe.slice(1)};else try{const Ue=JSON.parse(fe);Le[oe]={type:"literal",value:Ue}}catch{Le[oe]={type:"literal",value:fe}}j({...w,inputs:Le})}},k=()=>{w&&Ce.getState().showConfirmDialog({title:"Detach Reporter",message:"Detach this reporter from its slot? The slot will be set to null. This action can be undone with Ctrl+Z.",confirmLabel:"Detach",variant:"danger",onConfirm:()=>{g(w.parentNodeId,w.inputPath),j(null)}})},H=()=>{if(w){const oe=i.split(`
`);if(w.reporterNodeId){for(let Le=0;Le<oe.length;Le++)if(oe[Le].match(new RegExp(`^\\s+${w.reporterNodeId}:\\s*$`))){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Le+1}}));return}}const fe=w.inputPath[w.inputPath.length-1];let Re=!1;for(let Le=0;Le<oe.length;Le++){const Ue=oe[Le];if(Ue.includes(w.parentNodeId+":")&&(Re=!0),Re&&Ue.includes(fe+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Le+1}}));break}}}},ae=oe=>{v&&p(v,oe)},J=oe=>{v&&y(v,oe)},C=oe=>{v&&b(v,oe)},V=oe=>{v&&N(v,oe)},F=()=>{if(w&&w.opcode==="workflow_call"){const oe=w.inputs.WORKFLOW;if(oe&&oe.type==="literal"&&typeof oe.value=="string"){const fe=oe.value;window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:fe}})),E()}}},ne=oe=>{w?.reporterNodeId&&b(w.reporterNodeId,oe)},ye=oe=>{w?.reporterNodeId&&N(w.reporterNodeId,oe)};if(w)return d.jsx(H_,{reporter:w,parentNode:W,opcodeInfo:$,tree:r,copied:U,onCopyPath:re,onBackToNode:le,onClose:Y,onUpdateInput:A,onDetach:k,onFindInSource:H,onGoToDefinition:w.opcode==="workflow_call"?F:void 0,onAddDynamicInput:w.reporterNodeId?ne:void 0,onRemoveDynamicInput:w.reporterNodeId?ye:void 0,className:n});if(!W)return d.jsxs("div",{className:z(di(),n),children:[d.jsxs("div",{className:hi(),children:[d.jsx("span",{className:mi(),children:"Node Editor"}),d.jsx("button",{className:pi(),onClick:Y,children:""})]}),d.jsx("div",{className:h0(),children:d.jsx("p",{children:"Select a node to edit"})})]});const xe=Vy(W.type),de=wE[W.type]||"Node";return d.jsxs("div",{className:z(di(),n),children:[d.jsxs("div",{className:hi(),children:[d.jsx("span",{className:mi(),children:"Node Editor"}),d.jsx("button",{className:pi(),onClick:Y,children:""})]}),d.jsxs("div",{className:Lf(),children:[d.jsxs("div",{className:Vf(),children:[d.jsx("div",{className:Bf(),style:{backgroundColor:xe}}),d.jsxs("div",{className:Hf(),children:[d.jsx("span",{className:Uf(),children:de}),d.jsx("h3",{className:Yf(),children:Xf(W.opcode)}),d.jsx("button",{className:m0(),onClick:P,title:"Copy node ID",children:U?" Copied!":`ID: ${W.id}`})]})]}),$?.description&&d.jsx("div",{className:p0(),children:$.description}),d.jsxs("div",{className:If(),children:[d.jsx("label",{className:qf(),children:"Opcode"}),d.jsx("input",{type:"text",value:W.opcode,readOnly:!0,className:Wa()})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Inputs"}),Object.entries(W.inputs).length===0?d.jsx("p",{className:Ml(),children:"No inputs"}):Object.entries(W.inputs).map(([oe,fe])=>d.jsx(_0,{name:ds(oe,W.opcode,r,W.inputs),originalKey:oe,value:fe,paramInfo:$?.parameters.find(Re=>Re.name.toUpperCase()===oe),onUpdate:(Re,Le)=>h(v,Re,Le)},oe))]}),W.opcode==="workflow_call"&&d.jsx("div",{className:Pt(),children:d.jsx("button",{className:A0(),onClick:ue,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),$&&$.parameters.length>0&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Parameters"}),d.jsx("div",{className:v0(),children:$.parameters.map(oe=>d.jsxs("div",{className:w0(),children:[d.jsxs("span",{className:S0(),children:[oe.name,!oe.required&&d.jsx("span",{className:N0(),children:"?"})]}),d.jsx("span",{className:E0(),children:oe.type})]},oe.name))})]}),(()=>{const oe=gi(W.opcode),fe=oe?.dynamic_branches,Re=oe?.dynamic_inputs,Le=oe?.branches&&oe.branches.length>0;let Ue=null;if(fe&&oe?.branches)for(const ze of oe.branches){const en=ze.name.match(/^([A-Z]+)\d+$/);if(en){Ue=en[1];break}}const Jn=W.children.filter(ze=>Ue&&ze.name.startsWith(Ue)).map(ze=>ze.name),Dt=Object.keys(W.inputs).filter(ze=>/^ARG\d+$/.test(ze)).sort((ze,en)=>{const Cn=parseInt(ze.replace("ARG","")),ie=parseInt(en.replace("ARG",""));return Cn-ie}),Fe=W.children.length>0||fe;return d.jsxs(d.Fragment,{children:[Fe&&Le&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Branches"}),W.children.length===0&&fe?d.jsx("p",{className:Ml(),children:"No branches connected"}):W.children.map((ze,en)=>{const ie=Ue&&ze.name.startsWith(Ue)&&Jn.length>1;return d.jsxs("div",{className:R_(),children:[d.jsx("span",{className:z_(),children:ze.name}),d.jsxs("span",{className:L_(),children:[ze.children.length," node(s)"]}),ie&&d.jsx("button",{className:mf(),onClick:()=>J(ze.name),title:`Remove ${ze.name}`,children:""})]},en)}),fe&&Ue&&d.jsxs("button",{className:pf(),onClick:()=>ae(Ue),children:["+ Add ",Ue==="CATCH"?"Catch Handler":"Branch"]})]}),Re&&W.opcode==="workflow_call"&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Arguments"}),Dt.length===0?d.jsx("p",{className:Ml(),children:"No arguments"}):Dt.map(ze=>d.jsxs("div",{className:y0(),children:[d.jsx("span",{className:b0(),children:ze}),d.jsx("button",{className:mf(),onClick:()=>V(ze),title:`Remove ${ze}`,children:""})]},ze)),d.jsx("button",{className:pf(),onClick:()=>C("ARG"),children:"+ Add Argument"})]})]})})()]}),d.jsxs("div",{className:j0(),children:[d.jsx("button",{className:Cl(),onClick:se,children:"Find in Source"}),d.jsx("button",{className:Cl(),onClick:Q,disabled:v==="start",title:v==="start"?"Cannot duplicate start node":"Duplicate node (Ctrl+D)",children:"Duplicate"}),d.jsx("button",{className:C0(),onClick:ce,disabled:v==="start",title:v==="start"?"Cannot delete start node":"Delete node (Del)",children:"Delete"})]})]})}function H_({reporter:n,parentNode:r,opcodeInfo:i,tree:o,copied:c,onCopyPath:f,onBackToNode:h,onClose:m,onUpdateInput:g,onDetach:p,onFindInSource:y,onGoToDefinition:b,onAddDynamicInput:N,onRemoveDynamicInput:E,className:v}){const w=Y_(n.opcode),j=I_(n.opcode),_=n.opcode==="workflow_call",T=Object.keys(n.inputs).filter(L=>/^ARG\d+$/.test(L)).sort((L,W)=>{const $=parseInt(L.replace("ARG","")),Y=parseInt(W.replace("ARG",""));return $-Y}),U=gi(n.opcode)?.dynamic_inputs;return d.jsxs("div",{className:z(di(),v),children:[d.jsxs("div",{className:hi(),children:[d.jsx("span",{className:mi(),children:"Node Editor"}),d.jsx("button",{className:pi(),onClick:m,children:""})]}),d.jsxs("div",{className:Lf(),children:[r&&d.jsxs("button",{className:T_(),onClick:h,children:[" Back to ",r.id]}),d.jsxs("div",{className:Vf(),children:[d.jsx("div",{className:Bf(),style:{backgroundColor:w}}),d.jsxs("div",{className:Hf(),children:[d.jsx("span",{className:Uf(),children:j}),d.jsx("h3",{className:Yf(),children:Xf(n.opcode)}),d.jsx("button",{className:m0(),onClick:f,title:"Copy reporter ID",children:c?" Copied!":`ID: ${n.reporterNodeId||n.inputPath.join(".")}`})]})]}),i?.description&&d.jsx("div",{className:p0(),children:i.description}),d.jsxs("div",{className:If(),children:[d.jsx("label",{className:qf(),children:"Opcode"}),d.jsx("input",{type:"text",value:n.opcode,readOnly:!0,className:Wa()})]}),d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Inputs"}),Object.entries(n.inputs).length===0?d.jsx("p",{className:Ml(),children:"No inputs"}):Object.entries(n.inputs).map(([L,W])=>d.jsx(_0,{name:ds(L,n.opcode,o,n.inputs),originalKey:L,value:W,paramInfo:i?.parameters.find($=>$.name.toUpperCase()===L),onUpdate:g},L))]}),_&&b&&d.jsx("div",{className:Pt(),children:d.jsx("button",{className:A0(),onClick:b,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),i&&i.parameters.length>0&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Parameters"}),d.jsx("div",{className:v0(),children:i.parameters.map(L=>d.jsxs("div",{className:w0(),children:[d.jsxs("span",{className:S0(),children:[L.name,!L.required&&d.jsx("span",{className:N0(),children:"?"})]}),d.jsx("span",{className:E0(),children:L.type})]},L.name))})]}),U&&_&&N&&E&&d.jsxs("div",{className:Pt(),children:[d.jsx("h4",{className:xn(),children:"Arguments"}),T.length===0?d.jsx("p",{className:Ml(),children:"No arguments"}):T.map(L=>d.jsxs("div",{className:y0(),children:[d.jsx("span",{className:b0(),children:ds(L,n.opcode,o,n.inputs)}),d.jsx("button",{className:mf(),onClick:()=>E(L),title:`Remove ${L}`,children:""})]},L)),d.jsx("button",{className:pf(),onClick:()=>N("ARG"),children:"+ Add Argument"})]})]}),d.jsxs("div",{className:j0(),children:[d.jsx("button",{className:Cl(),onClick:y,children:"Find in Source"}),d.jsx("button",{className:C0(),onClick:p,title:"Detach reporter from slot (replace with null)",children:"Detach"})]})]})}function _0({name:n,originalKey:r,value:i,paramInfo:o,onUpdate:c}){const f=r||n,[h,m]=R.useState(!1),[g,p]=R.useState(""),y=U_(i),b=j=>{switch(j.type){case"literal":return typeof j.value=="string"?j.value:JSON.stringify(j.value);case"variable":return`$${j.name}`;default:return y}},N=()=>{(i.type==="literal"||i.type==="variable")&&(p(b(i)),m(!0))},E=()=>{c&&g!==b(i)&&c(f,g),m(!1)},v=j=>{j.key==="Enter"?E():j.key==="Escape"&&m(!1)},w=i.type==="literal"||i.type==="variable";return d.jsxs("div",{className:If(),children:[d.jsxs("label",{className:qf(),children:[n,o&&d.jsx("span",{className:M_(),children:o.type})]}),h?d.jsx("input",{type:"text",className:hf(),value:g,onChange:j=>p(j.target.value),onBlur:E,onKeyDown:v,autoFocus:!0}):d.jsxs("div",{className:z(g0({editable:w}),"group"),onClick:N,title:w?"Click to edit":void 0,children:[d.jsx("span",{className:D_(),children:i.type}),d.jsx("span",{className:x0(),children:y}),w&&d.jsx("span",{className:k_(),children:"Click to edit"})]})]})}function U_(n){switch(n.type){case"literal":return typeof n.value=="string"?`"${n.value}"`:typeof n.value=="object"&&n.value!==null?JSON.stringify(n.value,null,2):String(n.value);case"variable":return`$${n.name}`;case"reporter":return`${Xf(n.opcode||"")}(...)`;case"workflow_call":return` ${n.name}`;case"branch":return` ${n.target}`;case"dict":return JSON.stringify(n.value,null,2);case"truncated":return n.display||"...";default:return"?"}}function Xf(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function Y_(n){return By(n)}function I_(n){const r=DN(n);return r?`${r.label} Reporter`:"Reporter"}function q_(n,r){if(!n)return null;function i(o){for(const c of o){if(c.id===r)return c;if(c.children)for(const f of c.children){const h=i(f.children);if(h)return h}}return null}for(const o of n.workflows||[]){const c=i(o.children||[]);if(c)return c;const f=i(o.orphans||[]);if(f)return f}return null}const X_=M("flex flex-col h-full"),G_=M("flex items-center justify-between px-4 py-4 border-b border-border-subtle"),$_=M("text-base font-semibold text-text-primary"),W_=M("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),Z_=M("px-4 py-3 border-b border-border-subtle"),Q_=M("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm focus:outline-none focus:border-accent-blue placeholder:text-text-muted"),K_=M("flex-1 overflow-y-auto py-2"),F_=M("px-4"),J_=M("text-text-muted text-center py-5 italic"),Xo=M("border-b border-border-subtle"),Go=M("w-full flex items-center gap-2 px-4 py-2.5 bg-transparent border-none cursor-pointer text-left text-text-primary transition-colors hover:bg-surface-2"),$o=M("text-base"),Wo=M("flex-1 text-sm font-medium"),Zo=M("text-xs text-text-muted px-1.5 py-0.5 bg-border-subtle rounded-sm"),Qo=M("text-[0.7rem] text-text-muted"),Ko=M("py-1 pb-2 bg-surface-2"),P_=M("mx-2"),eO=M("w-full flex flex-col items-start gap-0.5 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-pointer mb-1 transition-all hover:border-accent-blue hover:translate-x-0.5"),tO=M("text-sm font-medium text-text-primary"),nO=M("text-[0.7rem] text-text-muted font-mono"),lO=M("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),aO=M("text-xs text-text-secondary mb-2 leading-relaxed"),rO=M("flex flex-wrap gap-1.5 items-center"),O0=M("text-[0.7rem] text-text-muted uppercase tracking-wide"),iO=M("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),oO=M("text-text-muted"),sO=M("flex items-center gap-2 px-3 py-2 mx-2 mb-1 bg-surface-1 border border-border-subtle rounded-sm cursor-grab transition-all hover:border-accent-green hover:translate-x-0.5 active:cursor-grabbing"),cO=M("text-sm font-semibold text-accent-green font-mono"),uO=M("text-xs text-text-muted font-mono"),fO=M("text-[0.7rem] text-text-muted ml-auto"),dO=M("px-4 py-3 text-xs text-text-muted italic text-center"),hO=M("mx-2"),mO=M("w-full flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-grab mb-1 transition-all hover:border-accent-violet hover:translate-x-0.5 active:cursor-grabbing"),pO=M("text-sm font-semibold text-accent-violet font-mono"),gO=M("text-xs text-text-muted ml-auto"),xO=M("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),yO=M("flex flex-col gap-1 mb-2"),bO=M("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),vO=M("text-xs text-text-muted italic mb-2"),wO=M("w-full px-3 py-1.5 text-xs bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),SO=M("px-4 py-3 border-t border-border-subtle"),NO=M("text-xs text-text-muted text-center");function EO({className:n}){const{opcodes:r,tree:i}=nt(),{togglePalette:o,setDraggingVariable:c,setDraggingWorkflowCall:f}=Ce(),[h,m]=R.useState(""),[g,p]=R.useState("variables"),y=MN(),b=R.useMemo(()=>fE(i),[i]),N=R.useMemo(()=>{if(!i)return[];const w=[];for(const j of i.workflows)for(const[_,T]of Object.entries(j.variables))w.push({name:_,value:T,workflowName:j.name});return w},[i]),E=R.useMemo(()=>{const w={};for(const j of y)w[j.id]=[];w.other=[];for(const j of r){let _=!1;for(const T of y)if(j.name.startsWith(T.prefix)){w[T.id].push(j),_=!0;break}_||w.other.push(j)}return w},[r,y]),v=R.useMemo(()=>{if(!h)return null;const w=h.toLowerCase();return r.filter(j=>j.name.toLowerCase().includes(w)||(j.description?.toLowerCase().includes(w)??!1))},[r,h]);return d.jsxs("div",{className:z(X_(),n),children:[d.jsxs("div",{className:G_(),children:[d.jsx("h2",{className:$_(),children:"Node Palette"}),d.jsx("button",{className:W_(),onClick:o,children:""})]}),d.jsx("div",{className:Z_(),children:d.jsx("input",{type:"text",placeholder:"Search nodes...",value:h,onChange:w=>m(w.target.value),className:Q_()})}),d.jsx("div",{className:K_(),children:v?d.jsx("div",{className:F_(),children:v.length===0?d.jsx("p",{className:J_(),children:"No nodes found"}):v.map(w=>d.jsx(Pu,{opcode:w},w.name))}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:Go(),onClick:()=>p(g==="variables"?null:"variables"),style:{"--cat-color":"#22C55E"},children:[d.jsx("span",{className:$o(),children:"$"}),d.jsx("span",{className:Wo(),children:"Variables"}),d.jsx("span",{className:Zo(),children:N.length}),d.jsx("span",{className:Qo(),children:g==="variables"?"":""})]}),g==="variables"&&d.jsx("div",{className:Ko(),children:N.length===0?d.jsx("div",{className:dO(),children:"No variables defined. Add variables in the Start Node editor."}):N.map(w=>d.jsx(jO,{name:w.name,value:w.value,workflowName:w.workflowName,onDragStart:c,onDragEnd:()=>c(null)},`${w.workflowName}-${w.name}`))})]}),b.length>0&&d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:Go(),onClick:()=>p(g==="workflows"?null:"workflows"),style:{"--cat-color":"#E91E63"},children:[d.jsx("span",{className:$o(),children:"fn"}),d.jsx("span",{className:Wo(),children:"Workflows"}),d.jsx("span",{className:Zo(),children:b.length}),d.jsx("span",{className:Qo(),children:g==="workflows"?"":""})]}),g==="workflows"&&d.jsx("div",{className:Ko(),children:b.map(w=>d.jsx(AO,{name:w.name,params:w.params,onDragStart:f},w.name))})]}),y.map(w=>d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:Go(),onClick:()=>p(g===w.id?null:w.id),style:{"--cat-color":w.color},children:[d.jsx("span",{className:$o(),children:w.icon}),d.jsx("span",{className:Wo(),children:w.label}),d.jsx("span",{className:Zo(),children:E[w.id].length}),d.jsx("span",{className:Qo(),children:g===w.id?"":""})]}),g===w.id&&d.jsx("div",{className:Ko(),children:E[w.id].map(j=>d.jsx(Pu,{opcode:j},j.name))})]},w.id)),E.other.length>0&&d.jsxs("div",{className:Xo(),children:[d.jsxs("button",{className:Go(),onClick:()=>p(g==="other"?null:"other"),style:{"--cat-color":"#64748B"},children:[d.jsx("span",{className:$o(),children:""}),d.jsx("span",{className:Wo(),children:"Other"}),d.jsx("span",{className:Zo(),children:E.other.length}),d.jsx("span",{className:Qo(),children:g==="other"?"":""})]}),g==="other"&&d.jsx("div",{className:Ko(),children:E.other.map(w=>d.jsx(Pu,{opcode:w},w.name))})]})]})}),d.jsx("div",{className:SO(),children:d.jsx("p",{className:NO(),children:"Click to view details  Drag to canvas to add node"})})]})}function Pu({opcode:n}){const[r,i]=R.useState(!1),{setDraggingOpcode:o,togglePalette:c}=Ce(),f=R.useRef(!1),h=R.useRef({x:0,y:0}),m=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),g=p=>{h.current={x:p.clientX,y:p.clientY},f.current=!1;const y=N=>{const E=Math.abs(N.clientX-h.current.x),v=Math.abs(N.clientY-h.current.y);!f.current&&(E>5||v>5)&&(f.current=!0,o(n),c())},b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)};return d.jsxs("div",{className:P_(),children:[d.jsxs("button",{className:eO(),onMouseDown:g,onClick:()=>{f.current||i(!r)},children:[d.jsx("span",{className:tO(),children:m}),d.jsx("span",{className:nO(),children:n.name})]}),r&&d.jsxs("div",{className:lO(),children:[n.description&&d.jsx("p",{className:aO(),children:n.description}),n.parameters.length>0&&d.jsxs("div",{className:rO(),children:[d.jsx("span",{className:O0(),children:"Parameters:"}),n.parameters.map(p=>d.jsxs("span",{className:iO(),children:[p.name,!p.required&&"?",d.jsxs("span",{className:oO(),children:[": ",p.type]})]},p.name))]})]})]})}function jO({name:n,value:r,workflowName:i,onDragStart:o,onDragEnd:c}){const{togglePalette:f}=Ce(),h=R.useRef(!1),m=R.useRef({x:0,y:0}),g=CO(r),p=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const v=Math.abs(E.clientX-m.current.x),w=Math.abs(E.clientY-m.current.y);!h.current&&(v>5||w>5)&&(h.current=!0,o({name:n,workflowName:i,fromX:0,fromY:0,toX:0,toY:0}),f())},N=()=>{h.current&&c(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)};return d.jsxs("div",{className:sO(),onMouseDown:p,children:[d.jsxs("span",{className:cO(),children:["$",n]}),d.jsx("span",{className:uO(),children:g}),i!=="main"&&d.jsxs("span",{className:fO(),children:["(",i,")"]})]})}function CO(n){if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="string")return n.length>15?`"${n.slice(0,15)}..."`:`"${n}"`;if(typeof n=="object"){const r=JSON.stringify(n);return r.length>15?r.slice(0,15)+"...":r}return String(n)}function AO({name:n,params:r,onDragStart:i}){const{togglePalette:o}=Ce(),[c,f]=R.useState(!1),h=R.useRef(!1),m=R.useRef({x:0,y:0}),g=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const v=Math.abs(E.clientX-m.current.x),w=Math.abs(E.clientY-m.current.y);!h.current&&(v>5||w>5)&&(h.current=!0,i({workflowName:n,params:r}),o())},N=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)},p=y=>{y.stopPropagation(),window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:n}})),o()};return d.jsxs("div",{className:hO(),children:[d.jsxs("button",{className:mO(),onMouseDown:g,onClick:()=>{h.current||f(!c)},children:[d.jsx("span",{className:pO(),children:n}),d.jsx("span",{className:gO(),children:r.length===0?"(no params)":`(${r.length} params)`})]}),c&&d.jsxs("div",{className:xO(),children:[r.length>0?d.jsxs("div",{className:yO(),children:[d.jsx("span",{className:O0(),children:"Parameters:"}),r.map((y,b)=>d.jsxs("span",{className:bO(),children:["ARG",b+1,": ",y]},y))]}):d.jsx("p",{className:vO(),children:"This workflow has no input parameters."}),d.jsx("button",{className:wO(),onClick:p,children:"Go to Definition"})]})]})}const sx=M("fixed pointer-events-none z-[10000] flex flex-col gap-1"),cx=M("flex flex-col gap-0.5 px-4 py-3 bg-surface-1 border-2 border-accent-blue rounded-sm shadow-xl min-w-[120px]",{variants:{type:{opcode:"border-accent-blue",workflow:"border-[#E91E63]"}},defaultVariants:{type:"opcode"}}),ux=M("text-sm font-semibold text-text-primary"),fx=M("text-[0.7rem] text-text-muted font-mono"),dx=M("text-[0.7rem] text-accent-blue text-center font-medium");function hx(n){const r=document.querySelector("[data-canvas-container] > svg");if(!r)return"main";const{zoom:i,panX:o,panY:c,layoutGroups:f,canvasCenter:h}=Ce.getState();if(f.length===0)return"main";const m=r.getBoundingClientRect(),g=m.width,p=m.height,y=n.clientX-m.left,b=n.clientY-m.top,N=(y-o-g/2)/i+h.x,E=(b-c-p/2)/i+h.y;return e0(f,N,E)||"main"}function _O(){const{draggingOpcode:n,setDraggingOpcode:r,draggingWorkflowCall:i,setDraggingWorkflowCall:o,openNodeEditor:c}=Ce(),{addNode:f,addWorkflowCallNode:h}=nt(),[m,g]=R.useState({x:0,y:0});if(R.useEffect(()=>{if(!i)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const E=N.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&i){const w=hx(N);h(i.workflowName,i.params,w)&&c()}o(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[i,o,h,c]),R.useEffect(()=>{if(!n)return;const y=N=>{g({x:N.clientX,y:N.clientY})},b=N=>{const E=N.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&n){const w=hx(N);f(n,w)&&c()}r(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[n,r,f,c]),!n&&!i)return null;if(i)return d.jsxs("div",{className:z(sx()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:z(cx({type:"workflow"})),children:[d.jsx("span",{className:z(ux()),children:i.workflowName}),d.jsx("span",{className:z(fx()),children:"workflow_call"})]}),d.jsx("div",{className:z(dx()),children:"Drop on canvas to add"})]});if(!n)return null;const p=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("div",{className:z(sx()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:z(cx({type:"opcode"})),children:[d.jsx("span",{className:z(ux()),children:p}),d.jsx("span",{className:z(fx()),children:n.name})]}),d.jsx("div",{className:z(dx()),children:"Drop on canvas to add"})]})}function OO(){const n=Ce(r=>r.confirmDialog);return n?d.jsx(jw,{isOpen:n.isOpen,title:n.title,message:n.message,confirmLabel:n.confirmLabel,cancelLabel:n.cancelLabel,variant:n.variant,onConfirm:n.onConfirm,onCancel:n.onCancel}):null}function TO(){const n=Ce(f=>f.createWorkflowModal),r=Ce(f=>f.hideCreateWorkflowModal),i=nt(f=>f.tree),o=nt(f=>f.addWorkflow),c=i?.workflows.map(f=>f.name)??[];return n?d.jsx(Cw,{isOpen:n.isOpen,existingWorkflowNames:c,onConfirm:f=>{o(f.name,f.inputs,f.outputs,f.variables),r()},onCancel:r}):null}function MO(){const n=Ce(m=>m.extractWorkflowModal),r=Ce(m=>m.hideExtractWorkflowModal),i=nt(m=>m.tree),o=nt(m=>m.extractToWorkflow),c=Kn(m=>m.clearMultiSelection),f=Ce(m=>m.showConfirmDialog),h=i?.workflows.map(m=>m.name)??[];return n?d.jsx(_w,{isOpen:n.isOpen,existingWorkflowNames:h,nodeIds:n.nodeIds,suggestedInputs:n.suggestedInputs,suggestedOutputs:n.suggestedOutputs,onConfirm:m=>{const g=o(n.nodeIds,n.workflowName,m.name,m.inputs,m.outputs,m.variables);g.success?(c(),r()):f({title:"Extraction Failed",message:g.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}})},onCancel:r}):null}function DO(){const{setExamples:n,setOpcodes:r}=nt(),i=ps();return yE(),vE(),R.useEffect(()=>{i.listOpcodes().then(r).catch(console.error),$x(i)&&i.listExamples().then(n).catch(console.error)},[n,r,i]),d.jsxs(d.Fragment,{children:[d.jsx(sE,{canvas:d.jsx(dC,{}),editor:d.jsx(_A,{}),executionPanel:d.jsx(j_,{}),nodeEditor:d.jsx(B_,{}),palette:d.jsx(EO,{})}),d.jsx(_O,{}),d.jsx(OO,{}),d.jsx(TO,{}),d.jsx(MO,{})]})}function kO(){return{apiBaseUrl:"/api",wsUrl:void 0}}const mx=kO(),RO=HN({apiBaseUrl:mx.apiBaseUrl,wsUrl:mx.wsUrl,supportsExamples:!0,supportsWebSocket:!0});Pv.createRoot(document.getElementById("root")).render(d.jsx(R.StrictMode,{children:d.jsx(Ww,{children:d.jsx(Qw,{provider:RO,children:d.jsx(DO,{})})})}));export{f0 as a,jA as b,z as c,d0 as d,u0 as e,c0 as f,d as j,R as r};
