(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function r1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zu={exports:{}},ai={};var Kp;function i1(){if(Kp)return ai;Kp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:n,type:o,key:h,ref:c!==void 0?c:null,props:f}}return ai.Fragment=r,ai.jsx=i,ai.jsxs=i,ai}var Fp;function o1(){return Fp||(Fp=1,zu.exports=i1()),zu.exports}var d=o1(),Lu={exports:{}},Ee={};var Jp;function s1(){if(Jp)return Ee;Jp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function A(C,H,P){this.props=C,this.context=H,this.refs=j,this.updater=P||w}A.prototype.isReactComponent={},A.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},A.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=A.prototype;function V(C,H,P){this.props=C,this.context=H,this.refs=j,this.updater=P||w}var Y=V.prototype=new O;Y.constructor=V,v(Y,A.prototype),Y.isPureReactComponent=!0;var B=Array.isArray;function U(){}var $={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function K(C,H,P){var re=P.ref;return{$$typeof:n,type:C,key:H,ref:re!==void 0?re:null,props:P}}function le(C,H){return K(C.type,H,C.props)}function ue(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ie(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(P){return H[P]})}var se=/\/+/g;function Z(C,H){return typeof C=="object"&&C!==null&&C.key!=null?ie(""+C.key):H.toString(36)}function ae(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(U,U):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function k(C,H,P,re,xe){var ge=typeof C;(ge==="undefined"||ge==="boolean")&&(C=null);var de=!1;if(C===null)de=!0;else switch(ge){case"bigint":case"string":case"number":de=!0;break;case"object":switch(C.$$typeof){case n:case r:de=!0;break;case y:return de=C._init,k(de(C._payload),H,P,re,xe)}}if(de)return xe=xe(C),de=re===""?"."+Z(C,0):re,B(xe)?(P="",de!=null&&(P=de.replace(se,"$&/")+"/"),k(xe,H,P,"",function(Ne){return Ne})):xe!=null&&(ue(xe)&&(xe=le(xe,P+(xe.key==null||C&&C.key===xe.key?"":(""+xe.key).replace(se,"$&/")+"/")+de)),H.push(xe)),1;de=0;var We=re===""?".":re+":";if(B(C))for(var oe=0;oe<C.length;oe++)re=C[oe],ge=We+Z(re,oe),de+=k(re,H,P,ge,xe);else if(oe=E(C),typeof oe=="function")for(C=oe.call(C),oe=0;!(re=C.next()).done;)re=re.value,ge=We+Z(re,oe++),de+=k(re,H,P,ge,xe);else if(ge==="object"){if(typeof C.then=="function")return k(ae(C),H,P,re,xe);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return de}function D(C,H,P){if(C==null)return C;var re=[],xe=0;return k(C,re,"","",function(ge){return H.call(P,ge,xe++)}),re}function R(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(P){(C._status===0||C._status===-1)&&(C._status=1,C._result=P)},function(P){(C._status===0||C._status===-1)&&(C._status=2,C._result=P)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var ne=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},J={map:D,forEach:function(C,H,P){D(C,function(){H.apply(this,arguments)},P)},count:function(C){var H=0;return D(C,function(){H++}),H},toArray:function(C){return D(C,function(H){return H})||[]},only:function(C){if(!ue(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ee.Activity=b,Ee.Children=J,Ee.Component=A,Ee.Fragment=i,Ee.Profiler=c,Ee.PureComponent=V,Ee.StrictMode=o,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(C){return $.H.useMemoCache(C)}},Ee.cache=function(C){return function(){return C.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(C,H,P){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var re=v({},C.props),xe=C.key;if(H!=null)for(ge in H.key!==void 0&&(xe=""+H.key),H)!q.call(H,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&H.ref===void 0||(re[ge]=H[ge]);var ge=arguments.length-2;if(ge===1)re.children=P;else if(1<ge){for(var de=Array(ge),We=0;We<ge;We++)de[We]=arguments[We+2];re.children=de}return K(C.type,xe,re)},Ee.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Ee.createElement=function(C,H,P){var re,xe={},ge=null;if(H!=null)for(re in H.key!==void 0&&(ge=""+H.key),H)q.call(H,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(xe[re]=H[re]);var de=arguments.length-2;if(de===1)xe.children=P;else if(1<de){for(var We=Array(de),oe=0;oe<de;oe++)We[oe]=arguments[oe+2];xe.children=We}if(C&&C.defaultProps)for(re in de=C.defaultProps,de)xe[re]===void 0&&(xe[re]=de[re]);return K(C,ge,xe)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(C){return{$$typeof:m,render:C}},Ee.isValidElement=ue,Ee.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:R}},Ee.memo=function(C,H){return{$$typeof:p,type:C,compare:H===void 0?null:H}},Ee.startTransition=function(C){var H=$.T,P={};$.T=P;try{var re=C(),xe=$.S;xe!==null&&xe(P,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(U,ne)}catch(ge){ne(ge)}finally{H!==null&&P.types!==null&&(H.types=P.types),$.T=H}},Ee.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ee.use=function(C){return $.H.use(C)},Ee.useActionState=function(C,H,P){return $.H.useActionState(C,H,P)},Ee.useCallback=function(C,H){return $.H.useCallback(C,H)},Ee.useContext=function(C){return $.H.useContext(C)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(C,H){return $.H.useDeferredValue(C,H)},Ee.useEffect=function(C,H){return $.H.useEffect(C,H)},Ee.useEffectEvent=function(C){return $.H.useEffectEvent(C)},Ee.useId=function(){return $.H.useId()},Ee.useImperativeHandle=function(C,H,P){return $.H.useImperativeHandle(C,H,P)},Ee.useInsertionEffect=function(C,H){return $.H.useInsertionEffect(C,H)},Ee.useLayoutEffect=function(C,H){return $.H.useLayoutEffect(C,H)},Ee.useMemo=function(C,H){return $.H.useMemo(C,H)},Ee.useOptimistic=function(C,H){return $.H.useOptimistic(C,H)},Ee.useReducer=function(C,H,P){return $.H.useReducer(C,H,P)},Ee.useRef=function(C){return $.H.useRef(C)},Ee.useState=function(C){return $.H.useState(C)},Ee.useSyncExternalStore=function(C,H,P){return $.H.useSyncExternalStore(C,H,P)},Ee.useTransition=function(){return $.H.useTransition()},Ee.version="19.2.3",Ee}var Pp;function Cf(){return Pp||(Pp=1,Lu.exports=s1()),Lu.exports}var L=Cf();const Tn=r1(L);var Vu={exports:{}},ri={},Bu={exports:{}},Hu={};var eg;function c1(){return eg||(eg=1,(function(n){function r(k,D){var R=k.length;k.push(D);e:for(;0<R;){var ne=R-1>>>1,J=k[ne];if(0<c(J,D))k[ne]=D,k[R]=J,R=ne;else break e}}function i(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var D=k[0],R=k.pop();if(R!==D){k[0]=R;e:for(var ne=0,J=k.length,C=J>>>1;ne<C;){var H=2*(ne+1)-1,P=k[H],re=H+1,xe=k[re];if(0>c(P,R))re<J&&0>c(xe,P)?(k[ne]=xe,k[re]=R,ne=re):(k[ne]=P,k[H]=R,ne=H);else if(re<J&&0>c(xe,R))k[ne]=xe,k[re]=R,ne=re;else break e}}return D}function c(k,D){var R=k.sortIndex-D.sortIndex;return R!==0?R:k.id-D.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],p=[],y=1,b=null,S=3,E=!1,w=!1,v=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function Y(k){for(var D=i(p);D!==null;){if(D.callback===null)o(p);else if(D.startTime<=k)o(p),D.sortIndex=D.expirationTime,r(g,D);else break;D=i(p)}}function B(k){if(v=!1,Y(k),!w)if(i(g)!==null)w=!0,U||(U=!0,ie());else{var D=i(p);D!==null&&ae(B,D.startTime-k)}}var U=!1,$=-1,q=5,K=-1;function le(){return j?!0:!(n.unstable_now()-K<q)}function ue(){if(j=!1,U){var k=n.unstable_now();K=k;var D=!0;try{e:{w=!1,v&&(v=!1,O($),$=-1),E=!0;var R=S;try{t:{for(Y(k),b=i(g);b!==null&&!(b.expirationTime>k&&le());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,S=b.priorityLevel;var J=ne(b.expirationTime<=k);if(k=n.unstable_now(),typeof J=="function"){b.callback=J,Y(k),D=!0;break t}b===i(g)&&o(g),Y(k)}else o(g);b=i(g)}if(b!==null)D=!0;else{var C=i(p);C!==null&&ae(B,C.startTime-k),D=!1}}break e}finally{b=null,S=R,E=!1}D=void 0}}finally{D?ie():U=!1}}}var ie;if(typeof V=="function")ie=function(){V(ue)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Z=se.port2;se.port1.onmessage=ue,ie=function(){Z.postMessage(null)}}else ie=function(){A(ue,0)};function ae(k,D){$=A(function(){k(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(k){switch(S){case 1:case 2:case 3:var D=3;break;default:D=S}var R=S;S=D;try{return k()}finally{S=R}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(k,D){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var R=S;S=k;try{return D()}finally{S=R}},n.unstable_scheduleCallback=function(k,D,R){var ne=n.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?ne+R:ne):R=ne,k){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=R+J,k={id:y++,callback:D,priorityLevel:k,startTime:R,expirationTime:J,sortIndex:-1},R>ne?(k.sortIndex=R,r(p,k),i(g)===null&&k===i(p)&&(v?(O($),$=-1):v=!0,ae(B,R-ne))):(k.sortIndex=J,r(g,k),w||E||(w=!0,U||(U=!0,ie()))),k},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(k){var D=S;return function(){var R=S;S=D;try{return k.apply(this,arguments)}finally{S=R}}}})(Hu)),Hu}var tg;function u1(){return tg||(tg=1,Bu.exports=c1()),Bu.exports}var Uu={exports:{}},kt={};var ng;function f1(){if(ng)return kt;ng=1;var n=Cf();function r(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,kt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return f(g,p,null,y)},kt.flushSync=function(g){var p=h.T,y=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=p,o.p=y,o.d.f()}},kt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},kt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},kt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:E}):y==="script"&&o.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},kt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},kt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);o.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},kt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},kt.requestFormReset=function(g){o.d.r(g)},kt.unstable_batchedUpdates=function(g,p){return g(p)},kt.useFormState=function(g,p,y){return h.H.useFormState(g,p,y)},kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},kt.version="19.2.3",kt}var lg;function Ox(){if(lg)return Uu.exports;lg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Uu.exports=f1(),Uu.exports}var ag;function d1(){if(ag)return ri;ag=1;var n=u1(),r=Cf(),i=Ox();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var u=s.alternate;if(u===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===l)return g(s),e;if(u===a)return g(s),t;u=u.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=u;else{for(var x=!1,N=s.child;N;){if(N===l){x=!0,l=s,a=u;break}if(N===a){x=!0,a=s,l=u;break}N=N.sibling}if(!x){for(N=u.child;N;){if(N===l){x=!0,l=u,a=s;break}if(N===a){x=!0,a=u,l=s;break}N=N.sibling}if(!x)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),V=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case A:return"Profiler";case j:return"StrictMode";case B:return"Suspense";case U:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case V:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:Z(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return Z(e(t))}catch{}}return null}var ae=Array.isArray,k=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},ne=[],J=-1;function C(e){return{current:e}}function H(e){0>J||(e.current=ne[J],ne[J]=null,J--)}function P(e,t){J++,ne[J]=e.current,e.current=t}var re=C(null),xe=C(null),ge=C(null),de=C(null);function We(e,t){switch(P(ge,t),P(xe,e),P(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bp(t),e=vp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(re),P(re,e)}function oe(){H(re),H(xe),H(ge)}function Ne(e){e.memoizedState!==null&&P(de,e);var t=re.current,l=vp(t,e.type);t!==l&&(P(xe,e),P(re,l))}function Le(e){xe.current===e&&(H(re),H(xe)),de.current===e&&(H(de),ei._currentValue=R)}var Me,$e;function Mt(e){if(Me===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||"",$e=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+$e}var Tt=!1;function wt(e,t){if(!e||Tt)return"";Tt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var W=Q}Reflect.construct(e,[],te)}else{try{te.call()}catch(Q){W=Q}e.call(te.prototype)}}else{try{throw Error()}catch(Q){W=Q}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&W&&typeof Q.stack=="string")return[Q.stack,W.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),x=u[0],N=u[1];if(x&&N){var M=x.split(`
`),G=N.split(`
`);for(s=a=0;a<M.length&&!M[a].includes("DetermineComponentFrameRoot");)a++;for(;s<G.length&&!G[s].includes("DetermineComponentFrameRoot");)s++;if(a===M.length||s===G.length)for(a=M.length-1,s=G.length-1;1<=a&&0<=s&&M[a]!==G[s];)s--;for(;1<=a&&0<=s;a--,s--)if(M[a]!==G[s]){if(a!==1||s!==1)do if(a--,s--,0>s||M[a]!==G[s]){var F=`
`+M[a].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=a&&0<=s);break}}}finally{Tt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Mt(l):""}function _e(e,t){switch(e.tag){case 26:case 27:case 5:return Mt(e.type);case 16:return Mt("Lazy");case 13:return e.child!==t&&t!==null?Mt("Suspense Fallback"):Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return wt(e.type,!1);case 11:return wt(e.type.render,!1);case 1:return wt(e.type,!0);case 31:return Mt("Activity");default:return""}}function Wt(e){try{var t="",l=null;do t+=_e(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var xn=Object.prototype.hasOwnProperty,Bt=n.unstable_scheduleCallback,Bl=n.unstable_cancelCallback,sa=n.unstable_shouldYield,et=n.unstable_requestPaint,Pe=n.unstable_now,al=n.unstable_getCurrentPriorityLevel,ca=n.unstable_ImmediatePriority,ce=n.unstable_UserBlockingPriority,ve=n.unstable_NormalPriority,Ue=n.unstable_LowPriority,Qe=n.unstable_IdlePriority,at=n.log,En=n.unstable_setDisableYieldValue,yn=null,mt=null;function an(e){if(typeof at=="function"&&En(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(yn,e)}catch{}}var St=Math.clz32?Math.clz32:Ns,fr=Math.log,dr=Math.LN2;function Ns(e){return e>>>=0,e===0?32:31-(fr(e)/dr|0)|0}var Se=256,st=262144,Dt=4194304;function Nt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,u=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var N=a&134217727;return N!==0?(a=N&~u,a!==0?s=Nt(a):(x&=N,x!==0?s=Nt(x):l||(l=N&~e,l!==0&&(s=Nt(l))))):(N=a&~u,N!==0?s=Nt(N):x!==0?s=Nt(x):l||(l=a&~e,l!==0&&(s=Nt(l)))),s===0?0:t!==0&&t!==s&&(t&u)===0&&(u=s&-s,l=t&-t,u>=l||u===32&&(l&4194048)!==0)?t:s}function bn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ua(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(){var e=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),e}function fa(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function mr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wb(e,t,l,a,s,u){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var N=e.entanglements,M=e.expirationTimes,G=e.hiddenUpdates;for(l=x&~l;0<l;){var F=31-St(l),te=1<<F;N[F]=0,M[F]=-1;var W=G[F];if(W!==null)for(G[F]=null,F=0;F<W.length;F++){var Q=W[F];Q!==null&&(Q.lane&=-536870913)}l&=~te}a!==0&&td(e,a,0),u!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=u&~(x&~t))}function td(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-St(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function nd(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-St(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function ld(e,t){var l=t&-t;return l=(l&42)!==0?1:Es(l),(l&(e.suspendedLanes|t))!==0?0:l}function Es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ad(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:$p(e.type))}function rd(e,t){var l=D.p;try{return D.p=e,t()}finally{D.p=l}}var rl=Math.random().toString(36).slice(2),Et="__reactFiber$"+rl,Ht="__reactProps$"+rl,da="__reactContainer$"+rl,Cs="__reactEvents$"+rl,Zb="__reactListeners$"+rl,Qb="__reactHandles$"+rl,id="__reactResources$"+rl,pr="__reactMarker$"+rl;function As(e){delete e[Et],delete e[Ht],delete e[Cs],delete e[Zb],delete e[Qb]}function ha(e){var t=e[Et];if(t)return t;for(var l=e.parentNode;l;){if(t=l[da]||l[Et]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Ap(e);e!==null;){if(l=e[Et])return l;e=Ap(e)}return t}e=l,l=e.parentNode}return null}function ma(e){if(e=e[Et]||e[da]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function pa(e){var t=e[id];return t||(t=e[id]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[pr]=!0}var od=new Set,sd={};function Hl(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for(sd[e]=t,e=0;e<t.length;e++)od.add(t[e])}var Kb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cd={},ud={};function Fb(e){return xn.call(ud,e)?!0:xn.call(cd,e)?!1:Kb.test(e)?ud[e]=!0:(cd[e]=!0,!1)}function Oi(e,t,l){if(Fb(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Mi(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function zn(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jb(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,u=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(x){l=""+x,u.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){if(!e._valueTracker){var t=fd(e)?"checked":"value";e._valueTracker=Jb(e,t,""+e[t])}}function dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=fd(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pb=/[\n"\\]/g;function on(e){return e.replace(Pb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Os(e,t,l,a,s,u,x,N){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+rn(t)):e.value!==""+rn(t)&&(e.value=""+rn(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Ms(e,x,rn(t)):l!=null?Ms(e,x,rn(l)):a!=null&&e.removeAttribute("value"),s==null&&u!=null&&(e.defaultChecked=!!u),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+rn(N):e.removeAttribute("name")}function hd(e,t,l,a,s,u,x,N){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||l!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){_s(e);return}l=l!=null?""+rn(l):"",t=t!=null?""+rn(t):l,N||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=N?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),_s(e)}function Ms(e,t,l){t==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function xa(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+rn(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function md(e,t,l){if(t!=null&&(t=""+rn(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+rn(l):""}function pd(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(ae(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=rn(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),_s(e)}function ya(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var e0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gd(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||e0.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function xd(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&gd(e,s,a)}else for(var u in t)t.hasOwnProperty(u)&&gd(e,u,t[u])}function Ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Di(e){return n0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ln(){}var Ds=null;function ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,va=null;function yd(e){var t=ma(e);if(t&&(e=t.stateNode)){var l=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Os(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+on(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[Ht]||null;if(!s)throw Error(o(90));Os(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&dd(a)}break e;case"textarea":md(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&xa(e,!!l.multiple,t,!1)}}}var Rs=!1;function bd(e,t,l){if(Rs)return e(t,l);Rs=!0;try{var a=e(t);return a}finally{if(Rs=!1,(ba!==null||va!==null)&&(vo(),ba&&(t=ba,e=va,va=ba=null,yd(t),e)))for(t=0;t<e.length;t++)yd(e[t])}}function xr(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Ht]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(Vn)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){zs=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{zs=!1}var il=null,Ls=null,ki=null;function vd(){if(ki)return ki;var e,t=Ls,l=t.length,a,s="value"in il?il.value:il.textContent,u=s.length;for(e=0;e<l&&t[e]===s[e];e++);var x=l-e;for(a=1;a<=x&&t[l-a]===s[u-a];a++);return ki=s.slice(e,1<a?1-a:void 0)}function Ri(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function wd(){return!1}function Ut(e){function t(l,a,s,u,x){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(l=e[N],this[N]=l?l(u):u[N]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?zi:wd,this.isPropagationStopped=wd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Ut(Ul),br=b({},Ul,{view:0,detail:0}),l0=Ut(br),Vs,Bs,vr,Vi=b({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(Vs=e.screenX-vr.screenX,Bs=e.screenY-vr.screenY):Bs=Vs=0,vr=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),Sd=Ut(Vi),a0=b({},Vi,{dataTransfer:0}),r0=Ut(a0),i0=b({},br,{relatedTarget:0}),Hs=Ut(i0),o0=b({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),s0=Ut(o0),c0=b({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u0=Ut(c0),f0=b({},Ul,{data:0}),Nd=Ut(f0),d0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m0[e])?!!t[e]:!1}function Us(){return p0}var g0=b({},br,{key:function(e){if(e.key){var t=d0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(e){return e.type==="keypress"?Ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x0=Ut(g0),y0=b({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=Ut(y0),b0=b({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),v0=Ut(b0),w0=b({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),S0=Ut(w0),N0=b({},Vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),E0=Ut(N0),j0=b({},Ul,{newState:0,oldState:0}),C0=Ut(j0),A0=[9,13,27,32],Is=Vn&&"CompositionEvent"in window,wr=null;Vn&&"documentMode"in document&&(wr=document.documentMode);var _0=Vn&&"TextEvent"in window&&!wr,jd=Vn&&(!Is||wr&&8<wr&&11>=wr),Cd=" ",Ad=!1;function _d(e,t){switch(e){case"keyup":return A0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function O0(e,t){switch(e){case"compositionend":return Od(t);case"keypress":return t.which!==32?null:(Ad=!0,Cd);case"textInput":return e=t.data,e===Cd&&Ad?null:e;default:return null}}function M0(e,t){if(wa)return e==="compositionend"||!Is&&_d(e,t)?(e=vd(),ki=Ls=il=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T0[e.type]:t==="textarea"}function Td(e,t,l,a){ba?va?va.push(a):va=[a]:ba=a,t=Ao(t,"onChange"),0<t.length&&(l=new Li("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Sr=null,Nr=null;function D0(e){hp(e,0)}function Bi(e){var t=gr(e);if(dd(t))return e}function Dd(e,t){if(e==="change")return t}var kd=!1;if(Vn){var Ys;if(Vn){var $s="oninput"in document;if(!$s){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),$s=typeof Rd.oninput=="function"}Ys=$s}else Ys=!1;kd=Ys&&(!document.documentMode||9<document.documentMode)}function zd(){Sr&&(Sr.detachEvent("onpropertychange",Ld),Nr=Sr=null)}function Ld(e){if(e.propertyName==="value"&&Bi(Nr)){var t=[];Td(t,Nr,e,ks(e)),bd(D0,t)}}function k0(e,t,l){e==="focusin"?(zd(),Sr=t,Nr=l,Sr.attachEvent("onpropertychange",Ld)):e==="focusout"&&zd()}function R0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(Nr)}function z0(e,t){if(e==="click")return Bi(t)}function L0(e,t){if(e==="input"||e==="change")return Bi(t)}function V0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:V0;function Er(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!xn.call(t,s)||!Zt(e[s],t[s]))return!1}return!0}function Vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bd(e,t){var l=Vd(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Vd(l)}}function Hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ti(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Ti(e.document)}return t}function qs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var B0=Vn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Xs=null,jr=null,Gs=!1;function Id(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Gs||Sa==null||Sa!==Ti(a)||(a=Sa,"selectionStart"in a&&qs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),jr&&Er(jr,a)||(jr=a,a=Ao(Xs,"onSelect"),0<a.length&&(t=new Li("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Sa)))}function Il(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Na={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionrun:Il("Transition","TransitionRun"),transitionstart:Il("Transition","TransitionStart"),transitioncancel:Il("Transition","TransitionCancel"),transitionend:Il("Transition","TransitionEnd")},Ws={},Yd={};Vn&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Yl(e){if(Ws[e])return Ws[e];if(!Na[e])return e;var t=Na[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Yd)return Ws[e]=t[l];return e}var $d=Yl("animationend"),qd=Yl("animationiteration"),Xd=Yl("animationstart"),H0=Yl("transitionrun"),U0=Yl("transitionstart"),I0=Yl("transitioncancel"),Gd=Yl("transitionend"),Wd=new Map,Zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zs.push("scrollEnd");function vn(e,t){Wd.set(e,t),Hl(t,[e])}var Hi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sn=[],Ea=0,Qs=0;function Ui(){for(var e=Ea,t=Qs=Ea=0;t<e;){var l=sn[t];sn[t++]=null;var a=sn[t];sn[t++]=null;var s=sn[t];sn[t++]=null;var u=sn[t];if(sn[t++]=null,a!==null&&s!==null){var x=a.pending;x===null?s.next=s:(s.next=x.next,x.next=s),a.pending=s}u!==0&&Zd(l,s,u)}}function Ii(e,t,l,a){sn[Ea++]=e,sn[Ea++]=t,sn[Ea++]=l,sn[Ea++]=a,Qs|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ks(e,t,l,a){return Ii(e,t,l,a),Yi(e)}function $l(e,t){return Ii(e,null,null,t),Yi(e)}function Zd(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,u=e.return;u!==null;)u.childLanes|=l,a=u.alternate,a!==null&&(a.childLanes|=l),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(s=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,s&&t!==null&&(s=31-St(l),e=u.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),u):null}function Yi(e){if(50<Wr)throw Wr=0,ru=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ja={};function Y0(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,l,a){return new Y0(e,t,l,a)}function Fs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bn(e,t){var l=e.alternate;return l===null?(l=Qt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Qd(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $i(e,t,l,a,s,u){var x=0;if(a=e,typeof e=="function")Fs(e)&&(x=1);else if(typeof e=="string")x=Wv(e,l,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Qt(31,l,t,s),e.elementType=K,e.lanes=u,e;case v:return ql(l.children,s,u,t);case j:x=8,s|=24;break;case A:return e=Qt(12,l,t,s|2),e.elementType=A,e.lanes=u,e;case B:return e=Qt(13,l,t,s),e.elementType=B,e.lanes=u,e;case U:return e=Qt(19,l,t,s),e.elementType=U,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:x=10;break e;case O:x=9;break e;case Y:x=11;break e;case $:x=14;break e;case q:x=16,a=null;break e}x=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Qt(x,l,t,s),t.elementType=e,t.type=a,t.lanes=u,t}function ql(e,t,l,a){return e=Qt(7,e,a,t),e.lanes=l,e}function Js(e,t,l){return e=Qt(6,e,null,t),e.lanes=l,e}function Kd(e){var t=Qt(18,null,null,0);return t.stateNode=e,t}function Ps(e,t,l){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fd=new WeakMap;function cn(e,t){if(typeof e=="object"&&e!==null){var l=Fd.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Wt(t)},Fd.set(e,t),t)}return{value:e,source:t,stack:Wt(t)}}var Ca=[],Aa=0,qi=null,Cr=0,un=[],fn=0,ol=null,Cn=1,An="";function Hn(e,t){Ca[Aa++]=Cr,Ca[Aa++]=qi,qi=e,Cr=t}function Jd(e,t,l){un[fn++]=Cn,un[fn++]=An,un[fn++]=ol,ol=e;var a=Cn;e=An;var s=32-St(a)-1;a&=~(1<<s),l+=1;var u=32-St(t)+s;if(30<u){var x=s-s%5;u=(a&(1<<x)-1).toString(32),a>>=x,s-=x,Cn=1<<32-St(t)+s|l<<s|a,An=u+e}else Cn=1<<u|l<<s|a,An=e}function ec(e){e.return!==null&&(Hn(e,1),Jd(e,1,0))}function tc(e){for(;e===qi;)qi=Ca[--Aa],Ca[Aa]=null,Cr=Ca[--Aa],Ca[Aa]=null;for(;e===ol;)ol=un[--fn],un[fn]=null,An=un[--fn],un[fn]=null,Cn=un[--fn],un[fn]=null}function Pd(e,t){un[fn++]=Cn,un[fn++]=An,un[fn++]=ol,Cn=t.id,An=t.overflow,ol=e}var jt=null,Ke=null,ze=!1,sl=null,dn=!1,nc=Error(o(519));function cl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ar(cn(t,e)),nc}function eh(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Et]=e,t[Ht]=a,l){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(l=0;l<Qr.length;l++)De(Qr[l],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),hd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),pd(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||xp(t.textContent,l)?(a.popover!=null&&(De("beforetoggle",t),De("toggle",t)),a.onScroll!=null&&De("scroll",t),a.onScrollEnd!=null&&De("scrollend",t),a.onClick!=null&&(t.onclick=Ln),t=!0):t=!1,t||cl(e,!0)}function th(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:jt=jt.return}}function _a(e){if(e!==jt)return!1;if(!ze)return th(e),ze=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||vu(e.type,e.memoizedProps)),l=!l),l&&Ke&&cl(e),th(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=Cp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=Cp(e)}else t===27?(t=Ke,Nl(e.type)?(e=ju,ju=null,Ke=e):Ke=t):Ke=jt?mn(e.stateNode.nextSibling):null;return!0}function Xl(){Ke=jt=null,ze=!1}function lc(){var e=sl;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),sl=null),e}function Ar(e){sl===null?sl=[e]:sl.push(e)}var ac=C(null),Gl=null,Un=null;function ul(e,t,l){P(ac,t._currentValue),t._currentValue=l}function In(e){e._currentValue=ac.current,H(ac)}function rc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function ic(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){var x=s.child;u=u.firstContext;e:for(;u!==null;){var N=u;u=s;for(var M=0;M<t.length;M++)if(N.context===t[M]){u.lanes|=l,N=u.alternate,N!==null&&(N.lanes|=l),rc(u.return,l,e),a||(x=null);break e}u=N.next}}else if(s.tag===18){if(x=s.return,x===null)throw Error(o(341));x.lanes|=l,u=x.alternate,u!==null&&(u.lanes|=l),rc(x,l,e),x=null}else x=s.child;if(x!==null)x.return=s;else for(x=s;x!==null;){if(x===e){x=null;break}if(s=x.sibling,s!==null){s.return=x.return,x=s;break}x=x.return}s=x}}function Oa(e,t,l,a){e=null;for(var s=t,u=!1;s!==null;){if(!u){if((s.flags&524288)!==0)u=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var x=s.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var N=s.type;Zt(s.pendingProps.value,x.value)||(e!==null?e.push(N):e=[N])}}else if(s===de.current){if(x=s.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ei):e=[ei])}s=s.return}e!==null&&ic(t,e,l,a),t.flags|=262144}function Xi(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wl(e){Gl=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return nh(Gl,e)}function Gi(e,t){return Gl===null&&Wl(e),nh(e,t)}function nh(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Un===null){if(e===null)throw Error(o(308));Un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Un=Un.next=t;return l}var $0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},q0=n.unstable_scheduleCallback,X0=n.unstable_NormalPriority,ct={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new $0,data:new Map,refCount:0}}function _r(e){e.refCount--,e.refCount===0&&q0(X0,function(){e.controller.abort()})}var Or=null,sc=0,Ma=0,Ta=null;function G0(e,t){if(Or===null){var l=Or=[];sc=0,Ma=fu(),Ta={status:"pending",value:void 0,then:function(a){l.push(a)}}}return sc++,t.then(lh,lh),t}function lh(){if(--sc===0&&Or!==null){Ta!==null&&(Ta.status="fulfilled");var e=Or;Or=null,Ma=0,Ta=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function W0(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var ah=k.S;k.S=function(e,t){Im=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&G0(e,t),ah!==null&&ah(e,t)};var Zl=C(null);function cc(){var e=Zl.current;return e!==null?e:Ze.pooledCache}function Wi(e,t){t===null?P(Zl,Zl.current):P(Zl,t.pool)}function rh(){var e=cc();return e===null?null:{parent:ct._currentValue,pool:e}}var Da=Error(o(460)),uc=Error(o(474)),Zi=Error(o(542)),Qi={then:function(){}};function ih(e){return e=e.status,e==="fulfilled"||e==="rejected"}function oh(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Ln,Ln),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ch(e),e;default:if(typeof t.status=="string")t.then(Ln,Ln);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ch(e),e}throw Kl=t,Da}}function Ql(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Kl=l,Da):l}}var Kl=null;function sh(){if(Kl===null)throw Error(o(459));var e=Kl;return Kl=null,e}function ch(e){if(e===Da||e===Zi)throw Error(o(483))}var ka=null,Mr=0;function Ki(e){var t=Mr;return Mr+=1,ka===null&&(ka=[]),oh(ka,e,t)}function Tr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fi(e,t){throw t.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function uh(e){function t(I,z){if(e){var X=I.deletions;X===null?(I.deletions=[z],I.flags|=16):X.push(z)}}function l(I,z){if(!e)return null;for(;z!==null;)t(I,z),z=z.sibling;return null}function a(I){for(var z=new Map;I!==null;)I.key!==null?z.set(I.key,I):z.set(I.index,I),I=I.sibling;return z}function s(I,z){return I=Bn(I,z),I.index=0,I.sibling=null,I}function u(I,z,X){return I.index=X,e?(X=I.alternate,X!==null?(X=X.index,X<z?(I.flags|=67108866,z):X):(I.flags|=67108866,z)):(I.flags|=1048576,z)}function x(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function N(I,z,X,ee){return z===null||z.tag!==6?(z=Js(X,I.mode,ee),z.return=I,z):(z=s(z,X),z.return=I,z)}function M(I,z,X,ee){var be=X.type;return be===v?F(I,z,X.props.children,ee,X.key):z!==null&&(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===q&&Ql(be)===z.type)?(z=s(z,X.props),Tr(z,X),z.return=I,z):(z=$i(X.type,X.key,X.props,null,I.mode,ee),Tr(z,X),z.return=I,z)}function G(I,z,X,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=Ps(X,I.mode,ee),z.return=I,z):(z=s(z,X.children||[]),z.return=I,z)}function F(I,z,X,ee,be){return z===null||z.tag!==7?(z=ql(X,I.mode,ee,be),z.return=I,z):(z=s(z,X),z.return=I,z)}function te(I,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Js(""+z,I.mode,X),z.return=I,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return X=$i(z.type,z.key,z.props,null,I.mode,X),Tr(X,z),X.return=I,X;case w:return z=Ps(z,I.mode,X),z.return=I,z;case q:return z=Ql(z),te(I,z,X)}if(ae(z)||ie(z))return z=ql(z,I.mode,X,null),z.return=I,z;if(typeof z.then=="function")return te(I,Ki(z),X);if(z.$$typeof===V)return te(I,Gi(I,z),X);Fi(I,z)}return null}function W(I,z,X,ee){var be=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return be!==null?null:N(I,z,""+X,ee);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===be?M(I,z,X,ee):null;case w:return X.key===be?G(I,z,X,ee):null;case q:return X=Ql(X),W(I,z,X,ee)}if(ae(X)||ie(X))return be!==null?null:F(I,z,X,ee,null);if(typeof X.then=="function")return W(I,z,Ki(X),ee);if(X.$$typeof===V)return W(I,z,Gi(I,X),ee);Fi(I,X)}return null}function Q(I,z,X,ee,be){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return I=I.get(X)||null,N(z,I,""+ee,be);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return I=I.get(ee.key===null?X:ee.key)||null,M(z,I,ee,be);case w:return I=I.get(ee.key===null?X:ee.key)||null,G(z,I,ee,be);case q:return ee=Ql(ee),Q(I,z,X,ee,be)}if(ae(ee)||ie(ee))return I=I.get(X)||null,F(z,I,ee,be,null);if(typeof ee.then=="function")return Q(I,z,X,Ki(ee),be);if(ee.$$typeof===V)return Q(I,z,X,Gi(z,ee),be);Fi(z,ee)}return null}function fe(I,z,X,ee){for(var be=null,Ve=null,pe=z,Ce=z=0,Re=null;pe!==null&&Ce<X.length;Ce++){pe.index>Ce?(Re=pe,pe=null):Re=pe.sibling;var Be=W(I,pe,X[Ce],ee);if(Be===null){pe===null&&(pe=Re);break}e&&pe&&Be.alternate===null&&t(I,pe),z=u(Be,z,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be,pe=Re}if(Ce===X.length)return l(I,pe),ze&&Hn(I,Ce),be;if(pe===null){for(;Ce<X.length;Ce++)pe=te(I,X[Ce],ee),pe!==null&&(z=u(pe,z,Ce),Ve===null?be=pe:Ve.sibling=pe,Ve=pe);return ze&&Hn(I,Ce),be}for(pe=a(pe);Ce<X.length;Ce++)Re=Q(pe,I,Ce,X[Ce],ee),Re!==null&&(e&&Re.alternate!==null&&pe.delete(Re.key===null?Ce:Re.key),z=u(Re,z,Ce),Ve===null?be=Re:Ve.sibling=Re,Ve=Re);return e&&pe.forEach(function(_l){return t(I,_l)}),ze&&Hn(I,Ce),be}function we(I,z,X,ee){if(X==null)throw Error(o(151));for(var be=null,Ve=null,pe=z,Ce=z=0,Re=null,Be=X.next();pe!==null&&!Be.done;Ce++,Be=X.next()){pe.index>Ce?(Re=pe,pe=null):Re=pe.sibling;var _l=W(I,pe,Be.value,ee);if(_l===null){pe===null&&(pe=Re);break}e&&pe&&_l.alternate===null&&t(I,pe),z=u(_l,z,Ce),Ve===null?be=_l:Ve.sibling=_l,Ve=_l,pe=Re}if(Be.done)return l(I,pe),ze&&Hn(I,Ce),be;if(pe===null){for(;!Be.done;Ce++,Be=X.next())Be=te(I,Be.value,ee),Be!==null&&(z=u(Be,z,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be);return ze&&Hn(I,Ce),be}for(pe=a(pe);!Be.done;Ce++,Be=X.next())Be=Q(pe,I,Ce,Be.value,ee),Be!==null&&(e&&Be.alternate!==null&&pe.delete(Be.key===null?Ce:Be.key),z=u(Be,z,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be);return e&&pe.forEach(function(a1){return t(I,a1)}),ze&&Hn(I,Ce),be}function Ge(I,z,X,ee){if(typeof X=="object"&&X!==null&&X.type===v&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var be=X.key;z!==null;){if(z.key===be){if(be=X.type,be===v){if(z.tag===7){l(I,z.sibling),ee=s(z,X.props.children),ee.return=I,I=ee;break e}}else if(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===q&&Ql(be)===z.type){l(I,z.sibling),ee=s(z,X.props),Tr(ee,X),ee.return=I,I=ee;break e}l(I,z);break}else t(I,z);z=z.sibling}X.type===v?(ee=ql(X.props.children,I.mode,ee,X.key),ee.return=I,I=ee):(ee=$i(X.type,X.key,X.props,null,I.mode,ee),Tr(ee,X),ee.return=I,I=ee)}return x(I);case w:e:{for(be=X.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){l(I,z.sibling),ee=s(z,X.children||[]),ee.return=I,I=ee;break e}else{l(I,z);break}else t(I,z);z=z.sibling}ee=Ps(X,I.mode,ee),ee.return=I,I=ee}return x(I);case q:return X=Ql(X),Ge(I,z,X,ee)}if(ae(X))return fe(I,z,X,ee);if(ie(X)){if(be=ie(X),typeof be!="function")throw Error(o(150));return X=be.call(X),we(I,z,X,ee)}if(typeof X.then=="function")return Ge(I,z,Ki(X),ee);if(X.$$typeof===V)return Ge(I,z,Gi(I,X),ee);Fi(I,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(l(I,z.sibling),ee=s(z,X),ee.return=I,I=ee):(l(I,z),ee=Js(X,I.mode,ee),ee.return=I,I=ee),x(I)):l(I,z)}return function(I,z,X,ee){try{Mr=0;var be=Ge(I,z,X,ee);return ka=null,be}catch(pe){if(pe===Da||pe===Zi)throw pe;var Ve=Qt(29,pe,null,I.mode);return Ve.lanes=ee,Ve.return=I,Ve}}}var Fl=uh(!0),fh=uh(!1),fl=!1;function fc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(He&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Yi(e),Zd(e,null,l),t}return Ii(e,a,t,l),Yi(e)}function Dr(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,nd(e,l)}}function hc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,u=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};u===null?s=u=x:u=u.next=x,l=l.next}while(l!==null);u===null?s=u=t:u=u.next=t}else s=u=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var mc=!1;function kr(){if(mc){var e=Ta;if(e!==null)throw e}}function Rr(e,t,l,a){mc=!1;var s=e.updateQueue;fl=!1;var u=s.firstBaseUpdate,x=s.lastBaseUpdate,N=s.shared.pending;if(N!==null){s.shared.pending=null;var M=N,G=M.next;M.next=null,x===null?u=G:x.next=G,x=M;var F=e.alternate;F!==null&&(F=F.updateQueue,N=F.lastBaseUpdate,N!==x&&(N===null?F.firstBaseUpdate=G:N.next=G,F.lastBaseUpdate=M))}if(u!==null){var te=s.baseState;x=0,F=G=M=null,N=u;do{var W=N.lane&-536870913,Q=W!==N.lane;if(Q?(ke&W)===W:(a&W)===W){W!==0&&W===Ma&&(mc=!0),F!==null&&(F=F.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var fe=e,we=N;W=t;var Ge=l;switch(we.tag){case 1:if(fe=we.payload,typeof fe=="function"){te=fe.call(Ge,te,W);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=we.payload,W=typeof fe=="function"?fe.call(Ge,te,W):fe,W==null)break e;te=b({},te,W);break e;case 2:fl=!0}}W=N.callback,W!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=s.callbacks,Q===null?s.callbacks=[W]:Q.push(W))}else Q={lane:W,tag:N.tag,payload:N.payload,callback:N.callback,next:null},F===null?(G=F=Q,M=te):F=F.next=Q,x|=W;if(N=N.next,N===null){if(N=s.shared.pending,N===null)break;Q=N,N=Q.next,Q.next=null,s.lastBaseUpdate=Q,s.shared.pending=null}}while(!0);F===null&&(M=te),s.baseState=M,s.firstBaseUpdate=G,s.lastBaseUpdate=F,u===null&&(s.shared.lanes=0),yl|=x,e.lanes=x,e.memoizedState=te}}function dh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function hh(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)dh(l[e],t)}var Ra=C(null),Ji=C(0);function mh(e,t){e=Kn,P(Ji,e),P(Ra,t),Kn=e|t.baseLanes}function pc(){P(Ji,Kn),P(Ra,Ra.current)}function gc(){Kn=Ji.current,H(Ra),H(Ji)}var Kt=C(null),hn=null;function ml(e){var t=e.alternate;P(rt,rt.current&1),P(Kt,e),hn===null&&(t===null||Ra.current!==null||t.memoizedState!==null)&&(hn=e)}function xc(e){P(rt,rt.current),P(Kt,e),hn===null&&(hn=e)}function ph(e){e.tag===22?(P(rt,rt.current),P(Kt,e),hn===null&&(hn=e)):pl()}function pl(){P(rt,rt.current),P(Kt,Kt.current)}function Ft(e){H(Kt),hn===e&&(hn=null),H(rt)}var rt=C(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Nu(l)||Eu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yn=0,je=null,qe=null,ut=null,eo=!1,za=!1,Jl=!1,to=0,zr=0,La=null,Z0=0;function tt(){throw Error(o(321))}function yc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Zt(e[l],t[l]))return!1;return!0}function bc(e,t,l,a,s,u){return Yn=u,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Jh:Rc,Jl=!1,u=l(a,s),Jl=!1,za&&(u=xh(t,l,a,s)),gh(e),u}function gh(e){k.H=Br;var t=qe!==null&&qe.next!==null;if(Yn=0,ut=qe=je=null,eo=!1,zr=0,La=null,t)throw Error(o(300));e===null||ft||(e=e.dependencies,e!==null&&Xi(e)&&(ft=!0))}function xh(e,t,l,a){je=e;var s=0;do{if(za&&(La=null),zr=0,za=!1,25<=s)throw Error(o(301));if(s+=1,ut=qe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}k.H=Ph,u=t(l,a)}while(za);return u}function Q0(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Lr(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(je.flags|=1024),t}function vc(){var e=to!==0;return to=0,e}function wc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Sc(e){if(eo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}eo=!1}Yn=0,ut=qe=je=null,za=!1,zr=to=0,La=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?je.memoizedState=ut=e:ut=ut.next=e,ut}function it(){if(qe===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=ut===null?je.memoizedState:ut.next;if(t!==null)ut=t,qe=e;else{if(e===null)throw je.alternate===null?Error(o(467)):Error(o(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ut===null?je.memoizedState=ut=e:ut=ut.next=e}return ut}function no(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lr(e){var t=zr;return zr+=1,La===null&&(La=[]),e=oh(La,e,t),t=je,(ut===null?t.memoizedState:ut.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Jh:Rc),e}function lo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lr(e);if(e.$$typeof===V)return Ct(e)}throw Error(o(438,String(e)))}function Nc(e){var t=null,l=je.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=je.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=no(),je.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=le;return t.index++,l}function $n(e,t){return typeof t=="function"?t(e):t}function ao(e){var t=it();return Ec(t,qe,e)}function Ec(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,u=a.pending;if(u!==null){if(s!==null){var x=s.next;s.next=u.next,u.next=x}t.baseQueue=s=u,a.pending=null}if(u=e.baseState,s===null)e.memoizedState=u;else{t=s.next;var N=x=null,M=null,G=t,F=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(ke&te)===te:(Yn&te)===te){var W=G.revertLane;if(W===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Ma&&(F=!0);else if((Yn&W)===W){G=G.next,W===Ma&&(F=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(N=M=te,x=u):M=M.next=te,je.lanes|=W,yl|=W;te=G.action,Jl&&l(u,te),u=G.hasEagerState?G.eagerState:l(u,te)}else W={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(N=M=W,x=u):M=M.next=W,je.lanes|=te,yl|=te;G=G.next}while(G!==null&&G!==t);if(M===null?x=u:M.next=N,!Zt(u,e.memoizedState)&&(ft=!0,F&&(l=Ta,l!==null)))throw l;e.memoizedState=u,e.baseState=x,e.baseQueue=M,a.lastRenderedState=u}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function jc(e){var t=it(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,u=t.memoizedState;if(s!==null){l.pending=null;var x=s=s.next;do u=e(u,x.action),x=x.next;while(x!==s);Zt(u,t.memoizedState)||(ft=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),l.lastRenderedState=u}return[u,a]}function yh(e,t,l){var a=je,s=it(),u=ze;if(u){if(l===void 0)throw Error(o(407));l=l()}else l=t();var x=!Zt((qe||s).memoizedState,l);if(x&&(s.memoizedState=l,ft=!0),s=s.queue,_c(wh.bind(null,a,s,e),[e]),s.getSnapshot!==t||x||ut!==null&&ut.memoizedState.tag&1){if(a.flags|=2048,Va(9,{destroy:void 0},vh.bind(null,a,s,l,t),null),Ze===null)throw Error(o(349));u||(Yn&127)!==0||bh(a,t,l)}return l}function bh(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=je.updateQueue,t===null?(t=no(),je.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function vh(e,t,l,a){t.value=l,t.getSnapshot=a,Sh(t)&&Nh(e)}function wh(e,t,l){return l(function(){Sh(t)&&Nh(e)})}function Sh(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Zt(e,l)}catch{return!0}}function Nh(e){var t=$l(e,2);t!==null&&Xt(t,e,2)}function Cc(e){var t=Lt();if(typeof e=="function"){var l=e;if(e=l(),Jl){an(!0);try{l()}finally{an(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},t}function Eh(e,t,l,a){return e.baseState=l,Ec(e,qe,typeof a=="function"?a:$n)}function K0(e,t,l,a,s){if(oo(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){u.listeners.push(x)}};k.T!==null?l(!0):u.isTransition=!1,a(u),l=t.pending,l===null?(u.next=t.pending=u,jh(t,u)):(u.next=l.next,t.pending=l.next=u)}}function jh(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var u=k.T,x={};k.T=x;try{var N=l(s,a),M=k.S;M!==null&&M(x,N),Ch(e,t,N)}catch(G){Ac(e,t,G)}finally{u!==null&&x.types!==null&&(u.types=x.types),k.T=u}}else try{u=l(s,a),Ch(e,t,u)}catch(G){Ac(e,t,G)}}function Ch(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Ah(e,t,a)},function(a){return Ac(e,t,a)}):Ah(e,t,l)}function Ah(e,t,l){t.status="fulfilled",t.value=l,_h(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,jh(e,l)))}function Ac(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,_h(t),t=t.next;while(t!==a)}e.action=null}function _h(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oh(e,t){return t}function Mh(e,t){if(ze){var l=Ze.formState;if(l!==null){e:{var a=je;if(ze){if(Ke){t:{for(var s=Ke,u=dn;s.nodeType!==8;){if(!u){s=null;break t}if(s=mn(s.nextSibling),s===null){s=null;break t}}u=s.data,s=u==="F!"||u==="F"?s:null}if(s){Ke=mn(s.nextSibling),a=s.data==="F!";break e}}cl(a)}a=!1}a&&(t=l[0])}}return l=Lt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:t},l.queue=a,l=Qh.bind(null,je,a),a.dispatch=l,a=Cc(!1),u=kc.bind(null,je,!1,a.queue),a=Lt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=K0.bind(null,je,s,u,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function Th(e){var t=it();return Dh(t,qe,e)}function Dh(e,t,l){if(t=Ec(e,t,Oh)[0],e=ao($n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Lr(t)}catch(x){throw x===Da?Zi:x}else a=t;t=it();var s=t.queue,u=s.dispatch;return l!==t.memoizedState&&(je.flags|=2048,Va(9,{destroy:void 0},F0.bind(null,s,l),null)),[a,u,e]}function F0(e,t){e.action=t}function kh(e){var t=it(),l=qe;if(l!==null)return Dh(t,l,e);it(),t=t.memoizedState,l=it();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Va(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=je.updateQueue,t===null&&(t=no(),je.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Rh(){return it().memoizedState}function ro(e,t,l,a){var s=Lt();je.flags|=e,s.memoizedState=Va(1|t,{destroy:void 0},l,a===void 0?null:a)}function io(e,t,l,a){var s=it();a=a===void 0?null:a;var u=s.memoizedState.inst;qe!==null&&a!==null&&yc(a,qe.memoizedState.deps)?s.memoizedState=Va(t,u,l,a):(je.flags|=e,s.memoizedState=Va(1|t,u,l,a))}function zh(e,t){ro(8390656,8,e,t)}function _c(e,t){io(2048,8,e,t)}function J0(e){je.flags|=4;var t=je.updateQueue;if(t===null)t=no(),je.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Lh(e){var t=it().memoizedState;return J0({ref:t,nextImpl:e}),function(){if((He&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Vh(e,t){return io(4,2,e,t)}function Bh(e,t){return io(4,4,e,t)}function Hh(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uh(e,t,l){l=l!=null?l.concat([e]):null,io(4,4,Hh.bind(null,t,e),l)}function Oc(){}function Ih(e,t){var l=it();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&yc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Yh(e,t){var l=it();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&yc(t,a[1]))return a[0];if(a=e(),Jl){an(!0);try{e()}finally{an(!1)}}return l.memoizedState=[a,t],a}function Mc(e,t,l){return l===void 0||(Yn&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=$m(),je.lanes|=e,yl|=e,l)}function $h(e,t,l,a){return Zt(l,t)?l:Ra.current!==null?(e=Mc(e,l,a),Zt(e,t)||(ft=!0),e):(Yn&42)===0||(Yn&1073741824)!==0&&(ke&261930)===0?(ft=!0,e.memoizedState=l):(e=$m(),je.lanes|=e,yl|=e,t)}function qh(e,t,l,a,s){var u=D.p;D.p=u!==0&&8>u?u:8;var x=k.T,N={};k.T=N,kc(e,!1,t,l);try{var M=s(),G=k.S;if(G!==null&&G(N,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var F=W0(M,a);Vr(e,t,F,en(e))}else Vr(e,t,a,en(e))}catch(te){Vr(e,t,{then:function(){},status:"rejected",reason:te},en())}finally{D.p=u,x!==null&&N.types!==null&&(x.types=N.types),k.T=x}}function P0(){}function Tc(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=Xh(e).queue;qh(e,s,t,R,l===null?P0:function(){return Gh(e),l(a)})}function Xh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:R},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gh(e){var t=Xh(e);t.next===null&&(t=e.alternate.memoizedState),Vr(e,t.next.queue,{},en())}function Dc(){return Ct(ei)}function Wh(){return it().memoizedState}function Zh(){return it().memoizedState}function ev(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=en();e=dl(l);var a=hl(t,e,l);a!==null&&(Xt(a,t,l),Dr(a,t,l)),t={cache:oc()},e.payload=t;return}t=t.return}}function tv(e,t,l){var a=en();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oo(e)?Kh(t,l):(l=Ks(e,t,l,a),l!==null&&(Xt(l,e,a),Fh(l,t,a)))}function Qh(e,t,l){var a=en();Vr(e,t,l,a)}function Vr(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(oo(e))Kh(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var x=t.lastRenderedState,N=u(x,l);if(s.hasEagerState=!0,s.eagerState=N,Zt(N,x))return Ii(e,t,s,0),Ze===null&&Ui(),!1}catch{}if(l=Ks(e,t,s,a),l!==null)return Xt(l,e,a),Fh(l,t,a),!0}return!1}function kc(e,t,l,a){if(a={lane:2,revertLane:fu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oo(e)){if(t)throw Error(o(479))}else t=Ks(e,l,a,2),t!==null&&Xt(t,e,2)}function oo(e){var t=e.alternate;return e===je||t!==null&&t===je}function Kh(e,t){za=eo=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Fh(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,nd(e,l)}}var Br={readContext:Ct,use:lo,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};Br.useEffectEvent=tt;var Jh={readContext:Ct,use:lo,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:zh,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ro(4194308,4,Hh.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){ro(4,2,e,t)},useMemo:function(e,t){var l=Lt();t=t===void 0?null:t;var a=e();if(Jl){an(!0);try{e()}finally{an(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Lt();if(l!==void 0){var s=l(t);if(Jl){an(!0);try{l(t)}finally{an(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=tv.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:function(e){e=Cc(e);var t=e.queue,l=Qh.bind(null,je,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Oc,useDeferredValue:function(e,t){var l=Lt();return Mc(l,e,t)},useTransition:function(){var e=Cc(!1);return e=qh.bind(null,je,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=je,s=Lt();if(ze){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Ze===null)throw Error(o(349));(ke&127)!==0||bh(a,t,l)}s.memoizedState=l;var u={value:l,getSnapshot:t};return s.queue=u,zh(wh.bind(null,a,u,e),[e]),a.flags|=2048,Va(9,{destroy:void 0},vh.bind(null,a,u,l,t),null),l},useId:function(){var e=Lt(),t=Ze.identifierPrefix;if(ze){var l=An,a=Cn;l=(a&~(1<<32-St(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=to++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Z0++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Dc,useFormState:Mh,useActionState:Mh,useOptimistic:function(e){var t=Lt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=kc.bind(null,je,!0,l),l.dispatch=t,[e,t]},useMemoCache:Nc,useCacheRefresh:function(){return Lt().memoizedState=ev.bind(null,je)},useEffectEvent:function(e){var t=Lt(),l={impl:e};return t.memoizedState=l,function(){if((He&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Rc={readContext:Ct,use:lo,useCallback:Ih,useContext:Ct,useEffect:_c,useImperativeHandle:Uh,useInsertionEffect:Vh,useLayoutEffect:Bh,useMemo:Yh,useReducer:ao,useRef:Rh,useState:function(){return ao($n)},useDebugValue:Oc,useDeferredValue:function(e,t){var l=it();return $h(l,qe.memoizedState,e,t)},useTransition:function(){var e=ao($n)[0],t=it().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:yh,useId:Wh,useHostTransitionStatus:Dc,useFormState:Th,useActionState:Th,useOptimistic:function(e,t){var l=it();return Eh(l,qe,e,t)},useMemoCache:Nc,useCacheRefresh:Zh};Rc.useEffectEvent=Lh;var Ph={readContext:Ct,use:lo,useCallback:Ih,useContext:Ct,useEffect:_c,useImperativeHandle:Uh,useInsertionEffect:Vh,useLayoutEffect:Bh,useMemo:Yh,useReducer:jc,useRef:Rh,useState:function(){return jc($n)},useDebugValue:Oc,useDeferredValue:function(e,t){var l=it();return qe===null?Mc(l,e,t):$h(l,qe.memoizedState,e,t)},useTransition:function(){var e=jc($n)[0],t=it().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:yh,useId:Wh,useHostTransitionStatus:Dc,useFormState:kh,useActionState:kh,useOptimistic:function(e,t){var l=it();return qe!==null?Eh(l,qe,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Nc,useCacheRefresh:Zh};Ph.useEffectEvent=Lh;function zc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:b({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lc={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=en(),s=dl(a);s.payload=t,l!=null&&(s.callback=l),t=hl(e,s,a),t!==null&&(Xt(t,e,a),Dr(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=en(),s=dl(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=hl(e,s,a),t!==null&&(Xt(t,e,a),Dr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=en(),a=dl(l);a.tag=2,t!=null&&(a.callback=t),t=hl(e,a,l),t!==null&&(Xt(t,e,l),Dr(t,e,l))}};function em(e,t,l,a,s,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,x):t.prototype&&t.prototype.isPureReactComponent?!Er(l,a)||!Er(s,u):!0}function tm(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Lc.enqueueReplaceState(t,t.state,null)}function Pl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=b({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function nm(e){Hi(e)}function lm(e){console.error(e)}function am(e){Hi(e)}function so(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function rm(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Vc(e,t,l){return l=dl(l),l.tag=3,l.payload={element:null},l.callback=function(){so(e,t)},l}function im(e){return e=dl(e),e.tag=3,e}function om(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var u=a.value;e.payload=function(){return s(u)},e.callback=function(){rm(t,l,a)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){rm(t,l,a),typeof s!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})})}function nv(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Oa(t,l,s,!0),l=Kt.current,l!==null){switch(l.tag){case 31:case 13:return hn===null?wo():l.alternate===null&&nt===0&&(nt=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===Qi?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),su(e,a,s)),!1;case 22:return l.flags|=65536,a===Qi?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),su(e,a,s)),!1}throw Error(o(435,l.tag))}return su(e,a,s),wo(),!1}if(ze)return t=Kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==nc&&(e=Error(o(422),{cause:a}),Ar(cn(e,l)))):(a!==nc&&(t=Error(o(423),{cause:a}),Ar(cn(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=cn(a,l),s=Vc(e.stateNode,a,s),hc(e,s),nt!==4&&(nt=2)),!1;var u=Error(o(520),{cause:a});if(u=cn(u,l),Gr===null?Gr=[u]:Gr.push(u),nt!==4&&(nt=2),t===null)return!0;a=cn(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=Vc(l.stateNode,a,e),hc(l,e),!1;case 1:if(t=l.type,u=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(bl===null||!bl.has(u))))return l.flags|=65536,s&=-s,l.lanes|=s,s=im(s),om(s,e,l,a),hc(l,s),!1}l=l.return}while(l!==null);return!1}var Bc=Error(o(461)),ft=!1;function At(e,t,l,a){t.child=e===null?fh(t,null,l,a):Fl(t,e.child,l,a)}function sm(e,t,l,a,s){l=l.render;var u=t.ref;if("ref"in a){var x={};for(var N in a)N!=="ref"&&(x[N]=a[N])}else x=a;return Wl(t),a=bc(e,t,l,x,u,s),N=vc(),e!==null&&!ft?(wc(e,t,s),qn(e,t,s)):(ze&&N&&ec(t),t.flags|=1,At(e,t,a,s),t.child)}function cm(e,t,l,a,s){if(e===null){var u=l.type;return typeof u=="function"&&!Fs(u)&&u.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=u,um(e,t,u,a,s)):(e=$i(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Gc(e,s)){var x=u.memoizedProps;if(l=l.compare,l=l!==null?l:Er,l(x,a)&&e.ref===t.ref)return qn(e,t,s)}return t.flags|=1,e=Bn(u,a),e.ref=t.ref,e.return=t,t.child=e}function um(e,t,l,a,s){if(e!==null){var u=e.memoizedProps;if(Er(u,a)&&e.ref===t.ref)if(ft=!1,t.pendingProps=a=u,Gc(e,s))(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,qn(e,t,s)}return Hc(e,t,l,a,s)}function fm(e,t,l,a){var s=a.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~u}else a=0,t.child=null;return dm(e,t,u,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wi(t,u!==null?u.cachePool:null),u!==null?mh(t,u):pc(),ph(t);else return a=t.lanes=536870912,dm(e,t,u!==null?u.baseLanes|l:l,l,a)}else u!==null?(Wi(t,u.cachePool),mh(t,u),pl(),t.memoizedState=null):(e!==null&&Wi(t,null),pc(),pl());return At(e,t,s,l),t.child}function Hr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dm(e,t,l,a,s){var u=cc();return u=u===null?null:{parent:ct._currentValue,pool:u},t.memoizedState={baseLanes:l,cachePool:u},e!==null&&Wi(t,null),pc(),ph(t),e!==null&&Oa(e,t,a,!0),t.childLanes=s,null}function co(e,t){return t=fo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hm(e,t,l){return Fl(t,e.child,null,l),e=co(t,t.pendingProps),e.flags|=2,Ft(t),t.memoizedState=null,e}function lv(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(a.mode==="hidden")return e=co(t,a),t.lanes=536870912,Hr(null,e);if(xc(t),(e=Ke)?(e=jp(e,dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ol!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Kd(e),l.return=t,t.child=l,jt=t,Ke=null)):e=null,e===null)throw cl(t);return t.lanes=536870912,null}return co(t,a)}var u=e.memoizedState;if(u!==null){var x=u.dehydrated;if(xc(t),s)if(t.flags&256)t.flags&=-257,t=hm(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(ft||Oa(e,t,l,!1),s=(l&e.childLanes)!==0,ft||s){if(a=Ze,a!==null&&(x=ld(a,l),x!==0&&x!==u.retryLane))throw u.retryLane=x,$l(e,x),Xt(a,e,x),Bc;wo(),t=hm(e,t,l)}else e=u.treeContext,Ke=mn(x.nextSibling),jt=t,ze=!0,sl=null,dn=!1,e!==null&&Pd(t,e),t=co(t,a),t.flags|=4096;return t}return e=Bn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function uo(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Hc(e,t,l,a,s){return Wl(t),l=bc(e,t,l,a,void 0,s),a=vc(),e!==null&&!ft?(wc(e,t,s),qn(e,t,s)):(ze&&a&&ec(t),t.flags|=1,At(e,t,l,s),t.child)}function mm(e,t,l,a,s,u){return Wl(t),t.updateQueue=null,l=xh(t,a,l,s),gh(e),a=vc(),e!==null&&!ft?(wc(e,t,u),qn(e,t,u)):(ze&&a&&ec(t),t.flags|=1,At(e,t,l,u),t.child)}function pm(e,t,l,a,s){if(Wl(t),t.stateNode===null){var u=ja,x=l.contextType;typeof x=="object"&&x!==null&&(u=Ct(x)),u=new l(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},fc(t),x=l.contextType,u.context=typeof x=="object"&&x!==null?Ct(x):ja,u.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(zc(t,l,x,a),u.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(x=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),x!==u.state&&Lc.enqueueReplaceState(u,u.state,null),Rr(t,a,u,s),kr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var N=t.memoizedProps,M=Pl(l,N);u.props=M;var G=u.context,F=l.contextType;x=ja,typeof F=="object"&&F!==null&&(x=Ct(F));var te=l.getDerivedStateFromProps;F=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,F||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(N||G!==x)&&tm(t,u,a,x),fl=!1;var W=t.memoizedState;u.state=W,Rr(t,a,u,s),kr(),G=t.memoizedState,N||W!==G||fl?(typeof te=="function"&&(zc(t,l,te,a),G=t.memoizedState),(M=fl||em(t,l,M,a,W,G,x))?(F||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=G),u.props=a,u.state=G,u.context=x,a=M):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,dc(e,t),x=t.memoizedProps,F=Pl(l,x),u.props=F,te=t.pendingProps,W=u.context,G=l.contextType,M=ja,typeof G=="object"&&G!==null&&(M=Ct(G)),N=l.getDerivedStateFromProps,(G=typeof N=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x!==te||W!==M)&&tm(t,u,a,M),fl=!1,W=t.memoizedState,u.state=W,Rr(t,a,u,s),kr();var Q=t.memoizedState;x!==te||W!==Q||fl||e!==null&&e.dependencies!==null&&Xi(e.dependencies)?(typeof N=="function"&&(zc(t,l,N,a),Q=t.memoizedState),(F=fl||em(t,l,F,a,W,Q,M)||e!==null&&e.dependencies!==null&&Xi(e.dependencies))?(G||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,Q,M),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,Q,M)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Q),u.props=a,u.state=Q,u.context=M,a=F):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,uo(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=Fl(t,e.child,null,s),t.child=Fl(t,null,l,s)):At(e,t,l,s),t.memoizedState=u.state,e=t.child):e=qn(e,t,s),e}function gm(e,t,l,a){return Xl(),t.flags|=256,At(e,t,l,a),t.child}var Uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ic(e){return{baseLanes:e,cachePool:rh()}}function Yc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Pt),e}function xm(e,t,l){var a=t.pendingProps,s=!1,u=(t.flags&128)!==0,x;if((x=u)||(x=e!==null&&e.memoizedState===null?!1:(rt.current&2)!==0),x&&(s=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(s?ml(t):pl(),(e=Ke)?(e=jp(e,dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ol!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Kd(e),l.return=t,t.child=l,jt=t,Ke=null)):e=null,e===null)throw cl(t);return Eu(e)?t.lanes=32:t.lanes=536870912,null}var N=a.children;return a=a.fallback,s?(pl(),s=t.mode,N=fo({mode:"hidden",children:N},s),a=ql(a,s,l,null),N.return=t,a.return=t,N.sibling=a,t.child=N,a=t.child,a.memoizedState=Ic(l),a.childLanes=Yc(e,x,l),t.memoizedState=Uc,Hr(null,a)):(ml(t),$c(t,N))}var M=e.memoizedState;if(M!==null&&(N=M.dehydrated,N!==null)){if(u)t.flags&256?(ml(t),t.flags&=-257,t=qc(e,t,l)):t.memoizedState!==null?(pl(),t.child=e.child,t.flags|=128,t=null):(pl(),N=a.fallback,s=t.mode,a=fo({mode:"visible",children:a.children},s),N=ql(N,s,l,null),N.flags|=2,a.return=t,N.return=t,a.sibling=N,t.child=a,Fl(t,e.child,null,l),a=t.child,a.memoizedState=Ic(l),a.childLanes=Yc(e,x,l),t.memoizedState=Uc,t=Hr(null,a));else if(ml(t),Eu(N)){if(x=N.nextSibling&&N.nextSibling.dataset,x)var G=x.dgst;x=G,a=Error(o(419)),a.stack="",a.digest=x,Ar({value:a,source:null,stack:null}),t=qc(e,t,l)}else if(ft||Oa(e,t,l,!1),x=(l&e.childLanes)!==0,ft||x){if(x=Ze,x!==null&&(a=ld(x,l),a!==0&&a!==M.retryLane))throw M.retryLane=a,$l(e,a),Xt(x,e,a),Bc;Nu(N)||wo(),t=qc(e,t,l)}else Nu(N)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,Ke=mn(N.nextSibling),jt=t,ze=!0,sl=null,dn=!1,e!==null&&Pd(t,e),t=$c(t,a.children),t.flags|=4096);return t}return s?(pl(),N=a.fallback,s=t.mode,M=e.child,G=M.sibling,a=Bn(M,{mode:"hidden",children:a.children}),a.subtreeFlags=M.subtreeFlags&65011712,G!==null?N=Bn(G,N):(N=ql(N,s,l,null),N.flags|=2),N.return=t,a.return=t,a.sibling=N,t.child=a,Hr(null,a),a=t.child,N=e.child.memoizedState,N===null?N=Ic(l):(s=N.cachePool,s!==null?(M=ct._currentValue,s=s.parent!==M?{parent:M,pool:M}:s):s=rh(),N={baseLanes:N.baseLanes|l,cachePool:s}),a.memoizedState=N,a.childLanes=Yc(e,x,l),t.memoizedState=Uc,Hr(e.child,a)):(ml(t),l=e.child,e=l.sibling,l=Bn(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function $c(e,t){return t=fo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fo(e,t){return e=Qt(22,e,null,t),e.lanes=0,e}function qc(e,t,l){return Fl(t,e.child,null,l),e=$c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ym(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),rc(e.return,t,l)}function Xc(e,t,l,a,s,u){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:u}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=a,x.tail=l,x.tailMode=s,x.treeForkCount=u)}function bm(e,t,l){var a=t.pendingProps,s=a.revealOrder,u=a.tail;a=a.children;var x=rt.current,N=(x&2)!==0;if(N?(x=x&1|2,t.flags|=128):x&=1,P(rt,x),At(e,t,a,l),a=ze?Cr:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,l,t);else if(e.tag===19)ym(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Pi(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),Xc(t,!1,s,l,u,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}Xc(t,!0,l,null,u,a);break;case"together":Xc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function qn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),yl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Oa(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Bn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Bn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Gc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Xi(e)))}function av(e,t,l){switch(t.tag){case 3:We(t,t.stateNode.containerInfo),ul(t,ct,e.memoizedState.cache),Xl();break;case 27:case 5:Ne(t);break;case 4:We(t,t.stateNode.containerInfo);break;case 10:ul(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ml(t),t.flags|=128,null):(l&t.child.childLanes)!==0?xm(e,t,l):(ml(t),e=qn(e,t,l),e!==null?e.sibling:null);ml(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Oa(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return bm(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),P(rt,rt.current),a)break;return null;case 22:return t.lanes=0,fm(e,t,l,t.pendingProps);case 24:ul(t,ct,e.memoizedState.cache)}return qn(e,t,l)}function vm(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)ft=!0;else{if(!Gc(e,l)&&(t.flags&128)===0)return ft=!1,av(e,t,l);ft=(e.flags&131072)!==0}else ft=!1,ze&&(t.flags&1048576)!==0&&Jd(t,Cr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ql(t.elementType),t.type=e,typeof e=="function")Fs(e)?(a=Pl(e,a),t.tag=1,t=pm(null,t,e,a,l)):(t.tag=0,t=Hc(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===Y){t.tag=11,t=sm(null,t,e,a,l);break e}else if(s===$){t.tag=14,t=cm(null,t,e,a,l);break e}}throw t=Z(e)||e,Error(o(306,t,""))}}return t;case 0:return Hc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=Pl(a,t.pendingProps),pm(e,t,a,s,l);case 3:e:{if(We(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var u=t.memoizedState;s=u.element,dc(e,t),Rr(t,a,null,l);var x=t.memoizedState;if(a=x.cache,ul(t,ct,a),a!==u.cache&&ic(t,[ct],l,!0),kr(),a=x.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=gm(e,t,a,l);break e}else if(a!==s){s=cn(Error(o(424)),t),Ar(s),t=gm(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ke=mn(e.firstChild),jt=t,ze=!0,sl=null,dn=!0,l=fh(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Xl(),a===s){t=qn(e,t,l);break e}At(e,t,a,l)}t=t.child}return t;case 26:return uo(e,t),e===null?(l=Tp(t.type,null,t.pendingProps,null))?t.memoizedState=l:ze||(l=t.type,e=t.pendingProps,a=_o(ge.current).createElement(l),a[Et]=t,a[Ht]=e,_t(a,l,e),bt(a),t.stateNode=a):t.memoizedState=Tp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ne(t),e===null&&ze&&(a=t.stateNode=_p(t.type,t.pendingProps,ge.current),jt=t,dn=!0,s=Ke,Nl(t.type)?(ju=s,Ke=mn(a.firstChild)):Ke=s),At(e,t,t.pendingProps.children,l),uo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((s=a=Ke)&&(a=Rv(a,t.type,t.pendingProps,dn),a!==null?(t.stateNode=a,jt=t,Ke=mn(a.firstChild),dn=!1,s=!0):s=!1),s||cl(t)),Ne(t),s=t.type,u=t.pendingProps,x=e!==null?e.memoizedProps:null,a=u.children,vu(s,u)?a=null:x!==null&&vu(s,x)&&(t.flags|=32),t.memoizedState!==null&&(s=bc(e,t,Q0,null,null,l),ei._currentValue=s),uo(e,t),At(e,t,a,l),t.child;case 6:return e===null&&ze&&((e=l=Ke)&&(l=zv(l,t.pendingProps,dn),l!==null?(t.stateNode=l,jt=t,Ke=null,e=!0):e=!1),e||cl(t)),null;case 13:return xm(e,t,l);case 4:return We(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Fl(t,null,a,l):At(e,t,a,l),t.child;case 11:return sm(e,t,t.type,t.pendingProps,l);case 7:return At(e,t,t.pendingProps,l),t.child;case 8:return At(e,t,t.pendingProps.children,l),t.child;case 12:return At(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,ul(t,t.type,a.value),At(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Wl(t),s=Ct(s),a=a(s),t.flags|=1,At(e,t,a,l),t.child;case 14:return cm(e,t,t.type,t.pendingProps,l);case 15:return um(e,t,t.type,t.pendingProps,l);case 19:return bm(e,t,l);case 31:return lv(e,t,l);case 22:return fm(e,t,l,t.pendingProps);case 24:return Wl(t),a=Ct(ct),e===null?(s=cc(),s===null&&(s=Ze,u=oc(),s.pooledCache=u,u.refCount++,u!==null&&(s.pooledCacheLanes|=l),s=u),t.memoizedState={parent:a,cache:s},fc(t),ul(t,ct,s)):((e.lanes&l)!==0&&(dc(e,t),Rr(t,null,null,l),kr()),s=e.memoizedState,u=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ul(t,ct,a)):(a=u.cache,ul(t,ct,a),a!==s.cache&&ic(t,[ct],l,!0))),At(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xn(e){e.flags|=4}function Wc(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Wm())e.flags|=8192;else throw Kl=Qi,uc}else e.flags&=-16777217}function wm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lp(t))if(Wm())e.flags|=8192;else throw Kl=Qi,uc}function ho(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hr():536870912,e.lanes|=t,Ia|=t)}function Ur(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function rv(e,t,l){var a=t.pendingProps;switch(tc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),In(ct),oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(_a(t)?Xn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,lc())),Fe(t),null;case 26:var s=t.type,u=t.memoizedState;return e===null?(Xn(t),u!==null?(Fe(t),wm(t,u)):(Fe(t),Wc(t,s,null,a,l))):u?u!==e.memoizedState?(Xn(t),Fe(t),wm(t,u)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Xn(t),Fe(t),Wc(t,s,e,a,l)),null;case 27:if(Le(t),l=ge.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Xn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Fe(t),null}e=re.current,_a(t)?eh(t):(e=_p(s,a,l),t.stateNode=e,Xn(t))}return Fe(t),null;case 5:if(Le(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Xn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Fe(t),null}if(u=re.current,_a(t))eh(t);else{var x=_o(ge.current);switch(u){case 1:u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":u=x.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":u=x.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":u=x.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?x.createElement("select",{is:a.is}):x.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?x.createElement(s,{is:a.is}):x.createElement(s)}}u[Et]=t,u[Ht]=a;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=u;e:switch(_t(u,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Xn(t)}}return Fe(t),Wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Xn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=ge.current,_a(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=jt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Et]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||xp(e.nodeValue,l)),e||cl(t,!0)}else e=_o(e).createTextNode(a),e[Et]=t,t.stateNode=e}return Fe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=_a(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Et]=t}else Xl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else l=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ft(t),t):(Ft(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Fe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=_a(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[Et]=t}else Xl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),s=!1}else s=lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ft(t),t):(Ft(t),null)}return Ft(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),ho(t,t.updateQueue),Fe(t),null);case 4:return oe(),e===null&&pu(t.stateNode.containerInfo),Fe(t),null;case 10:return In(t.type),Fe(t),null;case 19:if(H(rt),a=t.memoizedState,a===null)return Fe(t),null;if(s=(t.flags&128)!==0,u=a.rendering,u===null)if(s)Ur(a,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Pi(e),u!==null){for(t.flags|=128,Ur(a,!1),e=u.updateQueue,t.updateQueue=e,ho(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Qd(l,e),l=l.sibling;return P(rt,rt.current&1|2),ze&&Hn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Pe()>yo&&(t.flags|=128,s=!0,Ur(a,!1),t.lanes=4194304)}else{if(!s)if(e=Pi(u),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ho(t,e),Ur(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!ze)return Fe(t),null}else 2*Pe()-a.renderingStartTime>yo&&l!==536870912&&(t.flags|=128,s=!0,Ur(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(e=a.last,e!==null?e.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pe(),e.sibling=null,l=rt.current,P(rt,s?l&1|2:l&1),ze&&Hn(t,a.treeForkCount),e):(Fe(t),null);case 22:case 23:return Ft(t),gc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),l=t.updateQueue,l!==null&&ho(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&H(Zl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),In(ct),Fe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function iv(e,t){switch(tc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(ct),oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Le(t),null;case 31:if(t.memoizedState!==null){if(Ft(t),t.alternate===null)throw Error(o(340));Xl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ft(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Xl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(rt),null;case 4:return oe(),null;case 10:return In(t.type),null;case 22:case 23:return Ft(t),gc(),e!==null&&H(Zl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return In(ct),null;case 25:return null;default:return null}}function Sm(e,t){switch(tc(t),t.tag){case 3:In(ct),oe();break;case 26:case 27:case 5:Le(t);break;case 4:oe();break;case 31:t.memoizedState!==null&&Ft(t);break;case 13:Ft(t);break;case 19:H(rt);break;case 10:In(t.type);break;case 22:case 23:Ft(t),gc(),e!==null&&H(Zl);break;case 24:In(ct)}}function Ir(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var u=l.create,x=l.inst;a=u(),x.destroy=a}l=l.next}while(l!==s)}}catch(N){Ye(t,t.return,N)}}function gl(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){var x=a.inst,N=x.destroy;if(N!==void 0){x.destroy=void 0,s=t;var M=l,G=N;try{G()}catch(F){Ye(s,M,F)}}}a=a.next}while(a!==u)}}catch(F){Ye(t,t.return,F)}}function Nm(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{hh(t,l)}catch(a){Ye(e,e.return,a)}}}function Em(e,t,l){l.props=Pl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ye(e,t,a)}}function Yr(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){Ye(e,t,s)}}function _n(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){Ye(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){Ye(e,t,s)}else l.current=null}function jm(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){Ye(e,e.return,s)}}function Zc(e,t,l){try{var a=e.stateNode;_v(a,e.type,l,t),a[Ht]=t}catch(s){Ye(e,e.return,s)}}function Cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nl(e.type)||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Ln));else if(a!==4&&(a===27&&Nl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Kc(e,t,l),e=e.sibling;e!==null;)Kc(e,t,l),e=e.sibling}function mo(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Nl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(mo(e,t,l),e=e.sibling;e!==null;)mo(e,t,l),e=e.sibling}function Am(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_t(t,a,l),t[Et]=e,t[Ht]=l}catch(u){Ye(e,e.return,u)}}var Gn=!1,dt=!1,Fc=!1,_m=typeof WeakSet=="function"?WeakSet:Set,vt=null;function ov(e,t){if(e=e.containerInfo,yu=zo,e=Ud(e),qs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break e}var x=0,N=-1,M=-1,G=0,F=0,te=e,W=null;t:for(;;){for(var Q;te!==l||s!==0&&te.nodeType!==3||(N=x+s),te!==u||a!==0&&te.nodeType!==3||(M=x+a),te.nodeType===3&&(x+=te.nodeValue.length),(Q=te.firstChild)!==null;)W=te,te=Q;for(;;){if(te===e)break t;if(W===l&&++G===s&&(N=x),W===u&&++F===a&&(M=x),(Q=te.nextSibling)!==null)break;te=W,W=te.parentNode}te=Q}l=N===-1||M===-1?null:{start:N,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(bu={focusedElem:e,selectionRange:l},zo=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,l=t,s=u.memoizedProps,u=u.memoizedState,a=l.stateNode;try{var fe=Pl(l.type,s);e=a.getSnapshotBeforeUpdate(fe,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(we){Ye(l,l.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Su(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function Om(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Zn(e,l),a&4&&Ir(5,l);break;case 1:if(Zn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){Ye(l,l.return,x)}else{var s=Pl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ye(l,l.return,x)}}a&64&&Nm(l),a&512&&Yr(l,l.return);break;case 3:if(Zn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{hh(e,t)}catch(x){Ye(l,l.return,x)}}break;case 27:t===null&&a&4&&Am(l);case 26:case 5:Zn(e,l),t===null&&a&4&&jm(l),a&512&&Yr(l,l.return);break;case 12:Zn(e,l);break;case 31:Zn(e,l),a&4&&Dm(e,l);break;case 13:Zn(e,l),a&4&&km(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=gv.bind(null,l),Lv(e,l))));break;case 22:if(a=l.memoizedState!==null||Gn,!a){t=t!==null&&t.memoizedState!==null||dt,s=Gn;var u=dt;Gn=a,(dt=t)&&!u?Qn(e,l,(l.subtreeFlags&8772)!==0):Zn(e,l),Gn=s,dt=u}break;case 30:break;default:Zn(e,l)}}function Mm(e){var t=e.alternate;t!==null&&(e.alternate=null,Mm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&As(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,It=!1;function Wn(e,t,l){for(l=l.child;l!==null;)Tm(e,t,l),l=l.sibling}function Tm(e,t,l){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(yn,l)}catch{}switch(l.tag){case 26:dt||_n(l,t),Wn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:dt||_n(l,t);var a=Je,s=It;Nl(l.type)&&(Je=l.stateNode,It=!1),Wn(e,t,l),Fr(l.stateNode),Je=a,It=s;break;case 5:dt||_n(l,t);case 6:if(a=Je,s=It,Je=null,Wn(e,t,l),Je=a,It=s,Je!==null)if(It)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(l.stateNode)}catch(u){Ye(l,t,u)}else try{Je.removeChild(l.stateNode)}catch(u){Ye(l,t,u)}break;case 18:Je!==null&&(It?(e=Je,Np(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Qa(e)):Np(Je,l.stateNode));break;case 4:a=Je,s=It,Je=l.stateNode.containerInfo,It=!0,Wn(e,t,l),Je=a,It=s;break;case 0:case 11:case 14:case 15:gl(2,l,t),dt||gl(4,l,t),Wn(e,t,l);break;case 1:dt||(_n(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Em(l,t,a)),Wn(e,t,l);break;case 21:Wn(e,t,l);break;case 22:dt=(a=dt)||l.memoizedState!==null,Wn(e,t,l),dt=a;break;default:Wn(e,t,l)}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(l){Ye(t,t.return,l)}}}function km(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(l){Ye(t,t.return,l)}}function sv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _m),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _m),t;default:throw Error(o(435,e.tag))}}function po(e,t){var l=sv(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=xv.bind(null,e,a);a.then(s,s)}})}function Yt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],u=e,x=t,N=x;e:for(;N!==null;){switch(N.tag){case 27:if(Nl(N.type)){Je=N.stateNode,It=!1;break e}break;case 5:Je=N.stateNode,It=!1;break e;case 3:case 4:Je=N.stateNode.containerInfo,It=!0;break e}N=N.return}if(Je===null)throw Error(o(160));Tm(u,x,s),Je=null,It=!1,u=s.alternate,u!==null&&(u.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rm(t,e),t=t.sibling}var wn=null;function Rm(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yt(t,e),$t(e),a&4&&(gl(3,e,e.return),Ir(3,e),gl(5,e,e.return));break;case 1:Yt(t,e),$t(e),a&512&&(dt||l===null||_n(l,l.return)),a&64&&Gn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=wn;if(Yt(t,e),$t(e),a&512&&(dt||l===null||_n(l,l.return)),a&4){var u=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":u=s.getElementsByTagName("title")[0],(!u||u[pr]||u[Et]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=s.createElement(a),s.head.insertBefore(u,s.querySelector("head > title"))),_t(u,a,l),u[Et]=e,bt(u),a=u;break e;case"link":var x=Rp("link","href",s).get(a+(l.href||""));if(x){for(var N=0;N<x.length;N++)if(u=x[N],u.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&u.getAttribute("rel")===(l.rel==null?null:l.rel)&&u.getAttribute("title")===(l.title==null?null:l.title)&&u.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(N,1);break t}}u=s.createElement(a),_t(u,a,l),s.head.appendChild(u);break;case"meta":if(x=Rp("meta","content",s).get(a+(l.content||""))){for(N=0;N<x.length;N++)if(u=x[N],u.getAttribute("content")===(l.content==null?null:""+l.content)&&u.getAttribute("name")===(l.name==null?null:l.name)&&u.getAttribute("property")===(l.property==null?null:l.property)&&u.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&u.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(N,1);break t}}u=s.createElement(a),_t(u,a,l),s.head.appendChild(u);break;default:throw Error(o(468,a))}u[Et]=e,bt(u),a=u}e.stateNode=a}else zp(s,e.type,e.stateNode);else e.stateNode=kp(s,a,e.memoizedProps);else u!==a?(u===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):u.count--,a===null?zp(s,e.type,e.stateNode):kp(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Zc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Yt(t,e),$t(e),a&512&&(dt||l===null||_n(l,l.return)),l!==null&&a&4&&Zc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Yt(t,e),$t(e),a&512&&(dt||l===null||_n(l,l.return)),e.flags&32){s=e.stateNode;try{ya(s,"")}catch(fe){Ye(e,e.return,fe)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Zc(e,s,l!==null?l.memoizedProps:s)),a&1024&&(Fc=!0);break;case 6:if(Yt(t,e),$t(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(fe){Ye(e,e.return,fe)}}break;case 3:if(To=null,s=wn,wn=Oo(t.containerInfo),Yt(t,e),wn=s,$t(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Qa(t.containerInfo)}catch(fe){Ye(e,e.return,fe)}Fc&&(Fc=!1,zm(e));break;case 4:a=wn,wn=Oo(e.stateNode.containerInfo),Yt(t,e),$t(e),wn=a;break;case 12:Yt(t,e),$t(e);break;case 31:Yt(t,e),$t(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,po(e,a)));break;case 13:Yt(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xo=Pe()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,po(e,a)));break;case 22:s=e.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,G=Gn,F=dt;if(Gn=G||s,dt=F||M,Yt(t,e),dt=F,Gn=G,$t(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||M||Gn||dt||ea(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){M=l=t;try{if(u=M.stateNode,s)x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{N=M.stateNode;var te=M.memoizedProps.style,W=te!=null&&te.hasOwnProperty("display")?te.display:null;N.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(fe){Ye(M,M.return,fe)}}}else if(t.tag===6){if(l===null){M=t;try{M.stateNode.nodeValue=s?"":M.memoizedProps}catch(fe){Ye(M,M.return,fe)}}}else if(t.tag===18){if(l===null){M=t;try{var Q=M.stateNode;s?Ep(Q,!0):Ep(M.stateNode,!1)}catch(fe){Ye(M,M.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,po(e,l))));break;case 19:Yt(t,e),$t(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,po(e,a)));break;case 30:break;case 21:break;default:Yt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Cm(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,u=Qc(e);mo(e,u,s);break;case 5:var x=l.stateNode;l.flags&32&&(ya(x,""),l.flags&=-33);var N=Qc(e);mo(e,N,x);break;case 3:case 4:var M=l.stateNode.containerInfo,G=Qc(e);Kc(e,G,M);break;default:throw Error(o(161))}}catch(F){Ye(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;zm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Om(e,t.alternate,t),t=t.sibling}function ea(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gl(4,t,t.return),ea(t);break;case 1:_n(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Em(t,t.return,l),ea(t);break;case 27:Fr(t.stateNode);case 26:case 5:_n(t,t.return),ea(t);break;case 22:t.memoizedState===null&&ea(t);break;case 30:ea(t);break;default:ea(t)}e=e.sibling}}function Qn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,u=t,x=u.flags;switch(u.tag){case 0:case 11:case 15:Qn(s,u,l),Ir(4,u);break;case 1:if(Qn(s,u,l),a=u,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(G){Ye(a,a.return,G)}if(a=u,s=a.updateQueue,s!==null){var N=a.stateNode;try{var M=s.shared.hiddenCallbacks;if(M!==null)for(s.shared.hiddenCallbacks=null,s=0;s<M.length;s++)dh(M[s],N)}catch(G){Ye(a,a.return,G)}}l&&x&64&&Nm(u),Yr(u,u.return);break;case 27:Am(u);case 26:case 5:Qn(s,u,l),l&&a===null&&x&4&&jm(u),Yr(u,u.return);break;case 12:Qn(s,u,l);break;case 31:Qn(s,u,l),l&&x&4&&Dm(s,u);break;case 13:Qn(s,u,l),l&&x&4&&km(s,u);break;case 22:u.memoizedState===null&&Qn(s,u,l),Yr(u,u.return);break;case 30:break;default:Qn(s,u,l)}t=t.sibling}}function Jc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&_r(l))}function Pc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_r(e))}function Sn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lm(e,t,l,a),t=t.sibling}function Lm(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Sn(e,t,l,a),s&2048&&Ir(9,t);break;case 1:Sn(e,t,l,a);break;case 3:Sn(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_r(e)));break;case 12:if(s&2048){Sn(e,t,l,a),e=t.stateNode;try{var u=t.memoizedProps,x=u.id,N=u.onPostCommit;typeof N=="function"&&N(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Ye(t,t.return,M)}}else Sn(e,t,l,a);break;case 31:Sn(e,t,l,a);break;case 13:Sn(e,t,l,a);break;case 23:break;case 22:u=t.stateNode,x=t.alternate,t.memoizedState!==null?u._visibility&2?Sn(e,t,l,a):$r(e,t):u._visibility&2?Sn(e,t,l,a):(u._visibility|=2,Ba(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Jc(x,t);break;case 24:Sn(e,t,l,a),s&2048&&Pc(t.alternate,t);break;default:Sn(e,t,l,a)}}function Ba(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,x=t,N=l,M=a,G=x.flags;switch(x.tag){case 0:case 11:case 15:Ba(u,x,N,M,s),Ir(8,x);break;case 23:break;case 22:var F=x.stateNode;x.memoizedState!==null?F._visibility&2?Ba(u,x,N,M,s):$r(u,x):(F._visibility|=2,Ba(u,x,N,M,s)),s&&G&2048&&Jc(x.alternate,x);break;case 24:Ba(u,x,N,M,s),s&&G&2048&&Pc(x.alternate,x);break;default:Ba(u,x,N,M,s)}t=t.sibling}}function $r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:$r(l,a),s&2048&&Jc(a.alternate,a);break;case 24:$r(l,a),s&2048&&Pc(a.alternate,a);break;default:$r(l,a)}t=t.sibling}}var qr=8192;function Ha(e,t,l){if(e.subtreeFlags&qr)for(e=e.child;e!==null;)Vm(e,t,l),e=e.sibling}function Vm(e,t,l){switch(e.tag){case 26:Ha(e,t,l),e.flags&qr&&e.memoizedState!==null&&Zv(l,wn,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,t,l);break;case 3:case 4:var a=wn;wn=Oo(e.stateNode.containerInfo),Ha(e,t,l),wn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=qr,qr=16777216,Ha(e,t,l),qr=a):Ha(e,t,l));break;default:Ha(e,t,l)}}function Bm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Um(a,e)}Bm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hm(e),e=e.sibling}function Hm(e){switch(e.tag){case 0:case 11:case 15:Xr(e),e.flags&2048&&gl(9,e,e.return);break;case 3:Xr(e);break;case 12:Xr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,go(e)):Xr(e);break;default:Xr(e)}}function go(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Um(a,e)}Bm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:gl(8,t,t.return),go(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,go(t));break;default:go(t)}e=e.sibling}}function Um(e,t){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:gl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:_r(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,vt=a;else e:for(l=e;vt!==null;){a=vt;var s=a.sibling,u=a.return;if(Mm(a),a===l){vt=null;break e}if(s!==null){s.return=u,vt=s;break e}vt=u}}}var cv={getCacheForType:function(e){var t=Ct(ct),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Ct(ct).controller.signal}},uv=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Te=null,ke=0,Ie=0,Jt=null,xl=!1,Ua=!1,eu=!1,Kn=0,nt=0,yl=0,ta=0,tu=0,Pt=0,Ia=0,Gr=null,qt=null,nu=!1,xo=0,Im=0,yo=1/0,bo=null,bl=null,pt=0,vl=null,Ya=null,Fn=0,lu=0,au=null,Ym=null,Wr=0,ru=null;function en(){return(He&2)!==0&&ke!==0?ke&-ke:k.T!==null?fu():ad()}function $m(){if(Pt===0)if((ke&536870912)===0||ze){var e=st;st<<=1,(st&3932160)===0&&(st=262144),Pt=e}else Pt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Pt}function Xt(e,t,l){(e===Ze&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&($a(e,0),wl(e,ke,Pt,!1)),mr(e,l),((He&2)===0||e!==Ze)&&(e===Ze&&((He&2)===0&&(ta|=l),nt===4&&wl(e,ke,Pt,!1)),On(e))}function qm(e,t,l){if((He&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||bn(e,t),s=a?hv(e,t):ou(e,t,!0),u=a;do{if(s===0){Ua&&!a&&wl(e,t,0,!1);break}else{if(l=e.current.alternate,u&&!fv(l)){s=ou(e,t,!1),u=!1;continue}if(s===2){if(u=t,e.errorRecoveryDisabledLanes&u)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var N=e;s=Gr;var M=N.current.memoizedState.isDehydrated;if(M&&($a(N,x).flags|=256),x=ou(N,x,!1),x!==2){if(eu&&!M){N.errorRecoveryDisabledLanes|=u,ta|=u,s=4;break e}u=qt,qt=s,u!==null&&(qt===null?qt=u:qt.push.apply(qt,u))}s=x}if(u=!1,s!==2)continue}}if(s===1){$a(e,0),wl(e,t,0,!0);break}e:{switch(a=e,u=s,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:wl(a,t,Pt,!xl);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=xo+300-Pe(),10<s)){if(wl(a,t,Pt,!xl),jn(a,0,!0)!==0)break e;Fn=t,a.timeoutHandle=wp(Xm.bind(null,a,l,qt,bo,nu,t,Pt,ta,Ia,xl,u,"Throttled",-0,0),s);break e}Xm(a,l,qt,bo,nu,t,Pt,ta,Ia,xl,u,null,-0,0)}}break}while(!0);On(e)}function Xm(e,t,l,a,s,u,x,N,M,G,F,te,W,Q){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},Vm(t,u,te);var fe=(u&62914560)===u?xo-Pe():(u&4194048)===u?Im-Pe():0;if(fe=Qv(te,fe),fe!==null){Fn=u,e.cancelPendingCommit=fe(Pm.bind(null,e,t,u,l,a,s,x,N,M,F,te,null,W,Q)),wl(e,u,x,!G);return}}Pm(e,t,u,l,a,s,x,N,M)}function fv(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],u=s.getSnapshot;s=s.value;try{if(!Zt(u(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wl(e,t,l,a){t&=~tu,t&=~ta,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var u=31-St(s),x=1<<u;a[u]=-1,s&=~x}l!==0&&td(e,l,t)}function vo(){return(He&6)===0?(Zr(0),!1):!0}function iu(){if(Te!==null){if(Ie===0)var e=Te.return;else e=Te,Un=Gl=null,Sc(e),ka=null,Mr=0,e=Te;for(;e!==null;)Sm(e.alternate,e),e=e.return;Te=null}}function $a(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Tv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Fn=0,iu(),Ze=e,Te=l=Bn(e.current,null),ke=t,Ie=0,Jt=null,xl=!1,Ua=bn(e,t),eu=!1,Ia=Pt=tu=ta=yl=nt=0,qt=Gr=null,nu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-St(a),u=1<<s;t|=e[s],a&=~u}return Kn=t,Ui(),l}function Gm(e,t){je=null,k.H=Br,t===Da||t===Zi?(t=sh(),Ie=3):t===uc?(t=sh(),Ie=4):Ie=t===Bc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jt=t,Te===null&&(nt=1,so(e,cn(t,e.current)))}function Wm(){var e=Kt.current;return e===null?!0:(ke&4194048)===ke?hn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===hn:!1}function Zm(){var e=k.H;return k.H=Br,e===null?Br:e}function Qm(){var e=k.A;return k.A=cv,e}function wo(){nt=4,xl||(ke&4194048)!==ke&&Kt.current!==null||(Ua=!0),(yl&134217727)===0&&(ta&134217727)===0||Ze===null||wl(Ze,ke,Pt,!1)}function ou(e,t,l){var a=He;He|=2;var s=Zm(),u=Qm();(Ze!==e||ke!==t)&&(bo=null,$a(e,t)),t=!1;var x=nt;e:do try{if(Ie!==0&&Te!==null){var N=Te,M=Jt;switch(Ie){case 8:iu(),x=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var G=Ie;if(Ie=0,Jt=null,qa(e,N,M,G),l&&Ua){x=0;break e}break;default:G=Ie,Ie=0,Jt=null,qa(e,N,M,G)}}dv(),x=nt;break}catch(F){Gm(e,F)}while(!0);return t&&e.shellSuspendCounter++,Un=Gl=null,He=a,k.H=s,k.A=u,Te===null&&(Ze=null,ke=0,Ui()),x}function dv(){for(;Te!==null;)Km(Te)}function hv(e,t){var l=He;He|=2;var a=Zm(),s=Qm();Ze!==e||ke!==t?(bo=null,yo=Pe()+500,$a(e,t)):Ua=bn(e,t);e:do try{if(Ie!==0&&Te!==null){t=Te;var u=Jt;t:switch(Ie){case 1:Ie=0,Jt=null,qa(e,t,u,1);break;case 2:case 9:if(ih(u)){Ie=0,Jt=null,Fm(t);break}t=function(){Ie!==2&&Ie!==9||Ze!==e||(Ie=7),On(e)},u.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:ih(u)?(Ie=0,Jt=null,Fm(t)):(Ie=0,Jt=null,qa(e,t,u,7));break;case 5:var x=null;switch(Te.tag){case 26:x=Te.memoizedState;case 5:case 27:var N=Te;if(x?Lp(x):N.stateNode.complete){Ie=0,Jt=null;var M=N.sibling;if(M!==null)Te=M;else{var G=N.return;G!==null?(Te=G,So(G)):Te=null}break t}}Ie=0,Jt=null,qa(e,t,u,5);break;case 6:Ie=0,Jt=null,qa(e,t,u,6);break;case 8:iu(),nt=6;break e;default:throw Error(o(462))}}mv();break}catch(F){Gm(e,F)}while(!0);return Un=Gl=null,k.H=a,k.A=s,He=l,Te!==null?0:(Ze=null,ke=0,Ui(),nt)}function mv(){for(;Te!==null&&!sa();)Km(Te)}function Km(e){var t=vm(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?So(e):Te=t}function Fm(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=mm(l,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=mm(l,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Sc(t);default:Sm(l,t),t=Te=Qd(t,Kn),t=vm(l,t,Kn)}e.memoizedProps=e.pendingProps,t===null?So(e):Te=t}function qa(e,t,l,a){Un=Gl=null,Sc(t),ka=null,Mr=0;var s=t.return;try{if(nv(e,s,t,l,ke)){nt=1,so(e,cn(l,e.current)),Te=null;return}}catch(u){if(s!==null)throw Te=s,u;nt=1,so(e,cn(l,e.current)),Te=null;return}t.flags&32768?(ze||a===1?e=!0:Ua||(ke&536870912)!==0?e=!1:(xl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Kt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Jm(t,e)):So(t)}function So(e){var t=e;do{if((t.flags&32768)!==0){Jm(t,xl);return}e=t.return;var l=rv(t.alternate,t,Kn);if(l!==null){Te=l;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);nt===0&&(nt=5)}function Jm(e,t){do{var l=iv(e.alternate,e);if(l!==null){l.flags&=32767,Te=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=l}while(e!==null);nt=6,Te=null}function Pm(e,t,l,a,s,u,x,N,M){e.cancelPendingCommit=null;do No();while(pt!==0);if((He&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=Qs,Wb(e,l,u,x,N,M),e===Ze&&(Te=Ze=null,ke=0),Ya=t,vl=e,Fn=l,lu=u,au=s,Ym=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yv(ve,function(){return ap(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=k.T,k.T=null,s=D.p,D.p=2,x=He,He|=4;try{ov(e,t,l)}finally{He=x,D.p=s,k.T=a}}pt=1,ep(),tp(),np()}}function ep(){if(pt===1){pt=0;var e=vl,t=Ya,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var a=D.p;D.p=2;var s=He;He|=4;try{Rm(t,e);var u=bu,x=Ud(e.containerInfo),N=u.focusedElem,M=u.selectionRange;if(x!==N&&N&&N.ownerDocument&&Hd(N.ownerDocument.documentElement,N)){if(M!==null&&qs(N)){var G=M.start,F=M.end;if(F===void 0&&(F=G),"selectionStart"in N)N.selectionStart=G,N.selectionEnd=Math.min(F,N.value.length);else{var te=N.ownerDocument||document,W=te&&te.defaultView||window;if(W.getSelection){var Q=W.getSelection(),fe=N.textContent.length,we=Math.min(M.start,fe),Ge=M.end===void 0?we:Math.min(M.end,fe);!Q.extend&&we>Ge&&(x=Ge,Ge=we,we=x);var I=Bd(N,we),z=Bd(N,Ge);if(I&&z&&(Q.rangeCount!==1||Q.anchorNode!==I.node||Q.anchorOffset!==I.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var X=te.createRange();X.setStart(I.node,I.offset),Q.removeAllRanges(),we>Ge?(Q.addRange(X),Q.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),Q.addRange(X))}}}}for(te=[],Q=N;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<te.length;N++){var ee=te[N];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}zo=!!yu,bu=yu=null}finally{He=s,D.p=a,k.T=l}}e.current=t,pt=2}}function tp(){if(pt===2){pt=0;var e=vl,t=Ya,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var a=D.p;D.p=2;var s=He;He|=4;try{Om(e,t.alternate,t)}finally{He=s,D.p=a,k.T=l}}pt=3}}function np(){if(pt===4||pt===3){pt=0,et();var e=vl,t=Ya,l=Fn,a=Ym;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,Ya=vl=null,lp(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(bl=null),js(l),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(yn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=k.T,s=D.p,D.p=2,k.T=null;try{for(var u=e.onRecoverableError,x=0;x<a.length;x++){var N=a[x];u(N.value,{componentStack:N.stack})}}finally{k.T=t,D.p=s}}(Fn&3)!==0&&No(),On(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===ru?Wr++:(Wr=0,ru=e):Wr=0,Zr(0)}}function lp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_r(t)))}function No(){return ep(),tp(),np(),ap()}function ap(){if(pt!==5)return!1;var e=vl,t=lu;lu=0;var l=js(Fn),a=k.T,s=D.p;try{D.p=32>l?32:l,k.T=null,l=au,au=null;var u=vl,x=Fn;if(pt=0,Ya=vl=null,Fn=0,(He&6)!==0)throw Error(o(331));var N=He;if(He|=4,Hm(u.current),Lm(u,u.current,x,l),He=N,Zr(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(yn,u)}catch{}return!0}finally{D.p=s,k.T=a,lp(e,t)}}function rp(e,t,l){t=cn(l,t),t=Vc(e.stateNode,t,2),e=hl(e,t,2),e!==null&&(mr(e,2),On(e))}function Ye(e,t,l){if(e.tag===3)rp(e,e,l);else for(;t!==null;){if(t.tag===3){rp(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(bl===null||!bl.has(a))){e=cn(l,e),l=im(2),a=hl(t,l,2),a!==null&&(om(l,a,t,e),mr(a,2),On(a));break}}t=t.return}}function su(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new uv;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(eu=!0,s.add(l),e=pv.bind(null,e,t,l),t.then(e,e))}function pv(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ze===e&&(ke&l)===l&&(nt===4||nt===3&&(ke&62914560)===ke&&300>Pe()-xo?(He&2)===0&&$a(e,0):tu|=l,Ia===ke&&(Ia=0)),On(e)}function ip(e,t){t===0&&(t=hr()),e=$l(e,t),e!==null&&(mr(e,t),On(e))}function gv(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ip(e,l)}function xv(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),ip(e,l)}function yv(e,t){return Bt(e,t)}var Eo=null,Xa=null,cu=!1,jo=!1,uu=!1,Sl=0;function On(e){e!==Xa&&e.next===null&&(Xa===null?Eo=Xa=e:Xa=Xa.next=e),jo=!0,cu||(cu=!0,vv())}function Zr(e,t){if(!uu&&jo){uu=!0;do for(var l=!1,a=Eo;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var u=0;else{var x=a.suspendedLanes,N=a.pingedLanes;u=(1<<31-St(42|e)+1)-1,u&=s&~(x&~N),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(l=!0,up(a,u))}else u=ke,u=jn(a,a===Ze?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||bn(a,u)||(l=!0,up(a,u));a=a.next}while(l);uu=!1}}function bv(){op()}function op(){jo=cu=!1;var e=0;Sl!==0&&Mv()&&(e=Sl);for(var t=Pe(),l=null,a=Eo;a!==null;){var s=a.next,u=sp(a,t);u===0?(a.next=null,l===null?Eo=s:l.next=s,s===null&&(Xa=l)):(l=a,(e!==0||(u&3)!==0)&&(jo=!0)),a=s}pt!==0&&pt!==5||Zr(e),Sl!==0&&(Sl=0)}function sp(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var x=31-St(u),N=1<<x,M=s[x];M===-1?((N&l)===0||(N&a)!==0)&&(s[x]=ua(N,t)):M<=t&&(e.expiredLanes|=N),u&=~N}if(t=Ze,l=ke,l=jn(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Bl(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||bn(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Bl(a),js(l)){case 2:case 8:l=ce;break;case 32:l=ve;break;case 268435456:l=Qe;break;default:l=ve}return a=cp.bind(null,e),l=Bt(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Bl(a),e.callbackPriority=2,e.callbackNode=null,2}function cp(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(No()&&e.callbackNode!==l)return null;var a=ke;return a=jn(e,e===Ze?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(qm(e,a,t),sp(e,Pe()),e.callbackNode!=null&&e.callbackNode===l?cp.bind(null,e):null)}function up(e,t){if(No())return null;qm(e,t,!0)}function vv(){Dv(function(){(He&6)!==0?Bt(ca,bv):op()})}function fu(){if(Sl===0){var e=Ma;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Sl=e}return Sl}function fp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Di(""+e)}function dp(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function wv(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var u=fp((s[Ht]||null).action),x=a.submitter;x&&(t=(t=x[Ht]||null)?fp(t.formAction):x.getAttribute("formAction"),t!==null&&(u=t,x=null));var N=new Li("action","action",null,a,s);e.push({event:N,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Sl!==0){var M=x?dp(s,x):new FormData(s);Tc(l,{pending:!0,data:M,method:s.method,action:u},null,M)}}else typeof u=="function"&&(N.preventDefault(),M=x?dp(s,x):new FormData(s),Tc(l,{pending:!0,data:M,method:s.method,action:u},u,M))},currentTarget:s}]})}}for(var du=0;du<Zs.length;du++){var hu=Zs[du],Sv=hu.toLowerCase(),Nv=hu[0].toUpperCase()+hu.slice(1);vn(Sv,"on"+Nv)}vn($d,"onAnimationEnd"),vn(qd,"onAnimationIteration"),vn(Xd,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(H0,"onTransitionRun"),vn(U0,"onTransitionStart"),vn(I0,"onTransitionCancel"),vn(Gd,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qr));function hp(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var x=a.length-1;0<=x;x--){var N=a[x],M=N.instance,G=N.currentTarget;if(N=N.listener,M!==u&&s.isPropagationStopped())break e;u=N,s.currentTarget=G;try{u(s)}catch(F){Hi(F)}s.currentTarget=null,u=M}else for(x=0;x<a.length;x++){if(N=a[x],M=N.instance,G=N.currentTarget,N=N.listener,M!==u&&s.isPropagationStopped())break e;u=N,s.currentTarget=G;try{u(s)}catch(F){Hi(F)}s.currentTarget=null,u=M}}}}function De(e,t){var l=t[Cs];l===void 0&&(l=t[Cs]=new Set);var a=e+"__bubble";l.has(a)||(mp(t,e,2,!1),l.add(a))}function mu(e,t,l){var a=0;t&&(a|=4),mp(l,e,a,t)}var Co="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[Co]){e[Co]=!0,od.forEach(function(l){l!=="selectionchange"&&(Ev.has(l)||mu(l,!1,e),mu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Co]||(t[Co]=!0,mu("selectionchange",!1,t))}}function mp(e,t,l,a){switch($p(t)){case 2:var s=Jv;break;case 8:s=Pv;break;default:s=Mu}l=s.bind(null,t,l,e),s=void 0,!zs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function gu(e,t,l,a,s){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var N=a.stateNode.containerInfo;if(N===s)break;if(x===4)for(x=a.return;x!==null;){var M=x.tag;if((M===3||M===4)&&x.stateNode.containerInfo===s)return;x=x.return}for(;N!==null;){if(x=ha(N),x===null)return;if(M=x.tag,M===5||M===6||M===26||M===27){a=u=x;continue e}N=N.parentNode}}a=a.return}bd(function(){var G=u,F=ks(l),te=[];e:{var W=Wd.get(e);if(W!==void 0){var Q=Li,fe=e;switch(e){case"keypress":if(Ri(l)===0)break e;case"keydown":case"keyup":Q=x0;break;case"focusin":fe="focus",Q=Hs;break;case"focusout":fe="blur",Q=Hs;break;case"beforeblur":case"afterblur":Q=Hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=v0;break;case $d:case qd:case Xd:Q=s0;break;case Gd:Q=S0;break;case"scroll":case"scrollend":Q=l0;break;case"wheel":Q=E0;break;case"copy":case"cut":case"paste":Q=u0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ed;break;case"toggle":case"beforetoggle":Q=C0}var we=(t&4)!==0,Ge=!we&&(e==="scroll"||e==="scrollend"),I=we?W!==null?W+"Capture":null:W;we=[];for(var z=G,X;z!==null;){var ee=z;if(X=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||X===null||I===null||(ee=xr(z,I),ee!=null&&we.push(Kr(z,ee,X))),Ge)break;z=z.return}0<we.length&&(W=new Q(W,fe,null,l,F),te.push({event:W,listeners:we}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",W&&l!==Ds&&(fe=l.relatedTarget||l.fromElement)&&(ha(fe)||fe[da]))break e;if((Q||W)&&(W=F.window===F?F:(W=F.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(fe=l.relatedTarget||l.toElement,Q=G,fe=fe?ha(fe):null,fe!==null&&(Ge=f(fe),we=fe.tag,fe!==Ge||we!==5&&we!==27&&we!==6)&&(fe=null)):(Q=null,fe=G),Q!==fe)){if(we=Sd,ee="onMouseLeave",I="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(we=Ed,ee="onPointerLeave",I="onPointerEnter",z="pointer"),Ge=Q==null?W:gr(Q),X=fe==null?W:gr(fe),W=new we(ee,z+"leave",Q,l,F),W.target=Ge,W.relatedTarget=X,ee=null,ha(F)===G&&(we=new we(I,z+"enter",fe,l,F),we.target=X,we.relatedTarget=Ge,ee=we),Ge=ee,Q&&fe)t:{for(we=jv,I=Q,z=fe,X=0,ee=I;ee;ee=we(ee))X++;ee=0;for(var be=z;be;be=we(be))ee++;for(;0<X-ee;)I=we(I),X--;for(;0<ee-X;)z=we(z),ee--;for(;X--;){if(I===z||z!==null&&I===z.alternate){we=I;break t}I=we(I),z=we(z)}we=null}else we=null;Q!==null&&pp(te,W,Q,we,!1),fe!==null&&Ge!==null&&pp(te,Ge,fe,we,!0)}}e:{if(W=G?gr(G):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var Ve=Dd;else if(Md(W))if(kd)Ve=L0;else{Ve=R0;var pe=k0}else Q=W.nodeName,!Q||Q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?G&&Ts(G.elementType)&&(Ve=Dd):Ve=z0;if(Ve&&(Ve=Ve(e,G))){Td(te,Ve,l,F);break e}pe&&pe(e,W,G),e==="focusout"&&G&&W.type==="number"&&G.memoizedProps.value!=null&&Ms(W,"number",W.value)}switch(pe=G?gr(G):window,e){case"focusin":(Md(pe)||pe.contentEditable==="true")&&(Sa=pe,Xs=G,jr=null);break;case"focusout":jr=Xs=Sa=null;break;case"mousedown":Gs=!0;break;case"contextmenu":case"mouseup":case"dragend":Gs=!1,Id(te,l,F);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":Id(te,l,F)}var Ce;if(Is)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else wa?_d(e,l)&&(Re="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(jd&&l.locale!=="ko"&&(wa||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&wa&&(Ce=vd()):(il=F,Ls="value"in il?il.value:il.textContent,wa=!0)),pe=Ao(G,Re),0<pe.length&&(Re=new Nd(Re,e,null,l,F),te.push({event:Re,listeners:pe}),Ce?Re.data=Ce:(Ce=Od(l),Ce!==null&&(Re.data=Ce)))),(Ce=_0?O0(e,l):M0(e,l))&&(Re=Ao(G,"onBeforeInput"),0<Re.length&&(pe=new Nd("onBeforeInput","beforeinput",null,l,F),te.push({event:pe,listeners:Re}),pe.data=Ce)),wv(te,e,G,l,F)}hp(te,t)})}function Kr(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ao(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,u=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||u===null||(s=xr(e,l),s!=null&&a.unshift(Kr(e,s,u)),s=xr(e,t),s!=null&&a.push(Kr(e,s,u))),e.tag===3)return a;e=e.return}return[]}function jv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pp(e,t,l,a,s){for(var u=t._reactName,x=[];l!==null&&l!==a;){var N=l,M=N.alternate,G=N.stateNode;if(N=N.tag,M!==null&&M===a)break;N!==5&&N!==26&&N!==27||G===null||(M=G,s?(G=xr(l,u),G!=null&&x.unshift(Kr(l,G,M))):s||(G=xr(l,u),G!=null&&x.push(Kr(l,G,M)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var Cv=/\r\n?/g,Av=/\u0000|\uFFFD/g;function gp(e){return(typeof e=="string"?e:""+e).replace(Cv,`
`).replace(Av,"")}function xp(e,t){return t=gp(t),gp(e)===t}function Xe(e,t,l,a,s,u){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ya(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ya(e,""+a);break;case"className":Mi(e,"class",a);break;case"tabIndex":Mi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(e,l,a);break;case"style":xd(e,a,u);break;case"data":if(t!=="object"){Mi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Di(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(l==="formAction"?(t!=="input"&&Xe(e,t,"name",s.name,s,null),Xe(e,t,"formEncType",s.formEncType,s,null),Xe(e,t,"formMethod",s.formMethod,s,null),Xe(e,t,"formTarget",s.formTarget,s,null)):(Xe(e,t,"encType",s.encType,s,null),Xe(e,t,"method",s.method,s,null),Xe(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Di(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Ln);break;case"onScroll":a!=null&&De("scroll",e);break;case"onScrollEnd":a!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Di(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":De("beforetoggle",e),De("toggle",e),Oi(e,"popover",a);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Oi(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=t0.get(l)||l,Oi(e,l,a))}}function xu(e,t,l,a,s,u){switch(l){case"style":xd(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?ya(e,a):(typeof a=="number"||typeof a=="bigint")&&ya(e,""+a);break;case"onScroll":a!=null&&De("scroll",e);break;case"onScrollEnd":a!=null&&De("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),u=e[Ht]||null,u=u!=null?u[l]:null,typeof u=="function"&&e.removeEventListener(t,u,s),typeof a=="function")){typeof u!="function"&&u!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Oi(e,l,a)}}}function _t(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var a=!1,s=!1,u;for(u in l)if(l.hasOwnProperty(u)){var x=l[u];if(x!=null)switch(u){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xe(e,t,u,x,l,null)}}s&&Xe(e,t,"srcSet",l.srcSet,l,null),a&&Xe(e,t,"src",l.src,l,null);return;case"input":De("invalid",e);var N=u=x=s=null,M=null,G=null;for(a in l)if(l.hasOwnProperty(a)){var F=l[a];if(F!=null)switch(a){case"name":s=F;break;case"type":x=F;break;case"checked":M=F;break;case"defaultChecked":G=F;break;case"value":u=F;break;case"defaultValue":N=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,t));break;default:Xe(e,t,a,F,l,null)}}hd(e,u,N,M,G,x,s,!1);return;case"select":De("invalid",e),a=x=u=null;for(s in l)if(l.hasOwnProperty(s)&&(N=l[s],N!=null))switch(s){case"value":u=N;break;case"defaultValue":x=N;break;case"multiple":a=N;default:Xe(e,t,s,N,l,null)}t=u,l=x,e.multiple=!!a,t!=null?xa(e,!!a,t,!1):l!=null&&xa(e,!!a,l,!0);return;case"textarea":De("invalid",e),u=s=a=null;for(x in l)if(l.hasOwnProperty(x)&&(N=l[x],N!=null))switch(x){case"value":a=N;break;case"defaultValue":s=N;break;case"children":u=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(91));break;default:Xe(e,t,x,N,l,null)}pd(e,a,s,u);return;case"option":for(M in l)l.hasOwnProperty(M)&&(a=l[M],a!=null)&&(M==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Xe(e,t,M,a,l,null));return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(a=0;a<Qr.length;a++)De(Qr[a],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(a=l[G],a!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xe(e,t,G,a,l,null)}return;default:if(Ts(t)){for(F in l)l.hasOwnProperty(F)&&(a=l[F],a!==void 0&&xu(e,t,F,a,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(a=l[N],a!=null&&Xe(e,t,N,a,l,null))}function _v(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,u=null,x=null,N=null,M=null,G=null,F=null;for(Q in l){var te=l[Q];if(l.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=te;default:a.hasOwnProperty(Q)||Xe(e,t,Q,null,a,te)}}for(var W in a){var Q=a[W];if(te=l[W],a.hasOwnProperty(W)&&(Q!=null||te!=null))switch(W){case"type":u=Q;break;case"name":s=Q;break;case"checked":G=Q;break;case"defaultChecked":F=Q;break;case"value":x=Q;break;case"defaultValue":N=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:Q!==te&&Xe(e,t,W,Q,a,te)}}Os(e,x,N,M,G,F,u,s);return;case"select":Q=x=N=W=null;for(u in l)if(M=l[u],l.hasOwnProperty(u)&&M!=null)switch(u){case"value":break;case"multiple":Q=M;default:a.hasOwnProperty(u)||Xe(e,t,u,null,a,M)}for(s in a)if(u=a[s],M=l[s],a.hasOwnProperty(s)&&(u!=null||M!=null))switch(s){case"value":W=u;break;case"defaultValue":N=u;break;case"multiple":x=u;default:u!==M&&Xe(e,t,s,u,a,M)}t=N,l=x,a=Q,W!=null?xa(e,!!l,W,!1):!!a!=!!l&&(t!=null?xa(e,!!l,t,!0):xa(e,!!l,l?[]:"",!1));return;case"textarea":Q=W=null;for(N in l)if(s=l[N],l.hasOwnProperty(N)&&s!=null&&!a.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Xe(e,t,N,null,a,s)}for(x in a)if(s=a[x],u=l[x],a.hasOwnProperty(x)&&(s!=null||u!=null))switch(x){case"value":W=s;break;case"defaultValue":Q=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==u&&Xe(e,t,x,s,a,u)}md(e,W,Q);return;case"option":for(var fe in l)W=l[fe],l.hasOwnProperty(fe)&&W!=null&&!a.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:Xe(e,t,fe,null,a,W));for(M in a)W=a[M],Q=l[M],a.hasOwnProperty(M)&&W!==Q&&(W!=null||Q!=null)&&(M==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":Xe(e,t,M,W,a,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in l)W=l[we],l.hasOwnProperty(we)&&W!=null&&!a.hasOwnProperty(we)&&Xe(e,t,we,null,a,W);for(G in a)if(W=a[G],Q=l[G],a.hasOwnProperty(G)&&W!==Q&&(W!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,t));break;default:Xe(e,t,G,W,a,Q)}return;default:if(Ts(t)){for(var Ge in l)W=l[Ge],l.hasOwnProperty(Ge)&&W!==void 0&&!a.hasOwnProperty(Ge)&&xu(e,t,Ge,void 0,a,W);for(F in a)W=a[F],Q=l[F],!a.hasOwnProperty(F)||W===Q||W===void 0&&Q===void 0||xu(e,t,F,W,a,Q);return}}for(var I in l)W=l[I],l.hasOwnProperty(I)&&W!=null&&!a.hasOwnProperty(I)&&Xe(e,t,I,null,a,W);for(te in a)W=a[te],Q=l[te],!a.hasOwnProperty(te)||W===Q||W==null&&Q==null||Xe(e,t,te,W,a,Q)}function yp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ov(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],u=s.transferSize,x=s.initiatorType,N=s.duration;if(u&&N&&yp(x)){for(x=0,N=s.responseEnd,a+=1;a<l.length;a++){var M=l[a],G=M.startTime;if(G>N)break;var F=M.transferSize,te=M.initiatorType;F&&yp(te)&&(M=M.responseEnd,x+=F*(M<N?1:(N-G)/(M-G)))}if(--a,t+=8*(u+x)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yu=null,bu=null;function _o(e){return e.nodeType===9?e:e.ownerDocument}function bp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=null;function Mv(){var e=window.event;return e&&e.type==="popstate"?e===wu?!1:(wu=e,!0):(wu=null,!1)}var wp=typeof setTimeout=="function"?setTimeout:void 0,Tv=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,Dv=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(e){return Sp.resolve(null).then(e).catch(kv)}:wp;function kv(e){setTimeout(function(){throw e})}function Nl(e){return e==="head"}function Np(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),Qa(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Fr(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Fr(l);for(var u=l.firstChild;u;){var x=u.nextSibling,N=u.nodeName;u[pr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=x}}else l==="body"&&Fr(e.ownerDocument.body);l=s}while(l);Qa(t)}function Ep(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Su(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Su(l),As(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Rv(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[pr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=mn(e.nextSibling),e===null)break}return null}function zv(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=mn(e.nextSibling),e===null))return null;return e}function jp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=mn(e.nextSibling),e===null))return null;return e}function Nu(e){return e.data==="$?"||e.data==="$~"}function Eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Lv(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ju=null;function Cp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return mn(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Ap(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function _p(e,t,l){switch(t=_o(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Fr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);As(e)}var pn=new Map,Op=new Set;function Oo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jn=D.d;D.d={f:Vv,r:Bv,D:Hv,C:Uv,L:Iv,m:Yv,X:qv,S:$v,M:Xv};function Vv(){var e=Jn.f(),t=vo();return e||t}function Bv(e){var t=ma(e);t!==null&&t.tag===5&&t.type==="form"?Gh(t):Jn.r(e)}var Ga=typeof document>"u"?null:document;function Mp(e,t,l){var a=Ga;if(a&&typeof t=="string"&&t){var s=on(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),Op.has(s)||(Op.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),_t(t,"link",e),bt(t),a.head.appendChild(t)))}}function Hv(e){Jn.D(e),Mp("dns-prefetch",e,null)}function Uv(e,t){Jn.C(e,t),Mp("preconnect",e,t)}function Iv(e,t,l){Jn.L(e,t,l);var a=Ga;if(a&&e&&t){var s='link[rel="preload"][as="'+on(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+on(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+on(l.imageSizes)+'"]')):s+='[href="'+on(e)+'"]';var u=s;switch(t){case"style":u=Wa(e);break;case"script":u=Za(e)}pn.has(u)||(e=b({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),pn.set(u,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(Jr(u))||t==="script"&&a.querySelector(Pr(u))||(t=a.createElement("link"),_t(t,"link",e),bt(t),a.head.appendChild(t)))}}function Yv(e,t){Jn.m(e,t);var l=Ga;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+on(a)+'"][href="'+on(e)+'"]',u=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Za(e)}if(!pn.has(u)&&(e=b({rel:"modulepreload",href:e},t),pn.set(u,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Pr(u)))return}a=l.createElement("link"),_t(a,"link",e),bt(a),l.head.appendChild(a)}}}function $v(e,t,l){Jn.S(e,t,l);var a=Ga;if(a&&e){var s=pa(a).hoistableStyles,u=Wa(e);t=t||"default";var x=s.get(u);if(!x){var N={loading:0,preload:null};if(x=a.querySelector(Jr(u)))N.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},l),(l=pn.get(u))&&Cu(e,l);var M=x=a.createElement("link");bt(M),_t(M,"link",e),M._p=new Promise(function(G,F){M.onload=G,M.onerror=F}),M.addEventListener("load",function(){N.loading|=1}),M.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Mo(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:N},s.set(u,x)}}}function qv(e,t){Jn.X(e,t);var l=Ga;if(l&&e){var a=pa(l).hoistableScripts,s=Za(e),u=a.get(s);u||(u=l.querySelector(Pr(s)),u||(e=b({src:e,async:!0},t),(t=pn.get(s))&&Au(e,t),u=l.createElement("script"),bt(u),_t(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Xv(e,t){Jn.M(e,t);var l=Ga;if(l&&e){var a=pa(l).hoistableScripts,s=Za(e),u=a.get(s);u||(u=l.querySelector(Pr(s)),u||(e=b({src:e,async:!0,type:"module"},t),(t=pn.get(s))&&Au(e,t),u=l.createElement("script"),bt(u),_t(u,"link",e),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(s,u))}}function Tp(e,t,l,a){var s=(s=ge.current)?Oo(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Wa(l.href),l=pa(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Wa(l.href);var u=pa(s).hoistableStyles,x=u.get(e);if(x||(s=s.ownerDocument||s,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,x),(u=s.querySelector(Jr(e)))&&!u._p&&(x.instance=u,x.state.loading=5),pn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pn.set(e,l),u||Gv(s,e,l,x.state))),t&&a===null)throw Error(o(528,""));return x}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Za(l),l=pa(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Wa(e){return'href="'+on(e)+'"'}function Jr(e){return'link[rel="stylesheet"]['+e+"]"}function Dp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Gv(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),_t(t,"link",l),bt(t),e.head.appendChild(t))}function Za(e){return'[src="'+on(e)+'"]'}function Pr(e){return"script[async]"+e}function kp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+on(l.href)+'"]');if(a)return t.instance=a,bt(a),a;var s=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),bt(a),_t(a,"style",s),Mo(a,l.precedence,e),t.instance=a;case"stylesheet":s=Wa(l.href);var u=e.querySelector(Jr(s));if(u)return t.state.loading|=4,t.instance=u,bt(u),u;a=Dp(l),(s=pn.get(s))&&Cu(a,s),u=(e.ownerDocument||e).createElement("link"),bt(u);var x=u;return x._p=new Promise(function(N,M){x.onload=N,x.onerror=M}),_t(u,"link",a),t.state.loading|=4,Mo(u,l.precedence,e),t.instance=u;case"script":return u=Za(l.src),(s=e.querySelector(Pr(u)))?(t.instance=s,bt(s),s):(a=l,(s=pn.get(u))&&(a=b({},l),Au(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),bt(s),_t(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Mo(a,l.precedence,e));return t.instance}function Mo(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,u=s,x=0;x<a.length;x++){var N=a[x];if(N.dataset.precedence===t)u=N;else if(u!==s)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var To=null;function Rp(e,t,l){if(To===null){var a=new Map,s=To=new Map;s.set(l,a)}else s=To,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var u=l[s];if(!(u[pr]||u[Et]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var x=u.getAttribute(t)||"";x=e+x;var N=a.get(x);N?N.push(u):a.set(x,[u])}}return a}function zp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Wv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Lp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zv(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=Wa(a.href),u=t.querySelector(Jr(s));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Do.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=u,bt(u);return}u=t.ownerDocument||t,a=Dp(a),(s=pn.get(s))&&Cu(a,s),u=u.createElement("link"),bt(u);var x=u;x._p=new Promise(function(N,M){x.onload=N,x.onerror=M}),_t(u,"link",a),l.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Do.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var _u=0;function Qv(e,t){return e.stylesheets&&e.count===0&&Ro(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Ro(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&_u===0&&(_u=62500*Ov());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ro(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>_u?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Do(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ro(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ko=null;function Ro(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ko=new Map,t.forEach(Kv,e),ko=null,Do.call(e))}function Kv(e,t){if(!(t.state.loading&4)){var l=ko.get(e);if(l)var a=l.get(null);else{l=new Map,ko.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<s.length;u++){var x=s[u];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),a=x)}a&&l.set(null,a)}s=t.instance,x=s.getAttribute("data-precedence"),u=l.get(x)||a,u===a&&l.set(null,s),l.set(x,s),this.count++,a=Do.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),u?u.parentNode.insertBefore(s,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ei={$$typeof:V,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Fv(e,t,l,a,s,u,x,N,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=u,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Vp(e,t,l,a,s,u,x,N,M,G,F,te){return e=new Fv(e,t,l,x,M,G,F,te,N),t=1,u===!0&&(t|=24),u=Qt(3,null,null,t),e.current=u,u.stateNode=e,t=oc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:l,cache:t},fc(u),e}function Bp(e){return e?(e=ja,e):ja}function Hp(e,t,l,a,s,u){s=Bp(s),a.context===null?a.context=s:a.pendingContext=s,a=dl(t),a.payload={element:l},u=u===void 0?null:u,u!==null&&(a.callback=u),l=hl(e,a,t),l!==null&&(Xt(l,e,t),Dr(l,e,t))}function Up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Ou(e,t){Up(e,t),(e=e.alternate)&&Up(e,t)}function Ip(e){if(e.tag===13||e.tag===31){var t=$l(e,67108864);t!==null&&Xt(t,e,67108864),Ou(e,67108864)}}function Yp(e){if(e.tag===13||e.tag===31){var t=en();t=Es(t);var l=$l(e,t);l!==null&&Xt(l,e,t),Ou(e,t)}}var zo=!0;function Jv(e,t,l,a){var s=k.T;k.T=null;var u=D.p;try{D.p=2,Mu(e,t,l,a)}finally{D.p=u,k.T=s}}function Pv(e,t,l,a){var s=k.T;k.T=null;var u=D.p;try{D.p=8,Mu(e,t,l,a)}finally{D.p=u,k.T=s}}function Mu(e,t,l,a){if(zo){var s=Tu(a);if(s===null)gu(e,t,a,Lo,l),qp(e,a);else if(t1(s,e,t,l,a))a.stopPropagation();else if(qp(e,a),t&4&&-1<e1.indexOf(e)){for(;s!==null;){var u=ma(s);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var x=Nt(u.pendingLanes);if(x!==0){var N=u;for(N.pendingLanes|=2,N.entangledLanes|=2;x;){var M=1<<31-St(x);N.entanglements[1]|=M,x&=~M}On(u),(He&6)===0&&(yo=Pe()+500,Zr(0))}}break;case 31:case 13:N=$l(u,2),N!==null&&Xt(N,u,2),vo(),Ou(u,2)}if(u=Tu(a),u===null&&gu(e,t,a,Lo,l),u===s)break;s=u}s!==null&&a.stopPropagation()}else gu(e,t,a,null,l)}}function Tu(e){return e=ks(e),Du(e)}var Lo=null;function Du(e){if(Lo=null,e=ha(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=m(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Lo=e,null}function $p(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(al()){case ca:return 2;case ce:return 8;case ve:case Ue:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var ku=!1,El=null,jl=null,Cl=null,ti=new Map,ni=new Map,Al=[],e1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(e,t){switch(e){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(t.pointerId)}}function li(e,t,l,a,s,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:u,targetContainers:[s]},t!==null&&(t=ma(t),t!==null&&Ip(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function t1(e,t,l,a,s){switch(t){case"focusin":return El=li(El,e,t,l,a,s),!0;case"dragenter":return jl=li(jl,e,t,l,a,s),!0;case"mouseover":return Cl=li(Cl,e,t,l,a,s),!0;case"pointerover":var u=s.pointerId;return ti.set(u,li(ti.get(u)||null,e,t,l,a,s)),!0;case"gotpointercapture":return u=s.pointerId,ni.set(u,li(ni.get(u)||null,e,t,l,a,s)),!0}return!1}function Xp(e){var t=ha(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,rd(e.priority,function(){Yp(l)});return}}else if(t===31){if(t=m(l),t!==null){e.blockedOn=t,rd(e.priority,function(){Yp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Tu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ds=a,l.target.dispatchEvent(a),Ds=null}else return t=ma(l),t!==null&&Ip(t),e.blockedOn=l,!1;t.shift()}return!0}function Gp(e,t,l){Vo(e)&&l.delete(t)}function n1(){ku=!1,El!==null&&Vo(El)&&(El=null),jl!==null&&Vo(jl)&&(jl=null),Cl!==null&&Vo(Cl)&&(Cl=null),ti.forEach(Gp),ni.forEach(Gp)}function Bo(e,t){e.blockedOn===t&&(e.blockedOn=null,ku||(ku=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,n1)))}var Ho=null;function Wp(e){Ho!==e&&(Ho=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ho===e&&(Ho=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(Du(a||l)===null)continue;break}var u=ma(l);u!==null&&(e.splice(t,3),t-=3,Tc(u,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function Qa(e){function t(M){return Bo(M,e)}El!==null&&Bo(El,e),jl!==null&&Bo(jl,e),Cl!==null&&Bo(Cl,e),ti.forEach(t),ni.forEach(t);for(var l=0;l<Al.length;l++){var a=Al[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Al.length&&(l=Al[0],l.blockedOn===null);)Xp(l),l.blockedOn===null&&Al.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],u=l[a+1],x=s[Ht]||null;if(typeof u=="function")x||Wp(l);else if(x){var N=null;if(u&&u.hasAttribute("formAction")){if(s=u,x=u[Ht]||null)N=x.formAction;else if(Du(s)!==null)continue}else N=x.action;typeof N=="function"?l[a+1]=N:(l.splice(a,3),a-=3),Wp(l)}}}function Zp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(x){return s=x})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ru(e){this._internalRoot=e}Uo.prototype.render=Ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=en();Hp(l,a,e,t,null,null)},Uo.prototype.unmount=Ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hp(e.current,2,null,e,null,null),vo(),t[da]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ad();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Al.length&&t!==0&&t<Al[l].priority;l++);Al.splice(l,0,e),l===0&&Xp(e)}};var Qp=r.version;if(Qp!=="19.2.3")throw Error(o(527,Qp,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var l1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{yn=Io.inject(l1),mt=Io}catch{}}return ri.createRoot=function(e,t){if(!c(e))throw Error(o(299));var l=!1,a="",s=nm,u=lm,x=am;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=Vp(e,1,!1,null,null,l,a,null,s,u,x,Zp),e[da]=t.current,pu(e),new Ru(t)},ri.hydrateRoot=function(e,t,l){if(!c(e))throw Error(o(299));var a=!1,s="",u=nm,x=lm,N=am,M=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(u=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(M=l.formState)),t=Vp(e,1,!0,t,l??null,a,s,M,u,x,N,Zp),t.context=Bp(null),l=t.current,a=en(),a=Es(a),s=dl(a),s.callback=null,hl(l,s,a),l=a,t.current.lanes=l,mr(t,l),On(t),e[da]=t.current,pu(e),new Uo(t)},ri.version="19.2.3",ri}var rg;function h1(){if(rg)return Vu.exports;rg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Vu.exports=d1(),Vu.exports}var m1=h1();const ig=n=>{let r;const i=new Set,o=(p,y)=>{const b=typeof p=="function"?p(r):p;if(!Object.is(b,r)){const S=r;r=y??(typeof b!="object"||b===null)?b:Object.assign({},r,b),i.forEach(E=>E(r,S))}},c=()=>r,m={setState:o,getState:c,getInitialState:()=>g,subscribe:p=>(i.add(p),()=>i.delete(p))},g=r=n(o,c,m);return m},p1=(n=>n?ig(n):ig),g1=n=>n;function x1(n,r=g1){const i=Tn.useSyncExternalStore(n.subscribe,Tn.useCallback(()=>r(n.getState()),[n,r]),Tn.useCallback(()=>r(n.getInitialState()),[n,r]));return Tn.useDebugValue(i),i}const og=n=>{const r=p1(n),i=o=>x1(r,o);return Object.assign(i,r),i},bs=(n=>n?og(n):og);function y1(n,r){let i;try{i=n()}catch{return}return{getItem:c=>{var f;const h=g=>g===null?null:JSON.parse(g,void 0),m=(f=i.getItem(c))!=null?f:null;return m instanceof Promise?m.then(h):h(m)},setItem:(c,f)=>i.setItem(c,JSON.stringify(f,void 0)),removeItem:c=>i.removeItem(c)}}const uf=n=>r=>{try{const i=n(r);return i instanceof Promise?i:{then(o){return uf(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return uf(o)(i)}}}},b1=(n,r)=>(i,o,c)=>{let f={storage:y1(()=>localStorage),partialize:j=>j,version:0,merge:(j,A)=>({...A,...j}),...r},h=!1,m=0;const g=new Set,p=new Set;let y=f.storage;if(!y)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),i(...j)},o,c);const b=()=>{const j=f.partialize({...o()});return y.setItem(f.name,{state:j,version:f.version})},S=c.setState;c.setState=(j,A)=>(S(j,A),b());const E=n((...j)=>(i(...j),b()),o,c);c.getInitialState=()=>E;let w;const v=()=>{var j,A;if(!y)return;const O=++m;h=!1,g.forEach(Y=>{var B;return Y((B=o())!=null?B:E)});const V=((A=f.onRehydrateStorage)==null?void 0:A.call(f,(j=o())!=null?j:E))||void 0;return uf(y.getItem.bind(y))(f.name).then(Y=>{if(Y)if(typeof Y.version=="number"&&Y.version!==f.version){if(f.migrate){const B=f.migrate(Y.state,Y.version);return B instanceof Promise?B.then(U=>[!0,U]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Y.state];return[!1,void 0]}).then(Y=>{var B;if(O!==m)return;const[U,$]=Y;if(w=f.merge($,(B=o())!=null?B:E),i(w,!0),U)return b()}).then(()=>{O===m&&(V?.(w,void 0),w=o(),h=!0,p.forEach(Y=>Y(w)))}).catch(Y=>{O===m&&V?.(void 0,Y)})};return c.persist={setOptions:j=>{f={...f,...j},j.storage&&(y=j.storage)},clearStorage:()=>{y?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>v(),hasHydrated:()=>h,onHydrate:j=>(g.add(j),()=>{g.delete(j)}),onFinishHydration:j=>(p.add(j),()=>{p.delete(j)})},f.skipHydration||v(),w||E},v1=b1;function Af(n){return n===null||n===void 0?"null":typeof n=="string"?n===""||n.includes(":")||n.includes("#")||n.includes(`
`)||n.startsWith(" ")||n.endsWith(" ")||/^[[{}>|*&!%@`]/.test(n)||/^-?\d+(\.\d+)?$/.test(n)||n==="true"||n==="false"||n==="null"?JSON.stringify(n):n:typeof n=="number"||typeof n=="boolean"?String(n):JSON.stringify(n)}function _f(n,r){const i=n.split(`
`);let o=!1,c=-1,f=-1;for(let h=0;h<i.length;h++){const m=i[h],g=m.match(/^\s*-?\s*name:\s*(\w+)/);if(g&&(o=g[1]===r),o){const p=m.match(/^(\s*)nodes:\s*$/);if(p){c=h,f=p[1].length;let y=h+1;for(;y<i.length;){const b=i[y];if(b.trim()===""||b.trim().startsWith("#")){y++;continue}const S=b.search(/\S/);if(S!==-1&&S<=f)break;y++}return{startLine:c,endLine:y,nodesIndent:f}}}}return null}function ot(n,r,i){const o=n.split(`
`);let c=0,f=o.length;if(i){const p=_f(n,i);if(!p)return null;c=p.startLine,f=p.endLine}let h=-1,m=-1;for(let p=c;p<f;p++){const b=o[p].match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(b&&b[2]===r){h=p,m=b[1].length;break}}if(h===-1)return null;let g=h+1;for(;g<o.length;){const p=o[g];if(p.trim()===""||p.trim().startsWith("#")){g++;continue}const y=p.search(/\S/);if(y!==-1&&y<=m)break;g++}return{startLine:h,endLine:g,indent:m}}function Mx(n,r){const i=n.split(`
`),o=new Set;for(const h of i){const m=h.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);m&&o.add(m[1])}let c=`${r}_1`,f=1;for(;o.has(c);)f++,c=`${r}_${f}`;return c}function ff(n,r){const i=ot(n,r);if(!i)return{source:n,success:!1};const o=n.split(`
`);return{source:[...o.slice(0,i.startLine),...o.slice(i.endLine)].join(`
`),success:!0}}function Tx(n,r,i="main"){const o=n.split(`
`);let c=!1,f=-1,h=-1,m=-1,g=-1;for(let A=0;A<o.length;A++){const O=o[A],V=O.match(/^\s*-?\s*name:\s*(\w+)/);if(V&&(c=V[1]===i),c){const Y=O.match(/^(\s*)nodes:\s*$/);if(Y){f=A,h=Y[1].length;continue}if(f!==-1){const B=O.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(B){const U=B[1].length;if(U===h+2){g=U;let $=A+1;for(;$<o.length;){const q=o[$];if(q.trim()===""||q.trim().startsWith("#")){$++;continue}const K=q.search(/\S/);if(K!==-1&&K<=U)break;$++}m=$}}}}}if(f===-1)return{source:n,nodeId:null};const p=r.name.split("_")[0],y=Mx(n,p),b=" ".repeat(g!==-1?g:h+2),S=b+"  ",E=S+"  ";let w=`${b}${y}:
`;if(w+=`${S}opcode: ${r.name}
`,w+=`${S}next: null
`,r.parameters.length>0){w+=`${S}inputs:
`;for(const A of r.parameters){const O=A.name.toUpperCase(),V=A.default!==void 0?JSON.stringify(A.default):'""';w+=`${E}${O}: { literal: ${V} }
`}}const v=m!==-1?m:f+1;return{source:[...o.slice(0,v),w.trimEnd(),...o.slice(v)].join(`
`),nodeId:y}}function w1(n,r,i,o="main"){console.log("[WorkflowService] addNodeAndConnect",{opcode:r.name,sourceNodeId:i,workflowName:o});const c=Tx(n,r,o);if(console.log("[WorkflowService] addNode result",{nodeId:c.nodeId}),!c.nodeId)return console.log("[WorkflowService] addNode failed"),{source:n,nodeId:null,success:!1};const f=di(c.source,i,c.nodeId,o);return console.log("[WorkflowService] connectNodes result",{success:f.success}),f.success?{source:f.source,nodeId:c.nodeId,success:!0}:(console.log("[WorkflowService] connectNodes failed"),{source:n,nodeId:null,success:!1})}function S1(n,r){const i=ot(n,r);if(!i)return{source:n,nodeId:null};const o=n.split(`
`),c=o.slice(i.startLine,i.endLine);let f=`${r}_copy`,h=1;const m=new Set;for(const y of o){const b=y.match(/^\s+([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);b&&m.add(b[1])}for(;m.has(f);)h++,f=`${r}_copy_${h}`;const g=[...c];g[0]=g[0].replace(r+":",f+":");for(let y=1;y<g.length;y++)if(g[y].match(/^\s+next:\s*\S/)){const b=g[y].match(/^(\s+)next:/)?.[1]||"        ";g[y]=`${b}next: null`}return{source:[...o.slice(0,i.endLine),...g,...o.slice(i.endLine)].join(`
`),nodeId:f}}function N1(n,r,i,o){const c=n.split(`
`),f=ot(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let E=f.startLine+1;E<f.endLine;E++){const w=c[E];if(w.match(/^\s+inputs:\s*$/)){h=E;continue}if(h!==-1){const v=w.match(new RegExp(`^(\\s+)(${i}):\\s*(.*)$`));if(v){m=E,g=v[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const E=c[p];if(E.trim()===""||E.trim().startsWith("#")){p++;continue}const w=E.search(/\S/);if(w!==-1&&w<=g)break;p++}let y;if(o.startsWith("$"))y=`{ variable: "${o.slice(1)}" }`;else try{const E=JSON.parse(o);y=`{ literal: ${JSON.stringify(E)} }`}catch{y=`{ literal: "${o}" }`}const b=" ".repeat(g);return{source:[...c.slice(0,m),`${b}${i}: ${y}`,...c.slice(p)].join(`
`),success:!0}}function di(n,r,i,o){const c=n.split(`
`),f=ot(n,r,o);if(!f)return{source:n,success:!1};let h=-1;for(let g=f.startLine+1;g<f.endLine;g++)if(c[g].match(/^\s+next:\s*/)){h=g;break}const m=" ".repeat(f.indent+2);if(h!==-1)c[h]=`${m}next: ${i}`;else{let g=f.startLine+1;for(;g<f.endLine;){const p=c[g];if(p.trim()!==""&&!p.trim().startsWith("#"))break;g++}c.splice(g,0,`${m}next: ${i}`)}return{source:c.join(`
`),success:!0}}function Of(n,r,i){const o=n.split(`
`),c=ot(n,r,i);if(!c)return{source:n,success:!1};for(let f=c.startLine+1;f<c.endLine;f++)if(o[f].match(/^\s+next:\s*/)){const h=o[f].match(/^(\s+)next:/)?.[1]||" ".repeat(c.indent+2);return o[f]=`${h}next: null`,{source:o.join(`
`),success:!0}}return{source:n,success:!0}}function E1(n,r,i,o){const c=n.split(`
`),f=ot(n,r);if(!f)return{source:n,success:!1};let h=-1,m=-1;for(let w=f.startLine+1;w<f.endLine;w++){const j=c[w].match(/^(\s+)inputs:\s*$/);if(j){h=w,m=j[1].length;break}}if(h===-1)return{source:n,success:!1};const g=o.startsWith("CATCH"),p=" ".repeat(m+2),y=" ".repeat(m+4);let b=-1,S=-1,E=h+1;for(;E<c.length;){const w=c[E];if(w.trim()===""||w.trim().startsWith("#")){E++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=m&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){b=E;break}const A=w.match(/^\s+([A-Z]+\d*):\s*\{.*\}\s*$/);if(A&&A[1]===o){S=E;break}E++}if(b!==-1){const w=c[b].match(/^(\s*)/)?.[1].length||0;let v=b+1;if(g){let j=-1;for(;v<c.length;){const A=c[v];if(A.trim()===""||A.trim().startsWith("#")){v++;continue}if((A.match(/^(\s*)/)?.[1].length||0)<=w&&A.trim())break;if(A.match(/^\s+body:\s*$/)){j=v;break}v++}if(j!==-1){const A=c[j].match(/^(\s*)/)?.[1].length||0;let O=j+1;for(;O<c.length;){const Y=c[O];if(Y.trim()===""||Y.trim().startsWith("#")){O++;continue}if((Y.match(/^(\s*)/)?.[1].length||0)<=A&&Y.trim())break;const U=Y.match(/^(\s+)branch:\s*/);if(U)return c[O]=`${U[1]}branch: ${i}`,{source:c.join(`
`),success:!0};O++}const V=" ".repeat(A+2);return c.splice(j+1,0,`${V}branch: ${i}`),{source:c.join(`
`),success:!0}}else{const A=" ".repeat(w+2),O=" ".repeat(w+4);let V=b+1;for(;V<c.length;){const Y=c[V];if(Y.trim()===""||Y.trim().startsWith("#")){V++;continue}if((Y.match(/^(\s*)/)?.[1].length||0)<=w&&Y.trim())break;V++}return c.splice(V,0,`${A}body:`,`${O}branch: ${i}`),{source:c.join(`
`),success:!0}}}else{for(;v<c.length;){const j=c[v];if(j.trim()===""||j.trim().startsWith("#")){v++;continue}if((j.match(/^(\s*)/)?.[1].length||0)<=w&&j.trim())break;const O=j.match(/^(\s+)branch:\s*/);if(O)return c[v]=`${O[1]}branch: ${i}`,{source:c.join(`
`),success:!0};v++}return c.splice(b+1,0,`${y}branch: ${i}`),{source:c.join(`
`),success:!0}}}else if(S!==-1){const w=c[S].match(/^(\s*)/)?.[1].length||0,v=" ".repeat(w+2);if(g){const j=" ".repeat(w+2),A=" ".repeat(w+4);c.splice(S,1,`${" ".repeat(w)}${o}:`,`${j}exception_type: "Exception"`,`${j}body:`,`${A}branch: ${i}`)}else c.splice(S,1,`${" ".repeat(w)}${o}:`,`${v}branch: ${i}`);return{source:c.join(`
`),success:!0}}else{if(g){const w=" ".repeat(m+4),v=" ".repeat(m+6);c.splice(E,0,`${p}${o}:`,`${w}exception_type: "Exception"`,`${w}body:`,`${v}branch: ${i}`)}else c.splice(E,0,`${p}${o}:`,`${y}branch: ${i}`);return{source:c.join(`
`),success:!0}}}function j1(n,r,i,o,c){if(!o)return Of(n,r,c);const f=n.split(`
`),h=ot(n,r,c);if(!h)return{source:n,success:!1};let m=-1,g=-1;for(let w=h.startLine+1;w<h.endLine;w++){const j=f[w].match(/^(\s+)inputs:\s*$/);if(j){m=w,g=j[1].length;break}}if(m===-1)return{source:n,success:!1};const p=o.startsWith("CATCH");let y=-1,b=m+1;for(;b<f.length;){const w=f[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=g&&w.trim())break;const j=w.match(/^\s+([A-Z]+\d*):\s*$/);if(j&&j[1]===o){y=b;break}b++}if(y===-1)return{source:n,success:!1};const S=f[y].match(/^(\s*)/)?.[1].length||0;let E=y+1;for(;E<f.length;){const w=f[E];if(w.trim()===""||w.trim().startsWith("#")){E++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=S&&w.trim())break;if(p){const j=w.match(/^(\s+)body:\s*$/);if(j){const A=j[1].length;let O=E+1;for(;O<f.length;){const V=f[O];if(V.trim()===""||V.trim().startsWith("#")){O++;continue}if((V.match(/^(\s*)/)?.[1].length||0)<=A&&V.trim())break;const B=V.match(/^(\s+)branch:\s*(\S+)/);if(B&&B[2]===i){const U=B[1];return f[O]=`${U}branch: null`,{source:f.join(`
`),success:!0}}O++}}}else{const j=w.match(/^(\s+)branch:\s*(\S+)/);if(j&&j[2]===i){const A=j[1];return f[E]=`${A}branch: null`,{source:f.join(`
`),success:!0}}}E++}return{source:n,success:!1}}function C1(n,r,i,o){const c=n.split(`
`),f=ot(n,i);if(!f)return{source:n,success:!1};let h=-1,m=-1,g=-1;for(let S=f.startLine+1;S<f.endLine;S++){const E=c[S];if(E.match(/^\s+inputs:\s*$/)){h=S;continue}if(h!==-1){const w=E.match(new RegExp(`^(\\s+)(${o}):\\s*(.*)$`));if(w){m=S,g=w[1].length;break}}}if(m===-1)return{source:n,success:!1};let p=m+1;for(;p<c.length;){const S=c[p];if(S.trim()===""||S.trim().startsWith("#")){p++;continue}const E=S.search(/\S/);if(E!==-1&&E<=g)break;p++}const y=" ".repeat(g);return{source:[...c.slice(0,m),`${y}${o}: { node: "${r}" }`,...c.slice(p)].join(`
`),success:!0}}function A1(n,r,i){if(i.length===0)return{source:n,success:!1};const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=c.startLine,h=c.indent,m=!1;for(let w=c.startLine+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=c.indent)break;if(v.match(/^\s+inputs:\s*$/)){m=!0,f=w,h=j;break}}if(!m)return{source:n,success:!1};for(let w=0;w<i.length-1;w++){const v=i[w];let j=!1;for(let A=f+1;A<o.length;A++){const O=o[A];if(O.trim()===""||O.trim().startsWith("#"))continue;const V=O.search(/\S/);if(V!==-1&&V<=h)break;const Y=O.match(new RegExp(`^(\\s+)(${v}):\\s*`));if(Y){f=A,h=Y[1].length,j=!0;for(let B=A+1;B<o.length;B++){const U=o[B];if(U.trim()===""||U.trim().startsWith("#"))continue;const $=U.search(/\S/);if($!==-1&&$<=h)break;if(U.match(/^\s+inputs:\s*$/)){f=B,h=$;break}}break}}if(!j)return{source:n,success:!1}}const g=i[i.length-1];let p=-1,y=-1;for(let w=f+1;w<o.length;w++){const v=o[w];if(v.trim()===""||v.trim().startsWith("#"))continue;const j=v.search(/\S/);if(j!==-1&&j<=h)break;const A=v.match(new RegExp(`^(\\s+)(${g}):\\s*`));if(A){p=w,y=A[1].length;break}}if(p===-1)return{source:n,success:!1};let b=p+1;for(;b<o.length;){const w=o[b];if(w.trim()===""||w.trim().startsWith("#")){b++;continue}const v=w.search(/\S/);if(v!==-1&&v<=y)break;b++}const S=" ".repeat(y);return{source:[...o.slice(0,p),`${S}${g}: { literal: null }`,...o.slice(b)].join(`
`),success:!0}}function _1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let v=0;v<c.length;v++){const j=c[v],A=j.match(/^\s*-?\s*name:\s*(\w+)/);if(A&&(f=A[1]===r),f){const O=j.match(/^(\s*)interface:\s*$/);if(O){h=v,g=O[1].length;let V=v+1;for(;V<c.length;){const Y=c[V];if(Y.trim()===""||Y.trim().startsWith("#")){V++;continue}const B=Y.search(/\S/);if(B!==-1&&B<=g)break;V++}m=V;break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(g),y=" ".repeat(g+2),b=i.length>0?`[${i.map(v=>`"${v}"`).join(", ")}]`:"[]",S=o.length>0?`[${o.map(v=>`"${v}"`).join(", ")}]`:"[]",E=[`${p}interface:`,`${y}inputs: ${b}`,`${y}outputs: ${S}`];return{source:[...c.slice(0,h),...E,...c.slice(m)].join(`
`),success:!0}}function O1(n,r,i,o){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1;for(let b=0;b<c.length;b++){const S=c[b],E=S.match(/^\s*-?\s*name:\s*(\w+)/);if(E&&(f=E[1]===r),f){const w=S.match(/^(\s*)variables:\s*(.*)$/);if(w){h=b,m=w[1].length;const v=w[2].trim();if(v==="{}"||v==="")g=b+1;else{let j=b+1;for(;j<c.length;){const A=c[j];if(A.trim()===""||A.trim().startsWith("#")){j++;continue}const O=A.search(/\S/);if(O!==-1&&O<=m)break;j++}g=j}break}}}if(h===-1)return{source:n,success:!1};const p=" ".repeat(m+2),y=Af(o);if(c[h].includes("{}")){const b=" ".repeat(m);return{source:[...c.slice(0,h),`${b}variables:`,`${p}${i}: ${y}`,...c.slice(h+1)].join(`
`),success:!0}}else return{source:[...c.slice(0,g),`${p}${i}: ${y}`,...c.slice(g)].join(`
`),success:!0}}function M1(n,r,i,o,c){const f=n.split(`
`);let h=!1,m=!1,g=-1,p=-1;for(let S=0;S<f.length;S++){const E=f[S],w=E.match(/^\s*-?\s*name:\s*(\w+)/);if(w&&(h=w[1]===r,m=!1),h){const v=E.match(/^(\s*)variables:\s*/);if(v){m=!0,g=v[1].length;continue}if(m){const j=E.search(/\S/);if(E.trim()!==""&&!E.trim().startsWith("#")&&j!==-1&&j<=g){m=!1;continue}if(E.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){p=S;break}}}}if(p===-1)return{source:n,success:!1};const y=f[p].match(/^(\s+)/)?.[1]||"    ",b=Af(c);return f[p]=`${y}${o}: ${b}`,{source:f.join(`
`),success:!0}}function T1(n,r,i){const o=n.split(`
`);let c=!1,f=!1,h=-1,m=-1;for(let p=0;p<o.length;p++){const y=o[p],b=y.match(/^\s*-?\s*name:\s*(\w+)/);if(b&&(c=b[1]===r,f=!1),c){const S=y.match(/^(\s*)variables:\s*/);if(S){f=!0,h=S[1].length;continue}if(f){const E=y.search(/\S/);if(y.trim()!==""&&!y.trim().startsWith("#")&&E!==-1&&E<=h){f=!1;continue}if(y.match(new RegExp(`^(\\s+)${i}:\\s*(.*)$`))){m=p;break}}}}return m===-1?{source:n,success:!1}:{source:[...o.slice(0,m),...o.slice(m+1)].join(`
`),success:!0}}function Dx(n,r,i,o="main"){const c=n.split(`
`);let f=!1,h=-1,m=-1,g=-1,p=-1;for(let A=0;A<c.length;A++){const O=c[A],V=O.match(/^\s*-?\s*name:\s*(\w+)/);if(V&&(f=V[1]===o),f){const Y=O.match(/^(\s*)nodes:\s*$/);if(Y){h=A,m=Y[1].length;continue}if(h!==-1){const B=O.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(B){const U=B[1].length;if(U===m+2){p=U;let $=A+1;for(;$<c.length;){const q=c[$];if(q.trim()===""||q.trim().startsWith("#")){$++;continue}const K=q.search(/\S/);if(K!==-1&&K<=U)break;$++}g=$}}}}}if(h===-1)return{source:n,nodeId:null};const y=Mx(n,`call_${r}`),b=" ".repeat(p!==-1?p:m+2),S=b+"  ",E=S+"  ";let w=`${b}${y}:
`;w+=`${S}opcode: workflow_call
`,w+=`${S}next: null
`,w+=`${S}inputs:
`,w+=`${E}WORKFLOW: { literal: "${r}" }
`,i.forEach((A,O)=>{w+=`${E}ARG${O+1}: { literal: null }
`});const v=g!==-1?g:h+1;return{source:[...c.slice(0,v),w.trimEnd(),...c.slice(v)].join(`
`),nodeId:y}}function D1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let v=c.startLine+1;v<c.endLine;v++){const j=o[v],A=j.match(/^(\s+)inputs:\s*$/);if(A){f=v,h=A[1].length;continue}if(f!==-1){const O=j.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));O&&m.push(O[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const v of m){const j=parseInt(v.replace(i,""));j>g&&(g=j)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const v=o[y];if(v.trim()===""||v.trim().startsWith("#")){y++;continue}if((v.match(/^(\s*)/)?.[1].length||0)<=h&&v.trim())break;y++}const b=" ".repeat(h+2),S=" ".repeat(h+4);let E;if(i==="CATCH"){const v=" ".repeat(h+6);E=[`${b}${p}:`,`${S}exception_type: "Exception"`,`${S}body:`,`${v}branch: null`]}else E=[`${b}${p}:`,`${S}branch: null`];return{source:[...o.slice(0,y),...E,...o.slice(y)].join(`
`),success:!0}}function k1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function R1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;const m=[];for(let w=c.startLine+1;w<c.endLine;w++){const v=o[w],j=v.match(/^(\s+)inputs:\s*$/);if(j){f=w,h=j[1].length;continue}if(f!==-1){const A=v.match(new RegExp(`^\\s+(${i}\\d+):\\s*`));A&&m.push(A[1])}}if(f===-1)return{source:n,success:!1};let g=0;for(const w of m){const v=parseInt(w.replace(i,""));v>g&&(g=v)}const p=`${i}${g+1}`;let y=f+1;for(;y<o.length;){const w=o[y];if(w.trim()===""||w.trim().startsWith("#")){y++;continue}if((w.match(/^(\s*)/)?.[1].length||0)<=h&&w.trim())break;y++}const S=`${" ".repeat(h+2)}${p}: { literal: null }`;return{source:[...o.slice(0,y),S,...o.slice(y)].join(`
`),success:!0}}function z1(n,r,i){const o=n.split(`
`),c=ot(n,r);if(!c)return{source:n,success:!1};let f=-1,h=-1;for(let p=c.startLine+1;p<c.endLine;p++){const b=o[p].match(new RegExp(`^(\\s+)${i}:\\s*`));if(b){f=p,h=b[1].length;break}}if(f===-1)return{source:n,success:!1};let m=f+1;for(;m<o.length;){const p=o[m];if(p.trim()===""||p.trim().startsWith("#")){m++;continue}if((p.match(/^(\s*)/)?.[1].length||0)<=h&&p.trim())break;m++}return{source:[...o.slice(0,f),...o.slice(m)].join(`
`),success:!0}}function kx(n,r,i=[],o=[],c={}){if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))return{source:n,success:!1};const f=n.split(`
`);for(const O of f){const V=O.match(/^\s*-?\s*name:\s*(\w+)/);if(V&&V[1]===r)return{source:n,success:!1}}let h=-1,m=!1,g=-1;for(let O=0;O<f.length;O++){const V=f[O],Y=V.match(/^(\s*)workflows:\s*$/);if(Y){m=!0,g=Y[1].length;continue}if(m){const B=V.search(/\S/);if(V.trim()!==""&&B!==-1&&B<=g)break;h=O}}if(!m)return{source:n,success:!1};const p="  ",y="    ",b="      ",S=i.length>0?`[${i.map(O=>`"${O}"`).join(", ")}]`:"[]",E=o.length>0?`[${o.map(O=>`"${O}"`).join(", ")}]`:"[]";let w=`${p}- name: ${r}
`;w+=`${y}interface:
`,w+=`${b}inputs: ${S}
`,w+=`${b}outputs: ${E}
`;const v=Object.entries(c);if(v.length===0)w+=`${y}variables: {}
`;else{w+=`${y}variables:
`;for(const[O,V]of v)w+=`${b}${O}: ${Af(V)}
`}w+=`${y}nodes:
`,w+=`${b}start:
`,w+=`${b}  next: null`;const j=h+1;return{source:[...f.slice(0,j),w,...f.slice(j)].join(`
`),success:!0}}function L1(n,r){if(r==="main")return{source:n,success:!1};const i=n.split(`
`);let o=-1,c=-1;for(let m=0;m<i.length;m++){const p=i[m].match(/^(\s*)-\s*name:\s*(\w+)/);if(p&&p[2]===r){o=m,c=p[1].length;break}}if(o===-1)return{source:n,success:!1};let f=o+1;for(;f<i.length;){const m=i[f];if(m.trim()===""||m.trim().startsWith("#")){f++;continue}const g=m.search(/\S/),p=m.match(/^(\s*)-\s*name:\s*\w+/);if(p&&p[1].length===c||g!==-1&&g<=c&&!m.trim().startsWith("-"))break;f++}return{source:[...i.slice(0,o),...i.slice(f)].join(`
`),success:!0}}const V1=["control_if","control_for","control_for_each","control_while","control_repeat_until","control_try","control_fork"];function B1(n,r){const i=n.split(`
`);let o=null,c=!1,f=-1;for(const h of i){const m=h.match(/^(\s*)-?\s*name:\s*(\w+)/);if(m&&(o=m[2],f=m[1].length,c=!1),h.match(/^(\s*)nodes:\s*$/)&&o&&(c=!0),c){const p=h.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);if(p&&p[2]===r)return o;const y=h.search(/\S/);h.trim()&&y!==-1&&y<=f&&(c=!1)}}return null}function Rx(n,r){const i=ot(n,r);if(!i)return null;const o=n.split(`
`);for(let c=i.startLine+1;c<i.endLine;c++){const f=o[c].match(/^\s+opcode:\s*(\S+)/);if(f)return f[1]}return null}function sg(n,r,i){const o=ot(n,r,i);if(!o)return null;const c=n.split(`
`);for(let f=o.startLine+1;f<o.endLine;f++){const h=c[f].match(/^\s+next:\s*(\S+)/);if(h){const m=h[1];return m==="null"?null:m}}return null}function H1(n,r,i){const o=_f(n,i);if(!o)return null;const c=n.split(`
`);let f=null;for(let h=o.startLine;h<o.endLine;h++){const m=c[h],g=m.match(/^(\s+)([a-zA-Z_][a-zA-Z0-9_]*):\s*$/);g&&(f=g[2]);const p=m.match(/^\s+next:\s*(\S+)/);if(p&&p[1]===r&&f)return f}return null}function U1(n,r){const i=[],o=new Set;function c(f){if(o.has(f))return;o.add(f);const h=ot(n,f);if(!h)return;const g=n.split(`
`).slice(h.startLine,h.endLine).join(`
`),p=g.matchAll(/\{\s*node:\s*["']([^"']+)["']\s*\}/g);for(const b of p){const S=b[1];!i.includes(S)&&!r.includes(S)&&(i.push(S),c(S))}const y=g.matchAll(/\{\s*node:\s*([a-zA-Z_][a-zA-Z0-9_]*)\s*\}/g);for(const b of y){const S=b[1];!i.includes(S)&&!r.includes(S)&&(i.push(S),c(S))}}for(const f of r)c(f);return i}function zx(n,r,i){const o=[];if(r.length<2)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Select at least 2 nodes to extract"]};for(const v of r)B1(n,v)!==i&&o.push(`Node "${v}" is not in workflow "${i}"`);if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};for(const v of r){const j=Rx(n,v);j&&V1.includes(j)&&o.push(`Cannot extract "${v}": branching nodes (${j}) are not supported`)}if(o.length>0)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:o};const c=new Set(r),f={};for(const v of r)f[v]=sg(n,v,i);const h=new Set(Object.values(f).filter(v=>v&&c.has(v))),m=r.filter(v=>!h.has(v));if(m.length!==1)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes do not form a single connected chain"]};const g=[];let p=m[0];const y=new Set;for(;p&&c.has(p)&&!y.has(p);)y.add(p),g.push(p),p=f[p]||null;if(g.length!==r.length)return{isValid:!1,orderedNodeIds:[],firstNodeId:null,lastNodeId:null,predecessorNodeId:null,successorNodeId:null,errors:["Selected nodes are not contiguous (some nodes are disconnected)"]};const b=g[0],S=g[g.length-1],E=H1(n,b,i),w=sg(n,S,i);return{isValid:!0,orderedNodeIds:g,firstNodeId:b,lastNodeId:S,predecessorNodeId:E,successorNodeId:w,errors:[]}}function I1(n,r){const i=new Set,o=new Set;for(const h of r){const m=ot(n,h);if(!m)continue;const p=n.split(`
`).slice(m.startLine,m.endLine).join(`
`),y=p.matchAll(/\{\s*variable:\s*["']([^"']+)["']\s*\}/g);for(const S of y)i.add(S[1]);if(Rx(n,h)==="data_set_variable_to"){const S=p.match(/VARIABLE:\s*\{\s*literal:\s*["']([^"']+)["']\s*\}/);S&&o.add(S[1])}}const c=[...i].filter(h=>!o.has(h)),f=[...o];return{suggestedInputs:c,suggestedOutputs:f}}function Y1(n,r,i,o,c,f,h){const m=zx(n,r,i);if(!m.isValid)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:m.errors};const{orderedNodeIds:g,firstNodeId:p,lastNodeId:y,predecessorNodeId:b,successorNodeId:S}=m,E=U1(n,g);let w=n;const v=kx(w,o,c,f,h);if(!v.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to create workflow "${o}"`]};w=v.source;const j=[],A=[];for(const se of[...g].reverse()){const Z=ot(w,se,i);if(!Z)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find node "${se}"`]};const k=w.split(`
`).slice(Z.startLine,Z.endLine).join(`
`);j.unshift({id:se,yaml:k,indent:Z.indent});const D=ff(w,se);if(!D.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to delete node "${se}"`]};w=D.source}for(const se of[...E].reverse()){let Z=ot(w,se,i);if(Z||(Z=ot(w,se)),!Z)continue;const k=w.split(`
`).slice(Z.startLine,Z.endLine).join(`
`);A.unshift({id:se,yaml:k,indent:Z.indent});const D=ff(w,se);D.success&&(w=D.source)}const O=[...j,...A];if(!_f(w,o))return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Could not find nodes section in new workflow "${o}"`]};const Y=ot(w,"start",o);if(!Y)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Could not find start node in new workflow"]};const B=Y.indent,U=[];for(let se=0;se<O.length;se++){const Z=O[se],ae=Z.yaml.split(`
`),k=B-Z.indent,D=ae.map(R=>R.trim()===""?R:k>0?" ".repeat(k)+R:k<0?R.slice(-k):R);U.push(...D)}const $=w.split(`
`),q=Y.endLine;$.splice(q,0,...U),w=$.join(`
`);const K=di(w,"start",p,o);if(!K.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to connect start to "${p}"`]};w=K.source;const le=Of(w,y,o);if(!le.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:[`Failed to disconnect last node "${y}"`]};w=le.source;const ue=Dx(w,o,c,i);if(!ue.nodeId)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to create workflow_call node"]};w=ue.source;const ie=ue.nodeId;if(b){const se=di(w,b==="start"?"start":b,ie,i);if(!se.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect predecessor to workflow_call"]};w=se.source}if(S){const se=di(w,ie,S,i);if(!se.success)return{source:n,success:!1,newWorkflowCallNodeId:null,errors:["Failed to connect workflow_call to successor"]};w=se.source}return{source:w,success:!0,newWorkflowCallNodeId:ie,errors:[]}}const $1=50,cg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`,lt=bs()(v1((n,r)=>({source:cg,setSource:(i,o=!0)=>{const c=r();if(o&&i!==c.source){const f=c.history.slice(0,c.historyIndex+1);f.push(i),f.length>$1&&f.shift(),n({source:i,history:f,historyIndex:f.length-1,canUndo:f.length>1,canRedo:!1})}else n({source:i})},history:[cg],historyIndex:0,canUndo:!1,canRedo:!1,undo:()=>{const i=r();if(i.historyIndex>0){const o=i.historyIndex-1;n({source:i.history[o],historyIndex:o,canUndo:o>0,canRedo:!0})}},redo:()=>{const i=r();if(i.historyIndex<i.history.length-1){const o=i.historyIndex+1;n({source:i.history[o],historyIndex:o,canUndo:!0,canRedo:o<i.history.length-1})}},tree:null,parseError:null,isParsing:!1,setTree:i=>n({tree:i,parseError:null}),setParseError:i=>n({parseError:i,tree:null}),setIsParsing:i=>n({isParsing:i}),deleteNode:i=>{const o=r(),c=ff(o.source,i);return c.success&&o.setSource(c.source),c.success},addNode:(i,o="main")=>{const c=r(),f=Tx(c.source,i,o);return f.nodeId&&c.setSource(f.source),f.nodeId},addNodeConnected:(i,o,c="main")=>{const f=r();console.log("[workflowStore] addNodeConnected called",{opcode:i.name,sourceNodeId:o,workflowName:c,sourceLength:f.source.length});const h=w1(f.source,i,o,c);return console.log("[workflowStore] addNodeAndConnect result",h),h.success&&h.nodeId?(f.setSource(h.source),h.nodeId):null},addWorkflowCallNode:(i,o,c="main")=>{const f=r(),h=Dx(f.source,i,o,c);return h.nodeId&&f.setSource(h.source),h.nodeId},duplicateNode:i=>{const o=r(),c=S1(o.source,i);return c.nodeId&&o.setSource(c.source),c.nodeId},updateNodeInput:(i,o,c)=>{const f=r(),h=N1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectNodes:(i,o,c)=>{const f=r(),h=di(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},connectBranch:(i,o,c)=>{const f=r(),h=E1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},disconnectNode:(i,o)=>{const c=r(),f=Of(c.source,i,o);return f.success&&c.setSource(f.source),f.success},convertOrphanToReporter:(i,o,c)=>{const f=r(),h=C1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateReporterInput:(i,o,c)=>(console.log("[updateReporterInput] reporterNodeId:",i,"key:",o,"value:",c),i?r().updateNodeInput(i,o,c):(console.warn("[updateReporterInput] No reporter node ID provided"),!1)),deleteReporter:(i,o)=>{const c=r(),f=A1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},updateWorkflowInterface:(i,o,c)=>{const f=r(),h=_1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},addVariable:(i,o,c)=>{const f=r(),h=O1(f.source,i,o,c);return h.success&&f.setSource(h.source),h.success},updateVariable:(i,o,c,f)=>{const h=r(),m=M1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},disconnectConnection:(i,o,c,f)=>{const h=r(),m=j1(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteVariable:(i,o)=>{const c=r(),f=T1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicBranch:(i,o)=>{const c=r(),f=D1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicBranch:(i,o)=>{const c=r(),f=k1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addDynamicInput:(i,o)=>{const c=r(),f=R1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},removeDynamicInput:(i,o)=>{const c=r(),f=z1(c.source,i,o);return f.success&&c.setSource(f.source),f.success},addWorkflow:(i,o=[],c=[],f={})=>{const h=r(),m=kx(h.source,i,o,c,f);return m.success&&h.setSource(m.source),m.success},deleteWorkflow:i=>{const o=r(),c=L1(o.source,i);return c.success&&o.setSource(c.source),c.success},extractToWorkflow:(i,o,c,f,h,m)=>{const g=r(),p=Y1(g.source,i,o,c,f,h,m);return p.success&&g.setSource(p.source),{success:p.success,errors:p.errors}},examples:[],setExamples:i=>n({examples:i}),opcodes:[],setOpcodes:i=>n({opcodes:i}),isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,setIsExecuting:i=>n({isExecuting:i}),setExecutionOutput:i=>n({executionOutput:i}),appendExecutionOutput:i=>n(o=>({executionOutput:o.executionOutput+i})),setExecutionResult:i=>n({executionResult:i}),setExecutionError:i=>n({executionError:i}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null}),workflowInputs:{},setWorkflowInput:(i,o)=>n(c=>({workflowInputs:{...c.workflowInputs,[i]:o}})),clearWorkflowInputs:()=>n({workflowInputs:{}})}),{name:"lexflow-workflow",partialize:n=>({source:n.source})})),Ae=bs(n=>({zoom:1,panX:0,panY:0,isDraggingWorkflow:!1,setZoom:r=>n({zoom:Math.max(.25,Math.min(2,r))}),setPan:(r,i)=>n({panX:r,panY:i}),resetView:()=>n({zoom:1,panX:0,panY:0}),setIsDraggingWorkflow:r=>n({isDraggingWorkflow:r}),isEditorOpen:!1,isNodeEditorOpen:!1,isPaletteOpen:!1,isExecutionPanelOpen:!0,toggleEditor:()=>n(r=>({isEditorOpen:!r.isEditorOpen})),toggleNodeEditor:()=>n(r=>({isNodeEditorOpen:!r.isNodeEditorOpen})),togglePalette:()=>n(r=>({isPaletteOpen:!r.isPaletteOpen})),toggleExecutionPanel:()=>n(r=>({isExecutionPanelOpen:!r.isExecutionPanelOpen})),openNodeEditor:()=>n({isNodeEditorOpen:!0}),closeNodeEditor:()=>n({isNodeEditorOpen:!1}),nodeStatus:{},setNodeStatus:(r,i)=>n(o=>({nodeStatus:{...o.nodeStatus,[r]:i}})),clearNodeStatuses:()=>n({nodeStatus:{}}),searchQuery:"",searchResults:[],setSearchQuery:r=>n({searchQuery:r}),setSearchResults:r=>n({searchResults:r}),workflowPositions:{},setWorkflowPosition:(r,i,o)=>n(c=>({workflowPositions:{...c.workflowPositions,[r]:{x:i,y:o}}})),resetWorkflowPositions:()=>n({workflowPositions:{}}),draggingOpcode:null,setDraggingOpcode:r=>n({draggingOpcode:r}),draggingWire:null,setDraggingWire:r=>n({draggingWire:r}),updateDraggingWire:r=>n(i=>({draggingWire:i.draggingWire?{...i.draggingWire,...r}:null})),draggingOrphan:null,setDraggingOrphan:r=>n({draggingOrphan:r}),updateDraggingOrphanEnd:(r,i)=>n(o=>({draggingOrphan:o.draggingOrphan?{...o.draggingOrphan,toX:r,toY:i}:null})),nodePositions:{},setNodePosition:(r,i,o)=>n(c=>({nodePositions:{...c.nodePositions,[r]:{x:i,y:o}}})),resetNodePositions:()=>n({nodePositions:{}}),clearNodePosition:r=>n(i=>{const{[r]:o,...c}=i.nodePositions;return{nodePositions:c}}),layoutMode:"free",setLayoutMode:r=>n({layoutMode:r}),isDraggingNode:!1,setIsDraggingNode:r=>n({isDraggingNode:r}),draggingVariable:null,setDraggingVariable:r=>n({draggingVariable:r}),updateDraggingVariableEnd:(r,i)=>n(o=>({draggingVariable:o.draggingVariable?{...o.draggingVariable,toX:r,toY:i}:null})),draggingWorkflowCall:null,setDraggingWorkflowCall:r=>n({draggingWorkflowCall:r}),slotPositions:{},registerSlotPositions:(r,i)=>n(o=>({slotPositions:{...o.slotPositions,[r]:i}})),unregisterSlotPositions:r=>n(i=>{const{[r]:o,...c}=i.slotPositions;return{slotPositions:c}}),layoutGroups:[],setLayoutGroups:r=>n({layoutGroups:r}),canvasCenter:{x:400,y:300},setCanvasCenter:(r,i)=>n({canvasCenter:{x:r,y:i}}),contextMenu:null,showContextMenu:r=>n({contextMenu:r}),hideContextMenu:()=>n({contextMenu:null}),expandedReporters:{},toggleReportersExpanded:r=>n(i=>({expandedReporters:{...i.expandedReporters,[r]:!i.expandedReporters[r]}})),setReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,[r]:i}})),setMultipleReportersExpanded:(r,i)=>n(o=>({expandedReporters:{...o.expandedReporters,...Object.fromEntries(r.map(c=>[c,i]))}})),confirmDialog:null,showConfirmDialog:r=>n({confirmDialog:{isOpen:!0,title:r.title,message:r.message,confirmLabel:r.confirmLabel,cancelLabel:r.cancelLabel,variant:r.variant,onConfirm:()=>{r.onConfirm(),n({confirmDialog:null})},onCancel:()=>{r.onCancel?.(),n({confirmDialog:null})}}}),hideConfirmDialog:()=>n({confirmDialog:null}),canvasContextMenu:null,showCanvasContextMenu:(r,i,o)=>n({canvasContextMenu:{x:r,y:i,workflowName:o}}),hideCanvasContextMenu:()=>n({canvasContextMenu:null}),createWorkflowModal:null,showCreateWorkflowModal:()=>n({createWorkflowModal:{isOpen:!0}}),hideCreateWorkflowModal:()=>n({createWorkflowModal:null}),extractWorkflowModal:null,showExtractWorkflowModal:(r,i,o=[],c=[])=>n({extractWorkflowModal:{isOpen:!0,nodeIds:r,workflowName:i,suggestedInputs:o,suggestedOutputs:c}}),hideExtractWorkflowModal:()=>n({extractWorkflowModal:null}),addNodeMenu:null,showAddNodeMenu:(r,i,o,c)=>n({addNodeMenu:{x:r,y:i,sourceNodeId:o,workflowName:c}}),hideAddNodeMenu:()=>n({addNodeMenu:null})})),pi=bs(n=>({isExecuting:!1,executionOutput:"",executionResult:null,executionError:null,workflowInputs:{},pendingPrompt:null,renderedContent:[],alerts:[],progress:null,setIsExecuting:r=>n({isExecuting:r}),setExecutionOutput:r=>n({executionOutput:r}),appendExecutionOutput:r=>n(i=>({executionOutput:i.executionOutput+r})),setExecutionResult:r=>n({executionResult:r}),setExecutionError:r=>n({executionError:r}),clearExecution:()=>n({executionOutput:"",executionResult:null,executionError:null,pendingPrompt:null,renderedContent:[],alerts:[],progress:null}),setWorkflowInput:(r,i)=>n(o=>({workflowInputs:{...o.workflowInputs,[r]:i}})),clearWorkflowInputs:()=>n({workflowInputs:{}}),setPendingPrompt:r=>n({pendingPrompt:r}),addRenderedContent:r=>n(i=>({renderedContent:[...i.renderedContent,r]})),clearRenderedContent:()=>n({renderedContent:[]}),addAlert:r=>n(i=>({alerts:[...i.alerts,{...r,id:crypto.randomUUID()}]})),removeAlert:r=>n(i=>({alerts:i.alerts.filter(o=>o.id!==r)})),setProgress:r=>n({progress:r})})),nl=bs(n=>({selectedNodeId:null,selectNode:r=>n({selectedNodeId:r,selectedNodeIds:[]}),selectedNodeIds:[],toggleNodeSelection:r=>n(i=>{const o=i.selectedNodeIds.includes(r)?i.selectedNodeIds.filter(c=>c!==r):[...i.selectedNodeIds,r];return{selectedNodeIds:o,selectedNodeId:o.length>0?o[o.length-1]:null}}),addToSelection:r=>n(i=>({selectedNodeIds:i.selectedNodeIds.includes(r)?i.selectedNodeIds:[...i.selectedNodeIds,r]})),clearMultiSelection:()=>n({selectedNodeIds:[]}),selectedReporter:null,selectReporter:r=>n({selectedReporter:r}),selectedConnection:null,selectConnection:r=>n({selectedConnection:r}),selectedStartNode:null,selectStartNode:r=>n({selectedStartNode:r}),clearSelection:()=>n({selectedNodeId:null,selectedNodeIds:[],selectedReporter:null,selectedConnection:null,selectedStartNode:null})}));function Lx(n){var r,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var c=n.length;for(r=0;r<c;r++)n[r]&&(i=Lx(n[r]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function Vx(){for(var n,r,i=0,o="",c=arguments.length;i<c;i++)(n=arguments[i])&&(r=Lx(n))&&(o&&(o+=" "),o+=r);return o}const q1=(n,r)=>{const i=new Array(n.length+r.length);for(let o=0;o<n.length;o++)i[o]=n[o];for(let o=0;o<r.length;o++)i[n.length+o]=r[o];return i},X1=(n,r)=>({classGroupId:n,validator:r}),Bx=(n=new Map,r=null,i)=>({nextPart:n,validators:r,classGroupId:i}),as="-",ug=[],G1="arbitrary..",W1=n=>{const r=Q1(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:h=>{if(h.startsWith("[")&&h.endsWith("]"))return Z1(h);const m=h.split(as),g=m[0]===""&&m.length>1?1:0;return Hx(m,g,r)},getConflictingClassGroupIds:(h,m)=>{if(m){const g=o[h],p=i[h];return g?p?q1(p,g):g:p||ug}return i[h]||ug}}},Hx=(n,r,i)=>{if(n.length-r===0)return i.classGroupId;const c=n[r],f=i.nextPart.get(c);if(f){const p=Hx(n,r+1,f);if(p)return p}const h=i.validators;if(h===null)return;const m=r===0?n.join(as):n.slice(r).join(as),g=h.length;for(let p=0;p<g;p++){const y=h[p];if(y.validator(m))return y.classGroupId}},Z1=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=n.slice(1,-1),i=r.indexOf(":"),o=r.slice(0,i);return o?G1+o:void 0})(),Q1=n=>{const{theme:r,classGroups:i}=n;return K1(i,r)},K1=(n,r)=>{const i=Bx();for(const o in n){const c=n[o];Mf(c,i,o,r)}return i},Mf=(n,r,i,o)=>{const c=n.length;for(let f=0;f<c;f++){const h=n[f];F1(h,r,i,o)}},F1=(n,r,i,o)=>{if(typeof n=="string"){J1(n,r,i);return}if(typeof n=="function"){P1(n,r,i,o);return}ew(n,r,i,o)},J1=(n,r,i)=>{const o=n===""?r:Ux(r,n);o.classGroupId=i},P1=(n,r,i,o)=>{if(tw(n)){Mf(n(o),r,i,o);return}r.validators===null&&(r.validators=[]),r.validators.push(X1(i,n))},ew=(n,r,i,o)=>{const c=Object.entries(n),f=c.length;for(let h=0;h<f;h++){const[m,g]=c[h];Mf(g,Ux(r,m),i,o)}},Ux=(n,r)=>{let i=n;const o=r.split(as),c=o.length;for(let f=0;f<c;f++){const h=o[f];let m=i.nextPart.get(h);m||(m=Bx(),i.nextPart.set(h,m)),i=m}return i},tw=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,nw=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,i=Object.create(null),o=Object.create(null);const c=(f,h)=>{i[f]=h,r++,r>n&&(r=0,o=i,i=Object.create(null))};return{get(f){let h=i[f];if(h!==void 0)return h;if((h=o[f])!==void 0)return c(f,h),h},set(f,h){f in i?i[f]=h:c(f,h)}}},df="!",fg=":",lw=[],dg=(n,r,i,o,c)=>({modifiers:n,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:o,isExternal:c}),aw=n=>{const{prefix:r,experimentalParseClassName:i}=n;let o=c=>{const f=[];let h=0,m=0,g=0,p;const y=c.length;for(let v=0;v<y;v++){const j=c[v];if(h===0&&m===0){if(j===fg){f.push(c.slice(g,v)),g=v+1;continue}if(j==="/"){p=v;continue}}j==="["?h++:j==="]"?h--:j==="("?m++:j===")"&&m--}const b=f.length===0?c:c.slice(g);let S=b,E=!1;b.endsWith(df)?(S=b.slice(0,-1),E=!0):b.startsWith(df)&&(S=b.slice(1),E=!0);const w=p&&p>g?p-g:void 0;return dg(f,E,S,w)};if(r){const c=r+fg,f=o;o=h=>h.startsWith(c)?f(h.slice(c.length)):dg(lw,!1,h,void 0,!0)}if(i){const c=o;o=f=>i({className:f,parseClassName:c})}return o},rw=n=>{const r=new Map;return n.orderSensitiveModifiers.forEach((i,o)=>{r.set(i,1e6+o)}),i=>{const o=[];let c=[];for(let f=0;f<i.length;f++){const h=i[f],m=h[0]==="[",g=r.has(h);m||g?(c.length>0&&(c.sort(),o.push(...c),c=[]),o.push(h)):c.push(h)}return c.length>0&&(c.sort(),o.push(...c)),o}},iw=n=>({cache:nw(n.cacheSize),parseClassName:aw(n),sortModifiers:rw(n),...W1(n)}),ow=/\s+/,sw=(n,r)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:f}=r,h=[],m=n.trim().split(ow);let g="";for(let p=m.length-1;p>=0;p-=1){const y=m[p],{isExternal:b,modifiers:S,hasImportantModifier:E,baseClassName:w,maybePostfixModifierPosition:v}=i(y);if(b){g=y+(g.length>0?" "+g:g);continue}let j=!!v,A=o(j?w.substring(0,v):w);if(!A){if(!j){g=y+(g.length>0?" "+g:g);continue}if(A=o(w),!A){g=y+(g.length>0?" "+g:g);continue}j=!1}const O=S.length===0?"":S.length===1?S[0]:f(S).join(":"),V=E?O+df:O,Y=V+A;if(h.indexOf(Y)>-1)continue;h.push(Y);const B=c(A,j);for(let U=0;U<B.length;++U){const $=B[U];h.push(V+$)}g=y+(g.length>0?" "+g:g)}return g},cw=(...n)=>{let r=0,i,o,c="";for(;r<n.length;)(i=n[r++])&&(o=Ix(i))&&(c&&(c+=" "),c+=o);return c},Ix=n=>{if(typeof n=="string")return n;let r,i="";for(let o=0;o<n.length;o++)n[o]&&(r=Ix(n[o]))&&(i&&(i+=" "),i+=r);return i},uw=(n,...r)=>{let i,o,c,f;const h=g=>{const p=r.reduce((y,b)=>b(y),n());return i=iw(p),o=i.cache.get,c=i.cache.set,f=m,m(g)},m=g=>{const p=o(g);if(p)return p;const y=sw(g,i);return c(g,y),y};return f=h,(...g)=>f(cw(...g))},fw=[],gt=n=>{const r=i=>i[n]||fw;return r.isThemeGetter=!0,r},Yx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$x=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dw=/^\d+\/\d+$/,hw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ka=n=>dw.test(n),Oe=n=>!!n&&!Number.isNaN(Number(n)),Ol=n=>!!n&&Number.isInteger(Number(n)),Iu=n=>n.endsWith("%")&&Oe(n.slice(0,-1)),Pn=n=>hw.test(n),yw=()=>!0,bw=n=>mw.test(n)&&!pw.test(n),qx=()=>!1,vw=n=>gw.test(n),ww=n=>xw.test(n),Sw=n=>!he(n)&&!me(n),Nw=n=>cr(n,Wx,qx),he=n=>Yx.test(n),na=n=>cr(n,Zx,bw),Yu=n=>cr(n,_w,Oe),hg=n=>cr(n,Xx,qx),Ew=n=>cr(n,Gx,ww),Yo=n=>cr(n,Qx,vw),me=n=>$x.test(n),ii=n=>ur(n,Zx),jw=n=>ur(n,Ow),mg=n=>ur(n,Xx),Cw=n=>ur(n,Wx),Aw=n=>ur(n,Gx),$o=n=>ur(n,Qx,!0),cr=(n,r,i)=>{const o=Yx.exec(n);return o?o[1]?r(o[1]):i(o[2]):!1},ur=(n,r,i=!1)=>{const o=$x.exec(n);return o?o[1]?r(o[1]):i:!1},Xx=n=>n==="position"||n==="percentage",Gx=n=>n==="image"||n==="url",Wx=n=>n==="length"||n==="size"||n==="bg-size",Zx=n=>n==="length",_w=n=>n==="number",Ow=n=>n==="family-name",Qx=n=>n==="shadow",Mw=()=>{const n=gt("color"),r=gt("font"),i=gt("text"),o=gt("font-weight"),c=gt("tracking"),f=gt("leading"),h=gt("breakpoint"),m=gt("container"),g=gt("spacing"),p=gt("radius"),y=gt("shadow"),b=gt("inset-shadow"),S=gt("text-shadow"),E=gt("drop-shadow"),w=gt("blur"),v=gt("perspective"),j=gt("aspect"),A=gt("ease"),O=gt("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...Y(),me,he],U=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],q=()=>[me,he,g],K=()=>[Ka,"full","auto",...q()],le=()=>[Ol,"none","subgrid",me,he],ue=()=>["auto",{span:["full",Ol,me,he]},Ol,me,he],ie=()=>[Ol,"auto",me,he],se=()=>["auto","min","max","fr",me,he],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...q()],D=()=>[Ka,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...q()],R=()=>[n,me,he],ne=()=>[...Y(),mg,hg,{position:[me,he]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",Cw,Nw,{size:[me,he]}],H=()=>[Iu,ii,na],P=()=>["","none","full",p,me,he],re=()=>["",Oe,ii,na],xe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Oe,Iu,mg,hg],We=()=>["","none",w,me,he],oe=()=>["none",Oe,me,he],Ne=()=>["none",Oe,me,he],Le=()=>[Oe,me,he],Me=()=>[Ka,"full",...q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pn],breakpoint:[Pn],color:[yw],container:[Pn],"drop-shadow":[Pn],ease:["in","out","in-out"],font:[Sw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pn],shadow:[Pn],spacing:["px",Oe],text:[Pn],"text-shadow":[Pn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ka,he,me,j]}],container:["container"],columns:[{columns:[Oe,he,me,m]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[Ol,"auto",me,he]}],basis:[{basis:[Ka,"full","auto",m,...q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,Ka,"auto","initial","none",he]}],grow:[{grow:["",Oe,me,he]}],shrink:[{shrink:["",Oe,me,he]}],order:[{order:[Ol,"first","last","none",me,he]}],"grid-cols":[{"grid-cols":le()}],"col-start-end":[{col:ue()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":le()}],"row-start-end":[{row:ue()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:q()}],"gap-x":[{"gap-x":q()}],"gap-y":[{"gap-y":q()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:q()}],px:[{px:q()}],py:[{py:q()}],ps:[{ps:q()}],pe:[{pe:q()}],pt:[{pt:q()}],pr:[{pr:q()}],pb:[{pb:q()}],pl:[{pl:q()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":q()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[m,"screen",...D()]}],"min-w":[{"min-w":[m,"screen","none",...D()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[h]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",i,ii,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,me,Yu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Iu,he]}],"font-family":[{font:[jw,he,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,me,he]}],"line-clamp":[{"line-clamp":[Oe,"none",me,Yu]}],leading:[{leading:[f,...q()]}],"list-image":[{"list-image":["none",me,he]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,he]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",me,na]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Oe,"auto",me,he]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ol,me,he],radial:["",me,he],conic:[Ol,me,he]},Aw,Ew]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,me,he]}],"outline-w":[{outline:["",Oe,ii,na]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",y,$o,Yo]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",b,$o,Yo]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Oe,na]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",S,$o,Yo]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Oe,me,he]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[me,he]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,he]}],filter:[{filter:["","none",me,he]}],blur:[{blur:We()}],brightness:[{brightness:[Oe,me,he]}],contrast:[{contrast:[Oe,me,he]}],"drop-shadow":[{"drop-shadow":["","none",E,$o,Yo]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Oe,me,he]}],"hue-rotate":[{"hue-rotate":[Oe,me,he]}],invert:[{invert:["",Oe,me,he]}],saturate:[{saturate:[Oe,me,he]}],sepia:[{sepia:["",Oe,me,he]}],"backdrop-filter":[{"backdrop-filter":["","none",me,he]}],"backdrop-blur":[{"backdrop-blur":We()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,me,he]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,me,he]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,me,he]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,me,he]}],"backdrop-invert":[{"backdrop-invert":["",Oe,me,he]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,me,he]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,me,he]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,me,he]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":q()}],"border-spacing-x":[{"border-spacing-x":q()}],"border-spacing-y":[{"border-spacing-y":q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,he]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",me,he]}],ease:[{ease:["linear","initial",A,me,he]}],delay:[{delay:[Oe,me,he]}],animate:[{animate:["none",O,me,he]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,me,he]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:Ne()}],"scale-x":[{"scale-x":Ne()}],"scale-y":[{"scale-y":Ne()}],"scale-z":[{"scale-z":Ne()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[me,he,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,he]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,he]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Oe,ii,na,Yu]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Tw=uw(Mw);function T(...n){return Tw(Vx(n))}const pg=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,gg=Vx,_=(n,r)=>i=>{var o;if(r?.variants==null)return gg(n,i?.class,i?.className);const{variants:c,defaultVariants:f}=r,h=Object.keys(c).map(p=>{const y=i?.[p],b=f?.[p];if(y===null)return null;const S=pg(y)||pg(b);return c[p][S]}),m=i&&Object.entries(i).reduce((p,y)=>{let[b,S]=y;return S===void 0||(p[b]=S),p},{}),g=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((p,y)=>{let{class:b,className:S,...E}=y;return Object.entries(E).every(w=>{let[v,j]=w;return Array.isArray(j)?j.includes({...f,...m}[v]):{...f,...m}[v]===j})?[...p,b,S]:p},[]);return gg(n,h,g,i?.class,i?.className)},Dw=_("inline-flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent-blue disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-text-secondary hover:text-text-primary hover:bg-surface-2",ghost:"text-text-muted hover:text-text-secondary hover:bg-surface-1"},size:{sm:"h-6 w-6 rounded-sm",md:"h-8 w-8 rounded-sm",lg:"h-10 w-10 rounded-sm"}},defaultVariants:{variant:"default",size:"md"}}),Mn=L.forwardRef(({className:n,variant:r,size:i,icon:o,label:c,...f},h)=>d.jsx("button",{ref:h,className:T(Dw({variant:r,size:i,className:n})),"aria-label":c,title:c,...f,children:o}));Mn.displayName="IconButton";const kw=_("w-full bg-surface-2 text-text-secondary border border-border-subtle transition-colors focus:outline-none focus:ring-1 focus:ring-accent-blue focus:border-accent-blue hover:bg-surface-3 hover:text-text-primary disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{size:{sm:"h-7 px-2.5 pr-7 text-xs rounded-sm leading-7",md:"h-8 px-3 pr-8 text-sm rounded-sm leading-8",lg:"h-10 px-4 pr-10 text-sm rounded-sm leading-10"}},defaultVariants:{size:"md"}}),Kx=L.forwardRef(({className:n,size:r,children:i,...o},c)=>d.jsxs("div",{className:"relative",children:[d.jsx("select",{ref:c,className:T(kw({size:r,className:n})),...o,children:i}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:d.jsx("svg",{className:"h-4 w-4 text-text-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}));Kx.displayName="Select";var Tf=Ox();const Df=_("fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-150"),Rw=_("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[380px] mx-4 animate-in zoom-in-95 duration-150"),zw=_("px-5 py-4 border-b border-border-subtle"),Lw=_("text-base font-semibold text-text-primary"),Vw=_("px-5 py-4"),Bw=_("text-sm text-text-secondary leading-relaxed"),Hw=_("px-5 py-3 border-t border-border-subtle flex justify-end gap-2"),rr=_("px-4 py-2 text-sm font-medium rounded-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface-1"),kf=_("bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default focus:ring-border-default"),Rf=_("",{variants:{variant:{default:"bg-accent-blue text-white hover:bg-accent-blue/90 focus:ring-accent-blue",danger:"bg-accent-red text-white hover:bg-accent-red/90 focus:ring-accent-red"}},defaultVariants:{variant:"default"}});function Uw({isOpen:n,title:r,message:i,confirmLabel:o="OK",cancelLabel:c="Cancel",variant:f="default",onConfirm:h,onCancel:m}){const g=L.useRef(null);return L.useEffect(()=>{if(n){const p=setTimeout(()=>{g.current?.focus()},50);return()=>clearTimeout(p)}},[n]),L.useEffect(()=>{if(!n)return;const p=y=>{y.key==="Escape"?m():y.key==="Enter"&&h()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n,m,h]),n?Tf.createPortal(d.jsx("div",{className:T(Df()),onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:d.jsxs("div",{className:T(Rw()),onClick:p=>p.stopPropagation(),children:[d.jsx("div",{className:T(zw()),children:d.jsx("h2",{id:"confirm-dialog-title",className:T(Lw()),children:r})}),d.jsx("div",{className:T(Vw()),children:d.jsx("p",{id:"confirm-dialog-message",className:T(Bw()),children:i})}),d.jsxs("div",{className:T(Hw()),children:[d.jsx("button",{className:T(rr(),kf()),onClick:m,children:c}),d.jsx("button",{ref:g,className:T(rr(),Rf({variant:f})),onClick:h,children:o})]})]})}),document.body):null}const Fx=_("bg-surface-1 border border-border-default rounded-md shadow-2xl w-full max-w-[480px] mx-4 animate-in zoom-in-95 duration-150 max-h-[90vh] flex flex-col"),Jx=_("px-5 py-4 border-b border-border-subtle flex-shrink-0"),Px=_("text-base font-semibold text-text-primary"),ey=_("px-5 py-4 overflow-y-auto flex-1"),ty=_("px-5 py-3 border-t border-border-subtle flex justify-end gap-2 flex-shrink-0"),Tl=_("mb-4 last:mb-0"),Dl=_("block text-sm font-medium text-text-primary mb-1.5"),lr=_("w-full px-3 py-2 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),ny=_("text-xs text-accent-red mt-1"),rs=_("flex flex-wrap gap-1.5 mb-2"),is=_("inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-surface-3 text-text-primary rounded-sm border border-border-subtle"),os=_("ml-0.5 text-text-muted hover:text-text-primary cursor-pointer"),ss=_("flex gap-2"),ar=_("px-3 py-2 text-sm bg-surface-3 text-text-primary hover:bg-surface-4 border border-border-default rounded-sm transition-colors"),ly=_("flex items-center gap-2 mb-2"),cs=_("flex-1 px-2 py-1.5 text-sm bg-surface-2 border border-border-default rounded-sm text-text-primary placeholder:text-text-muted focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent"),ay=_("p-1 text-text-muted hover:text-accent-red transition-colors");function Iw({isOpen:n,existingWorkflowNames:r,onConfirm:i,onCancel:o}){const c=L.useRef(null),[f,h]=L.useState(""),[m,g]=L.useState(null),[p,y]=L.useState([]),[b,S]=L.useState(""),[E,w]=L.useState([]),[v,j]=L.useState(""),[A,O]=L.useState([]);L.useEffect(()=>{n&&(h(""),g(null),y([]),S(""),w([]),j(""),O([]),setTimeout(()=>{c.current?.focus()},50))},[n]),L.useEffect(()=>{if(!n)return;const Z=ae=>{ae.key==="Escape"&&o()};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[n,o]);const V=Z=>Z.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Z)?r.includes(Z)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",Y=Z=>{h(Z),m&&g(V(Z))},B=()=>{g(V(f))},U=()=>{const Z=b.trim();Z&&!p.includes(Z)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Z)&&(y([...p,Z]),S(""))},$=Z=>{y(p.filter(ae=>ae!==Z))},q=()=>{const Z=v.trim();Z&&!E.includes(Z)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(Z)&&(w([...E,Z]),j(""))},K=Z=>{w(E.filter(ae=>ae!==Z))},le=()=>{O([...A,{name:"",value:""}])},ue=(Z,ae,k)=>{const D=[...A];D[Z][ae]=k,O(D)},ie=Z=>{O(A.filter((ae,k)=>k!==Z))},se=()=>{const Z=V(f);if(Z){g(Z);return}const ae={};for(const k of A)if(k.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(k.name.trim())){let D=k.value;try{D=JSON.parse(k.value)}catch{}ae[k.name.trim()]=D}i({name:f.trim(),inputs:p,outputs:E,variables:ae})};return n?Tf.createPortal(d.jsx("div",{className:T(Df()),onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"new-workflow-dialog-title",children:d.jsxs("div",{className:T(Fx()),onClick:Z=>Z.stopPropagation(),children:[d.jsx("div",{className:T(Jx()),children:d.jsx("h2",{id:"new-workflow-dialog-title",className:T(Px()),children:"Create New Workflow"})}),d.jsxs("div",{className:T(ey()),children:[d.jsxs("div",{className:T(Tl()),children:[d.jsxs("label",{className:T(Dl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:c,type:"text",className:T(lr()),placeholder:"my_workflow",value:f,onChange:Z=>Y(Z.target.value),onBlur:B,onKeyDown:Z=>{Z.key==="Enter"&&se()}}),m&&d.jsx("p",{className:T(ny()),children:m})]}),d.jsxs("div",{className:T(Tl()),children:[d.jsx("label",{className:T(Dl()),children:"Interface Inputs"}),p.length>0&&d.jsx("div",{className:T(rs()),children:p.map(Z=>d.jsxs("span",{className:T(is()),children:[Z,d.jsx("button",{className:T(os()),onClick:()=>$(Z),"aria-label":`Remove ${Z}`,children:"x"})]},Z))}),d.jsxs("div",{className:T(ss()),children:[d.jsx("input",{type:"text",className:T(lr()),placeholder:"input_name",value:b,onChange:Z=>S(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&(Z.preventDefault(),U())}}),d.jsx("button",{type:"button",className:T(ar()),onClick:U,children:"Add"})]})]}),d.jsxs("div",{className:T(Tl()),children:[d.jsx("label",{className:T(Dl()),children:"Interface Outputs"}),E.length>0&&d.jsx("div",{className:T(rs()),children:E.map(Z=>d.jsxs("span",{className:T(is()),children:[Z,d.jsx("button",{className:T(os()),onClick:()=>K(Z),"aria-label":`Remove ${Z}`,children:"x"})]},Z))}),d.jsxs("div",{className:T(ss()),children:[d.jsx("input",{type:"text",className:T(lr()),placeholder:"output_name",value:v,onChange:Z=>j(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&(Z.preventDefault(),q())}}),d.jsx("button",{type:"button",className:T(ar()),onClick:q,children:"Add"})]})]}),d.jsxs("div",{className:T(Tl()),children:[d.jsx("label",{className:T(Dl()),children:"Variables"}),A.map((Z,ae)=>d.jsxs("div",{className:T(ly()),children:[d.jsx("input",{type:"text",className:T(cs()),placeholder:"name",value:Z.name,onChange:k=>ue(ae,"name",k.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:T(cs()),placeholder:"value",value:Z.value,onChange:k=>ue(ae,"value",k.target.value)}),d.jsx("button",{type:"button",className:T(ay()),onClick:()=>ie(ae),"aria-label":"Remove variable",children:"x"})]},ae)),d.jsx("button",{type:"button",className:T(ar()),onClick:le,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:T(ty()),children:[d.jsx("button",{className:T(rr(),kf()),onClick:o,children:"Cancel"}),d.jsx("button",{className:T(rr(),Rf()),onClick:se,children:"Create"})]})]})}),document.body):null}const Yw=_("mb-4 p-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-secondary");function $w({isOpen:n,existingWorkflowNames:r,nodeIds:i,suggestedInputs:o,suggestedOutputs:c,onConfirm:f,onCancel:h}){const m=L.useRef(null),[g,p]=L.useState(""),[y,b]=L.useState(null),[S,E]=L.useState([]),[w,v]=L.useState(""),[j,A]=L.useState([]),[O,V]=L.useState(""),[Y,B]=L.useState([]);L.useEffect(()=>{n&&(p(""),b(null),E(o),v(""),A(c),V(""),B([]),setTimeout(()=>{m.current?.focus()},50))},[n,o,c]),L.useEffect(()=>{if(!n)return;const D=R=>{R.key==="Escape"&&h()};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[n,h]);const U=D=>D.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(D)?r.includes(D)?"A workflow with this name already exists":null:"Name must start with a letter or underscore and contain only letters, numbers, and underscores":"Workflow name is required",$=D=>{p(D),y&&b(U(D))},q=()=>{b(U(g))},K=()=>{const D=w.trim();D&&!S.includes(D)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(D)&&(E([...S,D]),v(""))},le=D=>{E(S.filter(R=>R!==D))},ue=()=>{const D=O.trim();D&&!j.includes(D)&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(D)&&(A([...j,D]),V(""))},ie=D=>{A(j.filter(R=>R!==D))},se=()=>{B([...Y,{name:"",value:""}])},Z=(D,R,ne)=>{const J=[...Y];J[D][R]=ne,B(J)},ae=D=>{B(Y.filter((R,ne)=>ne!==D))},k=()=>{const D=U(g);if(D){b(D);return}const R={};for(const ne of Y)if(ne.name.trim()&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(ne.name.trim())){let J=ne.value;try{J=JSON.parse(ne.value)}catch{}R[ne.name.trim()]=J}f({name:g.trim(),inputs:S,outputs:j,variables:R})};return n?Tf.createPortal(d.jsx("div",{className:T(Df()),onClick:h,role:"dialog","aria-modal":"true","aria-labelledby":"extract-workflow-dialog-title",children:d.jsxs("div",{className:T(Fx()),onClick:D=>D.stopPropagation(),children:[d.jsx("div",{className:T(Jx()),children:d.jsx("h2",{id:"extract-workflow-dialog-title",className:T(Px()),children:"Extract to Workflow"})}),d.jsxs("div",{className:T(ey()),children:[d.jsxs("div",{className:T(Yw()),children:[d.jsxs("strong",{children:[i.length," nodes"]})," will be extracted into a new workflow. The selected nodes will be replaced with a workflow_call node."]}),d.jsxs("div",{className:T(Tl()),children:[d.jsxs("label",{className:T(Dl()),children:["Workflow Name ",d.jsx("span",{className:"text-accent-red",children:"*"})]}),d.jsx("input",{ref:m,type:"text",className:T(lr()),placeholder:"my_workflow",value:g,onChange:D=>$(D.target.value),onBlur:q,onKeyDown:D=>{D.key==="Enter"&&k()}}),y&&d.jsx("p",{className:T(ny()),children:y})]}),d.jsxs("div",{className:T(Tl()),children:[d.jsxs("label",{className:T(Dl()),children:["Interface Inputs",o.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),S.length>0&&d.jsx("div",{className:T(rs()),children:S.map(D=>d.jsxs("span",{className:T(is()),children:[D,d.jsx("button",{className:T(os()),onClick:()=>le(D),"aria-label":`Remove ${D}`,children:"x"})]},D))}),d.jsxs("div",{className:T(ss()),children:[d.jsx("input",{type:"text",className:T(lr()),placeholder:"input_name",value:w,onChange:D=>v(D.target.value),onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),K())}}),d.jsx("button",{type:"button",className:T(ar()),onClick:K,children:"Add"})]})]}),d.jsxs("div",{className:T(Tl()),children:[d.jsxs("label",{className:T(Dl()),children:["Interface Outputs",c.length>0&&d.jsx("span",{className:"text-text-muted text-xs ml-2",children:"(auto-detected)"})]}),j.length>0&&d.jsx("div",{className:T(rs()),children:j.map(D=>d.jsxs("span",{className:T(is()),children:[D,d.jsx("button",{className:T(os()),onClick:()=>ie(D),"aria-label":`Remove ${D}`,children:"x"})]},D))}),d.jsxs("div",{className:T(ss()),children:[d.jsx("input",{type:"text",className:T(lr()),placeholder:"output_name",value:O,onChange:D=>V(D.target.value),onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),ue())}}),d.jsx("button",{type:"button",className:T(ar()),onClick:ue,children:"Add"})]})]}),d.jsxs("div",{className:T(Tl()),children:[d.jsx("label",{className:T(Dl()),children:"Variables"}),Y.map((D,R)=>d.jsxs("div",{className:T(ly()),children:[d.jsx("input",{type:"text",className:T(cs()),placeholder:"name",value:D.name,onChange:ne=>Z(R,"name",ne.target.value)}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("input",{type:"text",className:T(cs()),placeholder:"value",value:D.value,onChange:ne=>Z(R,"value",ne.target.value)}),d.jsx("button",{type:"button",className:T(ay()),onClick:()=>ae(R),"aria-label":"Remove variable",children:"x"})]},R)),d.jsx("button",{type:"button",className:T(ar()),onClick:se,children:"+ Add Variable"})]})]}),d.jsxs("div",{className:T(ty()),children:[d.jsx("button",{className:T(rr(),kf()),onClick:h,children:"Cancel"}),d.jsx("button",{className:T(rr(),Rf()),onClick:k,children:"Extract"})]})]})}),document.body):null}function yt(n,r,i=18){const o=({size:c=i,className:f,...h})=>d.jsx("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:f,...h,children:n});return o.displayName=r,o}const qw=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"FileIcon"),Xw=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"17 8 12 3 7 8"}),d.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"UploadIcon"),Gw=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"DownloadIcon"),Ww=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M3 7v6h6"}),d.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),"UndoIcon"),Zw=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M21 7v6h-6"}),d.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"})]}),"RedoIcon"),Qw=yt(d.jsx("path",{d:"M12 5v14M5 12h14"}),"PlusIcon",20),Kw=yt(d.jsx("path",{d:"M16 18l6-6-6-6M8 6l-6 6 6 6"}),"CodeIcon",20),Fw=yt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),"SunIcon"),Jw=yt(d.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}),"MoonIcon"),Pw=yt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomInIcon",16),e2=yt(d.jsxs(d.Fragment,{children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),d.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),"ZoomOutIcon",16),t2=yt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"15 3 21 3 21 9"}),d.jsx("polyline",{points:"9 21 3 21 3 15"}),d.jsx("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),d.jsx("line",{x1:"3",y1:"21",x2:"10",y2:"14"})]}),"FitViewIcon",16),n2=yt(d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"GridIcon",14),l2=yt(d.jsx("polygon",{points:"5 3 19 12 5 21 5 3"}),"PlayIcon",14),a2=yt(d.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),"StopIcon",14),r2=yt(d.jsxs(d.Fragment,{children:[d.jsx("polygon",{points:"5 4 15 12 5 20 5 4"}),d.jsx("line",{x1:"19",y1:"5",x2:"19",y2:"19"})]}),"StepForwardIcon",14),i2=yt(d.jsxs(d.Fragment,{children:[d.jsx("polyline",{points:"3 6 5 6 21 6"}),d.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"TrashIcon",14),o2=yt(d.jsxs(d.Fragment,{children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"CloseIcon",14),s2=yt(d.jsxs(d.Fragment,{children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),d.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"SaveIcon"),ry=L.createContext(null),xg="lexflow-theme";function c2({children:n}){const[r,i]=L.useState(()=>{if(typeof window>"u")return"dark";const f=localStorage.getItem(xg);return f==="light"||f==="dark"?f:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});L.useEffect(()=>{document.documentElement.classList.toggle("light",r==="light"),localStorage.setItem(xg,r)},[r]);const o=f=>i(f),c=()=>i(f=>f==="dark"?"light":"dark");return L.createElement(ry.Provider,{value:{theme:r,setTheme:o,toggleTheme:c}},n)}function iy(){const n=L.useContext(ry);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}function u2({className:n}){const{theme:r,toggleTheme:i}=iy();return d.jsx(Mn,{className:n,icon:r==="dark"?d.jsx(Fw,{}):d.jsx(Jw,{}),label:r==="dark"?"Switch to light mode":"Switch to dark mode",onClick:i})}function oy(n){return typeof n.listExamples=="function"&&typeof n.getExample=="function"}const sy=L.createContext(null);function f2({provider:n,children:r}){return d.jsx(sy.Provider,{value:n,children:r})}function vs(){const n=L.useContext(sy);if(!n)throw new Error("useBackendProvider must be used within a BackendProviderWrapper");return n}function cy(n){return typeof n>"u"||n===null}function d2(n){return typeof n=="object"&&n!==null}function h2(n){return Array.isArray(n)?n:cy(n)?[]:[n]}function m2(n,r){var i,o,c,f;if(r)for(f=Object.keys(r),i=0,o=f.length;i<o;i+=1)c=f[i],n[c]=r[c];return n}function p2(n,r){var i="",o;for(o=0;o<r;o+=1)i+=n;return i}function g2(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var x2=cy,y2=d2,b2=h2,v2=p2,w2=g2,S2=m2,xt={isNothing:x2,isObject:y2,toArray:b2,repeat:v2,isNegativeZero:w2,extend:S2};function uy(n,r){var i="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(i+='in "'+n.mark.name+'" '),i+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(i+=`

`+n.mark.snippet),o+" "+i):o}function gi(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=uy(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}gi.prototype=Object.create(Error.prototype);gi.prototype.constructor=gi;gi.prototype.toString=function(r){return this.name+": "+uy(this,r)};var Vt=gi;function $u(n,r,i,o,c){var f="",h="",m=Math.floor(c/2)-1;return o-r>m&&(f=" ... ",r=o-m+f.length),i-o>m&&(h=" ...",i=o+m-h.length),{str:f+n.slice(r,i).replace(/\t/g,"")+h,pos:o-r+f.length}}function qu(n,r){return xt.repeat(" ",r-n.length)+n}function N2(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var i=/\r?\n|\r|\0/g,o=[0],c=[],f,h=-1;f=i.exec(n.buffer);)c.push(f.index),o.push(f.index+f[0].length),n.position<=f.index&&h<0&&(h=o.length-2);h<0&&(h=o.length-1);var m="",g,p,y=Math.min(n.line+r.linesAfter,c.length).toString().length,b=r.maxLength-(r.indent+y+3);for(g=1;g<=r.linesBefore&&!(h-g<0);g++)p=$u(n.buffer,o[h-g],c[h-g],n.position-(o[h]-o[h-g]),b),m=xt.repeat(" ",r.indent)+qu((n.line-g+1).toString(),y)+" | "+p.str+`
`+m;for(p=$u(n.buffer,o[h],c[h],n.position,b),m+=xt.repeat(" ",r.indent)+qu((n.line+1).toString(),y)+" | "+p.str+`
`,m+=xt.repeat("-",r.indent+y+3+p.pos)+`^
`,g=1;g<=r.linesAfter&&!(h+g>=c.length);g++)p=$u(n.buffer,o[h+g],c[h+g],n.position-(o[h]-o[h+g]),b),m+=xt.repeat(" ",r.indent)+qu((n.line+g+1).toString(),y)+" | "+p.str+`
`;return m.replace(/\n$/,"")}var E2=N2,j2=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],C2=["scalar","sequence","mapping"];function A2(n){var r={};return n!==null&&Object.keys(n).forEach(function(i){n[i].forEach(function(o){r[String(o)]=i})}),r}function _2(n,r){if(r=r||{},Object.keys(r).forEach(function(i){if(j2.indexOf(i)===-1)throw new Vt('Unknown option "'+i+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(i){return i},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=A2(r.styleAliases||null),C2.indexOf(this.kind)===-1)throw new Vt('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var Ot=_2;function yg(n,r){var i=[];return n[r].forEach(function(o){var c=i.length;i.forEach(function(f,h){f.tag===o.tag&&f.kind===o.kind&&f.multi===o.multi&&(c=h)}),i[c]=o}),i}function O2(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,i;function o(c){c.multi?(n.multi[c.kind].push(c),n.multi.fallback.push(c)):n[c.kind][c.tag]=n.fallback[c.tag]=c}for(r=0,i=arguments.length;r<i;r+=1)arguments[r].forEach(o);return n}function hf(n){return this.extend(n)}hf.prototype.extend=function(r){var i=[],o=[];if(r instanceof Ot)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(i=i.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new Vt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(f){if(!(f instanceof Ot))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(f.loadKind&&f.loadKind!=="scalar")throw new Vt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(f.multi)throw new Vt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(f){if(!(f instanceof Ot))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(hf.prototype);return c.implicit=(this.implicit||[]).concat(i),c.explicit=(this.explicit||[]).concat(o),c.compiledImplicit=yg(c,"implicit"),c.compiledExplicit=yg(c,"explicit"),c.compiledTypeMap=O2(c.compiledImplicit,c.compiledExplicit),c};var fy=hf,dy=new Ot("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),hy=new Ot("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),my=new Ot("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),py=new fy({explicit:[dy,hy,my]});function M2(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function T2(){return null}function D2(n){return n===null}var gy=new Ot("tag:yaml.org,2002:null",{kind:"scalar",resolve:M2,construct:T2,predicate:D2,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function k2(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function R2(n){return n==="true"||n==="True"||n==="TRUE"}function z2(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var xy=new Ot("tag:yaml.org,2002:bool",{kind:"scalar",resolve:k2,construct:R2,predicate:z2,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function L2(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function V2(n){return 48<=n&&n<=55}function B2(n){return 48<=n&&n<=57}function H2(n){if(n===null)return!1;var r=n.length,i=0,o=!1,c;if(!r)return!1;if(c=n[i],(c==="-"||c==="+")&&(c=n[++i]),c==="0"){if(i+1===r)return!0;if(c=n[++i],c==="b"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(c!=="0"&&c!=="1")return!1;o=!0}return o&&c!=="_"}if(c==="x"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!L2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}if(c==="o"){for(i++;i<r;i++)if(c=n[i],c!=="_"){if(!V2(n.charCodeAt(i)))return!1;o=!0}return o&&c!=="_"}}if(c==="_")return!1;for(;i<r;i++)if(c=n[i],c!=="_"){if(!B2(n.charCodeAt(i)))return!1;o=!0}return!(!o||c==="_")}function U2(n){var r=n,i=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(i=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return i*parseInt(r.slice(2),2);if(r[1]==="x")return i*parseInt(r.slice(2),16);if(r[1]==="o")return i*parseInt(r.slice(2),8)}return i*parseInt(r,10)}function I2(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!xt.isNegativeZero(n)}var yy=new Ot("tag:yaml.org,2002:int",{kind:"scalar",resolve:H2,construct:U2,predicate:I2,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Y2=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function $2(n){return!(n===null||!Y2.test(n)||n[n.length-1]==="_")}function q2(n){var r,i;return r=n.replace(/_/g,"").toLowerCase(),i=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:i*parseFloat(r,10)}var X2=/^[-+]?[0-9]+e/;function G2(n,r){var i;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(xt.isNegativeZero(n))return"-0.0";return i=n.toString(10),X2.test(i)?i.replace("e",".e"):i}function W2(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||xt.isNegativeZero(n))}var by=new Ot("tag:yaml.org,2002:float",{kind:"scalar",resolve:$2,construct:q2,predicate:W2,represent:G2,defaultStyle:"lowercase"}),vy=py.extend({implicit:[gy,xy,yy,by]}),wy=vy,Sy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ny=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Z2(n){return n===null?!1:Sy.exec(n)!==null||Ny.exec(n)!==null}function Q2(n){var r,i,o,c,f,h,m,g=0,p=null,y,b,S;if(r=Sy.exec(n),r===null&&(r=Ny.exec(n)),r===null)throw new Error("Date resolve error");if(i=+r[1],o=+r[2]-1,c=+r[3],!r[4])return new Date(Date.UTC(i,o,c));if(f=+r[4],h=+r[5],m=+r[6],r[7]){for(g=r[7].slice(0,3);g.length<3;)g+="0";g=+g}return r[9]&&(y=+r[10],b=+(r[11]||0),p=(y*60+b)*6e4,r[9]==="-"&&(p=-p)),S=new Date(Date.UTC(i,o,c,f,h,m,g)),p&&S.setTime(S.getTime()-p),S}function K2(n){return n.toISOString()}var Ey=new Ot("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Z2,construct:Q2,instanceOf:Date,represent:K2});function F2(n){return n==="<<"||n===null}var jy=new Ot("tag:yaml.org,2002:merge",{kind:"scalar",resolve:F2}),zf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function J2(n){if(n===null)return!1;var r,i,o=0,c=n.length,f=zf;for(i=0;i<c;i++)if(r=f.indexOf(n.charAt(i)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function P2(n){var r,i,o=n.replace(/[\r\n=]/g,""),c=o.length,f=zf,h=0,m=[];for(r=0;r<c;r++)r%4===0&&r&&(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)),h=h<<6|f.indexOf(o.charAt(r));return i=c%4*6,i===0?(m.push(h>>16&255),m.push(h>>8&255),m.push(h&255)):i===18?(m.push(h>>10&255),m.push(h>>2&255)):i===12&&m.push(h>>4&255),new Uint8Array(m)}function eS(n){var r="",i=0,o,c,f=n.length,h=zf;for(o=0;o<f;o++)o%3===0&&o&&(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]),i=(i<<8)+n[o];return c=f%3,c===0?(r+=h[i>>18&63],r+=h[i>>12&63],r+=h[i>>6&63],r+=h[i&63]):c===2?(r+=h[i>>10&63],r+=h[i>>4&63],r+=h[i<<2&63],r+=h[64]):c===1&&(r+=h[i>>2&63],r+=h[i<<4&63],r+=h[64],r+=h[64]),r}function tS(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var Cy=new Ot("tag:yaml.org,2002:binary",{kind:"scalar",resolve:J2,construct:P2,predicate:tS,represent:eS}),nS=Object.prototype.hasOwnProperty,lS=Object.prototype.toString;function aS(n){if(n===null)return!0;var r=[],i,o,c,f,h,m=n;for(i=0,o=m.length;i<o;i+=1){if(c=m[i],h=!1,lS.call(c)!=="[object Object]")return!1;for(f in c)if(nS.call(c,f))if(!h)h=!0;else return!1;if(!h)return!1;if(r.indexOf(f)===-1)r.push(f);else return!1}return!0}function rS(n){return n!==null?n:[]}var Ay=new Ot("tag:yaml.org,2002:omap",{kind:"sequence",resolve:aS,construct:rS}),iS=Object.prototype.toString;function oS(n){if(n===null)return!0;var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1){if(o=h[r],iS.call(o)!=="[object Object]"||(c=Object.keys(o),c.length!==1))return!1;f[r]=[c[0],o[c[0]]]}return!0}function sS(n){if(n===null)return[];var r,i,o,c,f,h=n;for(f=new Array(h.length),r=0,i=h.length;r<i;r+=1)o=h[r],c=Object.keys(o),f[r]=[c[0],o[c[0]]];return f}var _y=new Ot("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:oS,construct:sS}),cS=Object.prototype.hasOwnProperty;function uS(n){if(n===null)return!0;var r,i=n;for(r in i)if(cS.call(i,r)&&i[r]!==null)return!1;return!0}function fS(n){return n!==null?n:{}}var Oy=new Ot("tag:yaml.org,2002:set",{kind:"mapping",resolve:uS,construct:fS}),Lf=wy.extend({implicit:[Ey,jy],explicit:[Cy,Ay,_y,Oy]}),Vl=Object.prototype.hasOwnProperty,us=1,My=2,Ty=3,fs=4,Xu=1,dS=2,bg=3,hS=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,mS=/[\x85\u2028\u2029]/,pS=/[,\[\]\{\}]/,Dy=/^(?:!|!!|![a-z\-]+!)$/i,ky=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function vg(n){return Object.prototype.toString.call(n)}function kn(n){return n===10||n===13}function oa(n){return n===9||n===32}function Gt(n){return n===9||n===32||n===10||n===13}function Pa(n){return n===44||n===91||n===93||n===123||n===125}function gS(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function xS(n){return n===120?2:n===117?4:n===85?8:0}function yS(n){return 48<=n&&n<=57?n-48:-1}function wg(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?"":n===76?"\u2028":n===80?"\u2029":""}function bS(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}function Ry(n,r,i){r==="__proto__"?Object.defineProperty(n,r,{configurable:!0,enumerable:!0,writable:!0,value:i}):n[r]=i}var zy=new Array(256),Ly=new Array(256);for(var Fa=0;Fa<256;Fa++)zy[Fa]=wg(Fa)?1:0,Ly[Fa]=wg(Fa);function vS(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||Lf,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Vy(n,r){var i={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return i.snippet=E2(i),new Vt(r,i)}function ye(n,r){throw Vy(n,r)}function ds(n,r){n.onWarning&&n.onWarning.call(null,Vy(n,r))}var Sg={YAML:function(r,i,o){var c,f,h;r.version!==null&&ye(r,"duplication of %YAML directive"),o.length!==1&&ye(r,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),c===null&&ye(r,"ill-formed argument of the YAML directive"),f=parseInt(c[1],10),h=parseInt(c[2],10),f!==1&&ye(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=h<2,h!==1&&h!==2&&ds(r,"unsupported YAML version of the document")},TAG:function(r,i,o){var c,f;o.length!==2&&ye(r,"TAG directive accepts exactly two arguments"),c=o[0],f=o[1],Dy.test(c)||ye(r,"ill-formed tag handle (first argument) of the TAG directive"),Vl.call(r.tagMap,c)&&ye(r,'there is a previously declared suffix for "'+c+'" tag handle'),ky.test(f)||ye(r,"ill-formed tag prefix (second argument) of the TAG directive");try{f=decodeURIComponent(f)}catch{ye(r,"tag prefix is malformed: "+f)}r.tagMap[c]=f}};function Rl(n,r,i,o){var c,f,h,m;if(r<i){if(m=n.input.slice(r,i),o)for(c=0,f=m.length;c<f;c+=1)h=m.charCodeAt(c),h===9||32<=h&&h<=1114111||ye(n,"expected valid JSON character");else hS.test(m)&&ye(n,"the stream contains non-printable characters");n.result+=m}}function Ng(n,r,i,o){var c,f,h,m;for(xt.isObject(i)||ye(n,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(i),h=0,m=c.length;h<m;h+=1)f=c[h],Vl.call(r,f)||(Ry(r,f,i[f]),o[f]=!0)}function er(n,r,i,o,c,f,h,m,g){var p,y;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),p=0,y=c.length;p<y;p+=1)Array.isArray(c[p])&&ye(n,"nested arrays are not supported inside keys"),typeof c=="object"&&vg(c[p])==="[object Object]"&&(c[p]="[object Object]");if(typeof c=="object"&&vg(c)==="[object Object]"&&(c="[object Object]"),c=String(c),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(f))for(p=0,y=f.length;p<y;p+=1)Ng(n,r,f[p],i);else Ng(n,r,f,i);else!n.json&&!Vl.call(i,c)&&Vl.call(r,c)&&(n.line=h||n.line,n.lineStart=m||n.lineStart,n.position=g||n.position,ye(n,"duplicated mapping key")),Ry(r,c,f),delete i[c];return r}function Vf(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):ye(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function ht(n,r,i){for(var o=0,c=n.input.charCodeAt(n.position);c!==0;){for(;oa(c);)c===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),c=n.input.charCodeAt(++n.position);if(r&&c===35)do c=n.input.charCodeAt(++n.position);while(c!==10&&c!==13&&c!==0);if(kn(c))for(Vf(n),c=n.input.charCodeAt(n.position),o++,n.lineIndent=0;c===32;)n.lineIndent++,c=n.input.charCodeAt(++n.position);else break}return i!==-1&&o!==0&&n.lineIndent<i&&ds(n,"deficient indentation"),o}function ws(n){var r=n.position,i;return i=n.input.charCodeAt(r),!!((i===45||i===46)&&i===n.input.charCodeAt(r+1)&&i===n.input.charCodeAt(r+2)&&(r+=3,i=n.input.charCodeAt(r),i===0||Gt(i)))}function Bf(n,r){r===1?n.result+=" ":r>1&&(n.result+=xt.repeat(`
`,r-1))}function wS(n,r,i){var o,c,f,h,m,g,p,y,b=n.kind,S=n.result,E;if(E=n.input.charCodeAt(n.position),Gt(E)||Pa(E)||E===35||E===38||E===42||E===33||E===124||E===62||E===39||E===34||E===37||E===64||E===96||(E===63||E===45)&&(c=n.input.charCodeAt(n.position+1),Gt(c)||i&&Pa(c)))return!1;for(n.kind="scalar",n.result="",f=h=n.position,m=!1;E!==0;){if(E===58){if(c=n.input.charCodeAt(n.position+1),Gt(c)||i&&Pa(c))break}else if(E===35){if(o=n.input.charCodeAt(n.position-1),Gt(o))break}else{if(n.position===n.lineStart&&ws(n)||i&&Pa(E))break;if(kn(E))if(g=n.line,p=n.lineStart,y=n.lineIndent,ht(n,!1,-1),n.lineIndent>=r){m=!0,E=n.input.charCodeAt(n.position);continue}else{n.position=h,n.line=g,n.lineStart=p,n.lineIndent=y;break}}m&&(Rl(n,f,h,!1),Bf(n,n.line-g),f=h=n.position,m=!1),oa(E)||(h=n.position+1),E=n.input.charCodeAt(++n.position)}return Rl(n,f,h,!1),n.result?!0:(n.kind=b,n.result=S,!1)}function SS(n,r){var i,o,c;if(i=n.input.charCodeAt(n.position),i!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=c=n.position;(i=n.input.charCodeAt(n.position))!==0;)if(i===39)if(Rl(n,o,n.position,!0),i=n.input.charCodeAt(++n.position),i===39)o=n.position,n.position++,c=n.position;else return!0;else kn(i)?(Rl(n,o,c,!0),Bf(n,ht(n,!1,r)),o=c=n.position):n.position===n.lineStart&&ws(n)?ye(n,"unexpected end of the document within a single quoted scalar"):(n.position++,c=n.position);ye(n,"unexpected end of the stream within a single quoted scalar")}function NS(n,r){var i,o,c,f,h,m;if(m=n.input.charCodeAt(n.position),m!==34)return!1;for(n.kind="scalar",n.result="",n.position++,i=o=n.position;(m=n.input.charCodeAt(n.position))!==0;){if(m===34)return Rl(n,i,n.position,!0),n.position++,!0;if(m===92){if(Rl(n,i,n.position,!0),m=n.input.charCodeAt(++n.position),kn(m))ht(n,!1,r);else if(m<256&&zy[m])n.result+=Ly[m],n.position++;else if((h=xS(m))>0){for(c=h,f=0;c>0;c--)m=n.input.charCodeAt(++n.position),(h=gS(m))>=0?f=(f<<4)+h:ye(n,"expected hexadecimal character");n.result+=bS(f),n.position++}else ye(n,"unknown escape sequence");i=o=n.position}else kn(m)?(Rl(n,i,o,!0),Bf(n,ht(n,!1,r)),i=o=n.position):n.position===n.lineStart&&ws(n)?ye(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}ye(n,"unexpected end of the stream within a double quoted scalar")}function ES(n,r){var i=!0,o,c,f,h=n.tag,m,g=n.anchor,p,y,b,S,E,w=Object.create(null),v,j,A,O;if(O=n.input.charCodeAt(n.position),O===91)y=93,E=!1,m=[];else if(O===123)y=125,E=!0,m={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=m),O=n.input.charCodeAt(++n.position);O!==0;){if(ht(n,!0,r),O=n.input.charCodeAt(n.position),O===y)return n.position++,n.tag=h,n.anchor=g,n.kind=E?"mapping":"sequence",n.result=m,!0;i?O===44&&ye(n,"expected the node content, but found ','"):ye(n,"missed comma between flow collection entries"),j=v=A=null,b=S=!1,O===63&&(p=n.input.charCodeAt(n.position+1),Gt(p)&&(b=S=!0,n.position++,ht(n,!0,r))),o=n.line,c=n.lineStart,f=n.position,ir(n,r,us,!1,!0),j=n.tag,v=n.result,ht(n,!0,r),O=n.input.charCodeAt(n.position),(S||n.line===o)&&O===58&&(b=!0,O=n.input.charCodeAt(++n.position),ht(n,!0,r),ir(n,r,us,!1,!0),A=n.result),E?er(n,m,w,j,v,A,o,c,f):b?m.push(er(n,null,w,j,v,A,o,c,f)):m.push(v),ht(n,!0,r),O=n.input.charCodeAt(n.position),O===44?(i=!0,O=n.input.charCodeAt(++n.position)):i=!1}ye(n,"unexpected end of the stream within a flow collection")}function jS(n,r){var i,o,c=Xu,f=!1,h=!1,m=r,g=0,p=!1,y,b;if(b=n.input.charCodeAt(n.position),b===124)o=!1;else if(b===62)o=!0;else return!1;for(n.kind="scalar",n.result="";b!==0;)if(b=n.input.charCodeAt(++n.position),b===43||b===45)Xu===c?c=b===43?bg:dS:ye(n,"repeat of a chomping mode identifier");else if((y=yS(b))>=0)y===0?ye(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):h?ye(n,"repeat of an indentation width identifier"):(m=r+y-1,h=!0);else break;if(oa(b)){do b=n.input.charCodeAt(++n.position);while(oa(b));if(b===35)do b=n.input.charCodeAt(++n.position);while(!kn(b)&&b!==0)}for(;b!==0;){for(Vf(n),n.lineIndent=0,b=n.input.charCodeAt(n.position);(!h||n.lineIndent<m)&&b===32;)n.lineIndent++,b=n.input.charCodeAt(++n.position);if(!h&&n.lineIndent>m&&(m=n.lineIndent),kn(b)){g++;continue}if(n.lineIndent<m){c===bg?n.result+=xt.repeat(`
`,f?1+g:g):c===Xu&&f&&(n.result+=`
`);break}for(o?oa(b)?(p=!0,n.result+=xt.repeat(`
`,f?1+g:g)):p?(p=!1,n.result+=xt.repeat(`
`,g+1)):g===0?f&&(n.result+=" "):n.result+=xt.repeat(`
`,g):n.result+=xt.repeat(`
`,f?1+g:g),f=!0,h=!0,g=0,i=n.position;!kn(b)&&b!==0;)b=n.input.charCodeAt(++n.position);Rl(n,i,n.position,!1)}return!0}function Eg(n,r){var i,o=n.tag,c=n.anchor,f=[],h,m=!1,g;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=f),g=n.input.charCodeAt(n.position);g!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,ye(n,"tab characters must not be used in indentation")),!(g!==45||(h=n.input.charCodeAt(n.position+1),!Gt(h))));){if(m=!0,n.position++,ht(n,!0,-1)&&n.lineIndent<=r){f.push(null),g=n.input.charCodeAt(n.position);continue}if(i=n.line,ir(n,r,Ty,!1,!0),f.push(n.result),ht(n,!0,-1),g=n.input.charCodeAt(n.position),(n.line===i||n.lineIndent>r)&&g!==0)ye(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return m?(n.tag=o,n.anchor=c,n.kind="sequence",n.result=f,!0):!1}function CS(n,r,i){var o,c,f,h,m,g,p=n.tag,y=n.anchor,b={},S=Object.create(null),E=null,w=null,v=null,j=!1,A=!1,O;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=b),O=n.input.charCodeAt(n.position);O!==0;){if(!j&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,ye(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),f=n.line,(O===63||O===58)&&Gt(o))O===63?(j&&(er(n,b,S,E,w,null,h,m,g),E=w=v=null),A=!0,j=!0,c=!0):j?(j=!1,c=!0):ye(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,O=o;else{if(h=n.line,m=n.lineStart,g=n.position,!ir(n,i,My,!1,!0))break;if(n.line===f){for(O=n.input.charCodeAt(n.position);oa(O);)O=n.input.charCodeAt(++n.position);if(O===58)O=n.input.charCodeAt(++n.position),Gt(O)||ye(n,"a whitespace character is expected after the key-value separator within a block mapping"),j&&(er(n,b,S,E,w,null,h,m,g),E=w=v=null),A=!0,j=!1,c=!1,E=n.tag,w=n.result;else if(A)ye(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=p,n.anchor=y,!0}else if(A)ye(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=p,n.anchor=y,!0}if((n.line===f||n.lineIndent>r)&&(j&&(h=n.line,m=n.lineStart,g=n.position),ir(n,r,fs,!0,c)&&(j?w=n.result:v=n.result),j||(er(n,b,S,E,w,v,h,m,g),E=w=v=null),ht(n,!0,-1),O=n.input.charCodeAt(n.position)),(n.line===f||n.lineIndent>r)&&O!==0)ye(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return j&&er(n,b,S,E,w,null,h,m,g),A&&(n.tag=p,n.anchor=y,n.kind="mapping",n.result=b),A}function AS(n){var r,i=!1,o=!1,c,f,h;if(h=n.input.charCodeAt(n.position),h!==33)return!1;if(n.tag!==null&&ye(n,"duplication of a tag property"),h=n.input.charCodeAt(++n.position),h===60?(i=!0,h=n.input.charCodeAt(++n.position)):h===33?(o=!0,c="!!",h=n.input.charCodeAt(++n.position)):c="!",r=n.position,i){do h=n.input.charCodeAt(++n.position);while(h!==0&&h!==62);n.position<n.length?(f=n.input.slice(r,n.position),h=n.input.charCodeAt(++n.position)):ye(n,"unexpected end of the stream within a verbatim tag")}else{for(;h!==0&&!Gt(h);)h===33&&(o?ye(n,"tag suffix cannot contain exclamation marks"):(c=n.input.slice(r-1,n.position+1),Dy.test(c)||ye(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),h=n.input.charCodeAt(++n.position);f=n.input.slice(r,n.position),pS.test(f)&&ye(n,"tag suffix cannot contain flow indicator characters")}f&&!ky.test(f)&&ye(n,"tag name cannot contain such characters: "+f);try{f=decodeURIComponent(f)}catch{ye(n,"tag name is malformed: "+f)}return i?n.tag=f:Vl.call(n.tagMap,c)?n.tag=n.tagMap[c]+f:c==="!"?n.tag="!"+f:c==="!!"?n.tag="tag:yaml.org,2002:"+f:ye(n,'undeclared tag handle "'+c+'"'),!0}function _S(n){var r,i;if(i=n.input.charCodeAt(n.position),i!==38)return!1;for(n.anchor!==null&&ye(n,"duplication of an anchor property"),i=n.input.charCodeAt(++n.position),r=n.position;i!==0&&!Gt(i)&&!Pa(i);)i=n.input.charCodeAt(++n.position);return n.position===r&&ye(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function OS(n){var r,i,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Gt(o)&&!Pa(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&ye(n,"name of an alias node must contain at least one character"),i=n.input.slice(r,n.position),Vl.call(n.anchorMap,i)||ye(n,'unidentified alias "'+i+'"'),n.result=n.anchorMap[i],ht(n,!0,-1),!0}function ir(n,r,i,o,c){var f,h,m,g=1,p=!1,y=!1,b,S,E,w,v,j;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,f=h=m=fs===i||Ty===i,o&&ht(n,!0,-1)&&(p=!0,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)),g===1)for(;AS(n)||_S(n);)ht(n,!0,-1)?(p=!0,m=f,n.lineIndent>r?g=1:n.lineIndent===r?g=0:n.lineIndent<r&&(g=-1)):m=!1;if(m&&(m=p||c),(g===1||fs===i)&&(us===i||My===i?v=r:v=r+1,j=n.position-n.lineStart,g===1?m&&(Eg(n,j)||CS(n,j,v))||ES(n,v)?y=!0:(h&&jS(n,v)||SS(n,v)||NS(n,v)?y=!0:OS(n)?(y=!0,(n.tag!==null||n.anchor!==null)&&ye(n,"alias node should not have any properties")):wS(n,v,us===i)&&(y=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):g===0&&(y=m&&Eg(n,j))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&ye(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),b=0,S=n.implicitTypes.length;b<S;b+=1)if(w=n.implicitTypes[b],w.resolve(n.result)){n.result=w.construct(n.result),n.tag=w.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(Vl.call(n.typeMap[n.kind||"fallback"],n.tag))w=n.typeMap[n.kind||"fallback"][n.tag];else for(w=null,E=n.typeMap.multi[n.kind||"fallback"],b=0,S=E.length;b<S;b+=1)if(n.tag.slice(0,E[b].tag.length)===E[b].tag){w=E[b];break}w||ye(n,"unknown tag !<"+n.tag+">"),n.result!==null&&w.kind!==n.kind&&ye(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+w.kind+'", not "'+n.kind+'"'),w.resolve(n.result,n.tag)?(n.result=w.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):ye(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||y}function MS(n){var r=n.position,i,o,c,f=!1,h;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(h=n.input.charCodeAt(n.position))!==0&&(ht(n,!0,-1),h=n.input.charCodeAt(n.position),!(n.lineIndent>0||h!==37));){for(f=!0,h=n.input.charCodeAt(++n.position),i=n.position;h!==0&&!Gt(h);)h=n.input.charCodeAt(++n.position);for(o=n.input.slice(i,n.position),c=[],o.length<1&&ye(n,"directive name must not be less than one character in length");h!==0;){for(;oa(h);)h=n.input.charCodeAt(++n.position);if(h===35){do h=n.input.charCodeAt(++n.position);while(h!==0&&!kn(h));break}if(kn(h))break;for(i=n.position;h!==0&&!Gt(h);)h=n.input.charCodeAt(++n.position);c.push(n.input.slice(i,n.position))}h!==0&&Vf(n),Vl.call(Sg,o)?Sg[o](n,o,c):ds(n,'unknown document directive "'+o+'"')}if(ht(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,ht(n,!0,-1)):f&&ye(n,"directives end mark is expected"),ir(n,n.lineIndent-1,fs,!1,!0),ht(n,!0,-1),n.checkLineBreaks&&mS.test(n.input.slice(r,n.position))&&ds(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&ws(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,ht(n,!0,-1));return}if(n.position<n.length-1)ye(n,"end of the stream or a document separator is expected");else return}function By(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var i=new vS(n,r),o=n.indexOf("\0");for(o!==-1&&(i.position=o,ye(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)MS(i);return i.documents}function TS(n,r,i){r!==null&&typeof r=="object"&&typeof i>"u"&&(i=r,r=null);var o=By(n,i);if(typeof r!="function")return o;for(var c=0,f=o.length;c<f;c+=1)r(o[c])}function DS(n,r){var i=By(n,r);if(i.length!==0){if(i.length===1)return i[0];throw new Vt("expected a single document in the stream, but found more")}}var kS=TS,RS=DS,Hy={loadAll:kS,load:RS},Uy=Object.prototype.toString,Iy=Object.prototype.hasOwnProperty,Hf=65279,zS=9,xi=10,LS=13,VS=32,BS=33,HS=34,mf=35,US=37,IS=38,YS=39,$S=42,Yy=44,qS=45,hs=58,XS=61,GS=62,WS=63,ZS=64,$y=91,qy=93,QS=96,Xy=123,KS=124,Gy=125,zt={};zt[0]="\\0";zt[7]="\\a";zt[8]="\\b";zt[9]="\\t";zt[10]="\\n";zt[11]="\\v";zt[12]="\\f";zt[13]="\\r";zt[27]="\\e";zt[34]='\\"';zt[92]="\\\\";zt[133]="\\N";zt[160]="\\_";zt[8232]="\\L";zt[8233]="\\P";var FS=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],JS=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function PS(n,r){var i,o,c,f,h,m,g;if(r===null)return{};for(i={},o=Object.keys(r),c=0,f=o.length;c<f;c+=1)h=o[c],m=String(r[h]),h.slice(0,2)==="!!"&&(h="tag:yaml.org,2002:"+h.slice(2)),g=n.compiledTypeMap.fallback[h],g&&Iy.call(g.styleAliases,m)&&(m=g.styleAliases[m]),i[h]=m;return i}function eN(n){var r,i,o;if(r=n.toString(16).toUpperCase(),n<=255)i="x",o=2;else if(n<=65535)i="u",o=4;else if(n<=4294967295)i="U",o=8;else throw new Vt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+xt.repeat("0",o-r.length)+r}var tN=1,yi=2;function nN(n){this.schema=n.schema||Lf,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=xt.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=PS(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.quotingType=n.quotingType==='"'?yi:tN,this.forceQuotes=n.forceQuotes||!1,this.replacer=typeof n.replacer=="function"?n.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function jg(n,r){for(var i=xt.repeat(" ",r),o=0,c=-1,f="",h,m=n.length;o<m;)c=n.indexOf(`
`,o),c===-1?(h=n.slice(o),o=m):(h=n.slice(o,c+1),o=c+1),h.length&&h!==`
`&&(f+=i),f+=h;return f}function pf(n,r){return`
`+xt.repeat(" ",n.indent*r)}function lN(n,r){var i,o,c;for(i=0,o=n.implicitTypes.length;i<o;i+=1)if(c=n.implicitTypes[i],c.resolve(r))return!0;return!1}function ms(n){return n===VS||n===zS}function bi(n){return 32<=n&&n<=126||161<=n&&n<=55295&&n!==8232&&n!==8233||57344<=n&&n<=65533&&n!==Hf||65536<=n&&n<=1114111}function Cg(n){return bi(n)&&n!==Hf&&n!==LS&&n!==xi}function Ag(n,r,i){var o=Cg(n),c=o&&!ms(n);return(i?o:o&&n!==Yy&&n!==$y&&n!==qy&&n!==Xy&&n!==Gy)&&n!==mf&&!(r===hs&&!c)||Cg(r)&&!ms(r)&&n===mf||r===hs&&c}function aN(n){return bi(n)&&n!==Hf&&!ms(n)&&n!==qS&&n!==WS&&n!==hs&&n!==Yy&&n!==$y&&n!==qy&&n!==Xy&&n!==Gy&&n!==mf&&n!==IS&&n!==$S&&n!==BS&&n!==KS&&n!==XS&&n!==GS&&n!==YS&&n!==HS&&n!==US&&n!==ZS&&n!==QS}function rN(n){return!ms(n)&&n!==hs}function ci(n,r){var i=n.charCodeAt(r),o;return i>=55296&&i<=56319&&r+1<n.length&&(o=n.charCodeAt(r+1),o>=56320&&o<=57343)?(i-55296)*1024+o-56320+65536:i}function Wy(n){var r=/^\n* /;return r.test(n)}var Zy=1,gf=2,Qy=3,Ky=4,Ja=5;function iN(n,r,i,o,c,f,h,m){var g,p=0,y=null,b=!1,S=!1,E=o!==-1,w=-1,v=aN(ci(n,0))&&rN(ci(n,n.length-1));if(r||h)for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ci(n,g),!bi(p))return Ja;v=v&&Ag(p,y,m),y=p}else{for(g=0;g<n.length;p>=65536?g+=2:g++){if(p=ci(n,g),p===xi)b=!0,E&&(S=S||g-w-1>o&&n[w+1]!==" ",w=g);else if(!bi(p))return Ja;v=v&&Ag(p,y,m),y=p}S=S||E&&g-w-1>o&&n[w+1]!==" "}return!b&&!S?v&&!h&&!c(n)?Zy:f===yi?Ja:gf:i>9&&Wy(n)?Ja:h?f===yi?Ja:gf:S?Ky:Qy}function oN(n,r,i,o,c){n.dump=(function(){if(r.length===0)return n.quotingType===yi?'""':"''";if(!n.noCompatMode&&(FS.indexOf(r)!==-1||JS.test(r)))return n.quotingType===yi?'"'+r+'"':"'"+r+"'";var f=n.indent*Math.max(1,i),h=n.lineWidth===-1?-1:Math.max(Math.min(n.lineWidth,40),n.lineWidth-f),m=o||n.flowLevel>-1&&i>=n.flowLevel;function g(p){return lN(n,p)}switch(iN(r,m,n.indent,h,g,n.quotingType,n.forceQuotes&&!o,c)){case Zy:return r;case gf:return"'"+r.replace(/'/g,"''")+"'";case Qy:return"|"+_g(r,n.indent)+Og(jg(r,f));case Ky:return">"+_g(r,n.indent)+Og(jg(sN(r,h),f));case Ja:return'"'+cN(r)+'"';default:throw new Vt("impossible error: invalid scalar style")}})()}function _g(n,r){var i=Wy(n)?String(r):"",o=n[n.length-1]===`
`,c=o&&(n[n.length-2]===`
`||n===`
`),f=c?"+":o?"":"-";return i+f+`
`}function Og(n){return n[n.length-1]===`
`?n.slice(0,-1):n}function sN(n,r){for(var i=/(\n+)([^\n]*)/g,o=(function(){var p=n.indexOf(`
`);return p=p!==-1?p:n.length,i.lastIndex=p,Mg(n.slice(0,p),r)})(),c=n[0]===`
`||n[0]===" ",f,h;h=i.exec(n);){var m=h[1],g=h[2];f=g[0]===" ",o+=m+(!c&&!f&&g!==""?`
`:"")+Mg(g,r),c=f}return o}function Mg(n,r){if(n===""||n[0]===" ")return n;for(var i=/ [^ ]/g,o,c=0,f,h=0,m=0,g="";o=i.exec(n);)m=o.index,m-c>r&&(f=h>c?h:m,g+=`
`+n.slice(c,f),c=f+1),h=m;return g+=`
`,n.length-c>r&&h>c?g+=n.slice(c,h)+`
`+n.slice(h+1):g+=n.slice(c),g.slice(1)}function cN(n){for(var r="",i=0,o,c=0;c<n.length;i>=65536?c+=2:c++)i=ci(n,c),o=zt[i],!o&&bi(i)?(r+=n[c],i>=65536&&(r+=n[c+1])):r+=o||eN(i);return r}function uN(n,r,i){var o="",c=n.tag,f,h,m;for(f=0,h=i.length;f<h;f+=1)m=i[f],n.replacer&&(m=n.replacer.call(i,String(f),m)),(tl(n,r,m,!1,!1)||typeof m>"u"&&tl(n,r,null,!1,!1))&&(o!==""&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=c,n.dump="["+o+"]"}function Tg(n,r,i,o){var c="",f=n.tag,h,m,g;for(h=0,m=i.length;h<m;h+=1)g=i[h],n.replacer&&(g=n.replacer.call(i,String(h),g)),(tl(n,r+1,g,!0,!0,!1,!0)||typeof g>"u"&&tl(n,r+1,null,!0,!0,!1,!0))&&((!o||c!=="")&&(c+=pf(n,r)),n.dump&&xi===n.dump.charCodeAt(0)?c+="-":c+="- ",c+=n.dump);n.tag=f,n.dump=c||"[]"}function fN(n,r,i){var o="",c=n.tag,f=Object.keys(i),h,m,g,p,y;for(h=0,m=f.length;h<m;h+=1)y="",o!==""&&(y+=", "),n.condenseFlow&&(y+='"'),g=f[h],p=i[g],n.replacer&&(p=n.replacer.call(i,g,p)),tl(n,r,g,!1,!1)&&(n.dump.length>1024&&(y+="? "),y+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),tl(n,r,p,!1,!1)&&(y+=n.dump,o+=y));n.tag=c,n.dump="{"+o+"}"}function dN(n,r,i,o){var c="",f=n.tag,h=Object.keys(i),m,g,p,y,b,S;if(n.sortKeys===!0)h.sort();else if(typeof n.sortKeys=="function")h.sort(n.sortKeys);else if(n.sortKeys)throw new Vt("sortKeys must be a boolean or a function");for(m=0,g=h.length;m<g;m+=1)S="",(!o||c!=="")&&(S+=pf(n,r)),p=h[m],y=i[p],n.replacer&&(y=n.replacer.call(i,p,y)),tl(n,r+1,p,!0,!0,!0)&&(b=n.tag!==null&&n.tag!=="?"||n.dump&&n.dump.length>1024,b&&(n.dump&&xi===n.dump.charCodeAt(0)?S+="?":S+="? "),S+=n.dump,b&&(S+=pf(n,r)),tl(n,r+1,y,!0,b)&&(n.dump&&xi===n.dump.charCodeAt(0)?S+=":":S+=": ",S+=n.dump,c+=S));n.tag=f,n.dump=c||"{}"}function Dg(n,r,i){var o,c,f,h,m,g;for(c=i?n.explicitTypes:n.implicitTypes,f=0,h=c.length;f<h;f+=1)if(m=c[f],(m.instanceOf||m.predicate)&&(!m.instanceOf||typeof r=="object"&&r instanceof m.instanceOf)&&(!m.predicate||m.predicate(r))){if(i?m.multi&&m.representName?n.tag=m.representName(r):n.tag=m.tag:n.tag="?",m.represent){if(g=n.styleMap[m.tag]||m.defaultStyle,Uy.call(m.represent)==="[object Function]")o=m.represent(r,g);else if(Iy.call(m.represent,g))o=m.represent[g](r,g);else throw new Vt("!<"+m.tag+'> tag resolver accepts not "'+g+'" style');n.dump=o}return!0}return!1}function tl(n,r,i,o,c,f,h){n.tag=null,n.dump=i,Dg(n,i,!1)||Dg(n,i,!0);var m=Uy.call(n.dump),g=o,p;o&&(o=n.flowLevel<0||n.flowLevel>r);var y=m==="[object Object]"||m==="[object Array]",b,S;if(y&&(b=n.duplicates.indexOf(i),S=b!==-1),(n.tag!==null&&n.tag!=="?"||S||n.indent!==2&&r>0)&&(c=!1),S&&n.usedDuplicates[b])n.dump="*ref_"+b;else{if(y&&S&&!n.usedDuplicates[b]&&(n.usedDuplicates[b]=!0),m==="[object Object]")o&&Object.keys(n.dump).length!==0?(dN(n,r,n.dump,c),S&&(n.dump="&ref_"+b+n.dump)):(fN(n,r,n.dump),S&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object Array]")o&&n.dump.length!==0?(n.noArrayIndent&&!h&&r>0?Tg(n,r-1,n.dump,c):Tg(n,r,n.dump,c),S&&(n.dump="&ref_"+b+n.dump)):(uN(n,r,n.dump),S&&(n.dump="&ref_"+b+" "+n.dump));else if(m==="[object String]")n.tag!=="?"&&oN(n,n.dump,r,f,g);else{if(m==="[object Undefined]")return!1;if(n.skipInvalid)return!1;throw new Vt("unacceptable kind of an object to dump "+m)}n.tag!==null&&n.tag!=="?"&&(p=encodeURI(n.tag[0]==="!"?n.tag.slice(1):n.tag).replace(/!/g,"%21"),n.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",n.dump=p+" "+n.dump)}return!0}function hN(n,r){var i=[],o=[],c,f;for(xf(n,i,o),c=0,f=o.length;c<f;c+=1)r.duplicates.push(i[o[c]]);r.usedDuplicates=new Array(f)}function xf(n,r,i){var o,c,f;if(n!==null&&typeof n=="object")if(c=r.indexOf(n),c!==-1)i.indexOf(c)===-1&&i.push(c);else if(r.push(n),Array.isArray(n))for(c=0,f=n.length;c<f;c+=1)xf(n[c],r,i);else for(o=Object.keys(n),c=0,f=o.length;c<f;c+=1)xf(n[o[c]],r,i)}function mN(n,r){r=r||{};var i=new nN(r);i.noRefs||hN(n,i);var o=n;return i.replacer&&(o=i.replacer.call({"":o},"",o)),tl(i,0,o,!0,!0)?i.dump+`
`:""}var pN=mN,gN={dump:pN};function Uf(n,r){return function(){throw new Error("Function yaml."+n+" is removed in js-yaml 4. Use yaml."+r+" instead, which is now safe by default.")}}var xN=Ot,yN=fy,bN=py,vN=vy,wN=wy,SN=Lf,NN=Hy.load,EN=Hy.loadAll,jN=gN.dump,CN=Vt,AN={binary:Cy,float:by,map:my,null:gy,pairs:_y,set:Oy,timestamp:Ey,bool:xy,int:yy,merge:jy,omap:Ay,seq:hy,str:dy},_N=Uf("safeLoad","load"),ON=Uf("safeLoadAll","loadAll"),MN=Uf("safeDump","dump"),ps={Type:xN,Schema:yN,FAILSAFE_SCHEMA:bN,JSON_SCHEMA:vN,CORE_SCHEMA:wN,DEFAULT_SCHEMA:SN,load:NN,loadAll:EN,dump:jN,YAMLException:CN,types:AN,safeLoad:_N,safeLoadAll:ON,safeDump:MN};function TN(n){const r=n.trim();if(!r)return{success:!1,error:"Empty source"};if(r.startsWith("{")||r.startsWith("["))try{return{success:!0,data:JSON.parse(r)}}catch{}try{const i=ps.load(r);return i==null?{success:!1,error:"Empty workflow"}:{success:!0,data:i}}catch(i){return{success:!1,error:i instanceof Error?i.message:"Parse failed"}}}function DN(n,r){return n.constructs.find(i=>i.opcode===r)}function kN(n){return new Set(n.constructs.filter(r=>r.branches&&r.branches.length>0).map(r=>r.opcode))}function RN(n,r){const i=n.branch_colors;return r.startsWith("CATCH")?i.CATCH||i.default||"#9C27B0":r.startsWith("BRANCH")?i.BRANCH||i.default||"#9C27B0":i[r]||i.default||"#9C27B0"}function zN(n,r){const i=n.node_colors;return i[r]||i.opcode||"#64748B"}function LN(n,r){const i=n.reporter_colors;for(const o of n.categories)if(r.startsWith(o.prefix))return i[o.id]||i.default||"#64748B";return i.default||"#64748B"}const VN="1.0",BN=[{id:"control",prefix:"control_",label:"Control Flow",color:"#FF9500",icon:""},{id:"data",prefix:"data_",label:"Data",color:"#4CAF50",icon:""},{id:"io",prefix:"io_",label:"I/O",color:"#22D3EE",icon:""},{id:"operator",prefix:"operator_",label:"Operators",color:"#9C27B0",icon:""},{id:"list",prefix:"list_",label:"Lists",color:"#3B82F6",icon:""},{id:"dict",prefix:"dict_",label:"Dicts",color:"#F59E0B",icon:""},{id:"string",prefix:"string_",label:"Strings",color:"#F472B6",icon:""},{id:"math",prefix:"math_",label:"Math",color:"#8B5CF6",icon:""},{id:"workflow",prefix:"workflow_",label:"Workflow",color:"#E91E63",icon:""},{id:"async",prefix:"async_",label:"Async",color:"#06B6D4",icon:""}],HN=[{opcode:"control_if",display_name:"If",ast_class:"If",category:"control",description:"Execute branch if condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0}]},{opcode:"control_if_else",display_name:"If-Else",ast_class:"If",category:"control",description:"Execute then-branch if condition is true, else-branch otherwise.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"THEN",label:"Then",color:"#66BB6A",required:!0},{name:"ELSE",label:"Else",color:"#EF5350",required:!0}]},{opcode:"control_while",display_name:"While",ast_class:"While",category:"control",description:"Repeat body while condition is true.",inputs:[{name:"CONDITION",type:"expression",label:"Condition",value_type:"bool",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_for",display_name:"For",ast_class:"For",category:"control",description:"For loop with counter variable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"START",type:"expression",label:"Start",value_type:"int",required:!0},{name:"END",type:"expression",label:"End",value_type:"int",required:!0},{name:"STEP",type:"expression",label:"Step",value_type:"int",required:!1,default:1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_foreach",display_name:"ForEach",ast_class:"ForEach",category:"control",description:"Iterate over each item in a collection.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Iterable",value_type:"list",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_fork",display_name:"Fork",ast_class:"Fork",category:"control",description:"Execute multiple branches concurrently.",inputs:[],branches:[{name:"BRANCH1",label:"Branch 1",color:"#9C27B0",required:!0},{name:"BRANCH2",label:"Branch 2",color:"#9C27B0",required:!1}],dynamic_branches:!0},{opcode:"control_try",display_name:"Try",ast_class:"Try",category:"control",description:"Exception handling with try/catch/finally.",inputs:[],branches:[{name:"TRY",label:"Try",color:"#3B82F6",required:!0},{name:"CATCH1",label:"Catch",color:"#F87171",required:!1,catch_config:{exception_type:"string",var_name:"string"}},{name:"FINALLY",label:"Finally",color:"#FACC15",required:!1}],dynamic_branches:!0},{opcode:"control_throw",display_name:"Throw",ast_class:"Throw",category:"control",description:"Raise an exception with a message.",inputs:[{name:"VALUE",type:"expression",label:"Message",value_type:"string",required:!0}],branches:[]},{opcode:"control_spawn",display_name:"Spawn",ast_class:"Spawn",category:"control",description:"Spawn a background task.",inputs:[{name:"VAR",type:"variable_name",label:"Task Variable",required:!1}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"control_async_foreach",display_name:"Async ForEach",ast_class:"AsyncForEach",category:"control",description:"Async iteration over a stream or async iterable.",inputs:[{name:"VAR",type:"variable_name",label:"Variable",required:!0},{name:"ITERABLE",type:"expression",label:"Async Iterable",value_type:"async_iterable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"async_timeout",display_name:"Timeout",ast_class:"Timeout",category:"async",description:"Execute body with a timeout, with optional fallback.",inputs:[{name:"TIMEOUT",type:"expression",label:"Timeout (seconds)",value_type:"float",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0},{name:"ON_TIMEOUT",label:"On Timeout",color:"#FACC15",required:!1}]},{opcode:"control_with",display_name:"With",ast_class:"With",category:"control",description:"Async context manager (with statement).",inputs:[{name:"RESOURCE",type:"expression",label:"Resource",required:!0},{name:"VAR",type:"variable_name",label:"Variable",required:!0}],branches:[{name:"BODY",label:"Body",color:"#22D3EE",required:!0}]},{opcode:"data_set_variable_to",display_name:"Set Variable",ast_class:"Assign",category:"data",description:"Assign a value to a variable.",inputs:[{name:"VARIABLE",type:"variable_name",label:"Variable",required:!0},{name:"VALUE",type:"expression",label:"Value",required:!0}],branches:[]},{opcode:"workflow_return",display_name:"Return",ast_class:"Return",category:"workflow",description:"Return value(s) from workflow.",inputs:[{name:"VALUE",type:"expression",label:"Value",required:!1}],branches:[],dynamic_inputs:!0},{opcode:"workflow_call",display_name:"Call Workflow",ast_class:"ExprStmt",category:"workflow",description:"Call another workflow by name.",inputs:[{name:"WORKFLOW",type:"variable_name",label:"Workflow Name",required:!0}],branches:[],dynamic_inputs:!0},{opcode:"workflow_start",display_name:"Start",ast_class:null,category:"workflow",description:"Entry point for workflow execution.",inputs:[],branches:[]}],UN={THEN:"#34D399",ELSE:"#F87171",BODY:"#22D3EE",TRY:"#3B82F6",CATCH:"#F87171",FINALLY:"#FACC15",ON_TIMEOUT:"#FACC15",BRANCH:"#9C27B0",default:"#9C27B0"},IN={control_flow:"#FF9500",data:"#4CAF50",io:"#22D3EE",operator:"#9C27B0",workflow_op:"#E91E63",opcode:"#64748B"},YN={data:"#4CAF50",operator:"#9C27B0",io:"#22D3EE",workflow:"#E91E63",default:"#64748B"},$N={version:VN,categories:BN,constructs:HN,branch_colors:UN,node_colors:IN,reporter_colors:YN},ll=$N;function qN(){return ll}function Fy(n){return RN(ll,n)}function Jy(n){return zN(ll,n)}function Py(n){return LN(ll,n)}function XN(){return kN(ll)}function Ai(n){return DN(ll,n)}function GN(n,r){const i=Ai(n);if(!i||!i.branches)return[];const o=new Set(r),c=[];if(i.dynamic_branches){const f=[],h=[];for(const m of i.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.find(b=>b.prefix===p)||h.push({prefix:p,minCount:m.required?1:0})}else f.push(m.name)}for(const m of f)c.push({name:m,connected:o.has(m)});for(const m of h){const g=r.filter(S=>S.startsWith(m.prefix)&&/^\d+$/.test(S.slice(m.prefix.length))),p=g.length>0?Math.max(...g.map(S=>parseInt(S.slice(m.prefix.length)))):0,y=Math.max(m.minCount,p),b=y>0?y:1;for(let S=1;S<=b;S++){const E=`${m.prefix}${S}`;c.push({name:E,connected:o.has(E)})}}return c}for(const f of i.branches)c.push({name:f.name,connected:o.has(f.name)});return c}function eb(){return ll.categories}function tb(n){for(const r of ll.categories)if(n.startsWith(r.prefix))return r.icon;return""}function nb(n){for(const r of ll.categories)if(n.startsWith(r.prefix))return r;return null}function WN(n){const r=n.workflows||[];if(r.length===0)return n.nodes?{type:"project",workflows:[kg(n)]}:{error:"No workflows found"};const i=[];let o={inputs:[],outputs:[]};for(const c of r){const f=kg(c);i.push(f),(f.name==="main"||o.inputs.length===0)&&(o=f.interface)}return{type:"project",workflows:i,interface:o}}function kg(n){const r=n.nodes||{},i=n.interface||{},o={type:"workflow",name:n.name||"main",interface:{inputs:i.inputs||[],outputs:i.outputs||[]},variables:n.variables||{},children:[],orphans:[]},c=new Set;let h=(r.start||{}).next;for(;h&&!c.has(h);){c.add(h);const E=r[h];if(!E)break;const w=yf(h,E,r,c);o.children.push(w),h=E.next}const m=new Set(Object.keys(r).filter(E=>E!=="start")),g=new Set([...m].filter(E=>!c.has(E)));for(const E of g){const w=r[E]||{};Yf(w.inputs||{},r,c)}const p=new Set([...m].filter(E=>!c.has(E))),y=new Set;for(const E of p){const v=(r[E]||{}).next;v&&p.has(v)&&y.add(v)}const b=[...p].filter(E=>!y.has(E)).sort(),S=new Set;for(const E of b){let w=E;for(;w&&!S.has(w);){const v=r[w];if(!v)break;if(v.isReporter){S.add(w),w=v.next&&p.has(v.next)?v.next:void 0;continue}S.add(w);const j=yf(w,v,r,c),A=v.next;A&&p.has(A)&&(j.next=A),o.orphans.push(j),w=A&&p.has(A)?A:void 0}}return o}function yf(n,r,i,o){const c=r.opcode||"",f=r.inputs||{},h=r.isReporter||!1;Yf(f,i,o);const m={id:n,type:FN(c),opcode:c,isReporter:h,inputs:JN(f,i,c),children:[]},g=Ai(c);return g&&g.branches.length>0&&(m.config=ZN(c,f,i,g),m.children=QN(f,i,o,g)),m}function ZN(n,r,i,o){const c={};for(const f of o.inputs){const h=If(r,f.name);if(h!==void 0){const m=f.name.toLowerCase();f.type==="variable_name"?c[m]=Gu(h):f.type==="expression"&&(m==="condition"||m==="iterable"||m==="resource"?c[m]=$f(h,i):c[m]=Gu(h))}}return["control_for","control_foreach","control_spawn","control_async_foreach","control_with"].includes(n)&&(c.var||(c.var=Gu(r.VAR??r.var??"i"))),c}function QN(n,r,i,o){const c=[];if(o.dynamic_branches)return KN(n,r,i,o);for(const f of o.branches){const h=If(n,f.name),m=typeof h=="object"&&h!==null?h.branch:void 0;m?c.push(ns(f.name,m,r,i)):h!==void 0&&c.push({type:"branch",name:f.name,children:[]})}return c}function KN(n,r,i,o){const c=[],f=[],h=[];for(const m of o.branches){const g=m.name.match(/^([A-Z]+)(\d+)$/);if(g){const p=g[1];h.includes(p)||h.push(p)}else f.push(m.name)}for(const m of f){const g=If(n,m),p=typeof g=="object"&&g!==null?g.branch:void 0;p?c.push(ns(m,p,r,i)):g!==void 0&&c.push({type:"branch",name:m,children:[]})}for(const m of h){const g=m==="CATCH"?"HANDLERS":m==="BRANCH"?"BRANCHES":null,p=g?n[g]??n[g.toLowerCase()]:null;if(Array.isArray(p)&&p.length>0)p.forEach((y,b)=>{if(typeof y=="object"&&y!==null){const S=y,E=S.branch??S.body?.branch,w=`${m}${b+1}`;if(E){const v=ns(w,E,r,i);m==="CATCH"&&(v.exception_type=S.exception_type||"Exception",v.var_name=S.var_name??S.var),c.push(v)}else{const v={type:"branch",name:w,children:[]};m==="CATCH"&&(v.exception_type=S.exception_type||"Exception",v.var_name=S.var_name??S.var),c.push(v)}}});else{let y=1;for(;;){const b=`${m}${y}`,S=n[b];if(S===void 0)break;if(typeof S=="object"&&S!==null){const E=S,w=E.branch??E.body?.branch??S.branch;if(w){const v=ns(b,w,r,i);m==="CATCH"&&(v.exception_type=E.exception_type||"Exception",v.var_name=E.var_name??E.var),c.push(v)}else{const v={type:"branch",name:b,children:[]};m==="CATCH"&&(v.exception_type=E.exception_type||"Exception",v.var_name=E.var_name??E.var),c.push(v)}}y++}}}return c}function If(n,r){return n[r]??n[r.toLowerCase()]}function Yf(n,r,i){for(const o of Object.values(n))if(typeof o=="object"&&o!==null){const c=o;if(c.node){const f=c.node;if(!i.has(f)){i.add(f);const m=(r[f]||{}).inputs||{};Yf(m,r,i)}}}}function FN(n){const r=qN();for(const i of r.categories)if(n.startsWith(i.prefix))switch(i.id){case"control":case"async":return"control_flow";case"data":return"data";case"io":return"io";case"operator":case"math":case"string":case"list":case"dict":return"operator";case"workflow":return"workflow_op";default:return"opcode"}return"opcode"}function JN(n,r,i){const o={},c=Ai(i),f=new Set;if(c)for(const m of c.branches)f.add(m.name),f.add(m.name.toLowerCase());const h=new Set(["BODY","body","THEN","then","ELSE","else","TRY","FINALLY","HANDLERS","handlers","BRANCHES","branches"]);for(const[m,g]of Object.entries(n))f.has(m)||h.has(m)||/^(CATCH|BRANCH)\d+$/.test(m)||(o[m]=$f(g,r));return o}function $f(n,r,i=0){if(typeof n=="object"&&n!==null){const o=n;if("literal"in o)return{type:"literal",value:o.literal};if("variable"in o)return{type:"variable",name:o.variable};if("node"in o){const c=o.node,f=r[c]||{},h=f.opcode||"",m=f.inputs||{};return{type:"reporter",id:c,opcode:h,inputs:Object.fromEntries(Object.entries(m).filter(([g])=>!g.startsWith("CATCH")&&!["BODY","THEN","ELSE"].includes(g)).map(([g,p])=>[g,$f(p,r,i+1)]))}}return"branch"in o?{type:"branch",target:o.branch}:"workflow_call"in o?{type:"workflow_call",name:o.workflow_call}:{type:"dict",value:n}}return{type:"literal",value:n}}function Gu(n){return typeof n=="object"&&n!==null&&"literal"in n?n.literal:n}function ns(n,r,i,o){const c={type:"branch",name:n,children:[]};let f=r;for(;f&&!o.has(f);){o.add(f);const h=i[f];if(!h)break;c.children.push(yf(f,h,i,o)),f=h.next}return c}function PN(n){if(!Array.isArray(n))throw new Error(`opcodeAdapter must return an array.
Received: ${typeof n}

Expected format:
[
  {
    name: "io_print",
    description: "Print to output",
    parameters: [{ name: "MESSAGE", type: "any", required: true }],
    return_type: "void"
  }
]`);for(let r=0;r<n.length;r++){const i=n[r];if(!i||typeof i!="object")throw new Error(`opcodeAdapter[${r}] must be an object`);if(typeof i.name!="string")throw new Error(`opcodeAdapter[${r}].name must be a string`);if(!Array.isArray(i.parameters))throw new Error(`opcodeAdapter[${r}].parameters must be an array`)}return n}async function oi(n,r){const i=await fetch(n,{headers:{"Content-Type":"application/json"},...r});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return i.json()}function eE(n){const{apiBaseUrl:r}=n;return{name:"lexflow",config:n,async listOpcodes(){const i=n.opcodesUrl??`${r}/opcodes`,o=await oi(i);if(n.opcodeAdapter){const c=n.opcodeAdapter(o);return PN(c)}return o},async executeWorkflow(i,o,c){return oi(`${r}/execute`,{method:"POST",body:JSON.stringify({workflow:i,inputs:o,include_metrics:c})})},getWebSocketUrl(){if(n.supportsWebSocket===!1)return null;if(n.wsUrl)return`${n.wsUrl}/execute`;const i=new URL(r,window.location.href);return`${i.protocol==="https:"?"wss:":"ws:"}//${i.host}/ws/execute`},async parseWorkflow(i){const o=TN(i);if(!o.success||!o.data)return{success:!1,error:o.error||"Parse failed"};const c=WN(o.data);if("error"in c)return{success:!1,error:c.error};const f=c;return{success:!0,tree:f,interface:f.interface}},async validateWorkflow(i){return oi(`${r}/validate`,{method:"POST",body:JSON.stringify({workflow:i})})},async listExamples(){return n.supportsExamples===!1?[]:oi(`${r}/examples`)},async getExample(i){return oi(`${r}/examples/${i}`)}}}const tE=L.createContext(null);function nE(){return L.useContext(tE)}function lE({className:n}){const{examples:r,setSource:i}=lt(),o=vs();if(r.length===0)return null;const c=async h=>{const m=h.target.value;if(m){try{if(oy(o)){const g=await o.getExample(m);i(g.content)}}catch(g){console.error("Failed to load example:",g)}h.target.value=""}},f=r.reduce((h,m)=>(h[m.category]||(h[m.category]=[]),h[m.category].push(m),h),{});return d.jsxs(Kx,{className:n,onChange:c,defaultValue:"",children:[d.jsx("option",{value:"",children:"Load Example..."}),Object.entries(f).map(([h,m])=>d.jsx("optgroup",{label:h,children:m.map(g=>d.jsx("option",{value:g.path,children:g.name},g.path))},h))]})}const aE=_("flex items-center h-12 pl-5 pr-4 bg-surface-1 border-b border-border-subtle shrink-0"),rE=_("text-base font-semibold text-text-primary tracking-tight ml-2"),Wu=_("w-px h-6 mx-2 bg-border-subtle"),Rg=_("flex items-center gap-1.5"),iE="1.0";function oE(n){try{const r=ps.load(n);if(!r?.metadata?.editor)return null;const i=r.metadata.editor;return typeof i.version!="string"||!i.layout||!i.viewport?null:i}catch{return null}}function sE(n,r){try{const i=ps.load(n);return i?(i.metadata={...i.metadata,editor:r},ps.dump(i,{indent:2,lineWidth:-1,noRefs:!0,sortKeys:(o,c)=>o==="metadata"?1:c==="metadata"?-1:0})):n}catch{return n}}function zg(n,r,i,o,c,f){return{version:iE,layout:{mode:n,nodePositions:{...r},workflowPositions:{...i}},viewport:{zoom:o,panX:c,panY:f}}}const Lg=`workflows:
  - name: main
    interface:
      inputs: []
      outputs: []
    variables: {}
    nodes:
      start:
        next: hello
      hello:
        opcode: io_print
        inputs:
          MESSAGE: { literal: "Hello, LexFlow!" }
`;function cE({className:n,onSave:r,showSaveButton:i,saveButtonLabel:o="Save",showExamples:c}){const{source:f,setSource:h,undo:m,redo:g,canUndo:p,canRedo:y}=lt(),{togglePalette:b,toggleEditor:S,isEditorOpen:E}=Ae(),w=L.useRef(null),[v,j]=L.useState(!1),A=async()=>{if(!(!r||v)){j(!0);try{const{nodePositions:$,workflowPositions:q,layoutMode:K,zoom:le,panX:ue,panY:ie}=Ae.getState(),se=zg(K,$,q,le,ue,ie);await r(f,se)}finally{j(!1)}}},O=i??!!r,V=()=>{f!==Lg&&Ae.getState().showConfirmDialog({title:"New Workflow",message:"Create a new workflow? Unsaved changes will be lost.",confirmLabel:"Create",variant:"default",onConfirm:()=>h(Lg)})},Y=async()=>{const{nodePositions:$,workflowPositions:q,layoutMode:K,zoom:le,panX:ue,panY:ie}=Ae.getState(),se=zg(K,$,q,le,ue,ie),Z=sE(f,se),ae=new Blob([Z],{type:"text/yaml"});if("showSaveFilePicker"in window)try{const ne=await(await window.showSaveFilePicker({suggestedName:"workflow.yaml",types:[{description:"YAML files",accept:{"text/yaml":[".yaml",".yml"]}}]})).createWritable();await ne.write(ae),await ne.close();return}catch(R){if(R.name==="AbortError")return}const k=URL.createObjectURL(ae),D=document.createElement("a");D.href=k,D.download="workflow.yaml",D.click(),URL.revokeObjectURL(k)},B=()=>{w.current?.click()},U=$=>{const q=$.target.files?.[0];if(!q)return;const K=new FileReader;K.onload=le=>{const ue=le.target?.result,ie=oE(ue);if(h(ue),ie){const se=Ae.getState();se.resetNodePositions(),se.resetWorkflowPositions(),se.setLayoutMode(ie.layout.mode);for(const[Z,ae]of Object.entries(ie.layout.nodePositions))se.setNodePosition(Z,ae.x,ae.y);for(const[Z,ae]of Object.entries(ie.layout.workflowPositions))se.setWorkflowPosition(Z,ae.x,ae.y);se.setZoom(ie.viewport.zoom),se.setPan(ie.viewport.panX,ie.viewport.panY)}},K.readAsText(q),$.target.value=""};return d.jsxs("header",{className:T(aE(),n),children:[d.jsxs("div",{className:T(Rg(),"flex-1"),children:[d.jsx("h1",{className:rE(),style:{marginLeft:"8px"},children:"LexFlow"}),d.jsx("div",{className:Wu()}),d.jsx(Mn,{icon:d.jsx(qw,{}),label:"New Workflow",onClick:V}),d.jsx(Mn,{icon:d.jsx(Xw,{}),label:"Import Workflow",onClick:B}),d.jsx(Mn,{icon:d.jsx(Gw,{}),label:"Export Workflow",onClick:Y}),O&&r&&d.jsx(Mn,{icon:d.jsx(s2,{}),label:o,onClick:A,disabled:v}),d.jsx("div",{className:Wu()}),d.jsx(Mn,{icon:d.jsx(Ww,{}),label:"Undo (Ctrl+Z)",onClick:m,disabled:!p}),d.jsx(Mn,{icon:d.jsx(Zw,{}),label:"Redo (Ctrl+Y)",onClick:g,disabled:!y}),d.jsx("div",{className:Wu()}),d.jsx(Mn,{icon:d.jsx(Qw,{}),label:"Node Palette (Ctrl+P)",onClick:b}),d.jsx("input",{ref:w,type:"file",accept:".yaml,.yml,.json",onChange:U,className:"hidden"})]}),d.jsx("div",{className:"flex items-center justify-center",children:c!==!1&&d.jsx(lE,{})}),d.jsxs("div",{className:T(Rg(),"flex-1 justify-end"),children:[d.jsx(u2,{}),d.jsx(Mn,{icon:d.jsx(Kw,{}),label:"Toggle Editor (Ctrl+B)",onClick:S,className:E?"bg-surface-3":""})]})]})}const uE=_("absolute bg-transparent transition-colors hover:bg-accent-blue/50 z-10",{variants:{orientation:{horizontal:"cursor-col-resize w-1 -right-0.5 top-0 bottom-0",vertical:"cursor-row-resize h-1 -top-0.5 left-0 right-0"},isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{orientation:"horizontal",isResizing:!1}});function fE({orientation:n,isResizing:r=!1,onMouseDown:i,className:o}){return d.jsx("div",{className:T(uE({orientation:n,isResizing:r}),o),onMouseDown:i})}function dE({orientation:n,minSize:r,maxSize:i,defaultSize:o}){const[c,f]=L.useState(o),[h,m]=L.useState(!1),g=L.useRef(null),p=L.useCallback(y=>{y.preventDefault(),g.current=y.target.parentElement,m(!0)},[]);return L.useEffect(()=>{if(!h)return;const y=S=>{if(!g.current)return;const E=g.current.getBoundingClientRect();let w;w=S.clientX-E.left,f(Math.min(i,Math.max(r,w)))},b=()=>{m(!1)};return document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b)}},[h,n,r,i]),{size:c,isResizing:h,handleMouseDown:p}}const hE=_("flex flex-col h-full overflow-hidden"),mE=_("flex flex-1 overflow-hidden relative"),pE=_("relative bg-surface-1 border-r border-border-subtle flex flex-col shrink-0"),gE=_("flex-1 flex flex-col relative overflow-hidden bg-surface-0"),xE=_("bg-surface-1 border-t border-border-subtle shrink-0 overflow-visible"),yE=_("absolute right-0 top-0 bottom-0 w-80 bg-surface-1 border-l border-border-subtle z-[100] shadow-lg transition-transform duration-200",{variants:{isOpen:{true:"translate-x-0",false:"translate-x-full"}},defaultVariants:{isOpen:!1}}),bE=_("fixed inset-0 bg-black/50 z-[200] flex justify-start"),vE=_("w-[300px] h-full bg-surface-1 border-r border-border-subtle animate-slide-in"),wE=240,SE=480,NE=320;function EE({canvas:n,editor:r,nodeEditor:i,executionPanel:o,palette:c,className:f,onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}){const{isEditorOpen:y,isNodeEditorOpen:b,isPaletteOpen:S,isExecutionPanelOpen:E,togglePalette:w}=Ae(),{size:v,isResizing:j,handleMouseDown:A}=dE({orientation:"horizontal",minSize:wE,maxSize:SE,defaultSize:NE});return d.jsxs("div",{className:T(hE(),f),children:[d.jsx(cE,{onSave:h,showSaveButton:m,saveButtonLabel:g,showExamples:p}),d.jsxs("div",{className:mE(),children:[y&&r&&d.jsxs("aside",{className:pE(),style:{width:`${v}px`},children:[r,d.jsx(fE,{orientation:"horizontal",isResizing:j,onMouseDown:A})]}),d.jsxs("div",{className:gE(),children:[n,E&&o&&d.jsx("div",{className:xE(),children:o})]}),d.jsx("aside",{className:yE({isOpen:b}),children:i})]}),S&&c&&d.jsx("div",{className:bE(),onClick:w,children:d.jsx("div",{className:vE(),onClick:O=>O.stopPropagation(),children:c})})]})}const Vg=new Set(["int","float","number","Integer","Float","Number"]),Bg=new Set(["str","string","String"]),Hg=new Set(["bool","boolean","Boolean"]);function bf(n,r){if(!n||!r)return null;const i=n.toLowerCase().trim(),o=r.toLowerCase().trim();if(i==="any"||o==="any"||i===o||Vg.has(i)&&Vg.has(o)||Bg.has(i)&&Bg.has(o)||Hg.has(i)&&Hg.has(o))return!0;const c=o.match(/^optional\[(.+)\]$/);return c?bf(n,c[1]):o.includes("|")?o.split("|").map(h=>h.trim()).some(h=>bf(n,h)===!0):!1}function jE(n){return n===!0?"#34D399":n===!1?"#F87171":"#94A3B8"}function CE(n,r){if(!n)return{};const i=n.workflows.find(c=>c.name===r);if(!i)return{};const o={};return i.interface.inputs.forEach((c,f)=>{o[`ARG${f+1}`]=c}),o}function gs(n,r,i,o){if(r!=="workflow_call")return n;const c=o.WORKFLOW;if(!c||c.type!=="literal")return n;const f=c.value;if(!f)return n;const h=CE(i,f);return n.startsWith("ARG")&&h[n]?h[n]:n}function AE(n){return n?n.workflows.filter(r=>r.name!=="main").map(r=>({name:r.name,params:r.interface.inputs})):[]}const _E=25,OE=180;function kl(n){if(n.startsWith("start-"))return"start";const r=n.indexOf("::");return r!==-1?n.slice(r+2):n}function xs(n){if(n.startsWith("start-"))return n.slice(6);const r=n.indexOf("::");if(r!==-1)return n.slice(0,r)}function ME(n,r,i,o){return Math.sqrt((i-n)**2+(o-r)**2)}function TE(n,r,i){const o=i[n];return o?r==="input"?o.input:r==="output"?o.output:o.branches[r]||null:null}function DE(n,r,i,o,c){const f=o==="output"?"input":"output";let h=null,m=_E;for(const[g,p]of Object.entries(c)){if(g===i)continue;const y=f==="input"?p.input:p.output,b=ME(n,r,y.x,y.y);b<m&&(m=b,h={nodeId:g,port:f,x:y.x,y:y.y})}return h}const kE={pointerEvents:"all"};function RE(n,r,i){return n?r===!0?{fill:"rgba(52, 211, 153, 0.15)",stroke:"var(--color-accent-green)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease",animation:"pulse-slot 0.6s ease infinite alternate"}:r===!1?{fill:"rgba(248, 113, 113, 0.15)",stroke:"var(--color-accent-red)",strokeWidth:1,strokeDasharray:"none",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"rgba(148, 163, 184, 0.1)",stroke:i,strokeWidth:1,strokeDasharray:"4 2",transition:"fill 0.15s ease, stroke 0.15s ease"}:{fill:"transparent",stroke:"transparent",strokeWidth:1,transition:"fill 0.15s ease, stroke 0.15s ease"}}const zE={fontSize:"9px",fontWeight:500,fill:"var(--color-text-muted)",textTransform:"lowercase"},LE={fontSize:"9px",fontFamily:"'JetBrains Mono', monospace",fill:"var(--color-text-secondary)"},VE={fontSize:"7px",fill:"var(--color-text-muted)",fontStyle:"italic",textTransform:"uppercase",letterSpacing:"0.3px"};function lb({nodeId:n,inputKey:r,value:i,paramInfo:o,opcode:c,allInputs:f,x:h,y:m,width:g}){const{draggingOrphan:p,setDraggingOrphan:y,draggingVariable:b,setDraggingVariable:S}=Ae(),{convertOrphanToReporter:E,updateNodeInput:w,tree:v}=lt(),j=BE(i),A=gs(r,c,v,f),O=p!==null,V=b!==null,Y=O||V,B=O?bf(p.returnType,o?.type):null,U=le=>{if(le.stopPropagation(),p){const ue=kl(p.nodeId);if(B===!1){Ae.getState().showConfirmDialog({title:"Type Mismatch",message:`The orphan node's return type may not be compatible with the input "${r}". Continue anyway?`,confirmLabel:"Continue",variant:"default",onConfirm:()=>{E(ue,n,r),y(null)},onCancel:()=>{y(null)}});return}E(ue,n,r),y(null)}else b&&(w(n,r,`$${b.name}`),S(null))},$=le=>{le.stopPropagation()},q=V?"#22C55E":jE(B);return d.jsxs("g",{style:kE,transform:`translate(${h}, ${m})`,onMouseUp:U,onMouseEnter:$,children:[d.jsx("rect",{x:0,y:0,width:g,height:20,rx:3,style:RE(Y,B,q)}),d.jsxs("text",{x:6,y:13,style:zE,children:[A,":"]}),d.jsx("text",{x:6+(A.length+1)*5,y:13,style:LE,children:j}),Y&&o?.type&&d.jsx("text",{x:g-6,y:13,textAnchor:"end",style:VE,children:o.type})]})}function BE(n){switch(n.type){case"literal":{const r=n.value;if(typeof r=="string")return`"${r.length>10?r.slice(0,10)+"...":r}"`;if(typeof r=="object"&&r!==null){const i=JSON.stringify(r);return i.length>20?i.slice(0,17)+"...":i}return String(r)}case"variable":return`$${n.name}`;case"reporter":return"[reporter]";case"workflow_call":return`-> ${n.name}`;default:return""}}function HE(){const{closeNodeEditor:n,isNodeEditorOpen:r,isPaletteOpen:i,togglePalette:o,toggleEditor:c,toggleExecutionPanel:f}=Ae(),{undo:h,redo:m,canUndo:g,canRedo:p,deleteNode:y,duplicateNode:b}=lt(),{selectNode:S,selectedNodeId:E,clearSelection:w}=nl();L.useEffect(()=>{const v=j=>{const A=j.target,O=A.tagName==="INPUT"||A.tagName==="TEXTAREA";if(O&&j.key==="Escape"){A.blur();return}if(j.ctrlKey||j.metaKey){switch(j.key.toLowerCase()){case"z":!O&&!Ug(A)&&(j.preventDefault(),j.shiftKey?p&&m():g&&h());break;case"y":!O&&!Ug(A)&&(j.preventDefault(),p&&m());break;case"b":O||(j.preventDefault(),c());break;case"e":O||(j.preventDefault(),f());break;case"p":O||(j.preventDefault(),o());break;case"0":O||(j.preventDefault(),Ae.getState().resetView());break;case"d":!O&&E&&E!=="start"&&(j.preventDefault(),b(E));break}return}if(!O){if(j.key==="Escape"){r?(n(),w()):i?o():E&&w();return}(j.key==="Delete"||j.key==="Backspace")&&E&&E!=="start"&&Ae.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${E}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{y(E),w(),n()}})}};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[n,r,i,o,c,f,S,E,w,h,m,g,p,y,b])}function Ug(n){return n.closest(".monaco-editor")!==null}function UE(){const n=L.useRef(null),r=vs(),i=nE(),{setIsExecuting:o,appendExecutionOutput:c,setExecutionResult:f,setExecutionError:h,clearExecution:m,setPendingPrompt:g,addRenderedContent:p,clearRenderedContent:y,addAlert:b,setProgress:S}=pi(),E=L.useCallback(j=>{const A=n.current,{pendingPrompt:O}=pi.getState();!A||!O||(A.send(JSON.stringify({type:`${O.type}_response`,value:j})),g(null))},[g]),w=L.useCallback(async(j,A,O)=>{if(n.current&&n.current.close(),m(),o(!0),i){try{const B=await i(j,A);B.output&&c(B.output),B.success?f(B.result):h(B.error||"Execution failed")}catch(B){h(B instanceof Error?B.message:"Execution failed")}finally{o(!1)}return}const V=r.getWebSocketUrl();if(!V){try{const B=await r.executeWorkflow(j,A,O);B.success?(B.output&&c(B.output),f(B.result)):h(B.error||"Execution failed")}catch(B){h(B instanceof Error?B.message:"Execution failed")}finally{o(!1)}return}const Y=new WebSocket(V);n.current=Y,Y.onopen=()=>{const B={type:"start",workflow:j,inputs:A,include_metrics:O};Y.send(JSON.stringify(B))},Y.onmessage=B=>{try{const U=JSON.parse(B.data);switch(U.type){case"output":c(U.line+`
`);break;case"complete":f(U.result),o(!1),Y.close();break;case"error":h(U.message),o(!1),Y.close();break;case"input_request":g({type:"input",prompt:U.prompt});break;case"select_request":g({type:"select",prompt:U.prompt,options:U.options});break;case"confirm_request":g({type:"confirm",prompt:U.message,message:U.message});break;case"button_request":g({type:"button",prompt:U.label,label:U.label});break;case"render_html":p({type:"html",content:U.html});break;case"render_markdown":p({type:"markdown",content:U.content});break;case"render_table":p({type:"table",content:U.data});break;case"render_image":p({type:"image",content:{src:U.src,alt:U.alt}});break;case"progress":S({value:U.value,max:U.max,label:U.label});break;case"alert":b({message:U.message,variant:U.variant});break;case"clear_content":y();break}}catch(U){console.error("Failed to parse WebSocket message:",U)}},Y.onerror=()=>{h("WebSocket connection failed"),o(!1)},Y.onclose=()=>{n.current=null}},[i,r,m,o,c,f,h,g,p,y,b,S]),v=L.useCallback(()=>{n.current&&(n.current.close(),n.current=null,o(!1),g(null))},[o,g]);return{execute:w,cancel:v,respondToPrompt:E}}function IE(){const{source:n,setTree:r,setParseError:i,setIsParsing:o}=lt(),c=vs(),f=L.useRef(null);L.useEffect(()=>(f.current&&clearTimeout(f.current),f.current=setTimeout(async()=>{o(!0);try{const h=await c.parseWorkflow(n);h.success&&h.tree?r(h.tree):i(h.error||"Parse failed")}catch(h){i(h instanceof Error?h.message:"Parse failed")}finally{o(!1)}},500),()=>{f.current&&clearTimeout(f.current)}),[n,r,i,o,c])}const ab={WIDTH:110,HEIGHT:70},qf={HORIZONTAL:60,VERTICAL:40,WORKFLOW:80},YE={control_flow:"Control Flow",data:"Data",io:"I/O",operator:"Operator",workflow_op:"Workflow",opcode:"Opcode"};function $E({svgRef:n,centerX:r,centerY:i}){const{zoom:o,panX:c,panY:f,setZoom:h,setPan:m,isDraggingWorkflow:g,isDraggingNode:p,draggingWire:y,setDraggingWire:b,updateDraggingWire:S,draggingOrphan:E,setDraggingOrphan:w,updateDraggingOrphanEnd:v,draggingVariable:j,setDraggingVariable:A,updateDraggingVariableEnd:O,slotPositions:V}=Ae(),{connectNodes:Y,connectBranch:B}=lt(),{selectNode:U,selectStartNode:$,selectConnection:q}=nl(),[K,le]=L.useState(!1),[ue,ie]=L.useState({x:0,y:0}),se=L.useCallback((R,ne)=>{if(!n.current)return{x:0,y:0};const J=n.current.getBoundingClientRect();return{x:(R-J.left-c-J.width/2)/o+r,y:(ne-J.top-f-J.height/2)/o+i}},[n,c,f,o,r,i]),Z=L.useCallback(R=>{if(R.ctrlKey||R.metaKey){R.preventDefault();const ne=R.deltaY>0?-.1:.1;h(o+ne)}},[o,h]),ae=L.useCallback(R=>{if(g||p)return;const ne=R.target;(ne===n.current||ne.classList.contains("background")||ne.tagName==="rect")&&(le(!0),ie({x:R.clientX-c,y:R.clientY-f}),U(null),$(null),q(null))},[c,f,U,$,q,g,p,n]),k=L.useCallback(R=>{if(y){const{x:ne,y:J}=se(R.clientX,R.clientY),C=DE(ne,J,y.sourceNodeId,y.sourcePort,V);S({dragX:ne,dragY:J,nearbyPort:C});return}if(E){const{x:ne,y:J}=se(R.clientX,R.clientY);v(ne,J);return}if(j){const{x:ne,y:J}=se(R.clientX,R.clientY);O(ne,J);return}g||p||K&&m(R.clientX-ue.x,R.clientY-ue.y)},[K,ue,m,g,p,y,S,E,v,j,O,se,V]),D=L.useCallback(()=>{if(le(!1),y){if(y.nearbyPort){const R=kl(y.sourceNodeId),ne=kl(y.nearbyPort.nodeId),J=xs(y.sourceNodeId),C=xs(y.nearbyPort.nodeId);y.branchLabel?B(R,ne,y.branchLabel):y.sourcePort==="output"?Y(R,ne,J):Y(ne,R,C)}b(null)}E&&w(null),j&&A(null)},[y,b,E,w,j,A,Y,B]);return{handleWheel:Z,handleMouseDown:ae,handleMouseMove:k,handleMouseUp:D,isDragging:K}}function qE({nodeId:n,slotId:r,x:i,y:o}){const{draggingWire:c,setDraggingWire:f}=Ae(),{connectNodes:h}=lt(),m=L.useCallback(j=>{j.stopPropagation(),j.preventDefault();const A=i+OE,O=o+30;f({sourceNodeId:r,sourcePort:"output",sourceX:A,sourceY:O,dragX:A,dragY:O,nearbyPort:null})},[r,i,o,f]),g=L.useCallback((j,A,O,V)=>{j.stopPropagation(),j.preventDefault();const Y=i+O,B=o+V;f({sourceNodeId:r,sourcePort:"output",sourceX:Y,sourceY:B,dragX:Y,dragY:B,nearbyPort:null,branchLabel:A})},[r,i,o,f]),p=L.useCallback(j=>{j.stopPropagation(),j.preventDefault();const A=i,O=o+30;f({sourceNodeId:r,sourcePort:"input",sourceX:A,sourceY:O,dragX:A,dragY:O,nearbyPort:null})},[r,i,o,f]),y=L.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="input"&&c.sourceNodeId!==n&&(h(n,c.sourceNodeId),f(null))},[n,c,h,f]),b=L.useCallback(j=>{j.stopPropagation(),j.preventDefault(),c&&c.sourcePort==="output"&&c.sourceNodeId!==n&&(h(c.sourceNodeId,n),f(null))},[n,c,h,f]),S=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="input",E=c?.nearbyPort?.nodeId===r&&c?.nearbyPort?.port==="output",w=!!c&&c.sourcePort==="output"&&c.sourceNodeId!==r,v=!!c&&c.sourcePort==="input"&&c.sourceNodeId!==r;return{handleOutputPortMouseDown:m,handleInputPortMouseDown:p,handleOutputPortMouseUp:y,handleInputPortMouseUp:b,handleBranchPortMouseDown:g,isInputPortHighlighted:S,isOutputPortHighlighted:E,isValidDropTarget:w,isValidOutputDropTarget:v}}const gn=110,Rt=70,Ig=30,Yg={control_flow:"",data:"",io:"",operator:"",workflow_op:"",opcode:""};function XE(n,r,i,o,c,f,h,m=!1){let g="transparent",p=1.5,y="none",b=1;o&&(g="var(--color-accent-amber)",y="6 3",b=.9),c&&!r&&!m&&(g=n,p=1.5,b=1),i&&!r&&!m&&(g="#facc15",p=2,y="none"),m&&(g="#22d3ee",p=2.5,y="none",b=1),r&&(g="var(--color-accent-blue)",p=2,y="none",b=1),f==="success"?g="var(--color-accent-green)":f==="error"&&(g="var(--color-accent-red)");let S="drop-shadow(0 1px 3px rgba(0, 0, 0, 0.2))";return c&&!r&&!m&&(S="drop-shadow(0 2px 8px rgba(0, 0, 0, 0.25))"),m&&!r&&(S="drop-shadow(0 0 10px rgba(34, 211, 238, 0.5))"),r&&(S="drop-shadow(0 0 8px rgba(59, 130, 246, 0.3))"),{fill:"var(--color-surface-1)",stroke:g,strokeWidth:p,strokeDasharray:y,opacity:b,filter:S,transition:"all 0.15s ease",animation:f==="running"?"pulse 1.5s ease-in-out infinite":"none"}}function GE(n){return{fill:n,pointerEvents:"none"}}function WE(n,r){return{fill:r?n:`${n}20`,transition:"fill 0.15s ease"}}const ZE={fontSize:"14px",fill:"var(--color-text-primary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"},QE={fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",letterSpacing:"-0.01em"},KE={fontSize:"9px",fill:"var(--color-text-muted)",fontFamily:"'JetBrains Mono', monospace"};function $g(n,r,i){return{fill:r?"var(--color-accent-green)":"var(--color-surface-2)",stroke:r?"var(--color-accent-green)":n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1.5,r:r?6:5,transition:"all 0.12s ease",filter:r?"drop-shadow(0 0 6px var(--color-accent-green))":"none",cursor:i?"pointer":"crosshair"}}function rb(n,r){return{fill:r?"var(--color-accent-blue)":"var(--color-surface-3)",stroke:"var(--color-border-subtle)",strokeWidth:1,cursor:n?"pointer":"default",transition:"fill 0.15s ease",opacity:n?1:0,pointerEvents:n?"all":"none"}}const ib={fontSize:"8px",fontWeight:600,fill:"var(--color-text-secondary)",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function FE(n){const r={running:"var(--color-accent-amber)",success:"var(--color-accent-green)",error:"var(--color-accent-red)"};return{fill:r[n]||"transparent",filter:n!=="idle"?`drop-shadow(0 0 4px ${r[n]})`:"none",transition:"all 0.15s ease"}}const JE={cursor:"grab",pointerEvents:"all"},PE={fill:"var(--color-accent-amber)",transition:"filter 0.15s ease"},ej={fontSize:"9px",fill:"var(--color-surface-0)",fontWeight:600,pointerEvents:"none",textAnchor:"middle",dominantBaseline:"central"},tj={cursor:"grab",pointerEvents:"all",fill:"transparent"};function nj(n,r){return{fill:n?r:"transparent",stroke:r,strokeWidth:1.5,cursor:"crosshair",transition:"all 0.12s ease"}}const lj={fontSize:"8px",fontWeight:500,textAnchor:"middle",pointerEvents:"none",userSelect:"none",textTransform:"uppercase",letterSpacing:"0.3px"};function aj(n){return{fill:"var(--color-accent-primary)",transition:"all 0.15s ease",opacity:n?1:.9,transform:n?"scale(1.1)":"scale(1)",filter:n?"drop-shadow(0 2px 6px rgba(59, 130, 246, 0.4))":"none"}}const rj={fontSize:"14px",fontWeight:"bold",fill:"white",textAnchor:"middle",dominantBaseline:"central",pointerEvents:"none"};function ij(n,r){const i=r.filter(f=>f.children.length>0).map(f=>f.name),o=r.map(f=>f.name),c=GN(n,i);for(const f of o)c.find(h=>h.name===f)||c.push({name:f,connected:i.includes(f)});return c}function oj(n,r){const i=tb(n);return i&&i!==""?i:Yg[r]||Yg.opcode}function ob(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function Xf(n){let r=0;for(const i of Object.values(n))i.type==="reporter"&&i.opcode&&(r+=1,i.inputs&&(r+=Xf(i.inputs)));return r}const Dn=12,vi=8,or=16,sb=28;function sr(n,r,i,o){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const c=`${o}::${n.id||""}`,f=i[c]??!1;if(!f&&!r)return{width:gn,height:Rt};const h=[];let m=0;if(n.inputs)for(const[y,b]of Object.entries(n.inputs))b.type==="reporter"&&b.opcode?h.push({key:y,value:b}):m++;let g=gn,p=Rt;if(f||r){if(h.length>0){let y=0,b=0;for(const S of h){const E=sr(S.value,r,i,o);y+=or+E.height+vi,b=Math.max(b,E.width)}g=Math.max(g,b+Dn*2),p=Rt+y}m>0&&(p+=m*sb+vi),(h.length>0||m>0)&&(p+=Dn)}return{width:g,height:p}}function sj(n,r,i,o){let c=0;for(const{value:f}of n){const h=sr(f,r,i,o);c+=or+h.height+vi}return c}function cj(n,r,i,o){let c=gn;for(const{value:f}of n){const h=sr(f,r,i,o);c=Math.max(c,h.width)}return c}const uj=L.memo(function({node:r,x:i,y:o,isOrphan:c,zoom:f=1,onDrag:h,workflowName:m}){const{opcodes:g}=lt(),{openNodeEditor:p,nodeStatus:y,searchResults:b,draggingWire:S,draggingOrphan:E,setDraggingOrphan:w,draggingVariable:v,layoutMode:j,setIsDraggingNode:A,registerSlotPositions:O,unregisterSlotPositions:V,showContextMenu:Y,expandedReporters:B,showAddNodeMenu:U}=Ae(),{selectedNodeId:$,selectNode:q,selectedNodeIds:K,toggleNodeSelection:le,clearMultiSelection:ue,selectedReporter:ie,selectReporter:se}=nl(),[Z,ae]=L.useState(!1),[k,D]=L.useState(!1),[R,ne]=L.useState(!1),J=L.useRef(null);L.useEffect(()=>(Z||k?(J.current&&(clearTimeout(J.current),J.current=null),ne(!0)):J.current=setTimeout(()=>{ne(!1)},2e3),()=>{J.current&&clearTimeout(J.current)}),[Z,k]);const C=`${m}::${r.id}`,H=B[C]??!1,P=g.find(Se=>Se.name===r.opcode),re=Jy(r.type),xe=oj(r.opcode,r.type),ge=$===C&&!ie,de=K.includes(C),We=b.includes(r.id),oe=y[r.id]||"idle",Ne=ob(r.opcode),Le=L.useRef(!1),Me=[],$e=[];for(const[Se,st]of Object.entries(r.inputs))st.type==="reporter"&&st.opcode?Me.push({key:Se,value:st}):$e.push({key:Se,value:st});const Mt=Xf(r.inputs),Tt=!!(v||E&&E.nodeId!==C),wt=$e.map(Se=>Se.key).slice(0,4),_e=ij(r.opcode,r.children),Wt=_e.length>0?20:0,xn=Tt?wt.length*Ig:0,Bt=H||Tt,Bl=Bt&&Me.length>0?sj(Me,Tt,B,m):0,sa=Bt&&Me.length>0?cj(Me,Tt,B,m)+Dn*2:0,et=Math.max(gn,sa),Pe=Rt+xn+Bl+Wt,al=C,{handleOutputPortMouseDown:ca,handleInputPortMouseDown:ce,handleOutputPortMouseUp:ve,handleInputPortMouseUp:Ue,handleBranchPortMouseDown:Qe,isInputPortHighlighted:at,isOutputPortHighlighted:En,isValidDropTarget:yn,isValidOutputDropTarget:mt}=qE({nodeId:r.id,slotId:al,x:i,y:o}),an=Se=>{if(Se.stopPropagation(),Le.current){Le.current=!1;return}if(Se.ctrlKey||Se.metaKey){le(C),se(null);return}ue(),q(C),se(null),p()},St=Se=>{Se.preventDefault(),Se.stopPropagation(),K.includes(C)||(ue(),q(C)),Y({nodeId:C,x:Se.clientX,y:Se.clientY,hasReporters:Mt>0,reportersExpanded:H,isOrphan:c??!1})},fr=Se=>{if(!c)return;Se.stopPropagation(),Se.preventDefault();const st=i+et-14,Dt=o;w({nodeId:C,opcode:r.opcode,returnType:P?.return_type,fromX:st,fromY:Dt,toX:st,toY:Dt})},dr=Se=>{if(j!=="free"||!h)return;Se.stopPropagation(),Se.preventDefault(),A(!0);const st=Se.clientX,Dt=Se.clientY;let Nt=!1;const jn=ua=>{const hr=(ua.clientX-st)/f,fa=(ua.clientY-Dt)/f;(Math.abs(hr)>3||Math.abs(fa)>3)&&(Nt=!0,h(hr,fa))},bn=()=>{A(!1),Nt&&(Le.current=!0),window.removeEventListener("mousemove",jn),window.removeEventListener("mouseup",bn)};window.addEventListener("mousemove",jn),window.addEventListener("mouseup",bn)},Ns=Se=>{Se.stopPropagation(),U(Se.clientX,Se.clientY,r.id,m)};return L.useEffect(()=>{const Se={input:{x:i,y:o+Rt/2},output:{x:i+et,y:o+Rt/2},branches:{}};return _e.forEach((st,Dt)=>{const Nt=et/_e.length;Se.branches[st.name]={x:i+Nt*Dt+Nt/2,y:o+Pe}}),O(al,Se),()=>V(al)},[i,o,et,Pe,_e.length,al,O,V]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${i}, ${o})`,onClick:an,onContextMenu:St,onMouseEnter:()=>ae(!0),onMouseLeave:()=>ae(!1),children:[d.jsx("rect",{x:0,y:0,width:et+30,height:Pe,fill:"transparent",style:{pointerEvents:"all"}}),d.jsx("rect",{width:et,height:Pe,rx:8,style:XE(re,ge,We,c??!1,Z,oe,Tt,de)}),d.jsx("rect",{x:0,y:0,width:3,height:Pe,rx:1.5,style:GE(re)}),d.jsx("circle",{cx:gn/2,cy:22,r:14,style:WE(re,Z)}),d.jsx("text",{x:gn/2,y:22,style:ZE,children:xe}),d.jsx("text",{x:gn/2,y:46,textAnchor:"middle",style:QE,children:Ne.length>10?Ne.slice(0,10)+"":Ne}),(Z||ge)&&d.jsx("text",{x:gn/2,y:60,textAnchor:"middle",style:KE,children:r.id.length>12?r.id.slice(0,12)+"":r.id}),Tt&&wt.map((Se,st)=>d.jsx(lb,{nodeId:r.id,inputKey:Se,value:r.inputs[Se],paramInfo:P?.parameters.find(Dt=>Dt.name.toUpperCase()===Se),opcode:r.opcode,allInputs:r.inputs,x:Dn,y:Rt+st*Ig,width:et-Dn*2},Se)),Bt&&Me.length>0&&d.jsx(fj,{reporterInputs:Me,parentNodeId:r.id,baseY:Rt+xn,selectedReporter:ie,selectReporter:se,openNodeEditor:p,showInputSlots:Tt,opcodes:g,expandedReporters:B,showContextMenu:Y,workflowName:m}),Mt>0&&!Bt&&d.jsxs("g",{transform:`translate(${et-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:rb(!0,!1)}),d.jsx("text",{x:7,y:7,style:ib,children:Mt})]}),yn&&d.jsx("circle",{cx:0,cy:Rt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:Ue}),mt&&d.jsx("circle",{cx:et,cy:Rt/2,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:ve}),d.jsx("circle",{cx:0,cy:Rt/2,r:5,style:$g(Z,at,!!S),onMouseDown:ce,onMouseUp:Ue}),d.jsx("circle",{cx:et,cy:Rt/2,r:5,style:$g(Z,En,!!S),onMouseDown:ca,onMouseUp:ve}),R&&r.opcode!=="workflow_start"&&d.jsxs("g",{className:"add-node-button",onClick:Ns,onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),style:{cursor:"pointer"},children:[d.jsx("circle",{cx:et+16,cy:Rt/2,r:10,style:aj(k)}),d.jsx("text",{x:et+16,y:Rt/2,style:rj,children:"+"})]}),_e.length>0&&d.jsx("g",{children:_e.map((Se,st)=>{const Dt=et/_e.length,Nt=Dt*st+Dt/2,jn=Pe,bn=Fy(Se.name);return d.jsxs("g",{children:[d.jsx("text",{x:Nt,y:Pe-8,fill:bn,style:lj,children:Se.name}),d.jsx("circle",{cx:Nt,cy:jn,r:4,style:nj(Se.connected,bn),onMouseDown:ua=>Qe(ua,Se.name,Nt,jn)})]},Se.name)})}),oe!=="idle"&&d.jsx("circle",{cx:et-8,cy:12,r:4,style:FE(oe)}),c&&d.jsxs("g",{style:JE,onMouseDown:fr,children:[d.jsx("rect",{x:et-28,y:-8,width:28,height:16,rx:3,style:PE}),d.jsx("text",{x:et-14,y:0,style:ej,children:""}),d.jsx("title",{children:"Drag to slot as reporter"})]}),j==="free"&&h&&d.jsx("rect",{x:4,y:0,width:c?et-32:et-8,height:Rt,style:tj,onMouseDown:dr})]})});function cb({inputKey:n,value:r,parentNodeId:i,x:o,y:c,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:y,expandedReporters:b,showContextMenu:S,workflowName:E}){const w=Py(r.opcode||""),v=ob(r.opcode||""),j=tb(r.opcode||"")||"",A=[...y,n],O=p.find(R=>R.name===r.opcode),V=r.id||"",Y=`${E}::${V}`,B=b[Y]??!1,U=f&&f.parentNodeId===i&&f.inputPath.join(".")===A.join("."),$=[],q=[];if(r.inputs)for(const[R,ne]of Object.entries(r.inputs))ne.type==="reporter"&&ne.opcode?$.push({key:R,value:ne}):q.push({key:R,value:ne});const K=Xf(r.inputs||{}),le=B||g,ue=sr(r,g,b,E),ie=ue.width,se=ue.height,Z=[];let ae=Rt;if(le)for(const R of $){const ne=sr(R.value,g,b,E);Z.push({key:R.key,value:R.value,y:ae,height:ne.height}),ae+=or+ne.height+vi}const k=ae,D=R=>{R.preventDefault(),R.stopPropagation(),h({parentNodeId:i,inputPath:A,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),S({nodeId:V,x:R.clientX,y:R.clientY,hasReporters:K>0,reportersExpanded:B,isOrphan:!1})};return d.jsxs("g",{transform:`translate(${o}, ${c})`,children:[d.jsx("rect",{x:0,y:0,width:ie,height:se,rx:8,fill:"var(--color-surface-1)",stroke:U?"var(--color-accent-blue)":w,strokeWidth:U?2:1.5,style:{cursor:"pointer"},onClick:R=>{R.stopPropagation(),h({parentNodeId:i,inputPath:A,reporterNodeId:r.id,opcode:r.opcode||"",inputs:r.inputs||{}}),m()},onContextMenu:D}),d.jsx("rect",{x:0,y:0,width:4,height:se,rx:2,fill:w,style:{pointerEvents:"none"}}),d.jsx("circle",{cx:gn/2,cy:22,r:14,fill:`${w}30`,style:{pointerEvents:"none"}}),d.jsx("text",{x:gn/2,y:22,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"14px",fill:"var(--color-text-primary)",pointerEvents:"none"},children:j}),d.jsx("text",{x:gn/2,y:46,textAnchor:"middle",style:{fontSize:"11px",fontWeight:600,fill:"var(--color-text-primary)",pointerEvents:"none"},children:v.length>10?v.slice(0,10)+"":v}),K>0&&!le&&d.jsxs("g",{transform:`translate(${gn-18}, 4)`,children:[d.jsx("rect",{x:0,y:0,width:14,height:14,rx:7,style:rb(!0,!1)}),d.jsx("text",{x:7,y:7,style:ib,children:K})]}),le&&Z.map(R=>d.jsxs("g",{children:[d.jsx("text",{x:Dn,y:R.y+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:R.key}),d.jsx(cb,{inputKey:R.key,value:R.value,parentNodeId:i,x:Dn,y:R.y+or,selectedReporter:f,selectReporter:h,openNodeEditor:m,showInputSlots:g,opcodes:p,inputPath:A,expandedReporters:b,showContextMenu:S,workflowName:E})]},R.key)),le&&q.map((R,ne)=>d.jsxs("g",{transform:`translate(${Dn}, ${k+ne*sb})`,children:[d.jsx("text",{x:0,y:10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:R.key}),d.jsx(lb,{nodeId:r.id||i,inputKey:R.key,value:R.value,paramInfo:O?.parameters.find(J=>J.name.toUpperCase()===R.key),opcode:r.opcode||"",allInputs:r.inputs||{},x:0,y:12,width:ie-Dn*2})]},R.key))]})}function fj({reporterInputs:n,parentNodeId:r,baseY:i,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,expandedReporters:g,showContextMenu:p,workflowName:y}){const b=[];let S=0;for(const{key:E,value:w}of n){b.push({key:E,value:w,y:S});const v=sr(w,h,g,y);S+=or+v.height+vi}return d.jsx("g",{transform:`translate(${Dn}, ${i})`,children:b.map(({key:E,value:w,y:v})=>d.jsxs("g",{children:[d.jsx("text",{x:0,y:v+10,style:{fontSize:"10px",fontWeight:500,fill:"var(--color-text-muted)"},children:E}),d.jsx(cb,{inputKey:E,value:w,parentNodeId:r,x:0,y:v+or,selectedReporter:o,selectReporter:c,openNodeEditor:f,showInputSlots:h,opcodes:m,inputPath:[],expandedReporters:g,showContextMenu:p,workflowName:y})]},E))})}const el=160,ub=80,hi="#22c55e",fb="#4ade80";function dj(n,r){return{fill:"var(--color-surface-1)",stroke:n?"var(--color-accent-blue)":hi,strokeWidth:n||r?2.5:2,transition:"stroke 0.15s ease, stroke-width 0.15s ease, filter 0.15s ease",filter:n?"drop-shadow(0 0 8px rgba(34, 211, 238, 0.4))":r?"drop-shadow(0 4px 8px rgba(34, 197, 94, 0.3))":"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))"}}const hj={fill:hi,pointerEvents:"none"},mj={fontSize:"14px"},pj={fontSize:"13px",fontWeight:700,fill:"var(--color-text-primary)"},gj={fontSize:"9px",fill:"var(--color-text-secondary)",fontFamily:"'JetBrains Mono', monospace"},xj={fontSize:"10px",fontFamily:"'JetBrains Mono', monospace",fill:fb},yj={fontSize:"9px",fill:"var(--color-text-muted)",fontStyle:"italic"};function bj(n,r=!1){return{fill:n?hi:"var(--color-surface-2)",stroke:n?fb:hi,strokeWidth:2,transition:"all 0.15s ease",filter:n?`drop-shadow(0 0 4px ${hi})`:"none",cursor:r?"pointer":"crosshair",pointerEvents:"all"}}const vj={cursor:"grab",pointerEvents:"all"},wj=L.memo(function({workflowName:r,workflowInterface:i,variables:o,x:c,y:f,zoom:h=1,onDrag:m}){const{openNodeEditor:g,layoutMode:p,setIsDraggingNode:y,registerSlotPositions:b,unregisterSlotPositions:S,draggingWire:E,setDraggingWire:w}=Ae(),{selectedStartNode:v,selectStartNode:j,selectNode:A}=nl(),{connectNodes:O}=lt(),[V,Y]=L.useState(!1),B=`start-${r}`,U=v===r,$=L.useRef(!1),q=H=>{if(H.stopPropagation(),$.current){$.current=!1;return}A(null),j(r),g()},K=H=>{if(p!=="free"||!m)return;H.stopPropagation(),H.preventDefault(),y(!0);const P=H.clientX,re=H.clientY;let xe=!1;const ge=We=>{const oe=(We.clientX-P)/h,Ne=(We.clientY-re)/h;(Math.abs(oe)>3||Math.abs(Ne)>3)&&(xe=!0,m(oe,Ne))},de=()=>{y(!1),xe&&($.current=!0),window.removeEventListener("mousemove",ge),window.removeEventListener("mouseup",de)};window.addEventListener("mousemove",ge),window.addEventListener("mouseup",de)},le=L.useCallback(H=>{H.stopPropagation(),H.preventDefault();const P=c+el,re=f+30;w({sourceNodeId:B,sourcePort:"output",sourceX:P,sourceY:re,dragX:P,dragY:re,nearbyPort:null})},[c,f,B,w]),ue=L.useCallback(H=>{H.stopPropagation(),H.preventDefault(),E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-")&&(O("start",E.sourceNodeId,r),w(null))},[E,r,O,w]),ie=E?.nearbyPort?.nodeId===B&&E?.nearbyPort?.port==="output",se=!!E&&E.sourcePort==="input"&&!E.sourceNodeId.startsWith("start-"),Z=Object.entries(o).slice(0,3),ae=Object.keys(o).length>3,k=i.inputs||[],D=i.outputs||[],R=50,ne=k.length>0||D.length>0?18:0,J=Z.length*14+(ae?12:0),C=Math.max(ub,R+ne+J+10);return L.useEffect(()=>{const H={input:{x:c,y:f+30},output:{x:c+el,y:f+30},branches:{}};return b(B,H),()=>S(B)},[c,f,B,b,S]),d.jsxs("g",{style:{cursor:"pointer"},transform:`translate(${c}, ${f})`,onClick:q,onMouseEnter:()=>Y(!0),onMouseLeave:()=>Y(!1),children:[d.jsx("rect",{width:el,height:C,rx:8,style:dj(U,V)}),d.jsx("rect",{width:4,height:C,rx:2,style:hj}),d.jsx("text",{x:16,y:24,style:mj,children:""}),d.jsx("text",{x:38,y:24,style:pj,children:r}),(k.length>0||D.length>0)&&d.jsx("g",{transform:"translate(12, 38)",children:d.jsxs("text",{x:0,y:0,style:gj,children:[k.length>0&&`In: ${k.join(", ")}`,k.length>0&&D.length>0&&" | ",D.length>0&&`Out: ${D.join(", ")}`]})}),Z.length>0&&d.jsxs("g",{transform:`translate(12, ${R+ne-4})`,children:[Z.map(([H,P],re)=>d.jsxs("text",{x:0,y:re*14+10,style:xj,children:["$",H," = ",Sj(P)]},H)),ae&&d.jsxs("text",{x:0,y:Z.length*14+10,style:yj,children:["+",Object.keys(o).length-3," more..."]})]}),se&&d.jsx("circle",{cx:el,cy:30,r:16,fill:"transparent",style:{cursor:"pointer"},onMouseUp:ue}),d.jsx("circle",{cx:el,cy:30,r:6,style:bj(V||ie,!!E),onMouseDown:le,onMouseUp:ue}),p==="free"&&m&&d.jsx("rect",{x:4,y:0,width:el-8,height:40,fill:"transparent",style:vj,onMouseDown:K})]})});function Sj(n){return n===null?"null":n===void 0?"undefined":typeof n=="string"?n.length>12?`"${n.slice(0,12)}..."`:`"${n}"`:typeof n=="object"?JSON.stringify(n).slice(0,15)+"...":String(n)}function Nj(n,r,i,o){const c=i-n,f=Math.abs(o-r),h=Math.abs(c);if(f>h*.5&&o>r){const g=Math.min(f/2,60);return`M ${n} ${r} C ${n} ${r+g}, ${i} ${o-g}, ${i} ${o}`}else if(c>=0){const g=Math.min(h/2,80);return`M ${n} ${r} C ${n+g} ${r}, ${i-g} ${o}, ${i} ${o}`}else{const g=Math.max(50,h/2),p=Math.max(40,f/2+20);return`M ${n} ${r} C ${n+g} ${r}, ${n+g} ${r+p}, ${(n+i)/2} ${r+p} S ${i-g} ${o}, ${i} ${o}`}}const Ej={fill:"none",stroke:"transparent",strokeWidth:16,strokeLinecap:"round",pointerEvents:"stroke"};function jj(n,r){return{fill:"none",stroke:r?"#22d3ee":n,strokeWidth:6,strokeLinecap:"round",opacity:r?.3:.2,pointerEvents:"none"}}function Cj(n,r,i){return{fill:"none",stroke:r?"#22D3EE":n,strokeWidth:r?3:i?1.5:2,strokeLinecap:"round",strokeDasharray:i?"6 4":"none",pointerEvents:"none",transition:"stroke-width 0.15s ease, stroke 0.15s ease",filter:r?"drop-shadow(0 0 6px rgba(34, 211, 238, 0.5))":"none"}}const Aj={opacity:.6,pointerEvents:"none"},_j={fontSize:"10px",fill:"var(--color-text-muted)",textAnchor:"middle",fontWeight:500,pointerEvents:"none"},Oj={cursor:"pointer",pointerEvents:"all"};function Mj(){return{fill:"var(--color-accent-red)",stroke:"var(--color-surface-0)",strokeWidth:2,transition:"transform 0.15s ease, filter 0.15s ease"}}const Tj={fontSize:"16px",fontWeight:"bold",fill:"white",pointerEvents:"none"},db=L.memo(function({fromNodeId:r,toNodeId:i,fromPort:o="output",toPort:c="input",x1:f,y1:h,x2:m,y2:g,color:p="#475569",label:y,isDotted:b,isSelected:S,onSelect:E,onDelete:w}){const v=Ae(K=>K.slotPositions);let j,A,O,V;if(f!==void 0&&h!==void 0&&m!==void 0&&g!==void 0)j=f,A=h,O=m,V=g;else{const K=v[r],le=v[i];if(!K||!le)return null;const ue=o==="output"?K.output:o==="input"?K.input:K.branches[o],ie=c==="input"?le.input:le.output;if(!ue||!ie)return null;j=ue.x,A=ue.y,O=ie.x,V=ie.y}if(!Number.isFinite(j)||!Number.isFinite(A)||!Number.isFinite(O)||!Number.isFinite(V)||j===0&&A===0&&O===0&&V===0||j===O&&A===V)return null;const Y=Nj(j,A,O,V),B=(j+O)/2,U=(A+V)/2,$=K=>{K.stopPropagation(),E?.()},q=K=>{K.stopPropagation(),w?.()};return d.jsxs("g",{style:{cursor:"pointer"},children:[d.jsx("path",{style:Ej,d:Y,onClick:$}),d.jsx("path",{style:jj(p,S??!1),d:Y}),d.jsx("path",{style:Cj(p,S??!1,b??!1),d:Y}),!b&&!S&&d.jsx("circle",{style:Aj,r:3,fill:p,children:d.jsx("animateMotion",{dur:"2s",repeatCount:"indefinite",path:Y})}),y&&d.jsx("text",{style:_j,x:B,y:(A+V)/2-8,children:y}),S&&w&&d.jsxs("g",{style:Oj,transform:`translate(${B}, ${U})`,onClick:q,children:[d.jsx("circle",{cx:0,cy:0,r:12,style:Mj()}),d.jsx("text",{x:0,y:4,textAnchor:"middle",style:Tj,children:""})]})]})});function Dj(){const{draggingWire:n,slotPositions:r}=Ae();if(!n)return null;const i=n.branchLabel||n.sourcePort,o=TE(n.sourceNodeId,i,r),c=o?.x??n.sourceX,f=o?.y??n.sourceY,h=n.nearbyPort?.x??n.dragX,m=n.nearbyPort?.y??n.dragY,g=n.sourcePort==="input",p=g?h:c,y=g?m:f,b=g?c:h,S=g?f:m;if(!Number.isFinite(p)||!Number.isFinite(y)||!Number.isFinite(b)||!Number.isFinite(S))return null;const E=n.nearbyPort?"#22C55E":"#22D3EE";return d.jsx(db,{fromNodeId:n.sourceNodeId,toNodeId:"",x1:p,y1:y,x2:b,y2:S,color:E,isDotted:!n.nearbyPort})}const kj={pointerEvents:"none"},Rj={fill:"#FACC15"},zj={filter:"drop-shadow(0 2px 4px rgba(250, 204, 21, 0.3))"},Lj={fill:"rgba(250, 204, 21, 0.2)",stroke:"#FACC15",strokeWidth:1.5,strokeDasharray:"4 2"},Vj={fontSize:"9px",fontWeight:600,fill:"#facc15"},Bj={fill:"rgba(250, 204, 21, 0.3)",stroke:"#FACC15",strokeWidth:2},Hj={pointerEvents:"none"},Uj={fill:"rgba(34, 197, 94, 0.25)",stroke:"#22C55E",strokeWidth:2},Ij={fill:"#4ADE80",fontSize:"12px",fontWeight:600,fontFamily:"'JetBrains Mono', monospace"},Yj={fill:"#22C55E"};function $j(){const{draggingOrphan:n}=Ae();if(!n)return null;const{fromX:r,fromY:i,toX:o,toY:c,opcode:f}=n;if(!Number.isFinite(r)||!Number.isFinite(i)||!Number.isFinite(o)||!Number.isFinite(c))return null;const h=o-r,m=c-i,g=Math.sqrt(h*h+m*m),p=f.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("g",{style:kj,children:[d.jsx("path",{d:`M ${r} ${i} L ${o} ${c}`,fill:"none",stroke:"#FACC15",strokeWidth:2,strokeDasharray:"8 4",style:{animation:"dash-flow 0.5s linear infinite"}}),d.jsx("circle",{cx:r,cy:i,r:4,style:Rj}),g>30&&d.jsxs("g",{transform:`translate(${o-40}, ${c-15})`,style:zj,children:[d.jsx("rect",{width:80,height:30,rx:6,style:Lj}),d.jsx("text",{x:40,y:18,textAnchor:"middle",style:Vj,children:p.length>10?p.slice(0,10)+"...":p})]}),d.jsx("circle",{cx:o,cy:c,r:6,style:Bj})]})}function qj(){const{draggingVariable:n}=Ae();if(!n)return null;const{toX:r,toY:i,name:o}=n;return d.jsxs("g",{style:Hj,children:[d.jsxs("g",{transform:`translate(${r-40}, ${i-14})`,children:[d.jsx("rect",{width:80,height:28,rx:14,style:Uj}),d.jsxs("text",{x:40,y:18,textAnchor:"middle",style:Ij,children:["$",o.length>8?o.slice(0,8)+"..":o]})]}),d.jsx("circle",{cx:r,cy:i,r:4,style:Yj})]})}const qo=160,Xo=120,si=180,Zu=80,Qu=60,qg=40,Xj=80,Gj=_("absolute bottom-4 left-6 rounded-sm border border-border-subtle overflow-hidden z-10 shadow-md cursor-pointer transition-colors hover:border-border-strong"),Wj={pointerEvents:"none"};function Xg(n){switch(n){case"control_flow":return"#FF9500";case"data":return"#4CAF50";case"io":return"#22D3EE";case"operator":return"#9C27B0";case"workflow_op":return"#E91E63";default:return"#64748B"}}function Zj({workflows:n,bounds:r,zoom:i,panX:o,panY:c,canvasWidth:f,canvasHeight:h,onNavigate:m}){const g=r.maxX-r.minX,p=r.maxY-r.minY,y=Math.min((qo-10)/Math.max(g,100),(Xo-10)/Math.max(p,100)),b=L.useMemo(()=>{const w=(r.maxX+r.minX)/2,v=(r.maxY+r.minY)/2,j=f/i,A=h/i,O=w-o/i,V=v-c/i,Y=(O-r.minX-j/2)*y+5,B=(V-r.minY-A/2)*y+5,U=j*y,$=A*y;return{x:Y,y:B,width:U,height:$}},[r,i,o,c,f,h,y]),S=L.useCallback(w=>{const j=w.currentTarget.getBoundingClientRect(),A=w.clientX-j.left,O=w.clientY-j.top,V=(A-5)/y+r.minX,Y=(O-5)/y+r.minY,B=(r.maxX+r.minX)/2,U=(r.maxY+r.minY)/2,$=(B-V)*i,q=(U-Y)*i;m($,q)},[r,y,i,m]),E=L.useMemo(()=>{if(!n||n.length===0)return[];const w=[];let v=0;for(const j of n){let A=function(Y,B,U){const $=Zu+Math.min(Object.keys(Y.inputs).length,2)*18;w.push({x:(B-r.minX)*y+5,y:(U-r.minY)*y+5,width:si*y,height:$*y,color:Xg(Y.type)}),V=Math.max(V,U+$);let q=B+si+Qu,K=U+$+qg;for(const le of Y.children){let ue=B+si+Qu;for(const ie of le.children){const se=Zu+Math.min(Object.keys(ie.inputs).length,2)*18;w.push({x:(ue-r.minX)*y+5,y:(K-r.minY)*y+5,width:si*y,height:se*y,color:Xg(ie.type)}),V=Math.max(V,K+se),ue+=si+Qu,q=Math.max(q,ue)}K+=Zu+qg*2}return q},O=0,V=v;for(const Y of j.children)O=A(Y,O,v);v=V+Xj}return w},[n,r,y]);return!n||n.length===0||E.length===0?null:d.jsx("div",{className:T(Gj()),"aria-label":"Canvas minimap navigation",children:d.jsxs("svg",{width:qo,height:Xo,onClick:S,style:{display:"block",cursor:"pointer"},role:"img","aria-label":"Minimap showing workflow overview. Click to navigate.",children:[d.jsx("rect",{x:0,y:0,width:qo,height:Xo,fill:"var(--color-surface-2)",rx:4}),E.map((w,v)=>d.jsx("rect",{x:w.x,y:w.y,width:Math.max(w.width,2),height:Math.max(w.height,2),fill:w.color,opacity:.7,rx:1},v)),d.jsx("rect",{x:Math.max(0,b.x),y:Math.max(0,b.y),width:Math.min(b.width,qo),height:Math.min(b.height,Xo),fill:"rgba(59, 130, 246, 0.15)",stroke:"var(--color-accent-blue)",strokeWidth:1.5,rx:2,style:Wj})]})})}const Qj=_("absolute top-4 left-6 w-9 h-9 flex items-center justify-center bg-surface-1 border border-border-subtle rounded-sm text-text-secondary cursor-pointer z-10 shadow-md transition-colors hover:bg-surface-2 hover:border-border-strong hover:text-text-primary"),Kj=_("absolute top-4 left-6 flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm z-10 shadow-md text-text-secondary focus-within:border-accent-blue"),Fj=_("bg-transparent border-none outline-none text-text-primary text-sm w-[180px] placeholder:text-text-muted"),Jj=_("text-xs text-text-muted whitespace-nowrap min-w-[60px] text-center"),Pj=_("flex gap-0.5"),Gg=_("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm transition-colors hover:bg-surface-2 hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent"),eC=_("w-6 h-6 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm ml-1 transition-colors hover:bg-surface-2 hover:text-text-primary");function tC(){const{tree:n}=lt(),{searchQuery:r,setSearchQuery:i,searchResults:o,setSearchResults:c}=Ae(),{selectNode:f}=nl(),[h,m]=L.useState(!1),[g,p]=L.useState(0),y=L.useRef(null);L.useEffect(()=>{if(!n||!r.trim()){c([]),p(0);return}const A=r.toLowerCase(),O=[];for(const V of n.workflows){const Y=B=>{for(const U of B){const $=U.id.toLowerCase().includes(A),q=U.opcode?.toLowerCase().includes(A),K=U.type.toLowerCase().includes(A);($||q||K)&&O.push(U.id);for(const le of U.children)Y(le.children)}};Y(V.children)}c(O),p(0)},[r,n,c]),L.useEffect(()=>{const A=O=>{(O.ctrlKey||O.metaKey)&&O.key.toLowerCase()==="f"&&(O.target.closest(".monaco-editor")||(O.preventDefault(),m(!0),setTimeout(()=>y.current?.focus(),50))),O.key==="Escape"&&h&&b()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[h]);const b=L.useCallback(()=>{m(!1),i(""),c([]),p(0)},[i,c]),S=L.useCallback(A=>{i(A.target.value)},[i]),E=L.useCallback(A=>{if(o.length>0){const O=o[A];f(O),p(A)}},[o,f]),w=L.useCallback(()=>{if(o.length>0){const A=g>0?g-1:o.length-1;E(A)}},[g,o.length,E]),v=L.useCallback(()=>{if(o.length>0){const A=g<o.length-1?g+1:0;E(A)}},[g,o.length,E]),j=L.useCallback(A=>{A.key==="Enter"&&(A.shiftKey?w():v())},[w,v]);return h?d.jsxs("div",{className:T(Kj()),role:"search","aria-label":"Search nodes",children:[d.jsx(Wg,{}),d.jsx("input",{ref:y,type:"text",value:r,onChange:S,onKeyDown:j,placeholder:"Search nodes...",className:T(Fj()),autoFocus:!0,"aria-label":"Search query","aria-describedby":r?"search-result-count":void 0}),r&&d.jsx("span",{id:"search-result-count",className:T(Jj()),"aria-live":"polite",children:o.length>0?`${g+1}/${o.length}`:"No results"}),d.jsxs("div",{className:T(Pj()),role:"group","aria-label":"Navigate results",children:[d.jsx("button",{onClick:w,disabled:o.length===0,"aria-label":"Previous result (Shift+Enter)",className:T(Gg()),children:d.jsx(nC,{})}),d.jsx("button",{onClick:v,disabled:o.length===0,"aria-label":"Next result (Enter)",className:T(Gg()),children:d.jsx(lC,{})})]}),d.jsx("button",{onClick:b,className:T(eC()),"aria-label":"Close search (Escape)",children:d.jsx(aC,{})})]}):d.jsx("button",{className:T(Qj()),onClick:()=>{m(!0),setTimeout(()=>y.current?.focus(),50)},"aria-label":"Search nodes (Ctrl+F)",children:d.jsx(Wg,{})})}function Wg(){return d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("path",{d:"M21 21l-4.35-4.35"})]})}function nC(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 15l-6-6-6 6"})})}function lC(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M6 9l6 6 6-6"})})}function aC(){return d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}const tn=24,la=28;function rC(n,r,i,o){return{padding:tn,labelHeight:la,rect:{x:n-tn,y:r-tn-la,width:i+tn*2,height:o+tn*2+la},header:{x:n-tn,y:r-tn-la,width:i+tn*2,height:la+tn},label:{x:n-tn+12,y:r-tn-la+8},dragIcon:{x:n+i+tn-24,y:r-tn-la+10}}}function iC(n){return{fill:"transparent",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:2,strokeDasharray:"8 4",opacity:n?.4:.6}}function oC(n){return{fill:n?"rgba(59, 130, 246, 0.1)":"var(--color-surface-2)",stroke:n?"var(--color-accent-blue)":"var(--color-border-default)",strokeWidth:1}}function sC(n){return{fontSize:"11px",fontWeight:600,fill:n?"var(--color-accent-blue)":"var(--color-text-secondary)",fontFamily:"'Inter', sans-serif"}}const cC={cursor:"grab",pointerEvents:"all"},uC={pointerEvents:"none",color:"var(--color-text-muted)"};function fC({name:n,x:r,y:i,width:o,height:c,isMain:f,zoom:h,onDrag:m}){const g=L.useRef(!1),p=L.useRef({x:0,y:0}),y=Ae(v=>v.setIsDraggingWorkflow),b=rC(r,i,o,c),S=L.useCallback(v=>{if(!m)return;v.stopPropagation(),v.preventDefault(),g.current=!0,p.current={x:v.clientX,y:v.clientY},y(!0);const j=O=>{if(!g.current)return;O.preventDefault();const V=(O.clientX-p.current.x)/h,Y=(O.clientY-p.current.y)/h;p.current={x:O.clientX,y:O.clientY},m(V,Y)},A=()=>{g.current=!1,y(!1),window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",A)};window.addEventListener("mousemove",j),window.addEventListener("mouseup",A)},[m,h,y]),E=f&&n!=="main"?`${n} (main)`:n,w=E.length*7+24;return d.jsxs("g",{style:{pointerEvents:"none"},"data-workflow-group":n,children:[d.jsx("rect",{x:b.rect.x,y:b.rect.y,width:b.rect.width,height:b.rect.height,rx:12,style:iC(f??!1)}),d.jsx("rect",{x:b.header.x,y:b.header.y,width:b.header.width,height:b.header.height,fill:"transparent",style:cC,onMouseDown:S}),d.jsxs("g",{transform:`translate(${b.label.x}, ${b.label.y})`,children:[d.jsx("rect",{x:0,y:0,width:w,height:20,rx:4,style:oC(f??!1)}),d.jsx("text",{x:12,y:14,style:sC(f??!1),children:E})]}),d.jsxs("g",{transform:`translate(${b.dragIcon.x}, ${b.dragIcon.y})`,style:uC,children:[d.jsx("rect",{x:0,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:0,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:0,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4}),d.jsx("rect",{x:6,y:6,width:4,height:4,rx:1,fill:"currentColor",opacity:.4})]})]})}const hb=_("min-w-[160px] py-1 bg-surface-1 border border-border-subtle rounded-md shadow-lg animate-scale-in"),aa=_("w-full flex items-center gap-2 px-3 py-1.5 text-left text-sm text-text-primary bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2",{variants:{variant:{default:"",danger:"text-accent-red hover:bg-accent-red/10"}},defaultVariants:{variant:"default"}}),ls=_("h-px my-1 mx-2 bg-border-subtle"),ra=_("w-4 text-center text-xs text-text-muted"),ia=_("flex-1"),Zg=_("text-xs text-text-muted");function dC({x:n,y:r,nodeId:i,hasReporters:o,reportersExpanded:c,isOrphan:f,onExpandReporters:h,onCollapseReporters:m,onDelete:g,onDuplicate:p,onClose:y,selectedNodeIds:b,onExtractToWorkflow:S}){const E=L.useRef(null);L.useEffect(()=>{const j=O=>{E.current&&!E.current.contains(O.target)&&y()},A=O=>{O.key==="Escape"&&y()};return document.addEventListener("mousedown",j),document.addEventListener("keydown",A),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",A)}},[y]);const w=Math.min(n,window.innerWidth-180),v=Math.min(r,window.innerHeight-200);return d.jsxs("div",{ref:E,className:T(hb()),style:{position:"fixed",left:w,top:v,zIndex:1e3},role:"menu","aria-label":"Node actions",children:[o&&d.jsxs(d.Fragment,{children:[c?d.jsxs("button",{className:T(aa()),onClick:()=>{m(),y()},role:"menuitem",children:[d.jsx("span",{className:T(ra()),children:""}),d.jsx("span",{className:T(ia()),children:"Collapse Reporters"})]}):d.jsxs("button",{className:T(aa()),onClick:()=>{h(),y()},role:"menuitem",children:[d.jsx("span",{className:T(ra()),children:""}),d.jsx("span",{className:T(ia()),children:"Expand Reporters"})]}),d.jsx("div",{className:T(ls()),role:"separator"})]}),d.jsxs("button",{className:T(aa()),onClick:()=>{p(),y()},role:"menuitem",children:[d.jsx("span",{className:T(ra()),children:""}),d.jsx("span",{className:T(ia()),children:"Duplicate"}),d.jsx("span",{className:T(Zg()),children:"Ctrl+D"})]}),d.jsx("div",{className:T(ls()),role:"separator"}),d.jsxs("button",{className:T(aa({variant:"danger"})),onClick:()=>{g(),y()},role:"menuitem",children:[d.jsx("span",{className:T(ra()),children:""}),d.jsx("span",{className:T(ia()),children:"Delete"}),d.jsx("span",{className:T(Zg()),children:"Del"})]}),b&&b.length>=2&&S&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:T(ls()),role:"separator"}),d.jsxs("button",{className:T(aa()),onClick:()=>{S(),y()},role:"menuitem",children:[d.jsx("span",{className:T(ra()),children:""}),d.jsx("span",{className:T(ia()),children:"Extract to Workflow"})]})]})]})}function hC({x:n,y:r,workflowName:i,onCreateWorkflow:o,onDeleteWorkflow:c,onClose:f}){const h=L.useRef(null);L.useEffect(()=>{const y=S=>{h.current&&!h.current.contains(S.target)&&f()},b=S=>{S.key==="Escape"&&f()};return document.addEventListener("mousedown",y),document.addEventListener("keydown",b),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",b)}},[f]);const m=Math.min(n,window.innerWidth-220),g=Math.min(r,window.innerHeight-120),p=i&&i!=="main";return d.jsxs("div",{ref:h,className:T(hb()),style:{position:"fixed",left:m,top:g,zIndex:1e3},role:"menu","aria-label":"Canvas actions",children:[d.jsxs("button",{className:T(aa()),onClick:()=>{o(),f()},role:"menuitem",children:[d.jsx("span",{className:T(ra()),children:"+"}),d.jsx("span",{className:T(ia()),children:"Create New Workflow"})]}),p&&c&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:T(ls()),role:"separator"}),d.jsxs("button",{className:T(aa({variant:"danger"})),onClick:()=>{c(i),f()},role:"menuitem",children:[d.jsx("span",{className:T(ra()),children:""}),d.jsxs("span",{className:T(ia()),children:['Delete "',i,'"']})]})]})]})}const mC=_("w-[320px] max-h-[480px] bg-surface-1 border border-border-subtle rounded-md shadow-lg flex flex-col animate-scale-in"),pC=_("p-2 border-b border-border-subtle"),gC=_("w-full px-3 py-1.5 text-sm bg-surface-2 border border-border-subtle rounded text-text-primary placeholder:text-text-muted focus:outline-none focus:border-accent-blue"),xC=_("flex-1 overflow-y-auto overflow-x-hidden"),yC=_("px-4 py-8 text-sm text-text-muted text-center"),Qg=_("border-b border-border-subtle last:border-b-0"),Kg=_("w-full flex items-center gap-2 px-3 py-2 text-left bg-surface-1 border-none cursor-pointer transition-colors hover:bg-surface-2 sticky top-0 z-10"),Ku=_("w-5 h-5 flex items-center justify-center text-xs font-bold rounded transition-colors text-[var(--cat-color)] bg-[var(--cat-color)]/10"),Fg=_("flex-1 text-sm font-medium text-text-primary"),Jg=_("text-xs text-text-muted"),Pg=_("w-4 text-xs text-text-muted transition-transform"),ex=_("bg-surface-0"),tx=_("w-full flex flex-col items-start gap-1 px-4 py-2 text-left bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2 border-b border-border-subtle last:border-b-0"),Fu=_("text-sm font-medium text-text-primary"),Ju=_("text-xs font-mono text-text-muted"),Pu=_("text-xs text-text-secondary line-clamp-2"),bC=_("w-full flex flex-col items-start gap-1 px-4 py-2.5 text-left bg-transparent border-none cursor-pointer transition-colors hover:bg-surface-2 border-b border-border-subtle last:border-b-0"),vC=_("font-semibold text-accent-blue");function wC({x:n,y:r,opcodes:i,onSelect:o,onClose:c}){const f=L.useRef(null),h=L.useRef(null),[m,g]=L.useState(""),[p,y]=L.useState(null),b=eb();L.useEffect(()=>{h.current?.focus()},[]),L.useEffect(()=>{const V=B=>{f.current&&!f.current.contains(B.target)&&c()},Y=B=>{B.key==="Escape"&&c()};return document.addEventListener("mousedown",V),document.addEventListener("keydown",Y),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("keydown",Y)}},[c]);const S=L.useMemo(()=>{const V={};for(const Y of b)V[Y.id]=[];V.other=[];for(const Y of i){let B=!1;for(const U of b)if(Y.name.startsWith(U.prefix)){V[U.id].push(Y),B=!0;break}B||V.other.push(Y)}return V},[i,b]),E=L.useMemo(()=>{if(!m)return null;const V=m.toLowerCase();return i.filter(Y=>Y.name.toLowerCase().includes(V)||(Y.description?.toLowerCase().includes(V)??!1))},[i,m]),w=Math.min(n,window.innerWidth-340),v=Math.min(r,window.innerHeight-500),j=V=>{o(V),c()},A=V=>V.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)).join(" "),O=(V,Y)=>{if(!Y)return d.jsx(d.Fragment,{children:V});const B=V.toLowerCase(),U=Y.toLowerCase(),$=B.indexOf(U);return $===-1?d.jsx(d.Fragment,{children:V}):d.jsxs(d.Fragment,{children:[V.slice(0,$),d.jsx("span",{className:T(vC()),children:V.slice($,$+Y.length)}),V.slice($+Y.length)]})};return d.jsxs("div",{ref:f,className:T(mC()),style:{position:"fixed",left:w,top:v,zIndex:1e3},role:"menu","aria-label":"Add node menu",children:[d.jsx("div",{className:T(pC()),children:d.jsx("input",{ref:h,type:"text",placeholder:"Search opcodes...",value:m,onChange:V=>g(V.target.value),className:T(gC())})}),d.jsx("div",{className:T(xC()),children:E?d.jsx(d.Fragment,{children:E.length===0?d.jsx("p",{className:T(yC()),children:"No opcodes found"}):E.map(V=>{const Y=nb(V.name);return d.jsxs("button",{className:T(bC()),onClick:()=>j(V),role:"menuitem",style:Y?{"--cat-color":Y.color}:void 0,children:[d.jsxs("div",{className:"flex items-center gap-2 w-full",children:[Y&&d.jsx("span",{className:T(Ku()),children:Y.icon}),d.jsx("span",{className:T(Fu()),children:O(A(V.name),m)})]}),d.jsx("span",{className:T(Ju()),children:O(V.name,m)}),V.description&&d.jsx("span",{className:T(Pu()),children:O(V.description,m)})]},V.name)})}):d.jsxs(d.Fragment,{children:[b.map(V=>{const Y=S[V.id];if(Y.length===0)return null;const B=p===V.id;return d.jsxs("div",{className:T(Qg()),children:[d.jsxs("button",{className:T(Kg()),onClick:()=>y(B?null:V.id),style:{"--cat-color":V.color},children:[d.jsx("span",{className:T(Ku()),children:V.icon}),d.jsx("span",{className:T(Fg()),children:V.label}),d.jsx("span",{className:T(Jg()),children:Y.length}),d.jsx("span",{className:T(Pg()),style:{transform:B?"rotate(90deg)":"rotate(0deg)"},children:""})]}),B&&d.jsx("div",{className:T(ex()),children:Y.map(U=>d.jsxs("button",{className:T(tx()),onClick:()=>j(U),role:"menuitem",children:[d.jsx("span",{className:T(Fu()),children:A(U.name)}),d.jsx("span",{className:T(Ju()),children:U.name}),U.description&&d.jsx("span",{className:T(Pu()),children:U.description})]},U.name))})]},V.id)}),S.other.length>0&&d.jsxs("div",{className:T(Qg()),children:[d.jsxs("button",{className:T(Kg()),onClick:()=>y(p==="other"?null:"other"),style:{"--cat-color":"#64748B"},children:[d.jsx("span",{className:T(Ku()),children:""}),d.jsx("span",{className:T(Fg()),children:"Other"}),d.jsx("span",{className:T(Jg()),children:S.other.length}),d.jsx("span",{className:T(Pg()),style:{transform:p==="other"?"rotate(90deg)":"rotate(0deg)"},children:""})]}),p==="other"&&d.jsx("div",{className:T(ex()),children:S.other.map(V=>d.jsxs("button",{className:T(tx()),onClick:()=>j(V),role:"menuitem",children:[d.jsx("span",{className:T(Fu()),children:A(V.name)}),d.jsx("span",{className:T(Ju()),children:V.name}),V.description&&d.jsx("span",{className:T(Pu()),children:V.description})]},V.name))})]})]})})]})}const wi=ab.WIDTH,Rn=ab.HEIGHT,Go=qf.HORIZONTAL,ui=qf.VERTICAL,mb=qf.WORKFLOW,SC=40;function NC(n,r){const o=n.inputs||[],c=n.outputs||[],f=o.length>0||c.length>0?18:0,h=Object.entries(r).slice(0,3),m=Object.keys(r).length>3,g=h.length*14+(m?12:0);return Math.max(ub,50+f+g+10)}const vf=12,wf=8,pb=16,EC=28;function gb(n,r,i){if(n.type!=="reporter"||!n.opcode)return{width:0,height:0};const o=n.id||"",c=i?`${i}::${o}`:o;if(!(r[c]??!1))return{width:wi,height:Rn};const h=[];let m=0;if(n.inputs)for(const y of Object.values(n.inputs))y.type==="reporter"&&y.opcode?h.push(y):m++;let g=wi,p=Rn;if(h.length>0){let y=0,b=0;for(const S of h){const E=gb(S,r,i);y+=pb+E.height+wf,b=Math.max(b,E.width)}g=Math.max(g,b+vf*2),p=Rn+y}return m>0&&(p+=m*EC+wf),(h.length>0||m>0)&&(p+=vf),{width:g,height:p}}function jC(n,r,i){let o=0,c=wi;for(const f of Object.values(n))if(f.type==="reporter"&&f.opcode){const h=gb(f,r,i);o+=pb+h.height+wf,c=Math.max(c,h.width)}return{width:c,height:o}}function ef(n,r,i,o,c){const f=c?`${c}::${n}`:n,h=o[f]??!1,m=XN(),p=i&&m.has(i)?20:0;if(!h)return{width:wi,height:Rn+p};const y=jC(r,o,c),b=y.width+vf*2,S=y.height;return{width:Math.max(wi,b),height:Rn+S+p}}function nx(n){return Fy(n)}function lx(n,r,i={},o={}){const c=[],f=[],h=[],m=[];let g=0;const p={};for(const y of n){p[y.name]={x:0,y:g};const b=Math.max(y.children.length*(Rn+ui),Rn+100);g+=b+mb}for(const y of n){const b=p[y.name],S=r[y.name]||{x:0,y:0},E={x:b.x+S.x,y:b.y+S.y},{nodes:w,connections:v,bounds:j,startNode:A}=CC(y,E.x,E.y,i,o);c.push(...w),f.push(...v),A&&m.push(A),h.push({name:y.name,x:j.minX,y:j.minY,width:j.maxX-j.minX,height:j.maxY-j.minY,isMain:y.name==="main"})}return{nodes:c,connections:f,groups:h,startNodes:m}}function CC(n,r,i,o={},c={}){const f=[],h=[],m=new Map,g=r,p=i,y={workflowName:n.name,workflowInterface:n.interface,variables:n.variables,x:g,y:p},b=r+el+SC;let S=1/0,E=1/0,w=-1/0,v=-1/0;function j(q,K,le,ue){S=Math.min(S,q),E=Math.min(E,K),w=Math.max(w,q+le),v=Math.max(v,K+ue)}function A(q,K,le,ue=!1){const ie=ef(q.id,q.inputs,q.opcode,c,n.name);f.push({node:q,x:K,y:le,width:ie.width,height:ie.height,isOrphan:ue,workflowName:n.name}),m.set(q.id,{x:K,y:le,width:ie.width,height:ie.height}),j(K,le,ie.width,ie.height);let se=K+ie.width+Go;if(q.children.length>0){let Z=le+ie.height+ui;const ae=q.children.length;for(let k=0;k<ae;k++){const D=q.children[k],R=nx(D.name);let ne=K+ie.width+Go,J=q.id,C=!0;for(const H of D.children){const P=ef(H.id,H.inputs,H.opcode,c,n.name);f.push({node:H,x:ne,y:Z,width:P.width,height:P.height,workflowName:n.name}),m.set(H.id,{x:ne,y:Z,width:P.width,height:P.height}),j(ne,Z,P.width,P.height),h.push({from:`${n.name}::${J}`,to:`${n.name}::${H.id}`,fromPort:C?D.name:"output",toPort:"input",color:R,label:C?D.name:void 0}),J=H.id,C=!1,ne+=P.width+Go,H.children.length>0&&(ne=Math.max(ne,O(H,ne,Z)))}se=Math.max(se,ne),Z+=Rn+ui*2}}return se}function O(q,K,le){let ue=K;const se=m.get(q.id)?.height||Rn;let Z=le+se+ui;const ae=q.children.length;for(let k=0;k<ae;k++){const D=q.children[k],R=nx(D.name);let ne=K,J=q.id,C=!0;for(const H of D.children){const P=ef(H.id,H.inputs,H.opcode,c,n.name);f.push({node:H,x:ne,y:Z,width:P.width,height:P.height,workflowName:n.name}),m.set(H.id,{x:ne,y:Z,width:P.width,height:P.height}),j(ne,Z,P.width,P.height),h.push({from:`${n.name}::${J}`,to:`${n.name}::${H.id}`,fromPort:C?D.name:"output",toPort:"input",color:R,label:C?D.name:void 0}),J=H.id,C=!1,ne+=P.width+Go}ue=Math.max(ue,ne),Z+=Rn+ui}return ue}const V=NC(n.interface,n.variables);j(g,p,el,V);let Y=b,B=null,U=!0;for(const q of n.children){const le=A(q,Y,i);U&&(h.push({from:`start-${n.name}`,to:`${n.name}::${q.id}`,fromPort:"output",toPort:"input",color:"#22C55E"}),U=!1),B&&h.push({from:`${n.name}::${B.id}`,to:`${n.name}::${q.id}`,fromPort:"output",toPort:"input",color:"#475569"}),B=q,Y=le}n.children.length===0&&(S=Math.min(S,g),E=Math.min(E,p),w=Math.max(w,g+el+20),v=Math.max(v,p+V));const $=n.orphans||[];if($.length>0){const q=v+mb;let K=g;for(const le of $)K=A(le,K,q,!0);for(const le of $)le.next&&h.push({from:`${n.name}::${le.id}`,to:`${n.name}::${le.next}`,fromPort:"output",toPort:"input",color:"#6B7280"})}for(const q of f){const K=`${q.workflowName}::${q.node.id}`,le=o[K];le&&(q.x+=le.x,q.y+=le.y,j(q.x,q.y,q.width,q.height))}return{nodes:f,connections:h,bounds:{minX:S,minY:E,maxX:w,maxY:v},startNode:y}}function xb(n,r,i){const f=[...n].sort((h,m)=>m.y-h.y);for(const h of f)if(r>=h.x-16&&r<=h.x+h.width+16&&i>=h.y-28-16&&i<=h.y+h.height+16)return h.name;return null}const AC=_("flex-1 relative overflow-hidden"),_C=_("w-full h-full block"),OC=_("absolute bottom-4 right-4 flex items-center gap-1 bg-surface-1 p-1 rounded-sm border border-border-subtle z-10 shadow-md"),tf=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-secondary cursor-pointer rounded-sm hover:bg-surface-2 hover:text-text-primary"),MC=_("w-px h-5 bg-border-subtle mx-1"),TC=_("min-w-10 text-center text-xs text-text-muted"),ax=_("h-7 px-2.5 flex items-center justify-center gap-1.5 bg-transparent border-none text-text-secondary cursor-pointer rounded-sm text-xs font-medium transition-colors hover:bg-surface-2 hover:text-text-primary",{variants:{active:{true:"bg-surface-3 text-text-primary",false:""}},defaultVariants:{active:!1}}),DC=_("absolute top-4 left-1/2 -translate-x-1/2 flex items-center gap-3 px-5 py-3 bg-accent-red/15 border border-accent-red rounded-sm text-accent-red z-10 max-w-[80%]"),kC=_("text-lg"),RC=_("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-text-muted pointer-events-none"),zC=_("text-lg mb-2 text-text-secondary"),LC=_("text-sm");function Sf(n,r,i=new Set){for(const o of Object.values(n))if(o.type==="reporter"&&o.id){const c=`${r}::${o.id}`;i.add(c),o.inputs&&Sf(o.inputs,r,i)}return Array.from(i)}function rx(n,r){const[i,o]=r.split("::"),c=n.find(m=>m.name===i);if(!c)return null;const f=m=>{for(const g of m){if(g.id===o)return g;for(const p of g.children){const y=f(p.children);if(y)return y}}return null},h=f(c.children);if(h)return{node:h,workflowName:i};if(c.orphans){const m=f(c.orphans);if(m)return{node:m,workflowName:i}}return null}function VC(){const{zoom:n,panX:r,panY:i,setZoom:o,setPan:c,resetView:f,workflowPositions:h,setWorkflowPosition:m,nodePositions:g,setNodePosition:p,layoutMode:y,setLayoutMode:b,setLayoutGroups:S,setCanvasCenter:E,contextMenu:w,hideContextMenu:v,setReportersExpanded:j,setMultipleReportersExpanded:A,expandedReporters:O,canvasContextMenu:V,showCanvasContextMenu:Y,hideCanvasContextMenu:B,showCreateWorkflowModal:U,showConfirmDialog:$,showExtractWorkflowModal:q,addNodeMenu:K,hideAddNodeMenu:le,openNodeEditor:ue}=Ae(),{tree:ie,parseError:se,source:Z,disconnectConnection:ae,deleteNode:k,duplicateNode:D,deleteWorkflow:R,addNodeConnected:ne,opcodes:J}=lt(),{selectedConnection:C,selectConnection:H,selectedNodeIds:P,clearMultiSelection:re,selectNode:xe}=nl(),ge=L.useRef(null),[de,We]=L.useState({width:800,height:600});L.useEffect(()=>{const ce=()=>{ge.current&&We({width:ge.current.clientWidth,height:ge.current.clientHeight})};return ce(),window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]);const{nodes:oe,connections:Ne,groups:Le,startNodes:Me}=ie?lx(ie.workflows,h,g,O):{nodes:[],connections:[],groups:[],startNodes:[]},$e=24,Mt=28,Tt=Le.length>0?Le.reduce((ce,ve)=>({minX:Math.min(ce.minX,ve.x-$e),minY:Math.min(ce.minY,ve.y-$e-Mt),maxX:Math.max(ce.maxX,ve.x+ve.width+$e),maxY:Math.max(ce.maxY,ve.y+ve.height+$e)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}):{minX:0,minY:0,maxX:800,maxY:600},{centerX:wt,centerY:_e}=L.useMemo(()=>{if(!ie)return{centerX:400,centerY:300};const ve=lx(ie.workflows,{}).groups.reduce((Ue,Qe)=>({minX:Math.min(Ue.minX,Qe.x-$e),minY:Math.min(Ue.minY,Qe.y-$e-Mt),maxX:Math.max(Ue.maxX,Qe.x+Qe.width+$e),maxY:Math.max(Ue.maxY,Qe.y+Qe.height+$e)}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return{centerX:(ve.maxX+ve.minX)/2,centerY:(ve.maxY+ve.minY)/2}},[ie]),Wt=JSON.stringify(Le);L.useEffect(()=>{S(Le)},[Wt,S]),L.useEffect(()=>{E(wt,_e)},[wt,_e,E]),L.useEffect(()=>{const ce=ve=>{const Qe=ve.detail.workflowName,at=Le.find(dr=>dr.name===Qe);if(!at)return;const En=de.width/2,yn=de.height/2,mt=at.x+at.width/2,an=at.y+at.height/2,St=En-mt*n-(de.width/2-wt*n),fr=yn-an*n-(de.height/2-_e*n);c(St,fr)};return window.addEventListener("lexflow:goto-workflow",ce),()=>window.removeEventListener("lexflow:goto-workflow",ce)},[Le,n,c,de,wt,_e]);const{handleWheel:xn,handleMouseDown:Bt,handleMouseMove:Bl,handleMouseUp:sa,isDragging:et}=$E({svgRef:ge,centerX:wt,centerY:_e}),Pe=L.useCallback(ce=>{const ve=ce.target,Ue=ve.tagName==="svg"||ve.tagName==="rect"&&ve.getAttribute("fill")==="transparent",Qe=ve.closest("[data-workflow-group]")!==null;if(Ue||Qe)if(ce.preventDefault(),ge.current){const at=ge.current.getBoundingClientRect(),En=(ce.clientX-at.left-r-at.width/2)/n+wt,yn=(ce.clientY-at.top-i-at.height/2)/n+_e,mt=xb(Le,En,yn);Y(ce.clientX,ce.clientY,mt||void 0)}else Y(ce.clientX,ce.clientY)},[Y,ge,r,i,n,wt,_e,Le]),al=L.useCallback((ce,ve)=>{c(ce,ve)},[c]),ca=L.useCallback(ce=>{if(console.log("[AddNode] handleAddNodeSelect called",{opcode:ce,addNodeMenu:K}),!K){console.log("[AddNode] addNodeMenu is null, returning");return}console.log("[AddNode] Calling addNodeConnected",{opcode:ce.name,sourceNodeId:K.sourceNodeId,workflowName:K.workflowName});const ve=ne(ce,K.sourceNodeId,K.workflowName);console.log("[AddNode] Result:",{newNodeId:ve}),ve&&(xe(ve),ue()),le()},[K,ne,xe,ue,le]);return d.jsxs("div",{className:T(AC()),"data-canvas-container":!0,children:[d.jsx(tC,{}),d.jsxs("div",{className:T(OC()),role:"toolbar","aria-label":"Canvas controls",children:[d.jsx("button",{className:T(tf()),onClick:()=>o(n-.1),"aria-label":"Zoom out",children:d.jsx(e2,{})}),d.jsxs("span",{className:T(TC()),"aria-live":"polite",children:[Math.round(n*100),"%"]}),d.jsx("button",{className:T(tf()),onClick:()=>o(n+.1),"aria-label":"Zoom in",children:d.jsx(Pw,{})}),d.jsx("button",{className:T(tf()),onClick:f,"aria-label":"Fit to view",children:d.jsx(t2,{})}),d.jsx("div",{className:T(MC())}),d.jsxs("button",{className:T(ax({active:y==="auto"})),onClick:()=>b("auto"),"aria-label":"Auto layout","aria-pressed":y==="auto",children:[d.jsx(n2,{}),"Auto"]}),d.jsx("button",{className:T(ax({active:y==="free"})),onClick:()=>b("free"),"aria-label":"Free layout","aria-pressed":y==="free",children:"Free"})]}),ie&&d.jsx(Zj,{workflows:ie.workflows,bounds:Tt,zoom:n,panX:r,panY:i,canvasWidth:de.width,canvasHeight:de.height,onNavigate:al}),se&&d.jsxs("div",{className:T(DC()),children:[d.jsx("span",{className:T(kC()),children:""}),d.jsx("span",{children:se})]}),d.jsxs("svg",{ref:ge,className:T(_C()),onWheel:xn,onMouseDown:Bt,onMouseMove:Bl,onMouseUp:sa,onMouseLeave:sa,onContextMenu:Pe,style:{cursor:et?"grabbing":"grab"},role:"application","aria-label":"Workflow canvas. Use mouse to pan and scroll to zoom.",children:[d.jsx("rect",{width:"100%",height:"100%",fill:"transparent",style:{cursor:"inherit"}}),d.jsxs("g",{transform:`translate(${r+(ge.current?.clientWidth||800)/2-wt*n}, ${i+(ge.current?.clientHeight||600)/2-_e*n}) scale(${n})`,children:[Le.map(ce=>d.jsx(fC,{name:ce.name,x:ce.x,y:ce.y,width:ce.width,height:ce.height,isMain:ce.isMain,zoom:n,onDrag:(ve,Ue)=>{const Qe=Ae.getState().workflowPositions[ce.name]||{x:0,y:0};m(ce.name,Qe.x+ve,Qe.y+Ue)}},ce.name)),Ne.map((ce,ve)=>d.jsx(db,{fromNodeId:ce.from,toNodeId:ce.to,fromPort:ce.fromPort,toPort:ce.toPort,color:ce.color,label:ce.label,isSelected:C?.fromNodeId===ce.from&&C?.toNodeId===ce.to,onSelect:()=>H({fromNodeId:ce.from,toNodeId:ce.to,label:ce.label}),onDelete:()=>{const Ue=xs(ce.from);ae(kl(ce.from),kl(ce.to),ce.label,Ue),H(null)}},`${ce.from}-${ce.to}-${ve}`)),Me.map(ce=>d.jsx(wj,{workflowName:ce.workflowName,workflowInterface:ce.workflowInterface,variables:ce.variables,x:ce.x,y:ce.y,zoom:n,onDrag:y==="free"?(ve,Ue)=>{const Qe=h[ce.workflowName]||{x:0,y:0};m(ce.workflowName,Qe.x+ve,Qe.y+Ue)}:void 0},`start-${ce.workflowName}`)),oe.map(ce=>{const ve=`${ce.workflowName}::${ce.node.id}`;return d.jsx(uj,{node:ce.node,x:ce.x,y:ce.y,isOrphan:ce.isOrphan,zoom:n,workflowName:ce.workflowName,onDrag:y==="free"?(Ue,Qe)=>{const at=g[ve]||{x:0,y:0};p(ve,at.x+Ue,at.y+Qe)}:void 0},ve)}),d.jsx(Dj,{}),d.jsx($j,{}),d.jsx(qj,{})]})]}),!se&&!ie&&d.jsxs("div",{className:T(RC()),children:[d.jsx("h2",{className:T(zC()),children:"No Workflow"}),d.jsx("p",{className:T(LC()),children:"Edit YAML in the editor or load an example"})]}),w&&(()=>{const ce=kl(w.nodeId);return d.jsx(dC,{x:w.x,y:w.y,nodeId:ce,hasReporters:w.hasReporters,reportersExpanded:w.reportersExpanded,isOrphan:w.isOrphan,onExpandReporters:()=>{if(j(w.nodeId,!0),ie){const ve=rx(ie.workflows,w.nodeId);if(ve){const Ue=Sf(ve.node.inputs,ve.workflowName);Ue.length>0&&A(Ue,!0)}}},onCollapseReporters:()=>{if(j(w.nodeId,!1),ie){const ve=rx(ie.workflows,w.nodeId);if(ve){const Ue=Sf(ve.node.inputs,ve.workflowName);Ue.length>0&&A(Ue,!1)}}},onDelete:()=>{k(ce),re()},onDuplicate:()=>D(ce),onClose:v,selectedNodeIds:P,onExtractToWorkflow:()=>{const ve=P.length>0?P:[w.nodeId],Ue=ve.map(kl);if(Ue.length<2)return;let Qe=xs(ve[0])||"main";const at=zx(Z,Ue,Qe);if(!at.isValid){$({title:"Cannot Extract",message:at.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}});return}const En=I1(Z,Ue);q(at.orderedNodeIds,Qe,En.suggestedInputs,En.suggestedOutputs)}})})(),V&&d.jsx(hC,{x:V.x,y:V.y,workflowName:V.workflowName,onCreateWorkflow:U,onDeleteWorkflow:ce=>{$({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${ce}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>R(ce)})},onClose:B}),K&&d.jsx(wC,{x:K.x,y:K.y,opcodes:J,onSelect:ca,onClose:le})]})}const BC="modulepreload",HC=function(n){return"/static/"+n},ix={},UC=function(r,i,o){let c=Promise.resolve();if(i&&i.length>0){let g=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");c=g(i.map(p=>{if(p=HC(p),p in ix)return;ix[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":BC,y||(S.as="script"),S.crossOrigin="",S.href=p,m&&S.setAttribute("nonce",m),document.head.appendChild(S),y)return new Promise((E,w)=>{S.addEventListener("load",E),S.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return c.then(h=>{for(const m of h||[])m.status==="rejected"&&f(m.reason);return r().catch(f)})};function ox(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,o=Array(r);i<r;i++)o[i]=n[i];return o}function IC(n){if(Array.isArray(n))return n}function YC(n,r,i){return(r=QC(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function $C(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,c,f,h,m=[],g=!0,p=!1;try{if(f=(i=i.call(n)).next,r!==0)for(;!(g=(o=f.call(i)).done)&&(m.push(o.value),m.length!==r);g=!0);}catch(y){p=!0,c=y}finally{try{if(!g&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(p)throw c}}return m}}function qC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sx(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function cx(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?sx(Object(i),!0).forEach(function(o){YC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):sx(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function XC(n,r){if(n==null)return{};var i,o,c=GC(n,r);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);for(o=0;o<f.length;o++)i=f[o],r.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(c[i]=n[i])}return c}function GC(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}function WC(n,r){return IC(n)||$C(n,r)||KC(n,r)||qC()}function ZC(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function QC(n){var r=ZC(n,"string");return typeof r=="symbol"?r:r+""}function KC(n,r){if(n){if(typeof n=="string")return ox(n,r);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ox(n,r):void 0}}function FC(n,r,i){return r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function ux(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),i.push.apply(i,o)}return i}function fx(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?ux(Object(i),!0).forEach(function(o){FC(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ux(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function JC(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(o){return r.reduceRight(function(c,f){return f(c)},o)}}function fi(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function ys(n){return{}.toString.call(n).includes("Object")}function PC(n){return!Object.keys(n).length}function Si(n){return typeof n=="function"}function eA(n,r){return Object.prototype.hasOwnProperty.call(n,r)}function tA(n,r){return ys(r)||zl("changeType"),Object.keys(r).some(function(i){return!eA(n,i)})&&zl("changeField"),r}function nA(n){Si(n)||zl("selectorType")}function lA(n){Si(n)||ys(n)||zl("handlerType"),ys(n)&&Object.values(n).some(function(r){return!Si(r)})&&zl("handlersType")}function aA(n){n||zl("initialIsRequired"),ys(n)||zl("initialType"),PC(n)&&zl("initialContent")}function rA(n,r){throw new Error(n[r]||n.default)}var iA={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},zl=fi(rA)(iA),Wo={changes:tA,selector:nA,handler:lA,initial:aA};function oA(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wo.initial(n),Wo.handler(r);var i={current:n},o=fi(uA)(i,r),c=fi(cA)(i),f=fi(Wo.changes)(n),h=fi(sA)(i);function m(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return Wo.selector(p),p(i.current)}function g(p){JC(o,c,f,h)(p)}return[m,g]}function sA(n,r){return Si(r)?r(n.current):r}function cA(n,r){return n.current=fx(fx({},n.current),r),r}function uA(n,r,i){return Si(r)?r(n.current):Object.keys(i).forEach(function(o){var c;return(c=r[o])===null||c===void 0?void 0:c.call(r,n.current[o])}),i}var fA={create:oA},dA={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function hA(n){return function r(){for(var i=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length>=n.length?n.apply(this,c):function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return r.apply(i,[].concat(c,m))}}}function mA(n){return{}.toString.call(n).includes("Object")}function pA(n){return n||dx("configIsRequired"),mA(n)||dx("configType"),n.urls?(gA(),{paths:{vs:n.urls.monacoBase}}):n}function gA(){console.warn(yb.deprecation)}function xA(n,r){throw new Error(n[r]||n.default)}var yb={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},dx=hA(xA)(yb),yA={config:pA},bA=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return function(c){return i.reduceRight(function(f,h){return h(f)},c)}};function bb(n,r){return Object.keys(r).forEach(function(i){r[i]instanceof Object&&n[i]&&Object.assign(r[i],bb(n[i],r[i]))}),cx(cx({},n),r)}var vA={type:"cancelation",msg:"operation is manually canceled"};function nf(n){var r=!1,i=new Promise(function(o,c){n.then(function(f){return r?c(vA):o(f)}),n.catch(c)});return i.cancel=function(){return r=!0},i}var wA=["monaco"],SA=fA.create({config:dA,isInitialized:!1,resolve:null,reject:null,monaco:null}),vb=WC(SA,2),_i=vb[0],Ss=vb[1];function NA(n){var r=yA.config(n),i=r.monaco,o=XC(r,wA);Ss(function(c){return{config:bb(c.config,o),monaco:i}})}function EA(){var n=_i(function(r){var i=r.monaco,o=r.isInitialized,c=r.resolve;return{monaco:i,isInitialized:o,resolve:c}});if(!n.isInitialized){if(Ss({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),nf(lf);if(window.monaco&&window.monaco.editor)return wb(window.monaco),n.resolve(window.monaco),nf(lf);bA(jA,AA)(_A)}return nf(lf)}function jA(n){return document.body.appendChild(n)}function CA(n){var r=document.createElement("script");return n&&(r.src=n),r}function AA(n){var r=_i(function(o){var c=o.config,f=o.reject;return{config:c,reject:f}}),i=CA("".concat(r.config.paths.vs,"/loader.js"));return i.onload=function(){return n()},i.onerror=r.reject,i}function _A(){var n=_i(function(i){var o=i.config,c=i.resolve,f=i.reject;return{config:o,resolve:c,reject:f}}),r=window.require;r.config(n.config),r(["vs/editor/editor.main"],function(i){var o=i.m||i;wb(o),n.resolve(o)},function(i){n.reject(i)})}function wb(n){_i().monaco||Ss({monaco:n})}function OA(){return _i(function(n){var r=n.monaco;return r})}var lf=new Promise(function(n,r){return Ss({resolve:n,reject:r})}),Sb={config:NA,init:EA,__getMonacoInstance:OA},MA={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},af=MA,TA={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},DA=TA;function kA({children:n}){return Tn.createElement("div",{style:DA.container},n)}var RA=kA,zA=RA;function LA({width:n,height:r,isEditorReady:i,loading:o,_ref:c,className:f,wrapperProps:h}){return Tn.createElement("section",{style:{...af.wrapper,width:n,height:r},...h},!i&&Tn.createElement(zA,null,o),Tn.createElement("div",{ref:c,style:{...af.fullWidth,...!i&&af.hide},className:f}))}var VA=LA,Nb=L.memo(VA);function BA(n){L.useEffect(n,[])}var Eb=BA;function HA(n,r,i=!0){let o=L.useRef(!0);L.useEffect(o.current||!i?()=>{o.current=!1}:n,r)}var nn=HA;function mi(){}function tr(n,r,i,o){return UA(n,o)||IA(n,r,i,o)}function UA(n,r){return n.editor.getModel(jb(n,r))}function IA(n,r,i,o){return n.editor.createModel(r,i,o?jb(n,o):void 0)}function jb(n,r){return n.Uri.parse(r)}function YA({original:n,modified:r,language:i,originalLanguage:o,modifiedLanguage:c,originalModelPath:f,modifiedModelPath:h,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:g=!1,theme:p="light",loading:y="Loading...",options:b={},height:S="100%",width:E="100%",className:w,wrapperProps:v={},beforeMount:j=mi,onMount:A=mi}){let[O,V]=L.useState(!1),[Y,B]=L.useState(!0),U=L.useRef(null),$=L.useRef(null),q=L.useRef(null),K=L.useRef(A),le=L.useRef(j),ue=L.useRef(!1);Eb(()=>{let ae=Sb.init();return ae.then(k=>($.current=k)&&B(!1)).catch(k=>k?.type!=="cancelation"&&console.error("Monaco initialization: error:",k)),()=>U.current?Z():ae.cancel()}),nn(()=>{if(U.current&&$.current){let ae=U.current.getOriginalEditor(),k=tr($.current,n||"",o||i||"text",f||"");k!==ae.getModel()&&ae.setModel(k)}},[f],O),nn(()=>{if(U.current&&$.current){let ae=U.current.getModifiedEditor(),k=tr($.current,r||"",c||i||"text",h||"");k!==ae.getModel()&&ae.setModel(k)}},[h],O),nn(()=>{let ae=U.current.getModifiedEditor();ae.getOption($.current.editor.EditorOption.readOnly)?ae.setValue(r||""):r!==ae.getValue()&&(ae.executeEdits("",[{range:ae.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),ae.pushUndoStop())},[r],O),nn(()=>{U.current?.getModel()?.original.setValue(n||"")},[n],O),nn(()=>{let{original:ae,modified:k}=U.current.getModel();$.current.editor.setModelLanguage(ae,o||i||"text"),$.current.editor.setModelLanguage(k,c||i||"text")},[i,o,c],O),nn(()=>{$.current?.editor.setTheme(p)},[p],O),nn(()=>{U.current?.updateOptions(b)},[b],O);let ie=L.useCallback(()=>{if(!$.current)return;le.current($.current);let ae=tr($.current,n||"",o||i||"text",f||""),k=tr($.current,r||"",c||i||"text",h||"");U.current?.setModel({original:ae,modified:k})},[i,r,c,n,o,f,h]),se=L.useCallback(()=>{!ue.current&&q.current&&(U.current=$.current.editor.createDiffEditor(q.current,{automaticLayout:!0,...b}),ie(),$.current?.editor.setTheme(p),V(!0),ue.current=!0)},[b,p,ie]);L.useEffect(()=>{O&&K.current(U.current,$.current)},[O]),L.useEffect(()=>{!Y&&!O&&se()},[Y,O,se]);function Z(){let ae=U.current?.getModel();m||ae?.original?.dispose(),g||ae?.modified?.dispose(),U.current?.dispose()}return Tn.createElement(Nb,{width:E,height:S,isEditorReady:O,loading:y,_ref:q,className:w,wrapperProps:v})}var $A=YA;L.memo($A);function qA(n){let r=L.useRef();return L.useEffect(()=>{r.current=n},[n]),r.current}var XA=qA,Zo=new Map;function GA({defaultValue:n,defaultLanguage:r,defaultPath:i,value:o,language:c,path:f,theme:h="light",line:m,loading:g="Loading...",options:p={},overrideServices:y={},saveViewState:b=!0,keepCurrentModel:S=!1,width:E="100%",height:w="100%",className:v,wrapperProps:j={},beforeMount:A=mi,onMount:O=mi,onChange:V,onValidate:Y=mi}){let[B,U]=L.useState(!1),[$,q]=L.useState(!0),K=L.useRef(null),le=L.useRef(null),ue=L.useRef(null),ie=L.useRef(O),se=L.useRef(A),Z=L.useRef(),ae=L.useRef(o),k=XA(f),D=L.useRef(!1),R=L.useRef(!1);Eb(()=>{let C=Sb.init();return C.then(H=>(K.current=H)&&q(!1)).catch(H=>H?.type!=="cancelation"&&console.error("Monaco initialization: error:",H)),()=>le.current?J():C.cancel()}),nn(()=>{let C=tr(K.current,n||o||"",r||c||"",f||i||"");C!==le.current?.getModel()&&(b&&Zo.set(k,le.current?.saveViewState()),le.current?.setModel(C),b&&le.current?.restoreViewState(Zo.get(f)))},[f],B),nn(()=>{le.current?.updateOptions(p)},[p],B),nn(()=>{!le.current||o===void 0||(le.current.getOption(K.current.editor.EditorOption.readOnly)?le.current.setValue(o):o!==le.current.getValue()&&(R.current=!0,le.current.executeEdits("",[{range:le.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),le.current.pushUndoStop(),R.current=!1))},[o],B),nn(()=>{let C=le.current?.getModel();C&&c&&K.current?.editor.setModelLanguage(C,c)},[c],B),nn(()=>{m!==void 0&&le.current?.revealLine(m)},[m],B),nn(()=>{K.current?.editor.setTheme(h)},[h],B);let ne=L.useCallback(()=>{if(!(!ue.current||!K.current)&&!D.current){se.current(K.current);let C=f||i,H=tr(K.current,o||n||"",r||c||"",C||"");le.current=K.current?.editor.create(ue.current,{model:H,automaticLayout:!0,...p},y),b&&le.current.restoreViewState(Zo.get(C)),K.current.editor.setTheme(h),m!==void 0&&le.current.revealLine(m),U(!0),D.current=!0}},[n,r,i,o,c,f,p,y,b,h,m]);L.useEffect(()=>{B&&ie.current(le.current,K.current)},[B]),L.useEffect(()=>{!$&&!B&&ne()},[$,B,ne]),ae.current=o,L.useEffect(()=>{B&&V&&(Z.current?.dispose(),Z.current=le.current?.onDidChangeModelContent(C=>{R.current||V(le.current.getValue(),C)}))},[B,V]),L.useEffect(()=>{if(B){let C=K.current.editor.onDidChangeMarkers(H=>{let P=le.current.getModel()?.uri;if(P&&H.find(re=>re.path===P.path)){let re=K.current.editor.getModelMarkers({resource:P});Y?.(re)}});return()=>{C?.dispose()}}return()=>{}},[B,Y]);function J(){Z.current?.dispose(),S?b&&Zo.set(f,le.current.saveViewState()):le.current.getModel()?.dispose(),le.current.dispose()}return Tn.createElement(Nb,{width:E,height:w,isEditorReady:B,loading:g,_ref:ue,className:v,wrapperProps:j})}var WA=GA,ZA=L.memo(WA),QA=ZA;const Cb=_("flex flex-col h-full"),Ab=_("flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-surface-2"),_b=_("text-sm font-medium text-text-secondary"),KA=_("text-xs text-accent-blue animate-pulse"),Ob=_("flex-1 overflow-hidden"),FA=L.lazy(()=>UC(()=>import("./LiteEditor-CC_5HQ1k.js"),[]).then(n=>({default:n.LiteEditor})));function JA(){return d.jsxs("div",{className:T(Cb()),children:[d.jsx("div",{className:Ab(),children:d.jsx("span",{className:_b(),children:"Editor"})}),d.jsx("div",{className:T(Ob(),"flex items-center justify-center"),children:d.jsx("span",{className:"text-text-muted text-sm",children:"Loading editor..."})})]})}function PA({className:n,lite:r=!1}){const{source:i,setSource:o,isParsing:c}=lt(),{theme:f}=iy();if(r)return d.jsx(L.Suspense,{fallback:d.jsx(JA,{}),children:d.jsx(FA,{className:n,value:i,onChange:o,isParsing:c})});const h=L.useRef(null),m=L.useRef(null);L.useEffect(()=>{const p=y=>{const b=h.current;if(b){const S=y.detail.line;b.revealLineInCenter(S),b.setPosition({lineNumber:S,column:1}),b.focus(),b.deltaDecorations([],[{range:{startLineNumber:S,startColumn:1,endLineNumber:S,endColumn:1},options:{isWholeLine:!0,className:"highlighted-line",glyphMarginClassName:"highlighted-glyph"}}])}};return window.addEventListener("lexflow:goto-line",p),()=>{window.removeEventListener("lexflow:goto-line",p)}},[]),L.useEffect(()=>{if(m.current&&h.current){const p=m.current,y=f==="light"?"lexflow-light":"lexflow-dark";p.editor.setTheme(y)}},[f]);const g=(p,y)=>{h.current=p,m.current=y,y.editor.defineTheme("lexflow-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#1e1e1e","editor.lineHighlightBackground":"#2d2d2d"}}),y.editor.defineTheme("lexflow-light",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#fafafa","editor.lineHighlightBackground":"#f0f0f0"}});const b=f==="light"?"lexflow-light":"lexflow-dark";y.editor.setTheme(b)};return d.jsxs("div",{className:T(Cb(),n),children:[d.jsxs("div",{className:Ab(),children:[d.jsx("span",{className:_b(),children:"Editor"}),c&&d.jsx("span",{className:KA(),children:"Parsing..."})]}),d.jsx("div",{className:Ob(),children:d.jsx(QA,{height:"100%",language:"yaml",theme:f==="light"?"lexflow-light":"lexflow-dark",value:i,onChange:p=>o(p||""),onMount:g,options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0}})})]})}const e_=_("absolute inset-0 flex items-center justify-center bg-black/60 z-[100] backdrop-blur-sm"),t_=_("bg-surface-1 border border-border-default rounded-sm p-6 min-w-[300px] max-w-[400px] shadow-xl"),rf=_("block text-sm text-text-primary mb-4 leading-relaxed"),n_=_("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 transition-colors focus:outline-none focus:border-accent-blue focus:ring-1 focus:ring-accent-blue/20"),l_=_("w-full px-3 py-2.5 bg-surface-2 border border-border-default rounded-sm text-text-primary text-sm mb-4 cursor-pointer transition-colors focus:outline-none focus:border-accent-blue"),of=_("flex gap-3 justify-end"),sf=_("px-5 py-2.5 bg-accent-blue border-none rounded-sm text-surface-0 font-medium text-sm cursor-pointer transition-all hover:brightness-110 focus:outline-none focus:ring-1 focus:ring-accent-blue/30"),a_=_("px-5 py-2.5 bg-transparent border border-border-default rounded-sm text-text-secondary font-medium text-sm cursor-pointer transition-colors hover:bg-surface-2 hover:text-text-primary"),r_=_("flex justify-center"),i_=_("px-8 py-3 bg-accent-blue border-none rounded-sm text-white font-semibold text-base cursor-pointer transition-all shadow-lg hover:brightness-110 hover:-translate-y-px focus:outline-none focus:ring-1 focus:ring-accent-blue/30");function o_({prompt:n,onSubmit:r}){const[i,o]=L.useState(""),[c,f]=L.useState(n.options?.[0]||""),h=L.useRef(null);L.useEffect(()=>{n.type==="input"&&h.current&&h.current.focus()},[n.type]),L.useEffect(()=>{o(""),n.options?.length&&f(n.options[0])},[n]);const m=b=>{b.preventDefault(),r(i)},g=b=>{b.preventDefault(),r(c)},p=b=>{r(b)},y=b=>{b.key==="Escape"&&n.type==="confirm"&&r(!1)};return d.jsx("div",{className:T(e_()),onKeyDown:y,role:"presentation",children:d.jsxs("div",{className:T(t_()),role:"dialog","aria-modal":"true","aria-labelledby":"prompt-label",children:[n.type==="input"&&d.jsxs("form",{onSubmit:m,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-input",className:T(rf()),children:n.prompt||"Enter a value:"}),d.jsx("input",{ref:h,id:"prompt-input",type:"text",value:i,onChange:b=>o(b.target.value),className:T(n_()),placeholder:"Type here..."}),d.jsx("div",{className:T(of()),children:d.jsx("button",{type:"submit",className:T(sf()),children:"Submit"})})]}),n.type==="select"&&d.jsxs("form",{onSubmit:g,children:[d.jsx("label",{id:"prompt-label",htmlFor:"prompt-select",className:T(rf()),children:n.prompt||"Select an option:"}),d.jsx("select",{id:"prompt-select",value:c,onChange:b=>f(b.target.value),className:T(l_()),children:n.options?.map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx("div",{className:T(of()),children:d.jsx("button",{type:"submit",className:T(sf()),children:"Select"})})]}),n.type==="confirm"&&d.jsxs("div",{children:[d.jsx("p",{id:"prompt-label",className:T(rf()),children:n.message||n.prompt||"Are you sure?"}),d.jsxs("div",{className:T(of()),children:[d.jsx("button",{className:T(a_()),onClick:()=>p(!1),children:"No"}),d.jsx("button",{className:T(sf()),onClick:()=>p(!0),autoFocus:!0,children:"Yes"})]})]}),n.type==="button"&&d.jsx("div",{className:T(r_()),children:d.jsx("button",{id:"prompt-label",className:T(i_()),onClick:()=>r(!0),autoFocus:!0,children:n.label||"Click"})})]})})}const s_=_("flex flex-col relative min-h-[100px] max-h-[600px]"),c_=_("absolute top-0 left-0 right-0 h-1.5 cursor-ns-resize bg-transparent z-10 transition-colors hover:bg-accent-blue/50",{variants:{isResizing:{true:"bg-accent-blue",false:""}},defaultVariants:{isResizing:!1}}),u_=_("flex items-center justify-between px-3 py-1.5 border-b border-border-subtle bg-surface-1"),f_=_("flex items-center gap-2"),d_=_("text-sm font-medium text-text-secondary"),h_=_("w-1.5 h-1.5 rounded-full",{variants:{status:{idle:"bg-text-muted",running:"bg-accent-green animate-pulse",error:"bg-accent-red"}},defaultVariants:{status:"idle"}}),m_=_("flex items-center gap-1"),hx=_("w-px h-5 bg-border-subtle mx-1"),mx=_("h-7 px-2.5 bg-transparent border border-border-subtle rounded-sm text-text-muted text-xs font-medium cursor-pointer transition-colors hover:text-text-primary hover:border-text-muted",{variants:{active:{true:"bg-surface-3 text-text-primary border-border-default",false:""}},defaultVariants:{active:!1}}),p_=_("h-7 px-3 flex items-center gap-1.5 bg-accent-green border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110 disabled:opacity-60 disabled:cursor-not-allowed"),g_=_("h-7 px-3 flex items-center gap-1.5 bg-accent-red border-none rounded-sm text-surface-0 font-medium text-xs cursor-pointer transition-all hover:brightness-110"),px=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),x_=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),y_=_("flex items-center gap-3 px-4 py-2 border-b border-border-subtle shrink-0"),b_=_("text-xs text-text-muted"),v_=_("flex items-center gap-1.5"),w_=_("text-xs text-text-secondary"),S_=_("px-2.5 py-1.5 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm w-30 focus:outline-none focus:border-accent-blue"),N_=_("flex items-center gap-2.5 px-4 py-2 border-b border-border-subtle shrink-0"),E_=_("flex-1 h-1.5 bg-surface-3 rounded-none overflow-hidden"),j_=_("h-full bg-accent-blue transition-[width] duration-200"),C_=_("text-xs text-text-muted whitespace-nowrap"),A_=_("flex-1 flex overflow-hidden"),gx=_("flex-1 flex flex-col overflow-hidden min-w-[200px]"),xx=_("flex items-center px-4 py-1.5 bg-surface-2 border-b border-border-subtle text-xs font-medium text-text-muted uppercase tracking-wide"),yx=_("flex-1 p-4 overflow-auto"),__=_("w-px bg-border-subtle cursor-col-resize shrink-0 hover:bg-accent-blue"),O_=_("flex-1 flex items-center justify-center text-text-muted text-sm"),bx=_("text-text-muted text-sm italic"),M_=_("font-mono text-sm text-text-secondary whitespace-pre-wrap break-words"),T_=_("text-accent-red text-sm"),D_=_("flex gap-2 mt-2 pt-2 border-t border-border-subtle"),k_=_("text-xs text-text-muted"),R_=_("font-mono text-sm text-accent-green"),z_=_("text-accent-blue animate-blink"),L_=_("absolute bottom-3 right-3 flex flex-col gap-2 max-w-[300px] z-50"),V_=_("flex items-center justify-between gap-3 px-4 py-3 bg-surface-2 border border-border-subtle rounded-sm text-sm text-text-primary shadow-lg animate-slide-in-right",{variants:{variant:{info:"border-l-[3px] border-l-accent-blue",success:"border-l-[3px] border-l-accent-green",warning:"border-l-[3px] border-l-accent-amber",error:"border-l-[3px] border-l-accent-red"}},defaultVariants:{variant:"info"}}),B_=_("bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary"),H_=_("p-3 bg-surface-2 rounded-sm text-sm text-text-primary"),U_=_("p-2 text-sm text-text-primary [&_h1]:text-xl [&_h1]:mb-2 [&_h2]:text-lg [&_h2]:mb-1.5 [&_h3]:text-base [&_h3]:mb-1 [&_p]:mb-2 [&_p]:leading-relaxed [&_code]:bg-surface-3 [&_code]:px-1 [&_code]:rounded [&_code]:font-mono [&_code]:text-[0.85em] [&_strong]:text-text-primary"),I_=_("overflow-x-auto"),Y_=_("w-full border-collapse text-sm"),$_=_("px-3 py-2 text-left border-b border-border-subtle bg-surface-2 text-text-secondary font-medium"),q_=_("px-3 py-2 text-left border-b border-border-subtle text-text-primary"),X_=_("max-w-full"),G_=_("max-w-full h-auto rounded-sm"),W_=100,Z_=600,Q_=250;function K_({className:n}){const{source:r,tree:i}=lt(),{isExecuting:o,executionOutput:c,executionResult:f,executionError:h,workflowInputs:m,pendingPrompt:g,renderedContent:p,alerts:y,progress:b,removeAlert:S,clearWorkflowInputs:E}=pi(),{toggleExecutionPanel:w}=Ae(),{execute:v,cancel:j,respondToPrompt:A}=UE(),O=L.useRef(null),V=L.useRef(null),[Y,B]=L.useState(Q_),[U,$]=L.useState(!1),[q,K]=L.useState(!0),[le,ue]=L.useState(!0),ie=i?.interface?.inputs||[],se=JSON.stringify(ie);L.useEffect(()=>{E()},[se,E]),L.useEffect(()=>{O.current&&(O.current.scrollTop=O.current.scrollHeight)},[c]),L.useEffect(()=>{if(y.length>0){const D=setTimeout(()=>{S(y[0].id)},5e3);return()=>clearTimeout(D)}},[y,S]);const Z=L.useCallback(D=>{D.preventDefault(),$(!0)},[]);L.useEffect(()=>{if(!U)return;const D=ne=>{if(!V.current)return;const J=V.current.parentElement;if(!J)return;const H=J.getBoundingClientRect().bottom-ne.clientY;B(Math.min(Z_,Math.max(W_,H)))},R=()=>{$(!1)};return document.addEventListener("mousemove",D),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",R)}},[U]);const ae=()=>{const D={};for(const R of ie)R in m&&(D[R]=m[R]);v(r,Object.keys(D).length>0?D:void 0)},k=()=>{j()};return d.jsxs("div",{ref:V,className:T(s_(),n),style:{height:`${Y}px`},children:[d.jsx("div",{className:c_({isResizing:U}),onMouseDown:Z}),d.jsxs("div",{className:u_(),children:[d.jsxs("div",{className:f_(),children:[d.jsx("span",{className:d_(),children:"Execution"}),d.jsx("span",{className:h_({status:o?"running":h?"error":"idle"})})]}),d.jsxs("div",{className:m_(),children:[d.jsx("button",{className:mx({active:q}),onClick:()=>K(!q),title:"Toggle Preview",children:"Preview"}),d.jsx("button",{className:mx({active:le}),onClick:()=>ue(!le),title:"Toggle Console",children:"Console"}),d.jsx("div",{className:hx()}),o?d.jsxs("button",{className:g_(),onClick:k,children:[d.jsx(a2,{}),"Stop"]}):d.jsxs("button",{className:p_(),onClick:ae,children:[d.jsx(l2,{}),"Run"]}),d.jsx("button",{className:px(),title:"Step forward (coming soon)",disabled:!0,children:d.jsx(r2,{})}),d.jsx("button",{className:px(),onClick:()=>pi.getState().clearExecution(),title:"Clear output",children:d.jsx(i2,{})}),d.jsx("div",{className:hx()}),d.jsx("button",{className:x_(),onClick:w,title:"Close panel",children:d.jsx(o2,{})})]})]}),ie.length>0&&d.jsxs("div",{className:y_(),children:[d.jsx("span",{className:b_(),children:"Inputs:"}),ie.map(D=>d.jsx(F_,{name:D},D))]}),b&&d.jsxs("div",{className:N_(),children:[d.jsx("div",{className:E_(),children:d.jsx("div",{className:j_(),style:{width:`${b.value/b.max*100}%`}})}),b.label&&d.jsx("span",{className:C_(),children:b.label})]}),d.jsxs("div",{className:A_(),children:[q&&d.jsxs("div",{className:gx(),children:[d.jsx("div",{className:xx(),children:d.jsx("span",{children:"Preview"})}),d.jsx("div",{className:yx(),children:p.length>0?p.map((D,R)=>d.jsx(J_,{item:D},R)):d.jsx("div",{className:bx(),children:"No preview content"})})]}),q&&le&&d.jsx("div",{className:__()}),le&&d.jsxs("div",{className:gx(),children:[d.jsx("div",{className:xx(),children:d.jsx("span",{children:"Console"})}),d.jsx("div",{className:yx(),children:h?d.jsx("div",{className:T_(),children:h}):d.jsxs(d.Fragment,{children:[c&&d.jsxs("pre",{ref:O,className:M_(),children:[c,o&&d.jsx("span",{className:z_(),children:"|"})]}),f!==null&&!o&&d.jsxs("div",{className:D_(),children:[d.jsx("span",{className:k_(),children:"Result:"}),d.jsx("code",{className:R_(),children:JSON.stringify(f,null,2)})]}),!c&&!f&&!o&&d.jsx("div",{className:bx(),children:'Click "Run" to execute the workflow'})]})})]}),!q&&!le&&d.jsx("div",{className:O_(),children:"Toggle Preview or Console to view execution output"})]}),y.length>0&&d.jsx("div",{className:L_(),children:y.map(D=>d.jsx(eO,{alert:D,onDismiss:()=>S(D.id)},D.id))}),g&&d.jsx(o_,{prompt:g,onSubmit:A})]})}function F_({name:n}){const{workflowInputs:r,setWorkflowInput:i}=pi(),o=r[n]??"";return d.jsxs("div",{className:v_(),children:[d.jsxs("label",{className:w_(),children:[n,":"]}),d.jsx("input",{type:"text",value:String(o),onChange:c=>{const f=c.target.value;try{i(n,JSON.parse(f))}catch{i(n,f)}},placeholder:`Enter ${n}`,className:S_()})]})}function J_({item:n}){switch(n.type){case"html":return d.jsx("div",{className:H_(),dangerouslySetInnerHTML:{__html:n.content}});case"markdown":return d.jsx("div",{className:U_(),children:d.jsx(P_,{content:n.content})});case"table":const r=n.content;if(!r.length)return null;const i=Object.keys(r[0]);return d.jsx("div",{className:I_(),children:d.jsxs("table",{className:Y_(),children:[d.jsx("thead",{children:d.jsx("tr",{children:i.map(c=>d.jsx("th",{className:$_(),children:c},c))})}),d.jsx("tbody",{children:r.map((c,f)=>d.jsx("tr",{className:"hover:bg-surface-2",children:i.map(h=>d.jsx("td",{className:q_(),children:String(c[h]??"")},h))},f))})]})});case"image":const o=n.content;return d.jsx("div",{className:X_(),children:d.jsx("img",{src:o.src,alt:o.alt,className:G_()})});default:return null}}function P_({content:n}){const r=n.split(`
`),i=[];for(let o=0;o<r.length;o++){const c=r[o];if(c.startsWith("### "))i.push(d.jsx("h3",{children:c.slice(4)},o));else if(c.startsWith("## "))i.push(d.jsx("h2",{children:c.slice(3)},o));else if(c.startsWith("# "))i.push(d.jsx("h1",{children:c.slice(2)},o));else if(c.trim()){const f=c.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/`(.+?)`/g,"<code>$1</code>");i.push(d.jsx("p",{dangerouslySetInnerHTML:{__html:f}},o))}else i.push(d.jsx("br",{},o))}return d.jsx(d.Fragment,{children:i})}function eO({alert:n,onDismiss:r}){return d.jsxs("div",{className:V_({variant:n.variant}),children:[d.jsx("span",{children:n.message}),d.jsx("button",{className:B_(),onClick:r,children:""})]})}const Ni=_("flex flex-col h-full bg-surface-1"),Ei=_("flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-surface-2"),ji=_("text-sm font-semibold text-text-primary"),Ci=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-3"),Gf=_("flex-1 overflow-y-auto p-4"),tO=_("flex items-center gap-1.5 px-3 py-2 mb-4 bg-surface-2 border border-border-subtle rounded-sm text-accent-blue text-sm cursor-pointer transition-colors w-full hover:bg-surface-3 hover:border-accent-blue"),Mb=_("flex items-center justify-center h-full text-text-muted"),Wf=_("flex gap-3 mb-5 p-3 bg-surface-2 rounded-sm"),Zf=_("w-1 rounded-sm shrink-0"),Qf=_("flex-1"),Kf=_("text-[0.7rem] uppercase tracking-wide text-text-muted"),Ff=_("text-base font-semibold text-text-primary my-1"),Tb=_("text-xs text-text-muted font-mono bg-transparent border-none cursor-pointer px-1 py-0.5 -mx-1 rounded-sm transition-colors hover:bg-border-subtle hover:text-text-primary"),Db=_("text-sm text-text-secondary leading-relaxed p-3 bg-surface-2 rounded-sm mb-4"),Jf=_("mb-3"),Pf=_("block text-xs font-medium text-text-secondary mb-1 uppercase tracking-wide"),nO=_("text-[0.65rem] text-text-muted ml-1.5 px-1.5 py-0.5 bg-border-subtle rounded-sm"),nr=_("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm font-mono focus:outline-none focus:border-accent-blue read-only:opacity-70 read-only:cursor-not-allowed"),kb=_("flex gap-2 px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-sm",{variants:{editable:{true:"cursor-pointer transition-colors hover:border-accent-blue hover:bg-surface-2",false:""}},defaultVariants:{editable:!1}}),lO=_("px-1.5 py-0.5 bg-border-subtle rounded-sm text-[0.7rem] text-text-muted font-medium shrink-0"),Rb=_("text-text-primary font-mono overflow-hidden text-ellipsis whitespace-nowrap"),aO=_("text-[0.65rem] text-text-muted ml-auto opacity-0 transition-opacity group-hover:opacity-100"),Nf=_("w-full px-3 py-2 bg-surface-3 border-2 border-accent-blue rounded-sm text-text-primary text-sm font-mono focus:outline-none"),ln=_("mt-5"),Nn=_("text-xs font-semibold text-text-secondary mb-2.5 uppercase tracking-wide"),Ll=_("text-text-muted italic text-sm"),rO=_("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),iO=_("font-medium text-text-primary text-sm"),oO=_("text-text-muted text-xs flex-1"),Ef=_("w-5 h-5 flex items-center justify-center bg-transparent border border-accent-red rounded-sm text-accent-red cursor-pointer text-sm font-bold opacity-60 transition-opacity hover:opacity-100 hover:bg-accent-red/10"),jf=_("w-full px-3 py-2 mt-2 bg-transparent border border-dashed border-border-subtle rounded-sm text-text-secondary text-sm cursor-pointer transition-colors hover:border-accent-blue hover:text-accent-blue hover:bg-accent-blue/5"),zb=_("flex items-center gap-2 px-3 py-2 bg-surface-2 rounded-sm mb-1.5"),Lb=_("flex-1 font-medium text-text-primary text-sm font-mono"),Vb=_("flex flex-wrap gap-1.5"),Bb=_("flex items-center gap-1 px-2 py-1 bg-surface-2 rounded-sm text-xs"),Hb=_("text-text-primary font-medium"),Ub=_("text-text-muted"),Ib=_("text-text-muted text-[0.7rem]"),Yb=_("flex gap-2 px-4 py-3 border-t border-border-subtle"),Ml=_("flex-1 px-4 py-2 bg-surface-2 border border-border-subtle rounded-sm text-text-primary text-sm cursor-pointer transition-colors hover:bg-surface-3 hover:border-accent-blue disabled:opacity-50 disabled:cursor-not-allowed"),$b=_("flex-1 px-4 py-2 bg-transparent border border-accent-red rounded-sm text-accent-red text-sm cursor-pointer transition-colors hover:bg-accent-red/10 disabled:opacity-50 disabled:cursor-not-allowed"),qb=_("w-full px-4 py-2 text-sm bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10");function sO({workflowName:n,onClose:r}){const{tree:i,addVariable:o,updateVariable:c,deleteVariable:f,updateWorkflowInterface:h,deleteWorkflow:m}=lt(),{selectStartNode:g}=nl(),p=i?.workflows.find(J=>J.name===n),[y,b]=L.useState(""),[S,E]=L.useState(""),[w,v]=L.useState(null),[j,A]=L.useState(""),[O,V]=L.useState(""),[Y,B]=L.useState(""),[U,$]=L.useState("");if(!p)return d.jsxs("div",{className:Ni(),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Start Node"}),d.jsx("button",{className:Ci(),onClick:r,children:""})]}),d.jsx("div",{className:Mb(),children:d.jsx("p",{children:"Workflow not found"})})]});const q=()=>{g(null),r()},K=()=>{if(!y.trim())return;const J=wx(S);o(n,y.trim(),J)&&(b(""),E(""))},le=(J,C)=>{v(J),A(J),V(vx(C))},ue=()=>{if(!w||!j.trim())return;const J=wx(O);c(n,w,j.trim(),J)&&(v(null),A(""),V(""))},ie=()=>{v(null),A(""),V("")},se=J=>{Ae.getState().showConfirmDialog({title:"Delete Variable",message:`Delete variable "$${J}"?`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>f(n,J)})},Z=()=>{Ae.getState().showConfirmDialog({title:"Delete Workflow",message:`Are you sure you want to delete the workflow "${n}"? This action cannot be undone.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{m(n),q()}})},ae=()=>{if(!Y.trim())return;const J=[...p.interface.inputs,Y.trim()];h(n,J,p.interface.outputs)&&B("")},k=J=>{const C=p.interface.inputs.filter(H=>H!==J);h(n,C,p.interface.outputs)},D=()=>{if(!U.trim())return;const J=[...p.interface.outputs,U.trim()];h(n,p.interface.inputs,J)&&$("")},R=J=>{const C=p.interface.outputs.filter(H=>H!==J);h(n,p.interface.inputs,C)},ne=Object.entries(p.variables);return d.jsxs("div",{className:Ni(),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Start Node"}),d.jsx("button",{className:Ci(),onClick:q,children:""})]}),d.jsxs("div",{className:Gf(),children:[d.jsxs("div",{className:Wf(),children:[d.jsx("div",{className:Zf(),style:{backgroundColor:"#22C55E"}}),d.jsxs("div",{className:Qf(),children:[d.jsx("span",{className:Kf(),children:"Workflow"}),d.jsx("h3",{className:Ff(),children:n})]})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Interface Inputs"}),p.interface.inputs.length===0?d.jsx("p",{className:Ll(),children:"No inputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.inputs.map(J=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-blue",children:[J,d.jsx("button",{onClick:()=>k(J),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove input",children:""})]},J))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:T(nr(),"flex-1"),placeholder:"New input name",value:Y,onChange:J=>B(J.target.value),onKeyDown:J=>J.key==="Enter"&&ae()}),d.jsx("button",{className:T(Ml(),"flex-none w-auto"),onClick:ae,children:"Add"})]})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Interface Outputs"}),p.interface.outputs.length===0?d.jsx("p",{className:Ll(),children:"No outputs defined"}):d.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2.5",children:p.interface.outputs.map(J=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-surface-2 rounded text-sm text-accent-violet",children:[J,d.jsx("button",{onClick:()=>R(J),className:"bg-transparent border-none text-text-muted cursor-pointer p-0 text-xs hover:text-text-primary",title:"Remove output",children:""})]},J))}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:T(nr(),"flex-1"),placeholder:"New output name",value:U,onChange:J=>$(J.target.value),onKeyDown:J=>J.key==="Enter"&&D()}),d.jsx("button",{className:T(Ml(),"flex-none w-auto"),onClick:D,children:"Add"})]})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Variables"}),ne.length===0?d.jsx("p",{className:Ll(),children:"No variables defined"}):d.jsx("div",{className:"mb-2.5",children:ne.map(([J,C])=>d.jsx("div",{className:"mb-2",children:w===J?d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("input",{type:"text",className:Nf(),placeholder:"Variable name",value:j,onChange:H=>A(H.target.value)}),d.jsx("input",{type:"text",className:Nf(),placeholder:"Default value",value:O,onChange:H=>V(H.target.value),onKeyDown:H=>H.key==="Enter"&&ue()}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("button",{className:T(Ml(),"flex-1"),onClick:ue,children:"Save"}),d.jsx("button",{className:T(Ml(),"flex-1"),onClick:ie,children:"Cancel"})]})]}):d.jsxs("div",{className:T(kb({editable:!0}),"cursor-pointer"),onClick:()=>le(J,C),children:[d.jsxs("span",{className:"text-accent-green font-mono font-medium",children:["$",J]}),d.jsx("span",{className:"text-text-muted",children:"="}),d.jsx("span",{className:Rb(),children:vx(C)}),d.jsx("button",{onClick:H=>{H.stopPropagation(),se(J)},className:"bg-transparent border-none text-accent-red cursor-pointer px-1 ml-auto text-xs",title:"Delete variable",children:""})]})},J))}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",className:T(nr(),"flex-1"),placeholder:"Variable name",value:y,onChange:J=>b(J.target.value)}),d.jsx("input",{type:"text",className:T(nr(),"flex-1"),placeholder:"Default value",value:S,onChange:J=>E(J.target.value),onKeyDown:J=>J.key==="Enter"&&K()})]}),d.jsx("button",{className:Ml(),onClick:K,children:"Add Variable"})]})]}),n!=="main"&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Danger Zone"}),d.jsx("button",{className:"w-full px-3 py-2 text-sm font-medium bg-accent-red/10 text-accent-red border border-accent-red/30 rounded hover:bg-accent-red/20 transition-colors",onClick:Z,children:"Delete Workflow"})]})]})]})}function vx(n){return n===null?"null":n===void 0?"":typeof n=="string"?n:JSON.stringify(n)}function wx(n){if(!n||n==="")return"";if(n==="null")return null;if(n==="true")return!0;if(n==="false")return!1;try{return JSON.parse(n)}catch{return n}}function cO({className:n}){const{tree:r,source:i,opcodes:o,deleteNode:c,duplicateNode:f,updateNodeInput:h,updateReporterInput:m,deleteReporter:g,addDynamicBranch:p,removeDynamicBranch:y,addDynamicInput:b,removeDynamicInput:S}=lt(),{closeNodeEditor:E}=Ae(),{selectedNodeId:w,selectedReporter:v,selectReporter:j,selectedStartNode:A,selectStartNode:O,clearSelection:V}=nl(),[Y,B]=L.useState(!1);if(A)return d.jsx(sO,{workflowName:A,onClose:()=>{O(null),E()}});const U=w?kl(w):null,$=U?mO(r,U):null,q=v?o.find(oe=>oe.name===v.opcode):$?o.find(oe=>oe.name===$.opcode):null,K=()=>{E(),V()},le=()=>{U&&(navigator.clipboard.writeText(U),B(!0),setTimeout(()=>B(!1),2e3))},ue=()=>{if(v){const oe=`${v.parentNodeId}.${v.inputPath.join(".")}`;navigator.clipboard.writeText(oe),B(!0),setTimeout(()=>B(!1),2e3)}},ie=()=>{if(U){const oe=i.split(`
`);for(let Ne=0;Ne<oe.length;Ne++)if(oe[Ne].includes(U+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Ne+1}}));break}}},se=()=>{if($?.opcode==="workflow_call"){const oe=$.inputs.WORKFLOW;if(oe&&oe.type==="literal"){const Ne=oe.value;Ne&&(window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:Ne}})),E())}}},Z=()=>{U&&U!=="start"&&Ae.getState().showConfirmDialog({title:"Delete Node",message:`Delete node "${U}"? This action can be undone with Ctrl+Z.`,confirmLabel:"Delete",variant:"danger",onConfirm:()=>{c(U),E()}})},ae=()=>{U&&U!=="start"&&f(U)},k=()=>{j(null)},D=(oe,Ne)=>{if(v&&v.reporterNodeId&&m(v.reporterNodeId,oe,Ne)){const Me={...v.inputs};if(Ne.startsWith("$"))Me[oe]={type:"variable",name:Ne.slice(1)};else try{const $e=JSON.parse(Ne);Me[oe]={type:"literal",value:$e}}catch{Me[oe]={type:"literal",value:Ne}}j({...v,inputs:Me})}},R=()=>{v&&Ae.getState().showConfirmDialog({title:"Detach Reporter",message:"Detach this reporter from its slot? The slot will be set to null. This action can be undone with Ctrl+Z.",confirmLabel:"Detach",variant:"danger",onConfirm:()=>{g(v.parentNodeId,v.inputPath),j(null)}})},ne=()=>{if(v){const oe=i.split(`
`);if(v.reporterNodeId){for(let Me=0;Me<oe.length;Me++)if(oe[Me].match(new RegExp(`^\\s+${v.reporterNodeId}:\\s*$`))){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Me+1}}));return}}const Ne=v.inputPath[v.inputPath.length-1];let Le=!1;for(let Me=0;Me<oe.length;Me++){const $e=oe[Me];if($e.includes(v.parentNodeId+":")&&(Le=!0),Le&&$e.includes(Ne+":")){window.dispatchEvent(new CustomEvent("lexflow:goto-line",{detail:{line:Me+1}}));break}}}},J=oe=>{U&&p(U,oe)},C=oe=>{U&&y(U,oe)},H=oe=>{U&&b(U,oe)},P=oe=>{U&&S(U,oe)},re=()=>{if(v&&v.opcode==="workflow_call"){const oe=v.inputs.WORKFLOW;if(oe&&oe.type==="literal"&&typeof oe.value=="string"){const Ne=oe.value;window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:Ne}})),E()}}},xe=oe=>{v?.reporterNodeId&&b(v.reporterNodeId,oe)},ge=oe=>{v?.reporterNodeId&&S(v.reporterNodeId,oe)};if(v)return d.jsx(uO,{reporter:v,parentNode:$,opcodeInfo:q,tree:r,copied:Y,onCopyPath:ue,onBackToNode:k,onClose:K,onUpdateInput:D,onDetach:R,onFindInSource:ne,onGoToDefinition:v.opcode==="workflow_call"?re:void 0,onAddDynamicInput:v.reporterNodeId?xe:void 0,onRemoveDynamicInput:v.reporterNodeId?ge:void 0,className:n});if(!$)return d.jsxs("div",{className:T(Ni(),n),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Node Editor"}),d.jsx("button",{className:Ci(),onClick:K,children:""})]}),d.jsx("div",{className:Mb(),children:d.jsx("p",{children:"Select a node to edit"})})]});const de=Jy($.type),We=YE[$.type]||"Node";return d.jsxs("div",{className:T(Ni(),n),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Node Editor"}),d.jsx("button",{className:Ci(),onClick:K,children:""})]}),d.jsxs("div",{className:Gf(),children:[d.jsxs("div",{className:Wf(),children:[d.jsx("div",{className:Zf(),style:{backgroundColor:de}}),d.jsxs("div",{className:Qf(),children:[d.jsx("span",{className:Kf(),children:We}),d.jsx("h3",{className:Ff(),children:ed($.opcode)}),d.jsx("button",{className:Tb(),onClick:le,title:"Copy node ID",children:Y?" Copied!":`ID: ${$.id}`})]})]}),q?.description&&d.jsx("div",{className:Db(),children:q.description}),d.jsxs("div",{className:Jf(),children:[d.jsx("label",{className:Pf(),children:"Opcode"}),d.jsx("input",{type:"text",value:$.opcode,readOnly:!0,className:nr()})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Inputs"}),Object.entries($.inputs).length===0?d.jsx("p",{className:Ll(),children:"No inputs"}):Object.entries($.inputs).map(([oe,Ne])=>d.jsx(Xb,{name:gs(oe,$.opcode,r,$.inputs),originalKey:oe,value:Ne,paramInfo:q?.parameters.find(Le=>Le.name.toUpperCase()===oe),onUpdate:(Le,Me)=>h(U,Le,Me)},oe))]}),$.opcode==="workflow_call"&&d.jsx("div",{className:ln(),children:d.jsx("button",{className:qb(),onClick:se,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),q&&q.parameters.length>0&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Parameters"}),d.jsx("div",{className:Vb(),children:q.parameters.map(oe=>d.jsxs("div",{className:Bb(),children:[d.jsxs("span",{className:Hb(),children:[oe.name,!oe.required&&d.jsx("span",{className:Ub(),children:"?"})]}),d.jsx("span",{className:Ib(),children:oe.type})]},oe.name))})]}),(()=>{const oe=Ai($.opcode),Ne=oe?.dynamic_branches,Le=oe?.dynamic_inputs,Me=oe?.branches&&oe.branches.length>0;let $e=null;if(Ne&&oe?.branches)for(const _e of oe.branches){const Wt=_e.name.match(/^([A-Z]+)\d+$/);if(Wt){$e=Wt[1];break}}const Mt=$.children.filter(_e=>$e&&_e.name.startsWith($e)).map(_e=>_e.name),Tt=Object.keys($.inputs).filter(_e=>/^ARG\d+$/.test(_e)).sort((_e,Wt)=>{const xn=parseInt(_e.replace("ARG","")),Bt=parseInt(Wt.replace("ARG",""));return xn-Bt}),wt=$.children.length>0||Ne;return d.jsxs(d.Fragment,{children:[wt&&Me&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Branches"}),$.children.length===0&&Ne?d.jsx("p",{className:Ll(),children:"No branches connected"}):$.children.map((_e,Wt)=>{const Bt=$e&&_e.name.startsWith($e)&&Mt.length>1;return d.jsxs("div",{className:rO(),children:[d.jsx("span",{className:iO(),children:_e.name}),d.jsxs("span",{className:oO(),children:[_e.children.length," node(s)"]}),Bt&&d.jsx("button",{className:Ef(),onClick:()=>C(_e.name),title:`Remove ${_e.name}`,children:""})]},Wt)}),Ne&&$e&&d.jsxs("button",{className:jf(),onClick:()=>J($e),children:["+ Add ",$e==="CATCH"?"Catch Handler":"Branch"]})]}),Le&&$.opcode==="workflow_call"&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Arguments"}),Tt.length===0?d.jsx("p",{className:Ll(),children:"No arguments"}):Tt.map(_e=>d.jsxs("div",{className:zb(),children:[d.jsx("span",{className:Lb(),children:_e}),d.jsx("button",{className:Ef(),onClick:()=>P(_e),title:`Remove ${_e}`,children:""})]},_e)),d.jsx("button",{className:jf(),onClick:()=>H("ARG"),children:"+ Add Argument"})]})]})})()]}),d.jsxs("div",{className:Yb(),children:[d.jsx("button",{className:Ml(),onClick:ie,children:"Find in Source"}),d.jsx("button",{className:Ml(),onClick:ae,disabled:U==="start",title:U==="start"?"Cannot duplicate start node":"Duplicate node (Ctrl+D)",children:"Duplicate"}),d.jsx("button",{className:$b(),onClick:Z,disabled:U==="start",title:U==="start"?"Cannot delete start node":"Delete node (Del)",children:"Delete"})]})]})}function uO({reporter:n,parentNode:r,opcodeInfo:i,tree:o,copied:c,onCopyPath:f,onBackToNode:h,onClose:m,onUpdateInput:g,onDetach:p,onFindInSource:y,onGoToDefinition:b,onAddDynamicInput:S,onRemoveDynamicInput:E,className:w}){const v=dO(n.opcode),j=hO(n.opcode),A=n.opcode==="workflow_call",O=Object.keys(n.inputs).filter(B=>/^ARG\d+$/.test(B)).sort((B,U)=>{const $=parseInt(B.replace("ARG","")),q=parseInt(U.replace("ARG",""));return $-q}),Y=Ai(n.opcode)?.dynamic_inputs;return d.jsxs("div",{className:T(Ni(),w),children:[d.jsxs("div",{className:Ei(),children:[d.jsx("span",{className:ji(),children:"Node Editor"}),d.jsx("button",{className:Ci(),onClick:m,children:""})]}),d.jsxs("div",{className:Gf(),children:[r&&d.jsxs("button",{className:tO(),onClick:h,children:[" Back to ",r.id]}),d.jsxs("div",{className:Wf(),children:[d.jsx("div",{className:Zf(),style:{backgroundColor:v}}),d.jsxs("div",{className:Qf(),children:[d.jsx("span",{className:Kf(),children:j}),d.jsx("h3",{className:Ff(),children:ed(n.opcode)}),d.jsx("button",{className:Tb(),onClick:f,title:"Copy reporter ID",children:c?" Copied!":`ID: ${n.reporterNodeId||n.inputPath.join(".")}`})]})]}),i?.description&&d.jsx("div",{className:Db(),children:i.description}),d.jsxs("div",{className:Jf(),children:[d.jsx("label",{className:Pf(),children:"Opcode"}),d.jsx("input",{type:"text",value:n.opcode,readOnly:!0,className:nr()})]}),d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Inputs"}),Object.entries(n.inputs).length===0?d.jsx("p",{className:Ll(),children:"No inputs"}):Object.entries(n.inputs).map(([B,U])=>d.jsx(Xb,{name:gs(B,n.opcode,o,n.inputs),originalKey:B,value:U,paramInfo:i?.parameters.find($=>$.name.toUpperCase()===B),onUpdate:g},B))]}),A&&b&&d.jsx("div",{className:ln(),children:d.jsx("button",{className:qb(),onClick:b,title:"Navigate canvas to the workflow definition",children:"Go to Definition"})}),i&&i.parameters.length>0&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Parameters"}),d.jsx("div",{className:Vb(),children:i.parameters.map(B=>d.jsxs("div",{className:Bb(),children:[d.jsxs("span",{className:Hb(),children:[B.name,!B.required&&d.jsx("span",{className:Ub(),children:"?"})]}),d.jsx("span",{className:Ib(),children:B.type})]},B.name))})]}),Y&&A&&S&&E&&d.jsxs("div",{className:ln(),children:[d.jsx("h4",{className:Nn(),children:"Arguments"}),O.length===0?d.jsx("p",{className:Ll(),children:"No arguments"}):O.map(B=>d.jsxs("div",{className:zb(),children:[d.jsx("span",{className:Lb(),children:gs(B,n.opcode,o,n.inputs)}),d.jsx("button",{className:Ef(),onClick:()=>E(B),title:`Remove ${B}`,children:""})]},B)),d.jsx("button",{className:jf(),onClick:()=>S("ARG"),children:"+ Add Argument"})]})]}),d.jsxs("div",{className:Yb(),children:[d.jsx("button",{className:Ml(),onClick:y,children:"Find in Source"}),d.jsx("button",{className:$b(),onClick:p,title:"Detach reporter from slot (replace with null)",children:"Detach"})]})]})}function Xb({name:n,originalKey:r,value:i,paramInfo:o,onUpdate:c}){const f=r||n,[h,m]=L.useState(!1),[g,p]=L.useState(""),y=fO(i),b=j=>{switch(j.type){case"literal":return typeof j.value=="string"?j.value:JSON.stringify(j.value);case"variable":return`$${j.name}`;default:return y}},S=()=>{(i.type==="literal"||i.type==="variable")&&(p(b(i)),m(!0))},E=()=>{c&&g!==b(i)&&c(f,g),m(!1)},w=j=>{j.key==="Enter"?E():j.key==="Escape"&&m(!1)},v=i.type==="literal"||i.type==="variable";return d.jsxs("div",{className:Jf(),children:[d.jsxs("label",{className:Pf(),children:[n,o&&d.jsx("span",{className:nO(),children:o.type})]}),h?d.jsx("input",{type:"text",className:Nf(),value:g,onChange:j=>p(j.target.value),onBlur:E,onKeyDown:w,autoFocus:!0}):d.jsxs("div",{className:T(kb({editable:v}),"group"),onClick:S,title:v?"Click to edit":void 0,children:[d.jsx("span",{className:lO(),children:i.type}),d.jsx("span",{className:Rb(),children:y}),v&&d.jsx("span",{className:aO(),children:"Click to edit"})]})]})}function fO(n){switch(n.type){case"literal":return typeof n.value=="string"?`"${n.value}"`:typeof n.value=="object"&&n.value!==null?JSON.stringify(n.value,null,2):String(n.value);case"variable":return`$${n.name}`;case"reporter":return`${ed(n.opcode||"")}(...)`;case"workflow_call":return` ${n.name}`;case"branch":return` ${n.target}`;case"dict":return JSON.stringify(n.value,null,2);case"truncated":return n.display||"...";default:return"?"}}function ed(n){return n.replace(/^(control_|data_|io_|operator_|workflow_)/,"").split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}function dO(n){return Py(n)}function hO(n){const r=nb(n);return r?`${r.label} Reporter`:"Reporter"}function mO(n,r){if(!n)return null;function i(o){for(const c of o){if(c.id===r)return c;if(c.children)for(const f of c.children){const h=i(f.children);if(h)return h}}return null}for(const o of n.workflows||[]){const c=i(o.children||[]);if(c)return c;const f=i(o.orphans||[]);if(f)return f}return null}const pO=_("flex flex-col h-full"),gO=_("flex items-center justify-between px-4 py-4 border-b border-border-subtle"),xO=_("text-base font-semibold text-text-primary"),yO=_("w-7 h-7 flex items-center justify-center bg-transparent border-none text-text-muted cursor-pointer rounded-sm hover:text-text-primary hover:bg-surface-2"),bO=_("px-4 py-3 border-b border-border-subtle"),vO=_("w-full px-3 py-2 bg-surface-3 border border-border-subtle rounded-sm text-text-primary text-sm focus:outline-none focus:border-accent-blue placeholder:text-text-muted"),wO=_("flex-1 overflow-y-auto py-2"),SO=_("px-4"),NO=_("text-text-muted text-center py-5 italic"),Qo=_("border-b border-border-subtle"),Ko=_("w-full flex items-center gap-2 px-4 py-2.5 bg-transparent border-none cursor-pointer text-left text-text-primary transition-colors hover:bg-surface-2"),Fo=_("text-base"),Jo=_("flex-1 text-sm font-medium"),Po=_("text-xs text-text-muted px-1.5 py-0.5 bg-border-subtle rounded-sm"),es=_("text-[0.7rem] text-text-muted"),ts=_("py-1 pb-2 bg-surface-2"),EO=_("mx-2"),jO=_("w-full flex flex-col items-start gap-0.5 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-pointer mb-1 transition-all hover:border-accent-blue hover:translate-x-0.5"),CO=_("text-sm font-medium text-text-primary"),AO=_("text-[0.7rem] text-text-muted font-mono"),_O=_("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),OO=_("text-xs text-text-secondary mb-2 leading-relaxed"),MO=_("flex flex-wrap gap-1.5 items-center"),Gb=_("text-[0.7rem] text-text-muted uppercase tracking-wide"),TO=_("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),DO=_("text-text-muted"),kO=_("flex items-center gap-2 px-3 py-2 mx-2 mb-1 bg-surface-1 border border-border-subtle rounded-sm cursor-grab transition-all hover:border-accent-green hover:translate-x-0.5 active:cursor-grabbing"),RO=_("text-sm font-semibold text-accent-green font-mono"),zO=_("text-xs text-text-muted font-mono"),LO=_("text-[0.7rem] text-text-muted ml-auto"),VO=_("px-4 py-3 text-xs text-text-muted italic text-center"),BO=_("mx-2"),HO=_("w-full flex items-center gap-2 px-3 py-2 bg-surface-1 border border-border-subtle rounded-sm cursor-grab mb-1 transition-all hover:border-accent-violet hover:translate-x-0.5 active:cursor-grabbing"),UO=_("text-sm font-semibold text-accent-violet font-mono"),IO=_("text-xs text-text-muted ml-auto"),YO=_("px-3 py-2 -mt-1 mb-1 bg-surface-3 border border-border-subtle border-t-0 rounded-b-sm"),$O=_("flex flex-col gap-1 mb-2"),qO=_("text-xs px-1.5 py-0.5 bg-border-subtle rounded-sm text-text-primary font-mono"),XO=_("text-xs text-text-muted italic mb-2"),GO=_("w-full px-3 py-1.5 text-xs bg-transparent border border-accent-violet rounded-sm text-accent-violet cursor-pointer transition-colors hover:bg-accent-violet/10"),WO=_("px-4 py-3 border-t border-border-subtle"),ZO=_("text-xs text-text-muted text-center");function QO({className:n}){const{opcodes:r,tree:i}=lt(),{togglePalette:o,setDraggingVariable:c,setDraggingWorkflowCall:f}=Ae(),[h,m]=L.useState(""),[g,p]=L.useState("variables"),y=eb(),b=L.useMemo(()=>AE(i),[i]),S=L.useMemo(()=>{if(!i)return[];const v=[];for(const j of i.workflows)for(const[A,O]of Object.entries(j.variables))v.push({name:A,value:O,workflowName:j.name});return v},[i]),E=L.useMemo(()=>{const v={};for(const j of y)v[j.id]=[];v.other=[];for(const j of r){let A=!1;for(const O of y)if(j.name.startsWith(O.prefix)){v[O.id].push(j),A=!0;break}A||v.other.push(j)}return v},[r,y]),w=L.useMemo(()=>{if(!h)return null;const v=h.toLowerCase();return r.filter(j=>j.name.toLowerCase().includes(v)||(j.description?.toLowerCase().includes(v)??!1))},[r,h]);return d.jsxs("div",{className:T(pO(),n),children:[d.jsxs("div",{className:gO(),children:[d.jsx("h2",{className:xO(),children:"Node Palette"}),d.jsx("button",{className:yO(),onClick:o,children:""})]}),d.jsx("div",{className:bO(),children:d.jsx("input",{type:"text",placeholder:"Search nodes...",value:h,onChange:v=>m(v.target.value),className:vO()})}),d.jsx("div",{className:wO(),children:w?d.jsx("div",{className:SO(),children:w.length===0?d.jsx("p",{className:NO(),children:"No nodes found"}):w.map(v=>d.jsx(cf,{opcode:v},v.name))}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:Qo(),children:[d.jsxs("button",{className:Ko(),onClick:()=>p(g==="variables"?null:"variables"),style:{"--cat-color":"#22C55E"},children:[d.jsx("span",{className:Fo(),children:"$"}),d.jsx("span",{className:Jo(),children:"Variables"}),d.jsx("span",{className:Po(),children:S.length}),d.jsx("span",{className:es(),children:g==="variables"?"":""})]}),g==="variables"&&d.jsx("div",{className:ts(),children:S.length===0?d.jsx("div",{className:VO(),children:"No variables defined. Add variables in the Start Node editor."}):S.map(v=>d.jsx(KO,{name:v.name,value:v.value,workflowName:v.workflowName,onDragStart:c,onDragEnd:()=>c(null)},`${v.workflowName}-${v.name}`))})]}),b.length>0&&d.jsxs("div",{className:Qo(),children:[d.jsxs("button",{className:Ko(),onClick:()=>p(g==="workflows"?null:"workflows"),style:{"--cat-color":"#E91E63"},children:[d.jsx("span",{className:Fo(),children:"fn"}),d.jsx("span",{className:Jo(),children:"Workflows"}),d.jsx("span",{className:Po(),children:b.length}),d.jsx("span",{className:es(),children:g==="workflows"?"":""})]}),g==="workflows"&&d.jsx("div",{className:ts(),children:b.map(v=>d.jsx(JO,{name:v.name,params:v.params,onDragStart:f},v.name))})]}),y.map(v=>d.jsxs("div",{className:Qo(),children:[d.jsxs("button",{className:Ko(),onClick:()=>p(g===v.id?null:v.id),style:{"--cat-color":v.color},children:[d.jsx("span",{className:Fo(),children:v.icon}),d.jsx("span",{className:Jo(),children:v.label}),d.jsx("span",{className:Po(),children:E[v.id].length}),d.jsx("span",{className:es(),children:g===v.id?"":""})]}),g===v.id&&d.jsx("div",{className:ts(),children:E[v.id].map(j=>d.jsx(cf,{opcode:j},j.name))})]},v.id)),E.other.length>0&&d.jsxs("div",{className:Qo(),children:[d.jsxs("button",{className:Ko(),onClick:()=>p(g==="other"?null:"other"),style:{"--cat-color":"#64748B"},children:[d.jsx("span",{className:Fo(),children:""}),d.jsx("span",{className:Jo(),children:"Other"}),d.jsx("span",{className:Po(),children:E.other.length}),d.jsx("span",{className:es(),children:g==="other"?"":""})]}),g==="other"&&d.jsx("div",{className:ts(),children:E.other.map(v=>d.jsx(cf,{opcode:v},v.name))})]})]})}),d.jsx("div",{className:WO(),children:d.jsx("p",{className:ZO(),children:"Click to view details  Drag to canvas to add node"})})]})}function cf({opcode:n}){const[r,i]=L.useState(!1),{setDraggingOpcode:o,togglePalette:c}=Ae(),f=L.useRef(!1),h=L.useRef({x:0,y:0}),m=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "),g=p=>{h.current={x:p.clientX,y:p.clientY},f.current=!1;const y=S=>{const E=Math.abs(S.clientX-h.current.x),w=Math.abs(S.clientY-h.current.y);!f.current&&(E>5||w>5)&&(f.current=!0,o(n),c())},b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)};return d.jsxs("div",{className:EO(),children:[d.jsxs("button",{className:jO(),onMouseDown:g,onClick:()=>{f.current||i(!r)},children:[d.jsx("span",{className:CO(),children:m}),d.jsx("span",{className:AO(),children:n.name})]}),r&&d.jsxs("div",{className:_O(),children:[n.description&&d.jsx("p",{className:OO(),children:n.description}),n.parameters.length>0&&d.jsxs("div",{className:MO(),children:[d.jsx("span",{className:Gb(),children:"Parameters:"}),n.parameters.map(p=>d.jsxs("span",{className:TO(),children:[p.name,!p.required&&"?",d.jsxs("span",{className:DO(),children:[": ",p.type]})]},p.name))]})]})]})}function KO({name:n,value:r,workflowName:i,onDragStart:o,onDragEnd:c}){const{togglePalette:f}=Ae(),h=L.useRef(!1),m=L.useRef({x:0,y:0}),g=FO(r),p=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const w=Math.abs(E.clientX-m.current.x),v=Math.abs(E.clientY-m.current.y);!h.current&&(w>5||v>5)&&(h.current=!0,o({name:n,workflowName:i,fromX:0,fromY:0,toX:0,toY:0}),f())},S=()=>{h.current&&c(),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",S)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",S)};return d.jsxs("div",{className:kO(),onMouseDown:p,children:[d.jsxs("span",{className:RO(),children:["$",n]}),d.jsx("span",{className:zO(),children:g}),i!=="main"&&d.jsxs("span",{className:LO(),children:["(",i,")"]})]})}function FO(n){if(n===null)return"null";if(n===void 0)return"undefined";if(typeof n=="string")return n.length>15?`"${n.slice(0,15)}..."`:`"${n}"`;if(typeof n=="object"){const r=JSON.stringify(n);return r.length>15?r.slice(0,15)+"...":r}return String(n)}function JO({name:n,params:r,onDragStart:i}){const{togglePalette:o}=Ae(),[c,f]=L.useState(!1),h=L.useRef(!1),m=L.useRef({x:0,y:0}),g=y=>{y.preventDefault(),m.current={x:y.clientX,y:y.clientY},h.current=!1;const b=E=>{E.preventDefault();const w=Math.abs(E.clientX-m.current.x),v=Math.abs(E.clientY-m.current.y);!h.current&&(w>5||v>5)&&(h.current=!0,i({workflowName:n,params:r}),o())},S=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",S)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",S)},p=y=>{y.stopPropagation(),window.dispatchEvent(new CustomEvent("lexflow:goto-workflow",{detail:{workflowName:n}})),o()};return d.jsxs("div",{className:BO(),children:[d.jsxs("button",{className:HO(),onMouseDown:g,onClick:()=>{h.current||f(!c)},children:[d.jsx("span",{className:UO(),children:n}),d.jsx("span",{className:IO(),children:r.length===0?"(no params)":`(${r.length} params)`})]}),c&&d.jsxs("div",{className:YO(),children:[r.length>0?d.jsxs("div",{className:$O(),children:[d.jsx("span",{className:Gb(),children:"Parameters:"}),r.map((y,b)=>d.jsxs("span",{className:qO(),children:["ARG",b+1,": ",y]},y))]}):d.jsx("p",{className:XO(),children:"This workflow has no input parameters."}),d.jsx("button",{className:GO(),onClick:p,children:"Go to Definition"})]})]})}const Sx=_("fixed pointer-events-none z-[10000] flex flex-col gap-1"),Nx=_("flex flex-col gap-0.5 px-4 py-3 bg-surface-1 border-2 border-accent-blue rounded-sm shadow-xl min-w-[120px]",{variants:{type:{opcode:"border-accent-blue",workflow:"border-[#E91E63]"}},defaultVariants:{type:"opcode"}}),Ex=_("text-sm font-semibold text-text-primary"),jx=_("text-[0.7rem] text-text-muted font-mono"),Cx=_("text-[0.7rem] text-accent-blue text-center font-medium");function Ax(n){const r=document.querySelector("[data-canvas-container] > svg");if(!r)return"main";const{zoom:i,panX:o,panY:c,layoutGroups:f,canvasCenter:h}=Ae.getState();if(f.length===0)return"main";const m=r.getBoundingClientRect(),g=m.width,p=m.height,y=n.clientX-m.left,b=n.clientY-m.top,S=(y-o-g/2)/i+h.x,E=(b-c-p/2)/i+h.y;return xb(f,S,E)||"main"}function PO(){const{draggingOpcode:n,setDraggingOpcode:r,draggingWorkflowCall:i,setDraggingWorkflowCall:o,openNodeEditor:c}=Ae(),{addNode:f,addWorkflowCallNode:h}=lt(),[m,g]=L.useState({x:0,y:0});if(L.useEffect(()=>{if(!i)return;const y=S=>{g({x:S.clientX,y:S.clientY})},b=S=>{const E=S.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&i){const v=Ax(S);h(i.workflowName,i.params,v)&&c()}o(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[i,o,h,c]),L.useEffect(()=>{if(!n)return;const y=S=>{g({x:S.clientX,y:S.clientY})},b=S=>{const E=S.target;if((E.closest("svg")!==null||E.closest('[class*="canvas"]')!==null)&&n){const v=Ax(S);f(n,v)&&c()}r(null)};return window.addEventListener("mousemove",y),window.addEventListener("mouseup",b),()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b)}},[n,r,f,c]),!n&&!i)return null;if(i)return d.jsxs("div",{className:T(Sx()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:T(Nx({type:"workflow"})),children:[d.jsx("span",{className:T(Ex()),children:i.workflowName}),d.jsx("span",{className:T(jx()),children:"workflow_call"})]}),d.jsx("div",{className:T(Cx()),children:"Drop on canvas to add"})]});if(!n)return null;const p=n.name.replace(/^(control_|data_|io_|operator_|list_|dict_|string_|math_|workflow_)/,"").split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return d.jsxs("div",{className:T(Sx()),style:{left:m.x+16,top:m.y+16},children:[d.jsxs("div",{className:T(Nx({type:"opcode"})),children:[d.jsx("span",{className:T(Ex()),children:p}),d.jsx("span",{className:T(jx()),children:n.name})]}),d.jsx("div",{className:T(Cx()),children:"Drop on canvas to add"})]})}function eM(){const n=Ae(r=>r.confirmDialog);return n?d.jsx(Uw,{isOpen:n.isOpen,title:n.title,message:n.message,confirmLabel:n.confirmLabel,cancelLabel:n.cancelLabel,variant:n.variant,onConfirm:n.onConfirm,onCancel:n.onCancel}):null}function tM(){const n=Ae(f=>f.createWorkflowModal),r=Ae(f=>f.hideCreateWorkflowModal),i=lt(f=>f.tree),o=lt(f=>f.addWorkflow),c=i?.workflows.map(f=>f.name)??[];return n?d.jsx(Iw,{isOpen:n.isOpen,existingWorkflowNames:c,onConfirm:f=>{o(f.name,f.inputs,f.outputs,f.variables),r()},onCancel:r}):null}function nM(){const n=Ae(m=>m.extractWorkflowModal),r=Ae(m=>m.hideExtractWorkflowModal),i=lt(m=>m.tree),o=lt(m=>m.extractToWorkflow),c=nl(m=>m.clearMultiSelection),f=Ae(m=>m.showConfirmDialog),h=i?.workflows.map(m=>m.name)??[];return n?d.jsx($w,{isOpen:n.isOpen,existingWorkflowNames:h,nodeIds:n.nodeIds,suggestedInputs:n.suggestedInputs,suggestedOutputs:n.suggestedOutputs,onConfirm:m=>{const g=o(n.nodeIds,n.workflowName,m.name,m.inputs,m.outputs,m.variables);g.success?(c(),r()):f({title:"Extraction Failed",message:g.errors.join(`
`),confirmLabel:"OK",onConfirm:()=>{}})},onCancel:r}):null}function lM(){const{setExamples:n,setOpcodes:r}=lt(),i=vs();return HE(),IE(),L.useEffect(()=>{i.listOpcodes().then(r).catch(console.error),oy(i)&&i.listExamples().then(n).catch(console.error)},[n,r,i]),d.jsxs(d.Fragment,{children:[d.jsx(EE,{canvas:d.jsx(VC,{}),editor:d.jsx(PA,{}),executionPanel:d.jsx(K_,{}),nodeEditor:d.jsx(cO,{}),palette:d.jsx(QO,{})}),d.jsx(PO,{}),d.jsx(eM,{}),d.jsx(tM,{}),d.jsx(nM,{})]})}function aM(){return{apiBaseUrl:"/api",wsUrl:void 0}}const _x=aM(),rM=eE({apiBaseUrl:_x.apiBaseUrl,wsUrl:_x.wsUrl,supportsExamples:!0,supportsWebSocket:!0});m1.createRoot(document.getElementById("root")).render(d.jsx(L.StrictMode,{children:d.jsx(c2,{children:d.jsx(f2,{provider:rM,children:d.jsx(lM,{})})})}));export{_b as a,KA as b,T as c,Ob as d,Ab as e,Cb as f,d as j,L as r};
