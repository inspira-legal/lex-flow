{
  "version": "1.0",
  "categories": [
    {
      "id": "io",
      "label": "I/O Operations",
      "prefix": "io_",
      "color": "#22D3EE",
      "icon": "üì§"
    },
    {
      "id": "operator",
      "label": "Operators",
      "prefix": "operator_",
      "color": "#9C27B0",
      "icon": "‚ö°"
    },
    {
      "id": "math",
      "label": "Math Operations",
      "prefix": "math_",
      "color": "#8B5CF6",
      "icon": "üî¢"
    },
    {
      "id": "string",
      "label": "String Operations",
      "prefix": "string_",
      "color": "#F472B6",
      "icon": "üìù"
    },
    {
      "id": "list",
      "label": "List Operations",
      "prefix": "list_",
      "color": "#3B82F6",
      "icon": "üìã"
    },
    {
      "id": "dict",
      "label": "Dictionary Operations",
      "prefix": "dict_",
      "color": "#F59E0B",
      "icon": "üìñ"
    },
    {
      "id": "object",
      "label": "Object Operations",
      "prefix": "object_",
      "color": "#10B981",
      "icon": "üì¶"
    },
    {
      "id": "type",
      "label": "Type Conversions",
      "prefix": "type_",
      "color": "#6B7280",
      "icon": "üîÑ"
    },
    {
      "id": "throw",
      "label": "Exception Operations",
      "prefix": "throw_",
      "color": "#EF4444",
      "icon": "‚ö†Ô∏è"
    },
    {
      "id": "assert",
      "label": "Assertion Operations",
      "prefix": "assert_",
      "color": "#F97316",
      "icon": "‚úì"
    },
    {
      "id": "workflow",
      "label": "Workflow Operations",
      "prefix": "workflow_",
      "color": "#E91E63",
      "icon": "üîó"
    },
    {
      "id": "data",
      "label": "Data Operations",
      "prefix": "data_",
      "color": "#4CAF50",
      "icon": "üì¶"
    },
    {
      "id": "control",
      "label": "Control Flow",
      "prefix": "control_",
      "color": "#FF9500",
      "icon": "‚Üª"
    },
    {
      "id": "async",
      "label": "Async Operations",
      "prefix": "async_",
      "color": "#06B6D4",
      "icon": "‚è±"
    },
    {
      "id": "pydantic_ai",
      "label": "AI Operations (Pydantic AI)",
      "prefix": "pydantic_ai_",
      "color": "#10B981",
      "icon": "ü§ñ",
      "requires": "ai"
    },
    {
      "id": "http",
      "label": "HTTP Operations",
      "prefix": "http_",
      "color": "#3B82F6",
      "icon": "üåê",
      "requires": "http"
    },
    {
      "id": "html",
      "label": "HTML Operations",
      "prefix": "html_",
      "color": "#E34F26",
      "icon": "üìÑ",
      "requires": "http"
    },
    {
      "id": "json",
      "label": "JSON Operations",
      "prefix": "json_",
      "color": "#F59E0B",
      "icon": "üìã"
    },
    {
      "id": "pygame",
      "label": "Pygame Operations",
      "prefix": "pygame_",
      "color": "#00D86A",
      "icon": "üéÆ",
      "requires": "pygame"
    },
    {
      "id": "rag",
      "label": "RAG Operations",
      "prefix": "rag_",
      "color": "#8B5CF6",
      "icon": "üîç",
      "requires": "rag"
    },
    {
      "id": "chat",
      "label": "Chat Operations",
      "prefix": "chat_",
      "color": "#6366F1",
      "icon": "üí¨"
    },
    {
      "id": "cli",
      "label": "CLI Operations",
      "prefix": "cli_",
      "color": "#EC4899",
      "icon": "üíª"
    },
    {
      "id": "github",
      "label": "GitHub Operations",
      "prefix": "github_",
      "color": "#24292F",
      "icon": "üêô"
    },
    {
      "id": "task",
      "label": "Task Operations",
      "prefix": "task_",
      "color": "#0EA5E9",
      "icon": "‚ö°"
    },
    {
      "id": "channel",
      "label": "Channel Operations",
      "prefix": "channel_",
      "color": "#14B8A6",
      "icon": "üì°"
    },
    {
      "id": "sync",
      "label": "Sync Primitives",
      "prefix": "sync_",
      "color": "#A855F7",
      "icon": "üîí"
    }
  ],
  "constructs": [
    {
      "opcode": "control_if",
      "display_name": "If",
      "ast_class": "If",
      "category": "control",
      "description": "Execute branch if condition is true.",
      "inputs": [
        {
          "name": "CONDITION",
          "type": "expression",
          "label": "Condition",
          "value_type": "bool",
          "required": true
        }
      ],
      "branches": [
        {
          "name": "THEN",
          "label": "Then",
          "color": "#66BB6A",
          "required": true
        }
      ]
    },
    {
      "opcode": "control_if_else",
      "display_name": "If-Else",
      "ast_class": "If",
      "category": "control",
      "description": "Execute then-branch if condition is true, else-branch otherwise.",
      "inputs": [
        {
          "name": "CONDITION",
          "type": "expression",
          "label": "Condition",
          "value_type": "bool",
          "required": true
        }
      ],
      "branches": [
        {
          "name": "THEN",
          "label": "Then",
          "color": "#66BB6A",
          "required": true
        },
        {
          "name": "ELSE",
          "label": "Else",
          "color": "#EF5350",
          "required": true
        }
      ]
    },
    {
      "opcode": "control_while",
      "display_name": "While",
      "ast_class": "While",
      "category": "control",
      "description": "Repeat body while condition is true.",
      "inputs": [
        {
          "name": "CONDITION",
          "type": "expression",
          "label": "Condition",
          "value_type": "bool",
          "required": true
        }
      ],
      "branches": [
        {
          "name": "BODY",
          "label": "Body",
          "color": "#22D3EE",
          "required": true
        }
      ]
    },
    {
      "opcode": "control_for",
      "display_name": "For",
      "ast_class": "For",
      "category": "control",
      "description": "For loop with counter variable.",
      "inputs": [
        {
          "name": "VAR",
          "type": "variable_name",
          "label": "Variable",
          "required": true
        },
        {
          "name": "START",
          "type": "expression",
          "label": "Start",
          "value_type": "int",
          "required": true
        },
        {
          "name": "END",
          "type": "expression",
          "label": "End",
          "value_type": "int",
          "required": true
        },
        {
          "name": "STEP",
          "type": "expression",
          "label": "Step",
          "value_type": "int",
          "required": false,
          "default": 1
        }
      ],
      "branches": [
        {
          "name": "BODY",
          "label": "Body",
          "color": "#22D3EE",
          "required": true
        }
      ]
    },
    {
      "opcode": "control_foreach",
      "display_name": "ForEach",
      "ast_class": "ForEach",
      "category": "control",
      "description": "Iterate over each item in a collection.",
      "inputs": [
        {
          "name": "VAR",
          "type": "variable_name",
          "label": "Variable",
          "required": true
        },
        {
          "name": "ITERABLE",
          "type": "expression",
          "label": "Iterable",
          "value_type": "list",
          "required": true
        }
      ],
      "branches": [
        {
          "name": "BODY",
          "label": "Body",
          "color": "#22D3EE",
          "required": true
        }
      ]
    },
    {
      "opcode": "control_fork",
      "display_name": "Fork",
      "ast_class": "Fork",
      "category": "control",
      "description": "Execute multiple branches concurrently.",
      "inputs": [],
      "branches": [
        {
          "name": "BRANCH1",
          "label": "Branch 1",
          "color": "#9C27B0",
          "required": true
        },
        {
          "name": "BRANCH2",
          "label": "Branch 2",
          "color": "#9C27B0",
          "required": false
        }
      ],
      "dynamic_branches": true
    },
    {
      "opcode": "control_try",
      "display_name": "Try",
      "ast_class": "Try",
      "category": "control",
      "description": "Exception handling with try/catch/finally.",
      "inputs": [],
      "branches": [
        {
          "name": "TRY",
          "label": "Try",
          "color": "#3B82F6",
          "required": true
        },
        {
          "name": "CATCH1",
          "label": "Catch",
          "color": "#F87171",
          "required": false,
          "catch_config": {
            "exception_type": "string",
            "var_name": "string"
          }
        },
        {
          "name": "FINALLY",
          "label": "Finally",
          "color": "#FACC15",
          "required": false
        }
      ],
      "dynamic_branches": true
    },
    {
      "opcode": "control_throw",
      "display_name": "Throw",
      "ast_class": "Throw",
      "category": "control",
      "description": "Raise an exception with a message.",
      "inputs": [
        {
          "name": "VALUE",
          "type": "expression",
          "label": "Message",
          "value_type": "string",
          "required": true
        }
      ],
      "branches": []
    },
    {
      "opcode": "control_spawn",
      "display_name": "Spawn",
      "ast_class": "Spawn",
      "category": "control",
      "description": "Spawn a background task.",
      "inputs": [
        {
          "name": "VAR",
          "type": "variable_name",
          "label": "Task Variable",
          "required": false
        }
      ],
      "branches": [
        {
          "name": "BODY",
          "label": "Body",
          "color": "#22D3EE",
          "required": true
        }
      ]
    },
    {
      "opcode": "control_async_foreach",
      "display_name": "Async ForEach",
      "ast_class": "AsyncForEach",
      "category": "control",
      "description": "Async iteration over a stream or async iterable.",
      "inputs": [
        {
          "name": "VAR",
          "type": "variable_name",
          "label": "Variable",
          "required": true
        },
        {
          "name": "ITERABLE",
          "type": "expression",
          "label": "Async Iterable",
          "value_type": "async_iterable",
          "required": true
        }
      ],
      "branches": [
        {
          "name": "BODY",
          "label": "Body",
          "color": "#22D3EE",
          "required": true
        }
      ]
    },
    {
      "opcode": "async_timeout",
      "display_name": "Timeout",
      "ast_class": "Timeout",
      "category": "async",
      "description": "Execute body with a timeout, with optional fallback.",
      "inputs": [
        {
          "name": "TIMEOUT",
          "type": "expression",
          "label": "Timeout (seconds)",
          "value_type": "float",
          "required": true
        }
      ],
      "branches": [
        {
          "name": "BODY",
          "label": "Body",
          "color": "#22D3EE",
          "required": true
        },
        {
          "name": "ON_TIMEOUT",
          "label": "On Timeout",
          "color": "#FACC15",
          "required": false
        }
      ]
    },
    {
      "opcode": "control_with",
      "display_name": "With",
      "ast_class": "With",
      "category": "control",
      "description": "Async context manager (with statement).",
      "inputs": [
        {
          "name": "RESOURCE",
          "type": "expression",
          "label": "Resource",
          "required": true
        },
        {
          "name": "VAR",
          "type": "variable_name",
          "label": "Variable",
          "required": true
        }
      ],
      "branches": [
        {
          "name": "BODY",
          "label": "Body",
          "color": "#22D3EE",
          "required": true
        }
      ]
    },
    {
      "opcode": "data_set_variable_to",
      "display_name": "Set Variable",
      "ast_class": "Assign",
      "category": "data",
      "description": "Assign a value to a variable.",
      "inputs": [
        {
          "name": "VARIABLE",
          "type": "variable_name",
          "label": "Variable",
          "required": true
        },
        {
          "name": "VALUE",
          "type": "expression",
          "label": "Value",
          "required": true
        }
      ],
      "branches": []
    },
    {
      "opcode": "workflow_return",
      "display_name": "Return",
      "ast_class": "Return",
      "category": "workflow",
      "description": "Return value(s) from workflow.",
      "inputs": [
        {
          "name": "VALUE",
          "type": "expression",
          "label": "Value",
          "required": false
        }
      ],
      "branches": [],
      "dynamic_inputs": true
    },
    {
      "opcode": "workflow_call",
      "display_name": "Call Workflow",
      "ast_class": "ExprStmt",
      "category": "workflow",
      "description": "Call another workflow by name.",
      "inputs": [
        {
          "name": "WORKFLOW",
          "type": "variable_name",
          "label": "Workflow Name",
          "required": true
        }
      ],
      "branches": [],
      "dynamic_inputs": true
    },
    {
      "opcode": "workflow_start",
      "display_name": "Start",
      "ast_class": null,
      "category": "workflow",
      "description": "Entry point for workflow execution.",
      "inputs": [],
      "branches": []
    }
  ],
  "branch_colors": {
    "THEN": "#34D399",
    "ELSE": "#F87171",
    "BODY": "#22D3EE",
    "TRY": "#3B82F6",
    "CATCH": "#F87171",
    "FINALLY": "#FACC15",
    "ON_TIMEOUT": "#FACC15",
    "BRANCH": "#9C27B0",
    "default": "#9C27B0"
  },
  "node_colors": {
    "control_flow": "#FF9500",
    "data": "#4CAF50",
    "io": "#22D3EE",
    "operator": "#9C27B0",
    "workflow_op": "#E91E63",
    "opcode": "#64748B"
  },
  "reporter_colors": {
    "data": "#4CAF50",
    "operator": "#9C27B0",
    "io": "#22D3EE",
    "workflow": "#E91E63",
    "default": "#64748B"
  }
}
